(self.webpackChunk_N_E = self.webpackChunk_N_E || []).push([[888], { 19485: function (e, t, n) { "use strict"; n.d(t, { Kn: function () { return f }, CR: function () { return m }, UJ: function () { return p } }); var r = n(16441), i = n(2593), o = n(38197), s = n(59052); const a = new (n(1581).Yd)("address/5.7.0"); function c(e) { (0, r.A7)(e, 20) || a.throwArgumentError("invalid address", "address", e); const t = (e = e.toLowerCase()).substring(2).split(""), n = new Uint8Array(40); for (let r = 0; r < 40; r++)n[r] = t[r].charCodeAt(0); const i = (0, r.lE)((0, o.w)(n)); for (let r = 0; r < 40; r += 2)i[r >> 1] >> 4 >= 8 && (t[r] = t[r].toUpperCase()), (15 & i[r >> 1]) >= 8 && (t[r + 1] = t[r + 1].toUpperCase()); return "0x" + t.join("") } const l = {}; for (let g = 0; g < 10; g++)l[String(g)] = String(g); for (let g = 0; g < 26; g++)l[String.fromCharCode(65 + g)] = String(10 + g); const u = Math.floor((d = 9007199254740991, Math.log10 ? Math.log10(d) : Math.log(d) / Math.LN10)); var d; function h(e) { let t = (e = (e = e.toUpperCase()).substring(4) + e.substring(0, 2) + "00").split("").map((e => l[e])).join(""); for (; t.length >= u;) { let e = t.substring(0, u); t = parseInt(e, 10) % 97 + t.substring(e.length) } let n = String(98 - parseInt(t, 10) % 97); for (; n.length < 2;)n = "0" + n; return n } function f(e) { let t = null; if ("string" !== typeof e && a.throwArgumentError("invalid address", "address", e), e.match(/^(0x)?[0-9a-fA-F]{40}$/)) "0x" !== e.substring(0, 2) && (e = "0x" + e), t = c(e), e.match(/([A-F].*[a-f])|([a-f].*[A-F])/) && t !== e && a.throwArgumentError("bad address checksum", "address", e); else if (e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)) { for (e.substring(2, 4) !== h(e) && a.throwArgumentError("bad icap checksum", "address", e), t = (0, i.g$)(e.substring(4)); t.length < 40;)t = "0" + t; t = c("0x" + t) } else a.throwArgumentError("invalid address", "address", e); return t } function p(e) { try { return f(e), !0 } catch (t) { } return !1 } function m(e) { let t = null; try { t = f(e.from) } catch (c) { a.throwArgumentError("missing from address", "transaction", e) } const n = (0, r.G1)((0, r.lE)(i.O$.from(e.nonce).toHexString())); return f((0, r.p3)((0, o.w)((0, s.c)([t, n])), 12)) } }, 48794: function (e, t, n) { "use strict"; n.d(t, { i: function () { return r } }); const r = "bignumber/5.7.0" }, 2593: function (e, t, n) { "use strict"; n.d(t, { Zm: function () { return h }, O$: function () { return p }, g$: function () { return v } }); var r = n(13550), i = n.n(r), o = n(16441), s = n(1581), a = n(48794), c = i().BN; const l = new s.Yd(a.i), u = {}, d = 9007199254740991; function h(e) { return null != e && (p.isBigNumber(e) || "number" === typeof e && e % 1 === 0 || "string" === typeof e && !!e.match(/^-?[0-9]+$/) || (0, o.A7)(e) || "bigint" === typeof e || (0, o._t)(e)) } let f = !1; class p { constructor(e, t) { e !== u && l.throwError("cannot call constructor directly; use BigNumber.from", s.Yd.errors.UNSUPPORTED_OPERATION, { operation: "new (BigNumber)" }), this._hex = t, this._isBigNumber = !0, Object.freeze(this) } fromTwos(e) { return g(y(this).fromTwos(e)) } toTwos(e) { return g(y(this).toTwos(e)) } abs() { return "-" === this._hex[0] ? p.from(this._hex.substring(1)) : this } add(e) { return g(y(this).add(y(e))) } sub(e) { return g(y(this).sub(y(e))) } div(e) { return p.from(e).isZero() && b("division-by-zero", "div"), g(y(this).div(y(e))) } mul(e) { return g(y(this).mul(y(e))) } mod(e) { const t = y(e); return t.isNeg() && b("division-by-zero", "mod"), g(y(this).umod(t)) } pow(e) { const t = y(e); return t.isNeg() && b("negative-power", "pow"), g(y(this).pow(t)) } and(e) { const t = y(e); return (this.isNegative() || t.isNeg()) && b("unbound-bitwise-result", "and"), g(y(this).and(t)) } or(e) { const t = y(e); return (this.isNegative() || t.isNeg()) && b("unbound-bitwise-result", "or"), g(y(this).or(t)) } xor(e) { const t = y(e); return (this.isNegative() || t.isNeg()) && b("unbound-bitwise-result", "xor"), g(y(this).xor(t)) } mask(e) { return (this.isNegative() || e < 0) && b("negative-width", "mask"), g(y(this).maskn(e)) } shl(e) { return (this.isNegative() || e < 0) && b("negative-width", "shl"), g(y(this).shln(e)) } shr(e) { return (this.isNegative() || e < 0) && b("negative-width", "shr"), g(y(this).shrn(e)) } eq(e) { return y(this).eq(y(e)) } lt(e) { return y(this).lt(y(e)) } lte(e) { return y(this).lte(y(e)) } gt(e) { return y(this).gt(y(e)) } gte(e) { return y(this).gte(y(e)) } isNegative() { return "-" === this._hex[0] } isZero() { return y(this).isZero() } toNumber() { try { return y(this).toNumber() } catch (e) { b("overflow", "toNumber", this.toString()) } return null } toBigInt() { try { return BigInt(this.toString()) } catch (e) { } return l.throwError("this platform does not support BigInt", s.Yd.errors.UNSUPPORTED_OPERATION, { value: this.toString() }) } toString() { return arguments.length > 0 && (10 === arguments[0] ? f || (f = !0, l.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")) : 16 === arguments[0] ? l.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()", s.Yd.errors.UNEXPECTED_ARGUMENT, {}) : l.throwError("BigNumber.toString does not accept parameters", s.Yd.errors.UNEXPECTED_ARGUMENT, {})), y(this).toString(10) } toHexString() { return this._hex } toJSON(e) { return { type: "BigNumber", hex: this.toHexString() } } static from(e) { if (e instanceof p) return e; if ("string" === typeof e) return e.match(/^-?0x[0-9a-f]+$/i) ? new p(u, m(e)) : e.match(/^-?[0-9]+$/) ? new p(u, m(new c(e))) : l.throwArgumentError("invalid BigNumber string", "value", e); if ("number" === typeof e) return e % 1 && b("underflow", "BigNumber.from", e), (e >= d || e <= -d) && b("overflow", "BigNumber.from", e), p.from(String(e)); const t = e; if ("bigint" === typeof t) return p.from(t.toString()); if ((0, o._t)(t)) return p.from((0, o.Dv)(t)); if (t) if (t.toHexString) { const e = t.toHexString(); if ("string" === typeof e) return p.from(e) } else { let e = t._hex; if (null == e && "BigNumber" === t.type && (e = t.hex), "string" === typeof e && ((0, o.A7)(e) || "-" === e[0] && (0, o.A7)(e.substring(1)))) return p.from(e) } return l.throwArgumentError("invalid BigNumber value", "value", e) } static isBigNumber(e) { return !(!e || !e._isBigNumber) } } function m(e) { if ("string" !== typeof e) return m(e.toString(16)); if ("-" === e[0]) return "-" === (e = e.substring(1))[0] && l.throwArgumentError("invalid hex", "value", e), "0x00" === (e = m(e)) ? e : "-" + e; if ("0x" !== e.substring(0, 2) && (e = "0x" + e), "0x" === e) return "0x00"; for (e.length % 2 && (e = "0x0" + e.substring(2)); e.length > 4 && "0x00" === e.substring(0, 4);)e = "0x" + e.substring(4); return e } function g(e) { return p.from(m(e)) } function y(e) { const t = p.from(e).toHexString(); return "-" === t[0] ? new c("-" + t.substring(3), 16) : new c(t.substring(2), 16) } function b(e, t, n) { const r = { fault: e, operation: t }; return null != n && (r.value = n), l.throwError(e, s.Yd.errors.NUMERIC_FAULT, r) } function v(e) { return new c(e, 36).toString(16) } }, 16441: function (e, t, n) { "use strict"; n.d(t, { lE: function () { return l }, zo: function () { return u }, xs: function () { return y }, E1: function () { return m }, p3: function () { return g }, $P: function () { return b }, $m: function () { return v }, Dv: function () { return p }, _t: function () { return c }, Zq: function () { return s }, A7: function () { return h }, N: function () { return w }, G1: function () { return d } }); const r = new (n(1581).Yd)("bytes/5.7.0"); function i(e) { return !!e.toHexString } function o(e) { return e.slice || (e.slice = function () { const t = Array.prototype.slice.call(arguments); return o(new Uint8Array(Array.prototype.slice.apply(e, t))) }), e } function s(e) { return h(e) && !(e.length % 2) || c(e) } function a(e) { return "number" === typeof e && e == e && e % 1 === 0 } function c(e) { if (null == e) return !1; if (e.constructor === Uint8Array) return !0; if ("string" === typeof e) return !1; if (!a(e.length) || e.length < 0) return !1; for (let t = 0; t < e.length; t++) { const n = e[t]; if (!a(n) || n < 0 || n >= 256) return !1 } return !0 } function l(e, t) { if (t || (t = {}), "number" === typeof e) { r.checkSafeUint53(e, "invalid arrayify value"); const t = []; for (; e;)t.unshift(255 & e), e = parseInt(String(e / 256)); return 0 === t.length && t.push(0), o(new Uint8Array(t)) } if (t.allowMissingPrefix && "string" === typeof e && "0x" !== e.substring(0, 2) && (e = "0x" + e), i(e) && (e = e.toHexString()), h(e)) { let n = e.substring(2); n.length % 2 && ("left" === t.hexPad ? n = "0" + n : "right" === t.hexPad ? n += "0" : r.throwArgumentError("hex data is odd-length", "value", e)); const i = []; for (let e = 0; e < n.length; e += 2)i.push(parseInt(n.substring(e, e + 2), 16)); return o(new Uint8Array(i)) } return c(e) ? o(new Uint8Array(e)) : r.throwArgumentError("invalid arrayify value", "value", e) } function u(e) { const t = e.map((e => l(e))), n = t.reduce(((e, t) => e + t.length), 0), r = new Uint8Array(n); return t.reduce(((e, t) => (r.set(t, e), e + t.length)), 0), o(r) } function d(e) { let t = l(e); if (0 === t.length) return t; let n = 0; for (; n < t.length && 0 === t[n];)n++; return n && (t = t.slice(n)), t } function h(e, t) { return !("string" !== typeof e || !e.match(/^0x[0-9A-Fa-f]*$/)) && (!t || e.length === 2 + 2 * t) } const f = "0123456789abcdef"; function p(e, t) { if (t || (t = {}), "number" === typeof e) { r.checkSafeUint53(e, "invalid hexlify value"); let t = ""; for (; e;)t = f[15 & e] + t, e = Math.floor(e / 16); return t.length ? (t.length % 2 && (t = "0" + t), "0x" + t) : "0x00" } if ("bigint" === typeof e) return (e = e.toString(16)).length % 2 ? "0x0" + e : "0x" + e; if (t.allowMissingPrefix && "string" === typeof e && "0x" !== e.substring(0, 2) && (e = "0x" + e), i(e)) return e.toHexString(); if (h(e)) return e.length % 2 && ("left" === t.hexPad ? e = "0x0" + e.substring(2) : "right" === t.hexPad ? e += "0" : r.throwArgumentError("hex data is odd-length", "value", e)), e.toLowerCase(); if (c(e)) { let t = "0x"; for (let n = 0; n < e.length; n++) { let r = e[n]; t += f[(240 & r) >> 4] + f[15 & r] } return t } return r.throwArgumentError("invalid hexlify value", "value", e) } function m(e) { if ("string" !== typeof e) e = p(e); else if (!h(e) || e.length % 2) return null; return (e.length - 2) / 2 } function g(e, t, n) { return "string" !== typeof e ? e = p(e) : (!h(e) || e.length % 2) && r.throwArgumentError("invalid hexData", "value", e), t = 2 + 2 * t, null != n ? "0x" + e.substring(t, 2 + 2 * n) : "0x" + e.substring(t) } function y(e) { let t = "0x"; return e.forEach((e => { t += p(e).substring(2) })), t } function b(e) { const t = function (e) { "string" !== typeof e && (e = p(e)); h(e) || r.throwArgumentError("invalid hex string", "value", e); e = e.substring(2); let t = 0; for (; t < e.length && "0" === e[t];)t++; return "0x" + e.substring(t) }(p(e, { hexPad: "left" })); return "0x" === t ? "0x0" : t } function v(e, t) { for ("string" !== typeof e ? e = p(e) : h(e) || r.throwArgumentError("invalid hex string", "value", e), e.length > 2 * t + 2 && r.throwArgumentError("value out of range", "value", arguments[1]); e.length < 2 * t + 2;)e = "0x0" + e.substring(2); return e } function w(e) { const t = { r: "0x", s: "0x", _vs: "0x", recoveryParam: 0, v: 0, yParityAndS: "0x", compact: "0x" }; if (s(e)) { let n = l(e); 64 === n.length ? (t.v = 27 + (n[32] >> 7), n[32] &= 127, t.r = p(n.slice(0, 32)), t.s = p(n.slice(32, 64))) : 65 === n.length ? (t.r = p(n.slice(0, 32)), t.s = p(n.slice(32, 64)), t.v = n[64]) : r.throwArgumentError("invalid signature string", "signature", e), t.v < 27 && (0 === t.v || 1 === t.v ? t.v += 27 : r.throwArgumentError("signature invalid v byte", "signature", e)), t.recoveryParam = 1 - t.v % 2, t.recoveryParam && (n[32] |= 128), t._vs = p(n.slice(32, 64)) } else { if (t.r = e.r, t.s = e.s, t.v = e.v, t.recoveryParam = e.recoveryParam, t._vs = e._vs, null != t._vs) { const n = function (e, t) { (e = l(e)).length > t && r.throwArgumentError("value out of range", "value", arguments[0]); const n = new Uint8Array(t); return n.set(e, t - e.length), o(n) }(l(t._vs), 32); t._vs = p(n); const i = n[0] >= 128 ? 1 : 0; null == t.recoveryParam ? t.recoveryParam = i : t.recoveryParam !== i && r.throwArgumentError("signature recoveryParam mismatch _vs", "signature", e), n[0] &= 127; const s = p(n); null == t.s ? t.s = s : t.s !== s && r.throwArgumentError("signature v mismatch _vs", "signature", e) } if (null == t.recoveryParam) null == t.v ? r.throwArgumentError("signature missing v and recoveryParam", "signature", e) : 0 === t.v || 1 === t.v ? t.recoveryParam = t.v : t.recoveryParam = 1 - t.v % 2; else if (null == t.v) t.v = 27 + t.recoveryParam; else { const n = 0 === t.v || 1 === t.v ? t.v : 1 - t.v % 2; t.recoveryParam !== n && r.throwArgumentError("signature recoveryParam mismatch v", "signature", e) } null != t.r && h(t.r) ? t.r = v(t.r, 32) : r.throwArgumentError("signature missing or invalid r", "signature", e), null != t.s && h(t.s) ? t.s = v(t.s, 32) : r.throwArgumentError("signature missing or invalid s", "signature", e); const n = l(t.s); n[0] >= 128 && r.throwArgumentError("signature s out of range", "signature", e), t.recoveryParam && (n[0] |= 128); const i = p(n); t._vs && (h(t._vs) || r.throwArgumentError("signature invalid _vs", "signature", e), t._vs = v(t._vs, 32)), null == t._vs ? t._vs = i : t._vs !== i && r.throwArgumentError("signature _vs mismatch v and s", "signature", e) } return t.yParityAndS = t._vs, t.compact = t.r + t.yParityAndS.substring(2), t } }, 38197: function (e, t, n) { "use strict"; n.d(t, { w: function () { return s } }); var r = n(91094), i = n.n(r), o = n(16441); function s(e) { return "0x" + i().keccak_256((0, o.lE)(e)) } }, 1581: function (e, t, n) { "use strict"; n.d(t, { jK: function () { return u }, Yd: function () { return h } }); let r = !1, i = !1; const o = { debug: 1, default: 2, info: 2, warning: 3, error: 4, off: 5 }; let s = o.default, a = null; const c = function () { try { const e = []; if (["NFD", "NFC", "NFKD", "NFKC"].forEach((t => { try { if ("test" !== "test".normalize(t)) throw new Error("bad normalize") } catch (n) { e.push(t) } })), e.length) throw new Error("missing " + e.join(", ")); if (String.fromCharCode(233).normalize("NFD") !== String.fromCharCode(101, 769)) throw new Error("broken implementation") } catch (e) { return e.message } return null }(); var l, u; !function (e) { e.DEBUG = "DEBUG", e.INFO = "INFO", e.WARNING = "WARNING", e.ERROR = "ERROR", e.OFF = "OFF" }(l || (l = {})), function (e) { e.UNKNOWN_ERROR = "UNKNOWN_ERROR", e.NOT_IMPLEMENTED = "NOT_IMPLEMENTED", e.UNSUPPORTED_OPERATION = "UNSUPPORTED_OPERATION", e.NETWORK_ERROR = "NETWORK_ERROR", e.SERVER_ERROR = "SERVER_ERROR", e.TIMEOUT = "TIMEOUT", e.BUFFER_OVERRUN = "BUFFER_OVERRUN", e.NUMERIC_FAULT = "NUMERIC_FAULT", e.MISSING_NEW = "MISSING_NEW", e.INVALID_ARGUMENT = "INVALID_ARGUMENT", e.MISSING_ARGUMENT = "MISSING_ARGUMENT", e.UNEXPECTED_ARGUMENT = "UNEXPECTED_ARGUMENT", e.CALL_EXCEPTION = "CALL_EXCEPTION", e.INSUFFICIENT_FUNDS = "INSUFFICIENT_FUNDS", e.NONCE_EXPIRED = "NONCE_EXPIRED", e.REPLACEMENT_UNDERPRICED = "REPLACEMENT_UNDERPRICED", e.UNPREDICTABLE_GAS_LIMIT = "UNPREDICTABLE_GAS_LIMIT", e.TRANSACTION_REPLACED = "TRANSACTION_REPLACED", e.ACTION_REJECTED = "ACTION_REJECTED" }(u || (u = {})); const d = "0123456789abcdef"; class h { constructor(e) { Object.defineProperty(this, "version", { enumerable: !0, value: e, writable: !1 }) } _log(e, t) { const n = e.toLowerCase(); null == o[n] && this.throwArgumentError("invalid log level name", "logLevel", e), s > o[n] || console.log.apply(console, t) } debug(...e) { this._log(h.levels.DEBUG, e) } info(...e) { this._log(h.levels.INFO, e) } warn(...e) { this._log(h.levels.WARNING, e) } makeError(e, t, n) { if (i) return this.makeError("censored error", t, {}); t || (t = h.errors.UNKNOWN_ERROR), n || (n = {}); const r = []; Object.keys(n).forEach((e => { const t = n[e]; try { if (t instanceof Uint8Array) { let n = ""; for (let e = 0; e < t.length; e++)n += d[t[e] >> 4], n += d[15 & t[e]]; r.push(e + "=Uint8Array(0x" + n + ")") } else r.push(e + "=" + JSON.stringify(t)) } catch (a) { r.push(e + "=" + JSON.stringify(n[e].toString())) } })), r.push(`code=${t}`), r.push(`version=${this.version}`); const o = e; let s = ""; switch (t) { case u.NUMERIC_FAULT: { s = "NUMERIC_FAULT"; const t = e; switch (t) { case "overflow": case "underflow": case "division-by-zero": s += "-" + t; break; case "negative-power": case "negative-width": s += "-unsupported"; break; case "unbound-bitwise-result": s += "-unbound-result" }break } case u.CALL_EXCEPTION: case u.INSUFFICIENT_FUNDS: case u.MISSING_NEW: case u.NONCE_EXPIRED: case u.REPLACEMENT_UNDERPRICED: case u.TRANSACTION_REPLACED: case u.UNPREDICTABLE_GAS_LIMIT: s = t }s && (e += " [ See: https://links.ethers.org/v5-errors-" + s + " ]"), r.length && (e += " (" + r.join(", ") + ")"); const a = new Error(e); return a.reason = o, a.code = t, Object.keys(n).forEach((function (e) { a[e] = n[e] })), a } throwError(e, t, n) { throw this.makeError(e, t, n) } throwArgumentError(e, t, n) { return this.throwError(e, h.errors.INVALID_ARGUMENT, { argument: t, value: n }) } assert(e, t, n, r) { e || this.throwError(t, n, r) } assertArgument(e, t, n, r) { e || this.throwArgumentError(t, n, r) } checkNormalize(e) { null == e && (e = "platform missing String.prototype.normalize"), c && this.throwError("platform missing String.prototype.normalize", h.errors.UNSUPPORTED_OPERATION, { operation: "String.prototype.normalize", form: c }) } checkSafeUint53(e, t) { "number" === typeof e && (null == t && (t = "value not safe"), (e < 0 || e >= 9007199254740991) && this.throwError(t, h.errors.NUMERIC_FAULT, { operation: "checkSafeInteger", fault: "out-of-safe-range", value: e }), e % 1 && this.throwError(t, h.errors.NUMERIC_FAULT, { operation: "checkSafeInteger", fault: "non-integer", value: e })) } checkArgumentCount(e, t, n) { n = n ? ": " + n : "", e < t && this.throwError("missing argument" + n, h.errors.MISSING_ARGUMENT, { count: e, expectedCount: t }), e > t && this.throwError("too many arguments" + n, h.errors.UNEXPECTED_ARGUMENT, { count: e, expectedCount: t }) } checkNew(e, t) { e !== Object && null != e || this.throwError("missing new", h.errors.MISSING_NEW, { name: t.name }) } checkAbstract(e, t) { e === t ? this.throwError("cannot instantiate abstract class " + JSON.stringify(t.name) + " directly; use a sub-class", h.errors.UNSUPPORTED_OPERATION, { name: e.name, operation: "new" }) : e !== Object && null != e || this.throwError("missing new", h.errors.MISSING_NEW, { name: t.name }) } static globalLogger() { return a || (a = new h("logger/5.7.0")), a } static setCensorship(e, t) { if (!e && t && this.globalLogger().throwError("cannot permanently disable censorship", h.errors.UNSUPPORTED_OPERATION, { operation: "setCensorship" }), r) { if (!e) return; this.globalLogger().throwError("error censorship permanent", h.errors.UNSUPPORTED_OPERATION, { operation: "setCensorship" }) } i = !!e, r = !!t } static setLogLevel(e) { const t = o[e.toLowerCase()]; null != t ? s = t : h.globalLogger().warn("invalid log level - " + e) } static from(e) { return new h(e) } } h.errors = u, h.levels = l }, 59052: function (e, t, n) { "use strict"; n.d(t, { J: function () { return h }, c: function () { return l } }); var r = n(16441), i = n(1581); const o = new i.Yd("rlp/5.7.0"); function s(e) { const t = []; for (; e;)t.unshift(255 & e), e >>= 8; return t } function a(e, t, n) { let r = 0; for (let i = 0; i < n; i++)r = 256 * r + e[t + i]; return r } function c(e) { if (Array.isArray(e)) { let t = []; if (e.forEach((function (e) { t = t.concat(c(e)) })), t.length <= 55) return t.unshift(192 + t.length), t; const n = s(t.length); return n.unshift(247 + n.length), n.concat(t) } (0, r.Zq)(e) || o.throwArgumentError("RLP object must be BytesLike", "object", e); const t = Array.prototype.slice.call((0, r.lE)(e)); if (1 === t.length && t[0] <= 127) return t; if (t.length <= 55) return t.unshift(128 + t.length), t; const n = s(t.length); return n.unshift(183 + n.length), n.concat(t) } function l(e) { return (0, r.Dv)(c(e)) } function u(e, t, n, r) { const s = []; for (; n < t + 1 + r;) { const a = d(e, n); s.push(a.result), (n += a.consumed) > t + 1 + r && o.throwError("child data too short", i.Yd.errors.BUFFER_OVERRUN, {}) } return { consumed: 1 + r, result: s } } function d(e, t) { if (0 === e.length && o.throwError("data too short", i.Yd.errors.BUFFER_OVERRUN, {}), e[t] >= 248) { const n = e[t] - 247; t + 1 + n > e.length && o.throwError("data short segment too short", i.Yd.errors.BUFFER_OVERRUN, {}); const r = a(e, t + 1, n); return t + 1 + n + r > e.length && o.throwError("data long segment too short", i.Yd.errors.BUFFER_OVERRUN, {}), u(e, t, t + 1 + n, n + r) } if (e[t] >= 192) { const n = e[t] - 192; return t + 1 + n > e.length && o.throwError("data array too short", i.Yd.errors.BUFFER_OVERRUN, {}), u(e, t, t + 1, n) } if (e[t] >= 184) { const n = e[t] - 183; t + 1 + n > e.length && o.throwError("data array too short", i.Yd.errors.BUFFER_OVERRUN, {}); const s = a(e, t + 1, n); t + 1 + n + s > e.length && o.throwError("data array too short", i.Yd.errors.BUFFER_OVERRUN, {}); return { consumed: 1 + n + s, result: (0, r.Dv)(e.slice(t + 1 + n, t + 1 + n + s)) } } if (e[t] >= 128) { const n = e[t] - 128; t + 1 + n > e.length && o.throwError("data too short", i.Yd.errors.BUFFER_OVERRUN, {}); return { consumed: 1 + n, result: (0, r.Dv)(e.slice(t + 1, t + 1 + n)) } } return { consumed: 1, result: (0, r.Dv)(e[t]) } } function h(e) { const t = (0, r.lE)(e), n = d(t, 0); return n.consumed !== t.length && o.throwArgumentError("invalid rlp data", "data", e), n.result } }, 94493: function (e, t, n) { "use strict"; var r = this && this.__rest || function (e, t) { var n = {}; for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]); if (null != e && "function" === typeof Object.getOwnPropertySymbols) { var i = 0; for (r = Object.getOwnPropertySymbols(e); i < r.length; i++)t.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[i]) && (n[r[i]] = e[r[i]]) } return n }, i = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, "__esModule", { value: !0 }), t.CoinbaseWalletProvider = void 0; const o = i(n(33001)), s = n(83790), a = n(67684), c = n(101), l = n(96589), u = n(69839), d = n(51720), h = n(29716), f = n(36219), p = n(97458); class m extends o.default { constructor(e) { var t, n, { metadata: i } = e, o = e.preference, { keysUrl: a } = o, f = r(o, ["keysUrl"]); super(), this.accounts = [], this.handlers = { handshake: async e => { try { if (this.connected) return this.emit("connect", { chainId: (0, l.hexStringFromIntNumber)((0, c.IntNumber)(this.chain.id)) }), this.accounts; const e = await this.requestSignerSelection(), t = this.initSigner(e), n = await t.handshake(); return this.signer = t, (0, u.storeSignerType)(e), this.emit("connect", { chainId: (0, l.hexStringFromIntNumber)((0, c.IntNumber)(this.chain.id)) }), n } catch (t) { throw this.handleUnauthorizedError(t), t } }, sign: async e => { if (!this.connected || !this.signer) throw s.standardErrors.provider.unauthorized("Must call 'eth_requestAccounts' before other methods"); try { return await this.signer.request(e) } catch (t) { throw this.handleUnauthorizedError(t), t } }, fetch: e => (0, d.fetchRPCRequest)(e, this.chain), state: e => { const t = () => { if (this.connected) return this.accounts; throw s.standardErrors.provider.unauthorized("Must call 'eth_requestAccounts' before other methods") }; switch (e.method) { case "eth_chainId": return (0, l.hexStringFromIntNumber)((0, c.IntNumber)(this.chain.id)); case "net_version": return this.chain.id; case "eth_accounts": return t(); case "eth_coinbase": return t()[0]; default: return this.handlers.unsupported(e) } }, deprecated: ({ method: e }) => { throw s.standardErrors.rpc.methodNotSupported(`Method ${e} is deprecated.`) }, unsupported: ({ method: e }) => { throw s.standardErrors.rpc.methodNotSupported(`Method ${e} is not supported.`) } }, this.isCoinbaseWallet = !0, this.updateListener = { onAccountsUpdate: ({ accounts: e, source: t }) => { (0, l.areAddressArraysEqual)(this.accounts, e) || (this.accounts = e, "storage" !== t && this.emit("accountsChanged", this.accounts)) }, onChainUpdate: ({ chain: e, source: t }) => { e.id === this.chain.id && e.rpcUrl === this.chain.rpcUrl || (this.chain = e, "storage" !== t && this.emit("chainChanged", (0, l.hexStringFromIntNumber)((0, c.IntNumber)(e.id)))) } }, this.metadata = i, this.preference = f, this.communicator = new h.Communicator(a), this.chain = { id: null !== (n = null === (t = i.appChainIds) || void 0 === t ? void 0 : t[0]) && void 0 !== n ? n : 1 }; const p = (0, u.loadSignerType)(); this.signer = p ? this.initSigner(p) : null } get connected() { return this.accounts.length > 0 } async request(e) { var t; try { const n = (0, d.checkErrorForInvalidRequestArgs)(e); if (n) throw n; const r = null !== (t = (0, f.determineMethodCategory)(e.method)) && void 0 !== t ? t : "fetch"; return this.handlers[r](e) } catch (n) { return Promise.reject((0, a.serializeError)(n, e.method)) } } handleUnauthorizedError(e) { e.code === s.standardErrorCodes.provider.unauthorized && this.disconnect() } async enable() { return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'), await this.request({ method: "eth_requestAccounts" }) } async disconnect() { this.accounts = [], this.chain = { id: 1 }, p.ScopedLocalStorage.clearAll(), this.emit("disconnect", s.standardErrors.provider.disconnected("User initiated disconnection")) } requestSignerSelection() { return (0, u.fetchSignerType)({ communicator: this.communicator, preference: this.preference, metadata: this.metadata }) } initSigner(e) { return (0, u.createSigner)({ signerType: e, metadata: this.metadata, communicator: this.communicator, updateListener: this.updateListener }) } } t.CoinbaseWalletProvider = m }, 97990: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.CoinbaseWalletSDK = void 0; const r = n(17982), i = n(94493), o = n(97458), s = n(81744), a = n(96589), c = n(51720); t.CoinbaseWalletSDK = class { constructor(e) { this.metadata = { appName: e.appName || "Dapp", appLogoUrl: e.appLogoUrl || (0, a.getFavicon)(), appChainIds: e.appChainIds || [] }, this.storeLatestVersion() } makeWeb3Provider(e = { options: "all" }) { var t; const n = { metadata: this.metadata, preference: e }; return null !== (t = (0, c.getCoinbaseInjectedProvider)(n)) && void 0 !== t ? t : new i.CoinbaseWalletProvider(n) } getCoinbaseWalletLogo(e, t = 240) { return (0, r.walletLogo)(e, t) } storeLatestVersion() { new o.ScopedLocalStorage("CBWSDK").setItem("VERSION", s.LIB_VERSION) } } }, 17982: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.walletLogo = void 0; t.walletLogo = (e, t) => { let n; switch (e) { case "standard": return n = t, `data:image/svg+xml,%3Csvg width='${t}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `; case "circle": return n = t, `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${t}' height='${n}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`; case "text": return n = (.1 * t).toFixed(2), `data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`; case "textWithLogo": return n = (.25 * t).toFixed(2), `data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`; case "textLight": return n = (.1 * t).toFixed(2), `data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`; case "textWithLogoLight": return n = (.25 * t).toFixed(2), `data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`; default: return n = t, `data:image/svg+xml,%3Csvg width='${t}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E ` } } }, 29716: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.Communicator = void 0; const r = n(81744), i = n(28016), o = n(80350), s = n(83790); t.Communicator = class { constructor(e = o.CB_KEYS_URL) { this.popup = null, this.listeners = new Map, this.postMessage = async e => { (await this.waitForPopupLoaded()).postMessage(e, this.url.origin) }, this.postRequestAndWaitForResponse = async e => { const t = this.onMessage((({ requestId: t }) => t === e.id)); return this.postMessage(e), await t }, this.onMessage = async e => new Promise(((t, n) => { const r = n => { if (n.origin !== this.url.origin) return; const i = n.data; e(i) && (t(i), window.removeEventListener("message", r), this.listeners.delete(r)) }; window.addEventListener("message", r), this.listeners.set(r, { reject: n }) })), this.disconnect = () => { (0, i.closePopup)(this.popup), this.popup = null, this.listeners.forEach((({ reject: e }, t) => { e(s.standardErrors.provider.userRejectedRequest("Request rejected")), window.removeEventListener("message", t) })), this.listeners.clear() }, this.waitForPopupLoaded = async () => this.popup && !this.popup.closed ? this.popup : (this.popup = (0, i.openPopup)(this.url), this.onMessage((({ event: e }) => "PopupUnload" === e)).then(this.disconnect).catch((() => { })), this.onMessage((({ event: e }) => "PopupLoaded" === e)).then((e => { this.postMessage({ requestId: e.id, data: { version: r.LIB_VERSION } }) })).then((() => { if (!this.popup) throw s.standardErrors.rpc.internal(); return this.popup }))), this.url = new URL(e) } } }, 28016: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.closePopup = t.openPopup = void 0; const r = n(83790); t.openPopup = function (e) { const t = (window.innerWidth - 420) / 2 + window.screenX, n = (window.innerHeight - 540) / 2 + window.screenY, i = window.open(e, "Smart Wallet", `width=420, height=540, left=${t}, top=${n}`); if (null === i || void 0 === i || i.focus(), !i) throw r.standardErrors.rpc.internal("Pop up window failed to open"); return i }, t.closePopup = function (e) { e && !e.closed && e.close() } }, 80350: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.CBW_MOBILE_DEEPLINK_URL = t.WALLETLINK_URL = t.CB_KEYS_URL = void 0, t.CB_KEYS_URL = "https://keys.coinbase.com/connect", t.WALLETLINK_URL = "https://www.walletlink.org", t.CBW_MOBILE_DEEPLINK_URL = "https://go.cb-w.com/walletlink" }, 8162: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.errorValues = t.standardErrorCodes = void 0, t.standardErrorCodes = { rpc: { invalidInput: -32e3, resourceNotFound: -32001, resourceUnavailable: -32002, transactionRejected: -32003, methodNotSupported: -32004, limitExceeded: -32005, parse: -32700, invalidRequest: -32600, methodNotFound: -32601, invalidParams: -32602, internal: -32603 }, provider: { userRejectedRequest: 4001, unauthorized: 4100, unsupportedMethod: 4200, disconnected: 4900, chainDisconnected: 4901, unsupportedChain: 4902 } }, t.errorValues = { "-32700": { standard: "JSON RPC 2.0", message: "Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text." }, "-32600": { standard: "JSON RPC 2.0", message: "The JSON sent is not a valid Request object." }, "-32601": { standard: "JSON RPC 2.0", message: "The method does not exist / is not available." }, "-32602": { standard: "JSON RPC 2.0", message: "Invalid method parameter(s)." }, "-32603": { standard: "JSON RPC 2.0", message: "Internal JSON-RPC error." }, "-32000": { standard: "EIP-1474", message: "Invalid input." }, "-32001": { standard: "EIP-1474", message: "Resource not found." }, "-32002": { standard: "EIP-1474", message: "Resource unavailable." }, "-32003": { standard: "EIP-1474", message: "Transaction rejected." }, "-32004": { standard: "EIP-1474", message: "Method not supported." }, "-32005": { standard: "EIP-1474", message: "Request limit exceeded." }, 4001: { standard: "EIP-1193", message: "User rejected the request." }, 4100: { standard: "EIP-1193", message: "The requested account and/or method has not been authorized by the user." }, 4200: { standard: "EIP-1193", message: "The requested method is not supported by this Ethereum provider." }, 4900: { standard: "EIP-1193", message: "The provider is disconnected from all chains." }, 4901: { standard: "EIP-1193", message: "The provider is disconnected from the specified chain." }, 4902: { standard: "EIP-3085", message: "Unrecognized chain ID." } } }, 84336: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.standardErrors = void 0; const r = n(8162), i = n(90536); function o(e, t) { const [n, r] = a(t); return new c(e, n || (0, i.getMessageFromCode)(e), r) } function s(e, t) { const [n, r] = a(t); return new l(e, n || (0, i.getMessageFromCode)(e), r) } function a(e) { if (e) { if ("string" === typeof e) return [e]; if ("object" === typeof e && !Array.isArray(e)) { const { message: t, data: n } = e; if (t && "string" !== typeof t) throw new Error("Must specify string message."); return [t || void 0, n] } } return [] } t.standardErrors = { rpc: { parse: e => o(r.standardErrorCodes.rpc.parse, e), invalidRequest: e => o(r.standardErrorCodes.rpc.invalidRequest, e), invalidParams: e => o(r.standardErrorCodes.rpc.invalidParams, e), methodNotFound: e => o(r.standardErrorCodes.rpc.methodNotFound, e), internal: e => o(r.standardErrorCodes.rpc.internal, e), server: e => { if (!e || "object" !== typeof e || Array.isArray(e)) throw new Error("Ethereum RPC Server errors must provide single object argument."); const { code: t } = e; if (!Number.isInteger(t) || t > -32005 || t < -32099) throw new Error('"code" must be an integer such that: -32099 <= code <= -32005'); return o(t, e) }, invalidInput: e => o(r.standardErrorCodes.rpc.invalidInput, e), resourceNotFound: e => o(r.standardErrorCodes.rpc.resourceNotFound, e), resourceUnavailable: e => o(r.standardErrorCodes.rpc.resourceUnavailable, e), transactionRejected: e => o(r.standardErrorCodes.rpc.transactionRejected, e), methodNotSupported: e => o(r.standardErrorCodes.rpc.methodNotSupported, e), limitExceeded: e => o(r.standardErrorCodes.rpc.limitExceeded, e) }, provider: { userRejectedRequest: e => s(r.standardErrorCodes.provider.userRejectedRequest, e), unauthorized: e => s(r.standardErrorCodes.provider.unauthorized, e), unsupportedMethod: e => s(r.standardErrorCodes.provider.unsupportedMethod, e), disconnected: e => s(r.standardErrorCodes.provider.disconnected, e), chainDisconnected: e => s(r.standardErrorCodes.provider.chainDisconnected, e), unsupportedChain: e => s(r.standardErrorCodes.provider.unsupportedChain, e), custom: e => { if (!e || "object" !== typeof e || Array.isArray(e)) throw new Error("Ethereum Provider custom errors must provide single object argument."); const { code: t, message: n, data: r } = e; if (!n || "string" !== typeof n) throw new Error('"message" must be a nonempty string'); return new l(t, n, r) } } }; class c extends Error { constructor(e, t, n) { if (!Number.isInteger(e)) throw new Error('"code" must be an integer.'); if (!t || "string" !== typeof t) throw new Error('"message" must be a nonempty string.'); super(t), this.code = e, void 0 !== n && (this.data = n) } } class l extends c { constructor(e, t, n) { if (!function (e) { return Number.isInteger(e) && e >= 1e3 && e <= 4999 }(e)) throw new Error('"code" must be an integer such that: 1000 <= code <= 4999'); super(e, t, n) } } }, 83790: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.standardErrors = t.standardErrorCodes = void 0; var r = n(8162); Object.defineProperty(t, "standardErrorCodes", { enumerable: !0, get: function () { return r.standardErrorCodes } }); var i = n(84336); Object.defineProperty(t, "standardErrors", { enumerable: !0, get: function () { return i.standardErrors } }) }, 67684: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.serializeError = void 0; const r = n(15117), i = n(81744), o = n(8162), s = n(90536); t.serializeError = function (e, t) { const n = (0, s.serialize)(function (e) { if ("string" === typeof e) return { message: e, code: o.standardErrorCodes.rpc.internal }; if ((0, r.isErrorResponse)(e)) return Object.assign(Object.assign({}, e), { message: e.errorMessage, code: e.errorCode, data: { method: e.method } }); return e }(e), { shouldIncludeStack: !0 }), a = new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors"); a.searchParams.set("version", i.LIB_VERSION), a.searchParams.set("code", n.code.toString()); const c = function (e, t) { const n = null === e || void 0 === e ? void 0 : e.method; if (n) return n; if (void 0 === t) return; if ("string" === typeof t) return t; if (!Array.isArray(t)) return t.method; if (t.length > 0) return t[0].method; return }(n.data, t); return c && a.searchParams.set("method", c), a.searchParams.set("message", n.message), Object.assign(Object.assign({}, n), { docUrl: a.href }) } }, 90536: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.serialize = t.getErrorCode = t.isValidCode = t.getMessageFromCode = t.JSON_RPC_SERVER_ERROR_MESSAGE = void 0; const r = n(8162), i = "Unspecified error message."; function o(e, n = i) { if (e && Number.isInteger(e)) { const n = e.toString(); if (l(r.errorValues, n)) return r.errorValues[n].message; if (a(e)) return t.JSON_RPC_SERVER_ERROR_MESSAGE } return n } function s(e) { if (!Number.isInteger(e)) return !1; const t = e.toString(); return !!r.errorValues[t] || !!a(e) } function a(e) { return e >= -32099 && e <= -32e3 } function c(e) { return e && "object" === typeof e && !Array.isArray(e) ? Object.assign({}, e) : e } function l(e, t) { return Object.prototype.hasOwnProperty.call(e, t) } function u(e, t) { return "object" === typeof e && null !== e && t in e && "string" === typeof e[t] } t.JSON_RPC_SERVER_ERROR_MESSAGE = "Unspecified server error.", t.getMessageFromCode = o, t.isValidCode = s, t.getErrorCode = function (e) { var t; return "number" === typeof e ? e : function (e) { return "object" === typeof e && null !== e && ("number" === typeof e.code || "number" === typeof e.errorCode) }(e) ? null !== (t = e.code) && void 0 !== t ? t : e.errorCode : void 0 }, t.serialize = function (e, { shouldIncludeStack: t = !1 } = {}) { const n = {}; if (e && "object" === typeof e && !Array.isArray(e) && l(e, "code") && s(e.code)) { const t = e; n.code = t.code, t.message && "string" === typeof t.message ? (n.message = t.message, l(t, "data") && (n.data = t.data)) : (n.message = o(n.code), n.data = { originalError: c(e) }) } else n.code = r.standardErrorCodes.rpc.internal, n.message = u(e, "message") ? e.message : i, n.data = { originalError: c(e) }; return t && (n.stack = u(e, "stack") ? e.stack : void 0), n } }, 36219: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.determineMethodCategory = void 0; const n = { handshake: ["eth_requestAccounts"], sign: ["eth_ecRecover", "personal_sign", "personal_ecRecover", "eth_signTransaction", "eth_sendTransaction", "eth_signTypedData_v1", "eth_signTypedData_v3", "eth_signTypedData_v4", "eth_signTypedData", "wallet_addEthereumChain", "wallet_switchEthereumChain", "wallet_watchAsset", "wallet_getCapabilities", "wallet_sendCalls", "wallet_showCallsStatus"], state: ["eth_chainId", "eth_accounts", "eth_coinbase", "net_version"], deprecated: ["eth_sign", "eth_signTypedData_v2"], unsupported: ["eth_subscribe", "eth_unsubscribe"], fetch: [] }; t.determineMethodCategory = function (e) { for (const t in n) { const r = t; if (n[r].includes(e)) return r } } }, 101: function (e, t) { "use strict"; function n() { return e => e } Object.defineProperty(t, "__esModule", { value: !0 }), t.RegExpString = t.IntNumber = t.BigIntString = t.AddressString = t.HexString = t.OpaqueType = void 0, t.OpaqueType = n, t.HexString = e => e, t.AddressString = e => e, t.BigIntString = e => e, t.IntNumber = function (e) { return Math.floor(e) }, t.RegExpString = e => e }, 96589: function (e, t, n) { "use strict"; var r = n(48764).Buffer; Object.defineProperty(t, "__esModule", { value: !0 }), t.areAddressArraysEqual = t.getFavicon = t.range = t.isBigNumber = t.ensureParsedJSONObject = t.ensureBigInt = t.ensureRegExpString = t.ensureIntNumber = t.ensureBuffer = t.ensureAddressString = t.ensureEvenLengthHexString = t.ensureHexString = t.isHexString = t.prepend0x = t.strip0x = t.has0xPrefix = t.hexStringFromIntNumber = t.intNumberFromHexString = t.bigIntStringFromBigInt = t.hexStringFromBuffer = t.hexStringToUint8Array = t.uint8ArrayToHex = t.randomBytesHex = void 0; const i = n(83790), o = n(101), s = /^[0-9]*$/, a = /^[a-f0-9]*$/; function c(e) { return [...e].map((e => e.toString(16).padStart(2, "0"))).join("") } function l(e) { return e.startsWith("0x") || e.startsWith("0X") } function u(e) { return l(e) ? e.slice(2) : e } function d(e) { return l(e) ? `0x${e.slice(2)}` : `0x${e}` } function h(e) { if ("string" !== typeof e) return !1; const t = u(e).toLowerCase(); return a.test(t) } function f(e, t = !1) { if ("string" === typeof e) { const n = u(e).toLowerCase(); if (a.test(n)) return (0, o.HexString)(t ? `0x${n}` : n) } throw i.standardErrors.rpc.invalidParams(`"${String(e)}" is not a hexadecimal string`) } function p(e, t = !1) { let n = f(e, !1); return n.length % 2 === 1 && (n = (0, o.HexString)(`0${n}`)), t ? (0, o.HexString)(`0x${n}`) : n } function m(e) { if ("number" === typeof e && Number.isInteger(e)) return (0, o.IntNumber)(e); if ("string" === typeof e) { if (s.test(e)) return (0, o.IntNumber)(Number(e)); if (h(e)) return (0, o.IntNumber)(Number(BigInt(p(e, !0)))) } throw i.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`) } function g(e) { if (null == e || "function" !== typeof e.constructor) return !1; const { constructor: t } = e; return "function" === typeof t.config && "number" === typeof t.EUCLID } t.randomBytesHex = function (e) { return c(crypto.getRandomValues(new Uint8Array(e))) }, t.uint8ArrayToHex = c, t.hexStringToUint8Array = function (e) { return new Uint8Array(e.match(/.{1,2}/g).map((e => parseInt(e, 16)))) }, t.hexStringFromBuffer = function (e, t = !1) { const n = e.toString("hex"); return (0, o.HexString)(t ? `0x${n}` : n) }, t.bigIntStringFromBigInt = function (e) { return (0, o.BigIntString)(e.toString(10)) }, t.intNumberFromHexString = function (e) { return (0, o.IntNumber)(Number(BigInt(p(e, !0)))) }, t.hexStringFromIntNumber = function (e) { return (0, o.HexString)(`0x${BigInt(e).toString(16)}`) }, t.has0xPrefix = l, t.strip0x = u, t.prepend0x = d, t.isHexString = h, t.ensureHexString = f, t.ensureEvenLengthHexString = p, t.ensureAddressString = function (e) { if ("string" === typeof e) { const t = u(e).toLowerCase(); if (h(t) && 40 === t.length) return (0, o.AddressString)(d(t)) } throw i.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(e)}`) }, t.ensureBuffer = function (e) { if (r.isBuffer(e)) return e; if ("string" === typeof e) { if (h(e)) { const t = p(e, !1); return r.from(t, "hex") } return r.from(e, "utf8") } throw i.standardErrors.rpc.invalidParams(`Not binary data: ${String(e)}`) }, t.ensureIntNumber = m, t.ensureRegExpString = function (e) { if (e instanceof RegExp) return (0, o.RegExpString)(e.toString()); throw i.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(e)}`) }, t.ensureBigInt = function (e) { if (null !== e && ("bigint" === typeof e || g(e))) return BigInt(e.toString(10)); if ("number" === typeof e) return BigInt(m(e)); if ("string" === typeof e) { if (s.test(e)) return BigInt(e); if (h(e)) return BigInt(p(e, !0)) } throw i.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`) }, t.ensureParsedJSONObject = function (e) { if ("string" === typeof e) return JSON.parse(e); if ("object" === typeof e) return e; throw i.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(e)}`) }, t.isBigNumber = g, t.range = function (e, t) { return Array.from({ length: t - e }, ((t, n) => e + n)) }, t.getFavicon = function () { const e = document.querySelector('link[sizes="192x192"]') || document.querySelector('link[sizes="180x180"]') || document.querySelector('link[rel="icon"]') || document.querySelector('link[rel="shortcut icon"]'), { protocol: t, host: n } = document.location, r = e ? e.getAttribute("href") : null; return !r || r.startsWith("javascript:") || r.startsWith("vbscript:") ? null : r.startsWith("http://") || r.startsWith("https://") || r.startsWith("data:") ? r : r.startsWith("//") ? t + r : `${t}//${n}${r}` }, t.areAddressArraysEqual = function (e, t) { return e.length === t.length && e.every(((e, n) => e === t[n])) } }, 78614: function (e, t, n) { "use strict"; t.jp = void 0; n(97990).CoinbaseWalletSDK; var r = n(97990); Object.defineProperty(t, "jp", { enumerable: !0, get: function () { return r.CoinbaseWalletSDK } }) }, 81269: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.SCWKeyManager = void 0; const r = n(7961), i = n(97458), o = { storageKey: "ownPrivateKey", keyType: "private" }, s = { storageKey: "ownPublicKey", keyType: "public" }, a = { storageKey: "peerPublicKey", keyType: "public" }; t.SCWKeyManager = class { constructor() { this.storage = new i.ScopedLocalStorage("CBWSDK", "SCWKeyManager"), this.ownPrivateKey = null, this.ownPublicKey = null, this.peerPublicKey = null, this.sharedSecret = null } async getOwnPublicKey() { return await this.loadKeysIfNeeded(), this.ownPublicKey } async getSharedSecret() { return await this.loadKeysIfNeeded(), this.sharedSecret } async setPeerPublicKey(e) { this.sharedSecret = null, this.peerPublicKey = e, await this.storeKey(a, e), await this.loadKeysIfNeeded() } async clear() { this.ownPrivateKey = null, this.ownPublicKey = null, this.peerPublicKey = null, this.sharedSecret = null, this.storage.removeItem(s.storageKey), this.storage.removeItem(o.storageKey), this.storage.removeItem(a.storageKey) } async generateKeyPair() { const e = await (0, r.generateKeyPair)(); this.ownPrivateKey = e.privateKey, this.ownPublicKey = e.publicKey, await this.storeKey(o, e.privateKey), await this.storeKey(s, e.publicKey) } async loadKeysIfNeeded() { if (null === this.ownPrivateKey && (this.ownPrivateKey = await this.loadKey(o)), null === this.ownPublicKey && (this.ownPublicKey = await this.loadKey(s)), null !== this.ownPrivateKey && null !== this.ownPublicKey || await this.generateKeyPair(), null === this.peerPublicKey && (this.peerPublicKey = await this.loadKey(a)), null === this.sharedSecret) { if (null === this.ownPrivateKey || null === this.peerPublicKey) return; this.sharedSecret = await (0, r.deriveSharedSecret)(this.ownPrivateKey, this.peerPublicKey) } } async loadKey(e) { const t = this.storage.getItem(e.storageKey); return t ? (0, r.importKeyFromHexString)(e.keyType, t) : null } async storeKey(e, t) { const n = await (0, r.exportKeyToHexString)(e.keyType, t); this.storage.setItem(e.storageKey, n) } } }, 5404: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.SCWSigner = void 0; const r = n(81269), i = n(70464), o = n(83790), s = n(96589), a = n(7961); t.SCWSigner = class { constructor(e) { this.metadata = e.metadata, this.communicator = e.communicator, this.keyManager = new r.SCWKeyManager, this.stateManager = new i.SCWStateManager({ appChainIds: this.metadata.appChainIds, updateListener: e.updateListener }), this.handshake = this.handshake.bind(this), this.request = this.request.bind(this), this.createRequestMessage = this.createRequestMessage.bind(this), this.decryptResponseMessage = this.decryptResponseMessage.bind(this) } async handshake() { const e = await this.createRequestMessage({ handshake: { method: "eth_requestAccounts", params: this.metadata } }), t = await this.communicator.postRequestAndWaitForResponse(e); if ("failure" in t.content) throw t.content.failure; const n = await (0, a.importKeyFromHexString)("public", t.sender); await this.keyManager.setPeerPublicKey(n); const r = await this.decryptResponseMessage(t); this.updateInternalState({ method: "eth_requestAccounts" }, r); const i = r.result; if ("error" in i) throw i.error; return this.stateManager.accounts } async request(e) { const t = this.tryLocalHandling(e); if (void 0 !== t) { if (t instanceof Error) throw t; return t } await this.communicator.waitForPopupLoaded(); const n = await this.sendEncryptedRequest(e), r = await this.decryptResponseMessage(n); this.updateInternalState(e, r); const i = r.result; if ("error" in i) throw i.error; return i.value } async disconnect() { this.stateManager.clear(), await this.keyManager.clear() } tryLocalHandling(e) { var t; switch (e.method) { case "wallet_switchEthereumChain": { const n = e.params; if (!n || !(null === (t = n[0]) || void 0 === t ? void 0 : t.chainId)) throw o.standardErrors.rpc.invalidParams(); const r = (0, s.ensureIntNumber)(n[0].chainId); return this.stateManager.switchChain(r) ? null : void 0 } case "wallet_getCapabilities": { const e = this.stateManager.walletCapabilities; if (!e) throw o.standardErrors.provider.unauthorized("No wallet capabilities found, please disconnect and reconnect"); return e } default: return } } async sendEncryptedRequest(e) { const t = await this.keyManager.getSharedSecret(); if (!t) throw o.standardErrors.provider.unauthorized("No valid session found, try requestAccounts before other methods"); const n = await (0, a.encryptContent)({ action: e, chainId: this.stateManager.activeChain.id }, t), r = await this.createRequestMessage({ encrypted: n }); return this.communicator.postRequestAndWaitForResponse(r) } async createRequestMessage(e) { const t = await (0, a.exportKeyToHexString)("public", await this.keyManager.getOwnPublicKey()); return { id: crypto.randomUUID(), sender: t, content: e, timestamp: new Date } } async decryptResponseMessage(e) { const t = e.content; if ("failure" in t) throw t.failure; const n = await this.keyManager.getSharedSecret(); if (!n) throw o.standardErrors.provider.unauthorized("Invalid session"); return (0, a.decryptContent)(t.encrypted, n) } updateInternalState(e, t) { var n, r; const i = null === (n = t.data) || void 0 === n ? void 0 : n.chains; i && this.stateManager.updateAvailableChains(i); const o = null === (r = t.data) || void 0 === r ? void 0 : r.capabilities; o && this.stateManager.updateWalletCapabilities(o); const a = t.result; if (!("error" in a)) switch (e.method) { case "eth_requestAccounts": { const e = a.value; this.stateManager.updateAccounts(e); break } case "wallet_switchEthereumChain": { if (null !== a.value) return; const t = e.params, n = (0, s.ensureIntNumber)(t[0].chainId); this.stateManager.switchChain(n); break } } } } }, 70464: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.SCWStateManager = void 0; const r = n(97458), i = "accounts", o = "activeChain", s = "availableChains", a = "walletCapabilities"; t.SCWStateManager = class { get accounts() { return this._accounts } get activeChain() { return this._activeChain } get walletCapabilities() { return this._walletCapabilities } constructor(e) { var t, n; this.storage = new r.ScopedLocalStorage("CBWSDK", "SCWStateManager"), this.updateListener = e.updateListener, this.availableChains = this.loadItemFromStorage(s), this._walletCapabilities = this.loadItemFromStorage(a); const c = this.loadItemFromStorage(i), l = this.loadItemFromStorage(o); c && this.updateListener.onAccountsUpdate({ accounts: c, source: "storage" }), l && this.updateListener.onChainUpdate({ chain: l, source: "storage" }), this._accounts = c || [], this._activeChain = l || { id: null !== (n = null === (t = e.appChainIds) || void 0 === t ? void 0 : t[0]) && void 0 !== n ? n : 1 } } updateAccounts(e) { this._accounts = e, this.storeItemToStorage(i, e), this.updateListener.onAccountsUpdate({ accounts: e, source: "wallet" }) } switchChain(e) { var t; const n = null === (t = this.availableChains) || void 0 === t ? void 0 : t.find((t => t.id === e)); return !!n && (n === this._activeChain || (this._activeChain = n, this.storeItemToStorage(o, n), this.updateListener.onChainUpdate({ chain: n, source: "wallet" })), !0) } updateAvailableChains(e) { if (!e || 0 === Object.keys(e).length) return; const t = Object.entries(e).map((([e, t]) => ({ id: Number(e), rpcUrl: t }))); this.availableChains = t, this.storeItemToStorage(s, t), this.switchChain(this._activeChain.id) } updateWalletCapabilities(e) { this._walletCapabilities = e, this.storeItemToStorage(a, e) } storeItemToStorage(e, t) { this.storage.setItem(e, JSON.stringify(t)) } loadItemFromStorage(e) { const t = this.storage.getItem(e); return t ? JSON.parse(t) : void 0 } clear() { this.storage.clear() } } }, 69839: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.createSigner = t.fetchSignerType = t.storeSignerType = t.loadSignerType = void 0; const r = n(5404), i = n(51773), o = n(83790), s = n(51720), a = n(97458), c = "SignerType", l = new a.ScopedLocalStorage("CBWSDK", "SignerConfigurator"); t.loadSignerType = function () { return l.getItem(c) }, t.storeSignerType = function (e) { l.setItem(c, e) }, t.fetchSignerType = async function (e) { const { communicator: t, metadata: n } = e; (async function (e, t) { await e.onMessage((({ event: e }) => "WalletLinkSessionRequest" === e)); const n = new i.WalletLinkSigner({ metadata: t }); e.postMessage({ event: "WalletLinkUpdate", data: { session: n.getSession() } }), await n.handshake(), e.postMessage({ event: "WalletLinkUpdate", data: { connected: !0 } }) })(t, n).catch((() => { })); const r = { id: crypto.randomUUID(), event: "selectSignerType", data: e.preference }, { data: o } = await t.postRequestAndWaitForResponse(r); return o }, t.createSigner = function (e) { const { signerType: t, metadata: n, communicator: a, updateListener: c } = e; switch (t) { case "scw": return new r.SCWSigner({ metadata: n, updateListener: c, communicator: a }); case "walletlink": return new i.WalletLinkSigner({ metadata: n, updateListener: c }); case "extension": { const e = (0, s.getCoinbaseInjectedSigner)(); if (!e) throw o.standardErrors.rpc.internal("injected signer not found"); return e } } } }, 51773: function (e, t, n) { "use strict"; var r = n(48764).Buffer, i = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, "__esModule", { value: !0 }), t.WalletLinkSigner = void 0; const o = i(n(46657)), s = n(94478), a = n(45589), c = n(15117), l = n(14159), u = n(80350), d = n(83790), h = n(96589), f = n(97458), p = "DefaultChainId", m = "DefaultJsonRpcUrl"; t.WalletLinkSigner = class { constructor(e) { var t, n; this._relay = null, this._addresses = [], this.hasMadeFirstChainChangedEmission = !1; const { appName: r, appLogoUrl: i } = e.metadata; this._appName = r, this._appLogoUrl = i, this._storage = new f.ScopedLocalStorage("walletlink", u.WALLETLINK_URL), this.updateListener = e.updateListener, this._relayEventManager = new a.RelayEventManager, this._jsonRpcUrlFromOpts = ""; const o = this._storage.getItem(s.LOCAL_STORAGE_ADDRESSES_KEY); if (o) { const e = o.split(" "); "" !== e[0] && (this._addresses = e.map((e => (0, h.ensureAddressString)(e))), null === (t = this.updateListener) || void 0 === t || t.onAccountsUpdate({ accounts: this._addresses, source: "storage" })) } this._storage.getItem(p) && (null === (n = this.updateListener) || void 0 === n || n.onChainUpdate({ chain: { id: this.getChainId(), rpcUrl: this.jsonRpcUrl }, source: "storage" }), this.hasMadeFirstChainChangedEmission = !0), this.initializeRelay() } getSession() { const e = this.initializeRelay(), { id: t, secret: n } = e.getWalletLinkSession(); return { id: t, secret: n } } async handshake() { return await this.request({ method: "eth_requestAccounts" }) } get selectedAddress() { return this._addresses[0] || void 0 } get jsonRpcUrl() { var e; return null !== (e = this._storage.getItem(m)) && void 0 !== e ? e : this._jsonRpcUrlFromOpts } set jsonRpcUrl(e) { this._storage.setItem(m, e) } updateProviderInfo(e, t) { var n; this.jsonRpcUrl = e; const r = this.getChainId(); this._storage.setItem(p, t.toString(10)); !((0, h.ensureIntNumber)(t) !== r) && this.hasMadeFirstChainChangedEmission || (null === (n = this.updateListener) || void 0 === n || n.onChainUpdate({ chain: { id: t, rpcUrl: e }, source: "wallet" }), this.hasMadeFirstChainChangedEmission = !0) } async watchAsset(e, t, n, r, i, o) { const s = this.initializeRelay(), a = await s.watchAsset(e, t, n, r, i, null === o || void 0 === o ? void 0 : o.toString()); return !(0, c.isErrorResponse)(a) && !!a.result } async addEthereumChain(e, t, n, r, i, o) { var s, a; if ((0, h.ensureIntNumber)(e) === this.getChainId()) return !1; const l = this.initializeRelay(); this._isAuthorized() || await l.requestEthereumAccounts(); const u = await l.addEthereumChain(e.toString(), t, i, n, r, o); return !(0, c.isErrorResponse)(u) && (!0 === (null === (s = u.result) || void 0 === s ? void 0 : s.isApproved) && this.updateProviderInfo(t[0], e), !0 === (null === (a = u.result) || void 0 === a ? void 0 : a.isApproved)) } async switchEthereumChain(e) { const t = this.initializeRelay(), n = await t.switchEthereumChain(e.toString(10), this.selectedAddress || void 0); if ((0, c.isErrorResponse)(n)) { if (!n.errorCode) return; throw n.errorCode === d.standardErrorCodes.provider.unsupportedChain ? d.standardErrors.provider.unsupportedChain() : d.standardErrors.provider.custom({ message: n.errorMessage, code: n.errorCode }) } const r = n.result; r.isApproved && r.rpcUrl.length > 0 && this.updateProviderInfo(r.rpcUrl, e) } async disconnect() { this._relay && this._relay.resetAndReload(), this._storage.clear() } async request(e) { try { return this._request(e).catch((e => { throw e })) } catch (t) { return Promise.reject(t) } } async _request(e) { if (!e || "object" !== typeof e || Array.isArray(e)) throw d.standardErrors.rpc.invalidRequest({ message: "Expected a single, non-array, object argument.", data: e }); const { method: t, params: n } = e; if ("string" !== typeof t || 0 === t.length) throw d.standardErrors.rpc.invalidRequest({ message: "'args.method' must be a non-empty string.", data: e }); if (void 0 !== n && !Array.isArray(n) && ("object" !== typeof n || null === n)) throw d.standardErrors.rpc.invalidRequest({ message: "'args.params' must be an object or array if provided.", data: e }); const r = void 0 === n ? [] : n, i = this._relayEventManager.makeRequestId(); return (await this._sendRequestAsync({ method: t, params: r, jsonrpc: "2.0", id: i })).result } _setAddresses(e, t) { var n; if (!Array.isArray(e)) throw new Error("addresses is not an array"); const r = e.map((e => (0, h.ensureAddressString)(e))); JSON.stringify(r) !== JSON.stringify(this._addresses) && (this._addresses = r, null === (n = this.updateListener) || void 0 === n || n.onAccountsUpdate({ accounts: r, source: "wallet" }), this._storage.setItem(s.LOCAL_STORAGE_ADDRESSES_KEY, r.join(" "))) } _sendRequestAsync(e) { return new Promise(((t, n) => { try { const n = this._handleSynchronousMethods(e); if (void 0 !== n) return t({ jsonrpc: "2.0", id: e.id, result: n }) } catch (r) { return n(r) } this._handleAsynchronousMethods(e).then((n => n && t(Object.assign(Object.assign({}, n), { id: e.id })))).catch((e => n(e))) })) } _handleSynchronousMethods(e) { const { method: t } = e; switch (t) { case "eth_accounts": return this._eth_accounts(); case "eth_coinbase": return this._eth_coinbase(); case "net_version": return this._net_version(); case "eth_chainId": return this._eth_chainId(); default: return } } async _handleAsynchronousMethods(e) { const { method: t } = e, n = e.params || []; switch (t) { case "eth_requestAccounts": return this._eth_requestAccounts(); case "eth_sign": return this._eth_sign(n); case "eth_ecRecover": return this._eth_ecRecover(n); case "personal_sign": return this._personal_sign(n); case "personal_ecRecover": return this._personal_ecRecover(n); case "eth_signTransaction": return this._eth_signTransaction(n); case "eth_sendRawTransaction": return this._eth_sendRawTransaction(n); case "eth_sendTransaction": return this._eth_sendTransaction(n); case "eth_signTypedData_v1": return this._eth_signTypedData_v1(n); case "eth_signTypedData_v2": return this._throwUnsupportedMethodError(); case "eth_signTypedData_v3": return this._eth_signTypedData_v3(n); case "eth_signTypedData_v4": case "eth_signTypedData": return this._eth_signTypedData_v4(n); case "wallet_addEthereumChain": return this._wallet_addEthereumChain(n); case "wallet_switchEthereumChain": return this._wallet_switchEthereumChain(n); case "wallet_watchAsset": return this._wallet_watchAsset(n); default: return this._throwUnsupportedMethodError() } } _isKnownAddress(e) { try { const t = (0, h.ensureAddressString)(e); return this._addresses.map((e => (0, h.ensureAddressString)(e))).includes(t) } catch (t) { } return !1 } _ensureKnownAddress(e) { if (!this._isKnownAddress(e)) throw new Error("Unknown Ethereum address") } _prepareTransactionParams(e) { const t = e.from ? (0, h.ensureAddressString)(e.from) : this.selectedAddress; if (!t) throw new Error("Ethereum address is unavailable"); this._ensureKnownAddress(t); return { fromAddress: t, toAddress: e.to ? (0, h.ensureAddressString)(e.to) : null, weiValue: null != e.value ? (0, h.ensureBigInt)(e.value) : BigInt(0), data: e.data ? (0, h.ensureBuffer)(e.data) : r.alloc(0), nonce: null != e.nonce ? (0, h.ensureIntNumber)(e.nonce) : null, gasPriceInWei: null != e.gasPrice ? (0, h.ensureBigInt)(e.gasPrice) : null, maxFeePerGas: null != e.maxFeePerGas ? (0, h.ensureBigInt)(e.maxFeePerGas) : null, maxPriorityFeePerGas: null != e.maxPriorityFeePerGas ? (0, h.ensureBigInt)(e.maxPriorityFeePerGas) : null, gasLimit: null != e.gas ? (0, h.ensureBigInt)(e.gas) : null, chainId: e.chainId ? (0, h.ensureIntNumber)(e.chainId) : this.getChainId() } } _isAuthorized() { return this._addresses.length > 0 } _requireAuthorization() { if (!this._isAuthorized()) throw d.standardErrors.provider.unauthorized({}) } _throwUnsupportedMethodError() { throw d.standardErrors.provider.unsupportedMethod({}) } async _signEthereumMessage(e, t, n, r) { this._ensureKnownAddress(t); try { const i = this.initializeRelay(), o = await i.signEthereumMessage(e, t, n, r); if ((0, c.isErrorResponse)(o)) throw new Error(o.errorMessage); return { jsonrpc: "2.0", id: 0, result: o.result } } catch (i) { if ("string" === typeof i.message && i.message.match(/(denied|rejected)/i)) throw d.standardErrors.provider.userRejectedRequest("User denied message signature"); throw i } } async _ethereumAddressFromSignedMessage(e, t, n) { const r = this.initializeRelay(), i = await r.ethereumAddressFromSignedMessage(e, t, n); if ((0, c.isErrorResponse)(i)) throw new Error(i.errorMessage); return { jsonrpc: "2.0", id: 0, result: i.result } } _eth_accounts() { return [...this._addresses] } _eth_coinbase() { return this.selectedAddress || null } _net_version() { return this.getChainId().toString(10) } _eth_chainId() { return (0, h.hexStringFromIntNumber)(this.getChainId()) } getChainId() { const e = this._storage.getItem(p); if (!e) return (0, h.ensureIntNumber)(1); const t = parseInt(e, 10); return (0, h.ensureIntNumber)(t) } async _eth_requestAccounts() { if (this._isAuthorized()) return Promise.resolve({ jsonrpc: "2.0", id: 0, result: this._addresses }); let e; try { const t = this.initializeRelay(); if (e = await t.requestEthereumAccounts(), (0, c.isErrorResponse)(e)) throw new Error(e.errorMessage) } catch (t) { if ("string" === typeof t.message && t.message.match(/(denied|rejected)/i)) throw d.standardErrors.provider.userRejectedRequest("User denied account authorization"); throw t } if (!e.result) throw new Error("accounts received is empty"); return this._setAddresses(e.result), { jsonrpc: "2.0", id: 0, result: this._addresses } } _eth_sign(e) { this._requireAuthorization(); const t = (0, h.ensureAddressString)(e[0]), n = (0, h.ensureBuffer)(e[1]); return this._signEthereumMessage(n, t, !1) } _eth_ecRecover(e) { const t = (0, h.ensureBuffer)(e[0]), n = (0, h.ensureBuffer)(e[1]); return this._ethereumAddressFromSignedMessage(t, n, !1) } _personal_sign(e) { this._requireAuthorization(); const t = (0, h.ensureBuffer)(e[0]), n = (0, h.ensureAddressString)(e[1]); return this._signEthereumMessage(t, n, !0) } _personal_ecRecover(e) { const t = (0, h.ensureBuffer)(e[0]), n = (0, h.ensureBuffer)(e[1]); return this._ethereumAddressFromSignedMessage(t, n, !0) } async _eth_signTransaction(e) { this._requireAuthorization(); const t = this._prepareTransactionParams(e[0] || {}); try { const e = this.initializeRelay(), n = await e.signEthereumTransaction(t); if ((0, c.isErrorResponse)(n)) throw new Error(n.errorMessage); return { jsonrpc: "2.0", id: 0, result: n.result } } catch (n) { if ("string" === typeof n.message && n.message.match(/(denied|rejected)/i)) throw d.standardErrors.provider.userRejectedRequest("User denied transaction signature"); throw n } } async _eth_sendRawTransaction(e) { const t = (0, h.ensureBuffer)(e[0]), n = this.initializeRelay(), r = await n.submitEthereumTransaction(t, this.getChainId()); if ((0, c.isErrorResponse)(r)) throw new Error(r.errorMessage); return { jsonrpc: "2.0", id: 0, result: r.result } } async _eth_sendTransaction(e) { this._requireAuthorization(); const t = this._prepareTransactionParams(e[0] || {}); try { const e = this.initializeRelay(), n = await e.signAndSubmitEthereumTransaction(t); if ((0, c.isErrorResponse)(n)) throw new Error(n.errorMessage); return { jsonrpc: "2.0", id: 0, result: n.result } } catch (n) { if ("string" === typeof n.message && n.message.match(/(denied|rejected)/i)) throw d.standardErrors.provider.userRejectedRequest("User denied transaction signature"); throw n } } async _eth_signTypedData_v1(e) { this._requireAuthorization(); const t = (0, h.ensureParsedJSONObject)(e[0]), n = (0, h.ensureAddressString)(e[1]); this._ensureKnownAddress(n); const r = o.default.hashForSignTypedDataLegacy({ data: t }), i = JSON.stringify(t, null, 2); return this._signEthereumMessage(r, n, !1, i) } async _eth_signTypedData_v3(e) { this._requireAuthorization(); const t = (0, h.ensureAddressString)(e[0]), n = (0, h.ensureParsedJSONObject)(e[1]); this._ensureKnownAddress(t); const r = o.default.hashForSignTypedData_v3({ data: n }), i = JSON.stringify(n, null, 2); return this._signEthereumMessage(r, t, !1, i) } async _eth_signTypedData_v4(e) { this._requireAuthorization(); const t = (0, h.ensureAddressString)(e[0]), n = (0, h.ensureParsedJSONObject)(e[1]); this._ensureKnownAddress(t); const r = o.default.hashForSignTypedData_v4({ data: n }), i = JSON.stringify(n, null, 2); return this._signEthereumMessage(r, t, !1, i) } async _wallet_addEthereumChain(e) { var t, n, r, i; const o = e[0]; if (0 === (null === (t = o.rpcUrls) || void 0 === t ? void 0 : t.length)) return { jsonrpc: "2.0", id: 0, error: { code: 2, message: "please pass in at least 1 rpcUrl" } }; if (!o.chainName || "" === o.chainName.trim()) throw d.standardErrors.rpc.invalidParams("chainName is a required field"); if (!o.nativeCurrency) throw d.standardErrors.rpc.invalidParams("nativeCurrency is a required field"); const s = parseInt(o.chainId, 16); return await this.addEthereumChain(s, null !== (n = o.rpcUrls) && void 0 !== n ? n : [], null !== (r = o.blockExplorerUrls) && void 0 !== r ? r : [], o.chainName, null !== (i = o.iconUrls) && void 0 !== i ? i : [], o.nativeCurrency) ? { jsonrpc: "2.0", id: 0, result: null } : { jsonrpc: "2.0", id: 0, error: { code: 2, message: "unable to add ethereum chain" } } } async _wallet_switchEthereumChain(e) { const t = e[0]; return await this.switchEthereumChain(parseInt(t.chainId, 16)), { jsonrpc: "2.0", id: 0, result: null } } async _wallet_watchAsset(e) { const t = Array.isArray(e) ? e[0] : e; if (!t.type) throw d.standardErrors.rpc.invalidParams("Type is required"); if ("ERC20" !== (null === t || void 0 === t ? void 0 : t.type)) throw d.standardErrors.rpc.invalidParams(`Asset of type '${t.type}' is not supported`); if (!(null === t || void 0 === t ? void 0 : t.options)) throw d.standardErrors.rpc.invalidParams("Options are required"); if (!(null === t || void 0 === t ? void 0 : t.options.address)) throw d.standardErrors.rpc.invalidParams("Address is required"); const n = this.getChainId(), { address: r, symbol: i, image: o, decimals: s } = t.options; return { jsonrpc: "2.0", id: 0, result: await this.watchAsset(t.type, r, i, s, o, n) } } initializeRelay() { if (!this._relay) { const e = new l.WalletLinkRelay({ linkAPIUrl: u.WALLETLINK_URL, storage: this._storage }); e.setAppInfo(this._appName, this._appLogoUrl), e.attachUI(), e.setAccountsCallback(((e, t) => this._setAddresses(e, t))), e.setChainCallback(((e, t) => { this.updateProviderInfo(t, parseInt(e, 10)) })), this._relay = e } return this._relay } } }, 45589: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.RelayEventManager = void 0; const r = n(96589); t.RelayEventManager = class { constructor() { this._nextRequestId = 0, this.callbacks = new Map } makeRequestId() { this._nextRequestId = (this._nextRequestId + 1) % 2147483647; const e = this._nextRequestId, t = (0, r.prepend0x)(e.toString(16)); return this.callbacks.get(t) && this.callbacks.delete(t), e } } }, 14159: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.WalletLinkRelay = void 0; const r = n(83786), i = n(94478), o = n(45589), s = n(95225), a = n(15117), c = n(41409), l = n(74490), u = n(11596), d = n(83790), h = n(96589), f = n(97458); class p { constructor(e) { this.accountsCallback = null, this.chainCallbackParams = { chainId: "", jsonRpcUrl: "" }, this.chainCallback = null, this.dappDefaultChain = 1, this.isMobileWeb = (0, c.isMobileWeb)(), this.appName = "", this.appLogoUrl = null, this.linkedUpdated = e => { this.isLinked = e; const t = this.storage.getItem(i.LOCAL_STORAGE_ADDRESSES_KEY); if (e && (this._session.linked = e), this.isUnlinkedErrorState = !1, t) { const n = t.split(" "), r = "true" === this.storage.getItem("IsStandaloneSigning"); "" === n[0] || e || !this._session.linked || r || (this.isUnlinkedErrorState = !0) } }, this.metadataUpdated = (e, t) => { this.storage.setItem(e, t) }, this.chainUpdated = (e, t) => { this.chainCallbackParams.chainId === e && this.chainCallbackParams.jsonRpcUrl === t || (this.chainCallbackParams = { chainId: e, jsonRpcUrl: t }, this.chainCallback && this.chainCallback(e, t)) }, this.accountUpdated = e => { this.accountsCallback && this.accountsCallback([e]), p.accountRequestCallbackIds.size > 0 && (Array.from(p.accountRequestCallbackIds.values()).forEach((t => { const n = { type: "WEB3_RESPONSE", id: t, response: { method: "requestEthereumAccounts", result: [e] } }; this.invokeCallback(Object.assign(Object.assign({}, n), { id: t })) })), p.accountRequestCallbackIds.clear()) }, this.resetAndReload = this.resetAndReload.bind(this), this.linkAPIUrl = e.linkAPIUrl, this.storage = e.storage; const { session: t, ui: n, connection: r } = this.subscribe(); this._session = t, this.connection = r, this.relayEventManager = new o.RelayEventManager, this.ui = n } subscribe() { const e = s.WalletLinkSession.load(this.storage) || new s.WalletLinkSession(this.storage).save(), { linkAPIUrl: t } = this, n = new r.WalletLinkConnection({ session: e, linkAPIUrl: t, listener: this }), i = this.isMobileWeb ? new u.WLMobileRelayUI : new l.WalletLinkRelayUI; return n.connect(), { session: e, ui: i, connection: n } } attachUI() { this.ui.attach() } resetAndReload() { Promise.race([this.connection.setSessionMetadata("__destroyed", "1"), new Promise((e => setTimeout((() => e(null)), 1e3)))]).then((() => { this.connection.destroy(); const e = s.WalletLinkSession.load(this.storage); (null === e || void 0 === e ? void 0 : e.id) === this._session.id && f.ScopedLocalStorage.clearAll(), document.location.reload() })).catch((e => { })) } setAppInfo(e, t) { this.appName = e, this.appLogoUrl = t } getStorageItem(e) { return this.storage.getItem(e) } setStorageItem(e, t) { this.storage.setItem(e, t) } signEthereumMessage(e, t, n, r) { return this.sendRequest({ method: "signEthereumMessage", params: { message: (0, h.hexStringFromBuffer)(e, !0), address: t, addPrefix: n, typedDataJson: r || null } }) } ethereumAddressFromSignedMessage(e, t, n) { return this.sendRequest({ method: "ethereumAddressFromSignedMessage", params: { message: (0, h.hexStringFromBuffer)(e, !0), signature: (0, h.hexStringFromBuffer)(t, !0), addPrefix: n } }) } signEthereumTransaction(e) { return this.sendRequest({ method: "signEthereumTransaction", params: { fromAddress: e.fromAddress, toAddress: e.toAddress, weiValue: (0, h.bigIntStringFromBigInt)(e.weiValue), data: (0, h.hexStringFromBuffer)(e.data, !0), nonce: e.nonce, gasPriceInWei: e.gasPriceInWei ? (0, h.bigIntStringFromBigInt)(e.gasPriceInWei) : null, maxFeePerGas: e.gasPriceInWei ? (0, h.bigIntStringFromBigInt)(e.gasPriceInWei) : null, maxPriorityFeePerGas: e.gasPriceInWei ? (0, h.bigIntStringFromBigInt)(e.gasPriceInWei) : null, gasLimit: e.gasLimit ? (0, h.bigIntStringFromBigInt)(e.gasLimit) : null, chainId: e.chainId, shouldSubmit: !1 } }) } signAndSubmitEthereumTransaction(e) { return this.sendRequest({ method: "signEthereumTransaction", params: { fromAddress: e.fromAddress, toAddress: e.toAddress, weiValue: (0, h.bigIntStringFromBigInt)(e.weiValue), data: (0, h.hexStringFromBuffer)(e.data, !0), nonce: e.nonce, gasPriceInWei: e.gasPriceInWei ? (0, h.bigIntStringFromBigInt)(e.gasPriceInWei) : null, maxFeePerGas: e.maxFeePerGas ? (0, h.bigIntStringFromBigInt)(e.maxFeePerGas) : null, maxPriorityFeePerGas: e.maxPriorityFeePerGas ? (0, h.bigIntStringFromBigInt)(e.maxPriorityFeePerGas) : null, gasLimit: e.gasLimit ? (0, h.bigIntStringFromBigInt)(e.gasLimit) : null, chainId: e.chainId, shouldSubmit: !0 } }) } submitEthereumTransaction(e, t) { return this.sendRequest({ method: "submitEthereumTransaction", params: { signedTransaction: (0, h.hexStringFromBuffer)(e, !0), chainId: t } }) } scanQRCode(e) { return this.sendRequest({ method: "scanQRCode", params: { regExp: e } }) } getWalletLinkSession() { return this._session } genericRequest(e, t) { return this.sendRequest({ method: "generic", params: { action: t, data: e } }) } sendGenericMessage(e) { return this.sendRequest(e) } sendRequest(e) { let t = null; const n = (0, h.randomBytesHex)(8), r = r => { this.publishWeb3RequestCanceledEvent(n), this.handleErrorResponse(n, e.method, r), null === t || void 0 === t || t() }; return new Promise(((i, o) => { t = this.ui.showConnecting({ isUnlinkedErrorState: this.isUnlinkedErrorState, onCancel: r, onResetConnection: this.resetAndReload }), this.relayEventManager.callbacks.set(n, (e => { if (null === t || void 0 === t || t(), (0, a.isErrorResponse)(e)) return o(new Error(e.errorMessage)); i(e) })), this.publishWeb3RequestEvent(n, e) })) } setAccountsCallback(e) { this.accountsCallback = e } setChainCallback(e) { this.chainCallback = e } setDappDefaultChainCallback(e) { this.dappDefaultChain = e } publishWeb3RequestEvent(e, t) { const n = { type: "WEB3_REQUEST", id: e, request: t }; this.publishEvent("Web3Request", n, !0).then((e => { })).catch((e => { this.handleWeb3ResponseMessage({ type: "WEB3_RESPONSE", id: n.id, response: { method: t.method, errorMessage: e.message } }) })), this.isMobileWeb && this.openCoinbaseWalletDeeplink(t.method) } openCoinbaseWalletDeeplink(e) { if (this.ui instanceof u.WLMobileRelayUI) switch (e) { case "requestEthereumAccounts": case "switchEthereumChain": return; default: window.addEventListener("blur", (() => { window.addEventListener("focus", (() => { this.connection.checkUnseenEvents() }), { once: !0 }) }), { once: !0 }), this.ui.openCoinbaseWalletDeeplink() } } publishWeb3RequestCanceledEvent(e) { const t = { type: "WEB3_REQUEST_CANCELED", id: e }; this.publishEvent("Web3RequestCanceled", t, !1).then() } publishEvent(e, t, n) { return this.connection.publishEvent(e, t, n) } handleWeb3ResponseMessage(e) { const { response: t } = e; if ("requestEthereumAccounts" === t.method) return p.accountRequestCallbackIds.forEach((t => this.invokeCallback(Object.assign(Object.assign({}, e), { id: t })))), void p.accountRequestCallbackIds.clear(); this.invokeCallback(e) } handleErrorResponse(e, t, n) { var r; const i = null !== (r = null === n || void 0 === n ? void 0 : n.message) && void 0 !== r ? r : "Unspecified error message."; this.handleWeb3ResponseMessage({ type: "WEB3_RESPONSE", id: e, response: { method: t, errorMessage: i } }) } invokeCallback(e) { const t = this.relayEventManager.callbacks.get(e.id); t && (t(e.response), this.relayEventManager.callbacks.delete(e.id)) } requestEthereumAccounts() { const e = { method: "requestEthereumAccounts", params: { appName: this.appName, appLogoUrl: this.appLogoUrl || null } }, t = (0, h.randomBytesHex)(8); return new Promise(((n, r) => { this.relayEventManager.callbacks.set(t, (e => { if ((0, a.isErrorResponse)(e)) return r(new Error(e.errorMessage)); n(e) })), p.accountRequestCallbackIds.add(t), this.publishWeb3RequestEvent(t, e) })) } watchAsset(e, t, n, r, i, o) { const s = { method: "watchAsset", params: { type: e, options: { address: t, symbol: n, decimals: r, image: i }, chainId: o } }; let c = null; const l = (0, h.randomBytesHex)(8), u = e => { this.publishWeb3RequestCanceledEvent(l), this.handleErrorResponse(l, s.method, e), null === c || void 0 === c || c() }; return c = this.ui.showConnecting({ isUnlinkedErrorState: this.isUnlinkedErrorState, onCancel: u, onResetConnection: this.resetAndReload }), new Promise(((e, t) => { this.relayEventManager.callbacks.set(l, (n => { if (null === c || void 0 === c || c(), (0, a.isErrorResponse)(n)) return t(new Error(n.errorMessage)); e(n) })), this.publishWeb3RequestEvent(l, s) })) } addEthereumChain(e, t, n, r, i, o) { const s = { method: "addEthereumChain", params: { chainId: e, rpcUrls: t, blockExplorerUrls: r, chainName: i, iconUrls: n, nativeCurrency: o } }; let c = null; const l = (0, h.randomBytesHex)(8), u = e => { this.publishWeb3RequestCanceledEvent(l), this.handleErrorResponse(l, s.method, e), null === c || void 0 === c || c() }; return c = this.ui.showConnecting({ isUnlinkedErrorState: this.isUnlinkedErrorState, onCancel: u, onResetConnection: this.resetAndReload }), new Promise(((e, t) => { this.relayEventManager.callbacks.set(l, (n => { if (null === c || void 0 === c || c(), (0, a.isErrorResponse)(n)) return t(new Error(n.errorMessage)); e(n) })), this.publishWeb3RequestEvent(l, s) })) } switchEthereumChain(e, t) { const n = { method: "switchEthereumChain", params: Object.assign({ chainId: e }, { address: t }) }, r = (0, h.randomBytesHex)(8); return new Promise(((e, t) => { this.relayEventManager.callbacks.set(r, (n => (0, a.isErrorResponse)(n) && n.errorCode ? t(d.standardErrors.provider.custom({ code: n.errorCode, message: "Unrecognized chain ID. Try adding the chain using addEthereumChain first." })) : (0, a.isErrorResponse)(n) ? t(new Error(n.errorMessage)) : void e(n))), this.publishWeb3RequestEvent(r, n) })) } } t.WalletLinkRelay = p, p.accountRequestCallbackIds = new Set }, 15352: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.WalletLinkCipher = void 0; const r = n(96589); t.WalletLinkCipher = class { constructor(e) { this.secret = e } async encrypt(e) { const t = this.secret; if (64 !== t.length) throw Error("secret must be 256 bits"); const n = crypto.getRandomValues(new Uint8Array(12)), i = await crypto.subtle.importKey("raw", (0, r.hexStringToUint8Array)(t), { name: "aes-gcm" }, !1, ["encrypt", "decrypt"]), o = new TextEncoder, s = await window.crypto.subtle.encrypt({ name: "AES-GCM", iv: n }, i, o.encode(e)), a = s.slice(s.byteLength - 16), c = s.slice(0, s.byteLength - 16), l = new Uint8Array(a), u = new Uint8Array(c), d = new Uint8Array([...n, ...l, ...u]); return (0, r.uint8ArrayToHex)(d) } async decrypt(e) { const t = this.secret; if (64 !== t.length) throw Error("secret must be 256 bits"); return new Promise(((n, i) => { !async function () { const o = await crypto.subtle.importKey("raw", (0, r.hexStringToUint8Array)(t), { name: "aes-gcm" }, !1, ["encrypt", "decrypt"]), s = (0, r.hexStringToUint8Array)(e), a = s.slice(0, 12), c = s.slice(12, 28), l = s.slice(28), u = new Uint8Array([...l, ...c]), d = { name: "AES-GCM", iv: new Uint8Array(a) }; try { const e = await window.crypto.subtle.decrypt(d, o, u), t = new TextDecoder; n(t.decode(e)) } catch (h) { i(h) } }() })) } } }, 83786: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.WalletLinkConnection = void 0; const r = n(94478), i = n(15352), o = n(91805), s = n(4585), a = n(101); t.WalletLinkConnection = class { constructor({ session: e, linkAPIUrl: t, listener: n, WebSocketClass: c = WebSocket }) { this.destroyed = !1, this.lastHeartbeatResponse = 0, this.nextReqId = (0, a.IntNumber)(1), this._connected = !1, this._linked = !1, this.shouldFetchUnseenEventsOnConnect = !1, this.requestResolutions = new Map, this.handleSessionMetadataUpdated = e => { if (!e) return; new Map([["__destroyed", this.handleDestroyed], ["EthereumAddress", this.handleAccountUpdated], ["WalletUsername", this.handleWalletUsernameUpdated], ["AppVersion", this.handleAppVersionUpdated], ["ChainId", t => e.JsonRpcUrl && this.handleChainUpdated(t, e.JsonRpcUrl)]]).forEach(((t, n) => { const r = e[n]; void 0 !== r && t(r) })) }, this.handleDestroyed = e => { var t; "1" === e && (null === (t = this.listener) || void 0 === t || t.resetAndReload()) }, this.handleAccountUpdated = async e => { var t; { const n = await this.cipher.decrypt(e); null === (t = this.listener) || void 0 === t || t.accountUpdated(n) } }, this.handleMetadataUpdated = async (e, t) => { var n; { const r = await this.cipher.decrypt(t); null === (n = this.listener) || void 0 === n || n.metadataUpdated(e, r) } }, this.handleWalletUsernameUpdated = async e => { this.handleMetadataUpdated(r.WALLET_USER_NAME_KEY, e) }, this.handleAppVersionUpdated = async e => { this.handleMetadataUpdated(r.APP_VERSION_KEY, e) }, this.handleChainUpdated = async (e, t) => { var n; { const r = await this.cipher.decrypt(e), i = await this.cipher.decrypt(t); null === (n = this.listener) || void 0 === n || n.chainUpdated(r, i) } }, this.session = e, this.cipher = new i.WalletLinkCipher(e.secret), this.listener = n; const l = new s.WalletLinkWebSocket(`${t}/rpc`, c); l.setConnectionStateListener((async e => { let t = !1; switch (e) { case s.ConnectionState.DISCONNECTED: if (!this.destroyed) { const e = async () => { await new Promise((e => setTimeout(e, 5e3))), this.destroyed || l.connect().catch((() => { e() })) }; e() } break; case s.ConnectionState.CONNECTED: try { await this.authenticate(), this.sendIsLinked(), this.sendGetSessionConfig(), t = !0 } catch (n) { } this.updateLastHeartbeat(), setInterval((() => { this.heartbeat() }), 1e4), this.shouldFetchUnseenEventsOnConnect && this.fetchUnseenEventsAPI(); break; case s.ConnectionState.CONNECTING: }this.connected !== t && (this.connected = t) })), l.setIncomingDataListener((e => { var t; switch (e.type) { case "Heartbeat": return void this.updateLastHeartbeat(); case "IsLinkedOK": case "Linked": { const t = "IsLinkedOK" === e.type ? e.linked : void 0; this.linked = t || e.onlineGuests > 0; break } case "GetSessionConfigOK": case "SessionConfigUpdated": this.handleSessionMetadataUpdated(e.metadata); break; case "Event": this.handleIncomingEvent(e) }void 0 !== e.id && (null === (t = this.requestResolutions.get(e.id)) || void 0 === t || t(e)) })), this.ws = l, this.http = new o.WalletLinkHTTP(t, e.id, e.key) } connect() { if (this.destroyed) throw new Error("instance is destroyed"); this.ws.connect() } destroy() { this.destroyed = !0, this.ws.disconnect(), this.listener = void 0 } get isDestroyed() { return this.destroyed } get connected() { return this._connected } set connected(e) { var t; this._connected = e, e && (null === (t = this.onceConnected) || void 0 === t || t.call(this)) } setOnceConnected(e) { return new Promise((t => { this.connected ? e().then(t) : this.onceConnected = () => { e().then(t), this.onceConnected = void 0 } })) } get linked() { return this._linked } set linked(e) { var t, n; this._linked = e, e && (null === (t = this.onceLinked) || void 0 === t || t.call(this)), null === (n = this.listener) || void 0 === n || n.linkedUpdated(e) } setOnceLinked(e) { return new Promise((t => { this.linked ? e().then(t) : this.onceLinked = () => { e().then(t), this.onceLinked = void 0 } })) } async handleIncomingEvent(e) { var t; if ("Event" === e.type && "Web3Response" === e.event) { const n = await this.cipher.decrypt(e.data), r = JSON.parse(n); if ("WEB3_RESPONSE" !== r.type) return; null === (t = this.listener) || void 0 === t || t.handleWeb3ResponseMessage(r) } } async checkUnseenEvents() { if (this.connected) { await new Promise((e => setTimeout(e, 250))); try { await this.fetchUnseenEventsAPI() } catch (e) { console.error("Unable to check for unseen events", e) } } else this.shouldFetchUnseenEventsOnConnect = !0 } async fetchUnseenEventsAPI() { this.shouldFetchUnseenEventsOnConnect = !1; (await this.http.fetchUnseenEvents()).forEach((e => this.handleIncomingEvent(e))) } async setSessionMetadata(e, t) { const n = { type: "SetSessionConfig", id: (0, a.IntNumber)(this.nextReqId++), sessionId: this.session.id, metadata: { [e]: t } }; return this.setOnceConnected((async () => { const e = await this.makeRequest(n); if ("Fail" === e.type) throw new Error(e.error || "failed to set session metadata") })) } async publishEvent(e, t, n = !1) { const r = await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({}, t), { origin: location.origin, relaySource: "coinbaseWalletExtension" in window && window.coinbaseWalletExtension ? "injected_sdk" : "sdk" }))), i = { type: "PublishEvent", id: (0, a.IntNumber)(this.nextReqId++), sessionId: this.session.id, event: e, data: r, callWebhook: n }; return this.setOnceLinked((async () => { const e = await this.makeRequest(i); if ("Fail" === e.type) throw new Error(e.error || "failed to publish event"); return e.eventId })) } sendData(e) { this.ws.sendData(JSON.stringify(e)) } updateLastHeartbeat() { this.lastHeartbeatResponse = Date.now() } heartbeat() { if (Date.now() - this.lastHeartbeatResponse > 2e4) this.ws.disconnect(); else try { this.ws.sendData("h") } catch (e) { } } async makeRequest(e, t = 6e4) { const n = e.id; let r; return this.sendData(e), Promise.race([new Promise(((e, i) => { r = window.setTimeout((() => { i(new Error(`request ${n} timed out`)) }), t) })), new Promise((e => { this.requestResolutions.set(n, (t => { clearTimeout(r), e(t), this.requestResolutions.delete(n) })) }))]) } async authenticate() { const e = { type: "HostSession", id: (0, a.IntNumber)(this.nextReqId++), sessionId: this.session.id, sessionKey: this.session.key }, t = await this.makeRequest(e); if ("Fail" === t.type) throw new Error(t.error || "failed to authenticate") } sendIsLinked() { const e = { type: "IsLinked", id: (0, a.IntNumber)(this.nextReqId++), sessionId: this.session.id }; this.sendData(e) } sendGetSessionConfig() { const e = { type: "GetSessionConfig", id: (0, a.IntNumber)(this.nextReqId++), sessionId: this.session.id }; this.sendData(e) } } }, 91805: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.WalletLinkHTTP = void 0; t.WalletLinkHTTP = class { constructor(e, t, n) { this.linkAPIUrl = e, this.sessionId = t; const r = `${t}:${n}`; this.auth = `Basic ${btoa(r)}` } async markUnseenEventsAsSeen(e) { return Promise.all(e.map((e => fetch(`${this.linkAPIUrl}/events/${e.eventId}/seen`, { method: "POST", headers: { Authorization: this.auth } })))).catch((e => console.error("Unabled to mark event as failed:", e))) } async fetchUnseenEvents() { var e; const t = await fetch(`${this.linkAPIUrl}/events?unseen=true`, { headers: { Authorization: this.auth } }); if (t.ok) { const { events: n, error: r } = await t.json(); if (r) throw new Error(`Check unseen events failed: ${r}`); const i = null !== (e = null === n || void 0 === n ? void 0 : n.filter((e => "Web3Response" === e.event)).map((e => ({ type: "Event", sessionId: this.sessionId, eventId: e.id, event: e.event, data: e.data })))) && void 0 !== e ? e : []; return this.markUnseenEventsAsSeen(i), i } throw new Error(`Check unseen events failed: ${t.status}`) } } }, 4585: function (e, t) { "use strict"; var n; Object.defineProperty(t, "__esModule", { value: !0 }), t.WalletLinkWebSocket = t.ConnectionState = void 0, function (e) { e[e.DISCONNECTED = 0] = "DISCONNECTED", e[e.CONNECTING = 1] = "CONNECTING", e[e.CONNECTED = 2] = "CONNECTED" }(n || (t.ConnectionState = n = {})); t.WalletLinkWebSocket = class { setConnectionStateListener(e) { this.connectionStateListener = e } setIncomingDataListener(e) { this.incomingDataListener = e } constructor(e, t = WebSocket) { this.WebSocketClass = t, this.webSocket = null, this.pendingData = [], this.url = e.replace(/^http/, "ws") } async connect() { if (this.webSocket) throw new Error("webSocket object is not null"); return new Promise(((e, t) => { var r; let i; try { this.webSocket = i = new this.WebSocketClass(this.url) } catch (o) { return void t(o) } null === (r = this.connectionStateListener) || void 0 === r || r.call(this, n.CONNECTING), i.onclose = e => { var r; this.clearWebSocket(), t(new Error(`websocket error ${e.code}: ${e.reason}`)), null === (r = this.connectionStateListener) || void 0 === r || r.call(this, n.DISCONNECTED) }, i.onopen = t => { var r; if (e(), null === (r = this.connectionStateListener) || void 0 === r || r.call(this, n.CONNECTED), this.pendingData.length > 0) { [...this.pendingData].forEach((e => this.sendData(e))), this.pendingData = [] } }, i.onmessage = e => { var t, n; if ("h" === e.data) null === (t = this.incomingDataListener) || void 0 === t || t.call(this, { type: "Heartbeat" }); else try { const t = JSON.parse(e.data); null === (n = this.incomingDataListener) || void 0 === n || n.call(this, t) } catch (r) { } } })) } disconnect() { var e; const { webSocket: t } = this; if (t) { this.clearWebSocket(), null === (e = this.connectionStateListener) || void 0 === e || e.call(this, n.DISCONNECTED), this.connectionStateListener = void 0, this.incomingDataListener = void 0; try { t.close() } catch (r) { } } } sendData(e) { const { webSocket: t } = this; if (!t) return this.pendingData.push(e), void this.connect(); t.send(e) } clearWebSocket() { const { webSocket: e } = this; e && (this.webSocket = null, e.onclose = null, e.onerror = null, e.onmessage = null, e.onopen = null) } } }, 94478: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.APP_VERSION_KEY = t.LOCAL_STORAGE_ADDRESSES_KEY = t.WALLET_USER_NAME_KEY = void 0, t.WALLET_USER_NAME_KEY = "walletUsername", t.LOCAL_STORAGE_ADDRESSES_KEY = "Addresses", t.APP_VERSION_KEY = "AppVersion" }, 95225: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.WalletLinkSession = void 0; const r = n(89072), i = n(96589), o = "session:id", s = "session:secret", a = "session:linked"; class c { constructor(e, t, n, o) { this._storage = e, this._id = t || (0, i.randomBytesHex)(16), this._secret = n || (0, i.randomBytesHex)(32), this._key = (new r.sha256).update(`${this._id}, ${this._secret} WalletLink`).digest("hex"), this._linked = !!o } static load(e) { const t = e.getItem(o), n = e.getItem(a), r = e.getItem(s); return t && r ? new c(e, t, r, "1" === n) : null } get id() { return this._id } get secret() { return this._secret } get key() { return this._key } get linked() { return this._linked } set linked(e) { this._linked = e, this.persistLinked() } save() { return this._storage.setItem(o, this._id), this._storage.setItem(s, this._secret), this.persistLinked(), this } persistLinked() { this._storage.setItem(a, this._linked ? "1" : "0") } } t.WalletLinkSession = c }, 15117: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.isErrorResponse = void 0, t.isErrorResponse = function (e) { return void 0 !== e.errorMessage } }, 11596: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.WLMobileRelayUI = void 0; const r = n(16985), i = n(41409), o = n(80350); t.WLMobileRelayUI = class { constructor() { this.attached = !1, this.redirectDialog = new r.RedirectDialog } attach() { if (this.attached) throw new Error("Coinbase Wallet SDK UI is already attached"); this.redirectDialog.attach(), this.attached = !0 } redirectToCoinbaseWallet(e) { const t = new URL(o.CBW_MOBILE_DEEPLINK_URL); t.searchParams.append("redirect_url", (0, i.getLocation)().href), e && t.searchParams.append("wl_url", e); const n = document.createElement("a"); n.target = "cbw-opener", n.href = t.href, n.rel = "noreferrer noopener", n.click() } openCoinbaseWalletDeeplink(e) { this.redirectDialog.present({ title: "Redirecting to Coinbase Wallet...", buttonText: "Open", onButtonClick: () => { this.redirectToCoinbaseWallet(e) } }), setTimeout((() => { this.redirectToCoinbaseWallet(e) }), 99) } showConnecting(e) { return () => { this.redirectDialog.clear() } } } }, 74490: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.WalletLinkRelayUI = void 0; const r = n(43682), i = n(29688); t.WalletLinkRelayUI = class { constructor() { this.attached = !1, this.snackbar = new i.Snackbar } attach() { if (this.attached) throw new Error("Coinbase Wallet SDK UI is already attached"); const e = document.documentElement, t = document.createElement("div"); t.className = "-cbwsdk-css-reset", e.appendChild(t), this.snackbar.attach(t), this.attached = !0, (0, r.injectCssReset)() } showConnecting(e) { let t; return t = e.isUnlinkedErrorState ? { autoExpand: !0, message: "Connection lost", menuItems: [{ isRed: !1, info: "Reset connection", svgWidth: "10", svgHeight: "11", path: "M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z", defaultFillRule: "evenodd", defaultClipRule: "evenodd", onClick: e.onResetConnection }] } : { message: "Confirm on phone", menuItems: [{ isRed: !0, info: "Cancel transaction", svgWidth: "11", svgHeight: "11", path: "M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z", defaultFillRule: "inherit", defaultClipRule: "inherit", onClick: e.onCancel }, { isRed: !1, info: "Reset connection", svgWidth: "10", svgHeight: "11", path: "M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z", defaultFillRule: "evenodd", defaultClipRule: "evenodd", onClick: e.onResetConnection }] }, this.snackbar.presentItem(t) } } }, 42785: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.default = ".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}" }, 16985: function (e, t, n) { "use strict"; var r = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, "__esModule", { value: !0 }), t.RedirectDialog = void 0; const i = r(n(86010)), o = n(6400), s = n(43682), a = n(29688), c = n(41409), l = r(n(42785)); t.RedirectDialog = class { constructor() { this.root = null, this.darkMode = (0, c.isDarkMode)() } attach() { const e = document.documentElement; this.root = document.createElement("div"), this.root.className = "-cbwsdk-css-reset", e.appendChild(this.root), (0, s.injectCssReset)() } present(e) { this.render(e) } clear() { this.render(null) } render(e) { this.root && ((0, o.render)(null, this.root), e && (0, o.render)((0, o.h)(u, Object.assign({}, e, { onDismiss: () => { this.clear() }, darkMode: this.darkMode })), this.root)) } }; const u = ({ title: e, buttonText: t, darkMode: n, onButtonClick: r, onDismiss: s }) => { const c = n ? "dark" : "light"; return (0, o.h)(a.SnackbarContainer, { darkMode: n }, (0, o.h)("div", { class: "-cbwsdk-redirect-dialog" }, (0, o.h)("style", null, l.default), (0, o.h)("div", { class: "-cbwsdk-redirect-dialog-backdrop", onClick: s }), (0, o.h)("div", { class: (0, i.default)("-cbwsdk-redirect-dialog-box", c) }, (0, o.h)("p", null, e), (0, o.h)("button", { onClick: r }, t)))) } }, 80303: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.default = ".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}" }, 29688: function (e, t, n) { "use strict"; var r = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, "__esModule", { value: !0 }), t.SnackbarInstance = t.SnackbarContainer = t.Snackbar = void 0; const i = r(n(86010)), o = n(6400), s = n(30396), a = n(41409), c = r(n(80303)); t.Snackbar = class { constructor() { this.items = new Map, this.nextItemKey = 0, this.root = null, this.darkMode = (0, a.isDarkMode)() } attach(e) { this.root = document.createElement("div"), this.root.className = "-cbwsdk-snackbar-root", e.appendChild(this.root), this.render() } presentItem(e) { const t = this.nextItemKey++; return this.items.set(t, e), this.render(), () => { this.items.delete(t), this.render() } } clear() { this.items.clear(), this.render() } render() { this.root && (0, o.render)((0, o.h)("div", null, (0, o.h)(t.SnackbarContainer, { darkMode: this.darkMode }, Array.from(this.items.entries()).map((([e, n]) => (0, o.h)(t.SnackbarInstance, Object.assign({}, n, { key: e })))))), this.root) } }; t.SnackbarContainer = e => (0, o.h)("div", { class: (0, i.default)("-cbwsdk-snackbar-container") }, (0, o.h)("style", null, c.default), (0, o.h)("div", { class: "-cbwsdk-snackbar" }, e.children)); t.SnackbarInstance = ({ autoExpand: e, message: t, menuItems: n }) => { const [r, a] = (0, s.useState)(!0), [c, l] = (0, s.useState)(null !== e && void 0 !== e && e); (0, s.useEffect)((() => { const e = [window.setTimeout((() => { a(!1) }), 1), window.setTimeout((() => { l(!0) }), 1e4)]; return () => { e.forEach(window.clearTimeout) } })); return (0, o.h)("div", { class: (0, i.default)("-cbwsdk-snackbar-instance", r && "-cbwsdk-snackbar-instance-hidden", c && "-cbwsdk-snackbar-instance-expanded") }, (0, o.h)("div", { class: "-cbwsdk-snackbar-instance-header", onClick: () => { l(!c) } }, (0, o.h)("img", { src: "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+", class: "-cbwsdk-snackbar-instance-header-cblogo" }), " ", (0, o.h)("div", { class: "-cbwsdk-snackbar-instance-header-message" }, t), (0, o.h)("div", { class: "-gear-container" }, !c && (0, o.h)("svg", { width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, (0, o.h)("circle", { cx: "12", cy: "12", r: "12", fill: "#F5F7F8" })), (0, o.h)("img", { src: "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=", class: "-gear-icon", title: "Expand" }))), n && n.length > 0 && (0, o.h)("div", { class: "-cbwsdk-snackbar-instance-menu" }, n.map(((e, t) => (0, o.h)("div", { class: (0, i.default)("-cbwsdk-snackbar-instance-menu-item", e.isRed && "-cbwsdk-snackbar-instance-menu-item-is-red"), onClick: e.onClick, key: t }, (0, o.h)("svg", { width: e.svgWidth, height: e.svgHeight, viewBox: "0 0 10 11", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, (0, o.h)("path", { "fill-rule": e.defaultFillRule, "clip-rule": e.defaultClipRule, d: e.path, fill: "#AAAAAA" })), (0, o.h)("span", { class: (0, i.default)("-cbwsdk-snackbar-instance-menu-item-info", e.isRed && "-cbwsdk-snackbar-instance-menu-item-info-is-red") }, e.info)))))) } }, 39818: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.default = '@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}' }, 43682: function (e, t, n) { "use strict"; var r = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, "__esModule", { value: !0 }), t.injectCssReset = void 0; const i = r(n(39818)); t.injectCssReset = function () { const e = document.createElement("style"); e.type = "text/css", e.appendChild(document.createTextNode(i.default)), document.documentElement.appendChild(e) } }, 41409: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.isDarkMode = t.isMobileWeb = t.getLocation = t.createQrUrl = void 0, t.createQrUrl = function (e, t, n, r, i, o) { return `${n}/#/link?${new URLSearchParams({ [r ? "parent-id" : "id"]: e, secret: t, server: n, v: i, chainId: o.toString() }).toString()}` }, t.getLocation = function () { try { return function () { try { return null !== window.frameElement } catch (e) { return !1 } }() && window.top ? window.top.location : window.location } catch (e) { return window.location } }, t.isMobileWeb = function () { var e; return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(null === (e = null === window || void 0 === window ? void 0 : window.navigator) || void 0 === e ? void 0 : e.userAgent) }, t.isDarkMode = function () { var e, t; return null !== (t = null === (e = null === window || void 0 === window ? void 0 : window.matchMedia) || void 0 === e ? void 0 : e.call(window, "(prefers-color-scheme: dark)").matches) && void 0 !== t && t } }, 97458: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.ScopedLocalStorage = void 0; class n { constructor(e, t) { this.scope = e, this.module = t } setItem(e, t) { localStorage.setItem(this.scopedKey(e), t) } getItem(e) { return localStorage.getItem(this.scopedKey(e)) } removeItem(e) { localStorage.removeItem(this.scopedKey(e)) } clear() { const e = this.scopedKey(""), t = []; for (let n = 0; n < localStorage.length; n++) { const r = localStorage.key(n); "string" === typeof r && r.startsWith(e) && t.push(r) } t.forEach((e => localStorage.removeItem(e))) } scopedKey(e) { return `-${this.scope}${this.module ? `:${this.module}` : ""}:${e}` } static clearAll() { new n("CBWSDK").clear(), new n("walletlink").clear() } } t.ScopedLocalStorage = n }, 7961: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.decryptContent = t.encryptContent = t.importKeyFromHexString = t.exportKeyToHexString = t.decrypt = t.encrypt = t.deriveSharedSecret = t.generateKeyPair = void 0; const r = n(96589); async function i(e, t) { const n = crypto.getRandomValues(new Uint8Array(12)); return { iv: n, cipherText: await crypto.subtle.encrypt({ name: "AES-GCM", iv: n }, e, (new TextEncoder).encode(t)) } } async function o(e, { iv: t, cipherText: n }) { const r = await crypto.subtle.decrypt({ name: "AES-GCM", iv: t }, e, n); return (new TextDecoder).decode(r) } function s(e) { switch (e) { case "public": return "spki"; case "private": return "pkcs8" } } t.generateKeyPair = async function () { return crypto.subtle.generateKey({ name: "ECDH", namedCurve: "P-256" }, !0, ["deriveKey"]) }, t.deriveSharedSecret = async function (e, t) { return crypto.subtle.deriveKey({ name: "ECDH", public: t }, e, { name: "AES-GCM", length: 256 }, !1, ["encrypt", "decrypt"]) }, t.encrypt = i, t.decrypt = o, t.exportKeyToHexString = async function (e, t) { const n = s(e), i = await crypto.subtle.exportKey(n, t); return (0, r.uint8ArrayToHex)(new Uint8Array(i)) }, t.importKeyFromHexString = async function (e, t) { const n = s(e), i = (0, r.hexStringToUint8Array)(t).buffer; return await crypto.subtle.importKey(n, i, { name: "ECDH", namedCurve: "P-256" }, !0, "private" === e ? ["deriveKey"] : []) }, t.encryptContent = async function (e, t) { return i(t, JSON.stringify(e, ((e, t) => { if (!(t instanceof Error)) return t; const n = t; return Object.assign(Object.assign({}, n.code ? { code: n.code } : {}), { message: n.message }) }))) }, t.decryptContent = async function (e, t) { return JSON.parse(await o(t, e)) } }, 51720: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.checkErrorForInvalidRequestArgs = t.getCoinbaseInjectedProvider = t.getCoinbaseInjectedSigner = t.fetchRPCRequest = void 0; const r = n(81744), i = n(83790); function o() { return globalThis.coinbaseWalletSigner } t.fetchRPCRequest = async function (e, t) { if (!t.rpcUrl) throw i.standardErrors.rpc.internal("No RPC URL set for chain"); const n = Object.assign(Object.assign({}, e), { jsonrpc: "2.0", id: crypto.randomUUID() }), o = await window.fetch(t.rpcUrl, { method: "POST", body: JSON.stringify(n), mode: "cors", headers: { "Content-Type": "application/json", "X-Cbw-Sdk-Version": r.LIB_VERSION } }); return (await o.json()).result }, t.getCoinbaseInjectedSigner = o, t.getCoinbaseInjectedProvider = function ({ metadata: e, preference: t }) { var n, r, i; const s = globalThis; if ("smartWalletOnly" !== t.options) { if (o()) return; const t = s.coinbaseWalletExtension; if (t) { const { appName: r, appLogoUrl: i, appChainIds: o } = e; return null === (n = t.setAppInfo) || void 0 === n || n.call(t, r, i, o), t } } const a = null !== (r = s.ethereum) && void 0 !== r ? r : null === (i = s.top) || void 0 === i ? void 0 : i.ethereum; if (null === a || void 0 === a ? void 0 : a.isCoinbaseBrowser) return a }, t.checkErrorForInvalidRequestArgs = function (e) { if (!e || "object" !== typeof e || Array.isArray(e)) return i.standardErrors.rpc.invalidParams({ message: "Expected a single, non-array, object argument.", data: e }); const { method: t, params: n } = e; return "string" !== typeof t || 0 === t.length ? i.standardErrors.rpc.invalidParams({ message: "'args.method' must be a non-empty string.", data: e }) : void 0 === n || Array.isArray(n) || "object" === typeof n && null !== n ? void 0 : i.standardErrors.rpc.invalidParams({ message: "'args.params' must be an object or array if provided.", data: e }) } }, 9468: function (e, t, n) { var r = n(48764).Buffer; const i = n(29808); function o(e) { return e.startsWith("int[") ? "int256" + e.slice(3) : "int" === e ? "int256" : e.startsWith("uint[") ? "uint256" + e.slice(4) : "uint" === e ? "uint256" : e.startsWith("fixed[") ? "fixed128x128" + e.slice(5) : "fixed" === e ? "fixed128x128" : e.startsWith("ufixed[") ? "ufixed128x128" + e.slice(6) : "ufixed" === e ? "ufixed128x128" : e } function s(e) { return parseInt(/^\D+(\d+)$/.exec(e)[1], 10) } function a(e) { var t = /^\D+(\d+)x(\d+)$/.exec(e); return [parseInt(t[1], 10), parseInt(t[2], 10)] } function c(e) { var t = e.match(/(.*)\[(.*?)\]$/); return t ? "" === t[2] ? "dynamic" : parseInt(t[2], 10) : null } function l(e) { var t = typeof e; if ("string" === t || "number" === t) return BigInt(e); if ("bigint" === t) return e; throw new Error("Argument is not a number") } function u(e, t) { var n, o, d, h; if ("address" === e) return u("uint160", l(t)); if ("bool" === e) return u("uint8", t ? 1 : 0); if ("string" === e) return u("bytes", new r(t, "utf8")); if (function (e) { return e.lastIndexOf("]") === e.length - 1 }(e)) { if ("undefined" === typeof t.length) throw new Error("Not an array?"); if ("dynamic" !== (n = c(e)) && 0 !== n && t.length > n) throw new Error("Elements exceed array size: " + n); for (h in d = [], e = e.slice(0, e.lastIndexOf("[")), "string" === typeof t && (t = JSON.parse(t)), t) d.push(u(e, t[h])); if ("dynamic" === n) { var f = u("uint256", t.length); d.unshift(f) } return r.concat(d) } if ("bytes" === e) return t = new r(t), d = r.concat([u("uint256", t.length), t]), t.length % 32 !== 0 && (d = r.concat([d, i.zeros(32 - t.length % 32)])), d; if (e.startsWith("bytes")) { if ((n = s(e)) < 1 || n > 32) throw new Error("Invalid bytes<N> width: " + n); return i.setLengthRight(t, 32) } if (e.startsWith("uint")) { if ((n = s(e)) % 8 || n < 8 || n > 256) throw new Error("Invalid uint<N> width: " + n); o = l(t); const r = i.bitLengthFromBigInt(o); if (r > n) throw new Error("Supplied uint exceeds width: " + n + " vs " + r); if (o < 0) throw new Error("Supplied uint is negative"); return i.bufferBEFromBigInt(o, 32) } if (e.startsWith("int")) { if ((n = s(e)) % 8 || n < 8 || n > 256) throw new Error("Invalid int<N> width: " + n); o = l(t); const r = i.bitLengthFromBigInt(o); if (r > n) throw new Error("Supplied int exceeds width: " + n + " vs " + r); const a = i.twosFromBigInt(o, 256); return i.bufferBEFromBigInt(a, 32) } if (e.startsWith("ufixed")) { if (n = a(e), (o = l(t)) < 0) throw new Error("Supplied ufixed is negative"); return u("uint256", o * BigInt(2) ** BigInt(n[1])) } if (e.startsWith("fixed")) return n = a(e), u("int256", l(t) * BigInt(2) ** BigInt(n[1])); throw new Error("Unsupported or invalid type: " + e) } function d(e) { return "string" === e || "bytes" === e || "dynamic" === c(e) } function h(e, t) { if (e.length !== t.length) throw new Error("Number of types are not matching the values"); for (var n, a, c = [], u = 0; u < e.length; u++) { var d = o(e[u]), h = t[u]; if ("bytes" === d) c.push(h); else if ("string" === d) c.push(new r(h, "utf8")); else if ("bool" === d) c.push(new r(h ? "01" : "00", "hex")); else if ("address" === d) c.push(i.setLength(h, 20)); else if (d.startsWith("bytes")) { if ((n = s(d)) < 1 || n > 32) throw new Error("Invalid bytes<N> width: " + n); c.push(i.setLengthRight(h, n)) } else if (d.startsWith("uint")) { if ((n = s(d)) % 8 || n < 8 || n > 256) throw new Error("Invalid uint<N> width: " + n); a = l(h); const e = i.bitLengthFromBigInt(a); if (e > n) throw new Error("Supplied uint exceeds width: " + n + " vs " + e); c.push(i.bufferBEFromBigInt(a, n / 8)) } else { if (!d.startsWith("int")) throw new Error("Unsupported or invalid type: " + d); { if ((n = s(d)) % 8 || n < 8 || n > 256) throw new Error("Invalid int<N> width: " + n); a = l(h); const e = i.bitLengthFromBigInt(a); if (e > n) throw new Error("Supplied int exceeds width: " + n + " vs " + e); const t = i.twosFromBigInt(a, n); c.push(i.bufferBEFromBigInt(t, n / 8)) } } } return r.concat(c) } e.exports = { rawEncode: function (e, t) { var n = [], i = [], s = 32 * e.length; for (var a in e) { var c = o(e[a]), l = u(c, t[a]); d(c) ? (n.push(u("uint256", s)), i.push(l), s += l.length) : n.push(l) } return r.concat(n.concat(i)) }, solidityPack: h, soliditySHA3: function (e, t) { return i.keccak(h(e, t)) } } }, 46657: function (e, t, n) { var r = n(48764).Buffer; const i = n(29808), o = n(9468), s = { type: "object", properties: { types: { type: "object", additionalProperties: { type: "array", items: { type: "object", properties: { name: { type: "string" }, type: { type: "string" } }, required: ["name", "type"] } } }, primaryType: { type: "string" }, domain: { type: "object" }, message: { type: "object" } }, required: ["types", "primaryType", "domain", "message"] }, a = { encodeData(e, t, n, s = !0) { const a = ["bytes32"], c = [this.hashType(e, n)]; if (s) { const l = (e, t, a) => { if (void 0 !== n[t]) return ["bytes32", null == a ? "0x0000000000000000000000000000000000000000000000000000000000000000" : i.keccak(this.encodeData(t, a, n, s))]; if (void 0 === a) throw new Error(`missing value for field ${e} of type ${t}`); if ("bytes" === t) return ["bytes32", i.keccak(a)]; if ("string" === t) return "string" === typeof a && (a = r.from(a, "utf8")), ["bytes32", i.keccak(a)]; if (t.lastIndexOf("]") === t.length - 1) { const n = t.slice(0, t.lastIndexOf("[")), r = a.map((t => l(e, n, t))); return ["bytes32", i.keccak(o.rawEncode(r.map((([e]) => e)), r.map((([, e]) => e))))] } return [t, a] }; for (const r of n[e]) { const [e, n] = l(r.name, r.type, t[r.name]); a.push(e), c.push(n) } } else for (const o of n[e]) { let e = t[o.name]; if (void 0 !== e) if ("bytes" === o.type) a.push("bytes32"), e = i.keccak(e), c.push(e); else if ("string" === o.type) a.push("bytes32"), "string" === typeof e && (e = r.from(e, "utf8")), e = i.keccak(e), c.push(e); else if (void 0 !== n[o.type]) a.push("bytes32"), e = i.keccak(this.encodeData(o.type, e, n, s)), c.push(e); else { if (o.type.lastIndexOf("]") === o.type.length - 1) throw new Error("Arrays currently unimplemented in encodeData"); a.push(o.type), c.push(e) } } return o.rawEncode(a, c) }, encodeType(e, t) { let n = "", r = this.findTypeDependencies(e, t).filter((t => t !== e)); r = [e].concat(r.sort()); for (const i of r) { if (!t[i]) throw new Error("No type definition specified: " + i); n += i + "(" + t[i].map((({ name: e, type: t }) => t + " " + e)).join(",") + ")" } return n }, findTypeDependencies(e, t, n = []) { if (e = e.match(/^\w*/)[0], n.includes(e) || void 0 === t[e]) return n; n.push(e); for (const r of t[e]) for (const e of this.findTypeDependencies(r.type, t, n)) !n.includes(e) && n.push(e); return n }, hashStruct(e, t, n, r = !0) { return i.keccak(this.encodeData(e, t, n, r)) }, hashType(e, t) { return i.keccak(this.encodeType(e, t)) }, sanitizeData(e) { const t = {}; for (const n in s.properties) e[n] && (t[n] = e[n]); return t.types && (t.types = Object.assign({ EIP712Domain: [] }, t.types)), t }, hash(e, t = !0) { const n = this.sanitizeData(e), o = [r.from("1901", "hex")]; return o.push(this.hashStruct("EIP712Domain", n.domain, n.types, t)), "EIP712Domain" !== n.primaryType && o.push(this.hashStruct(n.primaryType, n.message, n.types, t)), i.keccak(r.concat(o)) } }; e.exports = { TYPED_MESSAGE_SCHEMA: s, TypedDataUtils: a, hashForSignTypedDataLegacy: function (e) { return function (e) { const t = new Error("Expect argument to be non-empty array"); if ("object" !== typeof e || !e.length) throw t; const n = e.map((function (e) { return "bytes" === e.type ? i.toBuffer(e.value) : e.value })), r = e.map((function (e) { return e.type })), s = e.map((function (e) { if (!e.name) throw t; return e.type + " " + e.name })); return o.soliditySHA3(["bytes32", "bytes32"], [o.soliditySHA3(new Array(e.length).fill("string"), s), o.soliditySHA3(r, n)]) }(e.data) }, hashForSignTypedData_v3: function (e) { return a.hash(e.data, !1) }, hashForSignTypedData_v4: function (e) { return a.hash(e.data) } } }, 29808: function (e, t, n) { var r = n(48764).Buffer; const i = n(95811); function o(e) { return r.allocUnsafe(e).fill(0) } function s(e, t) { let n = e.toString(16); n.length % 2 !== 0 && (n = "0" + n); const i = n.match(/.{1,2}/g).map((e => parseInt(e, 16))); for (; i.length < t;)i.unshift(0); return r.from(i) } function a(e, t, n) { const r = o(t); return e = c(e), n ? e.length < t ? (e.copy(r), r) : e.slice(0, t) : e.length < t ? (e.copy(r, t - e.length), r) : e.slice(-t) } function c(e) { if (!r.isBuffer(e)) if (Array.isArray(e)) e = r.from(e); else if ("string" === typeof e) e = l(e) ? r.from((t = u(e)).length % 2 ? "0" + t : t, "hex") : r.from(e); else if ("number" === typeof e) e = intToBuffer(e); else if (null === e || void 0 === e) e = r.allocUnsafe(0); else if ("bigint" === typeof e) e = s(e); else { if (!e.toArray) throw new Error("invalid type"); e = r.from(e.toArray()) } var t; return e } function l(e) { return "string" === typeof e && e.match(/^0x[0-9A-Fa-f]*$/) } function u(e) { return "string" === typeof e && e.startsWith("0x") ? e.slice(2) : e } e.exports = { zeros: o, setLength: a, setLengthRight: function (e, t) { return a(e, t, !0) }, isHexString: l, stripHexPrefix: u, toBuffer: c, bufferToHex: function (e) { return "0x" + (e = c(e)).toString("hex") }, keccak: function (e, t) { return e = c(e), t || (t = 256), i("keccak" + t).update(e).digest() }, bitLengthFromBigInt: function (e) { return e.toString(2).length }, bufferBEFromBigInt: s, twosFromBigInt: function (e, t) { let n; if (e < 0n) { n = (~e & (1n << BigInt(t)) - 1n) + 1n } else n = e; return n &= (1n << BigInt(t)) - 1n, n } } }, 81744: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.LIB_VERSION = void 0, t.LIB_VERSION = "4.0.3" }, 33001: function (e) { "use strict"; var t = Object.prototype.hasOwnProperty, n = "~"; function r() { } function i(e, t, n) { this.fn = e, this.context = t, this.once = n || !1 } function o(e, t, r, o, s) { if ("function" !== typeof r) throw new TypeError("The listener must be a function"); var a = new i(r, o || e, s), c = n ? n + t : t; return e._events[c] ? e._events[c].fn ? e._events[c] = [e._events[c], a] : e._events[c].push(a) : (e._events[c] = a, e._eventsCount++), e } function s(e, t) { 0 === --e._eventsCount ? e._events = new r : delete e._events[t] } function a() { this._events = new r, this._eventsCount = 0 } Object.create && (r.prototype = Object.create(null), (new r).__proto__ || (n = !1)), a.prototype.eventNames = function () { var e, r, i = []; if (0 === this._eventsCount) return i; for (r in e = this._events) t.call(e, r) && i.push(n ? r.slice(1) : r); return Object.getOwnPropertySymbols ? i.concat(Object.getOwnPropertySymbols(e)) : i }, a.prototype.listeners = function (e) { var t = n ? n + e : e, r = this._events[t]; if (!r) return []; if (r.fn) return [r.fn]; for (var i = 0, o = r.length, s = new Array(o); i < o; i++)s[i] = r[i].fn; return s }, a.prototype.listenerCount = function (e) { var t = n ? n + e : e, r = this._events[t]; return r ? r.fn ? 1 : r.length : 0 }, a.prototype.emit = function (e, t, r, i, o, s) { var a = n ? n + e : e; if (!this._events[a]) return !1; var c, l, u = this._events[a], d = arguments.length; if (u.fn) { switch (u.once && this.removeListener(e, u.fn, void 0, !0), d) { case 1: return u.fn.call(u.context), !0; case 2: return u.fn.call(u.context, t), !0; case 3: return u.fn.call(u.context, t, r), !0; case 4: return u.fn.call(u.context, t, r, i), !0; case 5: return u.fn.call(u.context, t, r, i, o), !0; case 6: return u.fn.call(u.context, t, r, i, o, s), !0 }for (l = 1, c = new Array(d - 1); l < d; l++)c[l - 1] = arguments[l]; u.fn.apply(u.context, c) } else { var h, f = u.length; for (l = 0; l < f; l++)switch (u[l].once && this.removeListener(e, u[l].fn, void 0, !0), d) { case 1: u[l].fn.call(u[l].context); break; case 2: u[l].fn.call(u[l].context, t); break; case 3: u[l].fn.call(u[l].context, t, r); break; case 4: u[l].fn.call(u[l].context, t, r, i); break; default: if (!c) for (h = 1, c = new Array(d - 1); h < d; h++)c[h - 1] = arguments[h]; u[l].fn.apply(u[l].context, c) } } return !0 }, a.prototype.on = function (e, t, n) { return o(this, e, t, n, !1) }, a.prototype.once = function (e, t, n) { return o(this, e, t, n, !0) }, a.prototype.removeListener = function (e, t, r, i) { var o = n ? n + e : e; if (!this._events[o]) return this; if (!t) return s(this, o), this; var a = this._events[o]; if (a.fn) a.fn !== t || i && !a.once || r && a.context !== r || s(this, o); else { for (var c = 0, l = [], u = a.length; c < u; c++)(a[c].fn !== t || i && !a[c].once || r && a[c].context !== r) && l.push(a[c]); l.length ? this._events[o] = 1 === l.length ? l[0] : l : s(this, o) } return this }, a.prototype.removeAllListeners = function (e) { var t; return e ? (t = n ? n + e : e, this._events[t] && s(this, t)) : (this._events = new r, this._eventsCount = 0), this }, a.prototype.off = a.prototype.removeListener, a.prototype.addListener = a.prototype.on, a.prefixed = n, a.EventEmitter = a, e.exports = a }, 98099: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var r = n(97117); function i(e, t, n) { return void 0 === t && (t = new Uint8Array(2)), void 0 === n && (n = 0), t[n + 0] = e >>> 8, t[n + 1] = e >>> 0, t } function o(e, t, n) { return void 0 === t && (t = new Uint8Array(2)), void 0 === n && (n = 0), t[n + 0] = e >>> 0, t[n + 1] = e >>> 8, t } function s(e, t) { return void 0 === t && (t = 0), e[t] << 24 | e[t + 1] << 16 | e[t + 2] << 8 | e[t + 3] } function a(e, t) { return void 0 === t && (t = 0), (e[t] << 24 | e[t + 1] << 16 | e[t + 2] << 8 | e[t + 3]) >>> 0 } function c(e, t) { return void 0 === t && (t = 0), e[t + 3] << 24 | e[t + 2] << 16 | e[t + 1] << 8 | e[t] } function l(e, t) { return void 0 === t && (t = 0), (e[t + 3] << 24 | e[t + 2] << 16 | e[t + 1] << 8 | e[t]) >>> 0 } function u(e, t, n) { return void 0 === t && (t = new Uint8Array(4)), void 0 === n && (n = 0), t[n + 0] = e >>> 24, t[n + 1] = e >>> 16, t[n + 2] = e >>> 8, t[n + 3] = e >>> 0, t } function d(e, t, n) { return void 0 === t && (t = new Uint8Array(4)), void 0 === n && (n = 0), t[n + 0] = e >>> 0, t[n + 1] = e >>> 8, t[n + 2] = e >>> 16, t[n + 3] = e >>> 24, t } function h(e, t, n) { return void 0 === t && (t = new Uint8Array(8)), void 0 === n && (n = 0), u(e / 4294967296 >>> 0, t, n), u(e >>> 0, t, n + 4), t } function f(e, t, n) { return void 0 === t && (t = new Uint8Array(8)), void 0 === n && (n = 0), d(e >>> 0, t, n), d(e / 4294967296 >>> 0, t, n + 4), t } t.readInt16BE = function (e, t) { return void 0 === t && (t = 0), (e[t + 0] << 8 | e[t + 1]) << 16 >> 16 }, t.readUint16BE = function (e, t) { return void 0 === t && (t = 0), (e[t + 0] << 8 | e[t + 1]) >>> 0 }, t.readInt16LE = function (e, t) { return void 0 === t && (t = 0), (e[t + 1] << 8 | e[t]) << 16 >> 16 }, t.readUint16LE = function (e, t) { return void 0 === t && (t = 0), (e[t + 1] << 8 | e[t]) >>> 0 }, t.writeUint16BE = i, t.writeInt16BE = i, t.writeUint16LE = o, t.writeInt16LE = o, t.readInt32BE = s, t.readUint32BE = a, t.readInt32LE = c, t.readUint32LE = l, t.writeUint32BE = u, t.writeInt32BE = u, t.writeUint32LE = d, t.writeInt32LE = d, t.readInt64BE = function (e, t) { void 0 === t && (t = 0); var n = s(e, t), r = s(e, t + 4); return 4294967296 * n + r - 4294967296 * (r >> 31) }, t.readUint64BE = function (e, t) { return void 0 === t && (t = 0), 4294967296 * a(e, t) + a(e, t + 4) }, t.readInt64LE = function (e, t) { void 0 === t && (t = 0); var n = c(e, t); return 4294967296 * c(e, t + 4) + n - 4294967296 * (n >> 31) }, t.readUint64LE = function (e, t) { void 0 === t && (t = 0); var n = l(e, t); return 4294967296 * l(e, t + 4) + n }, t.writeUint64BE = h, t.writeInt64BE = h, t.writeUint64LE = f, t.writeInt64LE = f, t.readUintBE = function (e, t, n) { if (void 0 === n && (n = 0), e % 8 !== 0) throw new Error("readUintBE supports only bitLengths divisible by 8"); if (e / 8 > t.length - n) throw new Error("readUintBE: array is too short for the given bitLength"); for (var r = 0, i = 1, o = e / 8 + n - 1; o >= n; o--)r += t[o] * i, i *= 256; return r }, t.readUintLE = function (e, t, n) { if (void 0 === n && (n = 0), e % 8 !== 0) throw new Error("readUintLE supports only bitLengths divisible by 8"); if (e / 8 > t.length - n) throw new Error("readUintLE: array is too short for the given bitLength"); for (var r = 0, i = 1, o = n; o < n + e / 8; o++)r += t[o] * i, i *= 256; return r }, t.writeUintBE = function (e, t, n, i) { if (void 0 === n && (n = new Uint8Array(e / 8)), void 0 === i && (i = 0), e % 8 !== 0) throw new Error("writeUintBE supports only bitLengths divisible by 8"); if (!r.isSafeInteger(t)) throw new Error("writeUintBE value must be an integer"); for (var o = 1, s = e / 8 + i - 1; s >= i; s--)n[s] = t / o & 255, o *= 256; return n }, t.writeUintLE = function (e, t, n, i) { if (void 0 === n && (n = new Uint8Array(e / 8)), void 0 === i && (i = 0), e % 8 !== 0) throw new Error("writeUintLE supports only bitLengths divisible by 8"); if (!r.isSafeInteger(t)) throw new Error("writeUintLE value must be an integer"); for (var o = 1, s = i; s < i + e / 8; s++)n[s] = t / o & 255, o *= 256; return n }, t.readFloat32BE = function (e, t) { return void 0 === t && (t = 0), new DataView(e.buffer, e.byteOffset, e.byteLength).getFloat32(t) }, t.readFloat32LE = function (e, t) { return void 0 === t && (t = 0), new DataView(e.buffer, e.byteOffset, e.byteLength).getFloat32(t, !0) }, t.readFloat64BE = function (e, t) { return void 0 === t && (t = 0), new DataView(e.buffer, e.byteOffset, e.byteLength).getFloat64(t) }, t.readFloat64LE = function (e, t) { return void 0 === t && (t = 0), new DataView(e.buffer, e.byteOffset, e.byteLength).getFloat64(t, !0) }, t.writeFloat32BE = function (e, t, n) { return void 0 === t && (t = new Uint8Array(4)), void 0 === n && (n = 0), new DataView(t.buffer, t.byteOffset, t.byteLength).setFloat32(n, e), t }, t.writeFloat32LE = function (e, t, n) { return void 0 === t && (t = new Uint8Array(4)), void 0 === n && (n = 0), new DataView(t.buffer, t.byteOffset, t.byteLength).setFloat32(n, e, !0), t }, t.writeFloat64BE = function (e, t, n) { return void 0 === t && (t = new Uint8Array(8)), void 0 === n && (n = 0), new DataView(t.buffer, t.byteOffset, t.byteLength).setFloat64(n, e), t }, t.writeFloat64LE = function (e, t, n) { return void 0 === t && (t = new Uint8Array(8)), void 0 === n && (n = 0), new DataView(t.buffer, t.byteOffset, t.byteLength).setFloat64(n, e, !0), t } }, 25439: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var r = n(98099), i = n(17309); function o(e, t, n) { for (var i = 1634760805, o = 857760878, s = 2036477234, a = 1797285236, c = n[3] << 24 | n[2] << 16 | n[1] << 8 | n[0], l = n[7] << 24 | n[6] << 16 | n[5] << 8 | n[4], u = n[11] << 24 | n[10] << 16 | n[9] << 8 | n[8], d = n[15] << 24 | n[14] << 16 | n[13] << 8 | n[12], h = n[19] << 24 | n[18] << 16 | n[17] << 8 | n[16], f = n[23] << 24 | n[22] << 16 | n[21] << 8 | n[20], p = n[27] << 24 | n[26] << 16 | n[25] << 8 | n[24], m = n[31] << 24 | n[30] << 16 | n[29] << 8 | n[28], g = t[3] << 24 | t[2] << 16 | t[1] << 8 | t[0], y = t[7] << 24 | t[6] << 16 | t[5] << 8 | t[4], b = t[11] << 24 | t[10] << 16 | t[9] << 8 | t[8], v = t[15] << 24 | t[14] << 16 | t[13] << 8 | t[12], w = i, E = o, x = s, _ = a, C = c, A = l, S = u, k = d, I = h, T = f, N = p, P = m, M = g, O = y, R = b, j = v, $ = 0; $ < 20; $ += 2)C = (C ^= I = I + (M = (M ^= w = w + C | 0) >>> 16 | M << 16) | 0) >>> 20 | C << 12, A = (A ^= T = T + (O = (O ^= E = E + A | 0) >>> 16 | O << 16) | 0) >>> 20 | A << 12, S = (S ^= N = N + (R = (R ^= x = x + S | 0) >>> 16 | R << 16) | 0) >>> 20 | S << 12, k = (k ^= P = P + (j = (j ^= _ = _ + k | 0) >>> 16 | j << 16) | 0) >>> 20 | k << 12, S = (S ^= N = N + (R = (R ^= x = x + S | 0) >>> 24 | R << 8) | 0) >>> 25 | S << 7, k = (k ^= P = P + (j = (j ^= _ = _ + k | 0) >>> 24 | j << 8) | 0) >>> 25 | k << 7, A = (A ^= T = T + (O = (O ^= E = E + A | 0) >>> 24 | O << 8) | 0) >>> 25 | A << 7, C = (C ^= I = I + (M = (M ^= w = w + C | 0) >>> 24 | M << 8) | 0) >>> 25 | C << 7, A = (A ^= N = N + (j = (j ^= w = w + A | 0) >>> 16 | j << 16) | 0) >>> 20 | A << 12, S = (S ^= P = P + (M = (M ^= E = E + S | 0) >>> 16 | M << 16) | 0) >>> 20 | S << 12, k = (k ^= I = I + (O = (O ^= x = x + k | 0) >>> 16 | O << 16) | 0) >>> 20 | k << 12, C = (C ^= T = T + (R = (R ^= _ = _ + C | 0) >>> 16 | R << 16) | 0) >>> 20 | C << 12, k = (k ^= I = I + (O = (O ^= x = x + k | 0) >>> 24 | O << 8) | 0) >>> 25 | k << 7, C = (C ^= T = T + (R = (R ^= _ = _ + C | 0) >>> 24 | R << 8) | 0) >>> 25 | C << 7, S = (S ^= P = P + (M = (M ^= E = E + S | 0) >>> 24 | M << 8) | 0) >>> 25 | S << 7, A = (A ^= N = N + (j = (j ^= w = w + A | 0) >>> 24 | j << 8) | 0) >>> 25 | A << 7; r.writeUint32LE(w + i | 0, e, 0), r.writeUint32LE(E + o | 0, e, 4), r.writeUint32LE(x + s | 0, e, 8), r.writeUint32LE(_ + a | 0, e, 12), r.writeUint32LE(C + c | 0, e, 16), r.writeUint32LE(A + l | 0, e, 20), r.writeUint32LE(S + u | 0, e, 24), r.writeUint32LE(k + d | 0, e, 28), r.writeUint32LE(I + h | 0, e, 32), r.writeUint32LE(T + f | 0, e, 36), r.writeUint32LE(N + p | 0, e, 40), r.writeUint32LE(P + m | 0, e, 44), r.writeUint32LE(M + g | 0, e, 48), r.writeUint32LE(O + y | 0, e, 52), r.writeUint32LE(R + b | 0, e, 56), r.writeUint32LE(j + v | 0, e, 60) } function s(e, t, n, r, s) { if (void 0 === s && (s = 0), 32 !== e.length) throw new Error("ChaCha: key size must be 32 bytes"); if (r.length < n.length) throw new Error("ChaCha: destination is shorter than source"); var c, l; if (0 === s) { if (8 !== t.length && 12 !== t.length) throw new Error("ChaCha nonce must be 8 or 12 bytes"); l = (c = new Uint8Array(16)).length - t.length, c.set(t, l) } else { if (16 !== t.length) throw new Error("ChaCha nonce with counter must be 16 bytes"); c = t, l = s } for (var u = new Uint8Array(64), d = 0; d < n.length; d += 64) { o(u, c, e); for (var h = d; h < d + 64 && h < n.length; h++)r[h] = n[h] ^ u[h - d]; a(c, 0, l) } return i.wipe(u), 0 === s && i.wipe(c), r } function a(e, t, n) { for (var r = 1; n--;)r = r + (255 & e[t]) | 0, e[t] = 255 & r, r >>>= 8, t++; if (r > 0) throw new Error("ChaCha: counter overflow") } t.streamXOR = s, t.stream = function (e, t, n, r) { return void 0 === r && (r = 0), i.wipe(n), s(e, t, n, n, r) } }, 15501: function (e, t, n) { "use strict"; var r = n(25439), i = n(63027), o = n(17309), s = n(98099), a = n(4153); t.Cv = 32, t.WH = 12, t.pg = 16; var c = new Uint8Array(16), l = function () { function e(e) { if (this.nonceLength = t.WH, this.tagLength = t.pg, e.length !== t.Cv) throw new Error("ChaCha20Poly1305 needs 32-byte key"); this._key = new Uint8Array(e) } return e.prototype.seal = function (e, t, n, i) { if (e.length > 16) throw new Error("ChaCha20Poly1305: incorrect nonce length"); var s = new Uint8Array(16); s.set(e, s.length - e.length); var a = new Uint8Array(32); r.stream(this._key, s, a, 4); var c, l = t.length + this.tagLength; if (i) { if (i.length !== l) throw new Error("ChaCha20Poly1305: incorrect destination length"); c = i } else c = new Uint8Array(l); return r.streamXOR(this._key, s, t, c, 4), this._authenticate(c.subarray(c.length - this.tagLength, c.length), a, c.subarray(0, c.length - this.tagLength), n), o.wipe(s), c }, e.prototype.open = function (e, t, n, i) { if (e.length > 16) throw new Error("ChaCha20Poly1305: incorrect nonce length"); if (t.length < this.tagLength) return null; var s = new Uint8Array(16); s.set(e, s.length - e.length); var c = new Uint8Array(32); r.stream(this._key, s, c, 4); var l = new Uint8Array(this.tagLength); if (this._authenticate(l, c, t.subarray(0, t.length - this.tagLength), n), !a.equal(l, t.subarray(t.length - this.tagLength, t.length))) return null; var u, d = t.length - this.tagLength; if (i) { if (i.length !== d) throw new Error("ChaCha20Poly1305: incorrect destination length"); u = i } else u = new Uint8Array(d); return r.streamXOR(this._key, s, t.subarray(0, t.length - this.tagLength), u, 4), o.wipe(s), u }, e.prototype.clean = function () { return o.wipe(this._key), this }, e.prototype._authenticate = function (e, t, n, r) { var a = new i.Poly1305(t); r && (a.update(r), r.length % 16 > 0 && a.update(c.subarray(r.length % 16))), a.update(n), n.length % 16 > 0 && a.update(c.subarray(n.length % 16)); var l = new Uint8Array(8); r && s.writeUint64LE(r.length, l), a.update(l), s.writeUint64LE(n.length, l), a.update(l); for (var u = a.digest(), d = 0; d < u.length; d++)e[d] = u[d]; a.clean(), o.wipe(u), o.wipe(l) }, e }(); t.OK = l }, 4153: function (e, t) { "use strict"; function n(e, t) { if (e.length !== t.length) return 0; for (var n = 0, r = 0; r < e.length; r++)n |= e[r] ^ t[r]; return 1 & n - 1 >>> 8 } Object.defineProperty(t, "__esModule", { value: !0 }), t.select = function (e, t, n) { return ~(e - 1) & t | e - 1 & n }, t.lessOrEqual = function (e, t) { return (0 | e) - (0 | t) - 1 >>> 31 & 1 }, t.compare = n, t.equal = function (e, t) { return 0 !== e.length && 0 !== t.length && 0 !== n(e, t) } }, 31050: function (e, t, n) { "use strict"; t.Xx = t._w = t.aP = t.KS = t.jQ = void 0; const r = n(31416), i = n(93350), o = n(17309); function s(e) { const t = new Float64Array(16); if (e) for (let n = 0; n < e.length; n++)t[n] = e[n]; return t } t.jQ = 64, t.KS = 64, t.aP = 32; new Uint8Array(32)[0] = 9; const a = s(), c = s([1]), l = s([30883, 4953, 19914, 30187, 55467, 16705, 2637, 112, 59544, 30585, 16505, 36039, 65139, 11119, 27886, 20995]), u = s([61785, 9906, 39828, 60374, 45398, 33411, 5274, 224, 53552, 61171, 33010, 6542, 64743, 22239, 55772, 9222]), d = s([54554, 36645, 11616, 51542, 42930, 38181, 51040, 26924, 56412, 64982, 57905, 49316, 21502, 52590, 14035, 8553]), h = s([26200, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214]), f = s([41136, 18958, 6951, 50414, 58488, 44335, 6150, 12099, 55207, 15867, 153, 11085, 57099, 20417, 9344, 11139]); function p(e, t) { for (let n = 0; n < 16; n++)e[n] = 0 | t[n] } function m(e) { let t = 1; for (let n = 0; n < 16; n++) { let r = e[n] + t + 65535; t = Math.floor(r / 65536), e[n] = r - 65536 * t } e[0] += t - 1 + 37 * (t - 1) } function g(e, t, n) { const r = ~(n - 1); for (let i = 0; i < 16; i++) { const n = r & (e[i] ^ t[i]); e[i] ^= n, t[i] ^= n } } function y(e, t) { const n = s(), r = s(); for (let i = 0; i < 16; i++)r[i] = t[i]; m(r), m(r), m(r); for (let i = 0; i < 2; i++) { n[0] = r[0] - 65517; for (let t = 1; t < 15; t++)n[t] = r[t] - 65535 - (n[t - 1] >> 16 & 1), n[t - 1] &= 65535; n[15] = r[15] - 32767 - (n[14] >> 16 & 1); const e = n[15] >> 16 & 1; n[14] &= 65535, g(r, n, 1 - e) } for (let i = 0; i < 16; i++)e[2 * i] = 255 & r[i], e[2 * i + 1] = r[i] >> 8 } function b(e, t) { let n = 0; for (let r = 0; r < 32; r++)n |= e[r] ^ t[r]; return (1 & n - 1 >>> 8) - 1 } function v(e, t) { const n = new Uint8Array(32), r = new Uint8Array(32); return y(n, e), y(r, t), b(n, r) } function w(e) { const t = new Uint8Array(32); return y(t, e), 1 & t[0] } function E(e, t, n) { for (let r = 0; r < 16; r++)e[r] = t[r] + n[r] } function x(e, t, n) { for (let r = 0; r < 16; r++)e[r] = t[r] - n[r] } function _(e, t, n) { let r, i, o = 0, s = 0, a = 0, c = 0, l = 0, u = 0, d = 0, h = 0, f = 0, p = 0, m = 0, g = 0, y = 0, b = 0, v = 0, w = 0, E = 0, x = 0, _ = 0, C = 0, A = 0, S = 0, k = 0, I = 0, T = 0, N = 0, P = 0, M = 0, O = 0, R = 0, j = 0, $ = n[0], L = n[1], D = n[2], U = n[3], F = n[4], B = n[5], W = n[6], z = n[7], q = n[8], H = n[9], G = n[10], V = n[11], K = n[12], Y = n[13], Z = n[14], X = n[15]; r = t[0], o += r * $, s += r * L, a += r * D, c += r * U, l += r * F, u += r * B, d += r * W, h += r * z, f += r * q, p += r * H, m += r * G, g += r * V, y += r * K, b += r * Y, v += r * Z, w += r * X, r = t[1], s += r * $, a += r * L, c += r * D, l += r * U, u += r * F, d += r * B, h += r * W, f += r * z, p += r * q, m += r * H, g += r * G, y += r * V, b += r * K, v += r * Y, w += r * Z, E += r * X, r = t[2], a += r * $, c += r * L, l += r * D, u += r * U, d += r * F, h += r * B, f += r * W, p += r * z, m += r * q, g += r * H, y += r * G, b += r * V, v += r * K, w += r * Y, E += r * Z, x += r * X, r = t[3], c += r * $, l += r * L, u += r * D, d += r * U, h += r * F, f += r * B, p += r * W, m += r * z, g += r * q, y += r * H, b += r * G, v += r * V, w += r * K, E += r * Y, x += r * Z, _ += r * X, r = t[4], l += r * $, u += r * L, d += r * D, h += r * U, f += r * F, p += r * B, m += r * W, g += r * z, y += r * q, b += r * H, v += r * G, w += r * V, E += r * K, x += r * Y, _ += r * Z, C += r * X, r = t[5], u += r * $, d += r * L, h += r * D, f += r * U, p += r * F, m += r * B, g += r * W, y += r * z, b += r * q, v += r * H, w += r * G, E += r * V, x += r * K, _ += r * Y, C += r * Z, A += r * X, r = t[6], d += r * $, h += r * L, f += r * D, p += r * U, m += r * F, g += r * B, y += r * W, b += r * z, v += r * q, w += r * H, E += r * G, x += r * V, _ += r * K, C += r * Y, A += r * Z, S += r * X, r = t[7], h += r * $, f += r * L, p += r * D, m += r * U, g += r * F, y += r * B, b += r * W, v += r * z, w += r * q, E += r * H, x += r * G, _ += r * V, C += r * K, A += r * Y, S += r * Z, k += r * X, r = t[8], f += r * $, p += r * L, m += r * D, g += r * U, y += r * F, b += r * B, v += r * W, w += r * z, E += r * q, x += r * H, _ += r * G, C += r * V, A += r * K, S += r * Y, k += r * Z, I += r * X, r = t[9], p += r * $, m += r * L, g += r * D, y += r * U, b += r * F, v += r * B, w += r * W, E += r * z, x += r * q, _ += r * H, C += r * G, A += r * V, S += r * K, k += r * Y, I += r * Z, T += r * X, r = t[10], m += r * $, g += r * L, y += r * D, b += r * U, v += r * F, w += r * B, E += r * W, x += r * z, _ += r * q, C += r * H, A += r * G, S += r * V, k += r * K, I += r * Y, T += r * Z, N += r * X, r = t[11], g += r * $, y += r * L, b += r * D, v += r * U, w += r * F, E += r * B, x += r * W, _ += r * z, C += r * q, A += r * H, S += r * G, k += r * V, I += r * K, T += r * Y, N += r * Z, P += r * X, r = t[12], y += r * $, b += r * L, v += r * D, w += r * U, E += r * F, x += r * B, _ += r * W, C += r * z, A += r * q, S += r * H, k += r * G, I += r * V, T += r * K, N += r * Y, P += r * Z, M += r * X, r = t[13], b += r * $, v += r * L, w += r * D, E += r * U, x += r * F, _ += r * B, C += r * W, A += r * z, S += r * q, k += r * H, I += r * G, T += r * V, N += r * K, P += r * Y, M += r * Z, O += r * X, r = t[14], v += r * $, w += r * L, E += r * D, x += r * U, _ += r * F, C += r * B, A += r * W, S += r * z, k += r * q, I += r * H, T += r * G, N += r * V, P += r * K, M += r * Y, O += r * Z, R += r * X, r = t[15], w += r * $, E += r * L, x += r * D, _ += r * U, C += r * F, A += r * B, S += r * W, k += r * z, I += r * q, T += r * H, N += r * G, P += r * V, M += r * K, O += r * Y, R += r * Z, j += r * X, o += 38 * E, s += 38 * x, a += 38 * _, c += 38 * C, l += 38 * A, u += 38 * S, d += 38 * k, h += 38 * I, f += 38 * T, p += 38 * N, m += 38 * P, g += 38 * M, y += 38 * O, b += 38 * R, v += 38 * j, i = 1, r = o + i + 65535, i = Math.floor(r / 65536), o = r - 65536 * i, r = s + i + 65535, i = Math.floor(r / 65536), s = r - 65536 * i, r = a + i + 65535, i = Math.floor(r / 65536), a = r - 65536 * i, r = c + i + 65535, i = Math.floor(r / 65536), c = r - 65536 * i, r = l + i + 65535, i = Math.floor(r / 65536), l = r - 65536 * i, r = u + i + 65535, i = Math.floor(r / 65536), u = r - 65536 * i, r = d + i + 65535, i = Math.floor(r / 65536), d = r - 65536 * i, r = h + i + 65535, i = Math.floor(r / 65536), h = r - 65536 * i, r = f + i + 65535, i = Math.floor(r / 65536), f = r - 65536 * i, r = p + i + 65535, i = Math.floor(r / 65536), p = r - 65536 * i, r = m + i + 65535, i = Math.floor(r / 65536), m = r - 65536 * i, r = g + i + 65535, i = Math.floor(r / 65536), g = r - 65536 * i, r = y + i + 65535, i = Math.floor(r / 65536), y = r - 65536 * i, r = b + i + 65535, i = Math.floor(r / 65536), b = r - 65536 * i, r = v + i + 65535, i = Math.floor(r / 65536), v = r - 65536 * i, r = w + i + 65535, i = Math.floor(r / 65536), w = r - 65536 * i, o += i - 1 + 37 * (i - 1), i = 1, r = o + i + 65535, i = Math.floor(r / 65536), o = r - 65536 * i, r = s + i + 65535, i = Math.floor(r / 65536), s = r - 65536 * i, r = a + i + 65535, i = Math.floor(r / 65536), a = r - 65536 * i, r = c + i + 65535, i = Math.floor(r / 65536), c = r - 65536 * i, r = l + i + 65535, i = Math.floor(r / 65536), l = r - 65536 * i, r = u + i + 65535, i = Math.floor(r / 65536), u = r - 65536 * i, r = d + i + 65535, i = Math.floor(r / 65536), d = r - 65536 * i, r = h + i + 65535, i = Math.floor(r / 65536), h = r - 65536 * i, r = f + i + 65535, i = Math.floor(r / 65536), f = r - 65536 * i, r = p + i + 65535, i = Math.floor(r / 65536), p = r - 65536 * i, r = m + i + 65535, i = Math.floor(r / 65536), m = r - 65536 * i, r = g + i + 65535, i = Math.floor(r / 65536), g = r - 65536 * i, r = y + i + 65535, i = Math.floor(r / 65536), y = r - 65536 * i, r = b + i + 65535, i = Math.floor(r / 65536), b = r - 65536 * i, r = v + i + 65535, i = Math.floor(r / 65536), v = r - 65536 * i, r = w + i + 65535, i = Math.floor(r / 65536), w = r - 65536 * i, o += i - 1 + 37 * (i - 1), e[0] = o, e[1] = s, e[2] = a, e[3] = c, e[4] = l, e[5] = u, e[6] = d, e[7] = h, e[8] = f, e[9] = p, e[10] = m, e[11] = g, e[12] = y, e[13] = b, e[14] = v, e[15] = w } function C(e, t) { _(e, t, t) } function A(e, t) { const n = s(); let r; for (r = 0; r < 16; r++)n[r] = t[r]; for (r = 253; r >= 0; r--)C(n, n), 2 !== r && 4 !== r && _(n, n, t); for (r = 0; r < 16; r++)e[r] = n[r] } function S(e, t) { const n = s(), r = s(), i = s(), o = s(), a = s(), c = s(), l = s(), d = s(), h = s(); x(n, e[1], e[0]), x(h, t[1], t[0]), _(n, n, h), E(r, e[0], e[1]), E(h, t[0], t[1]), _(r, r, h), _(i, e[3], t[3]), _(i, i, u), _(o, e[2], t[2]), E(o, o, o), x(a, r, n), x(c, o, i), E(l, o, i), E(d, r, n), _(e[0], a, c), _(e[1], d, l), _(e[2], l, c), _(e[3], a, d) } function k(e, t, n) { for (let r = 0; r < 4; r++)g(e[r], t[r], n) } function I(e, t) { const n = s(), r = s(), i = s(); A(i, t[2]), _(n, t[0], i), _(r, t[1], i), y(e, r), e[31] ^= w(n) << 7 } function T(e, t, n) { p(e[0], a), p(e[1], c), p(e[2], c), p(e[3], a); for (let r = 255; r >= 0; --r) { const i = n[r / 8 | 0] >> (7 & r) & 1; k(e, t, i), S(t, e), S(e, e), k(e, t, i) } } function N(e, t) { const n = [s(), s(), s(), s()]; p(n[0], d), p(n[1], h), p(n[2], c), _(n[3], d, h), T(e, n, t) } function P(e) { if (e.length !== t.aP) throw new Error(`ed25519: seed must be ${t.aP} bytes`); const n = (0, i.hash)(e); n[0] &= 248, n[31] &= 127, n[31] |= 64; const r = new Uint8Array(32), o = [s(), s(), s(), s()]; N(o, n), I(r, o); const a = new Uint8Array(64); return a.set(e), a.set(r, 32), { publicKey: r, secretKey: a } } t._w = P; const M = new Float64Array([237, 211, 245, 92, 26, 99, 18, 88, 214, 156, 247, 162, 222, 249, 222, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16]); function O(e, t) { let n, r, i, o; for (r = 63; r >= 32; --r) { for (n = 0, i = r - 32, o = r - 12; i < o; ++i)t[i] += n - 16 * t[r] * M[i - (r - 32)], n = Math.floor((t[i] + 128) / 256), t[i] -= 256 * n; t[i] += n, t[r] = 0 } for (n = 0, i = 0; i < 32; i++)t[i] += n - (t[31] >> 4) * M[i], n = t[i] >> 8, t[i] &= 255; for (i = 0; i < 32; i++)t[i] -= n * M[i]; for (r = 0; r < 32; r++)t[r + 1] += t[r] >> 8, e[r] = 255 & t[r] } function R(e) { const t = new Float64Array(64); for (let n = 0; n < 64; n++)t[n] = e[n]; for (let n = 0; n < 64; n++)e[n] = 0; O(e, t) } function j(e, t) { const n = s(), r = s(), i = s(), o = s(), u = s(), d = s(), h = s(); return p(e[2], c), function (e, t) { for (let n = 0; n < 16; n++)e[n] = t[2 * n] + (t[2 * n + 1] << 8); e[15] &= 32767 }(e[1], t), C(i, e[1]), _(o, i, l), x(i, i, e[2]), E(o, e[2], o), C(u, o), C(d, u), _(h, d, u), _(n, h, i), _(n, n, o), function (e, t) { const n = s(); let r; for (r = 0; r < 16; r++)n[r] = t[r]; for (r = 250; r >= 0; r--)C(n, n), 1 !== r && _(n, n, t); for (r = 0; r < 16; r++)e[r] = n[r] }(n, n), _(n, n, i), _(n, n, o), _(n, n, o), _(e[0], n, o), C(r, e[0]), _(r, r, o), v(r, i) && _(e[0], e[0], f), C(r, e[0]), _(r, r, o), v(r, i) ? -1 : (w(e[0]) === t[31] >> 7 && x(e[0], a, e[0]), _(e[3], e[0], e[1]), 0) } t.Xx = function (e, t) { const n = new Float64Array(64), r = [s(), s(), s(), s()], o = (0, i.hash)(e.subarray(0, 32)); o[0] &= 248, o[31] &= 127, o[31] |= 64; const a = new Uint8Array(64); a.set(o.subarray(32), 32); const c = new i.SHA512; c.update(a.subarray(32)), c.update(t); const l = c.digest(); c.clean(), R(l), N(r, l), I(a, r), c.reset(), c.update(a.subarray(0, 32)), c.update(e.subarray(32)), c.update(t); const u = c.digest(); R(u); for (let i = 0; i < 32; i++)n[i] = l[i]; for (let i = 0; i < 32; i++)for (let e = 0; e < 32; e++)n[i + e] += u[i] * o[e]; return O(a.subarray(32), n), a } }, 79984: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.isSerializableHash = function (e) { return "undefined" !== typeof e.saveState && "undefined" !== typeof e.restoreState && "undefined" !== typeof e.cleanSavedState } }, 512: function (e, t, n) { "use strict"; var r = n(25629), i = n(17309), o = function () { function e(e, t, n, i) { void 0 === n && (n = new Uint8Array(0)), this._counter = new Uint8Array(1), this._hash = e, this._info = i; var o = r.hmac(this._hash, n, t); this._hmac = new r.HMAC(e, o), this._buffer = new Uint8Array(this._hmac.digestLength), this._bufpos = this._buffer.length } return e.prototype._fillBuffer = function () { this._counter[0]++; var e = this._counter[0]; if (0 === e) throw new Error("hkdf: cannot expand more"); this._hmac.reset(), e > 1 && this._hmac.update(this._buffer), this._info && this._hmac.update(this._info), this._hmac.update(this._counter), this._hmac.finish(this._buffer), this._bufpos = 0 }, e.prototype.expand = function (e) { for (var t = new Uint8Array(e), n = 0; n < t.length; n++)this._bufpos === this._buffer.length && this._fillBuffer(), t[n] = this._buffer[this._bufpos++]; return t }, e.prototype.clean = function () { this._hmac.clean(), i.wipe(this._buffer), i.wipe(this._counter), this._bufpos = 0 }, e }(); t.t = o }, 25629: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var r = n(79984), i = n(4153), o = n(17309), s = function () { function e(e, t) { this._finished = !1, this._inner = new e, this._outer = new e, this.blockSize = this._outer.blockSize, this.digestLength = this._outer.digestLength; var n = new Uint8Array(this.blockSize); t.length > this.blockSize ? this._inner.update(t).finish(n).clean() : n.set(t); for (var i = 0; i < n.length; i++)n[i] ^= 54; this._inner.update(n); for (i = 0; i < n.length; i++)n[i] ^= 106; this._outer.update(n), r.isSerializableHash(this._inner) && r.isSerializableHash(this._outer) && (this._innerKeyedState = this._inner.saveState(), this._outerKeyedState = this._outer.saveState()), o.wipe(n) } return e.prototype.reset = function () { if (!r.isSerializableHash(this._inner) || !r.isSerializableHash(this._outer)) throw new Error("hmac: can't reset() because hash doesn't implement restoreState()"); return this._inner.restoreState(this._innerKeyedState), this._outer.restoreState(this._outerKeyedState), this._finished = !1, this }, e.prototype.clean = function () { r.isSerializableHash(this._inner) && this._inner.cleanSavedState(this._innerKeyedState), r.isSerializableHash(this._outer) && this._outer.cleanSavedState(this._outerKeyedState), this._inner.clean(), this._outer.clean() }, e.prototype.update = function (e) { return this._inner.update(e), this }, e.prototype.finish = function (e) { return this._finished ? (this._outer.finish(e), this) : (this._inner.finish(e), this._outer.update(e.subarray(0, this.digestLength)).finish(e), this._finished = !0, this) }, e.prototype.digest = function () { var e = new Uint8Array(this.digestLength); return this.finish(e), e }, e.prototype.saveState = function () { if (!r.isSerializableHash(this._inner)) throw new Error("hmac: can't saveState() because hash doesn't implement it"); return this._inner.saveState() }, e.prototype.restoreState = function (e) { if (!r.isSerializableHash(this._inner) || !r.isSerializableHash(this._outer)) throw new Error("hmac: can't restoreState() because hash doesn't implement it"); return this._inner.restoreState(e), this._outer.restoreState(this._outerKeyedState), this._finished = !1, this }, e.prototype.cleanSavedState = function (e) { if (!r.isSerializableHash(this._inner)) throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it"); this._inner.cleanSavedState(e) }, e }(); t.HMAC = s, t.hmac = function (e, t, n) { var r = new s(e, t); r.update(n); var i = r.digest(); return r.clean(), i }, t.equal = i.equal }, 97117: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.mul = Math.imul || function (e, t) { var n = 65535 & e, r = 65535 & t; return n * r + ((e >>> 16 & 65535) * r + n * (t >>> 16 & 65535) << 16 >>> 0) | 0 }, t.add = function (e, t) { return e + t | 0 }, t.sub = function (e, t) { return e - t | 0 }, t.rotl = function (e, t) { return e << t | e >>> 32 - t }, t.rotr = function (e, t) { return e << 32 - t | e >>> t }, t.isInteger = Number.isInteger || function (e) { return "number" === typeof e && isFinite(e) && Math.floor(e) === e }, t.MAX_SAFE_INTEGER = 9007199254740991, t.isSafeInteger = function (e) { return t.isInteger(e) && e >= -t.MAX_SAFE_INTEGER && e <= t.MAX_SAFE_INTEGER } }, 63027: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var r = n(4153), i = n(17309); t.DIGEST_LENGTH = 16; var o = function () { function e(e) { this.digestLength = t.DIGEST_LENGTH, this._buffer = new Uint8Array(16), this._r = new Uint16Array(10), this._h = new Uint16Array(10), this._pad = new Uint16Array(8), this._leftover = 0, this._fin = 0, this._finished = !1; var n = e[0] | e[1] << 8; this._r[0] = 8191 & n; var r = e[2] | e[3] << 8; this._r[1] = 8191 & (n >>> 13 | r << 3); var i = e[4] | e[5] << 8; this._r[2] = 7939 & (r >>> 10 | i << 6); var o = e[6] | e[7] << 8; this._r[3] = 8191 & (i >>> 7 | o << 9); var s = e[8] | e[9] << 8; this._r[4] = 255 & (o >>> 4 | s << 12), this._r[5] = s >>> 1 & 8190; var a = e[10] | e[11] << 8; this._r[6] = 8191 & (s >>> 14 | a << 2); var c = e[12] | e[13] << 8; this._r[7] = 8065 & (a >>> 11 | c << 5); var l = e[14] | e[15] << 8; this._r[8] = 8191 & (c >>> 8 | l << 8), this._r[9] = l >>> 5 & 127, this._pad[0] = e[16] | e[17] << 8, this._pad[1] = e[18] | e[19] << 8, this._pad[2] = e[20] | e[21] << 8, this._pad[3] = e[22] | e[23] << 8, this._pad[4] = e[24] | e[25] << 8, this._pad[5] = e[26] | e[27] << 8, this._pad[6] = e[28] | e[29] << 8, this._pad[7] = e[30] | e[31] << 8 } return e.prototype._blocks = function (e, t, n) { for (var r = this._fin ? 0 : 2048, i = this._h[0], o = this._h[1], s = this._h[2], a = this._h[3], c = this._h[4], l = this._h[5], u = this._h[6], d = this._h[7], h = this._h[8], f = this._h[9], p = this._r[0], m = this._r[1], g = this._r[2], y = this._r[3], b = this._r[4], v = this._r[5], w = this._r[6], E = this._r[7], x = this._r[8], _ = this._r[9]; n >= 16;) { var C = e[t + 0] | e[t + 1] << 8; i += 8191 & C; var A = e[t + 2] | e[t + 3] << 8; o += 8191 & (C >>> 13 | A << 3); var S = e[t + 4] | e[t + 5] << 8; s += 8191 & (A >>> 10 | S << 6); var k = e[t + 6] | e[t + 7] << 8; a += 8191 & (S >>> 7 | k << 9); var I = e[t + 8] | e[t + 9] << 8; c += 8191 & (k >>> 4 | I << 12), l += I >>> 1 & 8191; var T = e[t + 10] | e[t + 11] << 8; u += 8191 & (I >>> 14 | T << 2); var N = e[t + 12] | e[t + 13] << 8; d += 8191 & (T >>> 11 | N << 5); var P = e[t + 14] | e[t + 15] << 8, M = 0, O = M; O += i * p, O += o * (5 * _), O += s * (5 * x), O += a * (5 * E), M = (O += c * (5 * w)) >>> 13, O &= 8191, O += l * (5 * v), O += u * (5 * b), O += d * (5 * y), O += (h += 8191 & (N >>> 8 | P << 8)) * (5 * g); var R = M += (O += (f += P >>> 5 | r) * (5 * m)) >>> 13; R += i * m, R += o * p, R += s * (5 * _), R += a * (5 * x), M = (R += c * (5 * E)) >>> 13, R &= 8191, R += l * (5 * w), R += u * (5 * v), R += d * (5 * b), R += h * (5 * y), M += (R += f * (5 * g)) >>> 13, R &= 8191; var j = M; j += i * g, j += o * m, j += s * p, j += a * (5 * _), M = (j += c * (5 * x)) >>> 13, j &= 8191, j += l * (5 * E), j += u * (5 * w), j += d * (5 * v), j += h * (5 * b); var $ = M += (j += f * (5 * y)) >>> 13; $ += i * y, $ += o * g, $ += s * m, $ += a * p, M = ($ += c * (5 * _)) >>> 13, $ &= 8191, $ += l * (5 * x), $ += u * (5 * E), $ += d * (5 * w), $ += h * (5 * v); var L = M += ($ += f * (5 * b)) >>> 13; L += i * b, L += o * y, L += s * g, L += a * m, M = (L += c * p) >>> 13, L &= 8191, L += l * (5 * _), L += u * (5 * x), L += d * (5 * E), L += h * (5 * w); var D = M += (L += f * (5 * v)) >>> 13; D += i * v, D += o * b, D += s * y, D += a * g, M = (D += c * m) >>> 13, D &= 8191, D += l * p, D += u * (5 * _), D += d * (5 * x), D += h * (5 * E); var U = M += (D += f * (5 * w)) >>> 13; U += i * w, U += o * v, U += s * b, U += a * y, M = (U += c * g) >>> 13, U &= 8191, U += l * m, U += u * p, U += d * (5 * _), U += h * (5 * x); var F = M += (U += f * (5 * E)) >>> 13; F += i * E, F += o * w, F += s * v, F += a * b, M = (F += c * y) >>> 13, F &= 8191, F += l * g, F += u * m, F += d * p, F += h * (5 * _); var B = M += (F += f * (5 * x)) >>> 13; B += i * x, B += o * E, B += s * w, B += a * v, M = (B += c * b) >>> 13, B &= 8191, B += l * y, B += u * g, B += d * m, B += h * p; var W = M += (B += f * (5 * _)) >>> 13; W += i * _, W += o * x, W += s * E, W += a * w, M = (W += c * v) >>> 13, W &= 8191, W += l * b, W += u * y, W += d * g, W += h * m, i = O = 8191 & (M = (M = ((M += (W += f * p) >>> 13) << 2) + M | 0) + (O &= 8191) | 0), o = R += M >>>= 13, s = j &= 8191, a = $ &= 8191, c = L &= 8191, l = D &= 8191, u = U &= 8191, d = F &= 8191, h = B &= 8191, f = W &= 8191, t += 16, n -= 16 } this._h[0] = i, this._h[1] = o, this._h[2] = s, this._h[3] = a, this._h[4] = c, this._h[5] = l, this._h[6] = u, this._h[7] = d, this._h[8] = h, this._h[9] = f }, e.prototype.finish = function (e, t) { void 0 === t && (t = 0); var n, r, i, o, s = new Uint16Array(10); if (this._leftover) { for (o = this._leftover, this._buffer[o++] = 1; o < 16; o++)this._buffer[o] = 0; this._fin = 1, this._blocks(this._buffer, 0, 16) } for (n = this._h[1] >>> 13, this._h[1] &= 8191, o = 2; o < 10; o++)this._h[o] += n, n = this._h[o] >>> 13, this._h[o] &= 8191; for (this._h[0] += 5 * n, n = this._h[0] >>> 13, this._h[0] &= 8191, this._h[1] += n, n = this._h[1] >>> 13, this._h[1] &= 8191, this._h[2] += n, s[0] = this._h[0] + 5, n = s[0] >>> 13, s[0] &= 8191, o = 1; o < 10; o++)s[o] = this._h[o] + n, n = s[o] >>> 13, s[o] &= 8191; for (s[9] -= 8192, r = (1 ^ n) - 1, o = 0; o < 10; o++)s[o] &= r; for (r = ~r, o = 0; o < 10; o++)this._h[o] = this._h[o] & r | s[o]; for (this._h[0] = 65535 & (this._h[0] | this._h[1] << 13), this._h[1] = 65535 & (this._h[1] >>> 3 | this._h[2] << 10), this._h[2] = 65535 & (this._h[2] >>> 6 | this._h[3] << 7), this._h[3] = 65535 & (this._h[3] >>> 9 | this._h[4] << 4), this._h[4] = 65535 & (this._h[4] >>> 12 | this._h[5] << 1 | this._h[6] << 14), this._h[5] = 65535 & (this._h[6] >>> 2 | this._h[7] << 11), this._h[6] = 65535 & (this._h[7] >>> 5 | this._h[8] << 8), this._h[7] = 65535 & (this._h[8] >>> 8 | this._h[9] << 5), i = this._h[0] + this._pad[0], this._h[0] = 65535 & i, o = 1; o < 8; o++)i = (this._h[o] + this._pad[o] | 0) + (i >>> 16) | 0, this._h[o] = 65535 & i; return e[t + 0] = this._h[0] >>> 0, e[t + 1] = this._h[0] >>> 8, e[t + 2] = this._h[1] >>> 0, e[t + 3] = this._h[1] >>> 8, e[t + 4] = this._h[2] >>> 0, e[t + 5] = this._h[2] >>> 8, e[t + 6] = this._h[3] >>> 0, e[t + 7] = this._h[3] >>> 8, e[t + 8] = this._h[4] >>> 0, e[t + 9] = this._h[4] >>> 8, e[t + 10] = this._h[5] >>> 0, e[t + 11] = this._h[5] >>> 8, e[t + 12] = this._h[6] >>> 0, e[t + 13] = this._h[6] >>> 8, e[t + 14] = this._h[7] >>> 0, e[t + 15] = this._h[7] >>> 8, this._finished = !0, this }, e.prototype.update = function (e) { var t, n = 0, r = e.length; if (this._leftover) { (t = 16 - this._leftover) > r && (t = r); for (var i = 0; i < t; i++)this._buffer[this._leftover + i] = e[n + i]; if (r -= t, n += t, this._leftover += t, this._leftover < 16) return this; this._blocks(this._buffer, 0, 16), this._leftover = 0 } if (r >= 16 && (t = r - r % 16, this._blocks(e, n, t), n += t, r -= t), r) { for (i = 0; i < r; i++)this._buffer[this._leftover + i] = e[n + i]; this._leftover += r } return this }, e.prototype.digest = function () { if (this._finished) throw new Error("Poly1305 was finished"); var e = new Uint8Array(16); return this.finish(e), e }, e.prototype.clean = function () { return i.wipe(this._buffer), i.wipe(this._r), i.wipe(this._h), i.wipe(this._pad), this._leftover = 0, this._fin = 0, this._finished = !0, this }, e }(); t.Poly1305 = o, t.oneTimeAuth = function (e, t) { var n = new o(e); n.update(t); var r = n.digest(); return n.clean(), r }, t.equal = function (e, n) { return e.length === t.DIGEST_LENGTH && n.length === t.DIGEST_LENGTH && r.equal(e, n) } }, 31416: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.randomStringForEntropy = t.randomString = t.randomUint32 = t.randomBytes = t.defaultRandomSource = void 0; const r = n(46008), i = n(98099), o = n(17309); function s(e, n = t.defaultRandomSource) { return n.randomBytes(e) } t.defaultRandomSource = new r.SystemRandomSource, t.randomBytes = s, t.randomUint32 = function (e = t.defaultRandomSource) { const n = s(4, e), r = (0, i.readUint32LE)(n); return (0, o.wipe)(n), r }; const a = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"; function c(e, n = a, r = t.defaultRandomSource) { if (n.length < 2) throw new Error("randomString charset is too short"); if (n.length > 256) throw new Error("randomString charset is too long"); let i = ""; const c = n.length, l = 256 - 256 % c; for (; e > 0;) { const t = s(Math.ceil(256 * e / l), r); for (let r = 0; r < t.length && e > 0; r++) { const o = t[r]; o < l && (i += n.charAt(o % c), e--) } (0, o.wipe)(t) } return i } t.randomString = c, t.randomStringForEntropy = function (e, n = a, r = t.defaultRandomSource) { return c(Math.ceil(e / (Math.log(n.length) / Math.LN2)), n, r) } }, 75455: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.BrowserRandomSource = void 0; t.BrowserRandomSource = class { constructor() { this.isAvailable = !1, this.isInstantiated = !1; const e = "undefined" !== typeof self ? self.crypto || self.msCrypto : null; e && void 0 !== e.getRandomValues && (this._crypto = e, this.isAvailable = !0, this.isInstantiated = !0) } randomBytes(e) { if (!this.isAvailable || !this._crypto) throw new Error("Browser random byte generator is not available."); const t = new Uint8Array(e); for (let n = 0; n < t.length; n += 65536)this._crypto.getRandomValues(t.subarray(n, n + Math.min(t.length - n, 65536))); return t } } }, 58871: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.NodeRandomSource = void 0; const r = n(17309); t.NodeRandomSource = class { constructor() { this.isAvailable = !1, this.isInstantiated = !1; { const e = n(35883); e && e.randomBytes && (this._crypto = e, this.isAvailable = !0, this.isInstantiated = !0) } } randomBytes(e) { if (!this.isAvailable || !this._crypto) throw new Error("Node.js random byte generator is not available."); let t = this._crypto.randomBytes(e); if (t.length !== e) throw new Error("NodeRandomSource: got fewer bytes than requested"); const n = new Uint8Array(e); for (let r = 0; r < n.length; r++)n[r] = t[r]; return (0, r.wipe)(t), n } } }, 46008: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.SystemRandomSource = void 0; const r = n(75455), i = n(58871); t.SystemRandomSource = class { constructor() { return this.isAvailable = !1, this.name = "", this._source = new r.BrowserRandomSource, this._source.isAvailable ? (this.isAvailable = !0, void (this.name = "Browser")) : (this._source = new i.NodeRandomSource, this._source.isAvailable ? (this.isAvailable = !0, void (this.name = "Node")) : void 0) } randomBytes(e) { if (!this.isAvailable) throw new Error("System random byte generator is not available."); return this._source.randomBytes(e) } } }, 73294: function (e, t, n) { "use strict"; var r = n(98099), i = n(17309); t.k = 32, t.cn = 64; var o = function () { function e() { this.digestLength = t.k, this.blockSize = t.cn, this._state = new Int32Array(8), this._temp = new Int32Array(64), this._buffer = new Uint8Array(128), this._bufferLength = 0, this._bytesHashed = 0, this._finished = !1, this.reset() } return e.prototype._initState = function () { this._state[0] = 1779033703, this._state[1] = 3144134277, this._state[2] = 1013904242, this._state[3] = 2773480762, this._state[4] = 1359893119, this._state[5] = 2600822924, this._state[6] = 528734635, this._state[7] = 1541459225 }, e.prototype.reset = function () { return this._initState(), this._bufferLength = 0, this._bytesHashed = 0, this._finished = !1, this }, e.prototype.clean = function () { i.wipe(this._buffer), i.wipe(this._temp), this.reset() }, e.prototype.update = function (e, t) { if (void 0 === t && (t = e.length), this._finished) throw new Error("SHA256: can't update because hash was finished."); var n = 0; if (this._bytesHashed += t, this._bufferLength > 0) { for (; this._bufferLength < this.blockSize && t > 0;)this._buffer[this._bufferLength++] = e[n++], t--; this._bufferLength === this.blockSize && (a(this._temp, this._state, this._buffer, 0, this.blockSize), this._bufferLength = 0) } for (t >= this.blockSize && (n = a(this._temp, this._state, e, n, t), t %= this.blockSize); t > 0;)this._buffer[this._bufferLength++] = e[n++], t--; return this }, e.prototype.finish = function (e) { if (!this._finished) { var t = this._bytesHashed, n = this._bufferLength, i = t / 536870912 | 0, o = t << 3, s = t % 64 < 56 ? 64 : 128; this._buffer[n] = 128; for (var c = n + 1; c < s - 8; c++)this._buffer[c] = 0; r.writeUint32BE(i, this._buffer, s - 8), r.writeUint32BE(o, this._buffer, s - 4), a(this._temp, this._state, this._buffer, 0, s), this._finished = !0 } for (c = 0; c < this.digestLength / 4; c++)r.writeUint32BE(this._state[c], e, 4 * c); return this }, e.prototype.digest = function () { var e = new Uint8Array(this.digestLength); return this.finish(e), e }, e.prototype.saveState = function () { if (this._finished) throw new Error("SHA256: cannot save finished state"); return { state: new Int32Array(this._state), buffer: this._bufferLength > 0 ? new Uint8Array(this._buffer) : void 0, bufferLength: this._bufferLength, bytesHashed: this._bytesHashed } }, e.prototype.restoreState = function (e) { return this._state.set(e.state), this._bufferLength = e.bufferLength, e.buffer && this._buffer.set(e.buffer), this._bytesHashed = e.bytesHashed, this._finished = !1, this }, e.prototype.cleanSavedState = function (e) { i.wipe(e.state), e.buffer && i.wipe(e.buffer), e.bufferLength = 0, e.bytesHashed = 0 }, e }(); t.mE = o; var s = new Int32Array([1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298]); function a(e, t, n, i, o) { for (; o >= 64;) { for (var a = t[0], c = t[1], l = t[2], u = t[3], d = t[4], h = t[5], f = t[6], p = t[7], m = 0; m < 16; m++) { var g = i + 4 * m; e[m] = r.readUint32BE(n, g) } for (m = 16; m < 64; m++) { var y = e[m - 2], b = (y >>> 17 | y << 15) ^ (y >>> 19 | y << 13) ^ y >>> 10, v = ((y = e[m - 15]) >>> 7 | y << 25) ^ (y >>> 18 | y << 14) ^ y >>> 3; e[m] = (b + e[m - 7] | 0) + (v + e[m - 16] | 0) } for (m = 0; m < 64; m++) { b = (((d >>> 6 | d << 26) ^ (d >>> 11 | d << 21) ^ (d >>> 25 | d << 7)) + (d & h ^ ~d & f) | 0) + (p + (s[m] + e[m] | 0) | 0) | 0, v = ((a >>> 2 | a << 30) ^ (a >>> 13 | a << 19) ^ (a >>> 22 | a << 10)) + (a & c ^ a & l ^ c & l) | 0; p = f, f = h, h = d, d = u + b | 0, u = l, l = c, c = a, a = b + v | 0 } t[0] += a, t[1] += c, t[2] += l, t[3] += u, t[4] += d, t[5] += h, t[6] += f, t[7] += p, i += 64, o -= 64 } return i } t.vp = function (e) { var t = new o; t.update(e); var n = t.digest(); return t.clean(), n } }, 93350: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var r = n(98099), i = n(17309); t.DIGEST_LENGTH = 64, t.BLOCK_SIZE = 128; var o = function () { function e() { this.digestLength = t.DIGEST_LENGTH, this.blockSize = t.BLOCK_SIZE, this._stateHi = new Int32Array(8), this._stateLo = new Int32Array(8), this._tempHi = new Int32Array(16), this._tempLo = new Int32Array(16), this._buffer = new Uint8Array(256), this._bufferLength = 0, this._bytesHashed = 0, this._finished = !1, this.reset() } return e.prototype._initState = function () { this._stateHi[0] = 1779033703, this._stateHi[1] = 3144134277, this._stateHi[2] = 1013904242, this._stateHi[3] = 2773480762, this._stateHi[4] = 1359893119, this._stateHi[5] = 2600822924, this._stateHi[6] = 528734635, this._stateHi[7] = 1541459225, this._stateLo[0] = 4089235720, this._stateLo[1] = 2227873595, this._stateLo[2] = 4271175723, this._stateLo[3] = 1595750129, this._stateLo[4] = 2917565137, this._stateLo[5] = 725511199, this._stateLo[6] = 4215389547, this._stateLo[7] = 327033209 }, e.prototype.reset = function () { return this._initState(), this._bufferLength = 0, this._bytesHashed = 0, this._finished = !1, this }, e.prototype.clean = function () { i.wipe(this._buffer), i.wipe(this._tempHi), i.wipe(this._tempLo), this.reset() }, e.prototype.update = function (e, n) { if (void 0 === n && (n = e.length), this._finished) throw new Error("SHA512: can't update because hash was finished."); var r = 0; if (this._bytesHashed += n, this._bufferLength > 0) { for (; this._bufferLength < t.BLOCK_SIZE && n > 0;)this._buffer[this._bufferLength++] = e[r++], n--; this._bufferLength === this.blockSize && (a(this._tempHi, this._tempLo, this._stateHi, this._stateLo, this._buffer, 0, this.blockSize), this._bufferLength = 0) } for (n >= this.blockSize && (r = a(this._tempHi, this._tempLo, this._stateHi, this._stateLo, e, r, n), n %= this.blockSize); n > 0;)this._buffer[this._bufferLength++] = e[r++], n--; return this }, e.prototype.finish = function (e) { if (!this._finished) { var t = this._bytesHashed, n = this._bufferLength, i = t / 536870912 | 0, o = t << 3, s = t % 128 < 112 ? 128 : 256; this._buffer[n] = 128; for (var c = n + 1; c < s - 8; c++)this._buffer[c] = 0; r.writeUint32BE(i, this._buffer, s - 8), r.writeUint32BE(o, this._buffer, s - 4), a(this._tempHi, this._tempLo, this._stateHi, this._stateLo, this._buffer, 0, s), this._finished = !0 } for (c = 0; c < this.digestLength / 8; c++)r.writeUint32BE(this._stateHi[c], e, 8 * c), r.writeUint32BE(this._stateLo[c], e, 8 * c + 4); return this }, e.prototype.digest = function () { var e = new Uint8Array(this.digestLength); return this.finish(e), e }, e.prototype.saveState = function () { if (this._finished) throw new Error("SHA256: cannot save finished state"); return { stateHi: new Int32Array(this._stateHi), stateLo: new Int32Array(this._stateLo), buffer: this._bufferLength > 0 ? new Uint8Array(this._buffer) : void 0, bufferLength: this._bufferLength, bytesHashed: this._bytesHashed } }, e.prototype.restoreState = function (e) { return this._stateHi.set(e.stateHi), this._stateLo.set(e.stateLo), this._bufferLength = e.bufferLength, e.buffer && this._buffer.set(e.buffer), this._bytesHashed = e.bytesHashed, this._finished = !1, this }, e.prototype.cleanSavedState = function (e) { i.wipe(e.stateHi), i.wipe(e.stateLo), e.buffer && i.wipe(e.buffer), e.bufferLength = 0, e.bytesHashed = 0 }, e }(); t.SHA512 = o; var s = new Int32Array([1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399, 3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265, 2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901, 1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879, 3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823, 1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273, 3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012, 2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044, 2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573, 3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711, 3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554, 174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315, 685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100, 1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866, 1607167915, 987167468, 1816402316, 1246189591]); function a(e, t, n, i, o, a, c) { for (var l, u, d, h, f, p, m, g, y = n[0], b = n[1], v = n[2], w = n[3], E = n[4], x = n[5], _ = n[6], C = n[7], A = i[0], S = i[1], k = i[2], I = i[3], T = i[4], N = i[5], P = i[6], M = i[7]; c >= 128;) { for (var O = 0; O < 16; O++) { var R = 8 * O + a; e[O] = r.readUint32BE(o, R), t[O] = r.readUint32BE(o, R + 4) } for (O = 0; O < 80; O++) { var j, $, L = y, D = b, U = v, F = w, B = E, W = x, z = _, q = A, H = S, G = k, V = I, K = T, Y = N, Z = P; if (f = 65535 & (u = M), p = u >>> 16, m = 65535 & (l = C), g = l >>> 16, f += 65535 & (u = (T >>> 14 | E << 18) ^ (T >>> 18 | E << 14) ^ (E >>> 9 | T << 23)), p += u >>> 16, m += 65535 & (l = (E >>> 14 | T << 18) ^ (E >>> 18 | T << 14) ^ (T >>> 9 | E << 23)), g += l >>> 16, f += 65535 & (u = T & N ^ ~T & P), p += u >>> 16, m += 65535 & (l = E & x ^ ~E & _), g += l >>> 16, l = s[2 * O], f += 65535 & (u = s[2 * O + 1]), p += u >>> 16, m += 65535 & l, g += l >>> 16, l = e[O % 16], p += (u = t[O % 16]) >>> 16, m += 65535 & l, g += l >>> 16, m += (p += (f += 65535 & u) >>> 16) >>> 16, f = 65535 & (u = h = 65535 & f | p << 16), p = u >>> 16, m = 65535 & (l = d = 65535 & m | (g += m >>> 16) << 16), g = l >>> 16, f += 65535 & (u = (A >>> 28 | y << 4) ^ (y >>> 2 | A << 30) ^ (y >>> 7 | A << 25)), p += u >>> 16, m += 65535 & (l = (y >>> 28 | A << 4) ^ (A >>> 2 | y << 30) ^ (A >>> 7 | y << 25)), g += l >>> 16, p += (u = A & S ^ A & k ^ S & k) >>> 16, m += 65535 & (l = y & b ^ y & v ^ b & v), g += l >>> 16, j = 65535 & (m += (p += (f += 65535 & u) >>> 16) >>> 16) | (g += m >>> 16) << 16, $ = 65535 & f | p << 16, f = 65535 & (u = V), p = u >>> 16, m = 65535 & (l = F), g = l >>> 16, p += (u = h) >>> 16, m += 65535 & (l = d), g += l >>> 16, b = L, v = D, w = U, E = F = 65535 & (m += (p += (f += 65535 & u) >>> 16) >>> 16) | (g += m >>> 16) << 16, x = B, _ = W, C = z, y = j, S = q, k = H, I = G, T = V = 65535 & f | p << 16, N = K, P = Y, M = Z, A = $, O % 16 === 15) for (R = 0; R < 16; R++)l = e[R], f = 65535 & (u = t[R]), p = u >>> 16, m = 65535 & l, g = l >>> 16, l = e[(R + 9) % 16], f += 65535 & (u = t[(R + 9) % 16]), p += u >>> 16, m += 65535 & l, g += l >>> 16, d = e[(R + 1) % 16], f += 65535 & (u = ((h = t[(R + 1) % 16]) >>> 1 | d << 31) ^ (h >>> 8 | d << 24) ^ (h >>> 7 | d << 25)), p += u >>> 16, m += 65535 & (l = (d >>> 1 | h << 31) ^ (d >>> 8 | h << 24) ^ d >>> 7), g += l >>> 16, d = e[(R + 14) % 16], p += (u = ((h = t[(R + 14) % 16]) >>> 19 | d << 13) ^ (d >>> 29 | h << 3) ^ (h >>> 6 | d << 26)) >>> 16, m += 65535 & (l = (d >>> 19 | h << 13) ^ (h >>> 29 | d << 3) ^ d >>> 6), g += l >>> 16, g += (m += (p += (f += 65535 & u) >>> 16) >>> 16) >>> 16, e[R] = 65535 & m | g << 16, t[R] = 65535 & f | p << 16 } f = 65535 & (u = A), p = u >>> 16, m = 65535 & (l = y), g = l >>> 16, l = n[0], p += (u = i[0]) >>> 16, m += 65535 & l, g += l >>> 16, g += (m += (p += (f += 65535 & u) >>> 16) >>> 16) >>> 16, n[0] = y = 65535 & m | g << 16, i[0] = A = 65535 & f | p << 16, f = 65535 & (u = S), p = u >>> 16, m = 65535 & (l = b), g = l >>> 16, l = n[1], p += (u = i[1]) >>> 16, m += 65535 & l, g += l >>> 16, g += (m += (p += (f += 65535 & u) >>> 16) >>> 16) >>> 16, n[1] = b = 65535 & m | g << 16, i[1] = S = 65535 & f | p << 16, f = 65535 & (u = k), p = u >>> 16, m = 65535 & (l = v), g = l >>> 16, l = n[2], p += (u = i[2]) >>> 16, m += 65535 & l, g += l >>> 16, g += (m += (p += (f += 65535 & u) >>> 16) >>> 16) >>> 16, n[2] = v = 65535 & m | g << 16, i[2] = k = 65535 & f | p << 16, f = 65535 & (u = I), p = u >>> 16, m = 65535 & (l = w), g = l >>> 16, l = n[3], p += (u = i[3]) >>> 16, m += 65535 & l, g += l >>> 16, g += (m += (p += (f += 65535 & u) >>> 16) >>> 16) >>> 16, n[3] = w = 65535 & m | g << 16, i[3] = I = 65535 & f | p << 16, f = 65535 & (u = T), p = u >>> 16, m = 65535 & (l = E), g = l >>> 16, l = n[4], p += (u = i[4]) >>> 16, m += 65535 & l, g += l >>> 16, g += (m += (p += (f += 65535 & u) >>> 16) >>> 16) >>> 16, n[4] = E = 65535 & m | g << 16, i[4] = T = 65535 & f | p << 16, f = 65535 & (u = N), p = u >>> 16, m = 65535 & (l = x), g = l >>> 16, l = n[5], p += (u = i[5]) >>> 16, m += 65535 & l, g += l >>> 16, g += (m += (p += (f += 65535 & u) >>> 16) >>> 16) >>> 16, n[5] = x = 65535 & m | g << 16, i[5] = N = 65535 & f | p << 16, f = 65535 & (u = P), p = u >>> 16, m = 65535 & (l = _), g = l >>> 16, l = n[6], p += (u = i[6]) >>> 16, m += 65535 & l, g += l >>> 16, g += (m += (p += (f += 65535 & u) >>> 16) >>> 16) >>> 16, n[6] = _ = 65535 & m | g << 16, i[6] = P = 65535 & f | p << 16, f = 65535 & (u = M), p = u >>> 16, m = 65535 & (l = C), g = l >>> 16, l = n[7], p += (u = i[7]) >>> 16, m += 65535 & l, g += l >>> 16, g += (m += (p += (f += 65535 & u) >>> 16) >>> 16) >>> 16, n[7] = C = 65535 & m | g << 16, i[7] = M = 65535 & f | p << 16, a += 128, c -= 128 } return a } t.hash = function (e) { var t = new o; t.update(e); var n = t.digest(); return t.clean(), n } }, 17309: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.wipe = function (e) { for (var t = 0; t < e.length; t++)e[t] = 0; return e } }, 57664: function (e, t, n) { "use strict"; t.gi = t.Au = t.KS = t.kz = void 0; const r = n(31416), i = n(17309); function o(e) { const t = new Float64Array(16); if (e) for (let n = 0; n < e.length; n++)t[n] = e[n]; return t } t.kz = 32, t.KS = 32; const s = new Uint8Array(32); s[0] = 9; const a = o([56129, 1]); function c(e) { let t = 1; for (let n = 0; n < 16; n++) { let r = e[n] + t + 65535; t = Math.floor(r / 65536), e[n] = r - 65536 * t } e[0] += t - 1 + 37 * (t - 1) } function l(e, t, n) { const r = ~(n - 1); for (let i = 0; i < 16; i++) { const n = r & (e[i] ^ t[i]); e[i] ^= n, t[i] ^= n } } function u(e, t, n) { for (let r = 0; r < 16; r++)e[r] = t[r] + n[r] } function d(e, t, n) { for (let r = 0; r < 16; r++)e[r] = t[r] - n[r] } function h(e, t, n) { let r, i, o = 0, s = 0, a = 0, c = 0, l = 0, u = 0, d = 0, h = 0, f = 0, p = 0, m = 0, g = 0, y = 0, b = 0, v = 0, w = 0, E = 0, x = 0, _ = 0, C = 0, A = 0, S = 0, k = 0, I = 0, T = 0, N = 0, P = 0, M = 0, O = 0, R = 0, j = 0, $ = n[0], L = n[1], D = n[2], U = n[3], F = n[4], B = n[5], W = n[6], z = n[7], q = n[8], H = n[9], G = n[10], V = n[11], K = n[12], Y = n[13], Z = n[14], X = n[15]; r = t[0], o += r * $, s += r * L, a += r * D, c += r * U, l += r * F, u += r * B, d += r * W, h += r * z, f += r * q, p += r * H, m += r * G, g += r * V, y += r * K, b += r * Y, v += r * Z, w += r * X, r = t[1], s += r * $, a += r * L, c += r * D, l += r * U, u += r * F, d += r * B, h += r * W, f += r * z, p += r * q, m += r * H, g += r * G, y += r * V, b += r * K, v += r * Y, w += r * Z, E += r * X, r = t[2], a += r * $, c += r * L, l += r * D, u += r * U, d += r * F, h += r * B, f += r * W, p += r * z, m += r * q, g += r * H, y += r * G, b += r * V, v += r * K, w += r * Y, E += r * Z, x += r * X, r = t[3], c += r * $, l += r * L, u += r * D, d += r * U, h += r * F, f += r * B, p += r * W, m += r * z, g += r * q, y += r * H, b += r * G, v += r * V, w += r * K, E += r * Y, x += r * Z, _ += r * X, r = t[4], l += r * $, u += r * L, d += r * D, h += r * U, f += r * F, p += r * B, m += r * W, g += r * z, y += r * q, b += r * H, v += r * G, w += r * V, E += r * K, x += r * Y, _ += r * Z, C += r * X, r = t[5], u += r * $, d += r * L, h += r * D, f += r * U, p += r * F, m += r * B, g += r * W, y += r * z, b += r * q, v += r * H, w += r * G, E += r * V, x += r * K, _ += r * Y, C += r * Z, A += r * X, r = t[6], d += r * $, h += r * L, f += r * D, p += r * U, m += r * F, g += r * B, y += r * W, b += r * z, v += r * q, w += r * H, E += r * G, x += r * V, _ += r * K, C += r * Y, A += r * Z, S += r * X, r = t[7], h += r * $, f += r * L, p += r * D, m += r * U, g += r * F, y += r * B, b += r * W, v += r * z, w += r * q, E += r * H, x += r * G, _ += r * V, C += r * K, A += r * Y, S += r * Z, k += r * X, r = t[8], f += r * $, p += r * L, m += r * D, g += r * U, y += r * F, b += r * B, v += r * W, w += r * z, E += r * q, x += r * H, _ += r * G, C += r * V, A += r * K, S += r * Y, k += r * Z, I += r * X, r = t[9], p += r * $, m += r * L, g += r * D, y += r * U, b += r * F, v += r * B, w += r * W, E += r * z, x += r * q, _ += r * H, C += r * G, A += r * V, S += r * K, k += r * Y, I += r * Z, T += r * X, r = t[10], m += r * $, g += r * L, y += r * D, b += r * U, v += r * F, w += r * B, E += r * W, x += r * z, _ += r * q, C += r * H, A += r * G, S += r * V, k += r * K, I += r * Y, T += r * Z, N += r * X, r = t[11], g += r * $, y += r * L, b += r * D, v += r * U, w += r * F, E += r * B, x += r * W, _ += r * z, C += r * q, A += r * H, S += r * G, k += r * V, I += r * K, T += r * Y, N += r * Z, P += r * X, r = t[12], y += r * $, b += r * L, v += r * D, w += r * U, E += r * F, x += r * B, _ += r * W, C += r * z, A += r * q, S += r * H, k += r * G, I += r * V, T += r * K, N += r * Y, P += r * Z, M += r * X, r = t[13], b += r * $, v += r * L, w += r * D, E += r * U, x += r * F, _ += r * B, C += r * W, A += r * z, S += r * q, k += r * H, I += r * G, T += r * V, N += r * K, P += r * Y, M += r * Z, O += r * X, r = t[14], v += r * $, w += r * L, E += r * D, x += r * U, _ += r * F, C += r * B, A += r * W, S += r * z, k += r * q, I += r * H, T += r * G, N += r * V, P += r * K, M += r * Y, O += r * Z, R += r * X, r = t[15], w += r * $, E += r * L, x += r * D, _ += r * U, C += r * F, A += r * B, S += r * W, k += r * z, I += r * q, T += r * H, N += r * G, P += r * V, M += r * K, O += r * Y, R += r * Z, j += r * X, o += 38 * E, s += 38 * x, a += 38 * _, c += 38 * C, l += 38 * A, u += 38 * S, d += 38 * k, h += 38 * I, f += 38 * T, p += 38 * N, m += 38 * P, g += 38 * M, y += 38 * O, b += 38 * R, v += 38 * j, i = 1, r = o + i + 65535, i = Math.floor(r / 65536), o = r - 65536 * i, r = s + i + 65535, i = Math.floor(r / 65536), s = r - 65536 * i, r = a + i + 65535, i = Math.floor(r / 65536), a = r - 65536 * i, r = c + i + 65535, i = Math.floor(r / 65536), c = r - 65536 * i, r = l + i + 65535, i = Math.floor(r / 65536), l = r - 65536 * i, r = u + i + 65535, i = Math.floor(r / 65536), u = r - 65536 * i, r = d + i + 65535, i = Math.floor(r / 65536), d = r - 65536 * i, r = h + i + 65535, i = Math.floor(r / 65536), h = r - 65536 * i, r = f + i + 65535, i = Math.floor(r / 65536), f = r - 65536 * i, r = p + i + 65535, i = Math.floor(r / 65536), p = r - 65536 * i, r = m + i + 65535, i = Math.floor(r / 65536), m = r - 65536 * i, r = g + i + 65535, i = Math.floor(r / 65536), g = r - 65536 * i, r = y + i + 65535, i = Math.floor(r / 65536), y = r - 65536 * i, r = b + i + 65535, i = Math.floor(r / 65536), b = r - 65536 * i, r = v + i + 65535, i = Math.floor(r / 65536), v = r - 65536 * i, r = w + i + 65535, i = Math.floor(r / 65536), w = r - 65536 * i, o += i - 1 + 37 * (i - 1), i = 1, r = o + i + 65535, i = Math.floor(r / 65536), o = r - 65536 * i, r = s + i + 65535, i = Math.floor(r / 65536), s = r - 65536 * i, r = a + i + 65535, i = Math.floor(r / 65536), a = r - 65536 * i, r = c + i + 65535, i = Math.floor(r / 65536), c = r - 65536 * i, r = l + i + 65535, i = Math.floor(r / 65536), l = r - 65536 * i, r = u + i + 65535, i = Math.floor(r / 65536), u = r - 65536 * i, r = d + i + 65535, i = Math.floor(r / 65536), d = r - 65536 * i, r = h + i + 65535, i = Math.floor(r / 65536), h = r - 65536 * i, r = f + i + 65535, i = Math.floor(r / 65536), f = r - 65536 * i, r = p + i + 65535, i = Math.floor(r / 65536), p = r - 65536 * i, r = m + i + 65535, i = Math.floor(r / 65536), m = r - 65536 * i, r = g + i + 65535, i = Math.floor(r / 65536), g = r - 65536 * i, r = y + i + 65535, i = Math.floor(r / 65536), y = r - 65536 * i, r = b + i + 65535, i = Math.floor(r / 65536), b = r - 65536 * i, r = v + i + 65535, i = Math.floor(r / 65536), v = r - 65536 * i, r = w + i + 65535, i = Math.floor(r / 65536), w = r - 65536 * i, o += i - 1 + 37 * (i - 1), e[0] = o, e[1] = s, e[2] = a, e[3] = c, e[4] = l, e[5] = u, e[6] = d, e[7] = h, e[8] = f, e[9] = p, e[10] = m, e[11] = g, e[12] = y, e[13] = b, e[14] = v, e[15] = w } function f(e, t) { h(e, t, t) } function p(e, t) { const n = new Uint8Array(32), r = new Float64Array(80), i = o(), s = o(), p = o(), m = o(), g = o(), y = o(); for (let o = 0; o < 31; o++)n[o] = e[o]; n[31] = 127 & e[31] | 64, n[0] &= 248, function (e, t) { for (let n = 0; n < 16; n++)e[n] = t[2 * n] + (t[2 * n + 1] << 8); e[15] &= 32767 }(r, t); for (let o = 0; o < 16; o++)s[o] = r[o]; i[0] = m[0] = 1; for (let o = 254; o >= 0; --o) { const e = n[o >>> 3] >>> (7 & o) & 1; l(i, s, e), l(p, m, e), u(g, i, p), d(i, i, p), u(p, s, m), d(s, s, m), f(m, g), f(y, i), h(i, p, i), h(p, s, g), u(g, i, p), d(i, i, p), f(s, i), d(p, m, y), h(i, p, a), u(i, i, m), h(p, p, i), h(i, m, y), h(m, s, r), f(s, g), l(i, s, e), l(p, m, e) } for (let o = 0; o < 16; o++)r[o + 16] = i[o], r[o + 32] = p[o], r[o + 48] = s[o], r[o + 64] = m[o]; const b = r.subarray(32), v = r.subarray(16); !function (e, t) { const n = o(); for (let r = 0; r < 16; r++)n[r] = t[r]; for (let r = 253; r >= 0; r--)f(n, n), 2 !== r && 4 !== r && h(n, n, t); for (let r = 0; r < 16; r++)e[r] = n[r] }(b, b), h(v, v, b); const w = new Uint8Array(32); return function (e, t) { const n = o(), r = o(); for (let i = 0; i < 16; i++)r[i] = t[i]; c(r), c(r), c(r); for (let i = 0; i < 2; i++) { n[0] = r[0] - 65517; for (let t = 1; t < 15; t++)n[t] = r[t] - 65535 - (n[t - 1] >> 16 & 1), n[t - 1] &= 65535; n[15] = r[15] - 32767 - (n[14] >> 16 & 1); const e = n[15] >> 16 & 1; n[14] &= 65535, l(r, n, 1 - e) } for (let i = 0; i < 16; i++)e[2 * i] = 255 & r[i], e[2 * i + 1] = r[i] >> 8 }(w, v), w } function m(e) { return p(e, s) } function g(e) { if (e.length !== t.KS) throw new Error(`x25519: seed must be ${t.KS} bytes`); const n = new Uint8Array(e); return { publicKey: m(n), secretKey: n } } t.Au = function (e) { const t = (0, r.randomBytes)(32, e), n = g(t); return (0, i.wipe)(t), n }, t.gi = function (e, n, r = !1) { if (e.length !== t.kz) throw new Error("X25519: incorrect secret key length"); if (n.length !== t.kz) throw new Error("X25519: incorrect public key length"); const i = p(e, n); if (r) { let e = 0; for (let t = 0; t < i.length; t++)e |= i[t]; if (0 === e) throw new Error("X25519: invalid shared key") } return i } }, 24143: function (e) { "use strict"; var t = Object.prototype.hasOwnProperty, n = "~"; function r() { } function i(e, t, n) { this.fn = e, this.context = t, this.once = n || !1 } function o(e, t, r, o, s) { if ("function" !== typeof r) throw new TypeError("The listener must be a function"); var a = new i(r, o || e, s), c = n ? n + t : t; return e._events[c] ? e._events[c].fn ? e._events[c] = [e._events[c], a] : e._events[c].push(a) : (e._events[c] = a, e._eventsCount++), e } function s(e, t) { 0 === --e._eventsCount ? e._events = new r : delete e._events[t] } function a() { this._events = new r, this._eventsCount = 0 } Object.create && (r.prototype = Object.create(null), (new r).__proto__ || (n = !1)), a.prototype.eventNames = function () { var e, r, i = []; if (0 === this._eventsCount) return i; for (r in e = this._events) t.call(e, r) && i.push(n ? r.slice(1) : r); return Object.getOwnPropertySymbols ? i.concat(Object.getOwnPropertySymbols(e)) : i }, a.prototype.listeners = function (e) { var t = n ? n + e : e, r = this._events[t]; if (!r) return []; if (r.fn) return [r.fn]; for (var i = 0, o = r.length, s = new Array(o); i < o; i++)s[i] = r[i].fn; return s }, a.prototype.listenerCount = function (e) { var t = n ? n + e : e, r = this._events[t]; return r ? r.fn ? 1 : r.length : 0 }, a.prototype.emit = function (e, t, r, i, o, s) { var a = n ? n + e : e; if (!this._events[a]) return !1; var c, l, u = this._events[a], d = arguments.length; if (u.fn) { switch (u.once && this.removeListener(e, u.fn, void 0, !0), d) { case 1: return u.fn.call(u.context), !0; case 2: return u.fn.call(u.context, t), !0; case 3: return u.fn.call(u.context, t, r), !0; case 4: return u.fn.call(u.context, t, r, i), !0; case 5: return u.fn.call(u.context, t, r, i, o), !0; case 6: return u.fn.call(u.context, t, r, i, o, s), !0 }for (l = 1, c = new Array(d - 1); l < d; l++)c[l - 1] = arguments[l]; u.fn.apply(u.context, c) } else { var h, f = u.length; for (l = 0; l < f; l++)switch (u[l].once && this.removeListener(e, u[l].fn, void 0, !0), d) { case 1: u[l].fn.call(u[l].context); break; case 2: u[l].fn.call(u[l].context, t); break; case 3: u[l].fn.call(u[l].context, t, r); break; case 4: u[l].fn.call(u[l].context, t, r, i); break; default: if (!c) for (h = 1, c = new Array(d - 1); h < d; h++)c[h - 1] = arguments[h]; u[l].fn.apply(u[l].context, c) } } return !0 }, a.prototype.on = function (e, t, n) { return o(this, e, t, n, !1) }, a.prototype.once = function (e, t, n) { return o(this, e, t, n, !0) }, a.prototype.removeListener = function (e, t, r, i) { var o = n ? n + e : e; if (!this._events[o]) return this; if (!t) return s(this, o), this; var a = this._events[o]; if (a.fn) a.fn !== t || i && !a.once || r && a.context !== r || s(this, o); else { for (var c = 0, l = [], u = a.length; c < u; c++)(a[c].fn !== t || i && !a[c].once || r && a[c].context !== r) && l.push(a[c]); l.length ? this._events[o] = 1 === l.length ? l[0] : l : s(this, o) } return this }, a.prototype.removeAllListeners = function (e) { var t; return e ? (t = n ? n + e : e, this._events[t] && s(this, t)) : (this._events = new r, this._eventsCount = 0), this }, a.prototype.off = a.prototype.removeListener, a.prototype.addListener = a.prototype.on, a.prefixed = n, a.EventEmitter = a, e.exports = a }, 40926: function (e, t, n) { "use strict"; function r() { return (null === n.g || void 0 === n.g ? void 0 : n.g.crypto) || (null === n.g || void 0 === n.g ? void 0 : n.g.msCrypto) || {} } function i() { const e = r(); return e.subtle || e.webkitSubtle } Object.defineProperty(t, "__esModule", { value: !0 }), t.isBrowserCryptoAvailable = t.getSubtleCrypto = t.getBrowerCrypto = void 0, t.getBrowerCrypto = r, t.getSubtleCrypto = i, t.isBrowserCryptoAvailable = function () { return !!r() && !!i() } }, 88618: function (e, t, n) { "use strict"; var r = n(34155); function i() { return "undefined" === typeof document && "undefined" !== typeof navigator && "ReactNative" === navigator.product } function o() { return "undefined" !== typeof r && "undefined" !== typeof r.versions && "undefined" !== typeof r.versions.node } Object.defineProperty(t, "__esModule", { value: !0 }), t.isBrowser = t.isNode = t.isReactNative = void 0, t.isReactNative = i, t.isNode = o, t.isBrowser = function () { return !i() && !o() } }, 1468: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); const r = n(34308); r.__exportStar(n(40926), t), r.__exportStar(n(88618), t) }, 34308: function (e, t, n) { "use strict"; n.r(t), n.d(t, { __extends: function () { return i }, __assign: function () { return o }, __rest: function () { return s }, __decorate: function () { return a }, __param: function () { return c }, __metadata: function () { return l }, __awaiter: function () { return u }, __generator: function () { return d }, __createBinding: function () { return h }, __exportStar: function () { return f }, __values: function () { return p }, __read: function () { return m }, __spread: function () { return g }, __spreadArrays: function () { return y }, __await: function () { return b }, __asyncGenerator: function () { return v }, __asyncDelegator: function () { return w }, __asyncValues: function () { return E }, __makeTemplateObject: function () { return x }, __importStar: function () { return _ }, __importDefault: function () { return C }, __classPrivateFieldGet: function () { return A }, __classPrivateFieldSet: function () { return S } }); var r = function (e, t) { return (r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (e, t) { e.__proto__ = t } || function (e, t) { for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]) })(e, t) }; function i(e, t) { function n() { this.constructor = e } r(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n) } var o = function () { return (o = Object.assign || function (e) { for (var t, n = 1, r = arguments.length; n < r; n++)for (var i in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e }).apply(this, arguments) }; function s(e, t) { var n = {}; for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]); if (null != e && "function" === typeof Object.getOwnPropertySymbols) { var i = 0; for (r = Object.getOwnPropertySymbols(e); i < r.length; i++)t.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[i]) && (n[r[i]] = e[r[i]]) } return n } function a(e, t, n, r) { var i, o = arguments.length, s = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r; if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) s = Reflect.decorate(e, t, n, r); else for (var a = e.length - 1; a >= 0; a--)(i = e[a]) && (s = (o < 3 ? i(s) : o > 3 ? i(t, n, s) : i(t, n)) || s); return o > 3 && s && Object.defineProperty(t, n, s), s } function c(e, t) { return function (n, r) { t(n, r, e) } } function l(e, t) { if ("object" === typeof Reflect && "function" === typeof Reflect.metadata) return Reflect.metadata(e, t) } function u(e, t, n, r) { return new (n || (n = Promise))((function (i, o) { function s(e) { try { c(r.next(e)) } catch (t) { o(t) } } function a(e) { try { c(r.throw(e)) } catch (t) { o(t) } } function c(e) { var t; e.done ? i(e.value) : (t = e.value, t instanceof n ? t : new n((function (e) { e(t) }))).then(s, a) } c((r = r.apply(e, t || [])).next()) })) } function d(e, t) { var n, r, i, o, s = { label: 0, sent: function () { if (1 & i[0]) throw i[1]; return i[1] }, trys: [], ops: [] }; return o = { next: a(0), throw: a(1), return: a(2) }, "function" === typeof Symbol && (o[Symbol.iterator] = function () { return this }), o; function a(o) { return function (a) { return function (o) { if (n) throw new TypeError("Generator is already executing."); for (; s;)try { if (n = 1, r && (i = 2 & o[0] ? r.return : o[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, o[1])).done) return i; switch (r = 0, i && (o = [2 & o[0], i.value]), o[0]) { case 0: case 1: i = o; break; case 4: return s.label++, { value: o[1], done: !1 }; case 5: s.label++, r = o[1], o = [0]; continue; case 7: o = s.ops.pop(), s.trys.pop(); continue; default: if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === o[0] || 2 === o[0])) { s = 0; continue } if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) { s.label = o[1]; break } if (6 === o[0] && s.label < i[1]) { s.label = i[1], i = o; break } if (i && s.label < i[2]) { s.label = i[2], s.ops.push(o); break } i[2] && s.ops.pop(), s.trys.pop(); continue }o = t.call(e, s) } catch (a) { o = [6, a], r = 0 } finally { n = i = 0 } if (5 & o[0]) throw o[1]; return { value: o[0] ? o[1] : void 0, done: !0 } }([o, a]) } } } function h(e, t, n, r) { void 0 === r && (r = n), e[r] = t[n] } function f(e, t) { for (var n in e) "default" === n || t.hasOwnProperty(n) || (t[n] = e[n]) } function p(e) { var t = "function" === typeof Symbol && Symbol.iterator, n = t && e[t], r = 0; if (n) return n.call(e); if (e && "number" === typeof e.length) return { next: function () { return e && r >= e.length && (e = void 0), { value: e && e[r++], done: !e } } }; throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.") } function m(e, t) { var n = "function" === typeof Symbol && e[Symbol.iterator]; if (!n) return e; var r, i, o = n.call(e), s = []; try { for (; (void 0 === t || t-- > 0) && !(r = o.next()).done;)s.push(r.value) } catch (a) { i = { error: a } } finally { try { r && !r.done && (n = o.return) && n.call(o) } finally { if (i) throw i.error } } return s } function g() { for (var e = [], t = 0; t < arguments.length; t++)e = e.concat(m(arguments[t])); return e } function y() { for (var e = 0, t = 0, n = arguments.length; t < n; t++)e += arguments[t].length; var r = Array(e), i = 0; for (t = 0; t < n; t++)for (var o = arguments[t], s = 0, a = o.length; s < a; s++, i++)r[i] = o[s]; return r } function b(e) { return this instanceof b ? (this.v = e, this) : new b(e) } function v(e, t, n) { if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined."); var r, i = n.apply(e, t || []), o = []; return r = {}, s("next"), s("throw"), s("return"), r[Symbol.asyncIterator] = function () { return this }, r; function s(e) { i[e] && (r[e] = function (t) { return new Promise((function (n, r) { o.push([e, t, n, r]) > 1 || a(e, t) })) }) } function a(e, t) { try { !function (e) { e.value instanceof b ? Promise.resolve(e.value.v).then(c, l) : u(o[0][2], e) }(i[e](t)) } catch (n) { u(o[0][3], n) } } function c(e) { a("next", e) } function l(e) { a("throw", e) } function u(e, t) { e(t), o.shift(), o.length && a(o[0][0], o[0][1]) } } function w(e) { var t, n; return t = {}, r("next"), r("throw", (function (e) { throw e })), r("return"), t[Symbol.iterator] = function () { return this }, t; function r(r, i) { t[r] = e[r] ? function (t) { return (n = !n) ? { value: b(e[r](t)), done: "return" === r } : i ? i(t) : t } : i } } function E(e) { if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined."); var t, n = e[Symbol.asyncIterator]; return n ? n.call(e) : (e = p(e), t = {}, r("next"), r("throw"), r("return"), t[Symbol.asyncIterator] = function () { return this }, t); function r(n) { t[n] = e[n] && function (t) { return new Promise((function (r, i) { (function (e, t, n, r) { Promise.resolve(r).then((function (t) { e({ value: t, done: n }) }), t) })(r, i, (t = e[n](t)).done, t.value) })) } } } function x(e, t) { return Object.defineProperty ? Object.defineProperty(e, "raw", { value: t }) : e.raw = t, e } function _(e) { if (e && e.__esModule) return e; var t = {}; if (null != e) for (var n in e) Object.hasOwnProperty.call(e, n) && (t[n] = e[n]); return t.default = e, t } function C(e) { return e && e.__esModule ? e : { default: e } } function A(e, t) { if (!t.has(e)) throw new TypeError("attempted to get private field on non-instance"); return t.get(e) } function S(e, t, n) { if (!t.has(e)) throw new TypeError("attempted to set private field on non-instance"); return t.set(e, n), n } }, 72030: function (e) { "use strict"; e.exports = function () { throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object") } }, 43014: function () { }, 36900: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); const r = n(30004); r.__exportStar(n(46869), t), r.__exportStar(n(88033), t) }, 46869: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.ONE_THOUSAND = t.ONE_HUNDRED = void 0, t.ONE_HUNDRED = 100, t.ONE_THOUSAND = 1e3 }, 88033: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.ONE_YEAR = t.FOUR_WEEKS = t.THREE_WEEKS = t.TWO_WEEKS = t.ONE_WEEK = t.THIRTY_DAYS = t.SEVEN_DAYS = t.FIVE_DAYS = t.THREE_DAYS = t.ONE_DAY = t.TWENTY_FOUR_HOURS = t.TWELVE_HOURS = t.SIX_HOURS = t.THREE_HOURS = t.ONE_HOUR = t.SIXTY_MINUTES = t.THIRTY_MINUTES = t.TEN_MINUTES = t.FIVE_MINUTES = t.ONE_MINUTE = t.SIXTY_SECONDS = t.THIRTY_SECONDS = t.TEN_SECONDS = t.FIVE_SECONDS = t.ONE_SECOND = void 0, t.ONE_SECOND = 1, t.FIVE_SECONDS = 5, t.TEN_SECONDS = 10, t.THIRTY_SECONDS = 30, t.SIXTY_SECONDS = 60, t.ONE_MINUTE = t.SIXTY_SECONDS, t.FIVE_MINUTES = 5 * t.ONE_MINUTE, t.TEN_MINUTES = 10 * t.ONE_MINUTE, t.THIRTY_MINUTES = 30 * t.ONE_MINUTE, t.SIXTY_MINUTES = 60 * t.ONE_MINUTE, t.ONE_HOUR = t.SIXTY_MINUTES, t.THREE_HOURS = 3 * t.ONE_HOUR, t.SIX_HOURS = 6 * t.ONE_HOUR, t.TWELVE_HOURS = 12 * t.ONE_HOUR, t.TWENTY_FOUR_HOURS = 24 * t.ONE_HOUR, t.ONE_DAY = t.TWENTY_FOUR_HOURS, t.THREE_DAYS = 3 * t.ONE_DAY, t.FIVE_DAYS = 5 * t.ONE_DAY, t.SEVEN_DAYS = 7 * t.ONE_DAY, t.THIRTY_DAYS = 30 * t.ONE_DAY, t.ONE_WEEK = t.SEVEN_DAYS, t.TWO_WEEKS = 2 * t.ONE_WEEK, t.THREE_WEEKS = 3 * t.ONE_WEEK, t.FOUR_WEEKS = 4 * t.ONE_WEEK, t.ONE_YEAR = 365 * t.ONE_DAY }, 66736: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); const r = n(30004); r.__exportStar(n(44273), t), r.__exportStar(n(47001), t), r.__exportStar(n(52939), t), r.__exportStar(n(36900), t) }, 52939: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); n(30004).__exportStar(n(88766), t) }, 88766: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.IWatch = void 0; t.IWatch = class { } }, 83207: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.fromMiliseconds = t.toMiliseconds = void 0; const r = n(36900); t.toMiliseconds = function (e) { return e * r.ONE_THOUSAND }, t.fromMiliseconds = function (e) { return Math.floor(e / r.ONE_THOUSAND) } }, 83873: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.delay = void 0, t.delay = function (e) { return new Promise((t => { setTimeout((() => { t(!0) }), e) })) } }, 44273: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); const r = n(30004); r.__exportStar(n(83873), t), r.__exportStar(n(83207), t) }, 47001: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.Watch = void 0; class n { constructor() { this.timestamps = new Map } start(e) { if (this.timestamps.has(e)) throw new Error(`Watch already started for label: ${e}`); this.timestamps.set(e, { started: Date.now() }) } stop(e) { const t = this.get(e); if ("undefined" !== typeof t.elapsed) throw new Error(`Watch already stopped for label: ${e}`); const n = Date.now() - t.started; this.timestamps.set(e, { started: t.started, elapsed: n }) } get(e) { const t = this.timestamps.get(e); if ("undefined" === typeof t) throw new Error(`No timestamp found for label: ${e}`); return t } elapsed(e) { const t = this.get(e); return t.elapsed || Date.now() - t.started } } t.Watch = n, t.default = n }, 30004: function (e, t, n) { "use strict"; n.r(t), n.d(t, { __extends: function () { return i }, __assign: function () { return o }, __rest: function () { return s }, __decorate: function () { return a }, __param: function () { return c }, __metadata: function () { return l }, __awaiter: function () { return u }, __generator: function () { return d }, __createBinding: function () { return h }, __exportStar: function () { return f }, __values: function () { return p }, __read: function () { return m }, __spread: function () { return g }, __spreadArrays: function () { return y }, __await: function () { return b }, __asyncGenerator: function () { return v }, __asyncDelegator: function () { return w }, __asyncValues: function () { return E }, __makeTemplateObject: function () { return x }, __importStar: function () { return _ }, __importDefault: function () { return C }, __classPrivateFieldGet: function () { return A }, __classPrivateFieldSet: function () { return S } }); var r = function (e, t) { return (r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (e, t) { e.__proto__ = t } || function (e, t) { for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]) })(e, t) }; function i(e, t) { function n() { this.constructor = e } r(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n) } var o = function () { return (o = Object.assign || function (e) { for (var t, n = 1, r = arguments.length; n < r; n++)for (var i in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e }).apply(this, arguments) }; function s(e, t) { var n = {}; for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]); if (null != e && "function" === typeof Object.getOwnPropertySymbols) { var i = 0; for (r = Object.getOwnPropertySymbols(e); i < r.length; i++)t.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[i]) && (n[r[i]] = e[r[i]]) } return n } function a(e, t, n, r) { var i, o = arguments.length, s = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r; if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) s = Reflect.decorate(e, t, n, r); else for (var a = e.length - 1; a >= 0; a--)(i = e[a]) && (s = (o < 3 ? i(s) : o > 3 ? i(t, n, s) : i(t, n)) || s); return o > 3 && s && Object.defineProperty(t, n, s), s } function c(e, t) { return function (n, r) { t(n, r, e) } } function l(e, t) { if ("object" === typeof Reflect && "function" === typeof Reflect.metadata) return Reflect.metadata(e, t) } function u(e, t, n, r) { return new (n || (n = Promise))((function (i, o) { function s(e) { try { c(r.next(e)) } catch (t) { o(t) } } function a(e) { try { c(r.throw(e)) } catch (t) { o(t) } } function c(e) { var t; e.done ? i(e.value) : (t = e.value, t instanceof n ? t : new n((function (e) { e(t) }))).then(s, a) } c((r = r.apply(e, t || [])).next()) })) } function d(e, t) { var n, r, i, o, s = { label: 0, sent: function () { if (1 & i[0]) throw i[1]; return i[1] }, trys: [], ops: [] }; return o = { next: a(0), throw: a(1), return: a(2) }, "function" === typeof Symbol && (o[Symbol.iterator] = function () { return this }), o; function a(o) { return function (a) { return function (o) { if (n) throw new TypeError("Generator is already executing."); for (; s;)try { if (n = 1, r && (i = 2 & o[0] ? r.return : o[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, o[1])).done) return i; switch (r = 0, i && (o = [2 & o[0], i.value]), o[0]) { case 0: case 1: i = o; break; case 4: return s.label++, { value: o[1], done: !1 }; case 5: s.label++, r = o[1], o = [0]; continue; case 7: o = s.ops.pop(), s.trys.pop(); continue; default: if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === o[0] || 2 === o[0])) { s = 0; continue } if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) { s.label = o[1]; break } if (6 === o[0] && s.label < i[1]) { s.label = i[1], i = o; break } if (i && s.label < i[2]) { s.label = i[2], s.ops.push(o); break } i[2] && s.ops.pop(), s.trys.pop(); continue }o = t.call(e, s) } catch (a) { o = [6, a], r = 0 } finally { n = i = 0 } if (5 & o[0]) throw o[1]; return { value: o[0] ? o[1] : void 0, done: !0 } }([o, a]) } } } function h(e, t, n, r) { void 0 === r && (r = n), e[r] = t[n] } function f(e, t) { for (var n in e) "default" === n || t.hasOwnProperty(n) || (t[n] = e[n]) } function p(e) { var t = "function" === typeof Symbol && Symbol.iterator, n = t && e[t], r = 0; if (n) return n.call(e); if (e && "number" === typeof e.length) return { next: function () { return e && r >= e.length && (e = void 0), { value: e && e[r++], done: !e } } }; throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.") } function m(e, t) { var n = "function" === typeof Symbol && e[Symbol.iterator]; if (!n) return e; var r, i, o = n.call(e), s = []; try { for (; (void 0 === t || t-- > 0) && !(r = o.next()).done;)s.push(r.value) } catch (a) { i = { error: a } } finally { try { r && !r.done && (n = o.return) && n.call(o) } finally { if (i) throw i.error } } return s } function g() { for (var e = [], t = 0; t < arguments.length; t++)e = e.concat(m(arguments[t])); return e } function y() { for (var e = 0, t = 0, n = arguments.length; t < n; t++)e += arguments[t].length; var r = Array(e), i = 0; for (t = 0; t < n; t++)for (var o = arguments[t], s = 0, a = o.length; s < a; s++, i++)r[i] = o[s]; return r } function b(e) { return this instanceof b ? (this.v = e, this) : new b(e) } function v(e, t, n) { if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined."); var r, i = n.apply(e, t || []), o = []; return r = {}, s("next"), s("throw"), s("return"), r[Symbol.asyncIterator] = function () { return this }, r; function s(e) { i[e] && (r[e] = function (t) { return new Promise((function (n, r) { o.push([e, t, n, r]) > 1 || a(e, t) })) }) } function a(e, t) { try { !function (e) { e.value instanceof b ? Promise.resolve(e.value.v).then(c, l) : u(o[0][2], e) }(i[e](t)) } catch (n) { u(o[0][3], n) } } function c(e) { a("next", e) } function l(e) { a("throw", e) } function u(e, t) { e(t), o.shift(), o.length && a(o[0][0], o[0][1]) } } function w(e) { var t, n; return t = {}, r("next"), r("throw", (function (e) { throw e })), r("return"), t[Symbol.iterator] = function () { return this }, t; function r(r, i) { t[r] = e[r] ? function (t) { return (n = !n) ? { value: b(e[r](t)), done: "return" === r } : i ? i(t) : t } : i } } function E(e) { if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined."); var t, n = e[Symbol.asyncIterator]; return n ? n.call(e) : (e = p(e), t = {}, r("next"), r("throw"), r("return"), t[Symbol.asyncIterator] = function () { return this }, t); function r(n) { t[n] = e[n] && function (t) { return new Promise((function (r, i) { (function (e, t, n, r) { Promise.resolve(r).then((function (t) { e({ value: t, done: n }) }), t) })(r, i, (t = e[n](t)).done, t.value) })) } } } function x(e, t) { return Object.defineProperty ? Object.defineProperty(e, "raw", { value: t }) : e.raw = t, e } function _(e) { if (e && e.__esModule) return e; var t = {}; if (null != e) for (var n in e) Object.hasOwnProperty.call(e, n) && (t[n] = e[n]); return t.default = e, t } function C(e) { return e && e.__esModule ? e : { default: e } } function A(e, t) { if (!t.has(e)) throw new TypeError("attempted to get private field on non-instance"); return t.get(e) } function S(e, t, n) { if (!t.has(e)) throw new TypeError("attempted to set private field on non-instance"); return t.set(e, n), n } }, 11460: function (e, t, n) { !function (e, t) { "use strict"; function r(e, t) { if (!e) throw new Error(t || "Assertion failed") } function i(e, t) { e.super_ = t; var n = function () { }; n.prototype = t.prototype, e.prototype = new n, e.prototype.constructor = e } function o(e, t, n) { if (o.isBN(e)) return e; this.negative = 0, this.words = null, this.length = 0, this.red = null, null !== e && ("le" !== t && "be" !== t || (n = t, t = 10), this._init(e || 0, t || 10, n || "be")) } var s; "object" === typeof e ? e.exports = o : t.BN = o, o.BN = o, o.wordSize = 26; try { s = "undefined" !== typeof window && "undefined" !== typeof window.Buffer ? window.Buffer : n(36563).Buffer } catch (A) { } function a(e, t) { var n = e.charCodeAt(t); return n >= 65 && n <= 70 ? n - 55 : n >= 97 && n <= 102 ? n - 87 : n - 48 & 15 } function c(e, t, n) { var r = a(e, n); return n - 1 >= t && (r |= a(e, n - 1) << 4), r } function l(e, t, n, r) { for (var i = 0, o = Math.min(e.length, n), s = t; s < o; s++) { var a = e.charCodeAt(s) - 48; i *= r, i += a >= 49 ? a - 49 + 10 : a >= 17 ? a - 17 + 10 : a } return i } o.isBN = function (e) { return e instanceof o || null !== e && "object" === typeof e && e.constructor.wordSize === o.wordSize && Array.isArray(e.words) }, o.max = function (e, t) { return e.cmp(t) > 0 ? e : t }, o.min = function (e, t) { return e.cmp(t) < 0 ? e : t }, o.prototype._init = function (e, t, n) { if ("number" === typeof e) return this._initNumber(e, t, n); if ("object" === typeof e) return this._initArray(e, t, n); "hex" === t && (t = 16), r(t === (0 | t) && t >= 2 && t <= 36); var i = 0; "-" === (e = e.toString().replace(/\s+/g, ""))[0] && (i++, this.negative = 1), i < e.length && (16 === t ? this._parseHex(e, i, n) : (this._parseBase(e, t, i), "le" === n && this._initArray(this.toArray(), t, n))) }, o.prototype._initNumber = function (e, t, n) { e < 0 && (this.negative = 1, e = -e), e < 67108864 ? (this.words = [67108863 & e], this.length = 1) : e < 4503599627370496 ? (this.words = [67108863 & e, e / 67108864 & 67108863], this.length = 2) : (r(e < 9007199254740992), this.words = [67108863 & e, e / 67108864 & 67108863, 1], this.length = 3), "le" === n && this._initArray(this.toArray(), t, n) }, o.prototype._initArray = function (e, t, n) { if (r("number" === typeof e.length), e.length <= 0) return this.words = [0], this.length = 1, this; this.length = Math.ceil(e.length / 3), this.words = new Array(this.length); for (var i = 0; i < this.length; i++)this.words[i] = 0; var o, s, a = 0; if ("be" === n) for (i = e.length - 1, o = 0; i >= 0; i -= 3)s = e[i] | e[i - 1] << 8 | e[i - 2] << 16, this.words[o] |= s << a & 67108863, this.words[o + 1] = s >>> 26 - a & 67108863, (a += 24) >= 26 && (a -= 26, o++); else if ("le" === n) for (i = 0, o = 0; i < e.length; i += 3)s = e[i] | e[i + 1] << 8 | e[i + 2] << 16, this.words[o] |= s << a & 67108863, this.words[o + 1] = s >>> 26 - a & 67108863, (a += 24) >= 26 && (a -= 26, o++); return this.strip() }, o.prototype._parseHex = function (e, t, n) { this.length = Math.ceil((e.length - t) / 6), this.words = new Array(this.length); for (var r = 0; r < this.length; r++)this.words[r] = 0; var i, o = 0, s = 0; if ("be" === n) for (r = e.length - 1; r >= t; r -= 2)i = c(e, t, r) << o, this.words[s] |= 67108863 & i, o >= 18 ? (o -= 18, s += 1, this.words[s] |= i >>> 26) : o += 8; else for (r = (e.length - t) % 2 === 0 ? t + 1 : t; r < e.length; r += 2)i = c(e, t, r) << o, this.words[s] |= 67108863 & i, o >= 18 ? (o -= 18, s += 1, this.words[s] |= i >>> 26) : o += 8; this.strip() }, o.prototype._parseBase = function (e, t, n) { this.words = [0], this.length = 1; for (var r = 0, i = 1; i <= 67108863; i *= t)r++; r--, i = i / t | 0; for (var o = e.length - n, s = o % r, a = Math.min(o, o - s) + n, c = 0, u = n; u < a; u += r)c = l(e, u, u + r, t), this.imuln(i), this.words[0] + c < 67108864 ? this.words[0] += c : this._iaddn(c); if (0 !== s) { var d = 1; for (c = l(e, u, e.length, t), u = 0; u < s; u++)d *= t; this.imuln(d), this.words[0] + c < 67108864 ? this.words[0] += c : this._iaddn(c) } this.strip() }, o.prototype.copy = function (e) { e.words = new Array(this.length); for (var t = 0; t < this.length; t++)e.words[t] = this.words[t]; e.length = this.length, e.negative = this.negative, e.red = this.red }, o.prototype.clone = function () { var e = new o(null); return this.copy(e), e }, o.prototype._expand = function (e) { for (; this.length < e;)this.words[this.length++] = 0; return this }, o.prototype.strip = function () { for (; this.length > 1 && 0 === this.words[this.length - 1];)this.length--; return this._normSign() }, o.prototype._normSign = function () { return 1 === this.length && 0 === this.words[0] && (this.negative = 0), this }, o.prototype.inspect = function () { return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">" }; var u = ["", "0", "00", "000", "0000", "00000", "000000", "0000000", "00000000", "000000000", "0000000000", "00000000000", "000000000000", "0000000000000", "00000000000000", "000000000000000", "0000000000000000", "00000000000000000", "000000000000000000", "0000000000000000000", "00000000000000000000", "000000000000000000000", "0000000000000000000000", "00000000000000000000000", "000000000000000000000000", "0000000000000000000000000"], d = [0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5], h = [0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536, 11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101, 5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176]; function f(e, t, n) { n.negative = t.negative ^ e.negative; var r = e.length + t.length | 0; n.length = r, r = r - 1 | 0; var i = 0 | e.words[0], o = 0 | t.words[0], s = i * o, a = 67108863 & s, c = s / 67108864 | 0; n.words[0] = a; for (var l = 1; l < r; l++) { for (var u = c >>> 26, d = 67108863 & c, h = Math.min(l, t.length - 1), f = Math.max(0, l - e.length + 1); f <= h; f++) { var p = l - f | 0; u += (s = (i = 0 | e.words[p]) * (o = 0 | t.words[f]) + d) / 67108864 | 0, d = 67108863 & s } n.words[l] = 0 | d, c = 0 | u } return 0 !== c ? n.words[l] = 0 | c : n.length--, n.strip() } o.prototype.toString = function (e, t) { var n; if (t = 0 | t || 1, 16 === (e = e || 10) || "hex" === e) { n = ""; for (var i = 0, o = 0, s = 0; s < this.length; s++) { var a = this.words[s], c = (16777215 & (a << i | o)).toString(16); o = a >>> 24 - i & 16777215, (i += 2) >= 26 && (i -= 26, s--), n = 0 !== o || s !== this.length - 1 ? u[6 - c.length] + c + n : c + n } for (0 !== o && (n = o.toString(16) + n); n.length % t !== 0;)n = "0" + n; return 0 !== this.negative && (n = "-" + n), n } if (e === (0 | e) && e >= 2 && e <= 36) { var l = d[e], f = h[e]; n = ""; var p = this.clone(); for (p.negative = 0; !p.isZero();) { var m = p.modn(f).toString(e); n = (p = p.idivn(f)).isZero() ? m + n : u[l - m.length] + m + n } for (this.isZero() && (n = "0" + n); n.length % t !== 0;)n = "0" + n; return 0 !== this.negative && (n = "-" + n), n } r(!1, "Base should be between 2 and 36") }, o.prototype.toNumber = function () { var e = this.words[0]; return 2 === this.length ? e += 67108864 * this.words[1] : 3 === this.length && 1 === this.words[2] ? e += 4503599627370496 + 67108864 * this.words[1] : this.length > 2 && r(!1, "Number can only safely store up to 53 bits"), 0 !== this.negative ? -e : e }, o.prototype.toJSON = function () { return this.toString(16) }, o.prototype.toBuffer = function (e, t) { return r("undefined" !== typeof s), this.toArrayLike(s, e, t) }, o.prototype.toArray = function (e, t) { return this.toArrayLike(Array, e, t) }, o.prototype.toArrayLike = function (e, t, n) { var i = this.byteLength(), o = n || Math.max(1, i); r(i <= o, "byte array longer than desired length"), r(o > 0, "Requested array length <= 0"), this.strip(); var s, a, c = "le" === t, l = new e(o), u = this.clone(); if (c) { for (a = 0; !u.isZero(); a++)s = u.andln(255), u.iushrn(8), l[a] = s; for (; a < o; a++)l[a] = 0 } else { for (a = 0; a < o - i; a++)l[a] = 0; for (a = 0; !u.isZero(); a++)s = u.andln(255), u.iushrn(8), l[o - a - 1] = s } return l }, Math.clz32 ? o.prototype._countBits = function (e) { return 32 - Math.clz32(e) } : o.prototype._countBits = function (e) { var t = e, n = 0; return t >= 4096 && (n += 13, t >>>= 13), t >= 64 && (n += 7, t >>>= 7), t >= 8 && (n += 4, t >>>= 4), t >= 2 && (n += 2, t >>>= 2), n + t }, o.prototype._zeroBits = function (e) { if (0 === e) return 26; var t = e, n = 0; return 0 === (8191 & t) && (n += 13, t >>>= 13), 0 === (127 & t) && (n += 7, t >>>= 7), 0 === (15 & t) && (n += 4, t >>>= 4), 0 === (3 & t) && (n += 2, t >>>= 2), 0 === (1 & t) && n++, n }, o.prototype.bitLength = function () { var e = this.words[this.length - 1], t = this._countBits(e); return 26 * (this.length - 1) + t }, o.prototype.zeroBits = function () { if (this.isZero()) return 0; for (var e = 0, t = 0; t < this.length; t++) { var n = this._zeroBits(this.words[t]); if (e += n, 26 !== n) break } return e }, o.prototype.byteLength = function () { return Math.ceil(this.bitLength() / 8) }, o.prototype.toTwos = function (e) { return 0 !== this.negative ? this.abs().inotn(e).iaddn(1) : this.clone() }, o.prototype.fromTwos = function (e) { return this.testn(e - 1) ? this.notn(e).iaddn(1).ineg() : this.clone() }, o.prototype.isNeg = function () { return 0 !== this.negative }, o.prototype.neg = function () { return this.clone().ineg() }, o.prototype.ineg = function () { return this.isZero() || (this.negative ^= 1), this }, o.prototype.iuor = function (e) { for (; this.length < e.length;)this.words[this.length++] = 0; for (var t = 0; t < e.length; t++)this.words[t] = this.words[t] | e.words[t]; return this.strip() }, o.prototype.ior = function (e) { return r(0 === (this.negative | e.negative)), this.iuor(e) }, o.prototype.or = function (e) { return this.length > e.length ? this.clone().ior(e) : e.clone().ior(this) }, o.prototype.uor = function (e) { return this.length > e.length ? this.clone().iuor(e) : e.clone().iuor(this) }, o.prototype.iuand = function (e) { var t; t = this.length > e.length ? e : this; for (var n = 0; n < t.length; n++)this.words[n] = this.words[n] & e.words[n]; return this.length = t.length, this.strip() }, o.prototype.iand = function (e) { return r(0 === (this.negative | e.negative)), this.iuand(e) }, o.prototype.and = function (e) { return this.length > e.length ? this.clone().iand(e) : e.clone().iand(this) }, o.prototype.uand = function (e) { return this.length > e.length ? this.clone().iuand(e) : e.clone().iuand(this) }, o.prototype.iuxor = function (e) { var t, n; this.length > e.length ? (t = this, n = e) : (t = e, n = this); for (var r = 0; r < n.length; r++)this.words[r] = t.words[r] ^ n.words[r]; if (this !== t) for (; r < t.length; r++)this.words[r] = t.words[r]; return this.length = t.length, this.strip() }, o.prototype.ixor = function (e) { return r(0 === (this.negative | e.negative)), this.iuxor(e) }, o.prototype.xor = function (e) { return this.length > e.length ? this.clone().ixor(e) : e.clone().ixor(this) }, o.prototype.uxor = function (e) { return this.length > e.length ? this.clone().iuxor(e) : e.clone().iuxor(this) }, o.prototype.inotn = function (e) { r("number" === typeof e && e >= 0); var t = 0 | Math.ceil(e / 26), n = e % 26; this._expand(t), n > 0 && t--; for (var i = 0; i < t; i++)this.words[i] = 67108863 & ~this.words[i]; return n > 0 && (this.words[i] = ~this.words[i] & 67108863 >> 26 - n), this.strip() }, o.prototype.notn = function (e) { return this.clone().inotn(e) }, o.prototype.setn = function (e, t) { r("number" === typeof e && e >= 0); var n = e / 26 | 0, i = e % 26; return this._expand(n + 1), this.words[n] = t ? this.words[n] | 1 << i : this.words[n] & ~(1 << i), this.strip() }, o.prototype.iadd = function (e) { var t, n, r; if (0 !== this.negative && 0 === e.negative) return this.negative = 0, t = this.isub(e), this.negative ^= 1, this._normSign(); if (0 === this.negative && 0 !== e.negative) return e.negative = 0, t = this.isub(e), e.negative = 1, t._normSign(); this.length > e.length ? (n = this, r = e) : (n = e, r = this); for (var i = 0, o = 0; o < r.length; o++)t = (0 | n.words[o]) + (0 | r.words[o]) + i, this.words[o] = 67108863 & t, i = t >>> 26; for (; 0 !== i && o < n.length; o++)t = (0 | n.words[o]) + i, this.words[o] = 67108863 & t, i = t >>> 26; if (this.length = n.length, 0 !== i) this.words[this.length] = i, this.length++; else if (n !== this) for (; o < n.length; o++)this.words[o] = n.words[o]; return this }, o.prototype.add = function (e) { var t; return 0 !== e.negative && 0 === this.negative ? (e.negative = 0, t = this.sub(e), e.negative ^= 1, t) : 0 === e.negative && 0 !== this.negative ? (this.negative = 0, t = e.sub(this), this.negative = 1, t) : this.length > e.length ? this.clone().iadd(e) : e.clone().iadd(this) }, o.prototype.isub = function (e) { if (0 !== e.negative) { e.negative = 0; var t = this.iadd(e); return e.negative = 1, t._normSign() } if (0 !== this.negative) return this.negative = 0, this.iadd(e), this.negative = 1, this._normSign(); var n, r, i = this.cmp(e); if (0 === i) return this.negative = 0, this.length = 1, this.words[0] = 0, this; i > 0 ? (n = this, r = e) : (n = e, r = this); for (var o = 0, s = 0; s < r.length; s++)o = (t = (0 | n.words[s]) - (0 | r.words[s]) + o) >> 26, this.words[s] = 67108863 & t; for (; 0 !== o && s < n.length; s++)o = (t = (0 | n.words[s]) + o) >> 26, this.words[s] = 67108863 & t; if (0 === o && s < n.length && n !== this) for (; s < n.length; s++)this.words[s] = n.words[s]; return this.length = Math.max(this.length, s), n !== this && (this.negative = 1), this.strip() }, o.prototype.sub = function (e) { return this.clone().isub(e) }; var p = function (e, t, n) { var r, i, o, s = e.words, a = t.words, c = n.words, l = 0, u = 0 | s[0], d = 8191 & u, h = u >>> 13, f = 0 | s[1], p = 8191 & f, m = f >>> 13, g = 0 | s[2], y = 8191 & g, b = g >>> 13, v = 0 | s[3], w = 8191 & v, E = v >>> 13, x = 0 | s[4], _ = 8191 & x, C = x >>> 13, A = 0 | s[5], S = 8191 & A, k = A >>> 13, I = 0 | s[6], T = 8191 & I, N = I >>> 13, P = 0 | s[7], M = 8191 & P, O = P >>> 13, R = 0 | s[8], j = 8191 & R, $ = R >>> 13, L = 0 | s[9], D = 8191 & L, U = L >>> 13, F = 0 | a[0], B = 8191 & F, W = F >>> 13, z = 0 | a[1], q = 8191 & z, H = z >>> 13, G = 0 | a[2], V = 8191 & G, K = G >>> 13, Y = 0 | a[3], Z = 8191 & Y, X = Y >>> 13, J = 0 | a[4], Q = 8191 & J, ee = J >>> 13, te = 0 | a[5], ne = 8191 & te, re = te >>> 13, ie = 0 | a[6], oe = 8191 & ie, se = ie >>> 13, ae = 0 | a[7], ce = 8191 & ae, le = ae >>> 13, ue = 0 | a[8], de = 8191 & ue, he = ue >>> 13, fe = 0 | a[9], pe = 8191 & fe, me = fe >>> 13; n.negative = e.negative ^ t.negative, n.length = 19; var ge = (l + (r = Math.imul(d, B)) | 0) + ((8191 & (i = (i = Math.imul(d, W)) + Math.imul(h, B) | 0)) << 13) | 0; l = ((o = Math.imul(h, W)) + (i >>> 13) | 0) + (ge >>> 26) | 0, ge &= 67108863, r = Math.imul(p, B), i = (i = Math.imul(p, W)) + Math.imul(m, B) | 0, o = Math.imul(m, W); var ye = (l + (r = r + Math.imul(d, q) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(d, H) | 0) + Math.imul(h, q) | 0)) << 13) | 0; l = ((o = o + Math.imul(h, H) | 0) + (i >>> 13) | 0) + (ye >>> 26) | 0, ye &= 67108863, r = Math.imul(y, B), i = (i = Math.imul(y, W)) + Math.imul(b, B) | 0, o = Math.imul(b, W), r = r + Math.imul(p, q) | 0, i = (i = i + Math.imul(p, H) | 0) + Math.imul(m, q) | 0, o = o + Math.imul(m, H) | 0; var be = (l + (r = r + Math.imul(d, V) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(d, K) | 0) + Math.imul(h, V) | 0)) << 13) | 0; l = ((o = o + Math.imul(h, K) | 0) + (i >>> 13) | 0) + (be >>> 26) | 0, be &= 67108863, r = Math.imul(w, B), i = (i = Math.imul(w, W)) + Math.imul(E, B) | 0, o = Math.imul(E, W), r = r + Math.imul(y, q) | 0, i = (i = i + Math.imul(y, H) | 0) + Math.imul(b, q) | 0, o = o + Math.imul(b, H) | 0, r = r + Math.imul(p, V) | 0, i = (i = i + Math.imul(p, K) | 0) + Math.imul(m, V) | 0, o = o + Math.imul(m, K) | 0; var ve = (l + (r = r + Math.imul(d, Z) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(d, X) | 0) + Math.imul(h, Z) | 0)) << 13) | 0; l = ((o = o + Math.imul(h, X) | 0) + (i >>> 13) | 0) + (ve >>> 26) | 0, ve &= 67108863, r = Math.imul(_, B), i = (i = Math.imul(_, W)) + Math.imul(C, B) | 0, o = Math.imul(C, W), r = r + Math.imul(w, q) | 0, i = (i = i + Math.imul(w, H) | 0) + Math.imul(E, q) | 0, o = o + Math.imul(E, H) | 0, r = r + Math.imul(y, V) | 0, i = (i = i + Math.imul(y, K) | 0) + Math.imul(b, V) | 0, o = o + Math.imul(b, K) | 0, r = r + Math.imul(p, Z) | 0, i = (i = i + Math.imul(p, X) | 0) + Math.imul(m, Z) | 0, o = o + Math.imul(m, X) | 0; var we = (l + (r = r + Math.imul(d, Q) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(d, ee) | 0) + Math.imul(h, Q) | 0)) << 13) | 0; l = ((o = o + Math.imul(h, ee) | 0) + (i >>> 13) | 0) + (we >>> 26) | 0, we &= 67108863, r = Math.imul(S, B), i = (i = Math.imul(S, W)) + Math.imul(k, B) | 0, o = Math.imul(k, W), r = r + Math.imul(_, q) | 0, i = (i = i + Math.imul(_, H) | 0) + Math.imul(C, q) | 0, o = o + Math.imul(C, H) | 0, r = r + Math.imul(w, V) | 0, i = (i = i + Math.imul(w, K) | 0) + Math.imul(E, V) | 0, o = o + Math.imul(E, K) | 0, r = r + Math.imul(y, Z) | 0, i = (i = i + Math.imul(y, X) | 0) + Math.imul(b, Z) | 0, o = o + Math.imul(b, X) | 0, r = r + Math.imul(p, Q) | 0, i = (i = i + Math.imul(p, ee) | 0) + Math.imul(m, Q) | 0, o = o + Math.imul(m, ee) | 0; var Ee = (l + (r = r + Math.imul(d, ne) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(d, re) | 0) + Math.imul(h, ne) | 0)) << 13) | 0; l = ((o = o + Math.imul(h, re) | 0) + (i >>> 13) | 0) + (Ee >>> 26) | 0, Ee &= 67108863, r = Math.imul(T, B), i = (i = Math.imul(T, W)) + Math.imul(N, B) | 0, o = Math.imul(N, W), r = r + Math.imul(S, q) | 0, i = (i = i + Math.imul(S, H) | 0) + Math.imul(k, q) | 0, o = o + Math.imul(k, H) | 0, r = r + Math.imul(_, V) | 0, i = (i = i + Math.imul(_, K) | 0) + Math.imul(C, V) | 0, o = o + Math.imul(C, K) | 0, r = r + Math.imul(w, Z) | 0, i = (i = i + Math.imul(w, X) | 0) + Math.imul(E, Z) | 0, o = o + Math.imul(E, X) | 0, r = r + Math.imul(y, Q) | 0, i = (i = i + Math.imul(y, ee) | 0) + Math.imul(b, Q) | 0, o = o + Math.imul(b, ee) | 0, r = r + Math.imul(p, ne) | 0, i = (i = i + Math.imul(p, re) | 0) + Math.imul(m, ne) | 0, o = o + Math.imul(m, re) | 0; var xe = (l + (r = r + Math.imul(d, oe) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(d, se) | 0) + Math.imul(h, oe) | 0)) << 13) | 0; l = ((o = o + Math.imul(h, se) | 0) + (i >>> 13) | 0) + (xe >>> 26) | 0, xe &= 67108863, r = Math.imul(M, B), i = (i = Math.imul(M, W)) + Math.imul(O, B) | 0, o = Math.imul(O, W), r = r + Math.imul(T, q) | 0, i = (i = i + Math.imul(T, H) | 0) + Math.imul(N, q) | 0, o = o + Math.imul(N, H) | 0, r = r + Math.imul(S, V) | 0, i = (i = i + Math.imul(S, K) | 0) + Math.imul(k, V) | 0, o = o + Math.imul(k, K) | 0, r = r + Math.imul(_, Z) | 0, i = (i = i + Math.imul(_, X) | 0) + Math.imul(C, Z) | 0, o = o + Math.imul(C, X) | 0, r = r + Math.imul(w, Q) | 0, i = (i = i + Math.imul(w, ee) | 0) + Math.imul(E, Q) | 0, o = o + Math.imul(E, ee) | 0, r = r + Math.imul(y, ne) | 0, i = (i = i + Math.imul(y, re) | 0) + Math.imul(b, ne) | 0, o = o + Math.imul(b, re) | 0, r = r + Math.imul(p, oe) | 0, i = (i = i + Math.imul(p, se) | 0) + Math.imul(m, oe) | 0, o = o + Math.imul(m, se) | 0; var _e = (l + (r = r + Math.imul(d, ce) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(d, le) | 0) + Math.imul(h, ce) | 0)) << 13) | 0; l = ((o = o + Math.imul(h, le) | 0) + (i >>> 13) | 0) + (_e >>> 26) | 0, _e &= 67108863, r = Math.imul(j, B), i = (i = Math.imul(j, W)) + Math.imul($, B) | 0, o = Math.imul($, W), r = r + Math.imul(M, q) | 0, i = (i = i + Math.imul(M, H) | 0) + Math.imul(O, q) | 0, o = o + Math.imul(O, H) | 0, r = r + Math.imul(T, V) | 0, i = (i = i + Math.imul(T, K) | 0) + Math.imul(N, V) | 0, o = o + Math.imul(N, K) | 0, r = r + Math.imul(S, Z) | 0, i = (i = i + Math.imul(S, X) | 0) + Math.imul(k, Z) | 0, o = o + Math.imul(k, X) | 0, r = r + Math.imul(_, Q) | 0, i = (i = i + Math.imul(_, ee) | 0) + Math.imul(C, Q) | 0, o = o + Math.imul(C, ee) | 0, r = r + Math.imul(w, ne) | 0, i = (i = i + Math.imul(w, re) | 0) + Math.imul(E, ne) | 0, o = o + Math.imul(E, re) | 0, r = r + Math.imul(y, oe) | 0, i = (i = i + Math.imul(y, se) | 0) + Math.imul(b, oe) | 0, o = o + Math.imul(b, se) | 0, r = r + Math.imul(p, ce) | 0, i = (i = i + Math.imul(p, le) | 0) + Math.imul(m, ce) | 0, o = o + Math.imul(m, le) | 0; var Ce = (l + (r = r + Math.imul(d, de) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(d, he) | 0) + Math.imul(h, de) | 0)) << 13) | 0; l = ((o = o + Math.imul(h, he) | 0) + (i >>> 13) | 0) + (Ce >>> 26) | 0, Ce &= 67108863, r = Math.imul(D, B), i = (i = Math.imul(D, W)) + Math.imul(U, B) | 0, o = Math.imul(U, W), r = r + Math.imul(j, q) | 0, i = (i = i + Math.imul(j, H) | 0) + Math.imul($, q) | 0, o = o + Math.imul($, H) | 0, r = r + Math.imul(M, V) | 0, i = (i = i + Math.imul(M, K) | 0) + Math.imul(O, V) | 0, o = o + Math.imul(O, K) | 0, r = r + Math.imul(T, Z) | 0, i = (i = i + Math.imul(T, X) | 0) + Math.imul(N, Z) | 0, o = o + Math.imul(N, X) | 0, r = r + Math.imul(S, Q) | 0, i = (i = i + Math.imul(S, ee) | 0) + Math.imul(k, Q) | 0, o = o + Math.imul(k, ee) | 0, r = r + Math.imul(_, ne) | 0, i = (i = i + Math.imul(_, re) | 0) + Math.imul(C, ne) | 0, o = o + Math.imul(C, re) | 0, r = r + Math.imul(w, oe) | 0, i = (i = i + Math.imul(w, se) | 0) + Math.imul(E, oe) | 0, o = o + Math.imul(E, se) | 0, r = r + Math.imul(y, ce) | 0, i = (i = i + Math.imul(y, le) | 0) + Math.imul(b, ce) | 0, o = o + Math.imul(b, le) | 0, r = r + Math.imul(p, de) | 0, i = (i = i + Math.imul(p, he) | 0) + Math.imul(m, de) | 0, o = o + Math.imul(m, he) | 0; var Ae = (l + (r = r + Math.imul(d, pe) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(d, me) | 0) + Math.imul(h, pe) | 0)) << 13) | 0; l = ((o = o + Math.imul(h, me) | 0) + (i >>> 13) | 0) + (Ae >>> 26) | 0, Ae &= 67108863, r = Math.imul(D, q), i = (i = Math.imul(D, H)) + Math.imul(U, q) | 0, o = Math.imul(U, H), r = r + Math.imul(j, V) | 0, i = (i = i + Math.imul(j, K) | 0) + Math.imul($, V) | 0, o = o + Math.imul($, K) | 0, r = r + Math.imul(M, Z) | 0, i = (i = i + Math.imul(M, X) | 0) + Math.imul(O, Z) | 0, o = o + Math.imul(O, X) | 0, r = r + Math.imul(T, Q) | 0, i = (i = i + Math.imul(T, ee) | 0) + Math.imul(N, Q) | 0, o = o + Math.imul(N, ee) | 0, r = r + Math.imul(S, ne) | 0, i = (i = i + Math.imul(S, re) | 0) + Math.imul(k, ne) | 0, o = o + Math.imul(k, re) | 0, r = r + Math.imul(_, oe) | 0, i = (i = i + Math.imul(_, se) | 0) + Math.imul(C, oe) | 0, o = o + Math.imul(C, se) | 0, r = r + Math.imul(w, ce) | 0, i = (i = i + Math.imul(w, le) | 0) + Math.imul(E, ce) | 0, o = o + Math.imul(E, le) | 0, r = r + Math.imul(y, de) | 0, i = (i = i + Math.imul(y, he) | 0) + Math.imul(b, de) | 0, o = o + Math.imul(b, he) | 0; var Se = (l + (r = r + Math.imul(p, pe) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(p, me) | 0) + Math.imul(m, pe) | 0)) << 13) | 0; l = ((o = o + Math.imul(m, me) | 0) + (i >>> 13) | 0) + (Se >>> 26) | 0, Se &= 67108863, r = Math.imul(D, V), i = (i = Math.imul(D, K)) + Math.imul(U, V) | 0, o = Math.imul(U, K), r = r + Math.imul(j, Z) | 0, i = (i = i + Math.imul(j, X) | 0) + Math.imul($, Z) | 0, o = o + Math.imul($, X) | 0, r = r + Math.imul(M, Q) | 0, i = (i = i + Math.imul(M, ee) | 0) + Math.imul(O, Q) | 0, o = o + Math.imul(O, ee) | 0, r = r + Math.imul(T, ne) | 0, i = (i = i + Math.imul(T, re) | 0) + Math.imul(N, ne) | 0, o = o + Math.imul(N, re) | 0, r = r + Math.imul(S, oe) | 0, i = (i = i + Math.imul(S, se) | 0) + Math.imul(k, oe) | 0, o = o + Math.imul(k, se) | 0, r = r + Math.imul(_, ce) | 0, i = (i = i + Math.imul(_, le) | 0) + Math.imul(C, ce) | 0, o = o + Math.imul(C, le) | 0, r = r + Math.imul(w, de) | 0, i = (i = i + Math.imul(w, he) | 0) + Math.imul(E, de) | 0, o = o + Math.imul(E, he) | 0; var ke = (l + (r = r + Math.imul(y, pe) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(y, me) | 0) + Math.imul(b, pe) | 0)) << 13) | 0; l = ((o = o + Math.imul(b, me) | 0) + (i >>> 13) | 0) + (ke >>> 26) | 0, ke &= 67108863, r = Math.imul(D, Z), i = (i = Math.imul(D, X)) + Math.imul(U, Z) | 0, o = Math.imul(U, X), r = r + Math.imul(j, Q) | 0, i = (i = i + Math.imul(j, ee) | 0) + Math.imul($, Q) | 0, o = o + Math.imul($, ee) | 0, r = r + Math.imul(M, ne) | 0, i = (i = i + Math.imul(M, re) | 0) + Math.imul(O, ne) | 0, o = o + Math.imul(O, re) | 0, r = r + Math.imul(T, oe) | 0, i = (i = i + Math.imul(T, se) | 0) + Math.imul(N, oe) | 0, o = o + Math.imul(N, se) | 0, r = r + Math.imul(S, ce) | 0, i = (i = i + Math.imul(S, le) | 0) + Math.imul(k, ce) | 0, o = o + Math.imul(k, le) | 0, r = r + Math.imul(_, de) | 0, i = (i = i + Math.imul(_, he) | 0) + Math.imul(C, de) | 0, o = o + Math.imul(C, he) | 0; var Ie = (l + (r = r + Math.imul(w, pe) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(w, me) | 0) + Math.imul(E, pe) | 0)) << 13) | 0; l = ((o = o + Math.imul(E, me) | 0) + (i >>> 13) | 0) + (Ie >>> 26) | 0, Ie &= 67108863, r = Math.imul(D, Q), i = (i = Math.imul(D, ee)) + Math.imul(U, Q) | 0, o = Math.imul(U, ee), r = r + Math.imul(j, ne) | 0, i = (i = i + Math.imul(j, re) | 0) + Math.imul($, ne) | 0, o = o + Math.imul($, re) | 0, r = r + Math.imul(M, oe) | 0, i = (i = i + Math.imul(M, se) | 0) + Math.imul(O, oe) | 0, o = o + Math.imul(O, se) | 0, r = r + Math.imul(T, ce) | 0, i = (i = i + Math.imul(T, le) | 0) + Math.imul(N, ce) | 0, o = o + Math.imul(N, le) | 0, r = r + Math.imul(S, de) | 0, i = (i = i + Math.imul(S, he) | 0) + Math.imul(k, de) | 0, o = o + Math.imul(k, he) | 0; var Te = (l + (r = r + Math.imul(_, pe) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(_, me) | 0) + Math.imul(C, pe) | 0)) << 13) | 0; l = ((o = o + Math.imul(C, me) | 0) + (i >>> 13) | 0) + (Te >>> 26) | 0, Te &= 67108863, r = Math.imul(D, ne), i = (i = Math.imul(D, re)) + Math.imul(U, ne) | 0, o = Math.imul(U, re), r = r + Math.imul(j, oe) | 0, i = (i = i + Math.imul(j, se) | 0) + Math.imul($, oe) | 0, o = o + Math.imul($, se) | 0, r = r + Math.imul(M, ce) | 0, i = (i = i + Math.imul(M, le) | 0) + Math.imul(O, ce) | 0, o = o + Math.imul(O, le) | 0, r = r + Math.imul(T, de) | 0, i = (i = i + Math.imul(T, he) | 0) + Math.imul(N, de) | 0, o = o + Math.imul(N, he) | 0; var Ne = (l + (r = r + Math.imul(S, pe) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(S, me) | 0) + Math.imul(k, pe) | 0)) << 13) | 0; l = ((o = o + Math.imul(k, me) | 0) + (i >>> 13) | 0) + (Ne >>> 26) | 0, Ne &= 67108863, r = Math.imul(D, oe), i = (i = Math.imul(D, se)) + Math.imul(U, oe) | 0, o = Math.imul(U, se), r = r + Math.imul(j, ce) | 0, i = (i = i + Math.imul(j, le) | 0) + Math.imul($, ce) | 0, o = o + Math.imul($, le) | 0, r = r + Math.imul(M, de) | 0, i = (i = i + Math.imul(M, he) | 0) + Math.imul(O, de) | 0, o = o + Math.imul(O, he) | 0; var Pe = (l + (r = r + Math.imul(T, pe) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(T, me) | 0) + Math.imul(N, pe) | 0)) << 13) | 0; l = ((o = o + Math.imul(N, me) | 0) + (i >>> 13) | 0) + (Pe >>> 26) | 0, Pe &= 67108863, r = Math.imul(D, ce), i = (i = Math.imul(D, le)) + Math.imul(U, ce) | 0, o = Math.imul(U, le), r = r + Math.imul(j, de) | 0, i = (i = i + Math.imul(j, he) | 0) + Math.imul($, de) | 0, o = o + Math.imul($, he) | 0; var Me = (l + (r = r + Math.imul(M, pe) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(M, me) | 0) + Math.imul(O, pe) | 0)) << 13) | 0; l = ((o = o + Math.imul(O, me) | 0) + (i >>> 13) | 0) + (Me >>> 26) | 0, Me &= 67108863, r = Math.imul(D, de), i = (i = Math.imul(D, he)) + Math.imul(U, de) | 0, o = Math.imul(U, he); var Oe = (l + (r = r + Math.imul(j, pe) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(j, me) | 0) + Math.imul($, pe) | 0)) << 13) | 0; l = ((o = o + Math.imul($, me) | 0) + (i >>> 13) | 0) + (Oe >>> 26) | 0, Oe &= 67108863; var Re = (l + (r = Math.imul(D, pe)) | 0) + ((8191 & (i = (i = Math.imul(D, me)) + Math.imul(U, pe) | 0)) << 13) | 0; return l = ((o = Math.imul(U, me)) + (i >>> 13) | 0) + (Re >>> 26) | 0, Re &= 67108863, c[0] = ge, c[1] = ye, c[2] = be, c[3] = ve, c[4] = we, c[5] = Ee, c[6] = xe, c[7] = _e, c[8] = Ce, c[9] = Ae, c[10] = Se, c[11] = ke, c[12] = Ie, c[13] = Te, c[14] = Ne, c[15] = Pe, c[16] = Me, c[17] = Oe, c[18] = Re, 0 !== l && (c[19] = l, n.length++), n }; function m(e, t, n) { return (new g).mulp(e, t, n) } function g(e, t) { this.x = e, this.y = t } Math.imul || (p = f), o.prototype.mulTo = function (e, t) { var n = this.length + e.length; return 10 === this.length && 10 === e.length ? p(this, e, t) : n < 63 ? f(this, e, t) : n < 1024 ? function (e, t, n) { n.negative = t.negative ^ e.negative, n.length = e.length + t.length; for (var r = 0, i = 0, o = 0; o < n.length - 1; o++) { var s = i; i = 0; for (var a = 67108863 & r, c = Math.min(o, t.length - 1), l = Math.max(0, o - e.length + 1); l <= c; l++) { var u = o - l, d = (0 | e.words[u]) * (0 | t.words[l]), h = 67108863 & d; a = 67108863 & (h = h + a | 0), i += (s = (s = s + (d / 67108864 | 0) | 0) + (h >>> 26) | 0) >>> 26, s &= 67108863 } n.words[o] = a, r = s, s = i } return 0 !== r ? n.words[o] = r : n.length--, n.strip() }(this, e, t) : m(this, e, t) }, g.prototype.makeRBT = function (e) { for (var t = new Array(e), n = o.prototype._countBits(e) - 1, r = 0; r < e; r++)t[r] = this.revBin(r, n, e); return t }, g.prototype.revBin = function (e, t, n) { if (0 === e || e === n - 1) return e; for (var r = 0, i = 0; i < t; i++)r |= (1 & e) << t - i - 1, e >>= 1; return r }, g.prototype.permute = function (e, t, n, r, i, o) { for (var s = 0; s < o; s++)r[s] = t[e[s]], i[s] = n[e[s]] }, g.prototype.transform = function (e, t, n, r, i, o) { this.permute(o, e, t, n, r, i); for (var s = 1; s < i; s <<= 1)for (var a = s << 1, c = Math.cos(2 * Math.PI / a), l = Math.sin(2 * Math.PI / a), u = 0; u < i; u += a)for (var d = c, h = l, f = 0; f < s; f++) { var p = n[u + f], m = r[u + f], g = n[u + f + s], y = r[u + f + s], b = d * g - h * y; y = d * y + h * g, g = b, n[u + f] = p + g, r[u + f] = m + y, n[u + f + s] = p - g, r[u + f + s] = m - y, f !== a && (b = c * d - l * h, h = c * h + l * d, d = b) } }, g.prototype.guessLen13b = function (e, t) { var n = 1 | Math.max(t, e), r = 1 & n, i = 0; for (n = n / 2 | 0; n; n >>>= 1)i++; return 1 << i + 1 + r }, g.prototype.conjugate = function (e, t, n) { if (!(n <= 1)) for (var r = 0; r < n / 2; r++) { var i = e[r]; e[r] = e[n - r - 1], e[n - r - 1] = i, i = t[r], t[r] = -t[n - r - 1], t[n - r - 1] = -i } }, g.prototype.normalize13b = function (e, t) { for (var n = 0, r = 0; r < t / 2; r++) { var i = 8192 * Math.round(e[2 * r + 1] / t) + Math.round(e[2 * r] / t) + n; e[r] = 67108863 & i, n = i < 67108864 ? 0 : i / 67108864 | 0 } return e }, g.prototype.convert13b = function (e, t, n, i) { for (var o = 0, s = 0; s < t; s++)o += 0 | e[s], n[2 * s] = 8191 & o, o >>>= 13, n[2 * s + 1] = 8191 & o, o >>>= 13; for (s = 2 * t; s < i; ++s)n[s] = 0; r(0 === o), r(0 === (-8192 & o)) }, g.prototype.stub = function (e) { for (var t = new Array(e), n = 0; n < e; n++)t[n] = 0; return t }, g.prototype.mulp = function (e, t, n) { var r = 2 * this.guessLen13b(e.length, t.length), i = this.makeRBT(r), o = this.stub(r), s = new Array(r), a = new Array(r), c = new Array(r), l = new Array(r), u = new Array(r), d = new Array(r), h = n.words; h.length = r, this.convert13b(e.words, e.length, s, r), this.convert13b(t.words, t.length, l, r), this.transform(s, o, a, c, r, i), this.transform(l, o, u, d, r, i); for (var f = 0; f < r; f++) { var p = a[f] * u[f] - c[f] * d[f]; c[f] = a[f] * d[f] + c[f] * u[f], a[f] = p } return this.conjugate(a, c, r), this.transform(a, c, h, o, r, i), this.conjugate(h, o, r), this.normalize13b(h, r), n.negative = e.negative ^ t.negative, n.length = e.length + t.length, n.strip() }, o.prototype.mul = function (e) { var t = new o(null); return t.words = new Array(this.length + e.length), this.mulTo(e, t) }, o.prototype.mulf = function (e) { var t = new o(null); return t.words = new Array(this.length + e.length), m(this, e, t) }, o.prototype.imul = function (e) { return this.clone().mulTo(e, this) }, o.prototype.imuln = function (e) { r("number" === typeof e), r(e < 67108864); for (var t = 0, n = 0; n < this.length; n++) { var i = (0 | this.words[n]) * e, o = (67108863 & i) + (67108863 & t); t >>= 26, t += i / 67108864 | 0, t += o >>> 26, this.words[n] = 67108863 & o } return 0 !== t && (this.words[n] = t, this.length++), this }, o.prototype.muln = function (e) { return this.clone().imuln(e) }, o.prototype.sqr = function () { return this.mul(this) }, o.prototype.isqr = function () { return this.imul(this.clone()) }, o.prototype.pow = function (e) { var t = function (e) { for (var t = new Array(e.bitLength()), n = 0; n < t.length; n++) { var r = n / 26 | 0, i = n % 26; t[n] = (e.words[r] & 1 << i) >>> i } return t }(e); if (0 === t.length) return new o(1); for (var n = this, r = 0; r < t.length && 0 === t[r]; r++, n = n.sqr()); if (++r < t.length) for (var i = n.sqr(); r < t.length; r++, i = i.sqr())0 !== t[r] && (n = n.mul(i)); return n }, o.prototype.iushln = function (e) { r("number" === typeof e && e >= 0); var t, n = e % 26, i = (e - n) / 26, o = 67108863 >>> 26 - n << 26 - n; if (0 !== n) { var s = 0; for (t = 0; t < this.length; t++) { var a = this.words[t] & o, c = (0 | this.words[t]) - a << n; this.words[t] = c | s, s = a >>> 26 - n } s && (this.words[t] = s, this.length++) } if (0 !== i) { for (t = this.length - 1; t >= 0; t--)this.words[t + i] = this.words[t]; for (t = 0; t < i; t++)this.words[t] = 0; this.length += i } return this.strip() }, o.prototype.ishln = function (e) { return r(0 === this.negative), this.iushln(e) }, o.prototype.iushrn = function (e, t, n) { var i; r("number" === typeof e && e >= 0), i = t ? (t - t % 26) / 26 : 0; var o = e % 26, s = Math.min((e - o) / 26, this.length), a = 67108863 ^ 67108863 >>> o << o, c = n; if (i -= s, i = Math.max(0, i), c) { for (var l = 0; l < s; l++)c.words[l] = this.words[l]; c.length = s } if (0 === s); else if (this.length > s) for (this.length -= s, l = 0; l < this.length; l++)this.words[l] = this.words[l + s]; else this.words[0] = 0, this.length = 1; var u = 0; for (l = this.length - 1; l >= 0 && (0 !== u || l >= i); l--) { var d = 0 | this.words[l]; this.words[l] = u << 26 - o | d >>> o, u = d & a } return c && 0 !== u && (c.words[c.length++] = u), 0 === this.length && (this.words[0] = 0, this.length = 1), this.strip() }, o.prototype.ishrn = function (e, t, n) { return r(0 === this.negative), this.iushrn(e, t, n) }, o.prototype.shln = function (e) { return this.clone().ishln(e) }, o.prototype.ushln = function (e) { return this.clone().iushln(e) }, o.prototype.shrn = function (e) { return this.clone().ishrn(e) }, o.prototype.ushrn = function (e) { return this.clone().iushrn(e) }, o.prototype.testn = function (e) { r("number" === typeof e && e >= 0); var t = e % 26, n = (e - t) / 26, i = 1 << t; return !(this.length <= n) && !!(this.words[n] & i) }, o.prototype.imaskn = function (e) { r("number" === typeof e && e >= 0); var t = e % 26, n = (e - t) / 26; if (r(0 === this.negative, "imaskn works only with positive numbers"), this.length <= n) return this; if (0 !== t && n++, this.length = Math.min(n, this.length), 0 !== t) { var i = 67108863 ^ 67108863 >>> t << t; this.words[this.length - 1] &= i } return this.strip() }, o.prototype.maskn = function (e) { return this.clone().imaskn(e) }, o.prototype.iaddn = function (e) { return r("number" === typeof e), r(e < 67108864), e < 0 ? this.isubn(-e) : 0 !== this.negative ? 1 === this.length && (0 | this.words[0]) < e ? (this.words[0] = e - (0 | this.words[0]), this.negative = 0, this) : (this.negative = 0, this.isubn(e), this.negative = 1, this) : this._iaddn(e) }, o.prototype._iaddn = function (e) { this.words[0] += e; for (var t = 0; t < this.length && this.words[t] >= 67108864; t++)this.words[t] -= 67108864, t === this.length - 1 ? this.words[t + 1] = 1 : this.words[t + 1]++; return this.length = Math.max(this.length, t + 1), this }, o.prototype.isubn = function (e) { if (r("number" === typeof e), r(e < 67108864), e < 0) return this.iaddn(-e); if (0 !== this.negative) return this.negative = 0, this.iaddn(e), this.negative = 1, this; if (this.words[0] -= e, 1 === this.length && this.words[0] < 0) this.words[0] = -this.words[0], this.negative = 1; else for (var t = 0; t < this.length && this.words[t] < 0; t++)this.words[t] += 67108864, this.words[t + 1] -= 1; return this.strip() }, o.prototype.addn = function (e) { return this.clone().iaddn(e) }, o.prototype.subn = function (e) { return this.clone().isubn(e) }, o.prototype.iabs = function () { return this.negative = 0, this }, o.prototype.abs = function () { return this.clone().iabs() }, o.prototype._ishlnsubmul = function (e, t, n) { var i, o, s = e.length + n; this._expand(s); var a = 0; for (i = 0; i < e.length; i++) { o = (0 | this.words[i + n]) + a; var c = (0 | e.words[i]) * t; a = ((o -= 67108863 & c) >> 26) - (c / 67108864 | 0), this.words[i + n] = 67108863 & o } for (; i < this.length - n; i++)a = (o = (0 | this.words[i + n]) + a) >> 26, this.words[i + n] = 67108863 & o; if (0 === a) return this.strip(); for (r(-1 === a), a = 0, i = 0; i < this.length; i++)a = (o = -(0 | this.words[i]) + a) >> 26, this.words[i] = 67108863 & o; return this.negative = 1, this.strip() }, o.prototype._wordDiv = function (e, t) { var n = (this.length, e.length), r = this.clone(), i = e, s = 0 | i.words[i.length - 1]; 0 !== (n = 26 - this._countBits(s)) && (i = i.ushln(n), r.iushln(n), s = 0 | i.words[i.length - 1]); var a, c = r.length - i.length; if ("mod" !== t) { (a = new o(null)).length = c + 1, a.words = new Array(a.length); for (var l = 0; l < a.length; l++)a.words[l] = 0 } var u = r.clone()._ishlnsubmul(i, 1, c); 0 === u.negative && (r = u, a && (a.words[c] = 1)); for (var d = c - 1; d >= 0; d--) { var h = 67108864 * (0 | r.words[i.length + d]) + (0 | r.words[i.length + d - 1]); for (h = Math.min(h / s | 0, 67108863), r._ishlnsubmul(i, h, d); 0 !== r.negative;)h--, r.negative = 0, r._ishlnsubmul(i, 1, d), r.isZero() || (r.negative ^= 1); a && (a.words[d] = h) } return a && a.strip(), r.strip(), "div" !== t && 0 !== n && r.iushrn(n), { div: a || null, mod: r } }, o.prototype.divmod = function (e, t, n) { return r(!e.isZero()), this.isZero() ? { div: new o(0), mod: new o(0) } : 0 !== this.negative && 0 === e.negative ? (a = this.neg().divmod(e, t), "mod" !== t && (i = a.div.neg()), "div" !== t && (s = a.mod.neg(), n && 0 !== s.negative && s.iadd(e)), { div: i, mod: s }) : 0 === this.negative && 0 !== e.negative ? (a = this.divmod(e.neg(), t), "mod" !== t && (i = a.div.neg()), { div: i, mod: a.mod }) : 0 !== (this.negative & e.negative) ? (a = this.neg().divmod(e.neg(), t), "div" !== t && (s = a.mod.neg(), n && 0 !== s.negative && s.isub(e)), { div: a.div, mod: s }) : e.length > this.length || this.cmp(e) < 0 ? { div: new o(0), mod: this } : 1 === e.length ? "div" === t ? { div: this.divn(e.words[0]), mod: null } : "mod" === t ? { div: null, mod: new o(this.modn(e.words[0])) } : { div: this.divn(e.words[0]), mod: new o(this.modn(e.words[0])) } : this._wordDiv(e, t); var i, s, a }, o.prototype.div = function (e) { return this.divmod(e, "div", !1).div }, o.prototype.mod = function (e) { return this.divmod(e, "mod", !1).mod }, o.prototype.umod = function (e) { return this.divmod(e, "mod", !0).mod }, o.prototype.divRound = function (e) { var t = this.divmod(e); if (t.mod.isZero()) return t.div; var n = 0 !== t.div.negative ? t.mod.isub(e) : t.mod, r = e.ushrn(1), i = e.andln(1), o = n.cmp(r); return o < 0 || 1 === i && 0 === o ? t.div : 0 !== t.div.negative ? t.div.isubn(1) : t.div.iaddn(1) }, o.prototype.modn = function (e) { r(e <= 67108863); for (var t = (1 << 26) % e, n = 0, i = this.length - 1; i >= 0; i--)n = (t * n + (0 | this.words[i])) % e; return n }, o.prototype.idivn = function (e) { r(e <= 67108863); for (var t = 0, n = this.length - 1; n >= 0; n--) { var i = (0 | this.words[n]) + 67108864 * t; this.words[n] = i / e | 0, t = i % e } return this.strip() }, o.prototype.divn = function (e) { return this.clone().idivn(e) }, o.prototype.egcd = function (e) { r(0 === e.negative), r(!e.isZero()); var t = this, n = e.clone(); t = 0 !== t.negative ? t.umod(e) : t.clone(); for (var i = new o(1), s = new o(0), a = new o(0), c = new o(1), l = 0; t.isEven() && n.isEven();)t.iushrn(1), n.iushrn(1), ++l; for (var u = n.clone(), d = t.clone(); !t.isZero();) { for (var h = 0, f = 1; 0 === (t.words[0] & f) && h < 26; ++h, f <<= 1); if (h > 0) for (t.iushrn(h); h-- > 0;)(i.isOdd() || s.isOdd()) && (i.iadd(u), s.isub(d)), i.iushrn(1), s.iushrn(1); for (var p = 0, m = 1; 0 === (n.words[0] & m) && p < 26; ++p, m <<= 1); if (p > 0) for (n.iushrn(p); p-- > 0;)(a.isOdd() || c.isOdd()) && (a.iadd(u), c.isub(d)), a.iushrn(1), c.iushrn(1); t.cmp(n) >= 0 ? (t.isub(n), i.isub(a), s.isub(c)) : (n.isub(t), a.isub(i), c.isub(s)) } return { a: a, b: c, gcd: n.iushln(l) } }, o.prototype._invmp = function (e) { r(0 === e.negative), r(!e.isZero()); var t = this, n = e.clone(); t = 0 !== t.negative ? t.umod(e) : t.clone(); for (var i, s = new o(1), a = new o(0), c = n.clone(); t.cmpn(1) > 0 && n.cmpn(1) > 0;) { for (var l = 0, u = 1; 0 === (t.words[0] & u) && l < 26; ++l, u <<= 1); if (l > 0) for (t.iushrn(l); l-- > 0;)s.isOdd() && s.iadd(c), s.iushrn(1); for (var d = 0, h = 1; 0 === (n.words[0] & h) && d < 26; ++d, h <<= 1); if (d > 0) for (n.iushrn(d); d-- > 0;)a.isOdd() && a.iadd(c), a.iushrn(1); t.cmp(n) >= 0 ? (t.isub(n), s.isub(a)) : (n.isub(t), a.isub(s)) } return (i = 0 === t.cmpn(1) ? s : a).cmpn(0) < 0 && i.iadd(e), i }, o.prototype.gcd = function (e) { if (this.isZero()) return e.abs(); if (e.isZero()) return this.abs(); var t = this.clone(), n = e.clone(); t.negative = 0, n.negative = 0; for (var r = 0; t.isEven() && n.isEven(); r++)t.iushrn(1), n.iushrn(1); for (; ;) { for (; t.isEven();)t.iushrn(1); for (; n.isEven();)n.iushrn(1); var i = t.cmp(n); if (i < 0) { var o = t; t = n, n = o } else if (0 === i || 0 === n.cmpn(1)) break; t.isub(n) } return n.iushln(r) }, o.prototype.invm = function (e) { return this.egcd(e).a.umod(e) }, o.prototype.isEven = function () { return 0 === (1 & this.words[0]) }, o.prototype.isOdd = function () { return 1 === (1 & this.words[0]) }, o.prototype.andln = function (e) { return this.words[0] & e }, o.prototype.bincn = function (e) { r("number" === typeof e); var t = e % 26, n = (e - t) / 26, i = 1 << t; if (this.length <= n) return this._expand(n + 1), this.words[n] |= i, this; for (var o = i, s = n; 0 !== o && s < this.length; s++) { var a = 0 | this.words[s]; o = (a += o) >>> 26, a &= 67108863, this.words[s] = a } return 0 !== o && (this.words[s] = o, this.length++), this }, o.prototype.isZero = function () { return 1 === this.length && 0 === this.words[0] }, o.prototype.cmpn = function (e) { var t, n = e < 0; if (0 !== this.negative && !n) return -1; if (0 === this.negative && n) return 1; if (this.strip(), this.length > 1) t = 1; else { n && (e = -e), r(e <= 67108863, "Number is too big"); var i = 0 | this.words[0]; t = i === e ? 0 : i < e ? -1 : 1 } return 0 !== this.negative ? 0 | -t : t }, o.prototype.cmp = function (e) { if (0 !== this.negative && 0 === e.negative) return -1; if (0 === this.negative && 0 !== e.negative) return 1; var t = this.ucmp(e); return 0 !== this.negative ? 0 | -t : t }, o.prototype.ucmp = function (e) { if (this.length > e.length) return 1; if (this.length < e.length) return -1; for (var t = 0, n = this.length - 1; n >= 0; n--) { var r = 0 | this.words[n], i = 0 | e.words[n]; if (r !== i) { r < i ? t = -1 : r > i && (t = 1); break } } return t }, o.prototype.gtn = function (e) { return 1 === this.cmpn(e) }, o.prototype.gt = function (e) { return 1 === this.cmp(e) }, o.prototype.gten = function (e) { return this.cmpn(e) >= 0 }, o.prototype.gte = function (e) { return this.cmp(e) >= 0 }, o.prototype.ltn = function (e) { return -1 === this.cmpn(e) }, o.prototype.lt = function (e) { return -1 === this.cmp(e) }, o.prototype.lten = function (e) { return this.cmpn(e) <= 0 }, o.prototype.lte = function (e) { return this.cmp(e) <= 0 }, o.prototype.eqn = function (e) { return 0 === this.cmpn(e) }, o.prototype.eq = function (e) { return 0 === this.cmp(e) }, o.red = function (e) { return new _(e) }, o.prototype.toRed = function (e) { return r(!this.red, "Already a number in reduction context"), r(0 === this.negative, "red works only with positives"), e.convertTo(this)._forceRed(e) }, o.prototype.fromRed = function () { return r(this.red, "fromRed works only with numbers in reduction context"), this.red.convertFrom(this) }, o.prototype._forceRed = function (e) { return this.red = e, this }, o.prototype.forceRed = function (e) { return r(!this.red, "Already a number in reduction context"), this._forceRed(e) }, o.prototype.redAdd = function (e) { return r(this.red, "redAdd works only with red numbers"), this.red.add(this, e) }, o.prototype.redIAdd = function (e) { return r(this.red, "redIAdd works only with red numbers"), this.red.iadd(this, e) }, o.prototype.redSub = function (e) { return r(this.red, "redSub works only with red numbers"), this.red.sub(this, e) }, o.prototype.redISub = function (e) { return r(this.red, "redISub works only with red numbers"), this.red.isub(this, e) }, o.prototype.redShl = function (e) { return r(this.red, "redShl works only with red numbers"), this.red.shl(this, e) }, o.prototype.redMul = function (e) { return r(this.red, "redMul works only with red numbers"), this.red._verify2(this, e), this.red.mul(this, e) }, o.prototype.redIMul = function (e) { return r(this.red, "redMul works only with red numbers"), this.red._verify2(this, e), this.red.imul(this, e) }, o.prototype.redSqr = function () { return r(this.red, "redSqr works only with red numbers"), this.red._verify1(this), this.red.sqr(this) }, o.prototype.redISqr = function () { return r(this.red, "redISqr works only with red numbers"), this.red._verify1(this), this.red.isqr(this) }, o.prototype.redSqrt = function () { return r(this.red, "redSqrt works only with red numbers"), this.red._verify1(this), this.red.sqrt(this) }, o.prototype.redInvm = function () { return r(this.red, "redInvm works only with red numbers"), this.red._verify1(this), this.red.invm(this) }, o.prototype.redNeg = function () { return r(this.red, "redNeg works only with red numbers"), this.red._verify1(this), this.red.neg(this) }, o.prototype.redPow = function (e) { return r(this.red && !e.red, "redPow(normalNum)"), this.red._verify1(this), this.red.pow(this, e) }; var y = { k256: null, p224: null, p192: null, p25519: null }; function b(e, t) { this.name = e, this.p = new o(t, 16), this.n = this.p.bitLength(), this.k = new o(1).iushln(this.n).isub(this.p), this.tmp = this._tmp() } function v() { b.call(this, "k256", "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f") } function w() { b.call(this, "p224", "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001") } function E() { b.call(this, "p192", "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff") } function x() { b.call(this, "25519", "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed") } function _(e) { if ("string" === typeof e) { var t = o._prime(e); this.m = t.p, this.prime = t } else r(e.gtn(1), "modulus must be greater than 1"), this.m = e, this.prime = null } function C(e) { _.call(this, e), this.shift = this.m.bitLength(), this.shift % 26 !== 0 && (this.shift += 26 - this.shift % 26), this.r = new o(1).iushln(this.shift), this.r2 = this.imod(this.r.sqr()), this.rinv = this.r._invmp(this.m), this.minv = this.rinv.mul(this.r).isubn(1).div(this.m), this.minv = this.minv.umod(this.r), this.minv = this.r.sub(this.minv) } b.prototype._tmp = function () { var e = new o(null); return e.words = new Array(Math.ceil(this.n / 13)), e }, b.prototype.ireduce = function (e) { var t, n = e; do { this.split(n, this.tmp), t = (n = (n = this.imulK(n)).iadd(this.tmp)).bitLength() } while (t > this.n); var r = t < this.n ? -1 : n.ucmp(this.p); return 0 === r ? (n.words[0] = 0, n.length = 1) : r > 0 ? n.isub(this.p) : void 0 !== n.strip ? n.strip() : n._strip(), n }, b.prototype.split = function (e, t) { e.iushrn(this.n, 0, t) }, b.prototype.imulK = function (e) { return e.imul(this.k) }, i(v, b), v.prototype.split = function (e, t) { for (var n = 4194303, r = Math.min(e.length, 9), i = 0; i < r; i++)t.words[i] = e.words[i]; if (t.length = r, e.length <= 9) return e.words[0] = 0, void (e.length = 1); var o = e.words[9]; for (t.words[t.length++] = o & n, i = 10; i < e.length; i++) { var s = 0 | e.words[i]; e.words[i - 10] = (s & n) << 4 | o >>> 22, o = s } o >>>= 22, e.words[i - 10] = o, 0 === o && e.length > 10 ? e.length -= 10 : e.length -= 9 }, v.prototype.imulK = function (e) { e.words[e.length] = 0, e.words[e.length + 1] = 0, e.length += 2; for (var t = 0, n = 0; n < e.length; n++) { var r = 0 | e.words[n]; t += 977 * r, e.words[n] = 67108863 & t, t = 64 * r + (t / 67108864 | 0) } return 0 === e.words[e.length - 1] && (e.length--, 0 === e.words[e.length - 1] && e.length--), e }, i(w, b), i(E, b), i(x, b), x.prototype.imulK = function (e) { for (var t = 0, n = 0; n < e.length; n++) { var r = 19 * (0 | e.words[n]) + t, i = 67108863 & r; r >>>= 26, e.words[n] = i, t = r } return 0 !== t && (e.words[e.length++] = t), e }, o._prime = function (e) { if (y[e]) return y[e]; var t; if ("k256" === e) t = new v; else if ("p224" === e) t = new w; else if ("p192" === e) t = new E; else { if ("p25519" !== e) throw new Error("Unknown prime " + e); t = new x } return y[e] = t, t }, _.prototype._verify1 = function (e) { r(0 === e.negative, "red works only with positives"), r(e.red, "red works only with red numbers") }, _.prototype._verify2 = function (e, t) { r(0 === (e.negative | t.negative), "red works only with positives"), r(e.red && e.red === t.red, "red works only with red numbers") }, _.prototype.imod = function (e) { return this.prime ? this.prime.ireduce(e)._forceRed(this) : e.umod(this.m)._forceRed(this) }, _.prototype.neg = function (e) { return e.isZero() ? e.clone() : this.m.sub(e)._forceRed(this) }, _.prototype.add = function (e, t) { this._verify2(e, t); var n = e.add(t); return n.cmp(this.m) >= 0 && n.isub(this.m), n._forceRed(this) }, _.prototype.iadd = function (e, t) { this._verify2(e, t); var n = e.iadd(t); return n.cmp(this.m) >= 0 && n.isub(this.m), n }, _.prototype.sub = function (e, t) { this._verify2(e, t); var n = e.sub(t); return n.cmpn(0) < 0 && n.iadd(this.m), n._forceRed(this) }, _.prototype.isub = function (e, t) { this._verify2(e, t); var n = e.isub(t); return n.cmpn(0) < 0 && n.iadd(this.m), n }, _.prototype.shl = function (e, t) { return this._verify1(e), this.imod(e.ushln(t)) }, _.prototype.imul = function (e, t) { return this._verify2(e, t), this.imod(e.imul(t)) }, _.prototype.mul = function (e, t) { return this._verify2(e, t), this.imod(e.mul(t)) }, _.prototype.isqr = function (e) { return this.imul(e, e.clone()) }, _.prototype.sqr = function (e) { return this.mul(e, e) }, _.prototype.sqrt = function (e) { if (e.isZero()) return e.clone(); var t = this.m.andln(3); if (r(t % 2 === 1), 3 === t) { var n = this.m.add(new o(1)).iushrn(2); return this.pow(e, n) } for (var i = this.m.subn(1), s = 0; !i.isZero() && 0 === i.andln(1);)s++, i.iushrn(1); r(!i.isZero()); var a = new o(1).toRed(this), c = a.redNeg(), l = this.m.subn(1).iushrn(1), u = this.m.bitLength(); for (u = new o(2 * u * u).toRed(this); 0 !== this.pow(u, l).cmp(c);)u.redIAdd(c); for (var d = this.pow(u, i), h = this.pow(e, i.addn(1).iushrn(1)), f = this.pow(e, i), p = s; 0 !== f.cmp(a);) { for (var m = f, g = 0; 0 !== m.cmp(a); g++)m = m.redSqr(); r(g < p); var y = this.pow(d, new o(1).iushln(p - g - 1)); h = h.redMul(y), d = y.redSqr(), f = f.redMul(d), p = g } return h }, _.prototype.invm = function (e) { var t = e._invmp(this.m); return 0 !== t.negative ? (t.negative = 0, this.imod(t).redNeg()) : this.imod(t) }, _.prototype.pow = function (e, t) { if (t.isZero()) return new o(1).toRed(this); if (0 === t.cmpn(1)) return e.clone(); var n = new Array(16); n[0] = new o(1).toRed(this), n[1] = e; for (var r = 2; r < n.length; r++)n[r] = this.mul(n[r - 1], e); var i = n[0], s = 0, a = 0, c = t.bitLength() % 26; for (0 === c && (c = 26), r = t.length - 1; r >= 0; r--) { for (var l = t.words[r], u = c - 1; u >= 0; u--) { var d = l >> u & 1; i !== n[0] && (i = this.sqr(i)), 0 !== d || 0 !== s ? (s <<= 1, s |= d, (4 === ++a || 0 === r && 0 === u) && (i = this.mul(i, n[s]), a = 0, s = 0)) : a = 0 } c = 26 } return i }, _.prototype.convertTo = function (e) { var t = e.umod(this.m); return t === e ? t.clone() : t }, _.prototype.convertFrom = function (e) { var t = e.clone(); return t.red = null, t }, o.mont = function (e) { return new C(e) }, i(C, _), C.prototype.convertTo = function (e) { return this.imod(e.ushln(this.shift)) }, C.prototype.convertFrom = function (e) { var t = this.imod(e.mul(this.rinv)); return t.red = null, t }, C.prototype.imul = function (e, t) { if (e.isZero() || t.isZero()) return e.words[0] = 0, e.length = 1, e; var n = e.imul(t), r = n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), i = n.isub(r).iushrn(this.shift), o = i; return i.cmp(this.m) >= 0 ? o = i.isub(this.m) : i.cmpn(0) < 0 && (o = i.iadd(this.m)), o._forceRed(this) }, C.prototype.mul = function (e, t) { if (e.isZero() || t.isZero()) return new o(0)._forceRed(this); var n = e.mul(t), r = n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), i = n.isub(r).iushrn(this.shift), s = i; return i.cmp(this.m) >= 0 ? s = i.isub(this.m) : i.cmpn(0) < 0 && (s = i.iadd(this.m)), s._forceRed(this) }, C.prototype.invm = function (e) { return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this) } }(e = n.nmd(e), this) }, 35431: function (e, t, n) { "use strict"; var r = t; r.version = n(13016).i8, r.utils = n(70595), r.rand = n(29931), r.curve = n(6162), r.curves = n(83503), r.ec = n(96667), r.eddsa = n(2907) }, 52023: function (e, t, n) { "use strict"; var r = n(11460), i = n(70595), o = i.getNAF, s = i.getJSF, a = i.assert; function c(e, t) { this.type = e, this.p = new r(t.p, 16), this.red = t.prime ? r.red(t.prime) : r.mont(this.p), this.zero = new r(0).toRed(this.red), this.one = new r(1).toRed(this.red), this.two = new r(2).toRed(this.red), this.n = t.n && new r(t.n, 16), this.g = t.g && this.pointFromJSON(t.g, t.gRed), this._wnafT1 = new Array(4), this._wnafT2 = new Array(4), this._wnafT3 = new Array(4), this._wnafT4 = new Array(4), this._bitLength = this.n ? this.n.bitLength() : 0; var n = this.n && this.p.div(this.n); !n || n.cmpn(100) > 0 ? this.redN = null : (this._maxwellTrick = !0, this.redN = this.n.toRed(this.red)) } function l(e, t) { this.curve = e, this.type = t, this.precomputed = null } e.exports = c, c.prototype.point = function () { throw new Error("Not implemented") }, c.prototype.validate = function () { throw new Error("Not implemented") }, c.prototype._fixedNafMul = function (e, t) { a(e.precomputed); var n = e._getDoubles(), r = o(t, 1, this._bitLength), i = (1 << n.step + 1) - (n.step % 2 === 0 ? 2 : 1); i /= 3; var s, c, l = []; for (s = 0; s < r.length; s += n.step) { c = 0; for (var u = s + n.step - 1; u >= s; u--)c = (c << 1) + r[u]; l.push(c) } for (var d = this.jpoint(null, null, null), h = this.jpoint(null, null, null), f = i; f > 0; f--) { for (s = 0; s < l.length; s++)(c = l[s]) === f ? h = h.mixedAdd(n.points[s]) : c === -f && (h = h.mixedAdd(n.points[s].neg())); d = d.add(h) } return d.toP() }, c.prototype._wnafMul = function (e, t) { var n = 4, r = e._getNAFPoints(n); n = r.wnd; for (var i = r.points, s = o(t, n, this._bitLength), c = this.jpoint(null, null, null), l = s.length - 1; l >= 0; l--) { for (var u = 0; l >= 0 && 0 === s[l]; l--)u++; if (l >= 0 && u++, c = c.dblp(u), l < 0) break; var d = s[l]; a(0 !== d), c = "affine" === e.type ? d > 0 ? c.mixedAdd(i[d - 1 >> 1]) : c.mixedAdd(i[-d - 1 >> 1].neg()) : d > 0 ? c.add(i[d - 1 >> 1]) : c.add(i[-d - 1 >> 1].neg()) } return "affine" === e.type ? c.toP() : c }, c.prototype._wnafMulAdd = function (e, t, n, r, i) { var a, c, l, u = this._wnafT1, d = this._wnafT2, h = this._wnafT3, f = 0; for (a = 0; a < r; a++) { var p = (l = t[a])._getNAFPoints(e); u[a] = p.wnd, d[a] = p.points } for (a = r - 1; a >= 1; a -= 2) { var m = a - 1, g = a; if (1 === u[m] && 1 === u[g]) { var y = [t[m], null, null, t[g]]; 0 === t[m].y.cmp(t[g].y) ? (y[1] = t[m].add(t[g]), y[2] = t[m].toJ().mixedAdd(t[g].neg())) : 0 === t[m].y.cmp(t[g].y.redNeg()) ? (y[1] = t[m].toJ().mixedAdd(t[g]), y[2] = t[m].add(t[g].neg())) : (y[1] = t[m].toJ().mixedAdd(t[g]), y[2] = t[m].toJ().mixedAdd(t[g].neg())); var b = [-3, -1, -5, -7, 0, 7, 5, 1, 3], v = s(n[m], n[g]); for (f = Math.max(v[0].length, f), h[m] = new Array(f), h[g] = new Array(f), c = 0; c < f; c++) { var w = 0 | v[0][c], E = 0 | v[1][c]; h[m][c] = b[3 * (w + 1) + (E + 1)], h[g][c] = 0, d[m] = y } } else h[m] = o(n[m], u[m], this._bitLength), h[g] = o(n[g], u[g], this._bitLength), f = Math.max(h[m].length, f), f = Math.max(h[g].length, f) } var x = this.jpoint(null, null, null), _ = this._wnafT4; for (a = f; a >= 0; a--) { for (var C = 0; a >= 0;) { var A = !0; for (c = 0; c < r; c++)_[c] = 0 | h[c][a], 0 !== _[c] && (A = !1); if (!A) break; C++, a-- } if (a >= 0 && C++, x = x.dblp(C), a < 0) break; for (c = 0; c < r; c++) { var S = _[c]; 0 !== S && (S > 0 ? l = d[c][S - 1 >> 1] : S < 0 && (l = d[c][-S - 1 >> 1].neg()), x = "affine" === l.type ? x.mixedAdd(l) : x.add(l)) } } for (a = 0; a < r; a++)d[a] = null; return i ? x : x.toP() }, c.BasePoint = l, l.prototype.eq = function () { throw new Error("Not implemented") }, l.prototype.validate = function () { return this.curve.validate(this) }, c.prototype.decodePoint = function (e, t) { e = i.toArray(e, t); var n = this.p.byteLength(); if ((4 === e[0] || 6 === e[0] || 7 === e[0]) && e.length - 1 === 2 * n) return 6 === e[0] ? a(e[e.length - 1] % 2 === 0) : 7 === e[0] && a(e[e.length - 1] % 2 === 1), this.point(e.slice(1, 1 + n), e.slice(1 + n, 1 + 2 * n)); if ((2 === e[0] || 3 === e[0]) && e.length - 1 === n) return this.pointFromX(e.slice(1, 1 + n), 3 === e[0]); throw new Error("Unknown point format") }, l.prototype.encodeCompressed = function (e) { return this.encode(e, !0) }, l.prototype._encode = function (e) { var t = this.curve.p.byteLength(), n = this.getX().toArray("be", t); return e ? [this.getY().isEven() ? 2 : 3].concat(n) : [4].concat(n, this.getY().toArray("be", t)) }, l.prototype.encode = function (e, t) { return i.encode(this._encode(t), e) }, l.prototype.precompute = function (e) { if (this.precomputed) return this; var t = { doubles: null, naf: null, beta: null }; return t.naf = this._getNAFPoints(8), t.doubles = this._getDoubles(4, e), t.beta = this._getBeta(), this.precomputed = t, this }, l.prototype._hasDoubles = function (e) { if (!this.precomputed) return !1; var t = this.precomputed.doubles; return !!t && t.points.length >= Math.ceil((e.bitLength() + 1) / t.step) }, l.prototype._getDoubles = function (e, t) { if (this.precomputed && this.precomputed.doubles) return this.precomputed.doubles; for (var n = [this], r = this, i = 0; i < t; i += e) { for (var o = 0; o < e; o++)r = r.dbl(); n.push(r) } return { step: e, points: n } }, l.prototype._getNAFPoints = function (e) { if (this.precomputed && this.precomputed.naf) return this.precomputed.naf; for (var t = [this], n = (1 << e) - 1, r = 1 === n ? null : this.dbl(), i = 1; i < n; i++)t[i] = t[i - 1].add(r); return { wnd: e, points: t } }, l.prototype._getBeta = function () { return null }, l.prototype.dblp = function (e) { for (var t = this, n = 0; n < e; n++)t = t.dbl(); return t } }, 21406: function (e, t, n) { "use strict"; var r = n(70595), i = n(11460), o = n(35717), s = n(52023), a = r.assert; function c(e) { this.twisted = 1 !== (0 | e.a), this.mOneA = this.twisted && -1 === (0 | e.a), this.extended = this.mOneA, s.call(this, "edwards", e), this.a = new i(e.a, 16).umod(this.red.m), this.a = this.a.toRed(this.red), this.c = new i(e.c, 16).toRed(this.red), this.c2 = this.c.redSqr(), this.d = new i(e.d, 16).toRed(this.red), this.dd = this.d.redAdd(this.d), a(!this.twisted || 0 === this.c.fromRed().cmpn(1)), this.oneC = 1 === (0 | e.c) } function l(e, t, n, r, o) { s.BasePoint.call(this, e, "projective"), null === t && null === n && null === r ? (this.x = this.curve.zero, this.y = this.curve.one, this.z = this.curve.one, this.t = this.curve.zero, this.zOne = !0) : (this.x = new i(t, 16), this.y = new i(n, 16), this.z = r ? new i(r, 16) : this.curve.one, this.t = o && new i(o, 16), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)), this.t && !this.t.red && (this.t = this.t.toRed(this.curve.red)), this.zOne = this.z === this.curve.one, this.curve.extended && !this.t && (this.t = this.x.redMul(this.y), this.zOne || (this.t = this.t.redMul(this.z.redInvm())))) } o(c, s), e.exports = c, c.prototype._mulA = function (e) { return this.mOneA ? e.redNeg() : this.a.redMul(e) }, c.prototype._mulC = function (e) { return this.oneC ? e : this.c.redMul(e) }, c.prototype.jpoint = function (e, t, n, r) { return this.point(e, t, n, r) }, c.prototype.pointFromX = function (e, t) { (e = new i(e, 16)).red || (e = e.toRed(this.red)); var n = e.redSqr(), r = this.c2.redSub(this.a.redMul(n)), o = this.one.redSub(this.c2.redMul(this.d).redMul(n)), s = r.redMul(o.redInvm()), a = s.redSqrt(); if (0 !== a.redSqr().redSub(s).cmp(this.zero)) throw new Error("invalid point"); var c = a.fromRed().isOdd(); return (t && !c || !t && c) && (a = a.redNeg()), this.point(e, a) }, c.prototype.pointFromY = function (e, t) { (e = new i(e, 16)).red || (e = e.toRed(this.red)); var n = e.redSqr(), r = n.redSub(this.c2), o = n.redMul(this.d).redMul(this.c2).redSub(this.a), s = r.redMul(o.redInvm()); if (0 === s.cmp(this.zero)) { if (t) throw new Error("invalid point"); return this.point(this.zero, e) } var a = s.redSqrt(); if (0 !== a.redSqr().redSub(s).cmp(this.zero)) throw new Error("invalid point"); return a.fromRed().isOdd() !== t && (a = a.redNeg()), this.point(a, e) }, c.prototype.validate = function (e) { if (e.isInfinity()) return !0; e.normalize(); var t = e.x.redSqr(), n = e.y.redSqr(), r = t.redMul(this.a).redAdd(n), i = this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n))); return 0 === r.cmp(i) }, o(l, s.BasePoint), c.prototype.pointFromJSON = function (e) { return l.fromJSON(this, e) }, c.prototype.point = function (e, t, n, r) { return new l(this, e, t, n, r) }, l.fromJSON = function (e, t) { return new l(e, t[0], t[1], t[2]) }, l.prototype.inspect = function () { return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " y: " + this.y.fromRed().toString(16, 2) + " z: " + this.z.fromRed().toString(16, 2) + ">" }, l.prototype.isInfinity = function () { return 0 === this.x.cmpn(0) && (0 === this.y.cmp(this.z) || this.zOne && 0 === this.y.cmp(this.curve.c)) }, l.prototype._extDbl = function () { var e = this.x.redSqr(), t = this.y.redSqr(), n = this.z.redSqr(); n = n.redIAdd(n); var r = this.curve._mulA(e), i = this.x.redAdd(this.y).redSqr().redISub(e).redISub(t), o = r.redAdd(t), s = o.redSub(n), a = r.redSub(t), c = i.redMul(s), l = o.redMul(a), u = i.redMul(a), d = s.redMul(o); return this.curve.point(c, l, d, u) }, l.prototype._projDbl = function () { var e, t, n, r, i, o, s = this.x.redAdd(this.y).redSqr(), a = this.x.redSqr(), c = this.y.redSqr(); if (this.curve.twisted) { var l = (r = this.curve._mulA(a)).redAdd(c); this.zOne ? (e = s.redSub(a).redSub(c).redMul(l.redSub(this.curve.two)), t = l.redMul(r.redSub(c)), n = l.redSqr().redSub(l).redSub(l)) : (i = this.z.redSqr(), o = l.redSub(i).redISub(i), e = s.redSub(a).redISub(c).redMul(o), t = l.redMul(r.redSub(c)), n = l.redMul(o)) } else r = a.redAdd(c), i = this.curve._mulC(this.z).redSqr(), o = r.redSub(i).redSub(i), e = this.curve._mulC(s.redISub(r)).redMul(o), t = this.curve._mulC(r).redMul(a.redISub(c)), n = r.redMul(o); return this.curve.point(e, t, n) }, l.prototype.dbl = function () { return this.isInfinity() ? this : this.curve.extended ? this._extDbl() : this._projDbl() }, l.prototype._extAdd = function (e) { var t = this.y.redSub(this.x).redMul(e.y.redSub(e.x)), n = this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)), r = this.t.redMul(this.curve.dd).redMul(e.t), i = this.z.redMul(e.z.redAdd(e.z)), o = n.redSub(t), s = i.redSub(r), a = i.redAdd(r), c = n.redAdd(t), l = o.redMul(s), u = a.redMul(c), d = o.redMul(c), h = s.redMul(a); return this.curve.point(l, u, h, d) }, l.prototype._projAdd = function (e) { var t, n, r = this.z.redMul(e.z), i = r.redSqr(), o = this.x.redMul(e.x), s = this.y.redMul(e.y), a = this.curve.d.redMul(o).redMul(s), c = i.redSub(a), l = i.redAdd(a), u = this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(s), d = r.redMul(c).redMul(u); return this.curve.twisted ? (t = r.redMul(l).redMul(s.redSub(this.curve._mulA(o))), n = c.redMul(l)) : (t = r.redMul(l).redMul(s.redSub(o)), n = this.curve._mulC(c).redMul(l)), this.curve.point(d, t, n) }, l.prototype.add = function (e) { return this.isInfinity() ? e : e.isInfinity() ? this : this.curve.extended ? this._extAdd(e) : this._projAdd(e) }, l.prototype.mul = function (e) { return this._hasDoubles(e) ? this.curve._fixedNafMul(this, e) : this.curve._wnafMul(this, e) }, l.prototype.mulAdd = function (e, t, n) { return this.curve._wnafMulAdd(1, [this, t], [e, n], 2, !1) }, l.prototype.jmulAdd = function (e, t, n) { return this.curve._wnafMulAdd(1, [this, t], [e, n], 2, !0) }, l.prototype.normalize = function () { if (this.zOne) return this; var e = this.z.redInvm(); return this.x = this.x.redMul(e), this.y = this.y.redMul(e), this.t && (this.t = this.t.redMul(e)), this.z = this.curve.one, this.zOne = !0, this }, l.prototype.neg = function () { return this.curve.point(this.x.redNeg(), this.y, this.z, this.t && this.t.redNeg()) }, l.prototype.getX = function () { return this.normalize(), this.x.fromRed() }, l.prototype.getY = function () { return this.normalize(), this.y.fromRed() }, l.prototype.eq = function (e) { return this === e || 0 === this.getX().cmp(e.getX()) && 0 === this.getY().cmp(e.getY()) }, l.prototype.eqXToP = function (e) { var t = e.toRed(this.curve.red).redMul(this.z); if (0 === this.x.cmp(t)) return !0; for (var n = e.clone(), r = this.curve.redN.redMul(this.z); ;) { if (n.iadd(this.curve.n), n.cmp(this.curve.p) >= 0) return !1; if (t.redIAdd(r), 0 === this.x.cmp(t)) return !0 } }, l.prototype.toP = l.prototype.normalize, l.prototype.mixedAdd = l.prototype.add }, 6162: function (e, t, n) { "use strict"; var r = t; r.base = n(52023), r.short = n(68978), r.mont = n(26057), r.edwards = n(21406) }, 26057: function (e, t, n) { "use strict"; var r = n(11460), i = n(35717), o = n(52023), s = n(70595); function a(e) { o.call(this, "mont", e), this.a = new r(e.a, 16).toRed(this.red), this.b = new r(e.b, 16).toRed(this.red), this.i4 = new r(4).toRed(this.red).redInvm(), this.two = new r(2).toRed(this.red), this.a24 = this.i4.redMul(this.a.redAdd(this.two)) } function c(e, t, n) { o.BasePoint.call(this, e, "projective"), null === t && null === n ? (this.x = this.curve.one, this.z = this.curve.zero) : (this.x = new r(t, 16), this.z = new r(n, 16), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red))) } i(a, o), e.exports = a, a.prototype.validate = function (e) { var t = e.normalize().x, n = t.redSqr(), r = n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t); return 0 === r.redSqrt().redSqr().cmp(r) }, i(c, o.BasePoint), a.prototype.decodePoint = function (e, t) { return this.point(s.toArray(e, t), 1) }, a.prototype.point = function (e, t) { return new c(this, e, t) }, a.prototype.pointFromJSON = function (e) { return c.fromJSON(this, e) }, c.prototype.precompute = function () { }, c.prototype._encode = function () { return this.getX().toArray("be", this.curve.p.byteLength()) }, c.fromJSON = function (e, t) { return new c(e, t[0], t[1] || e.one) }, c.prototype.inspect = function () { return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " z: " + this.z.fromRed().toString(16, 2) + ">" }, c.prototype.isInfinity = function () { return 0 === this.z.cmpn(0) }, c.prototype.dbl = function () { var e = this.x.redAdd(this.z).redSqr(), t = this.x.redSub(this.z).redSqr(), n = e.redSub(t), r = e.redMul(t), i = n.redMul(t.redAdd(this.curve.a24.redMul(n))); return this.curve.point(r, i) }, c.prototype.add = function () { throw new Error("Not supported on Montgomery curve") }, c.prototype.diffAdd = function (e, t) { var n = this.x.redAdd(this.z), r = this.x.redSub(this.z), i = e.x.redAdd(e.z), o = e.x.redSub(e.z).redMul(n), s = i.redMul(r), a = t.z.redMul(o.redAdd(s).redSqr()), c = t.x.redMul(o.redISub(s).redSqr()); return this.curve.point(a, c) }, c.prototype.mul = function (e) { for (var t = e.clone(), n = this, r = this.curve.point(null, null), i = []; 0 !== t.cmpn(0); t.iushrn(1))i.push(t.andln(1)); for (var o = i.length - 1; o >= 0; o--)0 === i[o] ? (n = n.diffAdd(r, this), r = r.dbl()) : (r = n.diffAdd(r, this), n = n.dbl()); return r }, c.prototype.mulAdd = function () { throw new Error("Not supported on Montgomery curve") }, c.prototype.jumlAdd = function () { throw new Error("Not supported on Montgomery curve") }, c.prototype.eq = function (e) { return 0 === this.getX().cmp(e.getX()) }, c.prototype.normalize = function () { return this.x = this.x.redMul(this.z.redInvm()), this.z = this.curve.one, this }, c.prototype.getX = function () { return this.normalize(), this.x.fromRed() } }, 68978: function (e, t, n) { "use strict"; var r = n(70595), i = n(11460), o = n(35717), s = n(52023), a = r.assert; function c(e) { s.call(this, "short", e), this.a = new i(e.a, 16).toRed(this.red), this.b = new i(e.b, 16).toRed(this.red), this.tinv = this.two.redInvm(), this.zeroA = 0 === this.a.fromRed().cmpn(0), this.threeA = 0 === this.a.fromRed().sub(this.p).cmpn(-3), this.endo = this._getEndomorphism(e), this._endoWnafT1 = new Array(4), this._endoWnafT2 = new Array(4) } function l(e, t, n, r) { s.BasePoint.call(this, e, "affine"), null === t && null === n ? (this.x = null, this.y = null, this.inf = !0) : (this.x = new i(t, 16), this.y = new i(n, 16), r && (this.x.forceRed(this.curve.red), this.y.forceRed(this.curve.red)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.inf = !1) } function u(e, t, n, r) { s.BasePoint.call(this, e, "jacobian"), null === t && null === n && null === r ? (this.x = this.curve.one, this.y = this.curve.one, this.z = new i(0)) : (this.x = new i(t, 16), this.y = new i(n, 16), this.z = new i(r, 16)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)), this.zOne = this.z === this.curve.one } o(c, s), e.exports = c, c.prototype._getEndomorphism = function (e) { if (this.zeroA && this.g && this.n && 1 === this.p.modn(3)) { var t, n; if (e.beta) t = new i(e.beta, 16).toRed(this.red); else { var r = this._getEndoRoots(this.p); t = (t = r[0].cmp(r[1]) < 0 ? r[0] : r[1]).toRed(this.red) } if (e.lambda) n = new i(e.lambda, 16); else { var o = this._getEndoRoots(this.n); 0 === this.g.mul(o[0]).x.cmp(this.g.x.redMul(t)) ? n = o[0] : (n = o[1], a(0 === this.g.mul(n).x.cmp(this.g.x.redMul(t)))) } return { beta: t, lambda: n, basis: e.basis ? e.basis.map((function (e) { return { a: new i(e.a, 16), b: new i(e.b, 16) } })) : this._getEndoBasis(n) } } }, c.prototype._getEndoRoots = function (e) { var t = e === this.p ? this.red : i.mont(e), n = new i(2).toRed(t).redInvm(), r = n.redNeg(), o = new i(3).toRed(t).redNeg().redSqrt().redMul(n); return [r.redAdd(o).fromRed(), r.redSub(o).fromRed()] }, c.prototype._getEndoBasis = function (e) { for (var t, n, r, o, s, a, c, l, u, d = this.n.ushrn(Math.floor(this.n.bitLength() / 2)), h = e, f = this.n.clone(), p = new i(1), m = new i(0), g = new i(0), y = new i(1), b = 0; 0 !== h.cmpn(0);) { var v = f.div(h); l = f.sub(v.mul(h)), u = g.sub(v.mul(p)); var w = y.sub(v.mul(m)); if (!r && l.cmp(d) < 0) t = c.neg(), n = p, r = l.neg(), o = u; else if (r && 2 === ++b) break; c = l, f = h, h = l, g = p, p = u, y = m, m = w } s = l.neg(), a = u; var E = r.sqr().add(o.sqr()); return s.sqr().add(a.sqr()).cmp(E) >= 0 && (s = t, a = n), r.negative && (r = r.neg(), o = o.neg()), s.negative && (s = s.neg(), a = a.neg()), [{ a: r, b: o }, { a: s, b: a }] }, c.prototype._endoSplit = function (e) { var t = this.endo.basis, n = t[0], r = t[1], i = r.b.mul(e).divRound(this.n), o = n.b.neg().mul(e).divRound(this.n), s = i.mul(n.a), a = o.mul(r.a), c = i.mul(n.b), l = o.mul(r.b); return { k1: e.sub(s).sub(a), k2: c.add(l).neg() } }, c.prototype.pointFromX = function (e, t) { (e = new i(e, 16)).red || (e = e.toRed(this.red)); var n = e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b), r = n.redSqrt(); if (0 !== r.redSqr().redSub(n).cmp(this.zero)) throw new Error("invalid point"); var o = r.fromRed().isOdd(); return (t && !o || !t && o) && (r = r.redNeg()), this.point(e, r) }, c.prototype.validate = function (e) { if (e.inf) return !0; var t = e.x, n = e.y, r = this.a.redMul(t), i = t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b); return 0 === n.redSqr().redISub(i).cmpn(0) }, c.prototype._endoWnafMulAdd = function (e, t, n) { for (var r = this._endoWnafT1, i = this._endoWnafT2, o = 0; o < e.length; o++) { var s = this._endoSplit(t[o]), a = e[o], c = a._getBeta(); s.k1.negative && (s.k1.ineg(), a = a.neg(!0)), s.k2.negative && (s.k2.ineg(), c = c.neg(!0)), r[2 * o] = a, r[2 * o + 1] = c, i[2 * o] = s.k1, i[2 * o + 1] = s.k2 } for (var l = this._wnafMulAdd(1, r, i, 2 * o, n), u = 0; u < 2 * o; u++)r[u] = null, i[u] = null; return l }, o(l, s.BasePoint), c.prototype.point = function (e, t, n) { return new l(this, e, t, n) }, c.prototype.pointFromJSON = function (e, t) { return l.fromJSON(this, e, t) }, l.prototype._getBeta = function () { if (this.curve.endo) { var e = this.precomputed; if (e && e.beta) return e.beta; var t = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y); if (e) { var n = this.curve, r = function (e) { return n.point(e.x.redMul(n.endo.beta), e.y) }; e.beta = t, t.precomputed = { beta: null, naf: e.naf && { wnd: e.naf.wnd, points: e.naf.points.map(r) }, doubles: e.doubles && { step: e.doubles.step, points: e.doubles.points.map(r) } } } return t } }, l.prototype.toJSON = function () { return this.precomputed ? [this.x, this.y, this.precomputed && { doubles: this.precomputed.doubles && { step: this.precomputed.doubles.step, points: this.precomputed.doubles.points.slice(1) }, naf: this.precomputed.naf && { wnd: this.precomputed.naf.wnd, points: this.precomputed.naf.points.slice(1) } }] : [this.x, this.y] }, l.fromJSON = function (e, t, n) { "string" === typeof t && (t = JSON.parse(t)); var r = e.point(t[0], t[1], n); if (!t[2]) return r; function i(t) { return e.point(t[0], t[1], n) } var o = t[2]; return r.precomputed = { beta: null, doubles: o.doubles && { step: o.doubles.step, points: [r].concat(o.doubles.points.map(i)) }, naf: o.naf && { wnd: o.naf.wnd, points: [r].concat(o.naf.points.map(i)) } }, r }, l.prototype.inspect = function () { return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " y: " + this.y.fromRed().toString(16, 2) + ">" }, l.prototype.isInfinity = function () { return this.inf }, l.prototype.add = function (e) { if (this.inf) return e; if (e.inf) return this; if (this.eq(e)) return this.dbl(); if (this.neg().eq(e)) return this.curve.point(null, null); if (0 === this.x.cmp(e.x)) return this.curve.point(null, null); var t = this.y.redSub(e.y); 0 !== t.cmpn(0) && (t = t.redMul(this.x.redSub(e.x).redInvm())); var n = t.redSqr().redISub(this.x).redISub(e.x), r = t.redMul(this.x.redSub(n)).redISub(this.y); return this.curve.point(n, r) }, l.prototype.dbl = function () { if (this.inf) return this; var e = this.y.redAdd(this.y); if (0 === e.cmpn(0)) return this.curve.point(null, null); var t = this.curve.a, n = this.x.redSqr(), r = e.redInvm(), i = n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r), o = i.redSqr().redISub(this.x.redAdd(this.x)), s = i.redMul(this.x.redSub(o)).redISub(this.y); return this.curve.point(o, s) }, l.prototype.getX = function () { return this.x.fromRed() }, l.prototype.getY = function () { return this.y.fromRed() }, l.prototype.mul = function (e) { return e = new i(e, 16), this.isInfinity() ? this : this._hasDoubles(e) ? this.curve._fixedNafMul(this, e) : this.curve.endo ? this.curve._endoWnafMulAdd([this], [e]) : this.curve._wnafMul(this, e) }, l.prototype.mulAdd = function (e, t, n) { var r = [this, t], i = [e, n]; return this.curve.endo ? this.curve._endoWnafMulAdd(r, i) : this.curve._wnafMulAdd(1, r, i, 2) }, l.prototype.jmulAdd = function (e, t, n) { var r = [this, t], i = [e, n]; return this.curve.endo ? this.curve._endoWnafMulAdd(r, i, !0) : this.curve._wnafMulAdd(1, r, i, 2, !0) }, l.prototype.eq = function (e) { return this === e || this.inf === e.inf && (this.inf || 0 === this.x.cmp(e.x) && 0 === this.y.cmp(e.y)) }, l.prototype.neg = function (e) { if (this.inf) return this; var t = this.curve.point(this.x, this.y.redNeg()); if (e && this.precomputed) { var n = this.precomputed, r = function (e) { return e.neg() }; t.precomputed = { naf: n.naf && { wnd: n.naf.wnd, points: n.naf.points.map(r) }, doubles: n.doubles && { step: n.doubles.step, points: n.doubles.points.map(r) } } } return t }, l.prototype.toJ = function () { return this.inf ? this.curve.jpoint(null, null, null) : this.curve.jpoint(this.x, this.y, this.curve.one) }, o(u, s.BasePoint), c.prototype.jpoint = function (e, t, n) { return new u(this, e, t, n) }, u.prototype.toP = function () { if (this.isInfinity()) return this.curve.point(null, null); var e = this.z.redInvm(), t = e.redSqr(), n = this.x.redMul(t), r = this.y.redMul(t).redMul(e); return this.curve.point(n, r) }, u.prototype.neg = function () { return this.curve.jpoint(this.x, this.y.redNeg(), this.z) }, u.prototype.add = function (e) { if (this.isInfinity()) return e; if (e.isInfinity()) return this; var t = e.z.redSqr(), n = this.z.redSqr(), r = this.x.redMul(t), i = e.x.redMul(n), o = this.y.redMul(t.redMul(e.z)), s = e.y.redMul(n.redMul(this.z)), a = r.redSub(i), c = o.redSub(s); if (0 === a.cmpn(0)) return 0 !== c.cmpn(0) ? this.curve.jpoint(null, null, null) : this.dbl(); var l = a.redSqr(), u = l.redMul(a), d = r.redMul(l), h = c.redSqr().redIAdd(u).redISub(d).redISub(d), f = c.redMul(d.redISub(h)).redISub(o.redMul(u)), p = this.z.redMul(e.z).redMul(a); return this.curve.jpoint(h, f, p) }, u.prototype.mixedAdd = function (e) { if (this.isInfinity()) return e.toJ(); if (e.isInfinity()) return this; var t = this.z.redSqr(), n = this.x, r = e.x.redMul(t), i = this.y, o = e.y.redMul(t).redMul(this.z), s = n.redSub(r), a = i.redSub(o); if (0 === s.cmpn(0)) return 0 !== a.cmpn(0) ? this.curve.jpoint(null, null, null) : this.dbl(); var c = s.redSqr(), l = c.redMul(s), u = n.redMul(c), d = a.redSqr().redIAdd(l).redISub(u).redISub(u), h = a.redMul(u.redISub(d)).redISub(i.redMul(l)), f = this.z.redMul(s); return this.curve.jpoint(d, h, f) }, u.prototype.dblp = function (e) { if (0 === e) return this; if (this.isInfinity()) return this; if (!e) return this.dbl(); var t; if (this.curve.zeroA || this.curve.threeA) { var n = this; for (t = 0; t < e; t++)n = n.dbl(); return n } var r = this.curve.a, i = this.curve.tinv, o = this.x, s = this.y, a = this.z, c = a.redSqr().redSqr(), l = s.redAdd(s); for (t = 0; t < e; t++) { var u = o.redSqr(), d = l.redSqr(), h = d.redSqr(), f = u.redAdd(u).redIAdd(u).redIAdd(r.redMul(c)), p = o.redMul(d), m = f.redSqr().redISub(p.redAdd(p)), g = p.redISub(m), y = f.redMul(g); y = y.redIAdd(y).redISub(h); var b = l.redMul(a); t + 1 < e && (c = c.redMul(h)), o = m, a = b, l = y } return this.curve.jpoint(o, l.redMul(i), a) }, u.prototype.dbl = function () { return this.isInfinity() ? this : this.curve.zeroA ? this._zeroDbl() : this.curve.threeA ? this._threeDbl() : this._dbl() }, u.prototype._zeroDbl = function () { var e, t, n; if (this.zOne) { var r = this.x.redSqr(), i = this.y.redSqr(), o = i.redSqr(), s = this.x.redAdd(i).redSqr().redISub(r).redISub(o); s = s.redIAdd(s); var a = r.redAdd(r).redIAdd(r), c = a.redSqr().redISub(s).redISub(s), l = o.redIAdd(o); l = (l = l.redIAdd(l)).redIAdd(l), e = c, t = a.redMul(s.redISub(c)).redISub(l), n = this.y.redAdd(this.y) } else { var u = this.x.redSqr(), d = this.y.redSqr(), h = d.redSqr(), f = this.x.redAdd(d).redSqr().redISub(u).redISub(h); f = f.redIAdd(f); var p = u.redAdd(u).redIAdd(u), m = p.redSqr(), g = h.redIAdd(h); g = (g = g.redIAdd(g)).redIAdd(g), e = m.redISub(f).redISub(f), t = p.redMul(f.redISub(e)).redISub(g), n = (n = this.y.redMul(this.z)).redIAdd(n) } return this.curve.jpoint(e, t, n) }, u.prototype._threeDbl = function () { var e, t, n; if (this.zOne) { var r = this.x.redSqr(), i = this.y.redSqr(), o = i.redSqr(), s = this.x.redAdd(i).redSqr().redISub(r).redISub(o); s = s.redIAdd(s); var a = r.redAdd(r).redIAdd(r).redIAdd(this.curve.a), c = a.redSqr().redISub(s).redISub(s); e = c; var l = o.redIAdd(o); l = (l = l.redIAdd(l)).redIAdd(l), t = a.redMul(s.redISub(c)).redISub(l), n = this.y.redAdd(this.y) } else { var u = this.z.redSqr(), d = this.y.redSqr(), h = this.x.redMul(d), f = this.x.redSub(u).redMul(this.x.redAdd(u)); f = f.redAdd(f).redIAdd(f); var p = h.redIAdd(h), m = (p = p.redIAdd(p)).redAdd(p); e = f.redSqr().redISub(m), n = this.y.redAdd(this.z).redSqr().redISub(d).redISub(u); var g = d.redSqr(); g = (g = (g = g.redIAdd(g)).redIAdd(g)).redIAdd(g), t = f.redMul(p.redISub(e)).redISub(g) } return this.curve.jpoint(e, t, n) }, u.prototype._dbl = function () { var e = this.curve.a, t = this.x, n = this.y, r = this.z, i = r.redSqr().redSqr(), o = t.redSqr(), s = n.redSqr(), a = o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)), c = t.redAdd(t), l = (c = c.redIAdd(c)).redMul(s), u = a.redSqr().redISub(l.redAdd(l)), d = l.redISub(u), h = s.redSqr(); h = (h = (h = h.redIAdd(h)).redIAdd(h)).redIAdd(h); var f = a.redMul(d).redISub(h), p = n.redAdd(n).redMul(r); return this.curve.jpoint(u, f, p) }, u.prototype.trpl = function () { if (!this.curve.zeroA) return this.dbl().add(this); var e = this.x.redSqr(), t = this.y.redSqr(), n = this.z.redSqr(), r = t.redSqr(), i = e.redAdd(e).redIAdd(e), o = i.redSqr(), s = this.x.redAdd(t).redSqr().redISub(e).redISub(r), a = (s = (s = (s = s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(), c = r.redIAdd(r); c = (c = (c = c.redIAdd(c)).redIAdd(c)).redIAdd(c); var l = i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(c), u = t.redMul(l); u = (u = u.redIAdd(u)).redIAdd(u); var d = this.x.redMul(a).redISub(u); d = (d = d.redIAdd(d)).redIAdd(d); var h = this.y.redMul(l.redMul(c.redISub(l)).redISub(s.redMul(a))); h = (h = (h = h.redIAdd(h)).redIAdd(h)).redIAdd(h); var f = this.z.redAdd(s).redSqr().redISub(n).redISub(a); return this.curve.jpoint(d, h, f) }, u.prototype.mul = function (e, t) { return e = new i(e, t), this.curve._wnafMul(this, e) }, u.prototype.eq = function (e) { if ("affine" === e.type) return this.eq(e.toJ()); if (this === e) return !0; var t = this.z.redSqr(), n = e.z.redSqr(); if (0 !== this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)) return !1; var r = t.redMul(this.z), i = n.redMul(e.z); return 0 === this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0) }, u.prototype.eqXToP = function (e) { var t = this.z.redSqr(), n = e.toRed(this.curve.red).redMul(t); if (0 === this.x.cmp(n)) return !0; for (var r = e.clone(), i = this.curve.redN.redMul(t); ;) { if (r.iadd(this.curve.n), r.cmp(this.curve.p) >= 0) return !1; if (n.redIAdd(i), 0 === this.x.cmp(n)) return !0 } }, u.prototype.inspect = function () { return this.isInfinity() ? "<EC JPoint Infinity>" : "<EC JPoint x: " + this.x.toString(16, 2) + " y: " + this.y.toString(16, 2) + " z: " + this.z.toString(16, 2) + ">" }, u.prototype.isInfinity = function () { return 0 === this.z.cmpn(0) } }, 83503: function (e, t, n) { "use strict"; var r, i = t, o = n(33715), s = n(6162), a = n(70595).assert; function c(e) { "short" === e.type ? this.curve = new s.short(e) : "edwards" === e.type ? this.curve = new s.edwards(e) : this.curve = new s.mont(e), this.g = this.curve.g, this.n = this.curve.n, this.hash = e.hash, a(this.g.validate(), "Invalid curve"), a(this.g.mul(this.n).isInfinity(), "Invalid curve, G*N != O") } function l(e, t) { Object.defineProperty(i, e, { configurable: !0, enumerable: !0, get: function () { var n = new c(t); return Object.defineProperty(i, e, { configurable: !0, enumerable: !0, value: n }), n } }) } i.PresetCurve = c, l("p192", { type: "short", prime: "p192", p: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff", a: "ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc", b: "64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1", n: "ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831", hash: o.sha256, gRed: !1, g: ["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012", "07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"] }), l("p224", { type: "short", prime: "p224", p: "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001", a: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe", b: "b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4", n: "ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d", hash: o.sha256, gRed: !1, g: ["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21", "bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"] }), l("p256", { type: "short", prime: null, p: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff", a: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc", b: "5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b", n: "ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551", hash: o.sha256, gRed: !1, g: ["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296", "4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"] }), l("p384", { type: "short", prime: null, p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff", a: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc", b: "b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef", n: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973", hash: o.sha384, gRed: !1, g: ["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7", "3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"] }), l("p521", { type: "short", prime: null, p: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff", a: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc", b: "00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00", n: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409", hash: o.sha512, gRed: !1, g: ["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66", "00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"] }), l("curve25519", { type: "mont", prime: "p25519", p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed", a: "76d06", b: "1", n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed", hash: o.sha256, gRed: !1, g: ["9"] }), l("ed25519", { type: "edwards", prime: "p25519", p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed", a: "-1", c: "1", d: "52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3", n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed", hash: o.sha256, gRed: !1, g: ["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a", "6666666666666666666666666666666666666666666666666666666666666658"] }); try { r = n(39762) } catch (u) { r = void 0 } l("secp256k1", { type: "short", prime: "k256", p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f", a: "0", b: "7", n: "ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141", h: "1", hash: o.sha256, beta: "7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee", lambda: "5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72", basis: [{ a: "3086d221a7d46bcde86c90e49284eb15", b: "-e4437ed6010e88286f547fa90abfe4c3" }, { a: "114ca50f7a8e2f3f657c1108d9d44cfd8", b: "3086d221a7d46bcde86c90e49284eb15" }], gRed: !1, g: ["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798", "483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8", r] }) }, 96667: function (e, t, n) { "use strict"; var r = n(11460), i = n(2156), o = n(70595), s = n(83503), a = n(29931), c = o.assert, l = n(44941), u = n(33955); function d(e) { if (!(this instanceof d)) return new d(e); "string" === typeof e && (c(Object.prototype.hasOwnProperty.call(s, e), "Unknown curve " + e), e = s[e]), e instanceof s.PresetCurve && (e = { curve: e }), this.curve = e.curve.curve, this.n = this.curve.n, this.nh = this.n.ushrn(1), this.g = this.curve.g, this.g = e.curve.g, this.g.precompute(e.curve.n.bitLength() + 1), this.hash = e.hash || e.curve.hash } e.exports = d, d.prototype.keyPair = function (e) { return new l(this, e) }, d.prototype.keyFromPrivate = function (e, t) { return l.fromPrivate(this, e, t) }, d.prototype.keyFromPublic = function (e, t) { return l.fromPublic(this, e, t) }, d.prototype.genKeyPair = function (e) { e || (e = {}); for (var t = new i({ hash: this.hash, pers: e.pers, persEnc: e.persEnc || "utf8", entropy: e.entropy || a(this.hash.hmacStrength), entropyEnc: e.entropy && e.entropyEnc || "utf8", nonce: this.n.toArray() }), n = this.n.byteLength(), o = this.n.sub(new r(2)); ;) { var s = new r(t.generate(n)); if (!(s.cmp(o) > 0)) return s.iaddn(1), this.keyFromPrivate(s) } }, d.prototype._truncateToN = function (e, t, n) { var i; if (r.isBN(e) || "number" === typeof e) i = (e = new r(e, 16)).byteLength(); else if ("object" === typeof e) i = e.length, e = new r(e, 16); else { var o = e.toString(); i = o.length + 1 >>> 1, e = new r(o, 16) } "number" !== typeof n && (n = 8 * i); var s = n - this.n.bitLength(); return s > 0 && (e = e.ushrn(s)), !t && e.cmp(this.n) >= 0 ? e.sub(this.n) : e }, d.prototype.sign = function (e, t, n, o) { "object" === typeof n && (o = n, n = null), o || (o = {}), t = this.keyFromPrivate(t, n), e = this._truncateToN(e, !1, o.msgBitLength); for (var s = this.n.byteLength(), a = t.getPrivate().toArray("be", s), c = e.toArray("be", s), l = new i({ hash: this.hash, entropy: a, nonce: c, pers: o.pers, persEnc: o.persEnc || "utf8" }), d = this.n.sub(new r(1)), h = 0; ; h++) { var f = o.k ? o.k(h) : new r(l.generate(this.n.byteLength())); if (!((f = this._truncateToN(f, !0)).cmpn(1) <= 0 || f.cmp(d) >= 0)) { var p = this.g.mul(f); if (!p.isInfinity()) { var m = p.getX(), g = m.umod(this.n); if (0 !== g.cmpn(0)) { var y = f.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e)); if (0 !== (y = y.umod(this.n)).cmpn(0)) { var b = (p.getY().isOdd() ? 1 : 0) | (0 !== m.cmp(g) ? 2 : 0); return o.canonical && y.cmp(this.nh) > 0 && (y = this.n.sub(y), b ^= 1), new u({ r: g, s: y, recoveryParam: b }) } } } } } }, d.prototype.verify = function (e, t, n, r, i) { i || (i = {}), e = this._truncateToN(e, !1, i.msgBitLength), n = this.keyFromPublic(n, r); var o = (t = new u(t, "hex")).r, s = t.s; if (o.cmpn(1) < 0 || o.cmp(this.n) >= 0) return !1; if (s.cmpn(1) < 0 || s.cmp(this.n) >= 0) return !1; var a, c = s.invm(this.n), l = c.mul(e).umod(this.n), d = c.mul(o).umod(this.n); return this.curve._maxwellTrick ? !(a = this.g.jmulAdd(l, n.getPublic(), d)).isInfinity() && a.eqXToP(o) : !(a = this.g.mulAdd(l, n.getPublic(), d)).isInfinity() && 0 === a.getX().umod(this.n).cmp(o) }, d.prototype.recoverPubKey = function (e, t, n, i) { c((3 & n) === n, "The recovery param is more than two bits"), t = new u(t, i); var o = this.n, s = new r(e), a = t.r, l = t.s, d = 1 & n, h = n >> 1; if (a.cmp(this.curve.p.umod(this.curve.n)) >= 0 && h) throw new Error("Unable to find sencond key candinate"); a = h ? this.curve.pointFromX(a.add(this.curve.n), d) : this.curve.pointFromX(a, d); var f = t.r.invm(o), p = o.sub(s).mul(f).umod(o), m = l.mul(f).umod(o); return this.g.mulAdd(p, a, m) }, d.prototype.getKeyRecoveryParam = function (e, t, n, r) { if (null !== (t = new u(t, r)).recoveryParam) return t.recoveryParam; for (var i = 0; i < 4; i++) { var o; try { o = this.recoverPubKey(e, t, i) } catch (e) { continue } if (o.eq(n)) return i } throw new Error("Unable to find valid recovery factor") } }, 44941: function (e, t, n) { "use strict"; var r = n(11460), i = n(70595).assert; function o(e, t) { this.ec = e, this.priv = null, this.pub = null, t.priv && this._importPrivate(t.priv, t.privEnc), t.pub && this._importPublic(t.pub, t.pubEnc) } e.exports = o, o.fromPublic = function (e, t, n) { return t instanceof o ? t : new o(e, { pub: t, pubEnc: n }) }, o.fromPrivate = function (e, t, n) { return t instanceof o ? t : new o(e, { priv: t, privEnc: n }) }, o.prototype.validate = function () { var e = this.getPublic(); return e.isInfinity() ? { result: !1, reason: "Invalid public key" } : e.validate() ? e.mul(this.ec.curve.n).isInfinity() ? { result: !0, reason: null } : { result: !1, reason: "Public key * N != O" } : { result: !1, reason: "Public key is not a point" } }, o.prototype.getPublic = function (e, t) { return "string" === typeof e && (t = e, e = null), this.pub || (this.pub = this.ec.g.mul(this.priv)), t ? this.pub.encode(t, e) : this.pub }, o.prototype.getPrivate = function (e) { return "hex" === e ? this.priv.toString(16, 2) : this.priv }, o.prototype._importPrivate = function (e, t) { this.priv = new r(e, t || 16), this.priv = this.priv.umod(this.ec.curve.n) }, o.prototype._importPublic = function (e, t) { if (e.x || e.y) return "mont" === this.ec.curve.type ? i(e.x, "Need x coordinate") : "short" !== this.ec.curve.type && "edwards" !== this.ec.curve.type || i(e.x && e.y, "Need both x and y coordinate"), void (this.pub = this.ec.curve.point(e.x, e.y)); this.pub = this.ec.curve.decodePoint(e, t) }, o.prototype.derive = function (e) { return e.validate() || i(e.validate(), "public point not validated"), e.mul(this.priv).getX() }, o.prototype.sign = function (e, t, n) { return this.ec.sign(e, this, t, n) }, o.prototype.verify = function (e, t, n) { return this.ec.verify(e, t, this, void 0, n) }, o.prototype.inspect = function () { return "<Key priv: " + (this.priv && this.priv.toString(16, 2)) + " pub: " + (this.pub && this.pub.inspect()) + " >" } }, 33955: function (e, t, n) { "use strict"; var r = n(11460), i = n(70595), o = i.assert; function s(e, t) { if (e instanceof s) return e; this._importDER(e, t) || (o(e.r && e.s, "Signature without r or s"), this.r = new r(e.r, 16), this.s = new r(e.s, 16), void 0 === e.recoveryParam ? this.recoveryParam = null : this.recoveryParam = e.recoveryParam) } function a() { this.place = 0 } function c(e, t) { var n = e[t.place++]; if (!(128 & n)) return n; var r = 15 & n; if (0 === r || r > 4) return !1; if (0 === e[t.place]) return !1; for (var i = 0, o = 0, s = t.place; o < r; o++, s++)i <<= 8, i |= e[s], i >>>= 0; return !(i <= 127) && (t.place = s, i) } function l(e) { for (var t = 0, n = e.length - 1; !e[t] && !(128 & e[t + 1]) && t < n;)t++; return 0 === t ? e : e.slice(t) } function u(e, t) { if (t < 128) e.push(t); else { var n = 1 + (Math.log(t) / Math.LN2 >>> 3); for (e.push(128 | n); --n;)e.push(t >>> (n << 3) & 255); e.push(t) } } e.exports = s, s.prototype._importDER = function (e, t) { e = i.toArray(e, t); var n = new a; if (48 !== e[n.place++]) return !1; var o = c(e, n); if (!1 === o) return !1; if (o + n.place !== e.length) return !1; if (2 !== e[n.place++]) return !1; var s = c(e, n); if (!1 === s) return !1; if (0 !== (128 & e[n.place])) return !1; var l = e.slice(n.place, s + n.place); if (n.place += s, 2 !== e[n.place++]) return !1; var u = c(e, n); if (!1 === u) return !1; if (e.length !== u + n.place) return !1; if (0 !== (128 & e[n.place])) return !1; var d = e.slice(n.place, u + n.place); if (0 === l[0]) { if (!(128 & l[1])) return !1; l = l.slice(1) } if (0 === d[0]) { if (!(128 & d[1])) return !1; d = d.slice(1) } return this.r = new r(l), this.s = new r(d), this.recoveryParam = null, !0 }, s.prototype.toDER = function (e) { var t = this.r.toArray(), n = this.s.toArray(); for (128 & t[0] && (t = [0].concat(t)), 128 & n[0] && (n = [0].concat(n)), t = l(t), n = l(n); !n[0] && !(128 & n[1]);)n = n.slice(1); var r = [2]; u(r, t.length), (r = r.concat(t)).push(2), u(r, n.length); var o = r.concat(n), s = [48]; return u(s, o.length), s = s.concat(o), i.encode(s, e) } }, 2907: function (e, t, n) { "use strict"; var r = n(33715), i = n(83503), o = n(70595), s = o.assert, a = o.parseBytes, c = n(38417), l = n(3668); function u(e) { if (s("ed25519" === e, "only tested with ed25519 so far"), !(this instanceof u)) return new u(e); e = i[e].curve, this.curve = e, this.g = e.g, this.g.precompute(e.n.bitLength() + 1), this.pointClass = e.point().constructor, this.encodingLength = Math.ceil(e.n.bitLength() / 8), this.hash = r.sha512 } e.exports = u, u.prototype.sign = function (e, t) { e = a(e); var n = this.keyFromSecret(t), r = this.hashInt(n.messagePrefix(), e), i = this.g.mul(r), o = this.encodePoint(i), s = this.hashInt(o, n.pubBytes(), e).mul(n.priv()), c = r.add(s).umod(this.curve.n); return this.makeSignature({ R: i, S: c, Rencoded: o }) }, u.prototype.verify = function (e, t, n) { if (e = a(e), (t = this.makeSignature(t)).S().gte(t.eddsa.curve.n) || t.S().isNeg()) return !1; var r = this.keyFromPublic(n), i = this.hashInt(t.Rencoded(), r.pubBytes(), e), o = this.g.mul(t.S()); return t.R().add(r.pub().mul(i)).eq(o) }, u.prototype.hashInt = function () { for (var e = this.hash(), t = 0; t < arguments.length; t++)e.update(arguments[t]); return o.intFromLE(e.digest()).umod(this.curve.n) }, u.prototype.keyFromPublic = function (e) { return c.fromPublic(this, e) }, u.prototype.keyFromSecret = function (e) { return c.fromSecret(this, e) }, u.prototype.makeSignature = function (e) { return e instanceof l ? e : new l(this, e) }, u.prototype.encodePoint = function (e) { var t = e.getY().toArray("le", this.encodingLength); return t[this.encodingLength - 1] |= e.getX().isOdd() ? 128 : 0, t }, u.prototype.decodePoint = function (e) { var t = (e = o.parseBytes(e)).length - 1, n = e.slice(0, t).concat(-129 & e[t]), r = 0 !== (128 & e[t]), i = o.intFromLE(n); return this.curve.pointFromY(i, r) }, u.prototype.encodeInt = function (e) { return e.toArray("le", this.encodingLength) }, u.prototype.decodeInt = function (e) { return o.intFromLE(e) }, u.prototype.isPoint = function (e) { return e instanceof this.pointClass } }, 38417: function (e, t, n) { "use strict"; var r = n(70595), i = r.assert, o = r.parseBytes, s = r.cachedProperty; function a(e, t) { this.eddsa = e, this._secret = o(t.secret), e.isPoint(t.pub) ? this._pub = t.pub : this._pubBytes = o(t.pub) } a.fromPublic = function (e, t) { return t instanceof a ? t : new a(e, { pub: t }) }, a.fromSecret = function (e, t) { return t instanceof a ? t : new a(e, { secret: t }) }, a.prototype.secret = function () { return this._secret }, s(a, "pubBytes", (function () { return this.eddsa.encodePoint(this.pub()) })), s(a, "pub", (function () { return this._pubBytes ? this.eddsa.decodePoint(this._pubBytes) : this.eddsa.g.mul(this.priv()) })), s(a, "privBytes", (function () { var e = this.eddsa, t = this.hash(), n = e.encodingLength - 1, r = t.slice(0, e.encodingLength); return r[0] &= 248, r[n] &= 127, r[n] |= 64, r })), s(a, "priv", (function () { return this.eddsa.decodeInt(this.privBytes()) })), s(a, "hash", (function () { return this.eddsa.hash().update(this.secret()).digest() })), s(a, "messagePrefix", (function () { return this.hash().slice(this.eddsa.encodingLength) })), a.prototype.sign = function (e) { return i(this._secret, "KeyPair can only verify"), this.eddsa.sign(e, this) }, a.prototype.verify = function (e, t) { return this.eddsa.verify(e, t, this) }, a.prototype.getSecret = function (e) { return i(this._secret, "KeyPair is public only"), r.encode(this.secret(), e) }, a.prototype.getPublic = function (e) { return r.encode(this.pubBytes(), e) }, e.exports = a }, 3668: function (e, t, n) { "use strict"; var r = n(11460), i = n(70595), o = i.assert, s = i.cachedProperty, a = i.parseBytes; function c(e, t) { this.eddsa = e, "object" !== typeof t && (t = a(t)), Array.isArray(t) && (o(t.length === 2 * e.encodingLength, "Signature has invalid size"), t = { R: t.slice(0, e.encodingLength), S: t.slice(e.encodingLength) }), o(t.R && t.S, "Signature without R or S"), e.isPoint(t.R) && (this._R = t.R), t.S instanceof r && (this._S = t.S), this._Rencoded = Array.isArray(t.R) ? t.R : t.Rencoded, this._Sencoded = Array.isArray(t.S) ? t.S : t.Sencoded } s(c, "S", (function () { return this.eddsa.decodeInt(this.Sencoded()) })), s(c, "R", (function () { return this.eddsa.decodePoint(this.Rencoded()) })), s(c, "Rencoded", (function () { return this.eddsa.encodePoint(this.R()) })), s(c, "Sencoded", (function () { return this.eddsa.encodeInt(this.S()) })), c.prototype.toBytes = function () { return this.Rencoded().concat(this.Sencoded()) }, c.prototype.toHex = function () { return i.encode(this.toBytes(), "hex").toUpperCase() }, e.exports = c }, 39762: function (e) { e.exports = { doubles: { step: 4, points: [["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a", "f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"], ["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508", "11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"], ["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739", "d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"], ["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640", "4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"], ["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c", "4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"], ["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda", "96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"], ["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa", "5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"], ["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0", "cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"], ["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d", "9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"], ["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d", "e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"], ["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1", "9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"], ["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0", "5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"], ["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047", "10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"], ["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862", "283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"], ["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7", "7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"], ["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd", "56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"], ["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83", "7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"], ["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a", "53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"], ["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8", "bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"], ["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d", "4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"], ["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725", "7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"], ["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754", "4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"], ["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c", "17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"], ["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6", "6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"], ["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39", "c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"], ["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891", "893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"], ["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b", "febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"], ["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03", "2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"], ["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d", "eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"], ["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070", "7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"], ["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4", "e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"], ["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da", "662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"], ["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11", "1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"], ["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e", "efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"], ["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41", "2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"], ["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef", "67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"], ["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8", "db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"], ["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d", "648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"], ["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96", "35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"], ["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd", "ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"], ["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5", "9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"], ["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266", "40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"], ["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71", "34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"], ["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac", "c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"], ["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751", "1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"], ["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e", "493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"], ["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241", "c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"], ["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3", "be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"], ["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f", "4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"], ["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19", "aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"], ["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be", "b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"], ["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9", "6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"], ["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2", "8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"], ["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13", "7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"], ["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c", "ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"], ["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba", "2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"], ["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151", "e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"], ["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073", "d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"], ["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458", "38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"], ["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b", "69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"], ["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366", "d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"], ["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa", "40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"], ["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0", "620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"], ["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787", "7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"], ["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e", "ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]] }, naf: { wnd: 7, points: [["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9", "388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"], ["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4", "d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"], ["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc", "6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"], ["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe", "cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"], ["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb", "d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"], ["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8", "ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"], ["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e", "581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"], ["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34", "4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"], ["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c", "85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"], ["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5", "321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"], ["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f", "2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"], ["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714", "73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"], ["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729", "a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"], ["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db", "2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"], ["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4", "e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"], ["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5", "b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"], ["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479", "2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"], ["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d", "80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"], ["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f", "1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"], ["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb", "d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"], ["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9", "eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"], ["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963", "758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"], ["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74", "958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"], ["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530", "e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"], ["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b", "5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"], ["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247", "cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"], ["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1", "cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"], ["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120", "4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"], ["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435", "91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"], ["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18", "673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"], ["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8", "59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"], ["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb", "3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"], ["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f", "55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"], ["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143", "efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"], ["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba", "e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"], ["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45", "f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"], ["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a", "744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"], ["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e", "c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"], ["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8", "e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"], ["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c", "30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"], ["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519", "e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"], ["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab", "100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"], ["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca", "ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"], ["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf", "8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"], ["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610", "68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"], ["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4", "f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"], ["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c", "d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"], ["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940", "edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"], ["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980", "a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"], ["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3", "66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"], ["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf", "9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"], ["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63", "4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"], ["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448", "fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"], ["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf", "5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"], ["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5", "8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"], ["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6", "8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"], ["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5", "5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"], ["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99", "f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"], ["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51", "f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"], ["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5", "42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"], ["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5", "204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"], ["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997", "4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"], ["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881", "73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"], ["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5", "39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"], ["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66", "d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"], ["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726", "ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"], ["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede", "6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"], ["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94", "60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"], ["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31", "3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"], ["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51", "b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"], ["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252", "ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"], ["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5", "cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"], ["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b", "6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"], ["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4", "322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"], ["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f", "6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"], ["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889", "2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"], ["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246", "b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"], ["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984", "998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"], ["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a", "b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"], ["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030", "bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"], ["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197", "6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"], ["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593", "c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"], ["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef", "21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"], ["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38", "60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"], ["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a", "49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"], ["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111", "5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"], ["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502", "7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"], ["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea", "be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"], ["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26", "8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"], ["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986", "39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"], ["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e", "62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"], ["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4", "25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"], ["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda", "ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"], ["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859", "cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"], ["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f", "f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"], ["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c", "6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"], ["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942", "fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"], ["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a", "1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"], ["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80", "5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"], ["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d", "438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"], ["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1", "cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"], ["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63", "c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"], ["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352", "6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"], ["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193", "ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"], ["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00", "9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"], ["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58", "ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"], ["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7", "d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"], ["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8", "c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"], ["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e", "67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"], ["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d", "cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"], ["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b", "299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"], ["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f", "f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"], ["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6", "462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"], ["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297", "62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"], ["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a", "7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"], ["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c", "ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"], ["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52", "4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"], ["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb", "bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"], ["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065", "bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"], ["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917", "603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"], ["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9", "cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"], ["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3", "553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"], ["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57", "712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"], ["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66", "ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"], ["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8", "9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"], ["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721", "9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"], ["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180", "4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]] } } }, 70595: function (e, t, n) { "use strict"; var r = t, i = n(11460), o = n(79746), s = n(34504); r.assert = o, r.toArray = s.toArray, r.zero2 = s.zero2, r.toHex = s.toHex, r.encode = s.encode, r.getNAF = function (e, t, n) { var r, i = new Array(Math.max(e.bitLength(), n) + 1); for (r = 0; r < i.length; r += 1)i[r] = 0; var o = 1 << t + 1, s = e.clone(); for (r = 0; r < i.length; r++) { var a, c = s.andln(o - 1); s.isOdd() ? (a = c > (o >> 1) - 1 ? (o >> 1) - c : c, s.isubn(a)) : a = 0, i[r] = a, s.iushrn(1) } return i }, r.getJSF = function (e, t) { var n = [[], []]; e = e.clone(), t = t.clone(); for (var r, i = 0, o = 0; e.cmpn(-i) > 0 || t.cmpn(-o) > 0;) { var s, a, c = e.andln(3) + i & 3, l = t.andln(3) + o & 3; 3 === c && (c = -1), 3 === l && (l = -1), s = 0 === (1 & c) ? 0 : 3 !== (r = e.andln(7) + i & 7) && 5 !== r || 2 !== l ? c : -c, n[0].push(s), a = 0 === (1 & l) ? 0 : 3 !== (r = t.andln(7) + o & 7) && 5 !== r || 2 !== c ? l : -l, n[1].push(a), 2 * i === s + 1 && (i = 1 - i), 2 * o === a + 1 && (o = 1 - o), e.iushrn(1), t.iushrn(1) } return n }, r.cachedProperty = function (e, t, n) { var r = "_" + t; e.prototype[t] = function () { return void 0 !== this[r] ? this[r] : this[r] = n.call(this) } }, r.parseBytes = function (e) { return "string" === typeof e ? r.toArray(e, "hex") : e }, r.intFromLE = function (e) { return new i(e, "hex", "le") } }, 62873: function (e, t) { "use strict"; function n(e) { let t; return "undefined" !== typeof window && "undefined" !== typeof window[e] && (t = window[e]), t } function r(e) { const t = n(e); if (!t) throw new Error(`${e} is not defined in Window`); return t } Object.defineProperty(t, "__esModule", { value: !0 }), t.getLocalStorage = t.getLocalStorageOrThrow = t.getCrypto = t.getCryptoOrThrow = t.getLocation = t.getLocationOrThrow = t.getNavigator = t.getNavigatorOrThrow = t.getDocument = t.getDocumentOrThrow = t.getFromWindowOrThrow = t.getFromWindow = void 0, t.getFromWindow = n, t.getFromWindowOrThrow = r, t.getDocumentOrThrow = function () { return r("document") }, t.getDocument = function () { return n("document") }, t.getNavigatorOrThrow = function () { return r("navigator") }, t.getNavigator = function () { return n("navigator") }, t.getLocationOrThrow = function () { return r("location") }, t.getLocation = function () { return n("location") }, t.getCryptoOrThrow = function () { return r("crypto") }, t.getCrypto = function () { return n("crypto") }, t.getLocalStorageOrThrow = function () { return r("localStorage") }, t.getLocalStorage = function () { return n("localStorage") } }, 65755: function (e, t, n) { "use strict"; t.D = void 0; const r = n(62873); t.D = function () { let e, t; try { e = r.getDocumentOrThrow(), t = r.getLocationOrThrow() } catch (o) { return null } function n(...t) { const n = e.getElementsByTagName("meta"); for (let e = 0; e < n.length; e++) { const r = n[e], i = ["itemprop", "property", "name"].map((e => r.getAttribute(e))).filter((e => !!e && t.includes(e))); if (i.length && i) { const e = r.getAttribute("content"); if (e) return e } } return "" } const i = function () { let t = n("name", "og:site_name", "og:title", "twitter:title"); return t || (t = e.title), t }(); return { description: n("description", "og:description", "twitter:description", "keywords"), url: t.origin, icons: function () { const n = e.getElementsByTagName("link"), r = []; for (let e = 0; e < n.length; e++) { const i = n[e], o = i.getAttribute("rel"); if (o && o.toLowerCase().indexOf("icon") > -1) { const e = i.getAttribute("href"); if (e) if (-1 === e.toLowerCase().indexOf("https:") && -1 === e.toLowerCase().indexOf("http:") && 0 !== e.indexOf("//")) { let n = t.protocol + "//" + t.host; if (0 === e.indexOf("/")) n += e; else { const r = t.pathname.split("/"); r.pop(); n += r.join("/") + "/" + e } r.push(n) } else if (0 === e.indexOf("//")) { const n = t.protocol + e; r.push(n) } else r.push(e) } } return r }(), name: i } } }, 79742: function (e, t) { "use strict"; t.byteLength = function (e) { var t = c(e), n = t[0], r = t[1]; return 3 * (n + r) / 4 - r }, t.toByteArray = function (e) { var t, n, o = c(e), s = o[0], a = o[1], l = new i(function (e, t, n) { return 3 * (t + n) / 4 - n }(0, s, a)), u = 0, d = a > 0 ? s - 4 : s; for (n = 0; n < d; n += 4)t = r[e.charCodeAt(n)] << 18 | r[e.charCodeAt(n + 1)] << 12 | r[e.charCodeAt(n + 2)] << 6 | r[e.charCodeAt(n + 3)], l[u++] = t >> 16 & 255, l[u++] = t >> 8 & 255, l[u++] = 255 & t; 2 === a && (t = r[e.charCodeAt(n)] << 2 | r[e.charCodeAt(n + 1)] >> 4, l[u++] = 255 & t); 1 === a && (t = r[e.charCodeAt(n)] << 10 | r[e.charCodeAt(n + 1)] << 4 | r[e.charCodeAt(n + 2)] >> 2, l[u++] = t >> 8 & 255, l[u++] = 255 & t); return l }, t.fromByteArray = function (e) { for (var t, r = e.length, i = r % 3, o = [], s = 16383, a = 0, c = r - i; a < c; a += s)o.push(l(e, a, a + s > c ? c : a + s)); 1 === i ? (t = e[r - 1], o.push(n[t >> 2] + n[t << 4 & 63] + "==")) : 2 === i && (t = (e[r - 2] << 8) + e[r - 1], o.push(n[t >> 10] + n[t >> 4 & 63] + n[t << 2 & 63] + "=")); return o.join("") }; for (var n = [], r = [], i = "undefined" !== typeof Uint8Array ? Uint8Array : Array, o = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", s = 0, a = o.length; s < a; ++s)n[s] = o[s], r[o.charCodeAt(s)] = s; function c(e) { var t = e.length; if (t % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4"); var n = e.indexOf("="); return -1 === n && (n = t), [n, n === t ? 0 : 4 - n % 4] } function l(e, t, r) { for (var i, o, s = [], a = t; a < r; a += 3)i = (e[a] << 16 & 16711680) + (e[a + 1] << 8 & 65280) + (255 & e[a + 2]), s.push(n[(o = i) >> 18 & 63] + n[o >> 12 & 63] + n[o >> 6 & 63] + n[63 & o]); return s.join("") } r["-".charCodeAt(0)] = 62, r["_".charCodeAt(0)] = 63 }, 92882: function (e) { "use strict"; for (var t = "qpzry9x8gf2tvdw0s3jn54khce6mua7l", n = {}, r = 0; r < t.length; r++) { var i = t.charAt(r); if (void 0 !== n[i]) throw new TypeError(i + " is ambiguous"); n[i] = r } function o(e) { var t = e >> 25; return (33554431 & e) << 5 ^ 996825010 & -(t >> 0 & 1) ^ 642813549 & -(t >> 1 & 1) ^ 513874426 & -(t >> 2 & 1) ^ 1027748829 & -(t >> 3 & 1) ^ 705979059 & -(t >> 4 & 1) } function s(e) { for (var t = 1, n = 0; n < e.length; ++n) { var r = e.charCodeAt(n); if (r < 33 || r > 126) return "Invalid prefix (" + e + ")"; t = o(t) ^ r >> 5 } for (t = o(t), n = 0; n < e.length; ++n) { var i = e.charCodeAt(n); t = o(t) ^ 31 & i } return t } function a(e, t) { if (t = t || 90, e.length < 8) return e + " too short"; if (e.length > t) return "Exceeds length limit"; var r = e.toLowerCase(), i = e.toUpperCase(); if (e !== r && e !== i) return "Mixed-case string " + e; var a = (e = r).lastIndexOf("1"); if (-1 === a) return "No separator character for " + e; if (0 === a) return "Missing prefix for " + e; var c = e.slice(0, a), l = e.slice(a + 1); if (l.length < 6) return "Data too short"; var u = s(c); if ("string" === typeof u) return u; for (var d = [], h = 0; h < l.length; ++h) { var f = l.charAt(h), p = n[f]; if (void 0 === p) return "Unknown character " + f; u = o(u) ^ p, h + 6 >= l.length || d.push(p) } return 1 !== u ? "Invalid checksum for " + e : { prefix: c, words: d } } function c(e, t, n, r) { for (var i = 0, o = 0, s = (1 << n) - 1, a = [], c = 0; c < e.length; ++c)for (i = i << t | e[c], o += t; o >= n;)o -= n, a.push(i >> o & s); if (r) o > 0 && a.push(i << n - o & s); else { if (o >= t) return "Excess padding"; if (i << n - o & s) return "Non-zero padding" } return a } e.exports = { decodeUnsafe: function () { var e = a.apply(null, arguments); if ("object" === typeof e) return e }, decode: function (e) { var t = a.apply(null, arguments); if ("object" === typeof t) return t; throw new Error(t) }, encode: function (e, n, r) { if (r = r || 90, e.length + 7 + n.length > r) throw new TypeError("Exceeds length limit"); var i = s(e = e.toLowerCase()); if ("string" === typeof i) throw new Error(i); for (var a = e + "1", c = 0; c < n.length; ++c) { var l = n[c]; if (l >> 5 !== 0) throw new Error("Non 5-bit word"); i = o(i) ^ l, a += t.charAt(l) } for (c = 0; c < 6; ++c)i = o(i); for (i ^= 1, c = 0; c < 6; ++c) { a += t.charAt(i >> 5 * (5 - c) & 31) } return a }, toWordsUnsafe: function (e) { var t = c(e, 8, 5, !0); if (Array.isArray(t)) return t }, toWords: function (e) { var t = c(e, 8, 5, !0); if (Array.isArray(t)) return t; throw new Error(t) }, fromWordsUnsafe: function (e) { var t = c(e, 5, 8, !1); if (Array.isArray(t)) return t }, fromWords: function (e) { var t = c(e, 5, 8, !1); if (Array.isArray(t)) return t; throw new Error(t) } } }, 13550: function (e, t, n) { !function (e, t) { "use strict"; function r(e, t) { if (!e) throw new Error(t || "Assertion failed") } function i(e, t) { e.super_ = t; var n = function () { }; n.prototype = t.prototype, e.prototype = new n, e.prototype.constructor = e } function o(e, t, n) { if (o.isBN(e)) return e; this.negative = 0, this.words = null, this.length = 0, this.red = null, null !== e && ("le" !== t && "be" !== t || (n = t, t = 10), this._init(e || 0, t || 10, n || "be")) } var s; "object" === typeof e ? e.exports = o : t.BN = o, o.BN = o, o.wordSize = 26; try { s = "undefined" !== typeof window && "undefined" !== typeof window.Buffer ? window.Buffer : n(46601).Buffer } catch (I) { } function a(e, t) { var n = e.charCodeAt(t); return n >= 48 && n <= 57 ? n - 48 : n >= 65 && n <= 70 ? n - 55 : n >= 97 && n <= 102 ? n - 87 : void r(!1, "Invalid character in " + e) } function c(e, t, n) { var r = a(e, n); return n - 1 >= t && (r |= a(e, n - 1) << 4), r } function l(e, t, n, i) { for (var o = 0, s = 0, a = Math.min(e.length, n), c = t; c < a; c++) { var l = e.charCodeAt(c) - 48; o *= i, s = l >= 49 ? l - 49 + 10 : l >= 17 ? l - 17 + 10 : l, r(l >= 0 && s < i, "Invalid character"), o += s } return o } function u(e, t) { e.words = t.words, e.length = t.length, e.negative = t.negative, e.red = t.red } if (o.isBN = function (e) { return e instanceof o || null !== e && "object" === typeof e && e.constructor.wordSize === o.wordSize && Array.isArray(e.words) }, o.max = function (e, t) { return e.cmp(t) > 0 ? e : t }, o.min = function (e, t) { return e.cmp(t) < 0 ? e : t }, o.prototype._init = function (e, t, n) { if ("number" === typeof e) return this._initNumber(e, t, n); if ("object" === typeof e) return this._initArray(e, t, n); "hex" === t && (t = 16), r(t === (0 | t) && t >= 2 && t <= 36); var i = 0; "-" === (e = e.toString().replace(/\s+/g, ""))[0] && (i++, this.negative = 1), i < e.length && (16 === t ? this._parseHex(e, i, n) : (this._parseBase(e, t, i), "le" === n && this._initArray(this.toArray(), t, n))) }, o.prototype._initNumber = function (e, t, n) { e < 0 && (this.negative = 1, e = -e), e < 67108864 ? (this.words = [67108863 & e], this.length = 1) : e < 4503599627370496 ? (this.words = [67108863 & e, e / 67108864 & 67108863], this.length = 2) : (r(e < 9007199254740992), this.words = [67108863 & e, e / 67108864 & 67108863, 1], this.length = 3), "le" === n && this._initArray(this.toArray(), t, n) }, o.prototype._initArray = function (e, t, n) { if (r("number" === typeof e.length), e.length <= 0) return this.words = [0], this.length = 1, this; this.length = Math.ceil(e.length / 3), this.words = new Array(this.length); for (var i = 0; i < this.length; i++)this.words[i] = 0; var o, s, a = 0; if ("be" === n) for (i = e.length - 1, o = 0; i >= 0; i -= 3)s = e[i] | e[i - 1] << 8 | e[i - 2] << 16, this.words[o] |= s << a & 67108863, this.words[o + 1] = s >>> 26 - a & 67108863, (a += 24) >= 26 && (a -= 26, o++); else if ("le" === n) for (i = 0, o = 0; i < e.length; i += 3)s = e[i] | e[i + 1] << 8 | e[i + 2] << 16, this.words[o] |= s << a & 67108863, this.words[o + 1] = s >>> 26 - a & 67108863, (a += 24) >= 26 && (a -= 26, o++); return this._strip() }, o.prototype._parseHex = function (e, t, n) { this.length = Math.ceil((e.length - t) / 6), this.words = new Array(this.length); for (var r = 0; r < this.length; r++)this.words[r] = 0; var i, o = 0, s = 0; if ("be" === n) for (r = e.length - 1; r >= t; r -= 2)i = c(e, t, r) << o, this.words[s] |= 67108863 & i, o >= 18 ? (o -= 18, s += 1, this.words[s] |= i >>> 26) : o += 8; else for (r = (e.length - t) % 2 === 0 ? t + 1 : t; r < e.length; r += 2)i = c(e, t, r) << o, this.words[s] |= 67108863 & i, o >= 18 ? (o -= 18, s += 1, this.words[s] |= i >>> 26) : o += 8; this._strip() }, o.prototype._parseBase = function (e, t, n) { this.words = [0], this.length = 1; for (var r = 0, i = 1; i <= 67108863; i *= t)r++; r--, i = i / t | 0; for (var o = e.length - n, s = o % r, a = Math.min(o, o - s) + n, c = 0, u = n; u < a; u += r)c = l(e, u, u + r, t), this.imuln(i), this.words[0] + c < 67108864 ? this.words[0] += c : this._iaddn(c); if (0 !== s) { var d = 1; for (c = l(e, u, e.length, t), u = 0; u < s; u++)d *= t; this.imuln(d), this.words[0] + c < 67108864 ? this.words[0] += c : this._iaddn(c) } this._strip() }, o.prototype.copy = function (e) { e.words = new Array(this.length); for (var t = 0; t < this.length; t++)e.words[t] = this.words[t]; e.length = this.length, e.negative = this.negative, e.red = this.red }, o.prototype._move = function (e) { u(e, this) }, o.prototype.clone = function () { var e = new o(null); return this.copy(e), e }, o.prototype._expand = function (e) { for (; this.length < e;)this.words[this.length++] = 0; return this }, o.prototype._strip = function () { for (; this.length > 1 && 0 === this.words[this.length - 1];)this.length--; return this._normSign() }, o.prototype._normSign = function () { return 1 === this.length && 0 === this.words[0] && (this.negative = 0), this }, "undefined" !== typeof Symbol && "function" === typeof Symbol.for) try { o.prototype[Symbol.for("nodejs.util.inspect.custom")] = d } catch (I) { o.prototype.inspect = d } else o.prototype.inspect = d; function d() { return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">" } var h = ["", "0", "00", "000", "0000", "00000", "000000", "0000000", "00000000", "000000000", "0000000000", "00000000000", "000000000000", "0000000000000", "00000000000000", "000000000000000", "0000000000000000", "00000000000000000", "000000000000000000", "0000000000000000000", "00000000000000000000", "000000000000000000000", "0000000000000000000000", "00000000000000000000000", "000000000000000000000000", "0000000000000000000000000"], f = [0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5], p = [0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536, 11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101, 5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176]; o.prototype.toString = function (e, t) { var n; if (t = 0 | t || 1, 16 === (e = e || 10) || "hex" === e) { n = ""; for (var i = 0, o = 0, s = 0; s < this.length; s++) { var a = this.words[s], c = (16777215 & (a << i | o)).toString(16); o = a >>> 24 - i & 16777215, (i += 2) >= 26 && (i -= 26, s--), n = 0 !== o || s !== this.length - 1 ? h[6 - c.length] + c + n : c + n } for (0 !== o && (n = o.toString(16) + n); n.length % t !== 0;)n = "0" + n; return 0 !== this.negative && (n = "-" + n), n } if (e === (0 | e) && e >= 2 && e <= 36) { var l = f[e], u = p[e]; n = ""; var d = this.clone(); for (d.negative = 0; !d.isZero();) { var m = d.modrn(u).toString(e); n = (d = d.idivn(u)).isZero() ? m + n : h[l - m.length] + m + n } for (this.isZero() && (n = "0" + n); n.length % t !== 0;)n = "0" + n; return 0 !== this.negative && (n = "-" + n), n } r(!1, "Base should be between 2 and 36") }, o.prototype.toNumber = function () { var e = this.words[0]; return 2 === this.length ? e += 67108864 * this.words[1] : 3 === this.length && 1 === this.words[2] ? e += 4503599627370496 + 67108864 * this.words[1] : this.length > 2 && r(!1, "Number can only safely store up to 53 bits"), 0 !== this.negative ? -e : e }, o.prototype.toJSON = function () { return this.toString(16, 2) }, s && (o.prototype.toBuffer = function (e, t) { return this.toArrayLike(s, e, t) }), o.prototype.toArray = function (e, t) { return this.toArrayLike(Array, e, t) }; function m(e, t, n) { n.negative = t.negative ^ e.negative; var r = e.length + t.length | 0; n.length = r, r = r - 1 | 0; var i = 0 | e.words[0], o = 0 | t.words[0], s = i * o, a = 67108863 & s, c = s / 67108864 | 0; n.words[0] = a; for (var l = 1; l < r; l++) { for (var u = c >>> 26, d = 67108863 & c, h = Math.min(l, t.length - 1), f = Math.max(0, l - e.length + 1); f <= h; f++) { var p = l - f | 0; u += (s = (i = 0 | e.words[p]) * (o = 0 | t.words[f]) + d) / 67108864 | 0, d = 67108863 & s } n.words[l] = 0 | d, c = 0 | u } return 0 !== c ? n.words[l] = 0 | c : n.length--, n._strip() } o.prototype.toArrayLike = function (e, t, n) { this._strip(); var i = this.byteLength(), o = n || Math.max(1, i); r(i <= o, "byte array longer than desired length"), r(o > 0, "Requested array length <= 0"); var s = function (e, t) { return e.allocUnsafe ? e.allocUnsafe(t) : new e(t) }(e, o); return this["_toArrayLike" + ("le" === t ? "LE" : "BE")](s, i), s }, o.prototype._toArrayLikeLE = function (e, t) { for (var n = 0, r = 0, i = 0, o = 0; i < this.length; i++) { var s = this.words[i] << o | r; e[n++] = 255 & s, n < e.length && (e[n++] = s >> 8 & 255), n < e.length && (e[n++] = s >> 16 & 255), 6 === o ? (n < e.length && (e[n++] = s >> 24 & 255), r = 0, o = 0) : (r = s >>> 24, o += 2) } if (n < e.length) for (e[n++] = r; n < e.length;)e[n++] = 0 }, o.prototype._toArrayLikeBE = function (e, t) { for (var n = e.length - 1, r = 0, i = 0, o = 0; i < this.length; i++) { var s = this.words[i] << o | r; e[n--] = 255 & s, n >= 0 && (e[n--] = s >> 8 & 255), n >= 0 && (e[n--] = s >> 16 & 255), 6 === o ? (n >= 0 && (e[n--] = s >> 24 & 255), r = 0, o = 0) : (r = s >>> 24, o += 2) } if (n >= 0) for (e[n--] = r; n >= 0;)e[n--] = 0 }, Math.clz32 ? o.prototype._countBits = function (e) { return 32 - Math.clz32(e) } : o.prototype._countBits = function (e) { var t = e, n = 0; return t >= 4096 && (n += 13, t >>>= 13), t >= 64 && (n += 7, t >>>= 7), t >= 8 && (n += 4, t >>>= 4), t >= 2 && (n += 2, t >>>= 2), n + t }, o.prototype._zeroBits = function (e) { if (0 === e) return 26; var t = e, n = 0; return 0 === (8191 & t) && (n += 13, t >>>= 13), 0 === (127 & t) && (n += 7, t >>>= 7), 0 === (15 & t) && (n += 4, t >>>= 4), 0 === (3 & t) && (n += 2, t >>>= 2), 0 === (1 & t) && n++, n }, o.prototype.bitLength = function () { var e = this.words[this.length - 1], t = this._countBits(e); return 26 * (this.length - 1) + t }, o.prototype.zeroBits = function () { if (this.isZero()) return 0; for (var e = 0, t = 0; t < this.length; t++) { var n = this._zeroBits(this.words[t]); if (e += n, 26 !== n) break } return e }, o.prototype.byteLength = function () { return Math.ceil(this.bitLength() / 8) }, o.prototype.toTwos = function (e) { return 0 !== this.negative ? this.abs().inotn(e).iaddn(1) : this.clone() }, o.prototype.fromTwos = function (e) { return this.testn(e - 1) ? this.notn(e).iaddn(1).ineg() : this.clone() }, o.prototype.isNeg = function () { return 0 !== this.negative }, o.prototype.neg = function () { return this.clone().ineg() }, o.prototype.ineg = function () { return this.isZero() || (this.negative ^= 1), this }, o.prototype.iuor = function (e) { for (; this.length < e.length;)this.words[this.length++] = 0; for (var t = 0; t < e.length; t++)this.words[t] = this.words[t] | e.words[t]; return this._strip() }, o.prototype.ior = function (e) { return r(0 === (this.negative | e.negative)), this.iuor(e) }, o.prototype.or = function (e) { return this.length > e.length ? this.clone().ior(e) : e.clone().ior(this) }, o.prototype.uor = function (e) { return this.length > e.length ? this.clone().iuor(e) : e.clone().iuor(this) }, o.prototype.iuand = function (e) { var t; t = this.length > e.length ? e : this; for (var n = 0; n < t.length; n++)this.words[n] = this.words[n] & e.words[n]; return this.length = t.length, this._strip() }, o.prototype.iand = function (e) { return r(0 === (this.negative | e.negative)), this.iuand(e) }, o.prototype.and = function (e) { return this.length > e.length ? this.clone().iand(e) : e.clone().iand(this) }, o.prototype.uand = function (e) { return this.length > e.length ? this.clone().iuand(e) : e.clone().iuand(this) }, o.prototype.iuxor = function (e) { var t, n; this.length > e.length ? (t = this, n = e) : (t = e, n = this); for (var r = 0; r < n.length; r++)this.words[r] = t.words[r] ^ n.words[r]; if (this !== t) for (; r < t.length; r++)this.words[r] = t.words[r]; return this.length = t.length, this._strip() }, o.prototype.ixor = function (e) { return r(0 === (this.negative | e.negative)), this.iuxor(e) }, o.prototype.xor = function (e) { return this.length > e.length ? this.clone().ixor(e) : e.clone().ixor(this) }, o.prototype.uxor = function (e) { return this.length > e.length ? this.clone().iuxor(e) : e.clone().iuxor(this) }, o.prototype.inotn = function (e) { r("number" === typeof e && e >= 0); var t = 0 | Math.ceil(e / 26), n = e % 26; this._expand(t), n > 0 && t--; for (var i = 0; i < t; i++)this.words[i] = 67108863 & ~this.words[i]; return n > 0 && (this.words[i] = ~this.words[i] & 67108863 >> 26 - n), this._strip() }, o.prototype.notn = function (e) { return this.clone().inotn(e) }, o.prototype.setn = function (e, t) { r("number" === typeof e && e >= 0); var n = e / 26 | 0, i = e % 26; return this._expand(n + 1), this.words[n] = t ? this.words[n] | 1 << i : this.words[n] & ~(1 << i), this._strip() }, o.prototype.iadd = function (e) { var t, n, r; if (0 !== this.negative && 0 === e.negative) return this.negative = 0, t = this.isub(e), this.negative ^= 1, this._normSign(); if (0 === this.negative && 0 !== e.negative) return e.negative = 0, t = this.isub(e), e.negative = 1, t._normSign(); this.length > e.length ? (n = this, r = e) : (n = e, r = this); for (var i = 0, o = 0; o < r.length; o++)t = (0 | n.words[o]) + (0 | r.words[o]) + i, this.words[o] = 67108863 & t, i = t >>> 26; for (; 0 !== i && o < n.length; o++)t = (0 | n.words[o]) + i, this.words[o] = 67108863 & t, i = t >>> 26; if (this.length = n.length, 0 !== i) this.words[this.length] = i, this.length++; else if (n !== this) for (; o < n.length; o++)this.words[o] = n.words[o]; return this }, o.prototype.add = function (e) { var t; return 0 !== e.negative && 0 === this.negative ? (e.negative = 0, t = this.sub(e), e.negative ^= 1, t) : 0 === e.negative && 0 !== this.negative ? (this.negative = 0, t = e.sub(this), this.negative = 1, t) : this.length > e.length ? this.clone().iadd(e) : e.clone().iadd(this) }, o.prototype.isub = function (e) { if (0 !== e.negative) { e.negative = 0; var t = this.iadd(e); return e.negative = 1, t._normSign() } if (0 !== this.negative) return this.negative = 0, this.iadd(e), this.negative = 1, this._normSign(); var n, r, i = this.cmp(e); if (0 === i) return this.negative = 0, this.length = 1, this.words[0] = 0, this; i > 0 ? (n = this, r = e) : (n = e, r = this); for (var o = 0, s = 0; s < r.length; s++)o = (t = (0 | n.words[s]) - (0 | r.words[s]) + o) >> 26, this.words[s] = 67108863 & t; for (; 0 !== o && s < n.length; s++)o = (t = (0 | n.words[s]) + o) >> 26, this.words[s] = 67108863 & t; if (0 === o && s < n.length && n !== this) for (; s < n.length; s++)this.words[s] = n.words[s]; return this.length = Math.max(this.length, s), n !== this && (this.negative = 1), this._strip() }, o.prototype.sub = function (e) { return this.clone().isub(e) }; var g = function (e, t, n) { var r, i, o, s = e.words, a = t.words, c = n.words, l = 0, u = 0 | s[0], d = 8191 & u, h = u >>> 13, f = 0 | s[1], p = 8191 & f, m = f >>> 13, g = 0 | s[2], y = 8191 & g, b = g >>> 13, v = 0 | s[3], w = 8191 & v, E = v >>> 13, x = 0 | s[4], _ = 8191 & x, C = x >>> 13, A = 0 | s[5], S = 8191 & A, k = A >>> 13, I = 0 | s[6], T = 8191 & I, N = I >>> 13, P = 0 | s[7], M = 8191 & P, O = P >>> 13, R = 0 | s[8], j = 8191 & R, $ = R >>> 13, L = 0 | s[9], D = 8191 & L, U = L >>> 13, F = 0 | a[0], B = 8191 & F, W = F >>> 13, z = 0 | a[1], q = 8191 & z, H = z >>> 13, G = 0 | a[2], V = 8191 & G, K = G >>> 13, Y = 0 | a[3], Z = 8191 & Y, X = Y >>> 13, J = 0 | a[4], Q = 8191 & J, ee = J >>> 13, te = 0 | a[5], ne = 8191 & te, re = te >>> 13, ie = 0 | a[6], oe = 8191 & ie, se = ie >>> 13, ae = 0 | a[7], ce = 8191 & ae, le = ae >>> 13, ue = 0 | a[8], de = 8191 & ue, he = ue >>> 13, fe = 0 | a[9], pe = 8191 & fe, me = fe >>> 13; n.negative = e.negative ^ t.negative, n.length = 19; var ge = (l + (r = Math.imul(d, B)) | 0) + ((8191 & (i = (i = Math.imul(d, W)) + Math.imul(h, B) | 0)) << 13) | 0; l = ((o = Math.imul(h, W)) + (i >>> 13) | 0) + (ge >>> 26) | 0, ge &= 67108863, r = Math.imul(p, B), i = (i = Math.imul(p, W)) + Math.imul(m, B) | 0, o = Math.imul(m, W); var ye = (l + (r = r + Math.imul(d, q) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(d, H) | 0) + Math.imul(h, q) | 0)) << 13) | 0; l = ((o = o + Math.imul(h, H) | 0) + (i >>> 13) | 0) + (ye >>> 26) | 0, ye &= 67108863, r = Math.imul(y, B), i = (i = Math.imul(y, W)) + Math.imul(b, B) | 0, o = Math.imul(b, W), r = r + Math.imul(p, q) | 0, i = (i = i + Math.imul(p, H) | 0) + Math.imul(m, q) | 0, o = o + Math.imul(m, H) | 0; var be = (l + (r = r + Math.imul(d, V) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(d, K) | 0) + Math.imul(h, V) | 0)) << 13) | 0; l = ((o = o + Math.imul(h, K) | 0) + (i >>> 13) | 0) + (be >>> 26) | 0, be &= 67108863, r = Math.imul(w, B), i = (i = Math.imul(w, W)) + Math.imul(E, B) | 0, o = Math.imul(E, W), r = r + Math.imul(y, q) | 0, i = (i = i + Math.imul(y, H) | 0) + Math.imul(b, q) | 0, o = o + Math.imul(b, H) | 0, r = r + Math.imul(p, V) | 0, i = (i = i + Math.imul(p, K) | 0) + Math.imul(m, V) | 0, o = o + Math.imul(m, K) | 0; var ve = (l + (r = r + Math.imul(d, Z) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(d, X) | 0) + Math.imul(h, Z) | 0)) << 13) | 0; l = ((o = o + Math.imul(h, X) | 0) + (i >>> 13) | 0) + (ve >>> 26) | 0, ve &= 67108863, r = Math.imul(_, B), i = (i = Math.imul(_, W)) + Math.imul(C, B) | 0, o = Math.imul(C, W), r = r + Math.imul(w, q) | 0, i = (i = i + Math.imul(w, H) | 0) + Math.imul(E, q) | 0, o = o + Math.imul(E, H) | 0, r = r + Math.imul(y, V) | 0, i = (i = i + Math.imul(y, K) | 0) + Math.imul(b, V) | 0, o = o + Math.imul(b, K) | 0, r = r + Math.imul(p, Z) | 0, i = (i = i + Math.imul(p, X) | 0) + Math.imul(m, Z) | 0, o = o + Math.imul(m, X) | 0; var we = (l + (r = r + Math.imul(d, Q) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(d, ee) | 0) + Math.imul(h, Q) | 0)) << 13) | 0; l = ((o = o + Math.imul(h, ee) | 0) + (i >>> 13) | 0) + (we >>> 26) | 0, we &= 67108863, r = Math.imul(S, B), i = (i = Math.imul(S, W)) + Math.imul(k, B) | 0, o = Math.imul(k, W), r = r + Math.imul(_, q) | 0, i = (i = i + Math.imul(_, H) | 0) + Math.imul(C, q) | 0, o = o + Math.imul(C, H) | 0, r = r + Math.imul(w, V) | 0, i = (i = i + Math.imul(w, K) | 0) + Math.imul(E, V) | 0, o = o + Math.imul(E, K) | 0, r = r + Math.imul(y, Z) | 0, i = (i = i + Math.imul(y, X) | 0) + Math.imul(b, Z) | 0, o = o + Math.imul(b, X) | 0, r = r + Math.imul(p, Q) | 0, i = (i = i + Math.imul(p, ee) | 0) + Math.imul(m, Q) | 0, o = o + Math.imul(m, ee) | 0; var Ee = (l + (r = r + Math.imul(d, ne) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(d, re) | 0) + Math.imul(h, ne) | 0)) << 13) | 0; l = ((o = o + Math.imul(h, re) | 0) + (i >>> 13) | 0) + (Ee >>> 26) | 0, Ee &= 67108863, r = Math.imul(T, B), i = (i = Math.imul(T, W)) + Math.imul(N, B) | 0, o = Math.imul(N, W), r = r + Math.imul(S, q) | 0, i = (i = i + Math.imul(S, H) | 0) + Math.imul(k, q) | 0, o = o + Math.imul(k, H) | 0, r = r + Math.imul(_, V) | 0, i = (i = i + Math.imul(_, K) | 0) + Math.imul(C, V) | 0, o = o + Math.imul(C, K) | 0, r = r + Math.imul(w, Z) | 0, i = (i = i + Math.imul(w, X) | 0) + Math.imul(E, Z) | 0, o = o + Math.imul(E, X) | 0, r = r + Math.imul(y, Q) | 0, i = (i = i + Math.imul(y, ee) | 0) + Math.imul(b, Q) | 0, o = o + Math.imul(b, ee) | 0, r = r + Math.imul(p, ne) | 0, i = (i = i + Math.imul(p, re) | 0) + Math.imul(m, ne) | 0, o = o + Math.imul(m, re) | 0; var xe = (l + (r = r + Math.imul(d, oe) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(d, se) | 0) + Math.imul(h, oe) | 0)) << 13) | 0; l = ((o = o + Math.imul(h, se) | 0) + (i >>> 13) | 0) + (xe >>> 26) | 0, xe &= 67108863, r = Math.imul(M, B), i = (i = Math.imul(M, W)) + Math.imul(O, B) | 0, o = Math.imul(O, W), r = r + Math.imul(T, q) | 0, i = (i = i + Math.imul(T, H) | 0) + Math.imul(N, q) | 0, o = o + Math.imul(N, H) | 0, r = r + Math.imul(S, V) | 0, i = (i = i + Math.imul(S, K) | 0) + Math.imul(k, V) | 0, o = o + Math.imul(k, K) | 0, r = r + Math.imul(_, Z) | 0, i = (i = i + Math.imul(_, X) | 0) + Math.imul(C, Z) | 0, o = o + Math.imul(C, X) | 0, r = r + Math.imul(w, Q) | 0, i = (i = i + Math.imul(w, ee) | 0) + Math.imul(E, Q) | 0, o = o + Math.imul(E, ee) | 0, r = r + Math.imul(y, ne) | 0, i = (i = i + Math.imul(y, re) | 0) + Math.imul(b, ne) | 0, o = o + Math.imul(b, re) | 0, r = r + Math.imul(p, oe) | 0, i = (i = i + Math.imul(p, se) | 0) + Math.imul(m, oe) | 0, o = o + Math.imul(m, se) | 0; var _e = (l + (r = r + Math.imul(d, ce) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(d, le) | 0) + Math.imul(h, ce) | 0)) << 13) | 0; l = ((o = o + Math.imul(h, le) | 0) + (i >>> 13) | 0) + (_e >>> 26) | 0, _e &= 67108863, r = Math.imul(j, B), i = (i = Math.imul(j, W)) + Math.imul($, B) | 0, o = Math.imul($, W), r = r + Math.imul(M, q) | 0, i = (i = i + Math.imul(M, H) | 0) + Math.imul(O, q) | 0, o = o + Math.imul(O, H) | 0, r = r + Math.imul(T, V) | 0, i = (i = i + Math.imul(T, K) | 0) + Math.imul(N, V) | 0, o = o + Math.imul(N, K) | 0, r = r + Math.imul(S, Z) | 0, i = (i = i + Math.imul(S, X) | 0) + Math.imul(k, Z) | 0, o = o + Math.imul(k, X) | 0, r = r + Math.imul(_, Q) | 0, i = (i = i + Math.imul(_, ee) | 0) + Math.imul(C, Q) | 0, o = o + Math.imul(C, ee) | 0, r = r + Math.imul(w, ne) | 0, i = (i = i + Math.imul(w, re) | 0) + Math.imul(E, ne) | 0, o = o + Math.imul(E, re) | 0, r = r + Math.imul(y, oe) | 0, i = (i = i + Math.imul(y, se) | 0) + Math.imul(b, oe) | 0, o = o + Math.imul(b, se) | 0, r = r + Math.imul(p, ce) | 0, i = (i = i + Math.imul(p, le) | 0) + Math.imul(m, ce) | 0, o = o + Math.imul(m, le) | 0; var Ce = (l + (r = r + Math.imul(d, de) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(d, he) | 0) + Math.imul(h, de) | 0)) << 13) | 0; l = ((o = o + Math.imul(h, he) | 0) + (i >>> 13) | 0) + (Ce >>> 26) | 0, Ce &= 67108863, r = Math.imul(D, B), i = (i = Math.imul(D, W)) + Math.imul(U, B) | 0, o = Math.imul(U, W), r = r + Math.imul(j, q) | 0, i = (i = i + Math.imul(j, H) | 0) + Math.imul($, q) | 0, o = o + Math.imul($, H) | 0, r = r + Math.imul(M, V) | 0, i = (i = i + Math.imul(M, K) | 0) + Math.imul(O, V) | 0, o = o + Math.imul(O, K) | 0, r = r + Math.imul(T, Z) | 0, i = (i = i + Math.imul(T, X) | 0) + Math.imul(N, Z) | 0, o = o + Math.imul(N, X) | 0, r = r + Math.imul(S, Q) | 0, i = (i = i + Math.imul(S, ee) | 0) + Math.imul(k, Q) | 0, o = o + Math.imul(k, ee) | 0, r = r + Math.imul(_, ne) | 0, i = (i = i + Math.imul(_, re) | 0) + Math.imul(C, ne) | 0, o = o + Math.imul(C, re) | 0, r = r + Math.imul(w, oe) | 0, i = (i = i + Math.imul(w, se) | 0) + Math.imul(E, oe) | 0, o = o + Math.imul(E, se) | 0, r = r + Math.imul(y, ce) | 0, i = (i = i + Math.imul(y, le) | 0) + Math.imul(b, ce) | 0, o = o + Math.imul(b, le) | 0, r = r + Math.imul(p, de) | 0, i = (i = i + Math.imul(p, he) | 0) + Math.imul(m, de) | 0, o = o + Math.imul(m, he) | 0; var Ae = (l + (r = r + Math.imul(d, pe) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(d, me) | 0) + Math.imul(h, pe) | 0)) << 13) | 0; l = ((o = o + Math.imul(h, me) | 0) + (i >>> 13) | 0) + (Ae >>> 26) | 0, Ae &= 67108863, r = Math.imul(D, q), i = (i = Math.imul(D, H)) + Math.imul(U, q) | 0, o = Math.imul(U, H), r = r + Math.imul(j, V) | 0, i = (i = i + Math.imul(j, K) | 0) + Math.imul($, V) | 0, o = o + Math.imul($, K) | 0, r = r + Math.imul(M, Z) | 0, i = (i = i + Math.imul(M, X) | 0) + Math.imul(O, Z) | 0, o = o + Math.imul(O, X) | 0, r = r + Math.imul(T, Q) | 0, i = (i = i + Math.imul(T, ee) | 0) + Math.imul(N, Q) | 0, o = o + Math.imul(N, ee) | 0, r = r + Math.imul(S, ne) | 0, i = (i = i + Math.imul(S, re) | 0) + Math.imul(k, ne) | 0, o = o + Math.imul(k, re) | 0, r = r + Math.imul(_, oe) | 0, i = (i = i + Math.imul(_, se) | 0) + Math.imul(C, oe) | 0, o = o + Math.imul(C, se) | 0, r = r + Math.imul(w, ce) | 0, i = (i = i + Math.imul(w, le) | 0) + Math.imul(E, ce) | 0, o = o + Math.imul(E, le) | 0, r = r + Math.imul(y, de) | 0, i = (i = i + Math.imul(y, he) | 0) + Math.imul(b, de) | 0, o = o + Math.imul(b, he) | 0; var Se = (l + (r = r + Math.imul(p, pe) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(p, me) | 0) + Math.imul(m, pe) | 0)) << 13) | 0; l = ((o = o + Math.imul(m, me) | 0) + (i >>> 13) | 0) + (Se >>> 26) | 0, Se &= 67108863, r = Math.imul(D, V), i = (i = Math.imul(D, K)) + Math.imul(U, V) | 0, o = Math.imul(U, K), r = r + Math.imul(j, Z) | 0, i = (i = i + Math.imul(j, X) | 0) + Math.imul($, Z) | 0, o = o + Math.imul($, X) | 0, r = r + Math.imul(M, Q) | 0, i = (i = i + Math.imul(M, ee) | 0) + Math.imul(O, Q) | 0, o = o + Math.imul(O, ee) | 0, r = r + Math.imul(T, ne) | 0, i = (i = i + Math.imul(T, re) | 0) + Math.imul(N, ne) | 0, o = o + Math.imul(N, re) | 0, r = r + Math.imul(S, oe) | 0, i = (i = i + Math.imul(S, se) | 0) + Math.imul(k, oe) | 0, o = o + Math.imul(k, se) | 0, r = r + Math.imul(_, ce) | 0, i = (i = i + Math.imul(_, le) | 0) + Math.imul(C, ce) | 0, o = o + Math.imul(C, le) | 0, r = r + Math.imul(w, de) | 0, i = (i = i + Math.imul(w, he) | 0) + Math.imul(E, de) | 0, o = o + Math.imul(E, he) | 0; var ke = (l + (r = r + Math.imul(y, pe) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(y, me) | 0) + Math.imul(b, pe) | 0)) << 13) | 0; l = ((o = o + Math.imul(b, me) | 0) + (i >>> 13) | 0) + (ke >>> 26) | 0, ke &= 67108863, r = Math.imul(D, Z), i = (i = Math.imul(D, X)) + Math.imul(U, Z) | 0, o = Math.imul(U, X), r = r + Math.imul(j, Q) | 0, i = (i = i + Math.imul(j, ee) | 0) + Math.imul($, Q) | 0, o = o + Math.imul($, ee) | 0, r = r + Math.imul(M, ne) | 0, i = (i = i + Math.imul(M, re) | 0) + Math.imul(O, ne) | 0, o = o + Math.imul(O, re) | 0, r = r + Math.imul(T, oe) | 0, i = (i = i + Math.imul(T, se) | 0) + Math.imul(N, oe) | 0, o = o + Math.imul(N, se) | 0, r = r + Math.imul(S, ce) | 0, i = (i = i + Math.imul(S, le) | 0) + Math.imul(k, ce) | 0, o = o + Math.imul(k, le) | 0, r = r + Math.imul(_, de) | 0, i = (i = i + Math.imul(_, he) | 0) + Math.imul(C, de) | 0, o = o + Math.imul(C, he) | 0; var Ie = (l + (r = r + Math.imul(w, pe) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(w, me) | 0) + Math.imul(E, pe) | 0)) << 13) | 0; l = ((o = o + Math.imul(E, me) | 0) + (i >>> 13) | 0) + (Ie >>> 26) | 0, Ie &= 67108863, r = Math.imul(D, Q), i = (i = Math.imul(D, ee)) + Math.imul(U, Q) | 0, o = Math.imul(U, ee), r = r + Math.imul(j, ne) | 0, i = (i = i + Math.imul(j, re) | 0) + Math.imul($, ne) | 0, o = o + Math.imul($, re) | 0, r = r + Math.imul(M, oe) | 0, i = (i = i + Math.imul(M, se) | 0) + Math.imul(O, oe) | 0, o = o + Math.imul(O, se) | 0, r = r + Math.imul(T, ce) | 0, i = (i = i + Math.imul(T, le) | 0) + Math.imul(N, ce) | 0, o = o + Math.imul(N, le) | 0, r = r + Math.imul(S, de) | 0, i = (i = i + Math.imul(S, he) | 0) + Math.imul(k, de) | 0, o = o + Math.imul(k, he) | 0; var Te = (l + (r = r + Math.imul(_, pe) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(_, me) | 0) + Math.imul(C, pe) | 0)) << 13) | 0; l = ((o = o + Math.imul(C, me) | 0) + (i >>> 13) | 0) + (Te >>> 26) | 0, Te &= 67108863, r = Math.imul(D, ne), i = (i = Math.imul(D, re)) + Math.imul(U, ne) | 0, o = Math.imul(U, re), r = r + Math.imul(j, oe) | 0, i = (i = i + Math.imul(j, se) | 0) + Math.imul($, oe) | 0, o = o + Math.imul($, se) | 0, r = r + Math.imul(M, ce) | 0, i = (i = i + Math.imul(M, le) | 0) + Math.imul(O, ce) | 0, o = o + Math.imul(O, le) | 0, r = r + Math.imul(T, de) | 0, i = (i = i + Math.imul(T, he) | 0) + Math.imul(N, de) | 0, o = o + Math.imul(N, he) | 0; var Ne = (l + (r = r + Math.imul(S, pe) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(S, me) | 0) + Math.imul(k, pe) | 0)) << 13) | 0; l = ((o = o + Math.imul(k, me) | 0) + (i >>> 13) | 0) + (Ne >>> 26) | 0, Ne &= 67108863, r = Math.imul(D, oe), i = (i = Math.imul(D, se)) + Math.imul(U, oe) | 0, o = Math.imul(U, se), r = r + Math.imul(j, ce) | 0, i = (i = i + Math.imul(j, le) | 0) + Math.imul($, ce) | 0, o = o + Math.imul($, le) | 0, r = r + Math.imul(M, de) | 0, i = (i = i + Math.imul(M, he) | 0) + Math.imul(O, de) | 0, o = o + Math.imul(O, he) | 0; var Pe = (l + (r = r + Math.imul(T, pe) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(T, me) | 0) + Math.imul(N, pe) | 0)) << 13) | 0; l = ((o = o + Math.imul(N, me) | 0) + (i >>> 13) | 0) + (Pe >>> 26) | 0, Pe &= 67108863, r = Math.imul(D, ce), i = (i = Math.imul(D, le)) + Math.imul(U, ce) | 0, o = Math.imul(U, le), r = r + Math.imul(j, de) | 0, i = (i = i + Math.imul(j, he) | 0) + Math.imul($, de) | 0, o = o + Math.imul($, he) | 0; var Me = (l + (r = r + Math.imul(M, pe) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(M, me) | 0) + Math.imul(O, pe) | 0)) << 13) | 0; l = ((o = o + Math.imul(O, me) | 0) + (i >>> 13) | 0) + (Me >>> 26) | 0, Me &= 67108863, r = Math.imul(D, de), i = (i = Math.imul(D, he)) + Math.imul(U, de) | 0, o = Math.imul(U, he); var Oe = (l + (r = r + Math.imul(j, pe) | 0) | 0) + ((8191 & (i = (i = i + Math.imul(j, me) | 0) + Math.imul($, pe) | 0)) << 13) | 0; l = ((o = o + Math.imul($, me) | 0) + (i >>> 13) | 0) + (Oe >>> 26) | 0, Oe &= 67108863; var Re = (l + (r = Math.imul(D, pe)) | 0) + ((8191 & (i = (i = Math.imul(D, me)) + Math.imul(U, pe) | 0)) << 13) | 0; return l = ((o = Math.imul(U, me)) + (i >>> 13) | 0) + (Re >>> 26) | 0, Re &= 67108863, c[0] = ge, c[1] = ye, c[2] = be, c[3] = ve, c[4] = we, c[5] = Ee, c[6] = xe, c[7] = _e, c[8] = Ce, c[9] = Ae, c[10] = Se, c[11] = ke, c[12] = Ie, c[13] = Te, c[14] = Ne, c[15] = Pe, c[16] = Me, c[17] = Oe, c[18] = Re, 0 !== l && (c[19] = l, n.length++), n }; function y(e, t, n) { n.negative = t.negative ^ e.negative, n.length = e.length + t.length; for (var r = 0, i = 0, o = 0; o < n.length - 1; o++) { var s = i; i = 0; for (var a = 67108863 & r, c = Math.min(o, t.length - 1), l = Math.max(0, o - e.length + 1); l <= c; l++) { var u = o - l, d = (0 | e.words[u]) * (0 | t.words[l]), h = 67108863 & d; a = 67108863 & (h = h + a | 0), i += (s = (s = s + (d / 67108864 | 0) | 0) + (h >>> 26) | 0) >>> 26, s &= 67108863 } n.words[o] = a, r = s, s = i } return 0 !== r ? n.words[o] = r : n.length--, n._strip() } function b(e, t, n) { return y(e, t, n) } function v(e, t) { this.x = e, this.y = t } Math.imul || (g = m), o.prototype.mulTo = function (e, t) { var n = this.length + e.length; return 10 === this.length && 10 === e.length ? g(this, e, t) : n < 63 ? m(this, e, t) : n < 1024 ? y(this, e, t) : b(this, e, t) }, v.prototype.makeRBT = function (e) { for (var t = new Array(e), n = o.prototype._countBits(e) - 1, r = 0; r < e; r++)t[r] = this.revBin(r, n, e); return t }, v.prototype.revBin = function (e, t, n) { if (0 === e || e === n - 1) return e; for (var r = 0, i = 0; i < t; i++)r |= (1 & e) << t - i - 1, e >>= 1; return r }, v.prototype.permute = function (e, t, n, r, i, o) { for (var s = 0; s < o; s++)r[s] = t[e[s]], i[s] = n[e[s]] }, v.prototype.transform = function (e, t, n, r, i, o) { this.permute(o, e, t, n, r, i); for (var s = 1; s < i; s <<= 1)for (var a = s << 1, c = Math.cos(2 * Math.PI / a), l = Math.sin(2 * Math.PI / a), u = 0; u < i; u += a)for (var d = c, h = l, f = 0; f < s; f++) { var p = n[u + f], m = r[u + f], g = n[u + f + s], y = r[u + f + s], b = d * g - h * y; y = d * y + h * g, g = b, n[u + f] = p + g, r[u + f] = m + y, n[u + f + s] = p - g, r[u + f + s] = m - y, f !== a && (b = c * d - l * h, h = c * h + l * d, d = b) } }, v.prototype.guessLen13b = function (e, t) { var n = 1 | Math.max(t, e), r = 1 & n, i = 0; for (n = n / 2 | 0; n; n >>>= 1)i++; return 1 << i + 1 + r }, v.prototype.conjugate = function (e, t, n) { if (!(n <= 1)) for (var r = 0; r < n / 2; r++) { var i = e[r]; e[r] = e[n - r - 1], e[n - r - 1] = i, i = t[r], t[r] = -t[n - r - 1], t[n - r - 1] = -i } }, v.prototype.normalize13b = function (e, t) { for (var n = 0, r = 0; r < t / 2; r++) { var i = 8192 * Math.round(e[2 * r + 1] / t) + Math.round(e[2 * r] / t) + n; e[r] = 67108863 & i, n = i < 67108864 ? 0 : i / 67108864 | 0 } return e }, v.prototype.convert13b = function (e, t, n, i) { for (var o = 0, s = 0; s < t; s++)o += 0 | e[s], n[2 * s] = 8191 & o, o >>>= 13, n[2 * s + 1] = 8191 & o, o >>>= 13; for (s = 2 * t; s < i; ++s)n[s] = 0; r(0 === o), r(0 === (-8192 & o)) }, v.prototype.stub = function (e) { for (var t = new Array(e), n = 0; n < e; n++)t[n] = 0; return t }, v.prototype.mulp = function (e, t, n) { var r = 2 * this.guessLen13b(e.length, t.length), i = this.makeRBT(r), o = this.stub(r), s = new Array(r), a = new Array(r), c = new Array(r), l = new Array(r), u = new Array(r), d = new Array(r), h = n.words; h.length = r, this.convert13b(e.words, e.length, s, r), this.convert13b(t.words, t.length, l, r), this.transform(s, o, a, c, r, i), this.transform(l, o, u, d, r, i); for (var f = 0; f < r; f++) { var p = a[f] * u[f] - c[f] * d[f]; c[f] = a[f] * d[f] + c[f] * u[f], a[f] = p } return this.conjugate(a, c, r), this.transform(a, c, h, o, r, i), this.conjugate(h, o, r), this.normalize13b(h, r), n.negative = e.negative ^ t.negative, n.length = e.length + t.length, n._strip() }, o.prototype.mul = function (e) { var t = new o(null); return t.words = new Array(this.length + e.length), this.mulTo(e, t) }, o.prototype.mulf = function (e) { var t = new o(null); return t.words = new Array(this.length + e.length), b(this, e, t) }, o.prototype.imul = function (e) { return this.clone().mulTo(e, this) }, o.prototype.imuln = function (e) { var t = e < 0; t && (e = -e), r("number" === typeof e), r(e < 67108864); for (var n = 0, i = 0; i < this.length; i++) { var o = (0 | this.words[i]) * e, s = (67108863 & o) + (67108863 & n); n >>= 26, n += o / 67108864 | 0, n += s >>> 26, this.words[i] = 67108863 & s } return 0 !== n && (this.words[i] = n, this.length++), t ? this.ineg() : this }, o.prototype.muln = function (e) { return this.clone().imuln(e) }, o.prototype.sqr = function () { return this.mul(this) }, o.prototype.isqr = function () { return this.imul(this.clone()) }, o.prototype.pow = function (e) { var t = function (e) { for (var t = new Array(e.bitLength()), n = 0; n < t.length; n++) { var r = n / 26 | 0, i = n % 26; t[n] = e.words[r] >>> i & 1 } return t }(e); if (0 === t.length) return new o(1); for (var n = this, r = 0; r < t.length && 0 === t[r]; r++, n = n.sqr()); if (++r < t.length) for (var i = n.sqr(); r < t.length; r++, i = i.sqr())0 !== t[r] && (n = n.mul(i)); return n }, o.prototype.iushln = function (e) { r("number" === typeof e && e >= 0); var t, n = e % 26, i = (e - n) / 26, o = 67108863 >>> 26 - n << 26 - n; if (0 !== n) { var s = 0; for (t = 0; t < this.length; t++) { var a = this.words[t] & o, c = (0 | this.words[t]) - a << n; this.words[t] = c | s, s = a >>> 26 - n } s && (this.words[t] = s, this.length++) } if (0 !== i) { for (t = this.length - 1; t >= 0; t--)this.words[t + i] = this.words[t]; for (t = 0; t < i; t++)this.words[t] = 0; this.length += i } return this._strip() }, o.prototype.ishln = function (e) { return r(0 === this.negative), this.iushln(e) }, o.prototype.iushrn = function (e, t, n) { var i; r("number" === typeof e && e >= 0), i = t ? (t - t % 26) / 26 : 0; var o = e % 26, s = Math.min((e - o) / 26, this.length), a = 67108863 ^ 67108863 >>> o << o, c = n; if (i -= s, i = Math.max(0, i), c) { for (var l = 0; l < s; l++)c.words[l] = this.words[l]; c.length = s } if (0 === s); else if (this.length > s) for (this.length -= s, l = 0; l < this.length; l++)this.words[l] = this.words[l + s]; else this.words[0] = 0, this.length = 1; var u = 0; for (l = this.length - 1; l >= 0 && (0 !== u || l >= i); l--) { var d = 0 | this.words[l]; this.words[l] = u << 26 - o | d >>> o, u = d & a } return c && 0 !== u && (c.words[c.length++] = u), 0 === this.length && (this.words[0] = 0, this.length = 1), this._strip() }, o.prototype.ishrn = function (e, t, n) { return r(0 === this.negative), this.iushrn(e, t, n) }, o.prototype.shln = function (e) { return this.clone().ishln(e) }, o.prototype.ushln = function (e) { return this.clone().iushln(e) }, o.prototype.shrn = function (e) { return this.clone().ishrn(e) }, o.prototype.ushrn = function (e) { return this.clone().iushrn(e) }, o.prototype.testn = function (e) { r("number" === typeof e && e >= 0); var t = e % 26, n = (e - t) / 26, i = 1 << t; return !(this.length <= n) && !!(this.words[n] & i) }, o.prototype.imaskn = function (e) { r("number" === typeof e && e >= 0); var t = e % 26, n = (e - t) / 26; if (r(0 === this.negative, "imaskn works only with positive numbers"), this.length <= n) return this; if (0 !== t && n++, this.length = Math.min(n, this.length), 0 !== t) { var i = 67108863 ^ 67108863 >>> t << t; this.words[this.length - 1] &= i } return this._strip() }, o.prototype.maskn = function (e) { return this.clone().imaskn(e) }, o.prototype.iaddn = function (e) { return r("number" === typeof e), r(e < 67108864), e < 0 ? this.isubn(-e) : 0 !== this.negative ? 1 === this.length && (0 | this.words[0]) <= e ? (this.words[0] = e - (0 | this.words[0]), this.negative = 0, this) : (this.negative = 0, this.isubn(e), this.negative = 1, this) : this._iaddn(e) }, o.prototype._iaddn = function (e) { this.words[0] += e; for (var t = 0; t < this.length && this.words[t] >= 67108864; t++)this.words[t] -= 67108864, t === this.length - 1 ? this.words[t + 1] = 1 : this.words[t + 1]++; return this.length = Math.max(this.length, t + 1), this }, o.prototype.isubn = function (e) { if (r("number" === typeof e), r(e < 67108864), e < 0) return this.iaddn(-e); if (0 !== this.negative) return this.negative = 0, this.iaddn(e), this.negative = 1, this; if (this.words[0] -= e, 1 === this.length && this.words[0] < 0) this.words[0] = -this.words[0], this.negative = 1; else for (var t = 0; t < this.length && this.words[t] < 0; t++)this.words[t] += 67108864, this.words[t + 1] -= 1; return this._strip() }, o.prototype.addn = function (e) { return this.clone().iaddn(e) }, o.prototype.subn = function (e) { return this.clone().isubn(e) }, o.prototype.iabs = function () { return this.negative = 0, this }, o.prototype.abs = function () { return this.clone().iabs() }, o.prototype._ishlnsubmul = function (e, t, n) { var i, o, s = e.length + n; this._expand(s); var a = 0; for (i = 0; i < e.length; i++) { o = (0 | this.words[i + n]) + a; var c = (0 | e.words[i]) * t; a = ((o -= 67108863 & c) >> 26) - (c / 67108864 | 0), this.words[i + n] = 67108863 & o } for (; i < this.length - n; i++)a = (o = (0 | this.words[i + n]) + a) >> 26, this.words[i + n] = 67108863 & o; if (0 === a) return this._strip(); for (r(-1 === a), a = 0, i = 0; i < this.length; i++)a = (o = -(0 | this.words[i]) + a) >> 26, this.words[i] = 67108863 & o; return this.negative = 1, this._strip() }, o.prototype._wordDiv = function (e, t) { var n = (this.length, e.length), r = this.clone(), i = e, s = 0 | i.words[i.length - 1]; 0 !== (n = 26 - this._countBits(s)) && (i = i.ushln(n), r.iushln(n), s = 0 | i.words[i.length - 1]); var a, c = r.length - i.length; if ("mod" !== t) { (a = new o(null)).length = c + 1, a.words = new Array(a.length); for (var l = 0; l < a.length; l++)a.words[l] = 0 } var u = r.clone()._ishlnsubmul(i, 1, c); 0 === u.negative && (r = u, a && (a.words[c] = 1)); for (var d = c - 1; d >= 0; d--) { var h = 67108864 * (0 | r.words[i.length + d]) + (0 | r.words[i.length + d - 1]); for (h = Math.min(h / s | 0, 67108863), r._ishlnsubmul(i, h, d); 0 !== r.negative;)h--, r.negative = 0, r._ishlnsubmul(i, 1, d), r.isZero() || (r.negative ^= 1); a && (a.words[d] = h) } return a && a._strip(), r._strip(), "div" !== t && 0 !== n && r.iushrn(n), { div: a || null, mod: r } }, o.prototype.divmod = function (e, t, n) { return r(!e.isZero()), this.isZero() ? { div: new o(0), mod: new o(0) } : 0 !== this.negative && 0 === e.negative ? (a = this.neg().divmod(e, t), "mod" !== t && (i = a.div.neg()), "div" !== t && (s = a.mod.neg(), n && 0 !== s.negative && s.iadd(e)), { div: i, mod: s }) : 0 === this.negative && 0 !== e.negative ? (a = this.divmod(e.neg(), t), "mod" !== t && (i = a.div.neg()), { div: i, mod: a.mod }) : 0 !== (this.negative & e.negative) ? (a = this.neg().divmod(e.neg(), t), "div" !== t && (s = a.mod.neg(), n && 0 !== s.negative && s.isub(e)), { div: a.div, mod: s }) : e.length > this.length || this.cmp(e) < 0 ? { div: new o(0), mod: this } : 1 === e.length ? "div" === t ? { div: this.divn(e.words[0]), mod: null } : "mod" === t ? { div: null, mod: new o(this.modrn(e.words[0])) } : { div: this.divn(e.words[0]), mod: new o(this.modrn(e.words[0])) } : this._wordDiv(e, t); var i, s, a }, o.prototype.div = function (e) { return this.divmod(e, "div", !1).div }, o.prototype.mod = function (e) { return this.divmod(e, "mod", !1).mod }, o.prototype.umod = function (e) { return this.divmod(e, "mod", !0).mod }, o.prototype.divRound = function (e) { var t = this.divmod(e); if (t.mod.isZero()) return t.div; var n = 0 !== t.div.negative ? t.mod.isub(e) : t.mod, r = e.ushrn(1), i = e.andln(1), o = n.cmp(r); return o < 0 || 1 === i && 0 === o ? t.div : 0 !== t.div.negative ? t.div.isubn(1) : t.div.iaddn(1) }, o.prototype.modrn = function (e) { var t = e < 0; t && (e = -e), r(e <= 67108863); for (var n = (1 << 26) % e, i = 0, o = this.length - 1; o >= 0; o--)i = (n * i + (0 | this.words[o])) % e; return t ? -i : i }, o.prototype.modn = function (e) { return this.modrn(e) }, o.prototype.idivn = function (e) { var t = e < 0; t && (e = -e), r(e <= 67108863); for (var n = 0, i = this.length - 1; i >= 0; i--) { var o = (0 | this.words[i]) + 67108864 * n; this.words[i] = o / e | 0, n = o % e } return this._strip(), t ? this.ineg() : this }, o.prototype.divn = function (e) { return this.clone().idivn(e) }, o.prototype.egcd = function (e) { r(0 === e.negative), r(!e.isZero()); var t = this, n = e.clone(); t = 0 !== t.negative ? t.umod(e) : t.clone(); for (var i = new o(1), s = new o(0), a = new o(0), c = new o(1), l = 0; t.isEven() && n.isEven();)t.iushrn(1), n.iushrn(1), ++l; for (var u = n.clone(), d = t.clone(); !t.isZero();) { for (var h = 0, f = 1; 0 === (t.words[0] & f) && h < 26; ++h, f <<= 1); if (h > 0) for (t.iushrn(h); h-- > 0;)(i.isOdd() || s.isOdd()) && (i.iadd(u), s.isub(d)), i.iushrn(1), s.iushrn(1); for (var p = 0, m = 1; 0 === (n.words[0] & m) && p < 26; ++p, m <<= 1); if (p > 0) for (n.iushrn(p); p-- > 0;)(a.isOdd() || c.isOdd()) && (a.iadd(u), c.isub(d)), a.iushrn(1), c.iushrn(1); t.cmp(n) >= 0 ? (t.isub(n), i.isub(a), s.isub(c)) : (n.isub(t), a.isub(i), c.isub(s)) } return { a: a, b: c, gcd: n.iushln(l) } }, o.prototype._invmp = function (e) { r(0 === e.negative), r(!e.isZero()); var t = this, n = e.clone(); t = 0 !== t.negative ? t.umod(e) : t.clone(); for (var i, s = new o(1), a = new o(0), c = n.clone(); t.cmpn(1) > 0 && n.cmpn(1) > 0;) { for (var l = 0, u = 1; 0 === (t.words[0] & u) && l < 26; ++l, u <<= 1); if (l > 0) for (t.iushrn(l); l-- > 0;)s.isOdd() && s.iadd(c), s.iushrn(1); for (var d = 0, h = 1; 0 === (n.words[0] & h) && d < 26; ++d, h <<= 1); if (d > 0) for (n.iushrn(d); d-- > 0;)a.isOdd() && a.iadd(c), a.iushrn(1); t.cmp(n) >= 0 ? (t.isub(n), s.isub(a)) : (n.isub(t), a.isub(s)) } return (i = 0 === t.cmpn(1) ? s : a).cmpn(0) < 0 && i.iadd(e), i }, o.prototype.gcd = function (e) { if (this.isZero()) return e.abs(); if (e.isZero()) return this.abs(); var t = this.clone(), n = e.clone(); t.negative = 0, n.negative = 0; for (var r = 0; t.isEven() && n.isEven(); r++)t.iushrn(1), n.iushrn(1); for (; ;) { for (; t.isEven();)t.iushrn(1); for (; n.isEven();)n.iushrn(1); var i = t.cmp(n); if (i < 0) { var o = t; t = n, n = o } else if (0 === i || 0 === n.cmpn(1)) break; t.isub(n) } return n.iushln(r) }, o.prototype.invm = function (e) { return this.egcd(e).a.umod(e) }, o.prototype.isEven = function () { return 0 === (1 & this.words[0]) }, o.prototype.isOdd = function () { return 1 === (1 & this.words[0]) }, o.prototype.andln = function (e) { return this.words[0] & e }, o.prototype.bincn = function (e) { r("number" === typeof e); var t = e % 26, n = (e - t) / 26, i = 1 << t; if (this.length <= n) return this._expand(n + 1), this.words[n] |= i, this; for (var o = i, s = n; 0 !== o && s < this.length; s++) { var a = 0 | this.words[s]; o = (a += o) >>> 26, a &= 67108863, this.words[s] = a } return 0 !== o && (this.words[s] = o, this.length++), this }, o.prototype.isZero = function () { return 1 === this.length && 0 === this.words[0] }, o.prototype.cmpn = function (e) { var t, n = e < 0; if (0 !== this.negative && !n) return -1; if (0 === this.negative && n) return 1; if (this._strip(), this.length > 1) t = 1; else { n && (e = -e), r(e <= 67108863, "Number is too big"); var i = 0 | this.words[0]; t = i === e ? 0 : i < e ? -1 : 1 } return 0 !== this.negative ? 0 | -t : t }, o.prototype.cmp = function (e) { if (0 !== this.negative && 0 === e.negative) return -1; if (0 === this.negative && 0 !== e.negative) return 1; var t = this.ucmp(e); return 0 !== this.negative ? 0 | -t : t }, o.prototype.ucmp = function (e) { if (this.length > e.length) return 1; if (this.length < e.length) return -1; for (var t = 0, n = this.length - 1; n >= 0; n--) { var r = 0 | this.words[n], i = 0 | e.words[n]; if (r !== i) { r < i ? t = -1 : r > i && (t = 1); break } } return t }, o.prototype.gtn = function (e) { return 1 === this.cmpn(e) }, o.prototype.gt = function (e) { return 1 === this.cmp(e) }, o.prototype.gten = function (e) { return this.cmpn(e) >= 0 }, o.prototype.gte = function (e) { return this.cmp(e) >= 0 }, o.prototype.ltn = function (e) { return -1 === this.cmpn(e) }, o.prototype.lt = function (e) { return -1 === this.cmp(e) }, o.prototype.lten = function (e) { return this.cmpn(e) <= 0 }, o.prototype.lte = function (e) { return this.cmp(e) <= 0 }, o.prototype.eqn = function (e) { return 0 === this.cmpn(e) }, o.prototype.eq = function (e) { return 0 === this.cmp(e) }, o.red = function (e) { return new S(e) }, o.prototype.toRed = function (e) { return r(!this.red, "Already a number in reduction context"), r(0 === this.negative, "red works only with positives"), e.convertTo(this)._forceRed(e) }, o.prototype.fromRed = function () { return r(this.red, "fromRed works only with numbers in reduction context"), this.red.convertFrom(this) }, o.prototype._forceRed = function (e) { return this.red = e, this }, o.prototype.forceRed = function (e) { return r(!this.red, "Already a number in reduction context"), this._forceRed(e) }, o.prototype.redAdd = function (e) { return r(this.red, "redAdd works only with red numbers"), this.red.add(this, e) }, o.prototype.redIAdd = function (e) { return r(this.red, "redIAdd works only with red numbers"), this.red.iadd(this, e) }, o.prototype.redSub = function (e) { return r(this.red, "redSub works only with red numbers"), this.red.sub(this, e) }, o.prototype.redISub = function (e) { return r(this.red, "redISub works only with red numbers"), this.red.isub(this, e) }, o.prototype.redShl = function (e) { return r(this.red, "redShl works only with red numbers"), this.red.shl(this, e) }, o.prototype.redMul = function (e) { return r(this.red, "redMul works only with red numbers"), this.red._verify2(this, e), this.red.mul(this, e) }, o.prototype.redIMul = function (e) { return r(this.red, "redMul works only with red numbers"), this.red._verify2(this, e), this.red.imul(this, e) }, o.prototype.redSqr = function () { return r(this.red, "redSqr works only with red numbers"), this.red._verify1(this), this.red.sqr(this) }, o.prototype.redISqr = function () { return r(this.red, "redISqr works only with red numbers"), this.red._verify1(this), this.red.isqr(this) }, o.prototype.redSqrt = function () { return r(this.red, "redSqrt works only with red numbers"), this.red._verify1(this), this.red.sqrt(this) }, o.prototype.redInvm = function () { return r(this.red, "redInvm works only with red numbers"), this.red._verify1(this), this.red.invm(this) }, o.prototype.redNeg = function () { return r(this.red, "redNeg works only with red numbers"), this.red._verify1(this), this.red.neg(this) }, o.prototype.redPow = function (e) { return r(this.red && !e.red, "redPow(normalNum)"), this.red._verify1(this), this.red.pow(this, e) }; var w = { k256: null, p224: null, p192: null, p25519: null }; function E(e, t) { this.name = e, this.p = new o(t, 16), this.n = this.p.bitLength(), this.k = new o(1).iushln(this.n).isub(this.p), this.tmp = this._tmp() } function x() { E.call(this, "k256", "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f") } function _() { E.call(this, "p224", "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001") } function C() { E.call(this, "p192", "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff") } function A() { E.call(this, "25519", "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed") } function S(e) { if ("string" === typeof e) { var t = o._prime(e); this.m = t.p, this.prime = t } else r(e.gtn(1), "modulus must be greater than 1"), this.m = e, this.prime = null } function k(e) { S.call(this, e), this.shift = this.m.bitLength(), this.shift % 26 !== 0 && (this.shift += 26 - this.shift % 26), this.r = new o(1).iushln(this.shift), this.r2 = this.imod(this.r.sqr()), this.rinv = this.r._invmp(this.m), this.minv = this.rinv.mul(this.r).isubn(1).div(this.m), this.minv = this.minv.umod(this.r), this.minv = this.r.sub(this.minv) } E.prototype._tmp = function () { var e = new o(null); return e.words = new Array(Math.ceil(this.n / 13)), e }, E.prototype.ireduce = function (e) { var t, n = e; do { this.split(n, this.tmp), t = (n = (n = this.imulK(n)).iadd(this.tmp)).bitLength() } while (t > this.n); var r = t < this.n ? -1 : n.ucmp(this.p); return 0 === r ? (n.words[0] = 0, n.length = 1) : r > 0 ? n.isub(this.p) : void 0 !== n.strip ? n.strip() : n._strip(), n }, E.prototype.split = function (e, t) { e.iushrn(this.n, 0, t) }, E.prototype.imulK = function (e) { return e.imul(this.k) }, i(x, E), x.prototype.split = function (e, t) { for (var n = 4194303, r = Math.min(e.length, 9), i = 0; i < r; i++)t.words[i] = e.words[i]; if (t.length = r, e.length <= 9) return e.words[0] = 0, void (e.length = 1); var o = e.words[9]; for (t.words[t.length++] = o & n, i = 10; i < e.length; i++) { var s = 0 | e.words[i]; e.words[i - 10] = (s & n) << 4 | o >>> 22, o = s } o >>>= 22, e.words[i - 10] = o, 0 === o && e.length > 10 ? e.length -= 10 : e.length -= 9 }, x.prototype.imulK = function (e) { e.words[e.length] = 0, e.words[e.length + 1] = 0, e.length += 2; for (var t = 0, n = 0; n < e.length; n++) { var r = 0 | e.words[n]; t += 977 * r, e.words[n] = 67108863 & t, t = 64 * r + (t / 67108864 | 0) } return 0 === e.words[e.length - 1] && (e.length--, 0 === e.words[e.length - 1] && e.length--), e }, i(_, E), i(C, E), i(A, E), A.prototype.imulK = function (e) { for (var t = 0, n = 0; n < e.length; n++) { var r = 19 * (0 | e.words[n]) + t, i = 67108863 & r; r >>>= 26, e.words[n] = i, t = r } return 0 !== t && (e.words[e.length++] = t), e }, o._prime = function (e) { if (w[e]) return w[e]; var t; if ("k256" === e) t = new x; else if ("p224" === e) t = new _; else if ("p192" === e) t = new C; else { if ("p25519" !== e) throw new Error("Unknown prime " + e); t = new A } return w[e] = t, t }, S.prototype._verify1 = function (e) { r(0 === e.negative, "red works only with positives"), r(e.red, "red works only with red numbers") }, S.prototype._verify2 = function (e, t) { r(0 === (e.negative | t.negative), "red works only with positives"), r(e.red && e.red === t.red, "red works only with red numbers") }, S.prototype.imod = function (e) { return this.prime ? this.prime.ireduce(e)._forceRed(this) : (u(e, e.umod(this.m)._forceRed(this)), e) }, S.prototype.neg = function (e) { return e.isZero() ? e.clone() : this.m.sub(e)._forceRed(this) }, S.prototype.add = function (e, t) { this._verify2(e, t); var n = e.add(t); return n.cmp(this.m) >= 0 && n.isub(this.m), n._forceRed(this) }, S.prototype.iadd = function (e, t) { this._verify2(e, t); var n = e.iadd(t); return n.cmp(this.m) >= 0 && n.isub(this.m), n }, S.prototype.sub = function (e, t) { this._verify2(e, t); var n = e.sub(t); return n.cmpn(0) < 0 && n.iadd(this.m), n._forceRed(this) }, S.prototype.isub = function (e, t) { this._verify2(e, t); var n = e.isub(t); return n.cmpn(0) < 0 && n.iadd(this.m), n }, S.prototype.shl = function (e, t) { return this._verify1(e), this.imod(e.ushln(t)) }, S.prototype.imul = function (e, t) { return this._verify2(e, t), this.imod(e.imul(t)) }, S.prototype.mul = function (e, t) { return this._verify2(e, t), this.imod(e.mul(t)) }, S.prototype.isqr = function (e) { return this.imul(e, e.clone()) }, S.prototype.sqr = function (e) { return this.mul(e, e) }, S.prototype.sqrt = function (e) { if (e.isZero()) return e.clone(); var t = this.m.andln(3); if (r(t % 2 === 1), 3 === t) { var n = this.m.add(new o(1)).iushrn(2); return this.pow(e, n) } for (var i = this.m.subn(1), s = 0; !i.isZero() && 0 === i.andln(1);)s++, i.iushrn(1); r(!i.isZero()); var a = new o(1).toRed(this), c = a.redNeg(), l = this.m.subn(1).iushrn(1), u = this.m.bitLength(); for (u = new o(2 * u * u).toRed(this); 0 !== this.pow(u, l).cmp(c);)u.redIAdd(c); for (var d = this.pow(u, i), h = this.pow(e, i.addn(1).iushrn(1)), f = this.pow(e, i), p = s; 0 !== f.cmp(a);) { for (var m = f, g = 0; 0 !== m.cmp(a); g++)m = m.redSqr(); r(g < p); var y = this.pow(d, new o(1).iushln(p - g - 1)); h = h.redMul(y), d = y.redSqr(), f = f.redMul(d), p = g } return h }, S.prototype.invm = function (e) { var t = e._invmp(this.m); return 0 !== t.negative ? (t.negative = 0, this.imod(t).redNeg()) : this.imod(t) }, S.prototype.pow = function (e, t) { if (t.isZero()) return new o(1).toRed(this); if (0 === t.cmpn(1)) return e.clone(); var n = new Array(16); n[0] = new o(1).toRed(this), n[1] = e; for (var r = 2; r < n.length; r++)n[r] = this.mul(n[r - 1], e); var i = n[0], s = 0, a = 0, c = t.bitLength() % 26; for (0 === c && (c = 26), r = t.length - 1; r >= 0; r--) { for (var l = t.words[r], u = c - 1; u >= 0; u--) { var d = l >> u & 1; i !== n[0] && (i = this.sqr(i)), 0 !== d || 0 !== s ? (s <<= 1, s |= d, (4 === ++a || 0 === r && 0 === u) && (i = this.mul(i, n[s]), a = 0, s = 0)) : a = 0 } c = 26 } return i }, S.prototype.convertTo = function (e) { var t = e.umod(this.m); return t === e ? t.clone() : t }, S.prototype.convertFrom = function (e) { var t = e.clone(); return t.red = null, t }, o.mont = function (e) { return new k(e) }, i(k, S), k.prototype.convertTo = function (e) { return this.imod(e.ushln(this.shift)) }, k.prototype.convertFrom = function (e) { var t = this.imod(e.mul(this.rinv)); return t.red = null, t }, k.prototype.imul = function (e, t) { if (e.isZero() || t.isZero()) return e.words[0] = 0, e.length = 1, e; var n = e.imul(t), r = n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), i = n.isub(r).iushrn(this.shift), o = i; return i.cmp(this.m) >= 0 ? o = i.isub(this.m) : i.cmpn(0) < 0 && (o = i.iadd(this.m)), o._forceRed(this) }, k.prototype.mul = function (e, t) { if (e.isZero() || t.isZero()) return new o(0)._forceRed(this); var n = e.mul(t), r = n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), i = n.isub(r).iushrn(this.shift), s = i; return i.cmp(this.m) >= 0 ? s = i.isub(this.m) : i.cmpn(0) < 0 && (s = i.iadd(this.m)), s._forceRed(this) }, k.prototype.invm = function (e) { return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this) } }(e = n.nmd(e), this) }, 29931: function (e, t, n) { var r; function i(e) { this.rand = e } if (e.exports = function (e) { return r || (r = new i(null)), r.generate(e) }, e.exports.Rand = i, i.prototype.generate = function (e) { return this._rand(e) }, i.prototype._rand = function (e) { if (this.rand.getBytes) return this.rand.getBytes(e); for (var t = new Uint8Array(e), n = 0; n < t.length; n++)t[n] = this.rand.getByte(); return t }, "object" === typeof self) self.crypto && self.crypto.getRandomValues ? i.prototype._rand = function (e) { var t = new Uint8Array(e); return self.crypto.getRandomValues(t), t } : self.msCrypto && self.msCrypto.getRandomValues ? i.prototype._rand = function (e) { var t = new Uint8Array(e); return self.msCrypto.getRandomValues(t), t } : "object" === typeof window && (i.prototype._rand = function () { throw new Error("Not implemented yet") }); else try { var o = n(89214); if ("function" !== typeof o.randomBytes) throw new Error("Not supported"); i.prototype._rand = function (e) { return o.randomBytes(e) } } catch (s) { } }, 48764: function (e, t, n) { "use strict"; const r = n(79742), i = n(80645), o = "function" === typeof Symbol && "function" === typeof Symbol.for ? Symbol.for("nodejs.util.inspect.custom") : null; t.Buffer = c, t.SlowBuffer = function (e) { +e != e && (e = 0); return c.alloc(+e) }, t.INSPECT_MAX_BYTES = 50; const s = 2147483647; function a(e) { if (e > s) throw new RangeError('The value "' + e + '" is invalid for option "size"'); const t = new Uint8Array(e); return Object.setPrototypeOf(t, c.prototype), t } function c(e, t, n) { if ("number" === typeof e) { if ("string" === typeof t) throw new TypeError('The "string" argument must be of type string. Received type number'); return d(e) } return l(e, t, n) } function l(e, t, n) { if ("string" === typeof e) return function (e, t) { "string" === typeof t && "" !== t || (t = "utf8"); if (!c.isEncoding(t)) throw new TypeError("Unknown encoding: " + t); const n = 0 | m(e, t); let r = a(n); const i = r.write(e, t); i !== n && (r = r.slice(0, i)); return r }(e, t); if (ArrayBuffer.isView(e)) return function (e) { if (Y(e, Uint8Array)) { const t = new Uint8Array(e); return f(t.buffer, t.byteOffset, t.byteLength) } return h(e) }(e); if (null == e) throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof e); if (Y(e, ArrayBuffer) || e && Y(e.buffer, ArrayBuffer)) return f(e, t, n); if ("undefined" !== typeof SharedArrayBuffer && (Y(e, SharedArrayBuffer) || e && Y(e.buffer, SharedArrayBuffer))) return f(e, t, n); if ("number" === typeof e) throw new TypeError('The "value" argument must not be of type number. Received type number'); const r = e.valueOf && e.valueOf(); if (null != r && r !== e) return c.from(r, t, n); const i = function (e) { if (c.isBuffer(e)) { const t = 0 | p(e.length), n = a(t); return 0 === n.length || e.copy(n, 0, 0, t), n } if (void 0 !== e.length) return "number" !== typeof e.length || Z(e.length) ? a(0) : h(e); if ("Buffer" === e.type && Array.isArray(e.data)) return h(e.data) }(e); if (i) return i; if ("undefined" !== typeof Symbol && null != Symbol.toPrimitive && "function" === typeof e[Symbol.toPrimitive]) return c.from(e[Symbol.toPrimitive]("string"), t, n); throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof e) } function u(e) { if ("number" !== typeof e) throw new TypeError('"size" argument must be of type number'); if (e < 0) throw new RangeError('The value "' + e + '" is invalid for option "size"') } function d(e) { return u(e), a(e < 0 ? 0 : 0 | p(e)) } function h(e) { const t = e.length < 0 ? 0 : 0 | p(e.length), n = a(t); for (let r = 0; r < t; r += 1)n[r] = 255 & e[r]; return n } function f(e, t, n) { if (t < 0 || e.byteLength < t) throw new RangeError('"offset" is outside of buffer bounds'); if (e.byteLength < t + (n || 0)) throw new RangeError('"length" is outside of buffer bounds'); let r; return r = void 0 === t && void 0 === n ? new Uint8Array(e) : void 0 === n ? new Uint8Array(e, t) : new Uint8Array(e, t, n), Object.setPrototypeOf(r, c.prototype), r } function p(e) { if (e >= s) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + s.toString(16) + " bytes"); return 0 | e } function m(e, t) { if (c.isBuffer(e)) return e.length; if (ArrayBuffer.isView(e) || Y(e, ArrayBuffer)) return e.byteLength; if ("string" !== typeof e) throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof e); const n = e.length, r = arguments.length > 2 && !0 === arguments[2]; if (!r && 0 === n) return 0; let i = !1; for (; ;)switch (t) { case "ascii": case "latin1": case "binary": return n; case "utf8": case "utf-8": return G(e).length; case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return 2 * n; case "hex": return n >>> 1; case "base64": return V(e).length; default: if (i) return r ? -1 : G(e).length; t = ("" + t).toLowerCase(), i = !0 } } function g(e, t, n) { let r = !1; if ((void 0 === t || t < 0) && (t = 0), t > this.length) return ""; if ((void 0 === n || n > this.length) && (n = this.length), n <= 0) return ""; if ((n >>>= 0) <= (t >>>= 0)) return ""; for (e || (e = "utf8"); ;)switch (e) { case "hex": return N(this, t, n); case "utf8": case "utf-8": return S(this, t, n); case "ascii": return I(this, t, n); case "latin1": case "binary": return T(this, t, n); case "base64": return A(this, t, n); case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return P(this, t, n); default: if (r) throw new TypeError("Unknown encoding: " + e); e = (e + "").toLowerCase(), r = !0 } } function y(e, t, n) { const r = e[t]; e[t] = e[n], e[n] = r } function b(e, t, n, r, i) { if (0 === e.length) return -1; if ("string" === typeof n ? (r = n, n = 0) : n > 2147483647 ? n = 2147483647 : n < -2147483648 && (n = -2147483648), Z(n = +n) && (n = i ? 0 : e.length - 1), n < 0 && (n = e.length + n), n >= e.length) { if (i) return -1; n = e.length - 1 } else if (n < 0) { if (!i) return -1; n = 0 } if ("string" === typeof t && (t = c.from(t, r)), c.isBuffer(t)) return 0 === t.length ? -1 : v(e, t, n, r, i); if ("number" === typeof t) return t &= 255, "function" === typeof Uint8Array.prototype.indexOf ? i ? Uint8Array.prototype.indexOf.call(e, t, n) : Uint8Array.prototype.lastIndexOf.call(e, t, n) : v(e, [t], n, r, i); throw new TypeError("val must be string, number or Buffer") } function v(e, t, n, r, i) { let o, s = 1, a = e.length, c = t.length; if (void 0 !== r && ("ucs2" === (r = String(r).toLowerCase()) || "ucs-2" === r || "utf16le" === r || "utf-16le" === r)) { if (e.length < 2 || t.length < 2) return -1; s = 2, a /= 2, c /= 2, n /= 2 } function l(e, t) { return 1 === s ? e[t] : e.readUInt16BE(t * s) } if (i) { let r = -1; for (o = n; o < a; o++)if (l(e, o) === l(t, -1 === r ? 0 : o - r)) { if (-1 === r && (r = o), o - r + 1 === c) return r * s } else -1 !== r && (o -= o - r), r = -1 } else for (n + c > a && (n = a - c), o = n; o >= 0; o--) { let n = !0; for (let r = 0; r < c; r++)if (l(e, o + r) !== l(t, r)) { n = !1; break } if (n) return o } return -1 } function w(e, t, n, r) { n = Number(n) || 0; const i = e.length - n; r ? (r = Number(r)) > i && (r = i) : r = i; const o = t.length; let s; for (r > o / 2 && (r = o / 2), s = 0; s < r; ++s) { const r = parseInt(t.substr(2 * s, 2), 16); if (Z(r)) return s; e[n + s] = r } return s } function E(e, t, n, r) { return K(G(t, e.length - n), e, n, r) } function x(e, t, n, r) { return K(function (e) { const t = []; for (let n = 0; n < e.length; ++n)t.push(255 & e.charCodeAt(n)); return t }(t), e, n, r) } function _(e, t, n, r) { return K(V(t), e, n, r) } function C(e, t, n, r) { return K(function (e, t) { let n, r, i; const o = []; for (let s = 0; s < e.length && !((t -= 2) < 0); ++s)n = e.charCodeAt(s), r = n >> 8, i = n % 256, o.push(i), o.push(r); return o }(t, e.length - n), e, n, r) } function A(e, t, n) { return 0 === t && n === e.length ? r.fromByteArray(e) : r.fromByteArray(e.slice(t, n)) } function S(e, t, n) { n = Math.min(e.length, n); const r = []; let i = t; for (; i < n;) { const t = e[i]; let o = null, s = t > 239 ? 4 : t > 223 ? 3 : t > 191 ? 2 : 1; if (i + s <= n) { let n, r, a, c; switch (s) { case 1: t < 128 && (o = t); break; case 2: n = e[i + 1], 128 === (192 & n) && (c = (31 & t) << 6 | 63 & n, c > 127 && (o = c)); break; case 3: n = e[i + 1], r = e[i + 2], 128 === (192 & n) && 128 === (192 & r) && (c = (15 & t) << 12 | (63 & n) << 6 | 63 & r, c > 2047 && (c < 55296 || c > 57343) && (o = c)); break; case 4: n = e[i + 1], r = e[i + 2], a = e[i + 3], 128 === (192 & n) && 128 === (192 & r) && 128 === (192 & a) && (c = (15 & t) << 18 | (63 & n) << 12 | (63 & r) << 6 | 63 & a, c > 65535 && c < 1114112 && (o = c)) } } null === o ? (o = 65533, s = 1) : o > 65535 && (o -= 65536, r.push(o >>> 10 & 1023 | 55296), o = 56320 | 1023 & o), r.push(o), i += s } return function (e) { const t = e.length; if (t <= k) return String.fromCharCode.apply(String, e); let n = "", r = 0; for (; r < t;)n += String.fromCharCode.apply(String, e.slice(r, r += k)); return n }(r) } t.kMaxLength = s, c.TYPED_ARRAY_SUPPORT = function () { try { const e = new Uint8Array(1), t = { foo: function () { return 42 } }; return Object.setPrototypeOf(t, Uint8Array.prototype), Object.setPrototypeOf(e, t), 42 === e.foo() } catch (e) { return !1 } }(), c.TYPED_ARRAY_SUPPORT || "undefined" === typeof console || "function" !== typeof console.error || console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."), Object.defineProperty(c.prototype, "parent", { enumerable: !0, get: function () { if (c.isBuffer(this)) return this.buffer } }), Object.defineProperty(c.prototype, "offset", { enumerable: !0, get: function () { if (c.isBuffer(this)) return this.byteOffset } }), c.poolSize = 8192, c.from = function (e, t, n) { return l(e, t, n) }, Object.setPrototypeOf(c.prototype, Uint8Array.prototype), Object.setPrototypeOf(c, Uint8Array), c.alloc = function (e, t, n) { return function (e, t, n) { return u(e), e <= 0 ? a(e) : void 0 !== t ? "string" === typeof n ? a(e).fill(t, n) : a(e).fill(t) : a(e) }(e, t, n) }, c.allocUnsafe = function (e) { return d(e) }, c.allocUnsafeSlow = function (e) { return d(e) }, c.isBuffer = function (e) { return null != e && !0 === e._isBuffer && e !== c.prototype }, c.compare = function (e, t) { if (Y(e, Uint8Array) && (e = c.from(e, e.offset, e.byteLength)), Y(t, Uint8Array) && (t = c.from(t, t.offset, t.byteLength)), !c.isBuffer(e) || !c.isBuffer(t)) throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'); if (e === t) return 0; let n = e.length, r = t.length; for (let i = 0, o = Math.min(n, r); i < o; ++i)if (e[i] !== t[i]) { n = e[i], r = t[i]; break } return n < r ? -1 : r < n ? 1 : 0 }, c.isEncoding = function (e) { switch (String(e).toLowerCase()) { case "hex": case "utf8": case "utf-8": case "ascii": case "latin1": case "binary": case "base64": case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return !0; default: return !1 } }, c.concat = function (e, t) { if (!Array.isArray(e)) throw new TypeError('"list" argument must be an Array of Buffers'); if (0 === e.length) return c.alloc(0); let n; if (void 0 === t) for (t = 0, n = 0; n < e.length; ++n)t += e[n].length; const r = c.allocUnsafe(t); let i = 0; for (n = 0; n < e.length; ++n) { let t = e[n]; if (Y(t, Uint8Array)) i + t.length > r.length ? (c.isBuffer(t) || (t = c.from(t)), t.copy(r, i)) : Uint8Array.prototype.set.call(r, t, i); else { if (!c.isBuffer(t)) throw new TypeError('"list" argument must be an Array of Buffers'); t.copy(r, i) } i += t.length } return r }, c.byteLength = m, c.prototype._isBuffer = !0, c.prototype.swap16 = function () { const e = this.length; if (e % 2 !== 0) throw new RangeError("Buffer size must be a multiple of 16-bits"); for (let t = 0; t < e; t += 2)y(this, t, t + 1); return this }, c.prototype.swap32 = function () { const e = this.length; if (e % 4 !== 0) throw new RangeError("Buffer size must be a multiple of 32-bits"); for (let t = 0; t < e; t += 4)y(this, t, t + 3), y(this, t + 1, t + 2); return this }, c.prototype.swap64 = function () { const e = this.length; if (e % 8 !== 0) throw new RangeError("Buffer size must be a multiple of 64-bits"); for (let t = 0; t < e; t += 8)y(this, t, t + 7), y(this, t + 1, t + 6), y(this, t + 2, t + 5), y(this, t + 3, t + 4); return this }, c.prototype.toString = function () { const e = this.length; return 0 === e ? "" : 0 === arguments.length ? S(this, 0, e) : g.apply(this, arguments) }, c.prototype.toLocaleString = c.prototype.toString, c.prototype.equals = function (e) { if (!c.isBuffer(e)) throw new TypeError("Argument must be a Buffer"); return this === e || 0 === c.compare(this, e) }, c.prototype.inspect = function () { let e = ""; const n = t.INSPECT_MAX_BYTES; return e = this.toString("hex", 0, n).replace(/(.{2})/g, "$1 ").trim(), this.length > n && (e += " ... "), "<Buffer " + e + ">" }, o && (c.prototype[o] = c.prototype.inspect), c.prototype.compare = function (e, t, n, r, i) { if (Y(e, Uint8Array) && (e = c.from(e, e.offset, e.byteLength)), !c.isBuffer(e)) throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type ' + typeof e); if (void 0 === t && (t = 0), void 0 === n && (n = e ? e.length : 0), void 0 === r && (r = 0), void 0 === i && (i = this.length), t < 0 || n > e.length || r < 0 || i > this.length) throw new RangeError("out of range index"); if (r >= i && t >= n) return 0; if (r >= i) return -1; if (t >= n) return 1; if (this === e) return 0; let o = (i >>>= 0) - (r >>>= 0), s = (n >>>= 0) - (t >>>= 0); const a = Math.min(o, s), l = this.slice(r, i), u = e.slice(t, n); for (let c = 0; c < a; ++c)if (l[c] !== u[c]) { o = l[c], s = u[c]; break } return o < s ? -1 : s < o ? 1 : 0 }, c.prototype.includes = function (e, t, n) { return -1 !== this.indexOf(e, t, n) }, c.prototype.indexOf = function (e, t, n) { return b(this, e, t, n, !0) }, c.prototype.lastIndexOf = function (e, t, n) { return b(this, e, t, n, !1) }, c.prototype.write = function (e, t, n, r) { if (void 0 === t) r = "utf8", n = this.length, t = 0; else if (void 0 === n && "string" === typeof t) r = t, n = this.length, t = 0; else { if (!isFinite(t)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported"); t >>>= 0, isFinite(n) ? (n >>>= 0, void 0 === r && (r = "utf8")) : (r = n, n = void 0) } const i = this.length - t; if ((void 0 === n || n > i) && (n = i), e.length > 0 && (n < 0 || t < 0) || t > this.length) throw new RangeError("Attempt to write outside buffer bounds"); r || (r = "utf8"); let o = !1; for (; ;)switch (r) { case "hex": return w(this, e, t, n); case "utf8": case "utf-8": return E(this, e, t, n); case "ascii": case "latin1": case "binary": return x(this, e, t, n); case "base64": return _(this, e, t, n); case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return C(this, e, t, n); default: if (o) throw new TypeError("Unknown encoding: " + r); r = ("" + r).toLowerCase(), o = !0 } }, c.prototype.toJSON = function () { return { type: "Buffer", data: Array.prototype.slice.call(this._arr || this, 0) } }; const k = 4096; function I(e, t, n) { let r = ""; n = Math.min(e.length, n); for (let i = t; i < n; ++i)r += String.fromCharCode(127 & e[i]); return r } function T(e, t, n) { let r = ""; n = Math.min(e.length, n); for (let i = t; i < n; ++i)r += String.fromCharCode(e[i]); return r } function N(e, t, n) { const r = e.length; (!t || t < 0) && (t = 0), (!n || n < 0 || n > r) && (n = r); let i = ""; for (let o = t; o < n; ++o)i += X[e[o]]; return i } function P(e, t, n) { const r = e.slice(t, n); let i = ""; for (let o = 0; o < r.length - 1; o += 2)i += String.fromCharCode(r[o] + 256 * r[o + 1]); return i } function M(e, t, n) { if (e % 1 !== 0 || e < 0) throw new RangeError("offset is not uint"); if (e + t > n) throw new RangeError("Trying to access beyond buffer length") } function O(e, t, n, r, i, o) { if (!c.isBuffer(e)) throw new TypeError('"buffer" argument must be a Buffer instance'); if (t > i || t < o) throw new RangeError('"value" argument is out of bounds'); if (n + r > e.length) throw new RangeError("Index out of range") } function R(e, t, n, r, i) { W(t, r, i, e, n, 7); let o = Number(t & BigInt(4294967295)); e[n++] = o, o >>= 8, e[n++] = o, o >>= 8, e[n++] = o, o >>= 8, e[n++] = o; let s = Number(t >> BigInt(32) & BigInt(4294967295)); return e[n++] = s, s >>= 8, e[n++] = s, s >>= 8, e[n++] = s, s >>= 8, e[n++] = s, n } function j(e, t, n, r, i) { W(t, r, i, e, n, 7); let o = Number(t & BigInt(4294967295)); e[n + 7] = o, o >>= 8, e[n + 6] = o, o >>= 8, e[n + 5] = o, o >>= 8, e[n + 4] = o; let s = Number(t >> BigInt(32) & BigInt(4294967295)); return e[n + 3] = s, s >>= 8, e[n + 2] = s, s >>= 8, e[n + 1] = s, s >>= 8, e[n] = s, n + 8 } function $(e, t, n, r, i, o) { if (n + r > e.length) throw new RangeError("Index out of range"); if (n < 0) throw new RangeError("Index out of range") } function L(e, t, n, r, o) { return t = +t, n >>>= 0, o || $(e, 0, n, 4), i.write(e, t, n, r, 23, 4), n + 4 } function D(e, t, n, r, o) { return t = +t, n >>>= 0, o || $(e, 0, n, 8), i.write(e, t, n, r, 52, 8), n + 8 } c.prototype.slice = function (e, t) { const n = this.length; (e = ~~e) < 0 ? (e += n) < 0 && (e = 0) : e > n && (e = n), (t = void 0 === t ? n : ~~t) < 0 ? (t += n) < 0 && (t = 0) : t > n && (t = n), t < e && (t = e); const r = this.subarray(e, t); return Object.setPrototypeOf(r, c.prototype), r }, c.prototype.readUintLE = c.prototype.readUIntLE = function (e, t, n) { e >>>= 0, t >>>= 0, n || M(e, t, this.length); let r = this[e], i = 1, o = 0; for (; ++o < t && (i *= 256);)r += this[e + o] * i; return r }, c.prototype.readUintBE = c.prototype.readUIntBE = function (e, t, n) { e >>>= 0, t >>>= 0, n || M(e, t, this.length); let r = this[e + --t], i = 1; for (; t > 0 && (i *= 256);)r += this[e + --t] * i; return r }, c.prototype.readUint8 = c.prototype.readUInt8 = function (e, t) { return e >>>= 0, t || M(e, 1, this.length), this[e] }, c.prototype.readUint16LE = c.prototype.readUInt16LE = function (e, t) { return e >>>= 0, t || M(e, 2, this.length), this[e] | this[e + 1] << 8 }, c.prototype.readUint16BE = c.prototype.readUInt16BE = function (e, t) { return e >>>= 0, t || M(e, 2, this.length), this[e] << 8 | this[e + 1] }, c.prototype.readUint32LE = c.prototype.readUInt32LE = function (e, t) { return e >>>= 0, t || M(e, 4, this.length), (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3] }, c.prototype.readUint32BE = c.prototype.readUInt32BE = function (e, t) { return e >>>= 0, t || M(e, 4, this.length), 16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]) }, c.prototype.readBigUInt64LE = J((function (e) { z(e >>>= 0, "offset"); const t = this[e], n = this[e + 7]; void 0 !== t && void 0 !== n || q(e, this.length - 8); const r = t + 256 * this[++e] + 65536 * this[++e] + this[++e] * 2 ** 24, i = this[++e] + 256 * this[++e] + 65536 * this[++e] + n * 2 ** 24; return BigInt(r) + (BigInt(i) << BigInt(32)) })), c.prototype.readBigUInt64BE = J((function (e) { z(e >>>= 0, "offset"); const t = this[e], n = this[e + 7]; void 0 !== t && void 0 !== n || q(e, this.length - 8); const r = t * 2 ** 24 + 65536 * this[++e] + 256 * this[++e] + this[++e], i = this[++e] * 2 ** 24 + 65536 * this[++e] + 256 * this[++e] + n; return (BigInt(r) << BigInt(32)) + BigInt(i) })), c.prototype.readIntLE = function (e, t, n) { e >>>= 0, t >>>= 0, n || M(e, t, this.length); let r = this[e], i = 1, o = 0; for (; ++o < t && (i *= 256);)r += this[e + o] * i; return i *= 128, r >= i && (r -= Math.pow(2, 8 * t)), r }, c.prototype.readIntBE = function (e, t, n) { e >>>= 0, t >>>= 0, n || M(e, t, this.length); let r = t, i = 1, o = this[e + --r]; for (; r > 0 && (i *= 256);)o += this[e + --r] * i; return i *= 128, o >= i && (o -= Math.pow(2, 8 * t)), o }, c.prototype.readInt8 = function (e, t) { return e >>>= 0, t || M(e, 1, this.length), 128 & this[e] ? -1 * (255 - this[e] + 1) : this[e] }, c.prototype.readInt16LE = function (e, t) { e >>>= 0, t || M(e, 2, this.length); const n = this[e] | this[e + 1] << 8; return 32768 & n ? 4294901760 | n : n }, c.prototype.readInt16BE = function (e, t) { e >>>= 0, t || M(e, 2, this.length); const n = this[e + 1] | this[e] << 8; return 32768 & n ? 4294901760 | n : n }, c.prototype.readInt32LE = function (e, t) { return e >>>= 0, t || M(e, 4, this.length), this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24 }, c.prototype.readInt32BE = function (e, t) { return e >>>= 0, t || M(e, 4, this.length), this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3] }, c.prototype.readBigInt64LE = J((function (e) { z(e >>>= 0, "offset"); const t = this[e], n = this[e + 7]; void 0 !== t && void 0 !== n || q(e, this.length - 8); const r = this[e + 4] + 256 * this[e + 5] + 65536 * this[e + 6] + (n << 24); return (BigInt(r) << BigInt(32)) + BigInt(t + 256 * this[++e] + 65536 * this[++e] + this[++e] * 2 ** 24) })), c.prototype.readBigInt64BE = J((function (e) { z(e >>>= 0, "offset"); const t = this[e], n = this[e + 7]; void 0 !== t && void 0 !== n || q(e, this.length - 8); const r = (t << 24) + 65536 * this[++e] + 256 * this[++e] + this[++e]; return (BigInt(r) << BigInt(32)) + BigInt(this[++e] * 2 ** 24 + 65536 * this[++e] + 256 * this[++e] + n) })), c.prototype.readFloatLE = function (e, t) { return e >>>= 0, t || M(e, 4, this.length), i.read(this, e, !0, 23, 4) }, c.prototype.readFloatBE = function (e, t) { return e >>>= 0, t || M(e, 4, this.length), i.read(this, e, !1, 23, 4) }, c.prototype.readDoubleLE = function (e, t) { return e >>>= 0, t || M(e, 8, this.length), i.read(this, e, !0, 52, 8) }, c.prototype.readDoubleBE = function (e, t) { return e >>>= 0, t || M(e, 8, this.length), i.read(this, e, !1, 52, 8) }, c.prototype.writeUintLE = c.prototype.writeUIntLE = function (e, t, n, r) { if (e = +e, t >>>= 0, n >>>= 0, !r) { O(this, e, t, n, Math.pow(2, 8 * n) - 1, 0) } let i = 1, o = 0; for (this[t] = 255 & e; ++o < n && (i *= 256);)this[t + o] = e / i & 255; return t + n }, c.prototype.writeUintBE = c.prototype.writeUIntBE = function (e, t, n, r) { if (e = +e, t >>>= 0, n >>>= 0, !r) { O(this, e, t, n, Math.pow(2, 8 * n) - 1, 0) } let i = n - 1, o = 1; for (this[t + i] = 255 & e; --i >= 0 && (o *= 256);)this[t + i] = e / o & 255; return t + n }, c.prototype.writeUint8 = c.prototype.writeUInt8 = function (e, t, n) { return e = +e, t >>>= 0, n || O(this, e, t, 1, 255, 0), this[t] = 255 & e, t + 1 }, c.prototype.writeUint16LE = c.prototype.writeUInt16LE = function (e, t, n) { return e = +e, t >>>= 0, n || O(this, e, t, 2, 65535, 0), this[t] = 255 & e, this[t + 1] = e >>> 8, t + 2 }, c.prototype.writeUint16BE = c.prototype.writeUInt16BE = function (e, t, n) { return e = +e, t >>>= 0, n || O(this, e, t, 2, 65535, 0), this[t] = e >>> 8, this[t + 1] = 255 & e, t + 2 }, c.prototype.writeUint32LE = c.prototype.writeUInt32LE = function (e, t, n) { return e = +e, t >>>= 0, n || O(this, e, t, 4, 4294967295, 0), this[t + 3] = e >>> 24, this[t + 2] = e >>> 16, this[t + 1] = e >>> 8, this[t] = 255 & e, t + 4 }, c.prototype.writeUint32BE = c.prototype.writeUInt32BE = function (e, t, n) { return e = +e, t >>>= 0, n || O(this, e, t, 4, 4294967295, 0), this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e, t + 4 }, c.prototype.writeBigUInt64LE = J((function (e, t = 0) { return R(this, e, t, BigInt(0), BigInt("0xffffffffffffffff")) })), c.prototype.writeBigUInt64BE = J((function (e, t = 0) { return j(this, e, t, BigInt(0), BigInt("0xffffffffffffffff")) })), c.prototype.writeIntLE = function (e, t, n, r) { if (e = +e, t >>>= 0, !r) { const r = Math.pow(2, 8 * n - 1); O(this, e, t, n, r - 1, -r) } let i = 0, o = 1, s = 0; for (this[t] = 255 & e; ++i < n && (o *= 256);)e < 0 && 0 === s && 0 !== this[t + i - 1] && (s = 1), this[t + i] = (e / o >> 0) - s & 255; return t + n }, c.prototype.writeIntBE = function (e, t, n, r) { if (e = +e, t >>>= 0, !r) { const r = Math.pow(2, 8 * n - 1); O(this, e, t, n, r - 1, -r) } let i = n - 1, o = 1, s = 0; for (this[t + i] = 255 & e; --i >= 0 && (o *= 256);)e < 0 && 0 === s && 0 !== this[t + i + 1] && (s = 1), this[t + i] = (e / o >> 0) - s & 255; return t + n }, c.prototype.writeInt8 = function (e, t, n) { return e = +e, t >>>= 0, n || O(this, e, t, 1, 127, -128), e < 0 && (e = 255 + e + 1), this[t] = 255 & e, t + 1 }, c.prototype.writeInt16LE = function (e, t, n) { return e = +e, t >>>= 0, n || O(this, e, t, 2, 32767, -32768), this[t] = 255 & e, this[t + 1] = e >>> 8, t + 2 }, c.prototype.writeInt16BE = function (e, t, n) { return e = +e, t >>>= 0, n || O(this, e, t, 2, 32767, -32768), this[t] = e >>> 8, this[t + 1] = 255 & e, t + 2 }, c.prototype.writeInt32LE = function (e, t, n) { return e = +e, t >>>= 0, n || O(this, e, t, 4, 2147483647, -2147483648), this[t] = 255 & e, this[t + 1] = e >>> 8, this[t + 2] = e >>> 16, this[t + 3] = e >>> 24, t + 4 }, c.prototype.writeInt32BE = function (e, t, n) { return e = +e, t >>>= 0, n || O(this, e, t, 4, 2147483647, -2147483648), e < 0 && (e = 4294967295 + e + 1), this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e, t + 4 }, c.prototype.writeBigInt64LE = J((function (e, t = 0) { return R(this, e, t, -BigInt("0x8000000000000000"), BigInt("0x7fffffffffffffff")) })), c.prototype.writeBigInt64BE = J((function (e, t = 0) { return j(this, e, t, -BigInt("0x8000000000000000"), BigInt("0x7fffffffffffffff")) })), c.prototype.writeFloatLE = function (e, t, n) { return L(this, e, t, !0, n) }, c.prototype.writeFloatBE = function (e, t, n) { return L(this, e, t, !1, n) }, c.prototype.writeDoubleLE = function (e, t, n) { return D(this, e, t, !0, n) }, c.prototype.writeDoubleBE = function (e, t, n) { return D(this, e, t, !1, n) }, c.prototype.copy = function (e, t, n, r) { if (!c.isBuffer(e)) throw new TypeError("argument should be a Buffer"); if (n || (n = 0), r || 0 === r || (r = this.length), t >= e.length && (t = e.length), t || (t = 0), r > 0 && r < n && (r = n), r === n) return 0; if (0 === e.length || 0 === this.length) return 0; if (t < 0) throw new RangeError("targetStart out of bounds"); if (n < 0 || n >= this.length) throw new RangeError("Index out of range"); if (r < 0) throw new RangeError("sourceEnd out of bounds"); r > this.length && (r = this.length), e.length - t < r - n && (r = e.length - t + n); const i = r - n; return this === e && "function" === typeof Uint8Array.prototype.copyWithin ? this.copyWithin(t, n, r) : Uint8Array.prototype.set.call(e, this.subarray(n, r), t), i }, c.prototype.fill = function (e, t, n, r) { if ("string" === typeof e) { if ("string" === typeof t ? (r = t, t = 0, n = this.length) : "string" === typeof n && (r = n, n = this.length), void 0 !== r && "string" !== typeof r) throw new TypeError("encoding must be a string"); if ("string" === typeof r && !c.isEncoding(r)) throw new TypeError("Unknown encoding: " + r); if (1 === e.length) { const t = e.charCodeAt(0); ("utf8" === r && t < 128 || "latin1" === r) && (e = t) } } else "number" === typeof e ? e &= 255 : "boolean" === typeof e && (e = Number(e)); if (t < 0 || this.length < t || this.length < n) throw new RangeError("Out of range index"); if (n <= t) return this; let i; if (t >>>= 0, n = void 0 === n ? this.length : n >>> 0, e || (e = 0), "number" === typeof e) for (i = t; i < n; ++i)this[i] = e; else { const o = c.isBuffer(e) ? e : c.from(e, r), s = o.length; if (0 === s) throw new TypeError('The value "' + e + '" is invalid for argument "value"'); for (i = 0; i < n - t; ++i)this[i + t] = o[i % s] } return this }; const U = {}; function F(e, t, n) { U[e] = class extends n { constructor() { super(), Object.defineProperty(this, "message", { value: t.apply(this, arguments), writable: !0, configurable: !0 }), this.name = `${this.name} [${e}]`, this.stack, delete this.name } get code() { return e } set code(e) { Object.defineProperty(this, "code", { configurable: !0, enumerable: !0, value: e, writable: !0 }) } toString() { return `${this.name} [${e}]: ${this.message}` } } } function B(e) { let t = "", n = e.length; const r = "-" === e[0] ? 1 : 0; for (; n >= r + 4; n -= 3)t = `_${e.slice(n - 3, n)}${t}`; return `${e.slice(0, n)}${t}` } function W(e, t, n, r, i, o) { if (e > n || e < t) { const r = "bigint" === typeof t ? "n" : ""; let i; throw i = o > 3 ? 0 === t || t === BigInt(0) ? `>= 0${r} and < 2${r} ** ${8 * (o + 1)}${r}` : `>= -(2${r} ** ${8 * (o + 1) - 1}${r}) and < 2 ** ${8 * (o + 1) - 1}${r}` : `>= ${t}${r} and <= ${n}${r}`, new U.ERR_OUT_OF_RANGE("value", i, e) } !function (e, t, n) { z(t, "offset"), void 0 !== e[t] && void 0 !== e[t + n] || q(t, e.length - (n + 1)) }(r, i, o) } function z(e, t) { if ("number" !== typeof e) throw new U.ERR_INVALID_ARG_TYPE(t, "number", e) } function q(e, t, n) { if (Math.floor(e) !== e) throw z(e, n), new U.ERR_OUT_OF_RANGE(n || "offset", "an integer", e); if (t < 0) throw new U.ERR_BUFFER_OUT_OF_BOUNDS; throw new U.ERR_OUT_OF_RANGE(n || "offset", `>= ${n ? 1 : 0} and <= ${t}`, e) } F("ERR_BUFFER_OUT_OF_BOUNDS", (function (e) { return e ? `${e} is outside of buffer bounds` : "Attempt to access memory outside buffer bounds" }), RangeError), F("ERR_INVALID_ARG_TYPE", (function (e, t) { return `The "${e}" argument must be of type number. Received type ${typeof t}` }), TypeError), F("ERR_OUT_OF_RANGE", (function (e, t, n) { let r = `The value of "${e}" is out of range.`, i = n; return Number.isInteger(n) && Math.abs(n) > 2 ** 32 ? i = B(String(n)) : "bigint" === typeof n && (i = String(n), (n > BigInt(2) ** BigInt(32) || n < -(BigInt(2) ** BigInt(32))) && (i = B(i)), i += "n"), r += ` It must be ${t}. Received ${i}`, r }), RangeError); const H = /[^+/0-9A-Za-z-_]/g; function G(e, t) { let n; t = t || 1 / 0; const r = e.length; let i = null; const o = []; for (let s = 0; s < r; ++s) { if (n = e.charCodeAt(s), n > 55295 && n < 57344) { if (!i) { if (n > 56319) { (t -= 3) > -1 && o.push(239, 191, 189); continue } if (s + 1 === r) { (t -= 3) > -1 && o.push(239, 191, 189); continue } i = n; continue } if (n < 56320) { (t -= 3) > -1 && o.push(239, 191, 189), i = n; continue } n = 65536 + (i - 55296 << 10 | n - 56320) } else i && (t -= 3) > -1 && o.push(239, 191, 189); if (i = null, n < 128) { if ((t -= 1) < 0) break; o.push(n) } else if (n < 2048) { if ((t -= 2) < 0) break; o.push(n >> 6 | 192, 63 & n | 128) } else if (n < 65536) { if ((t -= 3) < 0) break; o.push(n >> 12 | 224, n >> 6 & 63 | 128, 63 & n | 128) } else { if (!(n < 1114112)) throw new Error("Invalid code point"); if ((t -= 4) < 0) break; o.push(n >> 18 | 240, n >> 12 & 63 | 128, n >> 6 & 63 | 128, 63 & n | 128) } } return o } function V(e) { return r.toByteArray(function (e) { if ((e = (e = e.split("=")[0]).trim().replace(H, "")).length < 2) return ""; for (; e.length % 4 !== 0;)e += "="; return e }(e)) } function K(e, t, n, r) { let i; for (i = 0; i < r && !(i + n >= t.length || i >= e.length); ++i)t[i + n] = e[i]; return i } function Y(e, t) { return e instanceof t || null != e && null != e.constructor && null != e.constructor.name && e.constructor.name === t.name } function Z(e) { return e !== e } const X = function () { const e = "0123456789abcdef", t = new Array(256); for (let n = 0; n < 16; ++n) { const r = 16 * n; for (let i = 0; i < 16; ++i)t[r + i] = e[n] + e[i] } return t }(); function J(e) { return "undefined" === typeof BigInt ? Q : e } function Q() { throw new Error("BigInt not supported") } }, 86010: function (e, t, n) { "use strict"; function r(e) { var t, n, i = ""; if ("string" == typeof e || "number" == typeof e) i += e; else if ("object" == typeof e) if (Array.isArray(e)) for (t = 0; t < e.length; t++)e[t] && (n = r(e[t])) && (i && (i += " "), i += n); else for (t in e) e[t] && (i && (i += " "), i += t); return i } function i() { for (var e, t, n = 0, i = ""; n < arguments.length;)(e = arguments[n++]) && (t = r(e)) && (i && (i += " "), i += t); return i } n.r(t), n.d(t, { clsx: function () { return i } }), t.default = i }, 54098: function (e, t) { var n = "undefined" !== typeof self ? self : this, r = function () { function e() { this.fetch = !1, this.DOMException = n.DOMException } return e.prototype = n, new e }(); !function (e) { !function (t) { var n = "URLSearchParams" in e, r = "Symbol" in e && "iterator" in Symbol, i = "FileReader" in e && "Blob" in e && function () { try { return new Blob, !0 } catch (e) { return !1 } }(), o = "FormData" in e, s = "ArrayBuffer" in e; if (s) var a = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"], c = ArrayBuffer.isView || function (e) { return e && a.indexOf(Object.prototype.toString.call(e)) > -1 }; function l(e) { if ("string" !== typeof e && (e = String(e)), /[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e)) throw new TypeError("Invalid character in header field name"); return e.toLowerCase() } function u(e) { return "string" !== typeof e && (e = String(e)), e } function d(e) { var t = { next: function () { var t = e.shift(); return { done: void 0 === t, value: t } } }; return r && (t[Symbol.iterator] = function () { return t }), t } function h(e) { this.map = {}, e instanceof h ? e.forEach((function (e, t) { this.append(t, e) }), this) : Array.isArray(e) ? e.forEach((function (e) { this.append(e[0], e[1]) }), this) : e && Object.getOwnPropertyNames(e).forEach((function (t) { this.append(t, e[t]) }), this) } function f(e) { if (e.bodyUsed) return Promise.reject(new TypeError("Already read")); e.bodyUsed = !0 } function p(e) { return new Promise((function (t, n) { e.onload = function () { t(e.result) }, e.onerror = function () { n(e.error) } })) } function m(e) { var t = new FileReader, n = p(t); return t.readAsArrayBuffer(e), n } function g(e) { if (e.slice) return e.slice(0); var t = new Uint8Array(e.byteLength); return t.set(new Uint8Array(e)), t.buffer } function y() { return this.bodyUsed = !1, this._initBody = function (e) { var t; this._bodyInit = e, e ? "string" === typeof e ? this._bodyText = e : i && Blob.prototype.isPrototypeOf(e) ? this._bodyBlob = e : o && FormData.prototype.isPrototypeOf(e) ? this._bodyFormData = e : n && URLSearchParams.prototype.isPrototypeOf(e) ? this._bodyText = e.toString() : s && i && ((t = e) && DataView.prototype.isPrototypeOf(t)) ? (this._bodyArrayBuffer = g(e.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer])) : s && (ArrayBuffer.prototype.isPrototypeOf(e) || c(e)) ? this._bodyArrayBuffer = g(e) : this._bodyText = e = Object.prototype.toString.call(e) : this._bodyText = "", this.headers.get("content-type") || ("string" === typeof e ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : n && URLSearchParams.prototype.isPrototypeOf(e) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8")) }, i && (this.blob = function () { var e = f(this); if (e) return e; if (this._bodyBlob) return Promise.resolve(this._bodyBlob); if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this._bodyArrayBuffer])); if (this._bodyFormData) throw new Error("could not read FormData body as blob"); return Promise.resolve(new Blob([this._bodyText])) }, this.arrayBuffer = function () { return this._bodyArrayBuffer ? f(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(m) }), this.text = function () { var e = f(this); if (e) return e; if (this._bodyBlob) return function (e) { var t = new FileReader, n = p(t); return t.readAsText(e), n }(this._bodyBlob); if (this._bodyArrayBuffer) return Promise.resolve(function (e) { for (var t = new Uint8Array(e), n = new Array(t.length), r = 0; r < t.length; r++)n[r] = String.fromCharCode(t[r]); return n.join("") }(this._bodyArrayBuffer)); if (this._bodyFormData) throw new Error("could not read FormData body as text"); return Promise.resolve(this._bodyText) }, o && (this.formData = function () { return this.text().then(w) }), this.json = function () { return this.text().then(JSON.parse) }, this } h.prototype.append = function (e, t) { e = l(e), t = u(t); var n = this.map[e]; this.map[e] = n ? n + ", " + t : t }, h.prototype.delete = function (e) { delete this.map[l(e)] }, h.prototype.get = function (e) { return e = l(e), this.has(e) ? this.map[e] : null }, h.prototype.has = function (e) { return this.map.hasOwnProperty(l(e)) }, h.prototype.set = function (e, t) { this.map[l(e)] = u(t) }, h.prototype.forEach = function (e, t) { for (var n in this.map) this.map.hasOwnProperty(n) && e.call(t, this.map[n], n, this) }, h.prototype.keys = function () { var e = []; return this.forEach((function (t, n) { e.push(n) })), d(e) }, h.prototype.values = function () { var e = []; return this.forEach((function (t) { e.push(t) })), d(e) }, h.prototype.entries = function () { var e = []; return this.forEach((function (t, n) { e.push([n, t]) })), d(e) }, r && (h.prototype[Symbol.iterator] = h.prototype.entries); var b = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"]; function v(e, t) { var n = (t = t || {}).body; if (e instanceof v) { if (e.bodyUsed) throw new TypeError("Already read"); this.url = e.url, this.credentials = e.credentials, t.headers || (this.headers = new h(e.headers)), this.method = e.method, this.mode = e.mode, this.signal = e.signal, n || null == e._bodyInit || (n = e._bodyInit, e.bodyUsed = !0) } else this.url = String(e); if (this.credentials = t.credentials || this.credentials || "same-origin", !t.headers && this.headers || (this.headers = new h(t.headers)), this.method = function (e) { var t = e.toUpperCase(); return b.indexOf(t) > -1 ? t : e }(t.method || this.method || "GET"), this.mode = t.mode || this.mode || null, this.signal = t.signal || this.signal, this.referrer = null, ("GET" === this.method || "HEAD" === this.method) && n) throw new TypeError("Body not allowed for GET or HEAD requests"); this._initBody(n) } function w(e) { var t = new FormData; return e.trim().split("&").forEach((function (e) { if (e) { var n = e.split("="), r = n.shift().replace(/\+/g, " "), i = n.join("=").replace(/\+/g, " "); t.append(decodeURIComponent(r), decodeURIComponent(i)) } })), t } function E(e) { var t = new h; return e.replace(/\r?\n[\t ]+/g, " ").split(/\r?\n/).forEach((function (e) { var n = e.split(":"), r = n.shift().trim(); if (r) { var i = n.join(":").trim(); t.append(r, i) } })), t } function x(e, t) { t || (t = {}), this.type = "default", this.status = void 0 === t.status ? 200 : t.status, this.ok = this.status >= 200 && this.status < 300, this.statusText = "statusText" in t ? t.statusText : "OK", this.headers = new h(t.headers), this.url = t.url || "", this._initBody(e) } v.prototype.clone = function () { return new v(this, { body: this._bodyInit }) }, y.call(v.prototype), y.call(x.prototype), x.prototype.clone = function () { return new x(this._bodyInit, { status: this.status, statusText: this.statusText, headers: new h(this.headers), url: this.url }) }, x.error = function () { var e = new x(null, { status: 0, statusText: "" }); return e.type = "error", e }; var _ = [301, 302, 303, 307, 308]; x.redirect = function (e, t) { if (-1 === _.indexOf(t)) throw new RangeError("Invalid status code"); return new x(null, { status: t, headers: { location: e } }) }, t.DOMException = e.DOMException; try { new t.DOMException } catch (A) { t.DOMException = function (e, t) { this.message = e, this.name = t; var n = Error(e); this.stack = n.stack }, t.DOMException.prototype = Object.create(Error.prototype), t.DOMException.prototype.constructor = t.DOMException } function C(e, n) { return new Promise((function (r, o) { var s = new v(e, n); if (s.signal && s.signal.aborted) return o(new t.DOMException("Aborted", "AbortError")); var a = new XMLHttpRequest; function c() { a.abort() } a.onload = function () { var e = { status: a.status, statusText: a.statusText, headers: E(a.getAllResponseHeaders() || "") }; e.url = "responseURL" in a ? a.responseURL : e.headers.get("X-Request-URL"); var t = "response" in a ? a.response : a.responseText; r(new x(t, e)) }, a.onerror = function () { o(new TypeError("Network request failed")) }, a.ontimeout = function () { o(new TypeError("Network request failed")) }, a.onabort = function () { o(new t.DOMException("Aborted", "AbortError")) }, a.open(s.method, s.url, !0), "include" === s.credentials ? a.withCredentials = !0 : "omit" === s.credentials && (a.withCredentials = !1), "responseType" in a && i && (a.responseType = "blob"), s.headers.forEach((function (e, t) { a.setRequestHeader(t, e) })), s.signal && (s.signal.addEventListener("abort", c), a.onreadystatechange = function () { 4 === a.readyState && s.signal.removeEventListener("abort", c) }), a.send("undefined" === typeof s._bodyInit ? null : s._bodyInit) })) } C.polyfill = !0, e.fetch || (e.fetch = C, e.Headers = h, e.Request = v, e.Response = x), t.Headers = h, t.Request = v, t.Response = x, t.fetch = C, Object.defineProperty(t, "__esModule", { value: !0 }) }({}) }(r), r.fetch.ponyfill = !0, delete r.fetch.polyfill; var i = r; (t = i.fetch).default = i.fetch, t.fetch = i.fetch, t.Headers = i.Headers, t.Request = i.Request, t.Response = i.Response, e.exports = t }, 44020: function (e) { "use strict"; var t = "%[a-f0-9]{2}", n = new RegExp("(" + t + ")|([^%]+?)", "gi"), r = new RegExp("(" + t + ")+", "gi"); function i(e, t) { try { return [decodeURIComponent(e.join(""))] } catch (o) { } if (1 === e.length) return e; t = t || 1; var n = e.slice(0, t), r = e.slice(t); return Array.prototype.concat.call([], i(n), i(r)) } function o(e) { try { return decodeURIComponent(e) } catch (o) { for (var t = e.match(n) || [], r = 1; r < t.length; r++)t = (e = i(t, r).join("")).match(n) || []; return e } } e.exports = function (e) { if ("string" !== typeof e) throw new TypeError("Expected `encodedURI` to be of type `string`, got `" + typeof e + "`"); try { return e = e.replace(/\+/g, " "), decodeURIComponent(e) } catch (t) { return function (e) { for (var n = { "%FE%FF": "\ufffd\ufffd", "%FF%FE": "\ufffd\ufffd" }, i = r.exec(e); i;) { try { n[i[0]] = decodeURIComponent(i[0]) } catch (t) { var s = o(i[0]); s !== i[0] && (n[i[0]] = s) } i = r.exec(e) } n["%C2"] = "\ufffd"; for (var a = Object.keys(n), c = 0; c < a.length; c++) { var l = a[c]; e = e.replace(new RegExp(l, "g"), n[l]) } return e }(e) } } }, 65987: function (e) { "use strict"; var t = { single_source_shortest_paths: function (e, n, r) { var i = {}, o = {}; o[n] = 0; var s, a, c, l, u, d, h, f = t.PriorityQueue.make(); for (f.push(n, 0); !f.empty();)for (c in a = (s = f.pop()).value, l = s.cost, u = e[a] || {}) u.hasOwnProperty(c) && (d = l + u[c], h = o[c], ("undefined" === typeof o[c] || h > d) && (o[c] = d, f.push(c, d), i[c] = a)); if ("undefined" !== typeof r && "undefined" === typeof o[r]) { var p = ["Could not find a path from ", n, " to ", r, "."].join(""); throw new Error(p) } return i }, extract_shortest_path_from_predecessor_list: function (e, t) { for (var n = [], r = t; r;)n.push(r), e[r], r = e[r]; return n.reverse(), n }, find_path: function (e, n, r) { var i = t.single_source_shortest_paths(e, n, r); return t.extract_shortest_path_from_predecessor_list(i, r) }, PriorityQueue: { make: function (e) { var n, r = t.PriorityQueue, i = {}; for (n in e = e || {}, r) r.hasOwnProperty(n) && (i[n] = r[n]); return i.queue = [], i.sorter = e.sorter || r.default_sorter, i }, default_sorter: function (e, t) { return e.cost - t.cost }, push: function (e, t) { var n = { value: e, cost: t }; this.queue.push(n), this.queue.sort(this.sorter) }, pop: function () { return this.queue.shift() }, empty: function () { return 0 === this.queue.length } } }; e.exports = t }, 17187: function (e) { "use strict"; var t, n = "object" === typeof Reflect ? Reflect : null, r = n && "function" === typeof n.apply ? n.apply : function (e, t, n) { return Function.prototype.apply.call(e, t, n) }; t = n && "function" === typeof n.ownKeys ? n.ownKeys : Object.getOwnPropertySymbols ? function (e) { return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)) } : function (e) { return Object.getOwnPropertyNames(e) }; var i = Number.isNaN || function (e) { return e !== e }; function o() { o.init.call(this) } e.exports = o, e.exports.once = function (e, t) { return new Promise((function (n, r) { function i(n) { e.removeListener(t, o), r(n) } function o() { "function" === typeof e.removeListener && e.removeListener("error", i), n([].slice.call(arguments)) } m(e, t, o, { once: !0 }), "error" !== t && function (e, t, n) { "function" === typeof e.on && m(e, "error", t, n) }(e, i, { once: !0 }) })) }, o.EventEmitter = o, o.prototype._events = void 0, o.prototype._eventsCount = 0, o.prototype._maxListeners = void 0; var s = 10; function a(e) { if ("function" !== typeof e) throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof e) } function c(e) { return void 0 === e._maxListeners ? o.defaultMaxListeners : e._maxListeners } function l(e, t, n, r) { var i, o, s, l; if (a(n), void 0 === (o = e._events) ? (o = e._events = Object.create(null), e._eventsCount = 0) : (void 0 !== o.newListener && (e.emit("newListener", t, n.listener ? n.listener : n), o = e._events), s = o[t]), void 0 === s) s = o[t] = n, ++e._eventsCount; else if ("function" === typeof s ? s = o[t] = r ? [n, s] : [s, n] : r ? s.unshift(n) : s.push(n), (i = c(e)) > 0 && s.length > i && !s.warned) { s.warned = !0; var u = new Error("Possible EventEmitter memory leak detected. " + s.length + " " + String(t) + " listeners added. Use emitter.setMaxListeners() to increase limit"); u.name = "MaxListenersExceededWarning", u.emitter = e, u.type = t, u.count = s.length, l = u, console && console.warn && console.warn(l) } return e } function u() { if (!this.fired) return this.target.removeListener(this.type, this.wrapFn), this.fired = !0, 0 === arguments.length ? this.listener.call(this.target) : this.listener.apply(this.target, arguments) } function d(e, t, n) { var r = { fired: !1, wrapFn: void 0, target: e, type: t, listener: n }, i = u.bind(r); return i.listener = n, r.wrapFn = i, i } function h(e, t, n) { var r = e._events; if (void 0 === r) return []; var i = r[t]; return void 0 === i ? [] : "function" === typeof i ? n ? [i.listener || i] : [i] : n ? function (e) { for (var t = new Array(e.length), n = 0; n < t.length; ++n)t[n] = e[n].listener || e[n]; return t }(i) : p(i, i.length) } function f(e) { var t = this._events; if (void 0 !== t) { var n = t[e]; if ("function" === typeof n) return 1; if (void 0 !== n) return n.length } return 0 } function p(e, t) { for (var n = new Array(t), r = 0; r < t; ++r)n[r] = e[r]; return n } function m(e, t, n, r) { if ("function" === typeof e.on) r.once ? e.once(t, n) : e.on(t, n); else { if ("function" !== typeof e.addEventListener) throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof e); e.addEventListener(t, (function i(o) { r.once && e.removeEventListener(t, i), n(o) })) } } Object.defineProperty(o, "defaultMaxListeners", { enumerable: !0, get: function () { return s }, set: function (e) { if ("number" !== typeof e || e < 0 || i(e)) throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + e + "."); s = e } }), o.init = function () { void 0 !== this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0 }, o.prototype.setMaxListeners = function (e) { if ("number" !== typeof e || e < 0 || i(e)) throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + e + "."); return this._maxListeners = e, this }, o.prototype.getMaxListeners = function () { return c(this) }, o.prototype.emit = function (e) { for (var t = [], n = 1; n < arguments.length; n++)t.push(arguments[n]); var i = "error" === e, o = this._events; if (void 0 !== o) i = i && void 0 === o.error; else if (!i) return !1; if (i) { var s; if (t.length > 0 && (s = t[0]), s instanceof Error) throw s; var a = new Error("Unhandled error." + (s ? " (" + s.message + ")" : "")); throw a.context = s, a } var c = o[e]; if (void 0 === c) return !1; if ("function" === typeof c) r(c, this, t); else { var l = c.length, u = p(c, l); for (n = 0; n < l; ++n)r(u[n], this, t) } return !0 }, o.prototype.addListener = function (e, t) { return l(this, e, t, !1) }, o.prototype.on = o.prototype.addListener, o.prototype.prependListener = function (e, t) { return l(this, e, t, !0) }, o.prototype.once = function (e, t) { return a(t), this.on(e, d(this, e, t)), this }, o.prototype.prependOnceListener = function (e, t) { return a(t), this.prependListener(e, d(this, e, t)), this }, o.prototype.removeListener = function (e, t) { var n, r, i, o, s; if (a(t), void 0 === (r = this._events)) return this; if (void 0 === (n = r[e])) return this; if (n === t || n.listener === t) 0 === --this._eventsCount ? this._events = Object.create(null) : (delete r[e], r.removeListener && this.emit("removeListener", e, n.listener || t)); else if ("function" !== typeof n) { for (i = -1, o = n.length - 1; o >= 0; o--)if (n[o] === t || n[o].listener === t) { s = n[o].listener, i = o; break } if (i < 0) return this; 0 === i ? n.shift() : function (e, t) { for (; t + 1 < e.length; t++)e[t] = e[t + 1]; e.pop() }(n, i), 1 === n.length && (r[e] = n[0]), void 0 !== r.removeListener && this.emit("removeListener", e, s || t) } return this }, o.prototype.off = o.prototype.removeListener, o.prototype.removeAllListeners = function (e) { var t, n, r; if (void 0 === (n = this._events)) return this; if (void 0 === n.removeListener) return 0 === arguments.length ? (this._events = Object.create(null), this._eventsCount = 0) : void 0 !== n[e] && (0 === --this._eventsCount ? this._events = Object.create(null) : delete n[e]), this; if (0 === arguments.length) { var i, o = Object.keys(n); for (r = 0; r < o.length; ++r)"removeListener" !== (i = o[r]) && this.removeAllListeners(i); return this.removeAllListeners("removeListener"), this._events = Object.create(null), this._eventsCount = 0, this } if ("function" === typeof (t = n[e])) this.removeListener(e, t); else if (void 0 !== t) for (r = t.length - 1; r >= 0; r--)this.removeListener(e, t[r]); return this }, o.prototype.listeners = function (e) { return h(this, e, !0) }, o.prototype.rawListeners = function (e) { return h(this, e, !1) }, o.listenerCount = function (e, t) { return "function" === typeof e.listenerCount ? e.listenerCount(t) : f.call(e, t) }, o.prototype.listenerCount = f, o.prototype.eventNames = function () { return this._eventsCount > 0 ? t(this._events) : [] } }, 6765: function (e) { "use strict"; var t, n = (t = [{ name: "lowercase", re: /[a-z]/, length: 26 }, { name: "uppercase", re: /[A-Z]/, length: 26 }, { name: "numbers", re: /[0-9]/, length: 10 }, { name: "symbols", re: /[^a-zA-Z0-9]/, length: 33 }], function (e) { return t.reduce((function (t, n) { return t + (n.re.test(e) ? n.length : 0) }), 0) }); e.exports = function (e) { return e ? (t = n(e), r = e.length, Math.round(r * Math.log(t) / Math.LN2)) : 0; var t, r } }, 34139: function (e) { e.exports = function () { "use strict"; function e(e) { return Number.isInteger(e) && e >= 0 } function t(e) { this.name = "ArgumentError", this.message = e } return function (n, r) { if (r = r || {}, "function" !== typeof n) throw new t("fetch must be a function"); if ("object" !== typeof r) throw new t("defaults must be an object"); if (void 0 !== r.retries && !e(r.retries)) throw new t("retries must be a positive integer"); if (void 0 !== r.retryDelay && !e(r.retryDelay) && "function" !== typeof r.retryDelay) throw new t("retryDelay must be a positive integer or a function returning a positive integer"); if (void 0 !== r.retryOn && !Array.isArray(r.retryOn) && "function" !== typeof r.retryOn) throw new t("retryOn property expects an array or function"); var i = { retries: 3, retryDelay: 1e3, retryOn: [] }; return r = Object.assign(i, r), function (i, o) { var s = r.retries, a = r.retryDelay, c = r.retryOn; if (o && void 0 !== o.retries) { if (!e(o.retries)) throw new t("retries must be a positive integer"); s = o.retries } if (o && void 0 !== o.retryDelay) { if (!e(o.retryDelay) && "function" !== typeof o.retryDelay) throw new t("retryDelay must be a positive integer or a function returning a positive integer"); a = o.retryDelay } if (o && o.retryOn) { if (!Array.isArray(o.retryOn) && "function" !== typeof o.retryOn) throw new t("retryOn property expects an array or function"); c = o.retryOn } return new Promise((function (e, t) { var r = function (r) { var a = "undefined" !== typeof Request && i instanceof Request ? i.clone() : i; n(a, o).then((function (n) { if (Array.isArray(c) && -1 === c.indexOf(n.status)) e(n); else if ("function" === typeof c) try { return Promise.resolve(c(r, null, n)).then((function (t) { t ? l(r, null, n) : e(n) })).catch(t) } catch (i) { t(i) } else r < s ? l(r, null, n) : e(n) })).catch((function (e) { if ("function" === typeof c) try { Promise.resolve(c(r, e, null)).then((function (n) { n ? l(r, e, null) : t(e) })).catch((function (e) { t(e) })) } catch (e) { t(e) } else r < s ? l(r, e, null) : t(e) })) }; function l(e, t, n) { var i = "function" === typeof a ? a(e, t, n) : a; setTimeout((function () { r(++e) }), i) } r(0) })) } } }() }, 92806: function (e) { "use strict"; e.exports = function (e, t) { for (var n = {}, r = Object.keys(e), i = Array.isArray(t), o = 0; o < r.length; o++) { var s = r[o], a = e[s]; (i ? -1 !== t.indexOf(s) : t(s, a, e)) && (n[s] = a) } return n } }, 33715: function (e, t, n) { var r = t; r.utils = n(26436), r.common = n(95772), r.sha = n(89041), r.ripemd = n(12949), r.hmac = n(52344), r.sha1 = r.sha.sha1, r.sha256 = r.sha.sha256, r.sha224 = r.sha.sha224, r.sha384 = r.sha.sha384, r.sha512 = r.sha.sha512, r.ripemd160 = r.ripemd.ripemd160 }, 95772: function (e, t, n) { "use strict"; var r = n(26436), i = n(79746); function o() { this.pending = null, this.pendingTotal = 0, this.blockSize = this.constructor.blockSize, this.outSize = this.constructor.outSize, this.hmacStrength = this.constructor.hmacStrength, this.padLength = this.constructor.padLength / 8, this.endian = "big", this._delta8 = this.blockSize / 8, this._delta32 = this.blockSize / 32 } t.BlockHash = o, o.prototype.update = function (e, t) { if (e = r.toArray(e, t), this.pending ? this.pending = this.pending.concat(e) : this.pending = e, this.pendingTotal += e.length, this.pending.length >= this._delta8) { var n = (e = this.pending).length % this._delta8; this.pending = e.slice(e.length - n, e.length), 0 === this.pending.length && (this.pending = null), e = r.join32(e, 0, e.length - n, this.endian); for (var i = 0; i < e.length; i += this._delta32)this._update(e, i, i + this._delta32) } return this }, o.prototype.digest = function (e) { return this.update(this._pad()), i(null === this.pending), this._digest(e) }, o.prototype._pad = function () { var e = this.pendingTotal, t = this._delta8, n = t - (e + this.padLength) % t, r = new Array(n + this.padLength); r[0] = 128; for (var i = 1; i < n; i++)r[i] = 0; if (e <<= 3, "big" === this.endian) { for (var o = 8; o < this.padLength; o++)r[i++] = 0; r[i++] = 0, r[i++] = 0, r[i++] = 0, r[i++] = 0, r[i++] = e >>> 24 & 255, r[i++] = e >>> 16 & 255, r[i++] = e >>> 8 & 255, r[i++] = 255 & e } else for (r[i++] = 255 & e, r[i++] = e >>> 8 & 255, r[i++] = e >>> 16 & 255, r[i++] = e >>> 24 & 255, r[i++] = 0, r[i++] = 0, r[i++] = 0, r[i++] = 0, o = 8; o < this.padLength; o++)r[i++] = 0; return r } }, 52344: function (e, t, n) { "use strict"; var r = n(26436), i = n(79746); function o(e, t, n) { if (!(this instanceof o)) return new o(e, t, n); this.Hash = e, this.blockSize = e.blockSize / 8, this.outSize = e.outSize / 8, this.inner = null, this.outer = null, this._init(r.toArray(t, n)) } e.exports = o, o.prototype._init = function (e) { e.length > this.blockSize && (e = (new this.Hash).update(e).digest()), i(e.length <= this.blockSize); for (var t = e.length; t < this.blockSize; t++)e.push(0); for (t = 0; t < e.length; t++)e[t] ^= 54; for (this.inner = (new this.Hash).update(e), t = 0; t < e.length; t++)e[t] ^= 106; this.outer = (new this.Hash).update(e) }, o.prototype.update = function (e, t) { return this.inner.update(e, t), this }, o.prototype.digest = function (e) { return this.outer.update(this.inner.digest()), this.outer.digest(e) } }, 12949: function (e, t, n) { "use strict"; var r = n(26436), i = n(95772), o = r.rotl32, s = r.sum32, a = r.sum32_3, c = r.sum32_4, l = i.BlockHash; function u() { if (!(this instanceof u)) return new u; l.call(this), this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520], this.endian = "little" } function d(e, t, n, r) { return e <= 15 ? t ^ n ^ r : e <= 31 ? t & n | ~t & r : e <= 47 ? (t | ~n) ^ r : e <= 63 ? t & r | n & ~r : t ^ (n | ~r) } function h(e) { return e <= 15 ? 0 : e <= 31 ? 1518500249 : e <= 47 ? 1859775393 : e <= 63 ? 2400959708 : 2840853838 } function f(e) { return e <= 15 ? 1352829926 : e <= 31 ? 1548603684 : e <= 47 ? 1836072691 : e <= 63 ? 2053994217 : 0 } r.inherits(u, l), t.ripemd160 = u, u.blockSize = 512, u.outSize = 160, u.hmacStrength = 192, u.padLength = 64, u.prototype._update = function (e, t) { for (var n = this.h[0], r = this.h[1], i = this.h[2], l = this.h[3], u = this.h[4], b = n, v = r, w = i, E = l, x = u, _ = 0; _ < 80; _++) { var C = s(o(c(n, d(_, r, i, l), e[p[_] + t], h(_)), g[_]), u); n = u, u = l, l = o(i, 10), i = r, r = C, C = s(o(c(b, d(79 - _, v, w, E), e[m[_] + t], f(_)), y[_]), x), b = x, x = E, E = o(w, 10), w = v, v = C } C = a(this.h[1], i, E), this.h[1] = a(this.h[2], l, x), this.h[2] = a(this.h[3], u, b), this.h[3] = a(this.h[4], n, v), this.h[4] = a(this.h[0], r, w), this.h[0] = C }, u.prototype._digest = function (e) { return "hex" === e ? r.toHex32(this.h, "little") : r.split32(this.h, "little") }; var p = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13], m = [5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11], g = [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6], y = [8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11] }, 89041: function (e, t, n) { "use strict"; t.sha1 = n(84761), t.sha224 = n(10799), t.sha256 = n(89344), t.sha384 = n(80772), t.sha512 = n(45900) }, 84761: function (e, t, n) { "use strict"; var r = n(26436), i = n(95772), o = n(37038), s = r.rotl32, a = r.sum32, c = r.sum32_5, l = o.ft_1, u = i.BlockHash, d = [1518500249, 1859775393, 2400959708, 3395469782]; function h() { if (!(this instanceof h)) return new h; u.call(this), this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520], this.W = new Array(80) } r.inherits(h, u), e.exports = h, h.blockSize = 512, h.outSize = 160, h.hmacStrength = 80, h.padLength = 64, h.prototype._update = function (e, t) { for (var n = this.W, r = 0; r < 16; r++)n[r] = e[t + r]; for (; r < n.length; r++)n[r] = s(n[r - 3] ^ n[r - 8] ^ n[r - 14] ^ n[r - 16], 1); var i = this.h[0], o = this.h[1], u = this.h[2], h = this.h[3], f = this.h[4]; for (r = 0; r < n.length; r++) { var p = ~~(r / 20), m = c(s(i, 5), l(p, o, u, h), f, n[r], d[p]); f = h, h = u, u = s(o, 30), o = i, i = m } this.h[0] = a(this.h[0], i), this.h[1] = a(this.h[1], o), this.h[2] = a(this.h[2], u), this.h[3] = a(this.h[3], h), this.h[4] = a(this.h[4], f) }, h.prototype._digest = function (e) { return "hex" === e ? r.toHex32(this.h, "big") : r.split32(this.h, "big") } }, 10799: function (e, t, n) { "use strict"; var r = n(26436), i = n(89344); function o() { if (!(this instanceof o)) return new o; i.call(this), this.h = [3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428] } r.inherits(o, i), e.exports = o, o.blockSize = 512, o.outSize = 224, o.hmacStrength = 192, o.padLength = 64, o.prototype._digest = function (e) { return "hex" === e ? r.toHex32(this.h.slice(0, 7), "big") : r.split32(this.h.slice(0, 7), "big") } }, 89344: function (e, t, n) { "use strict"; var r = n(26436), i = n(95772), o = n(37038), s = n(79746), a = r.sum32, c = r.sum32_4, l = r.sum32_5, u = o.ch32, d = o.maj32, h = o.s0_256, f = o.s1_256, p = o.g0_256, m = o.g1_256, g = i.BlockHash, y = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298]; function b() { if (!(this instanceof b)) return new b; g.call(this), this.h = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225], this.k = y, this.W = new Array(64) } r.inherits(b, g), e.exports = b, b.blockSize = 512, b.outSize = 256, b.hmacStrength = 192, b.padLength = 64, b.prototype._update = function (e, t) { for (var n = this.W, r = 0; r < 16; r++)n[r] = e[t + r]; for (; r < n.length; r++)n[r] = c(m(n[r - 2]), n[r - 7], p(n[r - 15]), n[r - 16]); var i = this.h[0], o = this.h[1], g = this.h[2], y = this.h[3], b = this.h[4], v = this.h[5], w = this.h[6], E = this.h[7]; for (s(this.k.length === n.length), r = 0; r < n.length; r++) { var x = l(E, f(b), u(b, v, w), this.k[r], n[r]), _ = a(h(i), d(i, o, g)); E = w, w = v, v = b, b = a(y, x), y = g, g = o, o = i, i = a(x, _) } this.h[0] = a(this.h[0], i), this.h[1] = a(this.h[1], o), this.h[2] = a(this.h[2], g), this.h[3] = a(this.h[3], y), this.h[4] = a(this.h[4], b), this.h[5] = a(this.h[5], v), this.h[6] = a(this.h[6], w), this.h[7] = a(this.h[7], E) }, b.prototype._digest = function (e) { return "hex" === e ? r.toHex32(this.h, "big") : r.split32(this.h, "big") } }, 80772: function (e, t, n) { "use strict"; var r = n(26436), i = n(45900); function o() { if (!(this instanceof o)) return new o; i.call(this), this.h = [3418070365, 3238371032, 1654270250, 914150663, 2438529370, 812702999, 355462360, 4144912697, 1731405415, 4290775857, 2394180231, 1750603025, 3675008525, 1694076839, 1203062813, 3204075428] } r.inherits(o, i), e.exports = o, o.blockSize = 1024, o.outSize = 384, o.hmacStrength = 192, o.padLength = 128, o.prototype._digest = function (e) { return "hex" === e ? r.toHex32(this.h.slice(0, 12), "big") : r.split32(this.h.slice(0, 12), "big") } }, 45900: function (e, t, n) { "use strict"; var r = n(26436), i = n(95772), o = n(79746), s = r.rotr64_hi, a = r.rotr64_lo, c = r.shr64_hi, l = r.shr64_lo, u = r.sum64, d = r.sum64_hi, h = r.sum64_lo, f = r.sum64_4_hi, p = r.sum64_4_lo, m = r.sum64_5_hi, g = r.sum64_5_lo, y = i.BlockHash, b = [1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399, 3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265, 2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901, 1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879, 3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823, 1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273, 3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012, 2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044, 2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573, 3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711, 3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554, 174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315, 685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100, 1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866, 1607167915, 987167468, 1816402316, 1246189591]; function v() { if (!(this instanceof v)) return new v; y.call(this), this.h = [1779033703, 4089235720, 3144134277, 2227873595, 1013904242, 4271175723, 2773480762, 1595750129, 1359893119, 2917565137, 2600822924, 725511199, 528734635, 4215389547, 1541459225, 327033209], this.k = b, this.W = new Array(160) } function w(e, t, n, r, i) { var o = e & n ^ ~e & i; return o < 0 && (o += 4294967296), o } function E(e, t, n, r, i, o) { var s = t & r ^ ~t & o; return s < 0 && (s += 4294967296), s } function x(e, t, n, r, i) { var o = e & n ^ e & i ^ n & i; return o < 0 && (o += 4294967296), o } function _(e, t, n, r, i, o) { var s = t & r ^ t & o ^ r & o; return s < 0 && (s += 4294967296), s } function C(e, t) { var n = s(e, t, 28) ^ s(t, e, 2) ^ s(t, e, 7); return n < 0 && (n += 4294967296), n } function A(e, t) { var n = a(e, t, 28) ^ a(t, e, 2) ^ a(t, e, 7); return n < 0 && (n += 4294967296), n } function S(e, t) { var n = s(e, t, 14) ^ s(e, t, 18) ^ s(t, e, 9); return n < 0 && (n += 4294967296), n } function k(e, t) { var n = a(e, t, 14) ^ a(e, t, 18) ^ a(t, e, 9); return n < 0 && (n += 4294967296), n } function I(e, t) { var n = s(e, t, 1) ^ s(e, t, 8) ^ c(e, t, 7); return n < 0 && (n += 4294967296), n } function T(e, t) { var n = a(e, t, 1) ^ a(e, t, 8) ^ l(e, t, 7); return n < 0 && (n += 4294967296), n } function N(e, t) { var n = s(e, t, 19) ^ s(t, e, 29) ^ c(e, t, 6); return n < 0 && (n += 4294967296), n } function P(e, t) { var n = a(e, t, 19) ^ a(t, e, 29) ^ l(e, t, 6); return n < 0 && (n += 4294967296), n } r.inherits(v, y), e.exports = v, v.blockSize = 1024, v.outSize = 512, v.hmacStrength = 192, v.padLength = 128, v.prototype._prepareBlock = function (e, t) { for (var n = this.W, r = 0; r < 32; r++)n[r] = e[t + r]; for (; r < n.length; r += 2) { var i = N(n[r - 4], n[r - 3]), o = P(n[r - 4], n[r - 3]), s = n[r - 14], a = n[r - 13], c = I(n[r - 30], n[r - 29]), l = T(n[r - 30], n[r - 29]), u = n[r - 32], d = n[r - 31]; n[r] = f(i, o, s, a, c, l, u, d), n[r + 1] = p(i, o, s, a, c, l, u, d) } }, v.prototype._update = function (e, t) { this._prepareBlock(e, t); var n = this.W, r = this.h[0], i = this.h[1], s = this.h[2], a = this.h[3], c = this.h[4], l = this.h[5], f = this.h[6], p = this.h[7], y = this.h[8], b = this.h[9], v = this.h[10], I = this.h[11], T = this.h[12], N = this.h[13], P = this.h[14], M = this.h[15]; o(this.k.length === n.length); for (var O = 0; O < n.length; O += 2) { var R = P, j = M, $ = S(y, b), L = k(y, b), D = w(y, b, v, I, T), U = E(y, b, v, I, T, N), F = this.k[O], B = this.k[O + 1], W = n[O], z = n[O + 1], q = m(R, j, $, L, D, U, F, B, W, z), H = g(R, j, $, L, D, U, F, B, W, z); R = C(r, i), j = A(r, i), $ = x(r, i, s, a, c), L = _(r, i, s, a, c, l); var G = d(R, j, $, L), V = h(R, j, $, L); P = T, M = N, T = v, N = I, v = y, I = b, y = d(f, p, q, H), b = h(p, p, q, H), f = c, p = l, c = s, l = a, s = r, a = i, r = d(q, H, G, V), i = h(q, H, G, V) } u(this.h, 0, r, i), u(this.h, 2, s, a), u(this.h, 4, c, l), u(this.h, 6, f, p), u(this.h, 8, y, b), u(this.h, 10, v, I), u(this.h, 12, T, N), u(this.h, 14, P, M) }, v.prototype._digest = function (e) { return "hex" === e ? r.toHex32(this.h, "big") : r.split32(this.h, "big") } }, 37038: function (e, t, n) { "use strict"; var r = n(26436).rotr32; function i(e, t, n) { return e & t ^ ~e & n } function o(e, t, n) { return e & t ^ e & n ^ t & n } function s(e, t, n) { return e ^ t ^ n } t.ft_1 = function (e, t, n, r) { return 0 === e ? i(t, n, r) : 1 === e || 3 === e ? s(t, n, r) : 2 === e ? o(t, n, r) : void 0 }, t.ch32 = i, t.maj32 = o, t.p32 = s, t.s0_256 = function (e) { return r(e, 2) ^ r(e, 13) ^ r(e, 22) }, t.s1_256 = function (e) { return r(e, 6) ^ r(e, 11) ^ r(e, 25) }, t.g0_256 = function (e) { return r(e, 7) ^ r(e, 18) ^ e >>> 3 }, t.g1_256 = function (e) { return r(e, 17) ^ r(e, 19) ^ e >>> 10 } }, 26436: function (e, t, n) { "use strict"; var r = n(79746), i = n(35717); function o(e, t) { return 55296 === (64512 & e.charCodeAt(t)) && (!(t < 0 || t + 1 >= e.length) && 56320 === (64512 & e.charCodeAt(t + 1))) } function s(e) { return (e >>> 24 | e >>> 8 & 65280 | e << 8 & 16711680 | (255 & e) << 24) >>> 0 } function a(e) { return 1 === e.length ? "0" + e : e } function c(e) { return 7 === e.length ? "0" + e : 6 === e.length ? "00" + e : 5 === e.length ? "000" + e : 4 === e.length ? "0000" + e : 3 === e.length ? "00000" + e : 2 === e.length ? "000000" + e : 1 === e.length ? "0000000" + e : e } t.inherits = i, t.toArray = function (e, t) { if (Array.isArray(e)) return e.slice(); if (!e) return []; var n = []; if ("string" === typeof e) if (t) { if ("hex" === t) for ((e = e.replace(/[^a-z0-9]+/gi, "")).length % 2 !== 0 && (e = "0" + e), i = 0; i < e.length; i += 2)n.push(parseInt(e[i] + e[i + 1], 16)) } else for (var r = 0, i = 0; i < e.length; i++) { var s = e.charCodeAt(i); s < 128 ? n[r++] = s : s < 2048 ? (n[r++] = s >> 6 | 192, n[r++] = 63 & s | 128) : o(e, i) ? (s = 65536 + ((1023 & s) << 10) + (1023 & e.charCodeAt(++i)), n[r++] = s >> 18 | 240, n[r++] = s >> 12 & 63 | 128, n[r++] = s >> 6 & 63 | 128, n[r++] = 63 & s | 128) : (n[r++] = s >> 12 | 224, n[r++] = s >> 6 & 63 | 128, n[r++] = 63 & s | 128) } else for (i = 0; i < e.length; i++)n[i] = 0 | e[i]; return n }, t.toHex = function (e) { for (var t = "", n = 0; n < e.length; n++)t += a(e[n].toString(16)); return t }, t.htonl = s, t.toHex32 = function (e, t) { for (var n = "", r = 0; r < e.length; r++) { var i = e[r]; "little" === t && (i = s(i)), n += c(i.toString(16)) } return n }, t.zero2 = a, t.zero8 = c, t.join32 = function (e, t, n, i) { var o = n - t; r(o % 4 === 0); for (var s = new Array(o / 4), a = 0, c = t; a < s.length; a++, c += 4) { var l; l = "big" === i ? e[c] << 24 | e[c + 1] << 16 | e[c + 2] << 8 | e[c + 3] : e[c + 3] << 24 | e[c + 2] << 16 | e[c + 1] << 8 | e[c], s[a] = l >>> 0 } return s }, t.split32 = function (e, t) { for (var n = new Array(4 * e.length), r = 0, i = 0; r < e.length; r++, i += 4) { var o = e[r]; "big" === t ? (n[i] = o >>> 24, n[i + 1] = o >>> 16 & 255, n[i + 2] = o >>> 8 & 255, n[i + 3] = 255 & o) : (n[i + 3] = o >>> 24, n[i + 2] = o >>> 16 & 255, n[i + 1] = o >>> 8 & 255, n[i] = 255 & o) } return n }, t.rotr32 = function (e, t) { return e >>> t | e << 32 - t }, t.rotl32 = function (e, t) { return e << t | e >>> 32 - t }, t.sum32 = function (e, t) { return e + t >>> 0 }, t.sum32_3 = function (e, t, n) { return e + t + n >>> 0 }, t.sum32_4 = function (e, t, n, r) { return e + t + n + r >>> 0 }, t.sum32_5 = function (e, t, n, r, i) { return e + t + n + r + i >>> 0 }, t.sum64 = function (e, t, n, r) { var i = e[t], o = r + e[t + 1] >>> 0, s = (o < r ? 1 : 0) + n + i; e[t] = s >>> 0, e[t + 1] = o }, t.sum64_hi = function (e, t, n, r) { return (t + r >>> 0 < t ? 1 : 0) + e + n >>> 0 }, t.sum64_lo = function (e, t, n, r) { return t + r >>> 0 }, t.sum64_4_hi = function (e, t, n, r, i, o, s, a) { var c = 0, l = t; return c += (l = l + r >>> 0) < t ? 1 : 0, c += (l = l + o >>> 0) < o ? 1 : 0, e + n + i + s + (c += (l = l + a >>> 0) < a ? 1 : 0) >>> 0 }, t.sum64_4_lo = function (e, t, n, r, i, o, s, a) { return t + r + o + a >>> 0 }, t.sum64_5_hi = function (e, t, n, r, i, o, s, a, c, l) { var u = 0, d = t; return u += (d = d + r >>> 0) < t ? 1 : 0, u += (d = d + o >>> 0) < o ? 1 : 0, u += (d = d + a >>> 0) < a ? 1 : 0, e + n + i + s + c + (u += (d = d + l >>> 0) < l ? 1 : 0) >>> 0 }, t.sum64_5_lo = function (e, t, n, r, i, o, s, a, c, l) { return t + r + o + a + l >>> 0 }, t.rotr64_hi = function (e, t, n) { return (t << 32 - n | e >>> n) >>> 0 }, t.rotr64_lo = function (e, t, n) { return (e << 32 - n | t >>> n) >>> 0 }, t.shr64_hi = function (e, t, n) { return e >>> n }, t.shr64_lo = function (e, t, n) { return (e << 32 - n | t >>> n) >>> 0 } }, 2156: function (e, t, n) { "use strict"; var r = n(33715), i = n(34504), o = n(79746); function s(e) { if (!(this instanceof s)) return new s(e); this.hash = e.hash, this.predResist = !!e.predResist, this.outLen = this.hash.outSize, this.minEntropy = e.minEntropy || this.hash.hmacStrength, this._reseed = null, this.reseedInterval = null, this.K = null, this.V = null; var t = i.toArray(e.entropy, e.entropyEnc || "hex"), n = i.toArray(e.nonce, e.nonceEnc || "hex"), r = i.toArray(e.pers, e.persEnc || "hex"); o(t.length >= this.minEntropy / 8, "Not enough entropy. Minimum is: " + this.minEntropy + " bits"), this._init(t, n, r) } e.exports = s, s.prototype._init = function (e, t, n) { var r = e.concat(t).concat(n); this.K = new Array(this.outLen / 8), this.V = new Array(this.outLen / 8); for (var i = 0; i < this.V.length; i++)this.K[i] = 0, this.V[i] = 1; this._update(r), this._reseed = 1, this.reseedInterval = 281474976710656 }, s.prototype._hmac = function () { return new r.hmac(this.hash, this.K) }, s.prototype._update = function (e) { var t = this._hmac().update(this.V).update([0]); e && (t = t.update(e)), this.K = t.digest(), this.V = this._hmac().update(this.V).digest(), e && (this.K = this._hmac().update(this.V).update([1]).update(e).digest(), this.V = this._hmac().update(this.V).digest()) }, s.prototype.reseed = function (e, t, n, r) { "string" !== typeof t && (r = n, n = t, t = null), e = i.toArray(e, t), n = i.toArray(n, r), o(e.length >= this.minEntropy / 8, "Not enough entropy. Minimum is: " + this.minEntropy + " bits"), this._update(e.concat(n || [])), this._reseed = 1 }, s.prototype.generate = function (e, t, n, r) { if (this._reseed > this.reseedInterval) throw new Error("Reseed is required"); "string" !== typeof t && (r = n, n = t, t = null), n && (n = i.toArray(n, r || "hex"), this._update(n)); for (var o = []; o.length < e;)this.V = this._hmac().update(this.V).digest(), o = o.concat(this.V); var s = o.slice(0, e); return this._update(n), this._reseed++, i.encode(s, t) } }, 80645: function (e, t) { t.read = function (e, t, n, r, i) { var o, s, a = 8 * i - r - 1, c = (1 << a) - 1, l = c >> 1, u = -7, d = n ? i - 1 : 0, h = n ? -1 : 1, f = e[t + d]; for (d += h, o = f & (1 << -u) - 1, f >>= -u, u += a; u > 0; o = 256 * o + e[t + d], d += h, u -= 8); for (s = o & (1 << -u) - 1, o >>= -u, u += r; u > 0; s = 256 * s + e[t + d], d += h, u -= 8); if (0 === o) o = 1 - l; else { if (o === c) return s ? NaN : 1 / 0 * (f ? -1 : 1); s += Math.pow(2, r), o -= l } return (f ? -1 : 1) * s * Math.pow(2, o - r) }, t.write = function (e, t, n, r, i, o) { var s, a, c, l = 8 * o - i - 1, u = (1 << l) - 1, d = u >> 1, h = 23 === i ? Math.pow(2, -24) - Math.pow(2, -77) : 0, f = r ? 0 : o - 1, p = r ? 1 : -1, m = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0; for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (a = isNaN(t) ? 1 : 0, s = u) : (s = Math.floor(Math.log(t) / Math.LN2), t * (c = Math.pow(2, -s)) < 1 && (s--, c *= 2), (t += s + d >= 1 ? h / c : h * Math.pow(2, 1 - d)) * c >= 2 && (s++, c /= 2), s + d >= u ? (a = 0, s = u) : s + d >= 1 ? (a = (t * c - 1) * Math.pow(2, i), s += d) : (a = t * Math.pow(2, d - 1) * Math.pow(2, i), s = 0)); i >= 8; e[n + f] = 255 & a, f += p, a /= 256, i -= 8); for (s = s << i | a, l += i; l > 0; e[n + f] = 255 & s, f += p, s /= 256, l -= 8); e[n + f - p] |= 128 * m } }, 35717: function (e) { "function" === typeof Object.create ? e.exports = function (e, t) { t && (e.super_ = t, e.prototype = Object.create(t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } })) } : e.exports = function (e, t) { if (t) { e.super_ = t; var n = function () { }; n.prototype = t.prototype, e.prototype = new n, e.prototype.constructor = e } } }, 91094: function (e, t, n) { var r, i = n(34155); !function () { "use strict"; var o = "input is invalid type", s = "object" === typeof window, a = s ? window : {}; a.JS_SHA3_NO_WINDOW && (s = !1); var c = !s && "object" === typeof self; !a.JS_SHA3_NO_NODE_JS && "object" === typeof i && i.versions && i.versions.node ? a = n.g : c && (a = self); var l = !a.JS_SHA3_NO_COMMON_JS && e.exports, u = n.amdO, d = !a.JS_SHA3_NO_ARRAY_BUFFER && "undefined" !== typeof ArrayBuffer, h = "0123456789abcdef".split(""), f = [4, 1024, 262144, 67108864], p = [0, 8, 16, 24], m = [1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0, 2147483649, 0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136, 0, 2147516425, 0, 2147483658, 0, 2147516555, 0, 139, 2147483648, 32905, 2147483648, 32771, 2147483648, 32770, 2147483648, 128, 2147483648, 32778, 0, 2147483658, 2147483648, 2147516545, 2147483648, 32896, 2147483648, 2147483649, 0, 2147516424, 2147483648], g = [224, 256, 384, 512], y = [128, 256], b = ["hex", "buffer", "arrayBuffer", "array", "digest"], v = { 128: 168, 256: 136 }; !a.JS_SHA3_NO_NODE_JS && Array.isArray || (Array.isArray = function (e) { return "[object Array]" === Object.prototype.toString.call(e) }), !d || !a.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW && ArrayBuffer.isView || (ArrayBuffer.isView = function (e) { return "object" === typeof e && e.buffer && e.buffer.constructor === ArrayBuffer }); for (var w = function (e, t, n) { return function (r) { return new j(e, t, e).update(r)[n]() } }, E = function (e, t, n) { return function (r, i) { return new j(e, t, i).update(r)[n]() } }, x = function (e, t, n) { return function (t, r, i, o) { return k["cshake" + e].update(t, r, i, o)[n]() } }, _ = function (e, t, n) { return function (t, r, i, o) { return k["kmac" + e].update(t, r, i, o)[n]() } }, C = function (e, t, n, r) { for (var i = 0; i < b.length; ++i) { var o = b[i]; e[o] = t(n, r, o) } return e }, A = function (e, t) { var n = w(e, t, "hex"); return n.create = function () { return new j(e, t, e) }, n.update = function (e) { return n.create().update(e) }, C(n, w, e, t) }, S = [{ name: "keccak", padding: [1, 256, 65536, 16777216], bits: g, createMethod: A }, { name: "sha3", padding: [6, 1536, 393216, 100663296], bits: g, createMethod: A }, { name: "shake", padding: [31, 7936, 2031616, 520093696], bits: y, createMethod: function (e, t) { var n = E(e, t, "hex"); return n.create = function (n) { return new j(e, t, n) }, n.update = function (e, t) { return n.create(t).update(e) }, C(n, E, e, t) } }, { name: "cshake", padding: f, bits: y, createMethod: function (e, t) { var n = v[e], r = x(e, 0, "hex"); return r.create = function (r, i, o) { return i || o ? new j(e, t, r).bytepad([i, o], n) : k["shake" + e].create(r) }, r.update = function (e, t, n, i) { return r.create(t, n, i).update(e) }, C(r, x, e, t) } }, { name: "kmac", padding: f, bits: y, createMethod: function (e, t) { var n = v[e], r = _(e, 0, "hex"); return r.create = function (r, i, o) { return new $(e, t, i).bytepad(["KMAC", o], n).bytepad([r], n) }, r.update = function (e, t, n, i) { return r.create(e, n, i).update(t) }, C(r, _, e, t) } }], k = {}, I = [], T = 0; T < S.length; ++T)for (var N = S[T], P = N.bits, M = 0; M < P.length; ++M) { var O = N.name + "_" + P[M]; if (I.push(O), k[O] = N.createMethod(P[M], N.padding), "sha3" !== N.name) { var R = N.name + P[M]; I.push(R), k[R] = k[O] } } function j(e, t, n) { this.blocks = [], this.s = [], this.padding = t, this.outputBits = n, this.reset = !0, this.finalized = !1, this.block = 0, this.start = 0, this.blockCount = 1600 - (e << 1) >> 5, this.byteCount = this.blockCount << 2, this.outputBlocks = n >> 5, this.extraBytes = (31 & n) >> 3; for (var r = 0; r < 50; ++r)this.s[r] = 0 } function $(e, t, n) { j.call(this, e, t, n) } j.prototype.update = function (e) { if (this.finalized) throw new Error("finalize already called"); var t, n = typeof e; if ("string" !== n) { if ("object" !== n) throw new Error(o); if (null === e) throw new Error(o); if (d && e.constructor === ArrayBuffer) e = new Uint8Array(e); else if (!Array.isArray(e) && (!d || !ArrayBuffer.isView(e))) throw new Error(o); t = !0 } for (var r, i, s = this.blocks, a = this.byteCount, c = e.length, l = this.blockCount, u = 0, h = this.s; u < c;) { if (this.reset) for (this.reset = !1, s[0] = this.block, r = 1; r < l + 1; ++r)s[r] = 0; if (t) for (r = this.start; u < c && r < a; ++u)s[r >> 2] |= e[u] << p[3 & r++]; else for (r = this.start; u < c && r < a; ++u)(i = e.charCodeAt(u)) < 128 ? s[r >> 2] |= i << p[3 & r++] : i < 2048 ? (s[r >> 2] |= (192 | i >> 6) << p[3 & r++], s[r >> 2] |= (128 | 63 & i) << p[3 & r++]) : i < 55296 || i >= 57344 ? (s[r >> 2] |= (224 | i >> 12) << p[3 & r++], s[r >> 2] |= (128 | i >> 6 & 63) << p[3 & r++], s[r >> 2] |= (128 | 63 & i) << p[3 & r++]) : (i = 65536 + ((1023 & i) << 10 | 1023 & e.charCodeAt(++u)), s[r >> 2] |= (240 | i >> 18) << p[3 & r++], s[r >> 2] |= (128 | i >> 12 & 63) << p[3 & r++], s[r >> 2] |= (128 | i >> 6 & 63) << p[3 & r++], s[r >> 2] |= (128 | 63 & i) << p[3 & r++]); if (this.lastByteIndex = r, r >= a) { for (this.start = r - a, this.block = s[l], r = 0; r < l; ++r)h[r] ^= s[r]; L(h), this.reset = !0 } else this.start = r } return this }, j.prototype.encode = function (e, t) { var n = 255 & e, r = 1, i = [n]; for (n = 255 & (e >>= 8); n > 0;)i.unshift(n), n = 255 & (e >>= 8), ++r; return t ? i.push(r) : i.unshift(r), this.update(i), i.length }, j.prototype.encodeString = function (e) { var t, n = typeof e; if ("string" !== n) { if ("object" !== n) throw new Error(o); if (null === e) throw new Error(o); if (d && e.constructor === ArrayBuffer) e = new Uint8Array(e); else if (!Array.isArray(e) && (!d || !ArrayBuffer.isView(e))) throw new Error(o); t = !0 } var r = 0, i = e.length; if (t) r = i; else for (var s = 0; s < e.length; ++s) { var a = e.charCodeAt(s); a < 128 ? r += 1 : a < 2048 ? r += 2 : a < 55296 || a >= 57344 ? r += 3 : (a = 65536 + ((1023 & a) << 10 | 1023 & e.charCodeAt(++s)), r += 4) } return r += this.encode(8 * r), this.update(e), r }, j.prototype.bytepad = function (e, t) { for (var n = this.encode(t), r = 0; r < e.length; ++r)n += this.encodeString(e[r]); var i = t - n % t, o = []; return o.length = i, this.update(o), this }, j.prototype.finalize = function () { if (!this.finalized) { this.finalized = !0; var e = this.blocks, t = this.lastByteIndex, n = this.blockCount, r = this.s; if (e[t >> 2] |= this.padding[3 & t], this.lastByteIndex === this.byteCount) for (e[0] = e[n], t = 1; t < n + 1; ++t)e[t] = 0; for (e[n - 1] |= 2147483648, t = 0; t < n; ++t)r[t] ^= e[t]; L(r) } }, j.prototype.toString = j.prototype.hex = function () { this.finalize(); for (var e, t = this.blockCount, n = this.s, r = this.outputBlocks, i = this.extraBytes, o = 0, s = 0, a = ""; s < r;) { for (o = 0; o < t && s < r; ++o, ++s)e = n[o], a += h[e >> 4 & 15] + h[15 & e] + h[e >> 12 & 15] + h[e >> 8 & 15] + h[e >> 20 & 15] + h[e >> 16 & 15] + h[e >> 28 & 15] + h[e >> 24 & 15]; s % t === 0 && (L(n), o = 0) } return i && (e = n[o], a += h[e >> 4 & 15] + h[15 & e], i > 1 && (a += h[e >> 12 & 15] + h[e >> 8 & 15]), i > 2 && (a += h[e >> 20 & 15] + h[e >> 16 & 15])), a }, j.prototype.arrayBuffer = function () { this.finalize(); var e, t = this.blockCount, n = this.s, r = this.outputBlocks, i = this.extraBytes, o = 0, s = 0, a = this.outputBits >> 3; e = i ? new ArrayBuffer(r + 1 << 2) : new ArrayBuffer(a); for (var c = new Uint32Array(e); s < r;) { for (o = 0; o < t && s < r; ++o, ++s)c[s] = n[o]; s % t === 0 && L(n) } return i && (c[o] = n[o], e = e.slice(0, a)), e }, j.prototype.buffer = j.prototype.arrayBuffer, j.prototype.digest = j.prototype.array = function () { this.finalize(); for (var e, t, n = this.blockCount, r = this.s, i = this.outputBlocks, o = this.extraBytes, s = 0, a = 0, c = []; a < i;) { for (s = 0; s < n && a < i; ++s, ++a)e = a << 2, t = r[s], c[e] = 255 & t, c[e + 1] = t >> 8 & 255, c[e + 2] = t >> 16 & 255, c[e + 3] = t >> 24 & 255; a % n === 0 && L(r) } return o && (e = a << 2, t = r[s], c[e] = 255 & t, o > 1 && (c[e + 1] = t >> 8 & 255), o > 2 && (c[e + 2] = t >> 16 & 255)), c }, $.prototype = new j, $.prototype.finalize = function () { return this.encode(this.outputBits, !0), j.prototype.finalize.call(this) }; var L = function (e) { var t, n, r, i, o, s, a, c, l, u, d, h, f, p, g, y, b, v, w, E, x, _, C, A, S, k, I, T, N, P, M, O, R, j, $, L, D, U, F, B, W, z, q, H, G, V, K, Y, Z, X, J, Q, ee, te, ne, re, ie, oe, se, ae, ce, le, ue; for (r = 0; r < 48; r += 2)i = e[0] ^ e[10] ^ e[20] ^ e[30] ^ e[40], o = e[1] ^ e[11] ^ e[21] ^ e[31] ^ e[41], s = e[2] ^ e[12] ^ e[22] ^ e[32] ^ e[42], a = e[3] ^ e[13] ^ e[23] ^ e[33] ^ e[43], c = e[4] ^ e[14] ^ e[24] ^ e[34] ^ e[44], l = e[5] ^ e[15] ^ e[25] ^ e[35] ^ e[45], u = e[6] ^ e[16] ^ e[26] ^ e[36] ^ e[46], d = e[7] ^ e[17] ^ e[27] ^ e[37] ^ e[47], t = (h = e[8] ^ e[18] ^ e[28] ^ e[38] ^ e[48]) ^ (s << 1 | a >>> 31), n = (f = e[9] ^ e[19] ^ e[29] ^ e[39] ^ e[49]) ^ (a << 1 | s >>> 31), e[0] ^= t, e[1] ^= n, e[10] ^= t, e[11] ^= n, e[20] ^= t, e[21] ^= n, e[30] ^= t, e[31] ^= n, e[40] ^= t, e[41] ^= n, t = i ^ (c << 1 | l >>> 31), n = o ^ (l << 1 | c >>> 31), e[2] ^= t, e[3] ^= n, e[12] ^= t, e[13] ^= n, e[22] ^= t, e[23] ^= n, e[32] ^= t, e[33] ^= n, e[42] ^= t, e[43] ^= n, t = s ^ (u << 1 | d >>> 31), n = a ^ (d << 1 | u >>> 31), e[4] ^= t, e[5] ^= n, e[14] ^= t, e[15] ^= n, e[24] ^= t, e[25] ^= n, e[34] ^= t, e[35] ^= n, e[44] ^= t, e[45] ^= n, t = c ^ (h << 1 | f >>> 31), n = l ^ (f << 1 | h >>> 31), e[6] ^= t, e[7] ^= n, e[16] ^= t, e[17] ^= n, e[26] ^= t, e[27] ^= n, e[36] ^= t, e[37] ^= n, e[46] ^= t, e[47] ^= n, t = u ^ (i << 1 | o >>> 31), n = d ^ (o << 1 | i >>> 31), e[8] ^= t, e[9] ^= n, e[18] ^= t, e[19] ^= n, e[28] ^= t, e[29] ^= n, e[38] ^= t, e[39] ^= n, e[48] ^= t, e[49] ^= n, p = e[0], g = e[1], V = e[11] << 4 | e[10] >>> 28, K = e[10] << 4 | e[11] >>> 28, T = e[20] << 3 | e[21] >>> 29, N = e[21] << 3 | e[20] >>> 29, ae = e[31] << 9 | e[30] >>> 23, ce = e[30] << 9 | e[31] >>> 23, z = e[40] << 18 | e[41] >>> 14, q = e[41] << 18 | e[40] >>> 14, j = e[2] << 1 | e[3] >>> 31, $ = e[3] << 1 | e[2] >>> 31, y = e[13] << 12 | e[12] >>> 20, b = e[12] << 12 | e[13] >>> 20, Y = e[22] << 10 | e[23] >>> 22, Z = e[23] << 10 | e[22] >>> 22, P = e[33] << 13 | e[32] >>> 19, M = e[32] << 13 | e[33] >>> 19, le = e[42] << 2 | e[43] >>> 30, ue = e[43] << 2 | e[42] >>> 30, te = e[5] << 30 | e[4] >>> 2, ne = e[4] << 30 | e[5] >>> 2, L = e[14] << 6 | e[15] >>> 26, D = e[15] << 6 | e[14] >>> 26, v = e[25] << 11 | e[24] >>> 21, w = e[24] << 11 | e[25] >>> 21, X = e[34] << 15 | e[35] >>> 17, J = e[35] << 15 | e[34] >>> 17, O = e[45] << 29 | e[44] >>> 3, R = e[44] << 29 | e[45] >>> 3, A = e[6] << 28 | e[7] >>> 4, S = e[7] << 28 | e[6] >>> 4, re = e[17] << 23 | e[16] >>> 9, ie = e[16] << 23 | e[17] >>> 9, U = e[26] << 25 | e[27] >>> 7, F = e[27] << 25 | e[26] >>> 7, E = e[36] << 21 | e[37] >>> 11, x = e[37] << 21 | e[36] >>> 11, Q = e[47] << 24 | e[46] >>> 8, ee = e[46] << 24 | e[47] >>> 8, H = e[8] << 27 | e[9] >>> 5, G = e[9] << 27 | e[8] >>> 5, k = e[18] << 20 | e[19] >>> 12, I = e[19] << 20 | e[18] >>> 12, oe = e[29] << 7 | e[28] >>> 25, se = e[28] << 7 | e[29] >>> 25, B = e[38] << 8 | e[39] >>> 24, W = e[39] << 8 | e[38] >>> 24, _ = e[48] << 14 | e[49] >>> 18, C = e[49] << 14 | e[48] >>> 18, e[0] = p ^ ~y & v, e[1] = g ^ ~b & w, e[10] = A ^ ~k & T, e[11] = S ^ ~I & N, e[20] = j ^ ~L & U, e[21] = $ ^ ~D & F, e[30] = H ^ ~V & Y, e[31] = G ^ ~K & Z, e[40] = te ^ ~re & oe, e[41] = ne ^ ~ie & se, e[2] = y ^ ~v & E, e[3] = b ^ ~w & x, e[12] = k ^ ~T & P, e[13] = I ^ ~N & M, e[22] = L ^ ~U & B, e[23] = D ^ ~F & W, e[32] = V ^ ~Y & X, e[33] = K ^ ~Z & J, e[42] = re ^ ~oe & ae, e[43] = ie ^ ~se & ce, e[4] = v ^ ~E & _, e[5] = w ^ ~x & C, e[14] = T ^ ~P & O, e[15] = N ^ ~M & R, e[24] = U ^ ~B & z, e[25] = F ^ ~W & q, e[34] = Y ^ ~X & Q, e[35] = Z ^ ~J & ee, e[44] = oe ^ ~ae & le, e[45] = se ^ ~ce & ue, e[6] = E ^ ~_ & p, e[7] = x ^ ~C & g, e[16] = P ^ ~O & A, e[17] = M ^ ~R & S, e[26] = B ^ ~z & j, e[27] = W ^ ~q & $, e[36] = X ^ ~Q & H, e[37] = J ^ ~ee & G, e[46] = ae ^ ~le & te, e[47] = ce ^ ~ue & ne, e[8] = _ ^ ~p & y, e[9] = C ^ ~g & b, e[18] = O ^ ~A & k, e[19] = R ^ ~S & I, e[28] = z ^ ~j & L, e[29] = q ^ ~$ & D, e[38] = Q ^ ~H & V, e[39] = ee ^ ~G & K, e[48] = le ^ ~te & re, e[49] = ue ^ ~ne & ie, e[0] ^= m[r], e[1] ^= m[r + 1] }; if (l) e.exports = k; else { for (T = 0; T < I.length; ++T)a[I[T]] = k[I[T]]; u && (void 0 === (r = function () { return k }.call(t, n, t, e)) || (e.exports = r)) } }() }, 95811: function (e, t, n) { e.exports = n(26066)(n(79653)) }, 26066: function (e, t, n) { const r = n(37016), i = n(5675); e.exports = function (e) { const t = r(e), n = i(e); return function (e, r) { switch ("string" === typeof e ? e.toLowerCase() : e) { case "keccak224": return new t(1152, 448, null, 224, r); case "keccak256": return new t(1088, 512, null, 256, r); case "keccak384": return new t(832, 768, null, 384, r); case "keccak512": return new t(576, 1024, null, 512, r); case "sha3-224": return new t(1152, 448, 6, 224, r); case "sha3-256": return new t(1088, 512, 6, 256, r); case "sha3-384": return new t(832, 768, 6, 384, r); case "sha3-512": return new t(576, 1024, 6, 512, r); case "shake128": return new n(1344, 256, 31, r); case "shake256": return new n(1088, 512, 31, r); default: throw new Error("Invald algorithm: " + e) } } } }, 37016: function (e, t, n) { var r = n(48764).Buffer; const { Transform: i } = n(88473); e.exports = e => class t extends i { constructor(t, n, r, i, o) { super(o), this._rate = t, this._capacity = n, this._delimitedSuffix = r, this._hashBitLength = i, this._options = o, this._state = new e, this._state.initialize(t, n), this._finalized = !1 } _transform(e, t, n) { let r = null; try { this.update(e, t) } catch (i) { r = i } n(r) } _flush(e) { let t = null; try { this.push(this.digest()) } catch (n) { t = n } e(t) } update(e, t) { if (!r.isBuffer(e) && "string" !== typeof e) throw new TypeError("Data must be a string or a buffer"); if (this._finalized) throw new Error("Digest already called"); return r.isBuffer(e) || (e = r.from(e, t)), this._state.absorb(e), this } digest(e) { if (this._finalized) throw new Error("Digest already called"); this._finalized = !0, this._delimitedSuffix && this._state.absorbLastFewBits(this._delimitedSuffix); let t = this._state.squeeze(this._hashBitLength / 8); return void 0 !== e && (t = t.toString(e)), this._resetState(), t } _resetState() { return this._state.initialize(this._rate, this._capacity), this } _clone() { const e = new t(this._rate, this._capacity, this._delimitedSuffix, this._hashBitLength, this._options); return this._state.copy(e._state), e._finalized = this._finalized, e } } }, 5675: function (e, t, n) { var r = n(48764).Buffer; const { Transform: i } = n(88473); e.exports = e => class t extends i { constructor(t, n, r, i) { super(i), this._rate = t, this._capacity = n, this._delimitedSuffix = r, this._options = i, this._state = new e, this._state.initialize(t, n), this._finalized = !1 } _transform(e, t, n) { let r = null; try { this.update(e, t) } catch (i) { r = i } n(r) } _flush() { } _read(e) { this.push(this.squeeze(e)) } update(e, t) { if (!r.isBuffer(e) && "string" !== typeof e) throw new TypeError("Data must be a string or a buffer"); if (this._finalized) throw new Error("Squeeze already called"); return r.isBuffer(e) || (e = r.from(e, t)), this._state.absorb(e), this } squeeze(e, t) { this._finalized || (this._finalized = !0, this._state.absorbLastFewBits(this._delimitedSuffix)); let n = this._state.squeeze(e); return void 0 !== t && (n = n.toString(t)), n } _resetState() { return this._state.initialize(this._rate, this._capacity), this } _clone() { const e = new t(this._rate, this._capacity, this._delimitedSuffix, this._options); return this._state.copy(e._state), e._finalized = this._finalized, e } } }, 34040: function (e, t) { const n = [1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0, 2147483649, 0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136, 0, 2147516425, 0, 2147483658, 0, 2147516555, 0, 139, 2147483648, 32905, 2147483648, 32771, 2147483648, 32770, 2147483648, 128, 2147483648, 32778, 0, 2147483658, 2147483648, 2147516545, 2147483648, 32896, 2147483648, 2147483649, 0, 2147516424, 2147483648]; t.p1600 = function (e) { for (let t = 0; t < 24; ++t) { const r = e[0] ^ e[10] ^ e[20] ^ e[30] ^ e[40], i = e[1] ^ e[11] ^ e[21] ^ e[31] ^ e[41], o = e[2] ^ e[12] ^ e[22] ^ e[32] ^ e[42], s = e[3] ^ e[13] ^ e[23] ^ e[33] ^ e[43], a = e[4] ^ e[14] ^ e[24] ^ e[34] ^ e[44], c = e[5] ^ e[15] ^ e[25] ^ e[35] ^ e[45], l = e[6] ^ e[16] ^ e[26] ^ e[36] ^ e[46], u = e[7] ^ e[17] ^ e[27] ^ e[37] ^ e[47], d = e[8] ^ e[18] ^ e[28] ^ e[38] ^ e[48], h = e[9] ^ e[19] ^ e[29] ^ e[39] ^ e[49]; let f = d ^ (o << 1 | s >>> 31), p = h ^ (s << 1 | o >>> 31); const m = e[0] ^ f, g = e[1] ^ p, y = e[10] ^ f, b = e[11] ^ p, v = e[20] ^ f, w = e[21] ^ p, E = e[30] ^ f, x = e[31] ^ p, _ = e[40] ^ f, C = e[41] ^ p; f = r ^ (a << 1 | c >>> 31), p = i ^ (c << 1 | a >>> 31); const A = e[2] ^ f, S = e[3] ^ p, k = e[12] ^ f, I = e[13] ^ p, T = e[22] ^ f, N = e[23] ^ p, P = e[32] ^ f, M = e[33] ^ p, O = e[42] ^ f, R = e[43] ^ p; f = o ^ (l << 1 | u >>> 31), p = s ^ (u << 1 | l >>> 31); const j = e[4] ^ f, $ = e[5] ^ p, L = e[14] ^ f, D = e[15] ^ p, U = e[24] ^ f, F = e[25] ^ p, B = e[34] ^ f, W = e[35] ^ p, z = e[44] ^ f, q = e[45] ^ p; f = a ^ (d << 1 | h >>> 31), p = c ^ (h << 1 | d >>> 31); const H = e[6] ^ f, G = e[7] ^ p, V = e[16] ^ f, K = e[17] ^ p, Y = e[26] ^ f, Z = e[27] ^ p, X = e[36] ^ f, J = e[37] ^ p, Q = e[46] ^ f, ee = e[47] ^ p; f = l ^ (r << 1 | i >>> 31), p = u ^ (i << 1 | r >>> 31); const te = e[8] ^ f, ne = e[9] ^ p, re = e[18] ^ f, ie = e[19] ^ p, oe = e[28] ^ f, se = e[29] ^ p, ae = e[38] ^ f, ce = e[39] ^ p, le = e[48] ^ f, ue = e[49] ^ p, de = m, he = g, fe = b << 4 | y >>> 28, pe = y << 4 | b >>> 28, me = v << 3 | w >>> 29, ge = w << 3 | v >>> 29, ye = x << 9 | E >>> 23, be = E << 9 | x >>> 23, ve = _ << 18 | C >>> 14, we = C << 18 | _ >>> 14, Ee = A << 1 | S >>> 31, xe = S << 1 | A >>> 31, _e = I << 12 | k >>> 20, Ce = k << 12 | I >>> 20, Ae = T << 10 | N >>> 22, Se = N << 10 | T >>> 22, ke = M << 13 | P >>> 19, Ie = P << 13 | M >>> 19, Te = O << 2 | R >>> 30, Ne = R << 2 | O >>> 30, Pe = $ << 30 | j >>> 2, Me = j << 30 | $ >>> 2, Oe = L << 6 | D >>> 26, Re = D << 6 | L >>> 26, je = F << 11 | U >>> 21, $e = U << 11 | F >>> 21, Le = B << 15 | W >>> 17, De = W << 15 | B >>> 17, Ue = q << 29 | z >>> 3, Fe = z << 29 | q >>> 3, Be = H << 28 | G >>> 4, We = G << 28 | H >>> 4, ze = K << 23 | V >>> 9, qe = V << 23 | K >>> 9, He = Y << 25 | Z >>> 7, Ge = Z << 25 | Y >>> 7, Ve = X << 21 | J >>> 11, Ke = J << 21 | X >>> 11, Ye = ee << 24 | Q >>> 8, Ze = Q << 24 | ee >>> 8, Xe = te << 27 | ne >>> 5, Je = ne << 27 | te >>> 5, Qe = re << 20 | ie >>> 12, et = ie << 20 | re >>> 12, tt = se << 7 | oe >>> 25, nt = oe << 7 | se >>> 25, rt = ae << 8 | ce >>> 24, it = ce << 8 | ae >>> 24, ot = le << 14 | ue >>> 18, st = ue << 14 | le >>> 18; e[0] = de ^ ~_e & je, e[1] = he ^ ~Ce & $e, e[10] = Be ^ ~Qe & me, e[11] = We ^ ~et & ge, e[20] = Ee ^ ~Oe & He, e[21] = xe ^ ~Re & Ge, e[30] = Xe ^ ~fe & Ae, e[31] = Je ^ ~pe & Se, e[40] = Pe ^ ~ze & tt, e[41] = Me ^ ~qe & nt, e[2] = _e ^ ~je & Ve, e[3] = Ce ^ ~$e & Ke, e[12] = Qe ^ ~me & ke, e[13] = et ^ ~ge & Ie, e[22] = Oe ^ ~He & rt, e[23] = Re ^ ~Ge & it, e[32] = fe ^ ~Ae & Le, e[33] = pe ^ ~Se & De, e[42] = ze ^ ~tt & ye, e[43] = qe ^ ~nt & be, e[4] = je ^ ~Ve & ot, e[5] = $e ^ ~Ke & st, e[14] = me ^ ~ke & Ue, e[15] = ge ^ ~Ie & Fe, e[24] = He ^ ~rt & ve, e[25] = Ge ^ ~it & we, e[34] = Ae ^ ~Le & Ye, e[35] = Se ^ ~De & Ze, e[44] = tt ^ ~ye & Te, e[45] = nt ^ ~be & Ne, e[6] = Ve ^ ~ot & de, e[7] = Ke ^ ~st & he, e[16] = ke ^ ~Ue & Be, e[17] = Ie ^ ~Fe & We, e[26] = rt ^ ~ve & Ee, e[27] = it ^ ~we & xe, e[36] = Le ^ ~Ye & Xe, e[37] = De ^ ~Ze & Je, e[46] = ye ^ ~Te & Pe, e[47] = be ^ ~Ne & Me, e[8] = ot ^ ~de & _e, e[9] = st ^ ~he & Ce, e[18] = Ue ^ ~Be & Qe, e[19] = Fe ^ ~We & et, e[28] = ve ^ ~Ee & Oe, e[29] = we ^ ~xe & Re, e[38] = Ye ^ ~Xe & fe, e[39] = Ze ^ ~Je & pe, e[48] = Te ^ ~Pe & ze, e[49] = Ne ^ ~Me & qe, e[0] ^= n[2 * t], e[1] ^= n[2 * t + 1] } } }, 79653: function (e, t, n) { var r = n(48764).Buffer; const i = n(34040); function o() { this.state = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], this.blockSize = null, this.count = 0, this.squeezing = !1 } o.prototype.initialize = function (e, t) { for (let n = 0; n < 50; ++n)this.state[n] = 0; this.blockSize = e / 8, this.count = 0, this.squeezing = !1 }, o.prototype.absorb = function (e) { for (let t = 0; t < e.length; ++t)this.state[~~(this.count / 4)] ^= e[t] << this.count % 4 * 8, this.count += 1, this.count === this.blockSize && (i.p1600(this.state), this.count = 0) }, o.prototype.absorbLastFewBits = function (e) { this.state[~~(this.count / 4)] ^= e << this.count % 4 * 8, 0 !== (128 & e) && this.count === this.blockSize - 1 && i.p1600(this.state), this.state[~~((this.blockSize - 1) / 4)] ^= 128 << (this.blockSize - 1) % 4 * 8, i.p1600(this.state), this.count = 0, this.squeezing = !0 }, o.prototype.squeeze = function (e) { this.squeezing || this.absorbLastFewBits(1); const t = r.alloc(e); for (let n = 0; n < e; ++n)t[n] = this.state[~~(this.count / 4)] >>> this.count % 4 * 8 & 255, this.count += 1, this.count === this.blockSize && (i.p1600(this.state), this.count = 0); return t }, o.prototype.copy = function (e) { for (let t = 0; t < 50; ++t)e.state[t] = this.state[t]; e.blockSize = this.blockSize, e.count = this.count, e.squeezing = this.squeezing }, e.exports = o }, 72307: function (e, t, n) { e = n.nmd(e); var r = "__lodash_hash_undefined__", i = 9007199254740991, o = "[object Arguments]", s = "[object Array]", a = "[object Boolean]", c = "[object Date]", l = "[object Error]", u = "[object Function]", d = "[object Map]", h = "[object Number]", f = "[object Object]", p = "[object Promise]", m = "[object RegExp]", g = "[object Set]", y = "[object String]", b = "[object Symbol]", v = "[object WeakMap]", w = "[object ArrayBuffer]", E = "[object DataView]", x = /^\[object .+?Constructor\]$/, _ = /^(?:0|[1-9]\d*)$/, C = {}; C["[object Float32Array]"] = C["[object Float64Array]"] = C["[object Int8Array]"] = C["[object Int16Array]"] = C["[object Int32Array]"] = C["[object Uint8Array]"] = C["[object Uint8ClampedArray]"] = C["[object Uint16Array]"] = C["[object Uint32Array]"] = !0, C[o] = C[s] = C[w] = C[a] = C[E] = C[c] = C[l] = C[u] = C[d] = C[h] = C[f] = C[m] = C[g] = C[y] = C[v] = !1; var A = "object" == typeof n.g && n.g && n.g.Object === Object && n.g, S = "object" == typeof self && self && self.Object === Object && self, k = A || S || Function("return this")(), I = t && !t.nodeType && t, T = I && e && !e.nodeType && e, N = T && T.exports === I, P = N && A.process, M = function () { try { return P && P.binding && P.binding("util") } catch (e) { } }(), O = M && M.isTypedArray; function R(e, t) { for (var n = -1, r = null == e ? 0 : e.length; ++n < r;)if (t(e[n], n, e)) return !0; return !1 } function j(e) { var t = -1, n = Array(e.size); return e.forEach((function (e, r) { n[++t] = [r, e] })), n } function $(e) { var t = -1, n = Array(e.size); return e.forEach((function (e) { n[++t] = e })), n } var L, D, U = Array.prototype, F = Function.prototype, B = Object.prototype, W = k["__core-js_shared__"], z = F.toString, q = B.hasOwnProperty, H = function () { var e = /[^.]+$/.exec(W && W.keys && W.keys.IE_PROTO || ""); return e ? "Symbol(src)_1." + e : "" }(), G = B.toString, V = RegExp("^" + z.call(q).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), K = N ? k.Buffer : void 0, Y = k.Symbol, Z = k.Uint8Array, X = B.propertyIsEnumerable, J = U.splice, Q = Y ? Y.toStringTag : void 0, ee = Object.getOwnPropertySymbols, te = K ? K.isBuffer : void 0, ne = (L = Object.keys, D = Object, function (e) { return L(D(e)) }), re = Pe(k, "DataView"), ie = Pe(k, "Map"), oe = Pe(k, "Promise"), se = Pe(k, "Set"), ae = Pe(k, "WeakMap"), ce = Pe(Object, "create"), le = je(re), ue = je(ie), de = je(oe), he = je(se), fe = je(ae), pe = Y ? Y.prototype : void 0, me = pe ? pe.valueOf : void 0; function ge(e) { var t = -1, n = null == e ? 0 : e.length; for (this.clear(); ++t < n;) { var r = e[t]; this.set(r[0], r[1]) } } function ye(e) { var t = -1, n = null == e ? 0 : e.length; for (this.clear(); ++t < n;) { var r = e[t]; this.set(r[0], r[1]) } } function be(e) { var t = -1, n = null == e ? 0 : e.length; for (this.clear(); ++t < n;) { var r = e[t]; this.set(r[0], r[1]) } } function ve(e) { var t = -1, n = null == e ? 0 : e.length; for (this.__data__ = new be; ++t < n;)this.add(e[t]) } function we(e) { var t = this.__data__ = new ye(e); this.size = t.size } function Ee(e, t) { var n = De(e), r = !n && Le(e), i = !n && !r && Ue(e), o = !n && !r && !i && qe(e), s = n || r || i || o, a = s ? function (e, t) { for (var n = -1, r = Array(e); ++n < e;)r[n] = t(n); return r }(e.length, String) : [], c = a.length; for (var l in e) !t && !q.call(e, l) || s && ("length" == l || i && ("offset" == l || "parent" == l) || o && ("buffer" == l || "byteLength" == l || "byteOffset" == l) || Re(l, c)) || a.push(l); return a } function xe(e, t) { for (var n = e.length; n--;)if ($e(e[n][0], t)) return n; return -1 } function _e(e) { return null == e ? void 0 === e ? "[object Undefined]" : "[object Null]" : Q && Q in Object(e) ? function (e) { var t = q.call(e, Q), n = e[Q]; try { e[Q] = void 0; var r = !0 } catch (o) { } var i = G.call(e); r && (t ? e[Q] = n : delete e[Q]); return i }(e) : function (e) { return G.call(e) }(e) } function Ce(e) { return ze(e) && _e(e) == o } function Ae(e, t, n, r, i) { return e === t || (null == e || null == t || !ze(e) && !ze(t) ? e !== e && t !== t : function (e, t, n, r, i, u) { var p = De(e), v = De(t), x = p ? s : Oe(e), _ = v ? s : Oe(t), C = (x = x == o ? f : x) == f, A = (_ = _ == o ? f : _) == f, S = x == _; if (S && Ue(e)) { if (!Ue(t)) return !1; p = !0, C = !1 } if (S && !C) return u || (u = new we), p || qe(e) ? Ie(e, t, n, r, i, u) : function (e, t, n, r, i, o, s) { switch (n) { case E: if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset) return !1; e = e.buffer, t = t.buffer; case w: return !(e.byteLength != t.byteLength || !o(new Z(e), new Z(t))); case a: case c: case h: return $e(+e, +t); case l: return e.name == t.name && e.message == t.message; case m: case y: return e == t + ""; case d: var u = j; case g: var f = 1 & r; if (u || (u = $), e.size != t.size && !f) return !1; var p = s.get(e); if (p) return p == t; r |= 2, s.set(e, t); var v = Ie(u(e), u(t), r, i, o, s); return s.delete(e), v; case b: if (me) return me.call(e) == me.call(t) }return !1 }(e, t, x, n, r, i, u); if (!(1 & n)) { var k = C && q.call(e, "__wrapped__"), I = A && q.call(t, "__wrapped__"); if (k || I) { var T = k ? e.value() : e, N = I ? t.value() : t; return u || (u = new we), i(T, N, n, r, u) } } if (!S) return !1; return u || (u = new we), function (e, t, n, r, i, o) { var s = 1 & n, a = Te(e), c = a.length, l = Te(t).length; if (c != l && !s) return !1; var u = c; for (; u--;) { var d = a[u]; if (!(s ? d in t : q.call(t, d))) return !1 } var h = o.get(e); if (h && o.get(t)) return h == t; var f = !0; o.set(e, t), o.set(t, e); var p = s; for (; ++u < c;) { var m = e[d = a[u]], g = t[d]; if (r) var y = s ? r(g, m, d, t, e, o) : r(m, g, d, e, t, o); if (!(void 0 === y ? m === g || i(m, g, n, r, o) : y)) { f = !1; break } p || (p = "constructor" == d) } if (f && !p) { var b = e.constructor, v = t.constructor; b == v || !("constructor" in e) || !("constructor" in t) || "function" == typeof b && b instanceof b && "function" == typeof v && v instanceof v || (f = !1) } return o.delete(e), o.delete(t), f }(e, t, n, r, i, u) }(e, t, n, r, Ae, i)) } function Se(e) { return !(!We(e) || function (e) { return !!H && H in e }(e)) && (Fe(e) ? V : x).test(je(e)) } function ke(e) { if (!function (e) { var t = e && e.constructor, n = "function" == typeof t && t.prototype || B; return e === n }(e)) return ne(e); var t = []; for (var n in Object(e)) q.call(e, n) && "constructor" != n && t.push(n); return t } function Ie(e, t, n, r, i, o) { var s = 1 & n, a = e.length, c = t.length; if (a != c && !(s && c > a)) return !1; var l = o.get(e); if (l && o.get(t)) return l == t; var u = -1, d = !0, h = 2 & n ? new ve : void 0; for (o.set(e, t), o.set(t, e); ++u < a;) { var f = e[u], p = t[u]; if (r) var m = s ? r(p, f, u, t, e, o) : r(f, p, u, e, t, o); if (void 0 !== m) { if (m) continue; d = !1; break } if (h) { if (!R(t, (function (e, t) { if (s = t, !h.has(s) && (f === e || i(f, e, n, r, o))) return h.push(t); var s }))) { d = !1; break } } else if (f !== p && !i(f, p, n, r, o)) { d = !1; break } } return o.delete(e), o.delete(t), d } function Te(e) { return function (e, t, n) { var r = t(e); return De(e) ? r : function (e, t) { for (var n = -1, r = t.length, i = e.length; ++n < r;)e[i + n] = t[n]; return e }(r, n(e)) }(e, He, Me) } function Ne(e, t) { var n = e.__data__; return function (e) { var t = typeof e; return "string" == t || "number" == t || "symbol" == t || "boolean" == t ? "__proto__" !== e : null === e }(t) ? n["string" == typeof t ? "string" : "hash"] : n.map } function Pe(e, t) { var n = function (e, t) { return null == e ? void 0 : e[t] }(e, t); return Se(n) ? n : void 0 } ge.prototype.clear = function () { this.__data__ = ce ? ce(null) : {}, this.size = 0 }, ge.prototype.delete = function (e) { var t = this.has(e) && delete this.__data__[e]; return this.size -= t ? 1 : 0, t }, ge.prototype.get = function (e) { var t = this.__data__; if (ce) { var n = t[e]; return n === r ? void 0 : n } return q.call(t, e) ? t[e] : void 0 }, ge.prototype.has = function (e) { var t = this.__data__; return ce ? void 0 !== t[e] : q.call(t, e) }, ge.prototype.set = function (e, t) { var n = this.__data__; return this.size += this.has(e) ? 0 : 1, n[e] = ce && void 0 === t ? r : t, this }, ye.prototype.clear = function () { this.__data__ = [], this.size = 0 }, ye.prototype.delete = function (e) { var t = this.__data__, n = xe(t, e); return !(n < 0) && (n == t.length - 1 ? t.pop() : J.call(t, n, 1), --this.size, !0) }, ye.prototype.get = function (e) { var t = this.__data__, n = xe(t, e); return n < 0 ? void 0 : t[n][1] }, ye.prototype.has = function (e) { return xe(this.__data__, e) > -1 }, ye.prototype.set = function (e, t) { var n = this.__data__, r = xe(n, e); return r < 0 ? (++this.size, n.push([e, t])) : n[r][1] = t, this }, be.prototype.clear = function () { this.size = 0, this.__data__ = { hash: new ge, map: new (ie || ye), string: new ge } }, be.prototype.delete = function (e) { var t = Ne(this, e).delete(e); return this.size -= t ? 1 : 0, t }, be.prototype.get = function (e) { return Ne(this, e).get(e) }, be.prototype.has = function (e) { return Ne(this, e).has(e) }, be.prototype.set = function (e, t) { var n = Ne(this, e), r = n.size; return n.set(e, t), this.size += n.size == r ? 0 : 1, this }, ve.prototype.add = ve.prototype.push = function (e) { return this.__data__.set(e, r), this }, ve.prototype.has = function (e) { return this.__data__.has(e) }, we.prototype.clear = function () { this.__data__ = new ye, this.size = 0 }, we.prototype.delete = function (e) { var t = this.__data__, n = t.delete(e); return this.size = t.size, n }, we.prototype.get = function (e) { return this.__data__.get(e) }, we.prototype.has = function (e) { return this.__data__.has(e) }, we.prototype.set = function (e, t) { var n = this.__data__; if (n instanceof ye) { var r = n.__data__; if (!ie || r.length < 199) return r.push([e, t]), this.size = ++n.size, this; n = this.__data__ = new be(r) } return n.set(e, t), this.size = n.size, this }; var Me = ee ? function (e) { return null == e ? [] : (e = Object(e), function (e, t) { for (var n = -1, r = null == e ? 0 : e.length, i = 0, o = []; ++n < r;) { var s = e[n]; t(s, n, e) && (o[i++] = s) } return o }(ee(e), (function (t) { return X.call(e, t) }))) } : function () { return [] }, Oe = _e; function Re(e, t) { return !!(t = null == t ? i : t) && ("number" == typeof e || _.test(e)) && e > -1 && e % 1 == 0 && e < t } function je(e) { if (null != e) { try { return z.call(e) } catch (t) { } try { return e + "" } catch (t) { } } return "" } function $e(e, t) { return e === t || e !== e && t !== t } (re && Oe(new re(new ArrayBuffer(1))) != E || ie && Oe(new ie) != d || oe && Oe(oe.resolve()) != p || se && Oe(new se) != g || ae && Oe(new ae) != v) && (Oe = function (e) { var t = _e(e), n = t == f ? e.constructor : void 0, r = n ? je(n) : ""; if (r) switch (r) { case le: return E; case ue: return d; case de: return p; case he: return g; case fe: return v }return t }); var Le = Ce(function () { return arguments }()) ? Ce : function (e) { return ze(e) && q.call(e, "callee") && !X.call(e, "callee") }, De = Array.isArray; var Ue = te || function () { return !1 }; function Fe(e) { if (!We(e)) return !1; var t = _e(e); return t == u || "[object GeneratorFunction]" == t || "[object AsyncFunction]" == t || "[object Proxy]" == t } function Be(e) { return "number" == typeof e && e > -1 && e % 1 == 0 && e <= i } function We(e) { var t = typeof e; return null != e && ("object" == t || "function" == t) } function ze(e) { return null != e && "object" == typeof e } var qe = O ? function (e) { return function (t) { return e(t) } }(O) : function (e) { return ze(e) && Be(e.length) && !!C[_e(e)] }; function He(e) { return null != (t = e) && Be(t.length) && !Fe(t) ? Ee(e) : ke(e); var t } e.exports = function (e, t) { return Ae(e, t) } }, 96486: function (e, t, n) { var r; e = n.nmd(e), function () { var i, o = "Expected a function", s = "__lodash_hash_undefined__", a = "__lodash_placeholder__", c = 16, l = 32, u = 64, d = 128, h = 256, f = 1 / 0, p = 9007199254740991, m = NaN, g = 4294967295, y = [["ary", d], ["bind", 1], ["bindKey", 2], ["curry", 8], ["curryRight", c], ["flip", 512], ["partial", l], ["partialRight", u], ["rearg", h]], b = "[object Arguments]", v = "[object Array]", w = "[object Boolean]", E = "[object Date]", x = "[object Error]", _ = "[object Function]", C = "[object GeneratorFunction]", A = "[object Map]", S = "[object Number]", k = "[object Object]", I = "[object Promise]", T = "[object RegExp]", N = "[object Set]", P = "[object String]", M = "[object Symbol]", O = "[object WeakMap]", R = "[object ArrayBuffer]", j = "[object DataView]", $ = "[object Float32Array]", L = "[object Float64Array]", D = "[object Int8Array]", U = "[object Int16Array]", F = "[object Int32Array]", B = "[object Uint8Array]", W = "[object Uint8ClampedArray]", z = "[object Uint16Array]", q = "[object Uint32Array]", H = /\b__p \+= '';/g, G = /\b(__p \+=) '' \+/g, V = /(__e\(.*?\)|\b__t\)) \+\n'';/g, K = /&(?:amp|lt|gt|quot|#39);/g, Y = /[&<>"']/g, Z = RegExp(K.source), X = RegExp(Y.source), J = /<%-([\s\S]+?)%>/g, Q = /<%([\s\S]+?)%>/g, ee = /<%=([\s\S]+?)%>/g, te = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, ne = /^\w*$/, re = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, ie = /[\\^$.*+?()[\]{}|]/g, oe = RegExp(ie.source), se = /^\s+/, ae = /\s/, ce = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/, le = /\{\n\/\* \[wrapped with (.+)\] \*/, ue = /,? & /, de = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g, he = /[()=,{}\[\]\/\s]/, fe = /\\(\\)?/g, pe = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, me = /\w*$/, ge = /^[-+]0x[0-9a-f]+$/i, ye = /^0b[01]+$/i, be = /^\[object .+?Constructor\]$/, ve = /^0o[0-7]+$/i, we = /^(?:0|[1-9]\d*)$/, Ee = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, xe = /($^)/, _e = /['\n\r\u2028\u2029\\]/g, Ce = "\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff", Ae = "\\u2700-\\u27bf", Se = "a-z\\xdf-\\xf6\\xf8-\\xff", ke = "A-Z\\xc0-\\xd6\\xd8-\\xde", Ie = "\\ufe0e\\ufe0f", Te = "\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", Ne = "['\u2019]", Pe = "[\\ud800-\\udfff]", Me = "[" + Te + "]", Oe = "[" + Ce + "]", Re = "\\d+", je = "[\\u2700-\\u27bf]", $e = "[" + Se + "]", Le = "[^\\ud800-\\udfff" + Te + Re + Ae + Se + ke + "]", De = "\\ud83c[\\udffb-\\udfff]", Ue = "[^\\ud800-\\udfff]", Fe = "(?:\\ud83c[\\udde6-\\uddff]){2}", Be = "[\\ud800-\\udbff][\\udc00-\\udfff]", We = "[" + ke + "]", ze = "(?:" + $e + "|" + Le + ")", qe = "(?:" + We + "|" + Le + ")", He = "(?:['\u2019](?:d|ll|m|re|s|t|ve))?", Ge = "(?:['\u2019](?:D|LL|M|RE|S|T|VE))?", Ve = "(?:" + Oe + "|" + De + ")" + "?", Ke = "[\\ufe0e\\ufe0f]?", Ye = Ke + Ve + ("(?:\\u200d(?:" + [Ue, Fe, Be].join("|") + ")" + Ke + Ve + ")*"), Ze = "(?:" + [je, Fe, Be].join("|") + ")" + Ye, Xe = "(?:" + [Ue + Oe + "?", Oe, Fe, Be, Pe].join("|") + ")", Je = RegExp(Ne, "g"), Qe = RegExp(Oe, "g"), et = RegExp(De + "(?=" + De + ")|" + Xe + Ye, "g"), tt = RegExp([We + "?" + $e + "+" + He + "(?=" + [Me, We, "$"].join("|") + ")", qe + "+" + Ge + "(?=" + [Me, We + ze, "$"].join("|") + ")", We + "?" + ze + "+" + He, We + "+" + Ge, "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", Re, Ze].join("|"), "g"), nt = RegExp("[\\u200d\\ud800-\\udfff" + Ce + Ie + "]"), rt = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/, it = ["Array", "Buffer", "DataView", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Map", "Math", "Object", "Promise", "RegExp", "Set", "String", "Symbol", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap", "_", "clearTimeout", "isFinite", "parseInt", "setTimeout"], ot = -1, st = {}; st[$] = st[L] = st[D] = st[U] = st[F] = st[B] = st[W] = st[z] = st[q] = !0, st[b] = st[v] = st[R] = st[w] = st[j] = st[E] = st[x] = st[_] = st[A] = st[S] = st[k] = st[T] = st[N] = st[P] = st[O] = !1; var at = {}; at[b] = at[v] = at[R] = at[j] = at[w] = at[E] = at[$] = at[L] = at[D] = at[U] = at[F] = at[A] = at[S] = at[k] = at[T] = at[N] = at[P] = at[M] = at[B] = at[W] = at[z] = at[q] = !0, at[x] = at[_] = at[O] = !1; var ct = { "\\": "\\", "'": "'", "\n": "n", "\r": "r", "\u2028": "u2028", "\u2029": "u2029" }, lt = parseFloat, ut = parseInt, dt = "object" == typeof n.g && n.g && n.g.Object === Object && n.g, ht = "object" == typeof self && self && self.Object === Object && self, ft = dt || ht || Function("return this")(), pt = t && !t.nodeType && t, mt = pt && e && !e.nodeType && e, gt = mt && mt.exports === pt, yt = gt && dt.process, bt = function () { try { var e = mt && mt.require && mt.require("util").types; return e || yt && yt.binding && yt.binding("util") } catch (t) { } }(), vt = bt && bt.isArrayBuffer, wt = bt && bt.isDate, Et = bt && bt.isMap, xt = bt && bt.isRegExp, _t = bt && bt.isSet, Ct = bt && bt.isTypedArray; function At(e, t, n) { switch (n.length) { case 0: return e.call(t); case 1: return e.call(t, n[0]); case 2: return e.call(t, n[0], n[1]); case 3: return e.call(t, n[0], n[1], n[2]) }return e.apply(t, n) } function St(e, t, n, r) { for (var i = -1, o = null == e ? 0 : e.length; ++i < o;) { var s = e[i]; t(r, s, n(s), e) } return r } function kt(e, t) { for (var n = -1, r = null == e ? 0 : e.length; ++n < r && !1 !== t(e[n], n, e);); return e } function It(e, t) { for (var n = null == e ? 0 : e.length; n-- && !1 !== t(e[n], n, e);); return e } function Tt(e, t) { for (var n = -1, r = null == e ? 0 : e.length; ++n < r;)if (!t(e[n], n, e)) return !1; return !0 } function Nt(e, t) { for (var n = -1, r = null == e ? 0 : e.length, i = 0, o = []; ++n < r;) { var s = e[n]; t(s, n, e) && (o[i++] = s) } return o } function Pt(e, t) { return !!(null == e ? 0 : e.length) && Bt(e, t, 0) > -1 } function Mt(e, t, n) { for (var r = -1, i = null == e ? 0 : e.length; ++r < i;)if (n(t, e[r])) return !0; return !1 } function Ot(e, t) { for (var n = -1, r = null == e ? 0 : e.length, i = Array(r); ++n < r;)i[n] = t(e[n], n, e); return i } function Rt(e, t) { for (var n = -1, r = t.length, i = e.length; ++n < r;)e[i + n] = t[n]; return e } function jt(e, t, n, r) { var i = -1, o = null == e ? 0 : e.length; for (r && o && (n = e[++i]); ++i < o;)n = t(n, e[i], i, e); return n } function $t(e, t, n, r) { var i = null == e ? 0 : e.length; for (r && i && (n = e[--i]); i--;)n = t(n, e[i], i, e); return n } function Lt(e, t) { for (var n = -1, r = null == e ? 0 : e.length; ++n < r;)if (t(e[n], n, e)) return !0; return !1 } var Dt = Ht("length"); function Ut(e, t, n) { var r; return n(e, (function (e, n, i) { if (t(e, n, i)) return r = n, !1 })), r } function Ft(e, t, n, r) { for (var i = e.length, o = n + (r ? 1 : -1); r ? o-- : ++o < i;)if (t(e[o], o, e)) return o; return -1 } function Bt(e, t, n) { return t === t ? function (e, t, n) { var r = n - 1, i = e.length; for (; ++r < i;)if (e[r] === t) return r; return -1 }(e, t, n) : Ft(e, zt, n) } function Wt(e, t, n, r) { for (var i = n - 1, o = e.length; ++i < o;)if (r(e[i], t)) return i; return -1 } function zt(e) { return e !== e } function qt(e, t) { var n = null == e ? 0 : e.length; return n ? Kt(e, t) / n : m } function Ht(e) { return function (t) { return null == t ? i : t[e] } } function Gt(e) { return function (t) { return null == e ? i : e[t] } } function Vt(e, t, n, r, i) { return i(e, (function (e, i, o) { n = r ? (r = !1, e) : t(n, e, i, o) })), n } function Kt(e, t) { for (var n, r = -1, o = e.length; ++r < o;) { var s = t(e[r]); s !== i && (n = n === i ? s : n + s) } return n } function Yt(e, t) { for (var n = -1, r = Array(e); ++n < e;)r[n] = t(n); return r } function Zt(e) { return e ? e.slice(0, mn(e) + 1).replace(se, "") : e } function Xt(e) { return function (t) { return e(t) } } function Jt(e, t) { return Ot(t, (function (t) { return e[t] })) } function Qt(e, t) { return e.has(t) } function en(e, t) { for (var n = -1, r = e.length; ++n < r && Bt(t, e[n], 0) > -1;); return n } function tn(e, t) { for (var n = e.length; n-- && Bt(t, e[n], 0) > -1;); return n } function nn(e, t) { for (var n = e.length, r = 0; n--;)e[n] === t && ++r; return r } var rn = Gt({ "\xc0": "A", "\xc1": "A", "\xc2": "A", "\xc3": "A", "\xc4": "A", "\xc5": "A", "\xe0": "a", "\xe1": "a", "\xe2": "a", "\xe3": "a", "\xe4": "a", "\xe5": "a", "\xc7": "C", "\xe7": "c", "\xd0": "D", "\xf0": "d", "\xc8": "E", "\xc9": "E", "\xca": "E", "\xcb": "E", "\xe8": "e", "\xe9": "e", "\xea": "e", "\xeb": "e", "\xcc": "I", "\xcd": "I", "\xce": "I", "\xcf": "I", "\xec": "i", "\xed": "i", "\xee": "i", "\xef": "i", "\xd1": "N", "\xf1": "n", "\xd2": "O", "\xd3": "O", "\xd4": "O", "\xd5": "O", "\xd6": "O", "\xd8": "O", "\xf2": "o", "\xf3": "o", "\xf4": "o", "\xf5": "o", "\xf6": "o", "\xf8": "o", "\xd9": "U", "\xda": "U", "\xdb": "U", "\xdc": "U", "\xf9": "u", "\xfa": "u", "\xfb": "u", "\xfc": "u", "\xdd": "Y", "\xfd": "y", "\xff": "y", "\xc6": "Ae", "\xe6": "ae", "\xde": "Th", "\xfe": "th", "\xdf": "ss", "\u0100": "A", "\u0102": "A", "\u0104": "A", "\u0101": "a", "\u0103": "a", "\u0105": "a", "\u0106": "C", "\u0108": "C", "\u010a": "C", "\u010c": "C", "\u0107": "c", "\u0109": "c", "\u010b": "c", "\u010d": "c", "\u010e": "D", "\u0110": "D", "\u010f": "d", "\u0111": "d", "\u0112": "E", "\u0114": "E", "\u0116": "E", "\u0118": "E", "\u011a": "E", "\u0113": "e", "\u0115": "e", "\u0117": "e", "\u0119": "e", "\u011b": "e", "\u011c": "G", "\u011e": "G", "\u0120": "G", "\u0122": "G", "\u011d": "g", "\u011f": "g", "\u0121": "g", "\u0123": "g", "\u0124": "H", "\u0126": "H", "\u0125": "h", "\u0127": "h", "\u0128": "I", "\u012a": "I", "\u012c": "I", "\u012e": "I", "\u0130": "I", "\u0129": "i", "\u012b": "i", "\u012d": "i", "\u012f": "i", "\u0131": "i", "\u0134": "J", "\u0135": "j", "\u0136": "K", "\u0137": "k", "\u0138": "k", "\u0139": "L", "\u013b": "L", "\u013d": "L", "\u013f": "L", "\u0141": "L", "\u013a": "l", "\u013c": "l", "\u013e": "l", "\u0140": "l", "\u0142": "l", "\u0143": "N", "\u0145": "N", "\u0147": "N", "\u014a": "N", "\u0144": "n", "\u0146": "n", "\u0148": "n", "\u014b": "n", "\u014c": "O", "\u014e": "O", "\u0150": "O", "\u014d": "o", "\u014f": "o", "\u0151": "o", "\u0154": "R", "\u0156": "R", "\u0158": "R", "\u0155": "r", "\u0157": "r", "\u0159": "r", "\u015a": "S", "\u015c": "S", "\u015e": "S", "\u0160": "S", "\u015b": "s", "\u015d": "s", "\u015f": "s", "\u0161": "s", "\u0162": "T", "\u0164": "T", "\u0166": "T", "\u0163": "t", "\u0165": "t", "\u0167": "t", "\u0168": "U", "\u016a": "U", "\u016c": "U", "\u016e": "U", "\u0170": "U", "\u0172": "U", "\u0169": "u", "\u016b": "u", "\u016d": "u", "\u016f": "u", "\u0171": "u", "\u0173": "u", "\u0174": "W", "\u0175": "w", "\u0176": "Y", "\u0177": "y", "\u0178": "Y", "\u0179": "Z", "\u017b": "Z", "\u017d": "Z", "\u017a": "z", "\u017c": "z", "\u017e": "z", "\u0132": "IJ", "\u0133": "ij", "\u0152": "Oe", "\u0153": "oe", "\u0149": "'n", "\u017f": "s" }), on = Gt({ "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" }); function sn(e) { return "\\" + ct[e] } function an(e) { return nt.test(e) } function cn(e) { var t = -1, n = Array(e.size); return e.forEach((function (e, r) { n[++t] = [r, e] })), n } function ln(e, t) { return function (n) { return e(t(n)) } } function un(e, t) { for (var n = -1, r = e.length, i = 0, o = []; ++n < r;) { var s = e[n]; s !== t && s !== a || (e[n] = a, o[i++] = n) } return o } function dn(e) { var t = -1, n = Array(e.size); return e.forEach((function (e) { n[++t] = e })), n } function hn(e) { var t = -1, n = Array(e.size); return e.forEach((function (e) { n[++t] = [e, e] })), n } function fn(e) { return an(e) ? function (e) { var t = et.lastIndex = 0; for (; et.test(e);)++t; return t }(e) : Dt(e) } function pn(e) { return an(e) ? function (e) { return e.match(et) || [] }(e) : function (e) { return e.split("") }(e) } function mn(e) { for (var t = e.length; t-- && ae.test(e.charAt(t));); return t } var gn = Gt({ "&amp;": "&", "&lt;": "<", "&gt;": ">", "&quot;": '"', "&#39;": "'" }); var yn = function e(t) { var n = (t = null == t ? ft : yn.defaults(ft.Object(), t, yn.pick(ft, it))).Array, r = t.Date, ae = t.Error, Ce = t.Function, Ae = t.Math, Se = t.Object, ke = t.RegExp, Ie = t.String, Te = t.TypeError, Ne = n.prototype, Pe = Ce.prototype, Me = Se.prototype, Oe = t["__core-js_shared__"], Re = Pe.toString, je = Me.hasOwnProperty, $e = 0, Le = function () { var e = /[^.]+$/.exec(Oe && Oe.keys && Oe.keys.IE_PROTO || ""); return e ? "Symbol(src)_1." + e : "" }(), De = Me.toString, Ue = Re.call(Se), Fe = ft._, Be = ke("^" + Re.call(je).replace(ie, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), We = gt ? t.Buffer : i, ze = t.Symbol, qe = t.Uint8Array, He = We ? We.allocUnsafe : i, Ge = ln(Se.getPrototypeOf, Se), Ve = Se.create, Ke = Me.propertyIsEnumerable, Ye = Ne.splice, Ze = ze ? ze.isConcatSpreadable : i, Xe = ze ? ze.iterator : i, et = ze ? ze.toStringTag : i, nt = function () { try { var e = fo(Se, "defineProperty"); return e({}, "", {}), e } catch (t) { } }(), ct = t.clearTimeout !== ft.clearTimeout && t.clearTimeout, dt = r && r.now !== ft.Date.now && r.now, ht = t.setTimeout !== ft.setTimeout && t.setTimeout, pt = Ae.ceil, mt = Ae.floor, yt = Se.getOwnPropertySymbols, bt = We ? We.isBuffer : i, Dt = t.isFinite, Gt = Ne.join, bn = ln(Se.keys, Se), vn = Ae.max, wn = Ae.min, En = r.now, xn = t.parseInt, _n = Ae.random, Cn = Ne.reverse, An = fo(t, "DataView"), Sn = fo(t, "Map"), kn = fo(t, "Promise"), In = fo(t, "Set"), Tn = fo(t, "WeakMap"), Nn = fo(Se, "create"), Pn = Tn && new Tn, Mn = {}, On = Fo(An), Rn = Fo(Sn), jn = Fo(kn), $n = Fo(In), Ln = Fo(Tn), Dn = ze ? ze.prototype : i, Un = Dn ? Dn.valueOf : i, Fn = Dn ? Dn.toString : i; function Bn(e) { if (ra(e) && !Gs(e) && !(e instanceof Hn)) { if (e instanceof qn) return e; if (je.call(e, "__wrapped__")) return Bo(e) } return new qn(e) } var Wn = function () { function e() { } return function (t) { if (!na(t)) return {}; if (Ve) return Ve(t); e.prototype = t; var n = new e; return e.prototype = i, n } }(); function zn() { } function qn(e, t) { this.__wrapped__ = e, this.__actions__ = [], this.__chain__ = !!t, this.__index__ = 0, this.__values__ = i } function Hn(e) { this.__wrapped__ = e, this.__actions__ = [], this.__dir__ = 1, this.__filtered__ = !1, this.__iteratees__ = [], this.__takeCount__ = g, this.__views__ = [] } function Gn(e) { var t = -1, n = null == e ? 0 : e.length; for (this.clear(); ++t < n;) { var r = e[t]; this.set(r[0], r[1]) } } function Vn(e) { var t = -1, n = null == e ? 0 : e.length; for (this.clear(); ++t < n;) { var r = e[t]; this.set(r[0], r[1]) } } function Kn(e) { var t = -1, n = null == e ? 0 : e.length; for (this.clear(); ++t < n;) { var r = e[t]; this.set(r[0], r[1]) } } function Yn(e) { var t = -1, n = null == e ? 0 : e.length; for (this.__data__ = new Kn; ++t < n;)this.add(e[t]) } function Zn(e) { var t = this.__data__ = new Vn(e); this.size = t.size } function Xn(e, t) { var n = Gs(e), r = !n && Hs(e), i = !n && !r && Zs(e), o = !n && !r && !i && da(e), s = n || r || i || o, a = s ? Yt(e.length, Ie) : [], c = a.length; for (var l in e) !t && !je.call(e, l) || s && ("length" == l || i && ("offset" == l || "parent" == l) || o && ("buffer" == l || "byteLength" == l || "byteOffset" == l) || wo(l, c)) || a.push(l); return a } function Jn(e) { var t = e.length; return t ? e[Yr(0, t - 1)] : i } function Qn(e, t) { return Lo(Ni(e), cr(t, 0, e.length)) } function er(e) { return Lo(Ni(e)) } function tr(e, t, n) { (n !== i && !Ws(e[t], n) || n === i && !(t in e)) && sr(e, t, n) } function nr(e, t, n) { var r = e[t]; je.call(e, t) && Ws(r, n) && (n !== i || t in e) || sr(e, t, n) } function rr(e, t) { for (var n = e.length; n--;)if (Ws(e[n][0], t)) return n; return -1 } function ir(e, t, n, r) { return fr(e, (function (e, i, o) { t(r, e, n(e), o) })), r } function or(e, t) { return e && Pi(t, Oa(t), e) } function sr(e, t, n) { "__proto__" == t && nt ? nt(e, t, { configurable: !0, enumerable: !0, value: n, writable: !0 }) : e[t] = n } function ar(e, t) { for (var r = -1, o = t.length, s = n(o), a = null == e; ++r < o;)s[r] = a ? i : Ia(e, t[r]); return s } function cr(e, t, n) { return e === e && (n !== i && (e = e <= n ? e : n), t !== i && (e = e >= t ? e : t)), e } function lr(e, t, n, r, o, s) { var a, c = 1 & t, l = 2 & t, u = 4 & t; if (n && (a = o ? n(e, r, o, s) : n(e)), a !== i) return a; if (!na(e)) return e; var d = Gs(e); if (d) { if (a = function (e) { var t = e.length, n = new e.constructor(t); t && "string" == typeof e[0] && je.call(e, "index") && (n.index = e.index, n.input = e.input); return n }(e), !c) return Ni(e, a) } else { var h = go(e), f = h == _ || h == C; if (Zs(e)) return Ci(e, c); if (h == k || h == b || f && !o) { if (a = l || f ? {} : bo(e), !c) return l ? function (e, t) { return Pi(e, mo(e), t) }(e, function (e, t) { return e && Pi(t, Ra(t), e) }(a, e)) : function (e, t) { return Pi(e, po(e), t) }(e, or(a, e)) } else { if (!at[h]) return o ? e : {}; a = function (e, t, n) { var r = e.constructor; switch (t) { case R: return Ai(e); case w: case E: return new r(+e); case j: return function (e, t) { var n = t ? Ai(e.buffer) : e.buffer; return new e.constructor(n, e.byteOffset, e.byteLength) }(e, n); case $: case L: case D: case U: case F: case B: case W: case z: case q: return Si(e, n); case A: return new r; case S: case P: return new r(e); case T: return function (e) { var t = new e.constructor(e.source, me.exec(e)); return t.lastIndex = e.lastIndex, t }(e); case N: return new r; case M: return i = e, Un ? Se(Un.call(i)) : {} }var i }(e, h, c) } } s || (s = new Zn); var p = s.get(e); if (p) return p; s.set(e, a), ca(e) ? e.forEach((function (r) { a.add(lr(r, t, n, r, e, s)) })) : ia(e) && e.forEach((function (r, i) { a.set(i, lr(r, t, n, i, e, s)) })); var m = d ? i : (u ? l ? oo : io : l ? Ra : Oa)(e); return kt(m || e, (function (r, i) { m && (r = e[i = r]), nr(a, i, lr(r, t, n, i, e, s)) })), a } function ur(e, t, n) { var r = n.length; if (null == e) return !r; for (e = Se(e); r--;) { var o = n[r], s = t[o], a = e[o]; if (a === i && !(o in e) || !s(a)) return !1 } return !0 } function dr(e, t, n) { if ("function" != typeof e) throw new Te(o); return Oo((function () { e.apply(i, n) }), t) } function hr(e, t, n, r) { var i = -1, o = Pt, s = !0, a = e.length, c = [], l = t.length; if (!a) return c; n && (t = Ot(t, Xt(n))), r ? (o = Mt, s = !1) : t.length >= 200 && (o = Qt, s = !1, t = new Yn(t)); e: for (; ++i < a;) { var u = e[i], d = null == n ? u : n(u); if (u = r || 0 !== u ? u : 0, s && d === d) { for (var h = l; h--;)if (t[h] === d) continue e; c.push(u) } else o(t, d, r) || c.push(u) } return c } Bn.templateSettings = { escape: J, evaluate: Q, interpolate: ee, variable: "", imports: { _: Bn } }, Bn.prototype = zn.prototype, Bn.prototype.constructor = Bn, qn.prototype = Wn(zn.prototype), qn.prototype.constructor = qn, Hn.prototype = Wn(zn.prototype), Hn.prototype.constructor = Hn, Gn.prototype.clear = function () { this.__data__ = Nn ? Nn(null) : {}, this.size = 0 }, Gn.prototype.delete = function (e) { var t = this.has(e) && delete this.__data__[e]; return this.size -= t ? 1 : 0, t }, Gn.prototype.get = function (e) { var t = this.__data__; if (Nn) { var n = t[e]; return n === s ? i : n } return je.call(t, e) ? t[e] : i }, Gn.prototype.has = function (e) { var t = this.__data__; return Nn ? t[e] !== i : je.call(t, e) }, Gn.prototype.set = function (e, t) { var n = this.__data__; return this.size += this.has(e) ? 0 : 1, n[e] = Nn && t === i ? s : t, this }, Vn.prototype.clear = function () { this.__data__ = [], this.size = 0 }, Vn.prototype.delete = function (e) { var t = this.__data__, n = rr(t, e); return !(n < 0) && (n == t.length - 1 ? t.pop() : Ye.call(t, n, 1), --this.size, !0) }, Vn.prototype.get = function (e) { var t = this.__data__, n = rr(t, e); return n < 0 ? i : t[n][1] }, Vn.prototype.has = function (e) { return rr(this.__data__, e) > -1 }, Vn.prototype.set = function (e, t) { var n = this.__data__, r = rr(n, e); return r < 0 ? (++this.size, n.push([e, t])) : n[r][1] = t, this }, Kn.prototype.clear = function () { this.size = 0, this.__data__ = { hash: new Gn, map: new (Sn || Vn), string: new Gn } }, Kn.prototype.delete = function (e) { var t = uo(this, e).delete(e); return this.size -= t ? 1 : 0, t }, Kn.prototype.get = function (e) { return uo(this, e).get(e) }, Kn.prototype.has = function (e) { return uo(this, e).has(e) }, Kn.prototype.set = function (e, t) { var n = uo(this, e), r = n.size; return n.set(e, t), this.size += n.size == r ? 0 : 1, this }, Yn.prototype.add = Yn.prototype.push = function (e) { return this.__data__.set(e, s), this }, Yn.prototype.has = function (e) { return this.__data__.has(e) }, Zn.prototype.clear = function () { this.__data__ = new Vn, this.size = 0 }, Zn.prototype.delete = function (e) { var t = this.__data__, n = t.delete(e); return this.size = t.size, n }, Zn.prototype.get = function (e) { return this.__data__.get(e) }, Zn.prototype.has = function (e) { return this.__data__.has(e) }, Zn.prototype.set = function (e, t) { var n = this.__data__; if (n instanceof Vn) { var r = n.__data__; if (!Sn || r.length < 199) return r.push([e, t]), this.size = ++n.size, this; n = this.__data__ = new Kn(r) } return n.set(e, t), this.size = n.size, this }; var fr = Ri(Er), pr = Ri(xr, !0); function mr(e, t) { var n = !0; return fr(e, (function (e, r, i) { return n = !!t(e, r, i) })), n } function gr(e, t, n) { for (var r = -1, o = e.length; ++r < o;) { var s = e[r], a = t(s); if (null != a && (c === i ? a === a && !ua(a) : n(a, c))) var c = a, l = s } return l } function yr(e, t) { var n = []; return fr(e, (function (e, r, i) { t(e, r, i) && n.push(e) })), n } function br(e, t, n, r, i) { var o = -1, s = e.length; for (n || (n = vo), i || (i = []); ++o < s;) { var a = e[o]; t > 0 && n(a) ? t > 1 ? br(a, t - 1, n, r, i) : Rt(i, a) : r || (i[i.length] = a) } return i } var vr = ji(), wr = ji(!0); function Er(e, t) { return e && vr(e, t, Oa) } function xr(e, t) { return e && wr(e, t, Oa) } function _r(e, t) { return Nt(t, (function (t) { return Qs(e[t]) })) } function Cr(e, t) { for (var n = 0, r = (t = wi(t, e)).length; null != e && n < r;)e = e[Uo(t[n++])]; return n && n == r ? e : i } function Ar(e, t, n) { var r = t(e); return Gs(e) ? r : Rt(r, n(e)) } function Sr(e) { return null == e ? e === i ? "[object Undefined]" : "[object Null]" : et && et in Se(e) ? function (e) { var t = je.call(e, et), n = e[et]; try { e[et] = i; var r = !0 } catch (s) { } var o = De.call(e); r && (t ? e[et] = n : delete e[et]); return o }(e) : function (e) { return De.call(e) }(e) } function kr(e, t) { return e > t } function Ir(e, t) { return null != e && je.call(e, t) } function Tr(e, t) { return null != e && t in Se(e) } function Nr(e, t, r) { for (var o = r ? Mt : Pt, s = e[0].length, a = e.length, c = a, l = n(a), u = 1 / 0, d = []; c--;) { var h = e[c]; c && t && (h = Ot(h, Xt(t))), u = wn(h.length, u), l[c] = !r && (t || s >= 120 && h.length >= 120) ? new Yn(c && h) : i } h = e[0]; var f = -1, p = l[0]; e: for (; ++f < s && d.length < u;) { var m = h[f], g = t ? t(m) : m; if (m = r || 0 !== m ? m : 0, !(p ? Qt(p, g) : o(d, g, r))) { for (c = a; --c;) { var y = l[c]; if (!(y ? Qt(y, g) : o(e[c], g, r))) continue e } p && p.push(g), d.push(m) } } return d } function Pr(e, t, n) { var r = null == (e = To(e, t = wi(t, e))) ? e : e[Uo(Jo(t))]; return null == r ? i : At(r, e, n) } function Mr(e) { return ra(e) && Sr(e) == b } function Or(e, t, n, r, o) { return e === t || (null == e || null == t || !ra(e) && !ra(t) ? e !== e && t !== t : function (e, t, n, r, o, s) { var a = Gs(e), c = Gs(t), l = a ? v : go(e), u = c ? v : go(t), d = (l = l == b ? k : l) == k, h = (u = u == b ? k : u) == k, f = l == u; if (f && Zs(e)) { if (!Zs(t)) return !1; a = !0, d = !1 } if (f && !d) return s || (s = new Zn), a || da(e) ? no(e, t, n, r, o, s) : function (e, t, n, r, i, o, s) { switch (n) { case j: if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset) return !1; e = e.buffer, t = t.buffer; case R: return !(e.byteLength != t.byteLength || !o(new qe(e), new qe(t))); case w: case E: case S: return Ws(+e, +t); case x: return e.name == t.name && e.message == t.message; case T: case P: return e == t + ""; case A: var a = cn; case N: var c = 1 & r; if (a || (a = dn), e.size != t.size && !c) return !1; var l = s.get(e); if (l) return l == t; r |= 2, s.set(e, t); var u = no(a(e), a(t), r, i, o, s); return s.delete(e), u; case M: if (Un) return Un.call(e) == Un.call(t) }return !1 }(e, t, l, n, r, o, s); if (!(1 & n)) { var p = d && je.call(e, "__wrapped__"), m = h && je.call(t, "__wrapped__"); if (p || m) { var g = p ? e.value() : e, y = m ? t.value() : t; return s || (s = new Zn), o(g, y, n, r, s) } } if (!f) return !1; return s || (s = new Zn), function (e, t, n, r, o, s) { var a = 1 & n, c = io(e), l = c.length, u = io(t).length; if (l != u && !a) return !1; var d = l; for (; d--;) { var h = c[d]; if (!(a ? h in t : je.call(t, h))) return !1 } var f = s.get(e), p = s.get(t); if (f && p) return f == t && p == e; var m = !0; s.set(e, t), s.set(t, e); var g = a; for (; ++d < l;) { var y = e[h = c[d]], b = t[h]; if (r) var v = a ? r(b, y, h, t, e, s) : r(y, b, h, e, t, s); if (!(v === i ? y === b || o(y, b, n, r, s) : v)) { m = !1; break } g || (g = "constructor" == h) } if (m && !g) { var w = e.constructor, E = t.constructor; w == E || !("constructor" in e) || !("constructor" in t) || "function" == typeof w && w instanceof w && "function" == typeof E && E instanceof E || (m = !1) } return s.delete(e), s.delete(t), m }(e, t, n, r, o, s) }(e, t, n, r, Or, o)) } function Rr(e, t, n, r) { var o = n.length, s = o, a = !r; if (null == e) return !s; for (e = Se(e); o--;) { var c = n[o]; if (a && c[2] ? c[1] !== e[c[0]] : !(c[0] in e)) return !1 } for (; ++o < s;) { var l = (c = n[o])[0], u = e[l], d = c[1]; if (a && c[2]) { if (u === i && !(l in e)) return !1 } else { var h = new Zn; if (r) var f = r(u, d, l, e, t, h); if (!(f === i ? Or(d, u, 3, r, h) : f)) return !1 } } return !0 } function jr(e) { return !(!na(e) || (t = e, Le && Le in t)) && (Qs(e) ? Be : be).test(Fo(e)); var t } function $r(e) { return "function" == typeof e ? e : null == e ? oc : "object" == typeof e ? Gs(e) ? Wr(e[0], e[1]) : Br(e) : pc(e) } function Lr(e) { if (!Ao(e)) return bn(e); var t = []; for (var n in Se(e)) je.call(e, n) && "constructor" != n && t.push(n); return t } function Dr(e) { if (!na(e)) return function (e) { var t = []; if (null != e) for (var n in Se(e)) t.push(n); return t }(e); var t = Ao(e), n = []; for (var r in e) ("constructor" != r || !t && je.call(e, r)) && n.push(r); return n } function Ur(e, t) { return e < t } function Fr(e, t) { var r = -1, i = Ks(e) ? n(e.length) : []; return fr(e, (function (e, n, o) { i[++r] = t(e, n, o) })), i } function Br(e) { var t = ho(e); return 1 == t.length && t[0][2] ? ko(t[0][0], t[0][1]) : function (n) { return n === e || Rr(n, e, t) } } function Wr(e, t) { return xo(e) && So(t) ? ko(Uo(e), t) : function (n) { var r = Ia(n, e); return r === i && r === t ? Ta(n, e) : Or(t, r, 3) } } function zr(e, t, n, r, o) { e !== t && vr(t, (function (s, a) { if (o || (o = new Zn), na(s)) !function (e, t, n, r, o, s, a) { var c = Po(e, n), l = Po(t, n), u = a.get(l); if (u) return void tr(e, n, u); var d = s ? s(c, l, n + "", e, t, a) : i, h = d === i; if (h) { var f = Gs(l), p = !f && Zs(l), m = !f && !p && da(l); d = l, f || p || m ? Gs(c) ? d = c : Ys(c) ? d = Ni(c) : p ? (h = !1, d = Ci(l, !0)) : m ? (h = !1, d = Si(l, !0)) : d = [] : sa(l) || Hs(l) ? (d = c, Hs(c) ? d = va(c) : na(c) && !Qs(c) || (d = bo(l))) : h = !1 } h && (a.set(l, d), o(d, l, r, s, a), a.delete(l)); tr(e, n, d) }(e, t, a, n, zr, r, o); else { var c = r ? r(Po(e, a), s, a + "", e, t, o) : i; c === i && (c = s), tr(e, a, c) } }), Ra) } function qr(e, t) { var n = e.length; if (n) return wo(t += t < 0 ? n : 0, n) ? e[t] : i } function Hr(e, t, n) { t = t.length ? Ot(t, (function (e) { return Gs(e) ? function (t) { return Cr(t, 1 === e.length ? e[0] : e) } : e })) : [oc]; var r = -1; return t = Ot(t, Xt(lo())), function (e, t) { var n = e.length; for (e.sort(t); n--;)e[n] = e[n].value; return e }(Fr(e, (function (e, n, i) { return { criteria: Ot(t, (function (t) { return t(e) })), index: ++r, value: e } })), (function (e, t) { return function (e, t, n) { var r = -1, i = e.criteria, o = t.criteria, s = i.length, a = n.length; for (; ++r < s;) { var c = ki(i[r], o[r]); if (c) return r >= a ? c : c * ("desc" == n[r] ? -1 : 1) } return e.index - t.index }(e, t, n) })) } function Gr(e, t, n) { for (var r = -1, i = t.length, o = {}; ++r < i;) { var s = t[r], a = Cr(e, s); n(a, s) && ei(o, wi(s, e), a) } return o } function Vr(e, t, n, r) { var i = r ? Wt : Bt, o = -1, s = t.length, a = e; for (e === t && (t = Ni(t)), n && (a = Ot(e, Xt(n))); ++o < s;)for (var c = 0, l = t[o], u = n ? n(l) : l; (c = i(a, u, c, r)) > -1;)a !== e && Ye.call(a, c, 1), Ye.call(e, c, 1); return e } function Kr(e, t) { for (var n = e ? t.length : 0, r = n - 1; n--;) { var i = t[n]; if (n == r || i !== o) { var o = i; wo(i) ? Ye.call(e, i, 1) : hi(e, i) } } return e } function Yr(e, t) { return e + mt(_n() * (t - e + 1)) } function Zr(e, t) { var n = ""; if (!e || t < 1 || t > p) return n; do { t % 2 && (n += e), (t = mt(t / 2)) && (e += e) } while (t); return n } function Xr(e, t) { return Ro(Io(e, t, oc), e + "") } function Jr(e) { return Jn(Wa(e)) } function Qr(e, t) { var n = Wa(e); return Lo(n, cr(t, 0, n.length)) } function ei(e, t, n, r) { if (!na(e)) return e; for (var o = -1, s = (t = wi(t, e)).length, a = s - 1, c = e; null != c && ++o < s;) { var l = Uo(t[o]), u = n; if ("__proto__" === l || "constructor" === l || "prototype" === l) return e; if (o != a) { var d = c[l]; (u = r ? r(d, l, c) : i) === i && (u = na(d) ? d : wo(t[o + 1]) ? [] : {}) } nr(c, l, u), c = c[l] } return e } var ti = Pn ? function (e, t) { return Pn.set(e, t), e } : oc, ni = nt ? function (e, t) { return nt(e, "toString", { configurable: !0, enumerable: !1, value: nc(t), writable: !0 }) } : oc; function ri(e) { return Lo(Wa(e)) } function ii(e, t, r) { var i = -1, o = e.length; t < 0 && (t = -t > o ? 0 : o + t), (r = r > o ? o : r) < 0 && (r += o), o = t > r ? 0 : r - t >>> 0, t >>>= 0; for (var s = n(o); ++i < o;)s[i] = e[i + t]; return s } function oi(e, t) { var n; return fr(e, (function (e, r, i) { return !(n = t(e, r, i)) })), !!n } function si(e, t, n) { var r = 0, i = null == e ? r : e.length; if ("number" == typeof t && t === t && i <= 2147483647) { for (; r < i;) { var o = r + i >>> 1, s = e[o]; null !== s && !ua(s) && (n ? s <= t : s < t) ? r = o + 1 : i = o } return i } return ai(e, t, oc, n) } function ai(e, t, n, r) { var o = 0, s = null == e ? 0 : e.length; if (0 === s) return 0; for (var a = (t = n(t)) !== t, c = null === t, l = ua(t), u = t === i; o < s;) { var d = mt((o + s) / 2), h = n(e[d]), f = h !== i, p = null === h, m = h === h, g = ua(h); if (a) var y = r || m; else y = u ? m && (r || f) : c ? m && f && (r || !p) : l ? m && f && !p && (r || !g) : !p && !g && (r ? h <= t : h < t); y ? o = d + 1 : s = d } return wn(s, 4294967294) } function ci(e, t) { for (var n = -1, r = e.length, i = 0, o = []; ++n < r;) { var s = e[n], a = t ? t(s) : s; if (!n || !Ws(a, c)) { var c = a; o[i++] = 0 === s ? 0 : s } } return o } function li(e) { return "number" == typeof e ? e : ua(e) ? m : +e } function ui(e) { if ("string" == typeof e) return e; if (Gs(e)) return Ot(e, ui) + ""; if (ua(e)) return Fn ? Fn.call(e) : ""; var t = e + ""; return "0" == t && 1 / e == -1 / 0 ? "-0" : t } function di(e, t, n) { var r = -1, i = Pt, o = e.length, s = !0, a = [], c = a; if (n) s = !1, i = Mt; else if (o >= 200) { var l = t ? null : Zi(e); if (l) return dn(l); s = !1, i = Qt, c = new Yn } else c = t ? [] : a; e: for (; ++r < o;) { var u = e[r], d = t ? t(u) : u; if (u = n || 0 !== u ? u : 0, s && d === d) { for (var h = c.length; h--;)if (c[h] === d) continue e; t && c.push(d), a.push(u) } else i(c, d, n) || (c !== a && c.push(d), a.push(u)) } return a } function hi(e, t) { return null == (e = To(e, t = wi(t, e))) || delete e[Uo(Jo(t))] } function fi(e, t, n, r) { return ei(e, t, n(Cr(e, t)), r) } function pi(e, t, n, r) { for (var i = e.length, o = r ? i : -1; (r ? o-- : ++o < i) && t(e[o], o, e);); return n ? ii(e, r ? 0 : o, r ? o + 1 : i) : ii(e, r ? o + 1 : 0, r ? i : o) } function mi(e, t) { var n = e; return n instanceof Hn && (n = n.value()), jt(t, (function (e, t) { return t.func.apply(t.thisArg, Rt([e], t.args)) }), n) } function gi(e, t, r) { var i = e.length; if (i < 2) return i ? di(e[0]) : []; for (var o = -1, s = n(i); ++o < i;)for (var a = e[o], c = -1; ++c < i;)c != o && (s[o] = hr(s[o] || a, e[c], t, r)); return di(br(s, 1), t, r) } function yi(e, t, n) { for (var r = -1, o = e.length, s = t.length, a = {}; ++r < o;) { var c = r < s ? t[r] : i; n(a, e[r], c) } return a } function bi(e) { return Ys(e) ? e : [] } function vi(e) { return "function" == typeof e ? e : oc } function wi(e, t) { return Gs(e) ? e : xo(e, t) ? [e] : Do(wa(e)) } var Ei = Xr; function xi(e, t, n) { var r = e.length; return n = n === i ? r : n, !t && n >= r ? e : ii(e, t, n) } var _i = ct || function (e) { return ft.clearTimeout(e) }; function Ci(e, t) { if (t) return e.slice(); var n = e.length, r = He ? He(n) : new e.constructor(n); return e.copy(r), r } function Ai(e) { var t = new e.constructor(e.byteLength); return new qe(t).set(new qe(e)), t } function Si(e, t) { var n = t ? Ai(e.buffer) : e.buffer; return new e.constructor(n, e.byteOffset, e.length) } function ki(e, t) { if (e !== t) { var n = e !== i, r = null === e, o = e === e, s = ua(e), a = t !== i, c = null === t, l = t === t, u = ua(t); if (!c && !u && !s && e > t || s && a && l && !c && !u || r && a && l || !n && l || !o) return 1; if (!r && !s && !u && e < t || u && n && o && !r && !s || c && n && o || !a && o || !l) return -1 } return 0 } function Ii(e, t, r, i) { for (var o = -1, s = e.length, a = r.length, c = -1, l = t.length, u = vn(s - a, 0), d = n(l + u), h = !i; ++c < l;)d[c] = t[c]; for (; ++o < a;)(h || o < s) && (d[r[o]] = e[o]); for (; u--;)d[c++] = e[o++]; return d } function Ti(e, t, r, i) { for (var o = -1, s = e.length, a = -1, c = r.length, l = -1, u = t.length, d = vn(s - c, 0), h = n(d + u), f = !i; ++o < d;)h[o] = e[o]; for (var p = o; ++l < u;)h[p + l] = t[l]; for (; ++a < c;)(f || o < s) && (h[p + r[a]] = e[o++]); return h } function Ni(e, t) { var r = -1, i = e.length; for (t || (t = n(i)); ++r < i;)t[r] = e[r]; return t } function Pi(e, t, n, r) { var o = !n; n || (n = {}); for (var s = -1, a = t.length; ++s < a;) { var c = t[s], l = r ? r(n[c], e[c], c, n, e) : i; l === i && (l = e[c]), o ? sr(n, c, l) : nr(n, c, l) } return n } function Mi(e, t) { return function (n, r) { var i = Gs(n) ? St : ir, o = t ? t() : {}; return i(n, e, lo(r, 2), o) } } function Oi(e) { return Xr((function (t, n) { var r = -1, o = n.length, s = o > 1 ? n[o - 1] : i, a = o > 2 ? n[2] : i; for (s = e.length > 3 && "function" == typeof s ? (o--, s) : i, a && Eo(n[0], n[1], a) && (s = o < 3 ? i : s, o = 1), t = Se(t); ++r < o;) { var c = n[r]; c && e(t, c, r, s) } return t })) } function Ri(e, t) { return function (n, r) { if (null == n) return n; if (!Ks(n)) return e(n, r); for (var i = n.length, o = t ? i : -1, s = Se(n); (t ? o-- : ++o < i) && !1 !== r(s[o], o, s);); return n } } function ji(e) { return function (t, n, r) { for (var i = -1, o = Se(t), s = r(t), a = s.length; a--;) { var c = s[e ? a : ++i]; if (!1 === n(o[c], c, o)) break } return t } } function $i(e) { return function (t) { var n = an(t = wa(t)) ? pn(t) : i, r = n ? n[0] : t.charAt(0), o = n ? xi(n, 1).join("") : t.slice(1); return r[e]() + o } } function Li(e) { return function (t) { return jt(Qa(Ha(t).replace(Je, "")), e, "") } } function Di(e) { return function () { var t = arguments; switch (t.length) { case 0: return new e; case 1: return new e(t[0]); case 2: return new e(t[0], t[1]); case 3: return new e(t[0], t[1], t[2]); case 4: return new e(t[0], t[1], t[2], t[3]); case 5: return new e(t[0], t[1], t[2], t[3], t[4]); case 6: return new e(t[0], t[1], t[2], t[3], t[4], t[5]); case 7: return new e(t[0], t[1], t[2], t[3], t[4], t[5], t[6]) }var n = Wn(e.prototype), r = e.apply(n, t); return na(r) ? r : n } } function Ui(e) { return function (t, n, r) { var o = Se(t); if (!Ks(t)) { var s = lo(n, 3); t = Oa(t), n = function (e) { return s(o[e], e, o) } } var a = e(t, n, r); return a > -1 ? o[s ? t[a] : a] : i } } function Fi(e) { return ro((function (t) { var n = t.length, r = n, s = qn.prototype.thru; for (e && t.reverse(); r--;) { var a = t[r]; if ("function" != typeof a) throw new Te(o); if (s && !c && "wrapper" == ao(a)) var c = new qn([], !0) } for (r = c ? r : n; ++r < n;) { var l = ao(a = t[r]), u = "wrapper" == l ? so(a) : i; c = u && _o(u[0]) && 424 == u[1] && !u[4].length && 1 == u[9] ? c[ao(u[0])].apply(c, u[3]) : 1 == a.length && _o(a) ? c[l]() : c.thru(a) } return function () { var e = arguments, r = e[0]; if (c && 1 == e.length && Gs(r)) return c.plant(r).value(); for (var i = 0, o = n ? t[i].apply(this, e) : r; ++i < n;)o = t[i].call(this, o); return o } })) } function Bi(e, t, r, o, s, a, c, l, u, h) { var f = t & d, p = 1 & t, m = 2 & t, g = 24 & t, y = 512 & t, b = m ? i : Di(e); return function i() { for (var d = arguments.length, v = n(d), w = d; w--;)v[w] = arguments[w]; if (g) var E = co(i), x = nn(v, E); if (o && (v = Ii(v, o, s, g)), a && (v = Ti(v, a, c, g)), d -= x, g && d < h) { var _ = un(v, E); return Ki(e, t, Bi, i.placeholder, r, v, _, l, u, h - d) } var C = p ? r : this, A = m ? C[e] : e; return d = v.length, l ? v = No(v, l) : y && d > 1 && v.reverse(), f && u < d && (v.length = u), this && this !== ft && this instanceof i && (A = b || Di(A)), A.apply(C, v) } } function Wi(e, t) { return function (n, r) { return function (e, t, n, r) { return Er(e, (function (e, i, o) { t(r, n(e), i, o) })), r }(n, e, t(r), {}) } } function zi(e, t) { return function (n, r) { var o; if (n === i && r === i) return t; if (n !== i && (o = n), r !== i) { if (o === i) return r; "string" == typeof n || "string" == typeof r ? (n = ui(n), r = ui(r)) : (n = li(n), r = li(r)), o = e(n, r) } return o } } function qi(e) { return ro((function (t) { return t = Ot(t, Xt(lo())), Xr((function (n) { var r = this; return e(t, (function (e) { return At(e, r, n) })) })) })) } function Hi(e, t) { var n = (t = t === i ? " " : ui(t)).length; if (n < 2) return n ? Zr(t, e) : t; var r = Zr(t, pt(e / fn(t))); return an(t) ? xi(pn(r), 0, e).join("") : r.slice(0, e) } function Gi(e) { return function (t, r, o) { return o && "number" != typeof o && Eo(t, r, o) && (r = o = i), t = ma(t), r === i ? (r = t, t = 0) : r = ma(r), function (e, t, r, i) { for (var o = -1, s = vn(pt((t - e) / (r || 1)), 0), a = n(s); s--;)a[i ? s : ++o] = e, e += r; return a }(t, r, o = o === i ? t < r ? 1 : -1 : ma(o), e) } } function Vi(e) { return function (t, n) { return "string" == typeof t && "string" == typeof n || (t = ba(t), n = ba(n)), e(t, n) } } function Ki(e, t, n, r, o, s, a, c, d, h) { var f = 8 & t; t |= f ? l : u, 4 & (t &= ~(f ? u : l)) || (t &= -4); var p = [e, t, o, f ? s : i, f ? a : i, f ? i : s, f ? i : a, c, d, h], m = n.apply(i, p); return _o(e) && Mo(m, p), m.placeholder = r, jo(m, e, t) } function Yi(e) { var t = Ae[e]; return function (e, n) { if (e = ba(e), (n = null == n ? 0 : wn(ga(n), 292)) && Dt(e)) { var r = (wa(e) + "e").split("e"); return +((r = (wa(t(r[0] + "e" + (+r[1] + n))) + "e").split("e"))[0] + "e" + (+r[1] - n)) } return t(e) } } var Zi = In && 1 / dn(new In([, -0]))[1] == f ? function (e) { return new In(e) } : uc; function Xi(e) { return function (t) { var n = go(t); return n == A ? cn(t) : n == N ? hn(t) : function (e, t) { return Ot(t, (function (t) { return [t, e[t]] })) }(t, e(t)) } } function Ji(e, t, r, s, f, p, m, g) { var y = 2 & t; if (!y && "function" != typeof e) throw new Te(o); var b = s ? s.length : 0; if (b || (t &= -97, s = f = i), m = m === i ? m : vn(ga(m), 0), g = g === i ? g : ga(g), b -= f ? f.length : 0, t & u) { var v = s, w = f; s = f = i } var E = y ? i : so(e), x = [e, t, r, s, f, v, w, p, m, g]; if (E && function (e, t) { var n = e[1], r = t[1], i = n | r, o = i < 131, s = r == d && 8 == n || r == d && n == h && e[7].length <= t[8] || 384 == r && t[7].length <= t[8] && 8 == n; if (!o && !s) return e; 1 & r && (e[2] = t[2], i |= 1 & n ? 0 : 4); var c = t[3]; if (c) { var l = e[3]; e[3] = l ? Ii(l, c, t[4]) : c, e[4] = l ? un(e[3], a) : t[4] } (c = t[5]) && (l = e[5], e[5] = l ? Ti(l, c, t[6]) : c, e[6] = l ? un(e[5], a) : t[6]); (c = t[7]) && (e[7] = c); r & d && (e[8] = null == e[8] ? t[8] : wn(e[8], t[8])); null == e[9] && (e[9] = t[9]); e[0] = t[0], e[1] = i }(x, E), e = x[0], t = x[1], r = x[2], s = x[3], f = x[4], !(g = x[9] = x[9] === i ? y ? 0 : e.length : vn(x[9] - b, 0)) && 24 & t && (t &= -25), t && 1 != t) _ = 8 == t || t == c ? function (e, t, r) { var o = Di(e); return function s() { for (var a = arguments.length, c = n(a), l = a, u = co(s); l--;)c[l] = arguments[l]; var d = a < 3 && c[0] !== u && c[a - 1] !== u ? [] : un(c, u); return (a -= d.length) < r ? Ki(e, t, Bi, s.placeholder, i, c, d, i, i, r - a) : At(this && this !== ft && this instanceof s ? o : e, this, c) } }(e, t, g) : t != l && 33 != t || f.length ? Bi.apply(i, x) : function (e, t, r, i) { var o = 1 & t, s = Di(e); return function t() { for (var a = -1, c = arguments.length, l = -1, u = i.length, d = n(u + c), h = this && this !== ft && this instanceof t ? s : e; ++l < u;)d[l] = i[l]; for (; c--;)d[l++] = arguments[++a]; return At(h, o ? r : this, d) } }(e, t, r, s); else var _ = function (e, t, n) { var r = 1 & t, i = Di(e); return function t() { return (this && this !== ft && this instanceof t ? i : e).apply(r ? n : this, arguments) } }(e, t, r); return jo((E ? ti : Mo)(_, x), e, t) } function Qi(e, t, n, r) { return e === i || Ws(e, Me[n]) && !je.call(r, n) ? t : e } function eo(e, t, n, r, o, s) { return na(e) && na(t) && (s.set(t, e), zr(e, t, i, eo, s), s.delete(t)), e } function to(e) { return sa(e) ? i : e } function no(e, t, n, r, o, s) { var a = 1 & n, c = e.length, l = t.length; if (c != l && !(a && l > c)) return !1; var u = s.get(e), d = s.get(t); if (u && d) return u == t && d == e; var h = -1, f = !0, p = 2 & n ? new Yn : i; for (s.set(e, t), s.set(t, e); ++h < c;) { var m = e[h], g = t[h]; if (r) var y = a ? r(g, m, h, t, e, s) : r(m, g, h, e, t, s); if (y !== i) { if (y) continue; f = !1; break } if (p) { if (!Lt(t, (function (e, t) { if (!Qt(p, t) && (m === e || o(m, e, n, r, s))) return p.push(t) }))) { f = !1; break } } else if (m !== g && !o(m, g, n, r, s)) { f = !1; break } } return s.delete(e), s.delete(t), f } function ro(e) { return Ro(Io(e, i, Vo), e + "") } function io(e) { return Ar(e, Oa, po) } function oo(e) { return Ar(e, Ra, mo) } var so = Pn ? function (e) { return Pn.get(e) } : uc; function ao(e) { for (var t = e.name + "", n = Mn[t], r = je.call(Mn, t) ? n.length : 0; r--;) { var i = n[r], o = i.func; if (null == o || o == e) return i.name } return t } function co(e) { return (je.call(Bn, "placeholder") ? Bn : e).placeholder } function lo() { var e = Bn.iteratee || sc; return e = e === sc ? $r : e, arguments.length ? e(arguments[0], arguments[1]) : e } function uo(e, t) { var n = e.__data__; return function (e) { var t = typeof e; return "string" == t || "number" == t || "symbol" == t || "boolean" == t ? "__proto__" !== e : null === e }(t) ? n["string" == typeof t ? "string" : "hash"] : n.map } function ho(e) { for (var t = Oa(e), n = t.length; n--;) { var r = t[n], i = e[r]; t[n] = [r, i, So(i)] } return t } function fo(e, t) { var n = function (e, t) { return null == e ? i : e[t] }(e, t); return jr(n) ? n : i } var po = yt ? function (e) { return null == e ? [] : (e = Se(e), Nt(yt(e), (function (t) { return Ke.call(e, t) }))) } : yc, mo = yt ? function (e) { for (var t = []; e;)Rt(t, po(e)), e = Ge(e); return t } : yc, go = Sr; function yo(e, t, n) { for (var r = -1, i = (t = wi(t, e)).length, o = !1; ++r < i;) { var s = Uo(t[r]); if (!(o = null != e && n(e, s))) break; e = e[s] } return o || ++r != i ? o : !!(i = null == e ? 0 : e.length) && ta(i) && wo(s, i) && (Gs(e) || Hs(e)) } function bo(e) { return "function" != typeof e.constructor || Ao(e) ? {} : Wn(Ge(e)) } function vo(e) { return Gs(e) || Hs(e) || !!(Ze && e && e[Ze]) } function wo(e, t) { var n = typeof e; return !!(t = null == t ? p : t) && ("number" == n || "symbol" != n && we.test(e)) && e > -1 && e % 1 == 0 && e < t } function Eo(e, t, n) { if (!na(n)) return !1; var r = typeof t; return !!("number" == r ? Ks(n) && wo(t, n.length) : "string" == r && t in n) && Ws(n[t], e) } function xo(e, t) { if (Gs(e)) return !1; var n = typeof e; return !("number" != n && "symbol" != n && "boolean" != n && null != e && !ua(e)) || (ne.test(e) || !te.test(e) || null != t && e in Se(t)) } function _o(e) { var t = ao(e), n = Bn[t]; if ("function" != typeof n || !(t in Hn.prototype)) return !1; if (e === n) return !0; var r = so(n); return !!r && e === r[0] } (An && go(new An(new ArrayBuffer(1))) != j || Sn && go(new Sn) != A || kn && go(kn.resolve()) != I || In && go(new In) != N || Tn && go(new Tn) != O) && (go = function (e) { var t = Sr(e), n = t == k ? e.constructor : i, r = n ? Fo(n) : ""; if (r) switch (r) { case On: return j; case Rn: return A; case jn: return I; case $n: return N; case Ln: return O }return t }); var Co = Oe ? Qs : bc; function Ao(e) { var t = e && e.constructor; return e === ("function" == typeof t && t.prototype || Me) } function So(e) { return e === e && !na(e) } function ko(e, t) { return function (n) { return null != n && (n[e] === t && (t !== i || e in Se(n))) } } function Io(e, t, r) { return t = vn(t === i ? e.length - 1 : t, 0), function () { for (var i = arguments, o = -1, s = vn(i.length - t, 0), a = n(s); ++o < s;)a[o] = i[t + o]; o = -1; for (var c = n(t + 1); ++o < t;)c[o] = i[o]; return c[t] = r(a), At(e, this, c) } } function To(e, t) { return t.length < 2 ? e : Cr(e, ii(t, 0, -1)) } function No(e, t) { for (var n = e.length, r = wn(t.length, n), o = Ni(e); r--;) { var s = t[r]; e[r] = wo(s, n) ? o[s] : i } return e } function Po(e, t) { if (("constructor" !== t || "function" !== typeof e[t]) && "__proto__" != t) return e[t] } var Mo = $o(ti), Oo = ht || function (e, t) { return ft.setTimeout(e, t) }, Ro = $o(ni); function jo(e, t, n) { var r = t + ""; return Ro(e, function (e, t) { var n = t.length; if (!n) return e; var r = n - 1; return t[r] = (n > 1 ? "& " : "") + t[r], t = t.join(n > 2 ? ", " : " "), e.replace(ce, "{\n/* [wrapped with " + t + "] */\n") }(r, function (e, t) { return kt(y, (function (n) { var r = "_." + n[0]; t & n[1] && !Pt(e, r) && e.push(r) })), e.sort() }(function (e) { var t = e.match(le); return t ? t[1].split(ue) : [] }(r), n))) } function $o(e) { var t = 0, n = 0; return function () { var r = En(), o = 16 - (r - n); if (n = r, o > 0) { if (++t >= 800) return arguments[0] } else t = 0; return e.apply(i, arguments) } } function Lo(e, t) { var n = -1, r = e.length, o = r - 1; for (t = t === i ? r : t; ++n < t;) { var s = Yr(n, o), a = e[s]; e[s] = e[n], e[n] = a } return e.length = t, e } var Do = function (e) { var t = $s(e, (function (e) { return 500 === n.size && n.clear(), e })), n = t.cache; return t }((function (e) { var t = []; return 46 === e.charCodeAt(0) && t.push(""), e.replace(re, (function (e, n, r, i) { t.push(r ? i.replace(fe, "$1") : n || e) })), t })); function Uo(e) { if ("string" == typeof e || ua(e)) return e; var t = e + ""; return "0" == t && 1 / e == -1 / 0 ? "-0" : t } function Fo(e) { if (null != e) { try { return Re.call(e) } catch (t) { } try { return e + "" } catch (t) { } } return "" } function Bo(e) { if (e instanceof Hn) return e.clone(); var t = new qn(e.__wrapped__, e.__chain__); return t.__actions__ = Ni(e.__actions__), t.__index__ = e.__index__, t.__values__ = e.__values__, t } var Wo = Xr((function (e, t) { return Ys(e) ? hr(e, br(t, 1, Ys, !0)) : [] })), zo = Xr((function (e, t) { var n = Jo(t); return Ys(n) && (n = i), Ys(e) ? hr(e, br(t, 1, Ys, !0), lo(n, 2)) : [] })), qo = Xr((function (e, t) { var n = Jo(t); return Ys(n) && (n = i), Ys(e) ? hr(e, br(t, 1, Ys, !0), i, n) : [] })); function Ho(e, t, n) { var r = null == e ? 0 : e.length; if (!r) return -1; var i = null == n ? 0 : ga(n); return i < 0 && (i = vn(r + i, 0)), Ft(e, lo(t, 3), i) } function Go(e, t, n) { var r = null == e ? 0 : e.length; if (!r) return -1; var o = r - 1; return n !== i && (o = ga(n), o = n < 0 ? vn(r + o, 0) : wn(o, r - 1)), Ft(e, lo(t, 3), o, !0) } function Vo(e) { return (null == e ? 0 : e.length) ? br(e, 1) : [] } function Ko(e) { return e && e.length ? e[0] : i } var Yo = Xr((function (e) { var t = Ot(e, bi); return t.length && t[0] === e[0] ? Nr(t) : [] })), Zo = Xr((function (e) { var t = Jo(e), n = Ot(e, bi); return t === Jo(n) ? t = i : n.pop(), n.length && n[0] === e[0] ? Nr(n, lo(t, 2)) : [] })), Xo = Xr((function (e) { var t = Jo(e), n = Ot(e, bi); return (t = "function" == typeof t ? t : i) && n.pop(), n.length && n[0] === e[0] ? Nr(n, i, t) : [] })); function Jo(e) { var t = null == e ? 0 : e.length; return t ? e[t - 1] : i } var Qo = Xr(es); function es(e, t) { return e && e.length && t && t.length ? Vr(e, t) : e } var ts = ro((function (e, t) { var n = null == e ? 0 : e.length, r = ar(e, t); return Kr(e, Ot(t, (function (e) { return wo(e, n) ? +e : e })).sort(ki)), r })); function ns(e) { return null == e ? e : Cn.call(e) } var rs = Xr((function (e) { return di(br(e, 1, Ys, !0)) })), is = Xr((function (e) { var t = Jo(e); return Ys(t) && (t = i), di(br(e, 1, Ys, !0), lo(t, 2)) })), os = Xr((function (e) { var t = Jo(e); return t = "function" == typeof t ? t : i, di(br(e, 1, Ys, !0), i, t) })); function ss(e) { if (!e || !e.length) return []; var t = 0; return e = Nt(e, (function (e) { if (Ys(e)) return t = vn(e.length, t), !0 })), Yt(t, (function (t) { return Ot(e, Ht(t)) })) } function as(e, t) { if (!e || !e.length) return []; var n = ss(e); return null == t ? n : Ot(n, (function (e) { return At(t, i, e) })) } var cs = Xr((function (e, t) { return Ys(e) ? hr(e, t) : [] })), ls = Xr((function (e) { return gi(Nt(e, Ys)) })), us = Xr((function (e) { var t = Jo(e); return Ys(t) && (t = i), gi(Nt(e, Ys), lo(t, 2)) })), ds = Xr((function (e) { var t = Jo(e); return t = "function" == typeof t ? t : i, gi(Nt(e, Ys), i, t) })), hs = Xr(ss); var fs = Xr((function (e) { var t = e.length, n = t > 1 ? e[t - 1] : i; return n = "function" == typeof n ? (e.pop(), n) : i, as(e, n) })); function ps(e) { var t = Bn(e); return t.__chain__ = !0, t } function ms(e, t) { return t(e) } var gs = ro((function (e) { var t = e.length, n = t ? e[0] : 0, r = this.__wrapped__, o = function (t) { return ar(t, e) }; return !(t > 1 || this.__actions__.length) && r instanceof Hn && wo(n) ? ((r = r.slice(n, +n + (t ? 1 : 0))).__actions__.push({ func: ms, args: [o], thisArg: i }), new qn(r, this.__chain__).thru((function (e) { return t && !e.length && e.push(i), e }))) : this.thru(o) })); var ys = Mi((function (e, t, n) { je.call(e, n) ? ++e[n] : sr(e, n, 1) })); var bs = Ui(Ho), vs = Ui(Go); function ws(e, t) { return (Gs(e) ? kt : fr)(e, lo(t, 3)) } function Es(e, t) { return (Gs(e) ? It : pr)(e, lo(t, 3)) } var xs = Mi((function (e, t, n) { je.call(e, n) ? e[n].push(t) : sr(e, n, [t]) })); var _s = Xr((function (e, t, r) { var i = -1, o = "function" == typeof t, s = Ks(e) ? n(e.length) : []; return fr(e, (function (e) { s[++i] = o ? At(t, e, r) : Pr(e, t, r) })), s })), Cs = Mi((function (e, t, n) { sr(e, n, t) })); function As(e, t) { return (Gs(e) ? Ot : Fr)(e, lo(t, 3)) } var Ss = Mi((function (e, t, n) { e[n ? 0 : 1].push(t) }), (function () { return [[], []] })); var ks = Xr((function (e, t) { if (null == e) return []; var n = t.length; return n > 1 && Eo(e, t[0], t[1]) ? t = [] : n > 2 && Eo(t[0], t[1], t[2]) && (t = [t[0]]), Hr(e, br(t, 1), []) })), Is = dt || function () { return ft.Date.now() }; function Ts(e, t, n) { return t = n ? i : t, t = e && null == t ? e.length : t, Ji(e, d, i, i, i, i, t) } function Ns(e, t) { var n; if ("function" != typeof t) throw new Te(o); return e = ga(e), function () { return --e > 0 && (n = t.apply(this, arguments)), e <= 1 && (t = i), n } } var Ps = Xr((function (e, t, n) { var r = 1; if (n.length) { var i = un(n, co(Ps)); r |= l } return Ji(e, r, t, n, i) })), Ms = Xr((function (e, t, n) { var r = 3; if (n.length) { var i = un(n, co(Ms)); r |= l } return Ji(t, r, e, n, i) })); function Os(e, t, n) { var r, s, a, c, l, u, d = 0, h = !1, f = !1, p = !0; if ("function" != typeof e) throw new Te(o); function m(t) { var n = r, o = s; return r = s = i, d = t, c = e.apply(o, n) } function g(e) { return d = e, l = Oo(b, t), h ? m(e) : c } function y(e) { var n = e - u; return u === i || n >= t || n < 0 || f && e - d >= a } function b() { var e = Is(); if (y(e)) return v(e); l = Oo(b, function (e) { var n = t - (e - u); return f ? wn(n, a - (e - d)) : n }(e)) } function v(e) { return l = i, p && r ? m(e) : (r = s = i, c) } function w() { var e = Is(), n = y(e); if (r = arguments, s = this, u = e, n) { if (l === i) return g(u); if (f) return _i(l), l = Oo(b, t), m(u) } return l === i && (l = Oo(b, t)), c } return t = ba(t) || 0, na(n) && (h = !!n.leading, a = (f = "maxWait" in n) ? vn(ba(n.maxWait) || 0, t) : a, p = "trailing" in n ? !!n.trailing : p), w.cancel = function () { l !== i && _i(l), d = 0, r = u = s = l = i }, w.flush = function () { return l === i ? c : v(Is()) }, w } var Rs = Xr((function (e, t) { return dr(e, 1, t) })), js = Xr((function (e, t, n) { return dr(e, ba(t) || 0, n) })); function $s(e, t) { if ("function" != typeof e || null != t && "function" != typeof t) throw new Te(o); var n = function () { var r = arguments, i = t ? t.apply(this, r) : r[0], o = n.cache; if (o.has(i)) return o.get(i); var s = e.apply(this, r); return n.cache = o.set(i, s) || o, s }; return n.cache = new ($s.Cache || Kn), n } function Ls(e) { if ("function" != typeof e) throw new Te(o); return function () { var t = arguments; switch (t.length) { case 0: return !e.call(this); case 1: return !e.call(this, t[0]); case 2: return !e.call(this, t[0], t[1]); case 3: return !e.call(this, t[0], t[1], t[2]) }return !e.apply(this, t) } } $s.Cache = Kn; var Ds = Ei((function (e, t) { var n = (t = 1 == t.length && Gs(t[0]) ? Ot(t[0], Xt(lo())) : Ot(br(t, 1), Xt(lo()))).length; return Xr((function (r) { for (var i = -1, o = wn(r.length, n); ++i < o;)r[i] = t[i].call(this, r[i]); return At(e, this, r) })) })), Us = Xr((function (e, t) { var n = un(t, co(Us)); return Ji(e, l, i, t, n) })), Fs = Xr((function (e, t) { var n = un(t, co(Fs)); return Ji(e, u, i, t, n) })), Bs = ro((function (e, t) { return Ji(e, h, i, i, i, t) })); function Ws(e, t) { return e === t || e !== e && t !== t } var zs = Vi(kr), qs = Vi((function (e, t) { return e >= t })), Hs = Mr(function () { return arguments }()) ? Mr : function (e) { return ra(e) && je.call(e, "callee") && !Ke.call(e, "callee") }, Gs = n.isArray, Vs = vt ? Xt(vt) : function (e) { return ra(e) && Sr(e) == R }; function Ks(e) { return null != e && ta(e.length) && !Qs(e) } function Ys(e) { return ra(e) && Ks(e) } var Zs = bt || bc, Xs = wt ? Xt(wt) : function (e) { return ra(e) && Sr(e) == E }; function Js(e) { if (!ra(e)) return !1; var t = Sr(e); return t == x || "[object DOMException]" == t || "string" == typeof e.message && "string" == typeof e.name && !sa(e) } function Qs(e) { if (!na(e)) return !1; var t = Sr(e); return t == _ || t == C || "[object AsyncFunction]" == t || "[object Proxy]" == t } function ea(e) { return "number" == typeof e && e == ga(e) } function ta(e) { return "number" == typeof e && e > -1 && e % 1 == 0 && e <= p } function na(e) { var t = typeof e; return null != e && ("object" == t || "function" == t) } function ra(e) { return null != e && "object" == typeof e } var ia = Et ? Xt(Et) : function (e) { return ra(e) && go(e) == A }; function oa(e) { return "number" == typeof e || ra(e) && Sr(e) == S } function sa(e) { if (!ra(e) || Sr(e) != k) return !1; var t = Ge(e); if (null === t) return !0; var n = je.call(t, "constructor") && t.constructor; return "function" == typeof n && n instanceof n && Re.call(n) == Ue } var aa = xt ? Xt(xt) : function (e) { return ra(e) && Sr(e) == T }; var ca = _t ? Xt(_t) : function (e) { return ra(e) && go(e) == N }; function la(e) { return "string" == typeof e || !Gs(e) && ra(e) && Sr(e) == P } function ua(e) { return "symbol" == typeof e || ra(e) && Sr(e) == M } var da = Ct ? Xt(Ct) : function (e) { return ra(e) && ta(e.length) && !!st[Sr(e)] }; var ha = Vi(Ur), fa = Vi((function (e, t) { return e <= t })); function pa(e) { if (!e) return []; if (Ks(e)) return la(e) ? pn(e) : Ni(e); if (Xe && e[Xe]) return function (e) { for (var t, n = []; !(t = e.next()).done;)n.push(t.value); return n }(e[Xe]()); var t = go(e); return (t == A ? cn : t == N ? dn : Wa)(e) } function ma(e) { return e ? (e = ba(e)) === f || e === -1 / 0 ? 17976931348623157e292 * (e < 0 ? -1 : 1) : e === e ? e : 0 : 0 === e ? e : 0 } function ga(e) { var t = ma(e), n = t % 1; return t === t ? n ? t - n : t : 0 } function ya(e) { return e ? cr(ga(e), 0, g) : 0 } function ba(e) { if ("number" == typeof e) return e; if (ua(e)) return m; if (na(e)) { var t = "function" == typeof e.valueOf ? e.valueOf() : e; e = na(t) ? t + "" : t } if ("string" != typeof e) return 0 === e ? e : +e; e = Zt(e); var n = ye.test(e); return n || ve.test(e) ? ut(e.slice(2), n ? 2 : 8) : ge.test(e) ? m : +e } function va(e) { return Pi(e, Ra(e)) } function wa(e) { return null == e ? "" : ui(e) } var Ea = Oi((function (e, t) { if (Ao(t) || Ks(t)) Pi(t, Oa(t), e); else for (var n in t) je.call(t, n) && nr(e, n, t[n]) })), xa = Oi((function (e, t) { Pi(t, Ra(t), e) })), _a = Oi((function (e, t, n, r) { Pi(t, Ra(t), e, r) })), Ca = Oi((function (e, t, n, r) { Pi(t, Oa(t), e, r) })), Aa = ro(ar); var Sa = Xr((function (e, t) { e = Se(e); var n = -1, r = t.length, o = r > 2 ? t[2] : i; for (o && Eo(t[0], t[1], o) && (r = 1); ++n < r;)for (var s = t[n], a = Ra(s), c = -1, l = a.length; ++c < l;) { var u = a[c], d = e[u]; (d === i || Ws(d, Me[u]) && !je.call(e, u)) && (e[u] = s[u]) } return e })), ka = Xr((function (e) { return e.push(i, eo), At($a, i, e) })); function Ia(e, t, n) { var r = null == e ? i : Cr(e, t); return r === i ? n : r } function Ta(e, t) { return null != e && yo(e, t, Tr) } var Na = Wi((function (e, t, n) { null != t && "function" != typeof t.toString && (t = De.call(t)), e[t] = n }), nc(oc)), Pa = Wi((function (e, t, n) { null != t && "function" != typeof t.toString && (t = De.call(t)), je.call(e, t) ? e[t].push(n) : e[t] = [n] }), lo), Ma = Xr(Pr); function Oa(e) { return Ks(e) ? Xn(e) : Lr(e) } function Ra(e) { return Ks(e) ? Xn(e, !0) : Dr(e) } var ja = Oi((function (e, t, n) { zr(e, t, n) })), $a = Oi((function (e, t, n, r) { zr(e, t, n, r) })), La = ro((function (e, t) { var n = {}; if (null == e) return n; var r = !1; t = Ot(t, (function (t) { return t = wi(t, e), r || (r = t.length > 1), t })), Pi(e, oo(e), n), r && (n = lr(n, 7, to)); for (var i = t.length; i--;)hi(n, t[i]); return n })); var Da = ro((function (e, t) { return null == e ? {} : function (e, t) { return Gr(e, t, (function (t, n) { return Ta(e, n) })) }(e, t) })); function Ua(e, t) { if (null == e) return {}; var n = Ot(oo(e), (function (e) { return [e] })); return t = lo(t), Gr(e, n, (function (e, n) { return t(e, n[0]) })) } var Fa = Xi(Oa), Ba = Xi(Ra); function Wa(e) { return null == e ? [] : Jt(e, Oa(e)) } var za = Li((function (e, t, n) { return t = t.toLowerCase(), e + (n ? qa(t) : t) })); function qa(e) { return Ja(wa(e).toLowerCase()) } function Ha(e) { return (e = wa(e)) && e.replace(Ee, rn).replace(Qe, "") } var Ga = Li((function (e, t, n) { return e + (n ? "-" : "") + t.toLowerCase() })), Va = Li((function (e, t, n) { return e + (n ? " " : "") + t.toLowerCase() })), Ka = $i("toLowerCase"); var Ya = Li((function (e, t, n) { return e + (n ? "_" : "") + t.toLowerCase() })); var Za = Li((function (e, t, n) { return e + (n ? " " : "") + Ja(t) })); var Xa = Li((function (e, t, n) { return e + (n ? " " : "") + t.toUpperCase() })), Ja = $i("toUpperCase"); function Qa(e, t, n) { return e = wa(e), (t = n ? i : t) === i ? function (e) { return rt.test(e) }(e) ? function (e) { return e.match(tt) || [] }(e) : function (e) { return e.match(de) || [] }(e) : e.match(t) || [] } var ec = Xr((function (e, t) { try { return At(e, i, t) } catch (n) { return Js(n) ? n : new ae(n) } })), tc = ro((function (e, t) { return kt(t, (function (t) { t = Uo(t), sr(e, t, Ps(e[t], e)) })), e })); function nc(e) { return function () { return e } } var rc = Fi(), ic = Fi(!0); function oc(e) { return e } function sc(e) { return $r("function" == typeof e ? e : lr(e, 1)) } var ac = Xr((function (e, t) { return function (n) { return Pr(n, e, t) } })), cc = Xr((function (e, t) { return function (n) { return Pr(e, n, t) } })); function lc(e, t, n) { var r = Oa(t), i = _r(t, r); null != n || na(t) && (i.length || !r.length) || (n = t, t = e, e = this, i = _r(t, Oa(t))); var o = !(na(n) && "chain" in n) || !!n.chain, s = Qs(e); return kt(i, (function (n) { var r = t[n]; e[n] = r, s && (e.prototype[n] = function () { var t = this.__chain__; if (o || t) { var n = e(this.__wrapped__), i = n.__actions__ = Ni(this.__actions__); return i.push({ func: r, args: arguments, thisArg: e }), n.__chain__ = t, n } return r.apply(e, Rt([this.value()], arguments)) }) })), e } function uc() { } var dc = qi(Ot), hc = qi(Tt), fc = qi(Lt); function pc(e) { return xo(e) ? Ht(Uo(e)) : function (e) { return function (t) { return Cr(t, e) } }(e) } var mc = Gi(), gc = Gi(!0); function yc() { return [] } function bc() { return !1 } var vc = zi((function (e, t) { return e + t }), 0), wc = Yi("ceil"), Ec = zi((function (e, t) { return e / t }), 1), xc = Yi("floor"); var _c = zi((function (e, t) { return e * t }), 1), Cc = Yi("round"), Ac = zi((function (e, t) { return e - t }), 0); return Bn.after = function (e, t) { if ("function" != typeof t) throw new Te(o); return e = ga(e), function () { if (--e < 1) return t.apply(this, arguments) } }, Bn.ary = Ts, Bn.assign = Ea, Bn.assignIn = xa, Bn.assignInWith = _a, Bn.assignWith = Ca, Bn.at = Aa, Bn.before = Ns, Bn.bind = Ps, Bn.bindAll = tc, Bn.bindKey = Ms, Bn.castArray = function () { if (!arguments.length) return []; var e = arguments[0]; return Gs(e) ? e : [e] }, Bn.chain = ps, Bn.chunk = function (e, t, r) { t = (r ? Eo(e, t, r) : t === i) ? 1 : vn(ga(t), 0); var o = null == e ? 0 : e.length; if (!o || t < 1) return []; for (var s = 0, a = 0, c = n(pt(o / t)); s < o;)c[a++] = ii(e, s, s += t); return c }, Bn.compact = function (e) { for (var t = -1, n = null == e ? 0 : e.length, r = 0, i = []; ++t < n;) { var o = e[t]; o && (i[r++] = o) } return i }, Bn.concat = function () { var e = arguments.length; if (!e) return []; for (var t = n(e - 1), r = arguments[0], i = e; i--;)t[i - 1] = arguments[i]; return Rt(Gs(r) ? Ni(r) : [r], br(t, 1)) }, Bn.cond = function (e) { var t = null == e ? 0 : e.length, n = lo(); return e = t ? Ot(e, (function (e) { if ("function" != typeof e[1]) throw new Te(o); return [n(e[0]), e[1]] })) : [], Xr((function (n) { for (var r = -1; ++r < t;) { var i = e[r]; if (At(i[0], this, n)) return At(i[1], this, n) } })) }, Bn.conforms = function (e) { return function (e) { var t = Oa(e); return function (n) { return ur(n, e, t) } }(lr(e, 1)) }, Bn.constant = nc, Bn.countBy = ys, Bn.create = function (e, t) { var n = Wn(e); return null == t ? n : or(n, t) }, Bn.curry = function e(t, n, r) { var o = Ji(t, 8, i, i, i, i, i, n = r ? i : n); return o.placeholder = e.placeholder, o }, Bn.curryRight = function e(t, n, r) { var o = Ji(t, c, i, i, i, i, i, n = r ? i : n); return o.placeholder = e.placeholder, o }, Bn.debounce = Os, Bn.defaults = Sa, Bn.defaultsDeep = ka, Bn.defer = Rs, Bn.delay = js, Bn.difference = Wo, Bn.differenceBy = zo, Bn.differenceWith = qo, Bn.drop = function (e, t, n) { var r = null == e ? 0 : e.length; return r ? ii(e, (t = n || t === i ? 1 : ga(t)) < 0 ? 0 : t, r) : [] }, Bn.dropRight = function (e, t, n) { var r = null == e ? 0 : e.length; return r ? ii(e, 0, (t = r - (t = n || t === i ? 1 : ga(t))) < 0 ? 0 : t) : [] }, Bn.dropRightWhile = function (e, t) { return e && e.length ? pi(e, lo(t, 3), !0, !0) : [] }, Bn.dropWhile = function (e, t) { return e && e.length ? pi(e, lo(t, 3), !0) : [] }, Bn.fill = function (e, t, n, r) { var o = null == e ? 0 : e.length; return o ? (n && "number" != typeof n && Eo(e, t, n) && (n = 0, r = o), function (e, t, n, r) { var o = e.length; for ((n = ga(n)) < 0 && (n = -n > o ? 0 : o + n), (r = r === i || r > o ? o : ga(r)) < 0 && (r += o), r = n > r ? 0 : ya(r); n < r;)e[n++] = t; return e }(e, t, n, r)) : [] }, Bn.filter = function (e, t) { return (Gs(e) ? Nt : yr)(e, lo(t, 3)) }, Bn.flatMap = function (e, t) { return br(As(e, t), 1) }, Bn.flatMapDeep = function (e, t) { return br(As(e, t), f) }, Bn.flatMapDepth = function (e, t, n) { return n = n === i ? 1 : ga(n), br(As(e, t), n) }, Bn.flatten = Vo, Bn.flattenDeep = function (e) { return (null == e ? 0 : e.length) ? br(e, f) : [] }, Bn.flattenDepth = function (e, t) { return (null == e ? 0 : e.length) ? br(e, t = t === i ? 1 : ga(t)) : [] }, Bn.flip = function (e) { return Ji(e, 512) }, Bn.flow = rc, Bn.flowRight = ic, Bn.fromPairs = function (e) { for (var t = -1, n = null == e ? 0 : e.length, r = {}; ++t < n;) { var i = e[t]; r[i[0]] = i[1] } return r }, Bn.functions = function (e) { return null == e ? [] : _r(e, Oa(e)) }, Bn.functionsIn = function (e) { return null == e ? [] : _r(e, Ra(e)) }, Bn.groupBy = xs, Bn.initial = function (e) { return (null == e ? 0 : e.length) ? ii(e, 0, -1) : [] }, Bn.intersection = Yo, Bn.intersectionBy = Zo, Bn.intersectionWith = Xo, Bn.invert = Na, Bn.invertBy = Pa, Bn.invokeMap = _s, Bn.iteratee = sc, Bn.keyBy = Cs, Bn.keys = Oa, Bn.keysIn = Ra, Bn.map = As, Bn.mapKeys = function (e, t) { var n = {}; return t = lo(t, 3), Er(e, (function (e, r, i) { sr(n, t(e, r, i), e) })), n }, Bn.mapValues = function (e, t) { var n = {}; return t = lo(t, 3), Er(e, (function (e, r, i) { sr(n, r, t(e, r, i)) })), n }, Bn.matches = function (e) { return Br(lr(e, 1)) }, Bn.matchesProperty = function (e, t) { return Wr(e, lr(t, 1)) }, Bn.memoize = $s, Bn.merge = ja, Bn.mergeWith = $a, Bn.method = ac, Bn.methodOf = cc, Bn.mixin = lc, Bn.negate = Ls, Bn.nthArg = function (e) { return e = ga(e), Xr((function (t) { return qr(t, e) })) }, Bn.omit = La, Bn.omitBy = function (e, t) { return Ua(e, Ls(lo(t))) }, Bn.once = function (e) { return Ns(2, e) }, Bn.orderBy = function (e, t, n, r) { return null == e ? [] : (Gs(t) || (t = null == t ? [] : [t]), Gs(n = r ? i : n) || (n = null == n ? [] : [n]), Hr(e, t, n)) }, Bn.over = dc, Bn.overArgs = Ds, Bn.overEvery = hc, Bn.overSome = fc, Bn.partial = Us, Bn.partialRight = Fs, Bn.partition = Ss, Bn.pick = Da, Bn.pickBy = Ua, Bn.property = pc, Bn.propertyOf = function (e) { return function (t) { return null == e ? i : Cr(e, t) } }, Bn.pull = Qo, Bn.pullAll = es, Bn.pullAllBy = function (e, t, n) { return e && e.length && t && t.length ? Vr(e, t, lo(n, 2)) : e }, Bn.pullAllWith = function (e, t, n) { return e && e.length && t && t.length ? Vr(e, t, i, n) : e }, Bn.pullAt = ts, Bn.range = mc, Bn.rangeRight = gc, Bn.rearg = Bs, Bn.reject = function (e, t) { return (Gs(e) ? Nt : yr)(e, Ls(lo(t, 3))) }, Bn.remove = function (e, t) { var n = []; if (!e || !e.length) return n; var r = -1, i = [], o = e.length; for (t = lo(t, 3); ++r < o;) { var s = e[r]; t(s, r, e) && (n.push(s), i.push(r)) } return Kr(e, i), n }, Bn.rest = function (e, t) { if ("function" != typeof e) throw new Te(o); return Xr(e, t = t === i ? t : ga(t)) }, Bn.reverse = ns, Bn.sampleSize = function (e, t, n) { return t = (n ? Eo(e, t, n) : t === i) ? 1 : ga(t), (Gs(e) ? Qn : Qr)(e, t) }, Bn.set = function (e, t, n) { return null == e ? e : ei(e, t, n) }, Bn.setWith = function (e, t, n, r) { return r = "function" == typeof r ? r : i, null == e ? e : ei(e, t, n, r) }, Bn.shuffle = function (e) { return (Gs(e) ? er : ri)(e) }, Bn.slice = function (e, t, n) { var r = null == e ? 0 : e.length; return r ? (n && "number" != typeof n && Eo(e, t, n) ? (t = 0, n = r) : (t = null == t ? 0 : ga(t), n = n === i ? r : ga(n)), ii(e, t, n)) : [] }, Bn.sortBy = ks, Bn.sortedUniq = function (e) { return e && e.length ? ci(e) : [] }, Bn.sortedUniqBy = function (e, t) { return e && e.length ? ci(e, lo(t, 2)) : [] }, Bn.split = function (e, t, n) { return n && "number" != typeof n && Eo(e, t, n) && (t = n = i), (n = n === i ? g : n >>> 0) ? (e = wa(e)) && ("string" == typeof t || null != t && !aa(t)) && !(t = ui(t)) && an(e) ? xi(pn(e), 0, n) : e.split(t, n) : [] }, Bn.spread = function (e, t) { if ("function" != typeof e) throw new Te(o); return t = null == t ? 0 : vn(ga(t), 0), Xr((function (n) { var r = n[t], i = xi(n, 0, t); return r && Rt(i, r), At(e, this, i) })) }, Bn.tail = function (e) { var t = null == e ? 0 : e.length; return t ? ii(e, 1, t) : [] }, Bn.take = function (e, t, n) { return e && e.length ? ii(e, 0, (t = n || t === i ? 1 : ga(t)) < 0 ? 0 : t) : [] }, Bn.takeRight = function (e, t, n) { var r = null == e ? 0 : e.length; return r ? ii(e, (t = r - (t = n || t === i ? 1 : ga(t))) < 0 ? 0 : t, r) : [] }, Bn.takeRightWhile = function (e, t) { return e && e.length ? pi(e, lo(t, 3), !1, !0) : [] }, Bn.takeWhile = function (e, t) { return e && e.length ? pi(e, lo(t, 3)) : [] }, Bn.tap = function (e, t) { return t(e), e }, Bn.throttle = function (e, t, n) { var r = !0, i = !0; if ("function" != typeof e) throw new Te(o); return na(n) && (r = "leading" in n ? !!n.leading : r, i = "trailing" in n ? !!n.trailing : i), Os(e, t, { leading: r, maxWait: t, trailing: i }) }, Bn.thru = ms, Bn.toArray = pa, Bn.toPairs = Fa, Bn.toPairsIn = Ba, Bn.toPath = function (e) { return Gs(e) ? Ot(e, Uo) : ua(e) ? [e] : Ni(Do(wa(e))) }, Bn.toPlainObject = va, Bn.transform = function (e, t, n) { var r = Gs(e), i = r || Zs(e) || da(e); if (t = lo(t, 4), null == n) { var o = e && e.constructor; n = i ? r ? new o : [] : na(e) && Qs(o) ? Wn(Ge(e)) : {} } return (i ? kt : Er)(e, (function (e, r, i) { return t(n, e, r, i) })), n }, Bn.unary = function (e) { return Ts(e, 1) }, Bn.union = rs, Bn.unionBy = is, Bn.unionWith = os, Bn.uniq = function (e) { return e && e.length ? di(e) : [] }, Bn.uniqBy = function (e, t) { return e && e.length ? di(e, lo(t, 2)) : [] }, Bn.uniqWith = function (e, t) { return t = "function" == typeof t ? t : i, e && e.length ? di(e, i, t) : [] }, Bn.unset = function (e, t) { return null == e || hi(e, t) }, Bn.unzip = ss, Bn.unzipWith = as, Bn.update = function (e, t, n) { return null == e ? e : fi(e, t, vi(n)) }, Bn.updateWith = function (e, t, n, r) { return r = "function" == typeof r ? r : i, null == e ? e : fi(e, t, vi(n), r) }, Bn.values = Wa, Bn.valuesIn = function (e) { return null == e ? [] : Jt(e, Ra(e)) }, Bn.without = cs, Bn.words = Qa, Bn.wrap = function (e, t) { return Us(vi(t), e) }, Bn.xor = ls, Bn.xorBy = us, Bn.xorWith = ds, Bn.zip = hs, Bn.zipObject = function (e, t) { return yi(e || [], t || [], nr) }, Bn.zipObjectDeep = function (e, t) { return yi(e || [], t || [], ei) }, Bn.zipWith = fs, Bn.entries = Fa, Bn.entriesIn = Ba, Bn.extend = xa, Bn.extendWith = _a, lc(Bn, Bn), Bn.add = vc, Bn.attempt = ec, Bn.camelCase = za, Bn.capitalize = qa, Bn.ceil = wc, Bn.clamp = function (e, t, n) { return n === i && (n = t, t = i), n !== i && (n = (n = ba(n)) === n ? n : 0), t !== i && (t = (t = ba(t)) === t ? t : 0), cr(ba(e), t, n) }, Bn.clone = function (e) { return lr(e, 4) }, Bn.cloneDeep = function (e) { return lr(e, 5) }, Bn.cloneDeepWith = function (e, t) { return lr(e, 5, t = "function" == typeof t ? t : i) }, Bn.cloneWith = function (e, t) { return lr(e, 4, t = "function" == typeof t ? t : i) }, Bn.conformsTo = function (e, t) { return null == t || ur(e, t, Oa(t)) }, Bn.deburr = Ha, Bn.defaultTo = function (e, t) { return null == e || e !== e ? t : e }, Bn.divide = Ec, Bn.endsWith = function (e, t, n) { e = wa(e), t = ui(t); var r = e.length, o = n = n === i ? r : cr(ga(n), 0, r); return (n -= t.length) >= 0 && e.slice(n, o) == t }, Bn.eq = Ws, Bn.escape = function (e) { return (e = wa(e)) && X.test(e) ? e.replace(Y, on) : e }, Bn.escapeRegExp = function (e) { return (e = wa(e)) && oe.test(e) ? e.replace(ie, "\\$&") : e }, Bn.every = function (e, t, n) { var r = Gs(e) ? Tt : mr; return n && Eo(e, t, n) && (t = i), r(e, lo(t, 3)) }, Bn.find = bs, Bn.findIndex = Ho, Bn.findKey = function (e, t) { return Ut(e, lo(t, 3), Er) }, Bn.findLast = vs, Bn.findLastIndex = Go, Bn.findLastKey = function (e, t) { return Ut(e, lo(t, 3), xr) }, Bn.floor = xc, Bn.forEach = ws, Bn.forEachRight = Es, Bn.forIn = function (e, t) { return null == e ? e : vr(e, lo(t, 3), Ra) }, Bn.forInRight = function (e, t) { return null == e ? e : wr(e, lo(t, 3), Ra) }, Bn.forOwn = function (e, t) { return e && Er(e, lo(t, 3)) }, Bn.forOwnRight = function (e, t) { return e && xr(e, lo(t, 3)) }, Bn.get = Ia, Bn.gt = zs, Bn.gte = qs, Bn.has = function (e, t) { return null != e && yo(e, t, Ir) }, Bn.hasIn = Ta, Bn.head = Ko, Bn.identity = oc, Bn.includes = function (e, t, n, r) { e = Ks(e) ? e : Wa(e), n = n && !r ? ga(n) : 0; var i = e.length; return n < 0 && (n = vn(i + n, 0)), la(e) ? n <= i && e.indexOf(t, n) > -1 : !!i && Bt(e, t, n) > -1 }, Bn.indexOf = function (e, t, n) { var r = null == e ? 0 : e.length; if (!r) return -1; var i = null == n ? 0 : ga(n); return i < 0 && (i = vn(r + i, 0)), Bt(e, t, i) }, Bn.inRange = function (e, t, n) { return t = ma(t), n === i ? (n = t, t = 0) : n = ma(n), function (e, t, n) { return e >= wn(t, n) && e < vn(t, n) }(e = ba(e), t, n) }, Bn.invoke = Ma, Bn.isArguments = Hs, Bn.isArray = Gs, Bn.isArrayBuffer = Vs, Bn.isArrayLike = Ks, Bn.isArrayLikeObject = Ys, Bn.isBoolean = function (e) { return !0 === e || !1 === e || ra(e) && Sr(e) == w }, Bn.isBuffer = Zs, Bn.isDate = Xs, Bn.isElement = function (e) { return ra(e) && 1 === e.nodeType && !sa(e) }, Bn.isEmpty = function (e) { if (null == e) return !0; if (Ks(e) && (Gs(e) || "string" == typeof e || "function" == typeof e.splice || Zs(e) || da(e) || Hs(e))) return !e.length; var t = go(e); if (t == A || t == N) return !e.size; if (Ao(e)) return !Lr(e).length; for (var n in e) if (je.call(e, n)) return !1; return !0 }, Bn.isEqual = function (e, t) { return Or(e, t) }, Bn.isEqualWith = function (e, t, n) { var r = (n = "function" == typeof n ? n : i) ? n(e, t) : i; return r === i ? Or(e, t, i, n) : !!r }, Bn.isError = Js, Bn.isFinite = function (e) { return "number" == typeof e && Dt(e) }, Bn.isFunction = Qs, Bn.isInteger = ea, Bn.isLength = ta, Bn.isMap = ia, Bn.isMatch = function (e, t) { return e === t || Rr(e, t, ho(t)) }, Bn.isMatchWith = function (e, t, n) { return n = "function" == typeof n ? n : i, Rr(e, t, ho(t), n) }, Bn.isNaN = function (e) { return oa(e) && e != +e }, Bn.isNative = function (e) { if (Co(e)) throw new ae("Unsupported core-js use. Try https://npms.io/search?q=ponyfill."); return jr(e) }, Bn.isNil = function (e) { return null == e }, Bn.isNull = function (e) { return null === e }, Bn.isNumber = oa, Bn.isObject = na, Bn.isObjectLike = ra, Bn.isPlainObject = sa, Bn.isRegExp = aa, Bn.isSafeInteger = function (e) { return ea(e) && e >= -9007199254740991 && e <= p }, Bn.isSet = ca, Bn.isString = la, Bn.isSymbol = ua, Bn.isTypedArray = da, Bn.isUndefined = function (e) { return e === i }, Bn.isWeakMap = function (e) { return ra(e) && go(e) == O }, Bn.isWeakSet = function (e) { return ra(e) && "[object WeakSet]" == Sr(e) }, Bn.join = function (e, t) { return null == e ? "" : Gt.call(e, t) }, Bn.kebabCase = Ga, Bn.last = Jo, Bn.lastIndexOf = function (e, t, n) { var r = null == e ? 0 : e.length; if (!r) return -1; var o = r; return n !== i && (o = (o = ga(n)) < 0 ? vn(r + o, 0) : wn(o, r - 1)), t === t ? function (e, t, n) { for (var r = n + 1; r--;)if (e[r] === t) return r; return r }(e, t, o) : Ft(e, zt, o, !0) }, Bn.lowerCase = Va, Bn.lowerFirst = Ka, Bn.lt = ha, Bn.lte = fa, Bn.max = function (e) { return e && e.length ? gr(e, oc, kr) : i }, Bn.maxBy = function (e, t) { return e && e.length ? gr(e, lo(t, 2), kr) : i }, Bn.mean = function (e) { return qt(e, oc) }, Bn.meanBy = function (e, t) { return qt(e, lo(t, 2)) }, Bn.min = function (e) { return e && e.length ? gr(e, oc, Ur) : i }, Bn.minBy = function (e, t) { return e && e.length ? gr(e, lo(t, 2), Ur) : i }, Bn.stubArray = yc, Bn.stubFalse = bc, Bn.stubObject = function () { return {} }, Bn.stubString = function () { return "" }, Bn.stubTrue = function () { return !0 }, Bn.multiply = _c, Bn.nth = function (e, t) { return e && e.length ? qr(e, ga(t)) : i }, Bn.noConflict = function () { return ft._ === this && (ft._ = Fe), this }, Bn.noop = uc, Bn.now = Is, Bn.pad = function (e, t, n) { e = wa(e); var r = (t = ga(t)) ? fn(e) : 0; if (!t || r >= t) return e; var i = (t - r) / 2; return Hi(mt(i), n) + e + Hi(pt(i), n) }, Bn.padEnd = function (e, t, n) { e = wa(e); var r = (t = ga(t)) ? fn(e) : 0; return t && r < t ? e + Hi(t - r, n) : e }, Bn.padStart = function (e, t, n) { e = wa(e); var r = (t = ga(t)) ? fn(e) : 0; return t && r < t ? Hi(t - r, n) + e : e }, Bn.parseInt = function (e, t, n) { return n || null == t ? t = 0 : t && (t = +t), xn(wa(e).replace(se, ""), t || 0) }, Bn.random = function (e, t, n) { if (n && "boolean" != typeof n && Eo(e, t, n) && (t = n = i), n === i && ("boolean" == typeof t ? (n = t, t = i) : "boolean" == typeof e && (n = e, e = i)), e === i && t === i ? (e = 0, t = 1) : (e = ma(e), t === i ? (t = e, e = 0) : t = ma(t)), e > t) { var r = e; e = t, t = r } if (n || e % 1 || t % 1) { var o = _n(); return wn(e + o * (t - e + lt("1e-" + ((o + "").length - 1))), t) } return Yr(e, t) }, Bn.reduce = function (e, t, n) { var r = Gs(e) ? jt : Vt, i = arguments.length < 3; return r(e, lo(t, 4), n, i, fr) }, Bn.reduceRight = function (e, t, n) { var r = Gs(e) ? $t : Vt, i = arguments.length < 3; return r(e, lo(t, 4), n, i, pr) }, Bn.repeat = function (e, t, n) { return t = (n ? Eo(e, t, n) : t === i) ? 1 : ga(t), Zr(wa(e), t) }, Bn.replace = function () { var e = arguments, t = wa(e[0]); return e.length < 3 ? t : t.replace(e[1], e[2]) }, Bn.result = function (e, t, n) { var r = -1, o = (t = wi(t, e)).length; for (o || (o = 1, e = i); ++r < o;) { var s = null == e ? i : e[Uo(t[r])]; s === i && (r = o, s = n), e = Qs(s) ? s.call(e) : s } return e }, Bn.round = Cc, Bn.runInContext = e, Bn.sample = function (e) { return (Gs(e) ? Jn : Jr)(e) }, Bn.size = function (e) { if (null == e) return 0; if (Ks(e)) return la(e) ? fn(e) : e.length; var t = go(e); return t == A || t == N ? e.size : Lr(e).length }, Bn.snakeCase = Ya, Bn.some = function (e, t, n) { var r = Gs(e) ? Lt : oi; return n && Eo(e, t, n) && (t = i), r(e, lo(t, 3)) }, Bn.sortedIndex = function (e, t) { return si(e, t) }, Bn.sortedIndexBy = function (e, t, n) { return ai(e, t, lo(n, 2)) }, Bn.sortedIndexOf = function (e, t) { var n = null == e ? 0 : e.length; if (n) { var r = si(e, t); if (r < n && Ws(e[r], t)) return r } return -1 }, Bn.sortedLastIndex = function (e, t) { return si(e, t, !0) }, Bn.sortedLastIndexBy = function (e, t, n) { return ai(e, t, lo(n, 2), !0) }, Bn.sortedLastIndexOf = function (e, t) { if (null == e ? 0 : e.length) { var n = si(e, t, !0) - 1; if (Ws(e[n], t)) return n } return -1 }, Bn.startCase = Za, Bn.startsWith = function (e, t, n) { return e = wa(e), n = null == n ? 0 : cr(ga(n), 0, e.length), t = ui(t), e.slice(n, n + t.length) == t }, Bn.subtract = Ac, Bn.sum = function (e) { return e && e.length ? Kt(e, oc) : 0 }, Bn.sumBy = function (e, t) { return e && e.length ? Kt(e, lo(t, 2)) : 0 }, Bn.template = function (e, t, n) { var r = Bn.templateSettings; n && Eo(e, t, n) && (t = i), e = wa(e), t = _a({}, t, r, Qi); var o, s, a = _a({}, t.imports, r.imports, Qi), c = Oa(a), l = Jt(a, c), u = 0, d = t.interpolate || xe, h = "__p += '", f = ke((t.escape || xe).source + "|" + d.source + "|" + (d === ee ? pe : xe).source + "|" + (t.evaluate || xe).source + "|$", "g"), p = "//# sourceURL=" + (je.call(t, "sourceURL") ? (t.sourceURL + "").replace(/\s/g, " ") : "lodash.templateSources[" + ++ot + "]") + "\n"; e.replace(f, (function (t, n, r, i, a, c) { return r || (r = i), h += e.slice(u, c).replace(_e, sn), n && (o = !0, h += "' +\n__e(" + n + ") +\n'"), a && (s = !0, h += "';\n" + a + ";\n__p += '"), r && (h += "' +\n((__t = (" + r + ")) == null ? '' : __t) +\n'"), u = c + t.length, t })), h += "';\n"; var m = je.call(t, "variable") && t.variable; if (m) { if (he.test(m)) throw new ae("Invalid `variable` option passed into `_.template`") } else h = "with (obj) {\n" + h + "\n}\n"; h = (s ? h.replace(H, "") : h).replace(G, "$1").replace(V, "$1;"), h = "function(" + (m || "obj") + ") {\n" + (m ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (o ? ", __e = _.escape" : "") + (s ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + h + "return __p\n}"; var g = ec((function () { return Ce(c, p + "return " + h).apply(i, l) })); if (g.source = h, Js(g)) throw g; return g }, Bn.times = function (e, t) { if ((e = ga(e)) < 1 || e > p) return []; var n = g, r = wn(e, g); t = lo(t), e -= g; for (var i = Yt(r, t); ++n < e;)t(n); return i }, Bn.toFinite = ma, Bn.toInteger = ga, Bn.toLength = ya, Bn.toLower = function (e) { return wa(e).toLowerCase() }, Bn.toNumber = ba, Bn.toSafeInteger = function (e) { return e ? cr(ga(e), -9007199254740991, p) : 0 === e ? e : 0 }, Bn.toString = wa, Bn.toUpper = function (e) { return wa(e).toUpperCase() }, Bn.trim = function (e, t, n) { if ((e = wa(e)) && (n || t === i)) return Zt(e); if (!e || !(t = ui(t))) return e; var r = pn(e), o = pn(t); return xi(r, en(r, o), tn(r, o) + 1).join("") }, Bn.trimEnd = function (e, t, n) { if ((e = wa(e)) && (n || t === i)) return e.slice(0, mn(e) + 1); if (!e || !(t = ui(t))) return e; var r = pn(e); return xi(r, 0, tn(r, pn(t)) + 1).join("") }, Bn.trimStart = function (e, t, n) { if ((e = wa(e)) && (n || t === i)) return e.replace(se, ""); if (!e || !(t = ui(t))) return e; var r = pn(e); return xi(r, en(r, pn(t))).join("") }, Bn.truncate = function (e, t) { var n = 30, r = "..."; if (na(t)) { var o = "separator" in t ? t.separator : o; n = "length" in t ? ga(t.length) : n, r = "omission" in t ? ui(t.omission) : r } var s = (e = wa(e)).length; if (an(e)) { var a = pn(e); s = a.length } if (n >= s) return e; var c = n - fn(r); if (c < 1) return r; var l = a ? xi(a, 0, c).join("") : e.slice(0, c); if (o === i) return l + r; if (a && (c += l.length - c), aa(o)) { if (e.slice(c).search(o)) { var u, d = l; for (o.global || (o = ke(o.source, wa(me.exec(o)) + "g")), o.lastIndex = 0; u = o.exec(d);)var h = u.index; l = l.slice(0, h === i ? c : h) } } else if (e.indexOf(ui(o), c) != c) { var f = l.lastIndexOf(o); f > -1 && (l = l.slice(0, f)) } return l + r }, Bn.unescape = function (e) { return (e = wa(e)) && Z.test(e) ? e.replace(K, gn) : e }, Bn.uniqueId = function (e) { var t = ++$e; return wa(e) + t }, Bn.upperCase = Xa, Bn.upperFirst = Ja, Bn.each = ws, Bn.eachRight = Es, Bn.first = Ko, lc(Bn, function () { var e = {}; return Er(Bn, (function (t, n) { je.call(Bn.prototype, n) || (e[n] = t) })), e }(), { chain: !1 }), Bn.VERSION = "4.17.21", kt(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], (function (e) { Bn[e].placeholder = Bn })), kt(["drop", "take"], (function (e, t) { Hn.prototype[e] = function (n) { n = n === i ? 1 : vn(ga(n), 0); var r = this.__filtered__ && !t ? new Hn(this) : this.clone(); return r.__filtered__ ? r.__takeCount__ = wn(n, r.__takeCount__) : r.__views__.push({ size: wn(n, g), type: e + (r.__dir__ < 0 ? "Right" : "") }), r }, Hn.prototype[e + "Right"] = function (t) { return this.reverse()[e](t).reverse() } })), kt(["filter", "map", "takeWhile"], (function (e, t) { var n = t + 1, r = 1 == n || 3 == n; Hn.prototype[e] = function (e) { var t = this.clone(); return t.__iteratees__.push({ iteratee: lo(e, 3), type: n }), t.__filtered__ = t.__filtered__ || r, t } })), kt(["head", "last"], (function (e, t) { var n = "take" + (t ? "Right" : ""); Hn.prototype[e] = function () { return this[n](1).value()[0] } })), kt(["initial", "tail"], (function (e, t) { var n = "drop" + (t ? "" : "Right"); Hn.prototype[e] = function () { return this.__filtered__ ? new Hn(this) : this[n](1) } })), Hn.prototype.compact = function () { return this.filter(oc) }, Hn.prototype.find = function (e) { return this.filter(e).head() }, Hn.prototype.findLast = function (e) { return this.reverse().find(e) }, Hn.prototype.invokeMap = Xr((function (e, t) { return "function" == typeof e ? new Hn(this) : this.map((function (n) { return Pr(n, e, t) })) })), Hn.prototype.reject = function (e) { return this.filter(Ls(lo(e))) }, Hn.prototype.slice = function (e, t) { e = ga(e); var n = this; return n.__filtered__ && (e > 0 || t < 0) ? new Hn(n) : (e < 0 ? n = n.takeRight(-e) : e && (n = n.drop(e)), t !== i && (n = (t = ga(t)) < 0 ? n.dropRight(-t) : n.take(t - e)), n) }, Hn.prototype.takeRightWhile = function (e) { return this.reverse().takeWhile(e).reverse() }, Hn.prototype.toArray = function () { return this.take(g) }, Er(Hn.prototype, (function (e, t) { var n = /^(?:filter|find|map|reject)|While$/.test(t), r = /^(?:head|last)$/.test(t), o = Bn[r ? "take" + ("last" == t ? "Right" : "") : t], s = r || /^find/.test(t); o && (Bn.prototype[t] = function () { var t = this.__wrapped__, a = r ? [1] : arguments, c = t instanceof Hn, l = a[0], u = c || Gs(t), d = function (e) { var t = o.apply(Bn, Rt([e], a)); return r && h ? t[0] : t }; u && n && "function" == typeof l && 1 != l.length && (c = u = !1); var h = this.__chain__, f = !!this.__actions__.length, p = s && !h, m = c && !f; if (!s && u) { t = m ? t : new Hn(this); var g = e.apply(t, a); return g.__actions__.push({ func: ms, args: [d], thisArg: i }), new qn(g, h) } return p && m ? e.apply(this, a) : (g = this.thru(d), p ? r ? g.value()[0] : g.value() : g) }) })), kt(["pop", "push", "shift", "sort", "splice", "unshift"], (function (e) { var t = Ne[e], n = /^(?:push|sort|unshift)$/.test(e) ? "tap" : "thru", r = /^(?:pop|shift)$/.test(e); Bn.prototype[e] = function () { var e = arguments; if (r && !this.__chain__) { var i = this.value(); return t.apply(Gs(i) ? i : [], e) } return this[n]((function (n) { return t.apply(Gs(n) ? n : [], e) })) } })), Er(Hn.prototype, (function (e, t) { var n = Bn[t]; if (n) { var r = n.name + ""; je.call(Mn, r) || (Mn[r] = []), Mn[r].push({ name: t, func: n }) } })), Mn[Bi(i, 2).name] = [{ name: "wrapper", func: i }], Hn.prototype.clone = function () { var e = new Hn(this.__wrapped__); return e.__actions__ = Ni(this.__actions__), e.__dir__ = this.__dir__, e.__filtered__ = this.__filtered__, e.__iteratees__ = Ni(this.__iteratees__), e.__takeCount__ = this.__takeCount__, e.__views__ = Ni(this.__views__), e }, Hn.prototype.reverse = function () { if (this.__filtered__) { var e = new Hn(this); e.__dir__ = -1, e.__filtered__ = !0 } else (e = this.clone()).__dir__ *= -1; return e }, Hn.prototype.value = function () { var e = this.__wrapped__.value(), t = this.__dir__, n = Gs(e), r = t < 0, i = n ? e.length : 0, o = function (e, t, n) { var r = -1, i = n.length; for (; ++r < i;) { var o = n[r], s = o.size; switch (o.type) { case "drop": e += s; break; case "dropRight": t -= s; break; case "take": t = wn(t, e + s); break; case "takeRight": e = vn(e, t - s) } } return { start: e, end: t } }(0, i, this.__views__), s = o.start, a = o.end, c = a - s, l = r ? a : s - 1, u = this.__iteratees__, d = u.length, h = 0, f = wn(c, this.__takeCount__); if (!n || !r && i == c && f == c) return mi(e, this.__actions__); var p = []; e: for (; c-- && h < f;) { for (var m = -1, g = e[l += t]; ++m < d;) { var y = u[m], b = y.iteratee, v = y.type, w = b(g); if (2 == v) g = w; else if (!w) { if (1 == v) continue e; break e } } p[h++] = g } return p }, Bn.prototype.at = gs, Bn.prototype.chain = function () { return ps(this) }, Bn.prototype.commit = function () { return new qn(this.value(), this.__chain__) }, Bn.prototype.next = function () { this.__values__ === i && (this.__values__ = pa(this.value())); var e = this.__index__ >= this.__values__.length; return { done: e, value: e ? i : this.__values__[this.__index__++] } }, Bn.prototype.plant = function (e) { for (var t, n = this; n instanceof zn;) { var r = Bo(n); r.__index__ = 0, r.__values__ = i, t ? o.__wrapped__ = r : t = r; var o = r; n = n.__wrapped__ } return o.__wrapped__ = e, t }, Bn.prototype.reverse = function () { var e = this.__wrapped__; if (e instanceof Hn) { var t = e; return this.__actions__.length && (t = new Hn(this)), (t = t.reverse()).__actions__.push({ func: ms, args: [ns], thisArg: i }), new qn(t, this.__chain__) } return this.thru(ns) }, Bn.prototype.toJSON = Bn.prototype.valueOf = Bn.prototype.value = function () { return mi(this.__wrapped__, this.__actions__) }, Bn.prototype.first = Bn.prototype.head, Xe && (Bn.prototype[Xe] = function () { return this }), Bn }(); ft._ = yn, (r = function () { return yn }.call(t, n, t, e)) === i || (e.exports = r) }.call(this) }, 79746: function (e) { function t(e, t) { if (!e) throw new Error(t || "Assertion failed") } e.exports = t, t.equal = function (e, t, n) { if (e != t) throw new Error(n || "Assertion failed: " + e + " != " + t) } }, 34504: function (e, t) { "use strict"; var n = t; function r(e) { return 1 === e.length ? "0" + e : e } function i(e) { for (var t = "", n = 0; n < e.length; n++)t += r(e[n].toString(16)); return t } n.toArray = function (e, t) { if (Array.isArray(e)) return e.slice(); if (!e) return []; var n = []; if ("string" !== typeof e) { for (var r = 0; r < e.length; r++)n[r] = 0 | e[r]; return n } if ("hex" === t) { (e = e.replace(/[^a-z0-9]+/gi, "")).length % 2 !== 0 && (e = "0" + e); for (r = 0; r < e.length; r += 2)n.push(parseInt(e[r] + e[r + 1], 16)) } else for (r = 0; r < e.length; r++) { var i = e.charCodeAt(r), o = i >> 8, s = 255 & i; o ? n.push(o, s) : n.push(s) } return n }, n.zero2 = r, n.toHex = i, n.encode = function (e, t) { return "hex" === t ? i(e) : e } }, 2962: function (e, t, n) { "use strict"; n.d(t, { lX: function () { return h }, PB: function () { return f } }); var r = n(67294), i = n(9008); function o() { return (o = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }).apply(this, arguments) } function s(e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i } var a = ["keyOverride"], c = { templateTitle: "", noindex: !1, nofollow: !1, defaultOpenGraphImageWidth: 0, defaultOpenGraphImageHeight: 0, defaultOpenGraphVideoWidth: 0, defaultOpenGraphVideoHeight: 0 }, l = function (e, t, n) { void 0 === t && (t = []); var i = void 0 === n ? {} : n, o = i.defaultWidth, s = i.defaultHeight; return t.reduce((function (t, n, i) { return t.push(r.createElement("meta", { key: "og:" + e + ":0" + i, property: "og:" + e, content: n.url })), n.alt && t.push(r.createElement("meta", { key: "og:" + e + ":alt0" + i, property: "og:" + e + ":alt", content: n.alt })), n.secureUrl && t.push(r.createElement("meta", { key: "og:" + e + ":secure_url0" + i, property: "og:" + e + ":secure_url", content: n.secureUrl.toString() })), n.type && t.push(r.createElement("meta", { key: "og:" + e + ":type0" + i, property: "og:" + e + ":type", content: n.type.toString() })), n.width ? t.push(r.createElement("meta", { key: "og:" + e + ":width0" + i, property: "og:" + e + ":width", content: n.width.toString() })) : o && t.push(r.createElement("meta", { key: "og:" + e + ":width0" + i, property: "og:" + e + ":width", content: o.toString() })), n.height ? t.push(r.createElement("meta", { key: "og:" + e + ":height" + i, property: "og:" + e + ":height", content: n.height.toString() })) : s && t.push(r.createElement("meta", { key: "og:" + e + ":height" + i, property: "og:" + e + ":height", content: s.toString() })), t }), []) }, u = function (e) { var t, n, i, u = []; e.titleTemplate && (c.templateTitle = e.titleTemplate); var d = ""; e.title ? (d = e.title, c.templateTitle && (d = c.templateTitle.replace(/%s/g, (function () { return d })))) : e.defaultTitle && (d = e.defaultTitle), d && u.push(r.createElement("title", { key: "title" }, d)); var h, f, p = e.noindex || c.noindex || e.dangerouslySetAllPagesToNoIndex, m = e.nofollow || c.nofollow || e.dangerouslySetAllPagesToNoFollow, g = ""; if (e.robotsProps) { var y = e.robotsProps, b = y.nosnippet, v = y.maxSnippet, w = y.maxImagePreview, E = y.maxVideoPreview, x = y.noarchive, _ = y.noimageindex, C = y.notranslate, A = y.unavailableAfter; g = (b ? ",nosnippet" : "") + (v ? ",max-snippet:" + v : "") + (w ? ",max-image-preview:" + w : "") + (x ? ",noarchive" : "") + (A ? ",unavailable_after:" + A : "") + (_ ? ",noimageindex" : "") + (E ? ",max-video-preview:" + E : "") + (C ? ",notranslate" : "") } (p || m ? (e.dangerouslySetAllPagesToNoIndex && (c.noindex = !0), e.dangerouslySetAllPagesToNoFollow && (c.nofollow = !0), u.push(r.createElement("meta", { key: "robots", name: "robots", content: (p ? "noindex" : "index") + "," + (m ? "nofollow" : "follow") + g }))) : u.push(r.createElement("meta", { key: "robots", name: "robots", content: "index,follow" + g })), e.description && u.push(r.createElement("meta", { key: "description", name: "description", content: e.description })), e.themeColor && u.push(r.createElement("meta", { key: "theme-color", name: "theme-color", content: e.themeColor })), e.mobileAlternate && u.push(r.createElement("link", { rel: "alternate", key: "mobileAlternate", media: e.mobileAlternate.media, href: e.mobileAlternate.href })), e.languageAlternates && e.languageAlternates.length > 0 && e.languageAlternates.forEach((function (e) { u.push(r.createElement("link", { rel: "alternate", key: "languageAlternate-" + e.hrefLang, hrefLang: e.hrefLang, href: e.href })) })), e.twitter && (e.twitter.cardType && u.push(r.createElement("meta", { key: "twitter:card", name: "twitter:card", content: e.twitter.cardType })), e.twitter.site && u.push(r.createElement("meta", { key: "twitter:site", name: "twitter:site", content: e.twitter.site })), e.twitter.handle && u.push(r.createElement("meta", { key: "twitter:creator", name: "twitter:creator", content: e.twitter.handle }))), e.facebook && e.facebook.appId && u.push(r.createElement("meta", { key: "fb:app_id", property: "fb:app_id", content: e.facebook.appId })), null != (t = e.openGraph) && t.title || d) && u.push(r.createElement("meta", { key: "og:title", property: "og:title", content: (null == (h = e.openGraph) ? void 0 : h.title) || d })); (null != (n = e.openGraph) && n.description || e.description) && u.push(r.createElement("meta", { key: "og:description", property: "og:description", content: (null == (f = e.openGraph) ? void 0 : f.description) || e.description })); if (e.openGraph) { if ((e.openGraph.url || e.canonical) && u.push(r.createElement("meta", { key: "og:url", property: "og:url", content: e.openGraph.url || e.canonical })), e.openGraph.type) { var S = e.openGraph.type.toLowerCase(); u.push(r.createElement("meta", { key: "og:type", property: "og:type", content: S })), "profile" === S && e.openGraph.profile ? (e.openGraph.profile.firstName && u.push(r.createElement("meta", { key: "profile:first_name", property: "profile:first_name", content: e.openGraph.profile.firstName })), e.openGraph.profile.lastName && u.push(r.createElement("meta", { key: "profile:last_name", property: "profile:last_name", content: e.openGraph.profile.lastName })), e.openGraph.profile.username && u.push(r.createElement("meta", { key: "profile:username", property: "profile:username", content: e.openGraph.profile.username })), e.openGraph.profile.gender && u.push(r.createElement("meta", { key: "profile:gender", property: "profile:gender", content: e.openGraph.profile.gender }))) : "book" === S && e.openGraph.book ? (e.openGraph.book.authors && e.openGraph.book.authors.length && e.openGraph.book.authors.forEach((function (e, t) { u.push(r.createElement("meta", { key: "book:author:0" + t, property: "book:author", content: e })) })), e.openGraph.book.isbn && u.push(r.createElement("meta", { key: "book:isbn", property: "book:isbn", content: e.openGraph.book.isbn })), e.openGraph.book.releaseDate && u.push(r.createElement("meta", { key: "book:release_date", property: "book:release_date", content: e.openGraph.book.releaseDate })), e.openGraph.book.tags && e.openGraph.book.tags.length && e.openGraph.book.tags.forEach((function (e, t) { u.push(r.createElement("meta", { key: "book:tag:0" + t, property: "book:tag", content: e })) }))) : "article" === S && e.openGraph.article ? (e.openGraph.article.publishedTime && u.push(r.createElement("meta", { key: "article:published_time", property: "article:published_time", content: e.openGraph.article.publishedTime })), e.openGraph.article.modifiedTime && u.push(r.createElement("meta", { key: "article:modified_time", property: "article:modified_time", content: e.openGraph.article.modifiedTime })), e.openGraph.article.expirationTime && u.push(r.createElement("meta", { key: "article:expiration_time", property: "article:expiration_time", content: e.openGraph.article.expirationTime })), e.openGraph.article.authors && e.openGraph.article.authors.length && e.openGraph.article.authors.forEach((function (e, t) { u.push(r.createElement("meta", { key: "article:author:0" + t, property: "article:author", content: e })) })), e.openGraph.article.section && u.push(r.createElement("meta", { key: "article:section", property: "article:section", content: e.openGraph.article.section })), e.openGraph.article.tags && e.openGraph.article.tags.length && e.openGraph.article.tags.forEach((function (e, t) { u.push(r.createElement("meta", { key: "article:tag:0" + t, property: "article:tag", content: e })) }))) : "video.movie" !== S && "video.episode" !== S && "video.tv_show" !== S && "video.other" !== S || !e.openGraph.video || (e.openGraph.video.actors && e.openGraph.video.actors.length && e.openGraph.video.actors.forEach((function (e, t) { e.profile && u.push(r.createElement("meta", { key: "video:actor:0" + t, property: "video:actor", content: e.profile })), e.role && u.push(r.createElement("meta", { key: "video:actor:role:0" + t, property: "video:actor:role", content: e.role })) })), e.openGraph.video.directors && e.openGraph.video.directors.length && e.openGraph.video.directors.forEach((function (e, t) { u.push(r.createElement("meta", { key: "video:director:0" + t, property: "video:director", content: e })) })), e.openGraph.video.writers && e.openGraph.video.writers.length && e.openGraph.video.writers.forEach((function (e, t) { u.push(r.createElement("meta", { key: "video:writer:0" + t, property: "video:writer", content: e })) })), e.openGraph.video.duration && u.push(r.createElement("meta", { key: "video:duration", property: "video:duration", content: e.openGraph.video.duration.toString() })), e.openGraph.video.releaseDate && u.push(r.createElement("meta", { key: "video:release_date", property: "video:release_date", content: e.openGraph.video.releaseDate })), e.openGraph.video.tags && e.openGraph.video.tags.length && e.openGraph.video.tags.forEach((function (e, t) { u.push(r.createElement("meta", { key: "video:tag:0" + t, property: "video:tag", content: e })) })), e.openGraph.video.series && u.push(r.createElement("meta", { key: "video:series", property: "video:series", content: e.openGraph.video.series }))) } e.defaultOpenGraphImageWidth && (c.defaultOpenGraphImageWidth = e.defaultOpenGraphImageWidth), e.defaultOpenGraphImageHeight && (c.defaultOpenGraphImageHeight = e.defaultOpenGraphImageHeight), e.openGraph.images && e.openGraph.images.length && u.push.apply(u, l("image", e.openGraph.images, { defaultWidth: c.defaultOpenGraphImageWidth, defaultHeight: c.defaultOpenGraphImageHeight })), e.defaultOpenGraphVideoWidth && (c.defaultOpenGraphVideoWidth = e.defaultOpenGraphVideoWidth), e.defaultOpenGraphVideoHeight && (c.defaultOpenGraphVideoHeight = e.defaultOpenGraphVideoHeight), e.openGraph.videos && e.openGraph.videos.length && u.push.apply(u, l("video", e.openGraph.videos, { defaultWidth: c.defaultOpenGraphVideoWidth, defaultHeight: c.defaultOpenGraphVideoHeight })), e.openGraph.audio && u.push.apply(u, l("audio", e.openGraph.audio)), e.openGraph.locale && u.push(r.createElement("meta", { key: "og:locale", property: "og:locale", content: e.openGraph.locale })), (e.openGraph.siteName || e.openGraph.site_name) && u.push(r.createElement("meta", { key: "og:site_name", property: "og:site_name", content: e.openGraph.siteName || e.openGraph.site_name })) } return e.canonical && u.push(r.createElement("link", { rel: "canonical", href: e.canonical, key: "canonical" })), e.additionalMetaTags && e.additionalMetaTags.length > 0 && e.additionalMetaTags.forEach((function (e) { var t, n, i = e.keyOverride, c = s(e, a); u.push(r.createElement("meta", o({ key: "meta:" + (null != (t = null != (n = null != i ? i : c.name) ? n : c.property) ? t : c.httpEquiv) }, c))) })), null != (i = e.additionalLinkTags) && i.length && e.additionalLinkTags.forEach((function (e) { var t; u.push(r.createElement("link", o({ key: "link" + (null != (t = e.keyOverride) ? t : e.href) + e.rel }, e))) })), u }, d = function (e) { return r.createElement(i.default, null, u(e)) }, h = function (e) { var t = e.title, n = e.titleTemplate, i = e.defaultTitle, o = e.themeColor, s = e.dangerouslySetAllPagesToNoIndex, a = void 0 !== s && s, c = e.dangerouslySetAllPagesToNoFollow, l = void 0 !== c && c, u = e.description, h = e.canonical, f = e.facebook, p = e.openGraph, m = e.additionalMetaTags, g = e.twitter, y = e.defaultOpenGraphImageWidth, b = e.defaultOpenGraphImageHeight, v = e.defaultOpenGraphVideoWidth, w = e.defaultOpenGraphVideoHeight, E = e.mobileAlternate, x = e.languageAlternates, _ = e.additionalLinkTags, C = e.robotsProps; return r.createElement(d, { title: t, titleTemplate: n, defaultTitle: i, themeColor: o, dangerouslySetAllPagesToNoIndex: a, dangerouslySetAllPagesToNoFollow: l, description: u, canonical: h, facebook: f, openGraph: p, additionalMetaTags: m, twitter: g, defaultOpenGraphImageWidth: y, defaultOpenGraphImageHeight: b, defaultOpenGraphVideoWidth: v, defaultOpenGraphVideoHeight: w, mobileAlternate: E, languageAlternates: x, additionalLinkTags: _, robotsProps: C }) }, f = function (e) { var t = e.title, n = e.themeColor, i = e.noindex, o = void 0 !== i && i, s = e.nofollow, a = e.robotsProps, c = e.description, l = e.canonical, h = e.openGraph, f = e.facebook, p = e.twitter, m = e.additionalMetaTags, g = e.titleTemplate, y = e.defaultTitle, b = e.mobileAlternate, v = e.languageAlternates, w = e.additionalLinkTags, E = e.useAppDir, x = void 0 !== E && E; return r.createElement(r.Fragment, null, x ? u({ title: t, themeColor: n, noindex: o, nofollow: s, robotsProps: a, description: c, canonical: l, facebook: f, openGraph: h, additionalMetaTags: m, twitter: p, titleTemplate: g, defaultTitle: y, mobileAlternate: b, languageAlternates: v, additionalLinkTags: w }) : r.createElement(d, { title: t, themeColor: n, noindex: o, nofollow: s, robotsProps: a, description: c, canonical: l, facebook: f, openGraph: h, additionalMetaTags: m, twitter: p, titleTemplate: g, defaultTitle: y, mobileAlternate: b, languageAlternates: v, additionalLinkTags: w })) }, p = Object.freeze({ "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&apos;" }); new RegExp("[" + Object.keys(p).join("") + "]", "g") }, 81780: function (e, t, n) { (window.__NEXT_P = window.__NEXT_P || []).push(["/_app", function () { return n(64510) }]) }, 64510: function (e, t, n) { "use strict"; n.r(t), n.d(t, { default: function () { return e0 } }); var r = {}; n.r(r), n.d(r, { identity: function () { return Cy } }); var i = {}; n.r(i), n.d(i, { base2: function () { return Ay } }); var o = {}; n.r(o), n.d(o, { base8: function () { return Sy } }); var s = {}; n.r(s), n.d(s, { base10: function () { return ky } }); var a = {}; n.r(a), n.d(a, { base16: function () { return Iy }, base16upper: function () { return Ty } }); var c = {}; n.r(c), n.d(c, { base32: function () { return Ny }, base32hex: function () { return Ry }, base32hexpad: function () { return $y }, base32hexpadupper: function () { return Ly }, base32hexupper: function () { return jy }, base32pad: function () { return My }, base32padupper: function () { return Oy }, base32upper: function () { return Py }, base32z: function () { return Dy } }); var l = {}; n.r(l), n.d(l, { base36: function () { return Uy }, base36upper: function () { return Fy } }); var u = {}; n.r(u), n.d(u, { base58btc: function () { return By }, base58flickr: function () { return Wy } }); var d = {}; n.r(d), n.d(d, { base64: function () { return zy }, base64pad: function () { return qy }, base64url: function () { return Hy }, base64urlpad: function () { return Gy } }); var h = {}; n.r(h), n.d(h, { base256emoji: function () { return Zy } }); var f = {}; n.r(f), n.d(f, { sha256: function () { return yb }, sha512: function () { return bb } }); var p = {}; n.r(p), n.d(p, { identity: function () { return wb } }); var m = {}; n.r(m), n.d(m, { code: function () { return xb }, decode: function () { return Cb }, encode: function () { return _b }, name: function () { return Eb } }); var g = {}; n.r(g), n.d(g, { code: function () { return Ib }, decode: function () { return Nb }, encode: function () { return Tb }, name: function () { return kb } }); var y = n(85893), b = (n(59221), n(92890)), v = n.n(b); function w(e) { return (w = "function" === typeof Symbol && "symbol" === typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" === typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function E(e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } } function x(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } function _(e) { for (var t = 1; t < arguments.length; t++) { var n = null != arguments[t] ? arguments[t] : {}, r = Object.keys(n); "function" === typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter((function (e) { return Object.getOwnPropertyDescriptor(n, e).enumerable })))), r.forEach((function (t) { x(e, t, n[t]) })) } return e } function C(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { var n = [], r = !0, i = !1, o = void 0; try { for (var s, a = e[Symbol.iterator](); !(r = (s = a.next()).done) && (n.push(s.value), !t || n.length !== t); r = !0); } catch (c) { i = !0, o = c } finally { try { r || null == a.return || a.return() } finally { if (i) throw o } } return n }(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance") }() } var A = function () { }, S = {}, k = {}, I = { mark: A, measure: A }; try { "undefined" !== typeof window && (S = window), "undefined" !== typeof document && (k = document), "undefined" !== typeof MutationObserver && MutationObserver, "undefined" !== typeof performance && (I = performance) } catch (t0) { } var T = (S.navigator || {}).userAgent, N = void 0 === T ? "" : T, P = S, M = k, O = I, R = (P.document, !!M.documentElement && !!M.head && "function" === typeof M.addEventListener && "function" === typeof M.createElement), j = (~N.indexOf("MSIE") || N.indexOf("Trident/"), "svg-inline--fa"), $ = "data-fa-i2svg", L = (function () { try { } catch (t0) { return !1 } }(), [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]), D = L.concat([11, 12, 13, 14, 15, 16, 17, 18, 19, 20]), U = { GROUP: "group", SWAP_OPACITY: "swap-opacity", PRIMARY: "primary", SECONDARY: "secondary" }, F = (["xs", "sm", "lg", "fw", "ul", "li", "border", "pull-left", "pull-right", "spin", "pulse", "rotate-90", "rotate-180", "rotate-270", "flip-horizontal", "flip-vertical", "flip-both", "stack", "stack-1x", "stack-2x", "inverse", "layers", "layers-text", "layers-counter", U.GROUP, U.SWAP_OPACITY, U.PRIMARY, U.SECONDARY].concat(L.map((function (e) { return "".concat(e, "x") }))).concat(D.map((function (e) { return "w-".concat(e) }))), P.FontAwesomeConfig || {}); if (M && "function" === typeof M.querySelector) { [["data-family-prefix", "familyPrefix"], ["data-replacement-class", "replacementClass"], ["data-auto-replace-svg", "autoReplaceSvg"], ["data-auto-add-css", "autoAddCss"], ["data-auto-a11y", "autoA11y"], ["data-search-pseudo-elements", "searchPseudoElements"], ["data-observe-mutations", "observeMutations"], ["data-mutate-approach", "mutateApproach"], ["data-keep-original-source", "keepOriginalSource"], ["data-measure-performance", "measurePerformance"], ["data-show-missing-icons", "showMissingIcons"]].forEach((function (e) { var t = C(e, 2), n = t[0], r = t[1], i = function (e) { return "" === e || "false" !== e && ("true" === e || e) }(function (e) { var t = M.querySelector("script[" + e + "]"); if (t) return t.getAttribute(e) }(n)); void 0 !== i && null !== i && (F[r] = i) })) } var B = _({}, { familyPrefix: "fa", replacementClass: j, autoReplaceSvg: !0, autoAddCss: !0, autoA11y: !0, searchPseudoElements: !1, observeMutations: !0, mutateApproach: "async", keepOriginalSource: !0, measurePerformance: !1, showMissingIcons: !0 }, F); B.autoReplaceSvg || (B.observeMutations = !1); var W = _({}, B); P.FontAwesomeConfig = W; var z = P || {}; z.___FONT_AWESOME___ || (z.___FONT_AWESOME___ = {}), z.___FONT_AWESOME___.styles || (z.___FONT_AWESOME___.styles = {}), z.___FONT_AWESOME___.hooks || (z.___FONT_AWESOME___.hooks = {}), z.___FONT_AWESOME___.shims || (z.___FONT_AWESOME___.shims = []); var q = z.___FONT_AWESOME___, H = []; R && ((M.documentElement.doScroll ? /^loaded|^c/ : /^loaded|^i|^c/).test(M.readyState) || M.addEventListener("DOMContentLoaded", (function e() { M.removeEventListener("DOMContentLoaded", e), 1, H.map((function (e) { return e() })) }))); var G, V = "pending", K = "settled", Y = "fulfilled", Z = "rejected", X = function () { }, J = "undefined" !== typeof n.g && "undefined" !== typeof n.g.process && "function" === typeof n.g.process.emit, Q = "undefined" === typeof setImmediate ? setTimeout : setImmediate, ee = []; function te() { for (var e = 0; e < ee.length; e++)ee[e][0](ee[e][1]); ee = [], G = !1 } function ne(e, t) { ee.push([e, t]), G || (G = !0, Q(te, 0)) } function re(e) { var t = e.owner, n = t._state, r = t._data, i = e[n], o = e.then; if ("function" === typeof i) { n = Y; try { r = i(r) } catch (t0) { ae(o, t0) } } ie(o, r) || (n === Y && oe(o, r), n === Z && ae(o, r)) } function ie(e, t) { var n; try { if (e === t) throw new TypeError("A promises callback cannot return that same promise."); if (t && ("function" === typeof t || "object" === w(t))) { var r = t.then; if ("function" === typeof r) return r.call(t, (function (r) { n || (n = !0, t === r ? se(e, r) : oe(e, r)) }), (function (t) { n || (n = !0, ae(e, t)) })), !0 } } catch (t0) { return n || ae(e, t0), !0 } return !1 } function oe(e, t) { e !== t && ie(e, t) || se(e, t) } function se(e, t) { e._state === V && (e._state = K, e._data = t, ne(le, e)) } function ae(e, t) { e._state === V && (e._state = K, e._data = t, ne(ue, e)) } function ce(e) { e._then = e._then.forEach(re) } function le(e) { e._state = Y, ce(e) } function ue(e) { e._state = Z, ce(e), !e._handled && J && n.g.process.emit("unhandledRejection", e._data, e) } function de(e) { n.g.process.emit("rejectionHandled", e) } function he(e) { if ("function" !== typeof e) throw new TypeError("Promise resolver " + e + " is not a function"); if (this instanceof he === !1) throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function."); this._then = [], function (e, t) { function n(e) { ae(t, e) } try { e((function (e) { oe(t, e) }), n) } catch (t0) { n(t0) } }(e, this) } he.prototype = { constructor: he, _state: V, _then: null, _data: void 0, _handled: !1, then: function (e, t) { var n = { owner: this, then: new this.constructor(X), fulfilled: e, rejected: t }; return !t && !e || this._handled || (this._handled = !0, this._state === Z && J && ne(de, this)), this._state === Y || this._state === Z ? ne(re, n) : this._then.push(n), n.then }, catch: function (e) { return this.then(null, e) } }, he.all = function (e) { if (!Array.isArray(e)) throw new TypeError("You must pass an array to Promise.all()."); return new he((function (t, n) { var r = [], i = 0; function o(e) { return i++, function (n) { r[e] = n, --i || t(r) } } for (var s, a = 0; a < e.length; a++)(s = e[a]) && "function" === typeof s.then ? s.then(o(a), n) : r[a] = s; i || t(r) })) }, he.race = function (e) { if (!Array.isArray(e)) throw new TypeError("You must pass an array to Promise.race()."); return new he((function (t, n) { for (var r, i = 0; i < e.length; i++)(r = e[i]) && "function" === typeof r.then ? r.then(t, n) : t(r) })) }, he.resolve = function (e) { return e && "object" === w(e) && e.constructor === he ? e : new he((function (t) { t(e) })) }, he.reject = function (e) { return new he((function (t, n) { n(e) })) }; var fe = { size: 16, x: 0, y: 0, rotate: 0, flipX: !1, flipY: !1 }; function pe(e) { if (e && R) { var t = M.createElement("style"); t.setAttribute("type", "text/css"), t.innerHTML = e; for (var n = M.head.childNodes, r = null, i = n.length - 1; i > -1; i--) { var o = n[i], s = (o.tagName || "").toUpperCase();["STYLE", "LINK"].indexOf(s) > -1 && (r = o) } return M.head.insertBefore(t, r), e } } function me() { for (var e = 12, t = ""; e-- > 0;)t += "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62 * Math.random() | 0]; return t } function ge(e) { return "".concat(e).replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&#39;").replace(/</g, "&lt;").replace(/>/g, "&gt;") } function ye(e) { return Object.keys(e || {}).reduce((function (t, n) { return t + "".concat(n, ": ").concat(e[n], ";") }), "") } function be(e) { return e.size !== fe.size || e.x !== fe.x || e.y !== fe.y || e.rotate !== fe.rotate || e.flipX || e.flipY } function ve(e) { var t = e.transform, n = e.containerWidth, r = e.iconWidth, i = { transform: "translate(".concat(n / 2, " 256)") }, o = "translate(".concat(32 * t.x, ", ").concat(32 * t.y, ") "), s = "scale(".concat(t.size / 16 * (t.flipX ? -1 : 1), ", ").concat(t.size / 16 * (t.flipY ? -1 : 1), ") "), a = "rotate(".concat(t.rotate, " 0 0)"); return { outer: i, inner: { transform: "".concat(o, " ").concat(s, " ").concat(a) }, path: { transform: "translate(".concat(r / 2 * -1, " -256)") } } } var we = { x: 0, y: 0, width: "100%", height: "100%" }; function Ee(e) { var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]; return e.attributes && (e.attributes.fill || t) && (e.attributes.fill = "black"), e } function xe(e) { var t = e.icons, n = t.main, r = t.mask, i = e.prefix, o = e.iconName, s = e.transform, a = e.symbol, c = e.title, l = e.maskId, u = e.titleId, d = e.extra, h = e.watchable, f = void 0 !== h && h, p = r.found ? r : n, m = p.width, g = p.height, y = "fak" === i, b = y ? "" : "fa-w-".concat(Math.ceil(m / g * 16)), v = [W.replacementClass, o ? "".concat(W.familyPrefix, "-").concat(o) : "", b].filter((function (e) { return -1 === d.classes.indexOf(e) })).filter((function (e) { return "" !== e || !!e })).concat(d.classes).join(" "), w = { children: [], attributes: _({}, d.attributes, { "data-prefix": i, "data-icon": o, class: v, role: d.attributes.role || "img", xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 ".concat(m, " ").concat(g) }) }, E = y && !~d.classes.indexOf("fa-fw") ? { width: "".concat(m / g * 16 * .0625, "em") } : {}; f && (w.attributes[$] = ""), c && w.children.push({ tag: "title", attributes: { id: w.attributes["aria-labelledby"] || "title-".concat(u || me()) }, children: [c] }); var x = _({}, w, { prefix: i, iconName: o, main: n, mask: r, maskId: l, transform: s, symbol: a, styles: _({}, E, d.styles) }), C = r.found && n.found ? function (e) { var t, n = e.children, r = e.attributes, i = e.main, o = e.mask, s = e.maskId, a = e.transform, c = i.width, l = i.icon, u = o.width, d = o.icon, h = ve({ transform: a, containerWidth: u, iconWidth: c }), f = { tag: "rect", attributes: _({}, we, { fill: "white" }) }, p = l.children ? { children: l.children.map(Ee) } : {}, m = { tag: "g", attributes: _({}, h.inner), children: [Ee(_({ tag: l.tag, attributes: _({}, l.attributes, h.path) }, p))] }, g = { tag: "g", attributes: _({}, h.outer), children: [m] }, y = "mask-".concat(s || me()), b = "clip-".concat(s || me()), v = { tag: "mask", attributes: _({}, we, { id: y, maskUnits: "userSpaceOnUse", maskContentUnits: "userSpaceOnUse" }), children: [f, g] }, w = { tag: "defs", children: [{ tag: "clipPath", attributes: { id: b }, children: (t = d, "g" === t.tag ? t.children : [t]) }, v] }; return n.push(w, { tag: "rect", attributes: _({ fill: "currentColor", "clip-path": "url(#".concat(b, ")"), mask: "url(#".concat(y, ")") }, we) }), { children: n, attributes: r } }(x) : function (e) { var t = e.children, n = e.attributes, r = e.main, i = e.transform, o = ye(e.styles); if (o.length > 0 && (n.style = o), be(i)) { var s = ve({ transform: i, containerWidth: r.width, iconWidth: r.width }); t.push({ tag: "g", attributes: _({}, s.outer), children: [{ tag: "g", attributes: _({}, s.inner), children: [{ tag: r.icon.tag, children: r.icon.children, attributes: _({}, r.icon.attributes, s.path) }] }] }) } else t.push(r.icon); return { children: t, attributes: n } }(x), A = C.children, S = C.attributes; return x.children = A, x.attributes = S, a ? function (e) { var t = e.prefix, n = e.iconName, r = e.children, i = e.attributes, o = e.symbol; return [{ tag: "svg", attributes: { style: "display: none;" }, children: [{ tag: "symbol", attributes: _({}, i, { id: !0 === o ? "".concat(t, "-").concat(W.familyPrefix, "-").concat(n) : o }), children: r }] }] }(x) : function (e) { var t = e.children, n = e.main, r = e.mask, i = e.attributes, o = e.styles, s = e.transform; if (be(s) && n.found && !r.found) { var a = { x: n.width / n.height / 2, y: .5 }; i.style = ye(_({}, o, { "transform-origin": "".concat(a.x + s.x / 16, "em ").concat(a.y + s.y / 16, "em") })) } return [{ tag: "svg", attributes: i, children: t }] }(x) } var _e = function () { }, Ce = (W.measurePerformance && O && O.mark && O.measure, function (e, t, n, r) { var i, o, s, a = Object.keys(e), c = a.length, l = void 0 !== r ? function (e, t) { return function (n, r, i, o) { return e.call(t, n, r, i, o) } }(t, r) : t; for (void 0 === n ? (i = 1, s = e[a[0]]) : (i = 0, s = n); i < c; i++)s = l(s, e[o = a[i]], o, e); return s }); function Ae(e, t) { var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r = n.skipHooks, i = void 0 !== r && r, o = Object.keys(t).reduce((function (e, n) { var r = t[n]; return !!r.icon ? e[r.iconName] = r.icon : e[n] = r, e }), {}); "function" !== typeof q.hooks.addPack || i ? q.styles[e] = _({}, q.styles[e] || {}, o) : q.hooks.addPack(e, o), "fas" === e && Ae("fa", t) } var Se = q.styles, ke = q.shims, Ie = function () { var e = function (e) { return Ce(Se, (function (t, n, r) { return t[r] = Ce(n, e, {}), t }), {}) }; e((function (e, t, n) { return t[3] && (e[t[3]] = n), e })), e((function (e, t, n) { var r = t[2]; return e[n] = n, r.forEach((function (t) { e[t] = n })), e })); var t = "far" in Se; Ce(ke, (function (e, n) { var r = n[0], i = n[1], o = n[2]; return "far" !== i || t || (i = "fas"), e[r] = { prefix: i, iconName: o }, e }), {}) }; Ie(); q.styles; function Te(e, t, n) { if (e && e[t] && e[t][n]) return { prefix: t, iconName: n, icon: e[t][n] } } function Ne(e) { var t = e.tag, n = e.attributes, r = void 0 === n ? {} : n, i = e.children, o = void 0 === i ? [] : i; return "string" === typeof e ? ge(e) : "<".concat(t, " ").concat(function (e) { return Object.keys(e || {}).reduce((function (t, n) { return t + "".concat(n, '="').concat(ge(e[n]), '" ') }), "").trim() }(r), ">").concat(o.map(Ne).join(""), "</").concat(t, ">") } var Pe = function (e) { var t = { size: 16, x: 0, y: 0, flipX: !1, flipY: !1, rotate: 0 }; return e ? e.toLowerCase().split(" ").reduce((function (e, t) { var n = t.toLowerCase().split("-"), r = n[0], i = n.slice(1).join("-"); if (r && "h" === i) return e.flipX = !0, e; if (r && "v" === i) return e.flipY = !0, e; if (i = parseFloat(i), isNaN(i)) return e; switch (r) { case "grow": e.size = e.size + i; break; case "shrink": e.size = e.size - i; break; case "left": e.x = e.x - i; break; case "right": e.x = e.x + i; break; case "up": e.y = e.y - i; break; case "down": e.y = e.y + i; break; case "rotate": e.rotate = e.rotate + i }return e }), t) : t }; function Me(e) { this.name = "MissingIcon", this.message = e || "Icon unavailable", this.stack = (new Error).stack } Me.prototype = Object.create(Error.prototype), Me.prototype.constructor = Me; var Oe = { fill: "currentColor" }, Re = { attributeType: "XML", repeatCount: "indefinite", dur: "2s" }, je = { tag: "path", attributes: _({}, Oe, { d: "M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z" }) }, $e = _({}, Re, { attributeName: "opacity" }); _({}, Oe, { cx: "256", cy: "364", r: "28" }), _({}, Re, { attributeName: "r", values: "28;14;28;28;14;28;" }), _({}, $e, { values: "1;0;1;1;0;1;" }), _({}, Oe, { opacity: "1", d: "M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z" }), _({}, $e, { values: "1;0;0;0;0;1;" }), _({}, Oe, { opacity: "0", d: "M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z" }), _({}, $e, { values: "0;0;1;1;0;0;" }), q.styles; function Le(e) { var t = e[0], n = e[1], r = C(e.slice(4), 1)[0]; return { found: !0, width: t, height: n, icon: Array.isArray(r) ? { tag: "g", attributes: { class: "".concat(W.familyPrefix, "-").concat(U.GROUP) }, children: [{ tag: "path", attributes: { class: "".concat(W.familyPrefix, "-").concat(U.SECONDARY), fill: "currentColor", d: r[0] } }, { tag: "path", attributes: { class: "".concat(W.familyPrefix, "-").concat(U.PRIMARY), fill: "currentColor", d: r[1] } }] } : { tag: "path", attributes: { fill: "currentColor", d: r } } } } q.styles; function De() { var e = "fa", t = j, n = W.familyPrefix, r = W.replacementClass, i = 'svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}'; if (n !== e || r !== t) { var o = new RegExp("\\.".concat(e, "\\-"), "g"), s = new RegExp("\\--".concat(e, "\\-"), "g"), a = new RegExp("\\.".concat(t), "g"); i = i.replace(o, ".".concat(n, "-")).replace(s, "--".concat(n, "-")).replace(a, ".".concat(r)) } return i } function Ue() { W.autoAddCss && !ze && (pe(De()), ze = !0) } function Fe(e, t) { return Object.defineProperty(e, "abstract", { get: t }), Object.defineProperty(e, "html", { get: function () { return e.abstract.map((function (e) { return Ne(e) })) } }), Object.defineProperty(e, "node", { get: function () { if (R) { var t = M.createElement("div"); return t.innerHTML = e.html, t.children } } }), e } function Be(e) { var t = e.prefix, n = void 0 === t ? "fa" : t, r = e.iconName; if (r) return Te(We.definitions, n, r) || Te(q.styles, n, r) } var We = new (function () { function e() { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), this.definitions = {} } var t, n, r; return t = e, (n = [{ key: "add", value: function () { for (var e = this, t = arguments.length, n = new Array(t), r = 0; r < t; r++)n[r] = arguments[r]; var i = n.reduce(this._pullDefinitions, {}); Object.keys(i).forEach((function (t) { e.definitions[t] = _({}, e.definitions[t] || {}, i[t]), Ae(t, i[t]), Ie() })) } }, { key: "reset", value: function () { this.definitions = {} } }, { key: "_pullDefinitions", value: function (e, t) { var n = t.prefix && t.iconName && t.icon ? { 0: t } : t; return Object.keys(n).map((function (t) { var r = n[t], i = r.prefix, o = r.iconName, s = r.icon; e[i] || (e[i] = {}), e[i][o] = s })), e } }]) && E(t.prototype, n), r && E(t, r), e }()), ze = !1, qe = { transform: function (e) { return Pe(e) } }, He = function (e) { return function (t) { var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r = (t || {}).icon ? t : Be(t || {}), i = n.mask; return i && (i = (i || {}).icon ? i : Be(i || {})), e(r, _({}, n, { mask: i })) } }((function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n = t.transform, r = void 0 === n ? fe : n, i = t.symbol, o = void 0 !== i && i, s = t.mask, a = void 0 === s ? null : s, c = t.maskId, l = void 0 === c ? null : c, u = t.title, d = void 0 === u ? null : u, h = t.titleId, f = void 0 === h ? null : h, p = t.classes, m = void 0 === p ? [] : p, g = t.attributes, y = void 0 === g ? {} : g, b = t.styles, v = void 0 === b ? {} : b; if (e) { var w = e.prefix, E = e.iconName, x = e.icon; return Fe(_({ type: "icon" }, e), (function () { return Ue(), W.autoA11y && (d ? y["aria-labelledby"] = "".concat(W.replacementClass, "-title-").concat(f || me()) : (y["aria-hidden"] = "true", y.focusable = "false")), xe({ icons: { main: Le(x), mask: a ? Le(a.icon) : { found: !1, width: null, height: null, icon: {} } }, prefix: w, iconName: E, transform: _({}, fe, r), symbol: o, title: d, maskId: l, titleId: f, extra: { attributes: y, styles: v, classes: m } }) })) } })), Ge = n(45697), Ve = n.n(Ge), Ke = n(67294), Ye = n.t(Ke, 2); function Ze(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function Xe(e) { for (var t = 1; t < arguments.length; t++) { var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? Ze(Object(n), !0).forEach((function (t) { Qe(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Ze(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function Je(e) { return (Je = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function Qe(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } function et(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function tt(e) { return function (e) { if (Array.isArray(e)) return nt(e) }(e) || function (e) { if ("undefined" !== typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"]) return Array.from(e) }(e) || function (e, t) { if (!e) return; if ("string" === typeof e) return nt(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); "Object" === n && e.constructor && (n = e.constructor.name); if ("Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return nt(e, t) }(e) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function nt(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r } function rt(e) { return t = e, (t -= 0) === t ? e : (e = e.replace(/[\-_\s]+(.)?/g, (function (e, t) { return t ? t.toUpperCase() : "" }))).substr(0, 1).toLowerCase() + e.substr(1); var t } var it = ["style"]; function ot(e) { return e.split(";").map((function (e) { return e.trim() })).filter((function (e) { return e })).reduce((function (e, t) { var n, r = t.indexOf(":"), i = rt(t.slice(0, r)), o = t.slice(r + 1).trim(); return i.startsWith("webkit") ? e[(n = i, n.charAt(0).toUpperCase() + n.slice(1))] = o : e[i] = o, e }), {}) } var st = !1; try { st = !0 } catch (t0) { } function at(e) { return e && "object" === Je(e) && e.prefix && e.iconName && e.icon ? e : qe.icon ? qe.icon(e) : null === e ? null : e && "object" === Je(e) && e.prefix && e.iconName ? e : Array.isArray(e) && 2 === e.length ? { prefix: e[0], iconName: e[1] } : "string" === typeof e ? { prefix: "fas", iconName: e } : void 0 } function ct(e, t) { return Array.isArray(t) && t.length > 0 || !Array.isArray(t) && t ? Qe({}, e, t) : {} } var lt = ["forwardedRef"]; function ut(e) { var t = e.forwardedRef, n = et(e, lt), r = n.icon, i = n.mask, o = n.symbol, s = n.className, a = n.title, c = n.titleId, l = n.maskId, u = at(r), d = ct("classes", [].concat(tt(function (e) { var t, n = e.beat, r = e.fade, i = e.beatFade, o = e.bounce, s = e.shake, a = e.flash, c = e.spin, l = e.spinPulse, u = e.spinReverse, d = e.pulse, h = e.fixedWidth, f = e.inverse, p = e.border, m = e.listItem, g = e.flip, y = e.size, b = e.rotation, v = e.pull, w = (Qe(t = { "fa-beat": n, "fa-fade": r, "fa-beat-fade": i, "fa-bounce": o, "fa-shake": s, "fa-flash": a, "fa-spin": c, "fa-spin-reverse": u, "fa-spin-pulse": l, "fa-pulse": d, "fa-fw": h, "fa-inverse": f, "fa-border": p, "fa-li": m, "fa-flip": !0 === g, "fa-flip-horizontal": "horizontal" === g || "both" === g, "fa-flip-vertical": "vertical" === g || "both" === g }, "fa-".concat(y), "undefined" !== typeof y && null !== y), Qe(t, "fa-rotate-".concat(b), "undefined" !== typeof b && null !== b && 0 !== b), Qe(t, "fa-pull-".concat(v), "undefined" !== typeof v && null !== v), Qe(t, "fa-swap-opacity", e.swapOpacity), t); return Object.keys(w).map((function (e) { return w[e] ? e : null })).filter((function (e) { return e })) }(n)), tt(s.split(" ")))), h = ct("transform", "string" === typeof n.transform ? qe.transform(n.transform) : n.transform), f = ct("mask", at(i)), p = He(u, Xe(Xe(Xe(Xe({}, d), h), f), {}, { symbol: o, title: a, titleId: c, maskId: l })); if (!p) return function () { var e; !st && console && "function" === typeof console.error && (e = console).error.apply(e, arguments) }("Could not find icon", u), null; var m = p.abstract, g = { ref: t }; return Object.keys(n).forEach((function (e) { ut.defaultProps.hasOwnProperty(e) || (g[e] = n[e]) })), dt(m[0], g) } ut.displayName = "FontAwesomeIcon", ut.propTypes = { beat: Ve().bool, border: Ve().bool, beatFade: Ve().bool, bounce: Ve().bool, className: Ve().string, fade: Ve().bool, flash: Ve().bool, mask: Ve().oneOfType([Ve().object, Ve().array, Ve().string]), maskId: Ve().string, fixedWidth: Ve().bool, inverse: Ve().bool, flip: Ve().oneOf([!0, !1, "horizontal", "vertical", "both"]), icon: Ve().oneOfType([Ve().object, Ve().array, Ve().string]), listItem: Ve().bool, pull: Ve().oneOf(["right", "left"]), pulse: Ve().bool, rotation: Ve().oneOf([0, 90, 180, 270]), shake: Ve().bool, size: Ve().oneOf(["2xs", "xs", "sm", "lg", "xl", "2xl", "1x", "2x", "3x", "4x", "5x", "6x", "7x", "8x", "9x", "10x"]), spin: Ve().bool, spinPulse: Ve().bool, spinReverse: Ve().bool, symbol: Ve().oneOfType([Ve().bool, Ve().string]), title: Ve().string, titleId: Ve().string, transform: Ve().oneOfType([Ve().string, Ve().object]), swapOpacity: Ve().bool }, ut.defaultProps = { border: !1, className: "", mask: null, maskId: null, fixedWidth: !1, inverse: !1, flip: !1, icon: null, listItem: !1, pull: null, pulse: !1, rotation: null, size: null, spin: !1, spinPulse: !1, spinReverse: !1, beat: !1, fade: !1, beatFade: !1, bounce: !1, shake: !1, symbol: !1, title: "", titleId: null, transform: null, swapOpacity: !1 }; var dt = function e(t, n) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; if ("string" === typeof n) return n; var i = (n.children || []).map((function (n) { return e(t, n) })), o = Object.keys(n.attributes || {}).reduce((function (e, t) { var r = n.attributes[t]; switch (t) { case "class": e.attrs.className = r, delete n.attributes.class; break; case "style": e.attrs.style = ot(r); break; default: 0 === t.indexOf("aria-") || 0 === t.indexOf("data-") ? e.attrs[t.toLowerCase()] = r : e.attrs[rt(t)] = r }return e }), { attrs: {} }), s = r.style, a = void 0 === s ? {} : s, c = et(r, it); return o.attrs.style = Xe(Xe({}, o.attrs.style), a), t.apply(void 0, [n.tag, Xe(Xe({}, o.attrs), c)].concat(tt(i))) }.bind(null, Ke.createElement), ht = { prefix: "fab", iconName: "discord", icon: [640, 512, [], "f392", "M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"] }, ft = { prefix: "fab", iconName: "instagram", icon: [448, 512, [], "f16d", "M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"] }, pt = { prefix: "fab", iconName: "telegram", icon: [496, 512, [], "f2c6", "M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"] }, mt = { prefix: "fab", iconName: "twitter", icon: [512, 512, [], "f099", "M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"] }; function gt() { return (0, y.jsxs)("div", { className: v().footer, children: [(0, y.jsx)("a", { href: "https://opensea.io/collection/twistedniggers", children: (0, y.jsx)("img", { src: "/img/icons/opensea.png", alt: "OpenSea" }) }), (0, y.jsx)("a", { href: "https://twitter.com/nigger_labs", children: (0, y.jsx)(ut, { icon: mt }) }), (0, y.jsx)("a", { href: "https://t.me/niggerlabss", children: (0, y.jsx)(ut, { icon: pt }) }), (0, y.jsx)("span", { children: "Nigger Labs" }), (0, y.jsx)("a", { href: "https://www.instagram.com/nfnigger/", children: (0, y.jsx)(ut, { icon: ft }) }), (0, y.jsx)("a", { href: "https://discord.com/invite/KHeXJ38VjE", children: (0, y.jsx)(ut, { icon: ht }) }), (0, y.jsx)("a", { href: "https://www.dextools.io/app/en/solana/pair-explorer/E9Bm6qqw2yYsfmi6PvF7AbLTgkgspArMB2STXdu69f1R?t=1731909697291", children: (0, y.jsx)("img", { src: "https://asset.cloudinary.com/dvz9gbvc9/b26fd6fa8ee142f933c7e01bc76a90c5", alt: "DexTools", style: { height: "24px", marginLeft: "10px" } }) })] }) } var yt = n(11163), bt = n(2962), vt = { title: "Nigger Labs", description: "Niggers emerged from the mind of a young artist and found their way from paintbrush to blockchain, living permanently on the Ethereum network as Non-fungible Tokens. The original 100 Niggers are hand drawn characters that create the story for an entire world of Niggers.", openGraph: { type: "website", locale: "en_US", url: "https://www.niggerlabs.com/", site_name: "Nigger Labs", description: "Niggers emerged from the mind of a young artist and found their way from paintbrush to blockchain, living permanently on the Ethereum network as Non-fungible Tokens. The original 100 Niggers are hand drawn characters that create the story for an entire world of Niggers.", images: [{ url: "https://niggerlabs.com/img/social_thumbnail.jpeg", width: 800, height: 600, alt: "Main Image" }] }, twitter: { handle: "@nigger_labs", site: "https://niggerlabs.com", cardType: "summary_large_image" } }; function wt() { const e = new Set; let t = []; const n = () => function (e) { if ("undefined" === typeof window) return; const t = t => e(t.detail); return window.addEventListener("eip6963:announceProvider", t), window.dispatchEvent(new CustomEvent("eip6963:requestProvider")), () => window.removeEventListener("eip6963:announceProvider", t) }((n => { t.some((({ info: e }) => e.uuid === n.info.uuid)) || (t = [...t, n], e.forEach((e => e(t, { added: [n] })))) })); let r = n(); return { _listeners: () => e, clear() { e.forEach((e => e([], { removed: [...t] }))), t = [] }, destroy() { this.clear(), e.clear(), r?.() }, findProvider: ({ rdns: e }) => t.find((t => t.info.rdns === e)), getProviders: () => t, reset() { this.clear(), r?.(), r = n() }, subscribe: (n, { emitImmediately: r } = {}) => (e.add(n), r && n(t, { added: t }), () => e.delete(n)) } } var Et = n(94898); const xt = e => (t, n, r) => { const i = r.subscribe; r.subscribe = (e, t, n) => { let o = e; if (t) { const i = (null == n ? void 0 : n.equalityFn) || Object.is; let s = e(r.getState()); o = n => { const r = e(n); if (!i(s, r)) { const e = s; t(s = r, e) } }, (null == n ? void 0 : n.fireImmediately) && t(s, s) } return i(o) }; return e(t, n, r) }; function _t(e, t) { let n; try { n = e() } catch (t0) { return } return { getItem: e => { var r; const i = e => null === e ? null : JSON.parse(e, null == t ? void 0 : t.reviver), o = null != (r = n.getItem(e)) ? r : null; return o instanceof Promise ? o.then(i) : i(o) }, setItem: (e, r) => n.setItem(e, JSON.stringify(r, null == t ? void 0 : t.replacer)), removeItem: e => n.removeItem(e) } } const Ct = e => t => { try { const n = e(t); return n instanceof Promise ? n : { then: e => Ct(e)(n), catch(e) { return this } } } catch (t0) { return { then(e) { return this }, catch: t => Ct(t)(t0) } } }, At = (e, t) => (n, r, i) => { let o = { storage: _t((() => localStorage)), partialize: e => e, version: 0, merge: (e, t) => ({ ...t, ...e }), ...t }, s = !1; const a = new Set, c = new Set; let l = o.storage; if (!l) return e(((...e) => { console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`), n(...e) }), r, i); const u = () => { const e = o.partialize({ ...r() }); return l.setItem(o.name, { state: e, version: o.version }) }, d = i.setState; i.setState = (e, t) => { d(e, t), u() }; const h = e(((...e) => { n(...e), u() }), r, i); let f; i.getInitialState = () => h; const p = () => { var e, t; if (!l) return; s = !1, a.forEach((e => { var t; return e(null != (t = r()) ? t : h) })); const i = (null == (t = o.onRehydrateStorage) ? void 0 : t.call(o, null != (e = r()) ? e : h)) || void 0; return Ct(l.getItem.bind(l))(o.name).then((e => { if (e) { if ("number" !== typeof e.version || e.version === o.version) return [!1, e.state]; if (o.migrate) return [!0, o.migrate(e.state, e.version)]; console.error("State loaded from storage couldn't be migrated since no migrate function was provided") } return [!1, void 0] })).then((e => { var t; const [i, s] = e; if (f = o.merge(s, null != (t = r()) ? t : h), n(f, !0), i) return u() })).then((() => { null == i || i(f, void 0), f = r(), s = !0, c.forEach((e => e(f))) })).catch((e => { null == i || i(void 0, e) })) }; return i.persist = { setOptions: e => { o = { ...o, ...e }, e.storage && (l = e.storage) }, clearStorage: () => { null == l || l.removeItem(o.name) }, getOptions: () => o, rehydrate: () => p(), hasHydrated: () => s, onHydrate: e => (a.add(e), () => { a.delete(e) }), onFinishHydration: e => (c.add(e), () => { c.delete(e) }) }, o.skipHydration || p(), f || h }, St = e => { let t; const n = new Set, r = (e, r) => { const i = "function" === typeof e ? e(t) : e; if (!Object.is(i, t)) { const e = t; t = (null != r ? r : "object" !== typeof i || null === i) ? i : Object.assign({}, t, i), n.forEach((n => n(t, e))) } }, i = () => t, o = { setState: r, getState: i, getInitialState: () => s, subscribe: e => (n.add(e), () => n.delete(e)) }, s = t = e(r, i, o); return o }, kt = e => e ? St(e) : St; var It = n(45775), Tt = n(39028); function Nt(e, { errorInstance: t = new Error("timed out"), timeout: n, signal: r }) { return new Promise(((i, o) => { (async () => { let s; try { const a = new AbortController; n > 0 && (s = setTimeout((() => { r ? a.abort() : o(t) }), n)), i(await e({ signal: a?.signal || null })) } catch (a) { "AbortError" === a?.name && o(t), o(a) } finally { clearTimeout(s) } })() })) } var Pt = n(7760), Mt = n(92106), Ot = n(87675), Rt = n(7066); class jt extends Rt.G { constructor() { super("Provider not found."), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "ProviderNotFoundError" }) } } function $t(e = {}) { const { shimDisconnect: t = !0, unstable_shimAsyncInject: n } = e; function r() { const t = e.target; if ("function" === typeof t) { const e = t(); if (e) return e } return "object" === typeof t ? t : "string" === typeof t ? { ...Lt[t] ?? { id: t, name: `${t[0].toUpperCase()}${t.slice(1)}`, provider: `is${t[0].toUpperCase()}${t.slice(1)}` } } : { id: "injected", name: "Injected", provider: e => e?.ethereum } } let i, o, s, a; return c => ({ get icon() { return r().icon }, get id() { return r().id }, get name() { return r().name }, get supportsSimulation() { return !0 }, type: $t.type, async setup() { const t = await this.getProvider(); t?.on && e.target && (s || (s = this.onConnect.bind(this), t.on("connect", s)), i || (i = this.onAccountsChanged.bind(this), t.on("accountsChanged", i))) }, async connect({ chainId: n, isReconnecting: r } = {}) { const l = await this.getProvider(); if (!l) throw new jt; let u = []; if (r) u = await this.getAccounts().catch((() => [])); else if (t) try { if (u = (await l.request({ method: "wallet_requestPermissions", params: [{ eth_accounts: {} }] }))[0]?.caveats?.[0]?.value?.map((e => (0, It.K)(e))), u.length > 0) { u = await this.getAccounts() } } catch (d) { const e = d; if (e.code === Tt.ab.code) throw new Tt.ab(e); if (e.code === Tt.pT.code) throw e } try { if (!u?.length && !r) { u = (await l.request({ method: "eth_requestAccounts" })).map((e => (0, It.K)(e))) } s && (l.removeListener("connect", s), s = void 0), i || (i = this.onAccountsChanged.bind(this), l.on("accountsChanged", i)), o || (o = this.onChainChanged.bind(this), l.on("chainChanged", o)), a || (a = this.onDisconnect.bind(this), l.on("disconnect", a)); let d = await this.getChainId(); if (n && d !== n) { const e = await this.switchChain({ chainId: n }).catch((e => { if (e.code === Tt.ab.code) throw e; return { id: d } })); d = e?.id ?? d } return t && await (c.storage?.removeItem(`${this.id}.disconnected`)), e.target || await (c.storage?.setItem("injected.connected", !0)), { accounts: u, chainId: d } } catch (d) { const e = d; if (e.code === Tt.ab.code) throw new Tt.ab(e); if (e.code === Tt.pT.code) throw new Tt.pT(e); throw e } }, async disconnect() { const n = await this.getProvider(); if (!n) throw new jt; o && (n.removeListener("chainChanged", o), o = void 0), a && (n.removeListener("disconnect", a), a = void 0), s || (s = this.onConnect.bind(this), n.on("connect", s)); try { await Nt((() => n.request({ method: "wallet_revokePermissions", params: [{ eth_accounts: {} }] })), { timeout: 100 }) } catch { } t && await (c.storage?.setItem(`${this.id}.disconnected`, !0)), e.target || await (c.storage?.removeItem("injected.connected")) }, async getAccounts() { const e = await this.getProvider(); if (!e) throw new jt; return (await e.request({ method: "eth_accounts" })).map((e => (0, It.K)(e))) }, async getChainId() { const e = await this.getProvider(); if (!e) throw new jt; const t = await e.request({ method: "eth_chainId" }); return Number(t) }, async getProvider() { if ("undefined" === typeof window) return; let e; const t = r(); return e = "function" === typeof t.provider ? t.provider(window) : "string" === typeof t.provider ? Dt(window, t.provider) : t.provider, e && !e.removeListener && ("off" in e && "function" === typeof e.off ? e.removeListener = e.off : e.removeListener = () => { }), e }, async isAuthorized() { try { if (t && await (c.storage?.getItem(`${this.id}.disconnected`))) return !1; if (!e.target) { if (!(await (c.storage?.getItem("injected.connected")))) return !1 } if (!(await this.getProvider())) { if (void 0 !== n && !1 !== n) { const e = async () => { "undefined" !== typeof window && window.removeEventListener("ethereum#initialized", e); return !!(await this.getProvider()) }, t = "number" === typeof n ? n : 1e3; if (await Promise.race([..."undefined" !== typeof window ? [new Promise((t => window.addEventListener("ethereum#initialized", (() => t(e())), { once: !0 })))] : [], new Promise((n => setTimeout((() => n(e())), t)))])) return !0 } throw new jt } return !!(await (0, Pt.J)((() => this.getAccounts()))).length } catch { return !1 } }, async switchChain({ addEthereumChainParameter: e, chainId: t }) { const n = await this.getProvider(); if (!n) throw new jt; const r = c.chains.find((e => e.id === t)); if (!r) throw new Tt.x3(new Ot.X4); const i = new Promise((e => { const n = r => { "chainId" in r && r.chainId === t && (c.emitter.off("change", n), e()) }; c.emitter.on("change", n) })); try { return await Promise.all([n.request({ method: "wallet_switchEthereumChain", params: [{ chainId: (0, Mt.eC)(t) }] }).then((async () => { await this.getChainId() === t && c.emitter.emit("change", { chainId: t }) })), i]), r } catch (o) { const a = o; if (4902 === a.code || 4902 === a?.data?.originalError?.code) try { const { default: o, ...s } = r.blockExplorers ?? {}; let a, l; e?.blockExplorerUrls ? a = e.blockExplorerUrls : o && (a = [o.url, ...Object.values(s).map((e => e.url))]), l = e?.rpcUrls?.length ? e.rpcUrls : [r.rpcUrls.default?.http[0] ?? ""]; const u = { blockExplorerUrls: a, chainId: (0, Mt.eC)(t), chainName: e?.chainName ?? r.name, iconUrls: e?.iconUrls, nativeCurrency: e?.nativeCurrency ?? r.nativeCurrency, rpcUrls: l }; return await Promise.all([n.request({ method: "wallet_addEthereumChain", params: [u] }).then((async () => { if (await this.getChainId() !== t) throw new Tt.ab(new Error("User rejected switch after adding network.")); c.emitter.emit("change", { chainId: t }) })), i]), r } catch (s) { throw new Tt.ab(s) } if (a.code === Tt.ab.code) throw new Tt.ab(a); throw new Tt.x3(a) } }, async onAccountsChanged(e) { if (0 === e.length) this.onDisconnect(); else if (c.emitter.listenerCount("connect")) { const e = (await this.getChainId()).toString(); this.onConnect({ chainId: e }), t && await (c.storage?.removeItem(`${this.id}.disconnected`)) } else c.emitter.emit("change", { accounts: e.map((e => (0, It.K)(e))) }) }, onChainChanged(e) { const t = Number(e); c.emitter.emit("change", { chainId: t }) }, async onConnect(e) { const t = await this.getAccounts(); if (0 === t.length) return; const n = Number(e.chainId); c.emitter.emit("connect", { accounts: t, chainId: n }); const r = await this.getProvider(); r && (s && (r.removeListener("connect", s), s = void 0), i || (i = this.onAccountsChanged.bind(this), r.on("accountsChanged", i)), o || (o = this.onChainChanged.bind(this), r.on("chainChanged", o)), a || (a = this.onDisconnect.bind(this), r.on("disconnect", a))) }, async onDisconnect(e) { const t = await this.getProvider(); e && 1013 === e.code && t && (await this.getAccounts()).length || (c.emitter.emit("disconnect"), t && (o && (t.removeListener("chainChanged", o), o = void 0), a && (t.removeListener("disconnect", a), a = void 0), s || (s = this.onConnect.bind(this), t.on("connect", s)))) } }) } $t.type = "injected"; const Lt = { coinbaseWallet: { id: "coinbaseWallet", name: "Coinbase Wallet", provider: e => e?.coinbaseWalletExtension ? e.coinbaseWalletExtension : Dt(e, "isCoinbaseWallet") }, metaMask: { id: "metaMask", name: "MetaMask", provider: e => Dt(e, (e => { if (!e.isMetaMask) return !1; if (e.isBraveWallet && !e._events && !e._state) return !1; const t = ["isApexWallet", "isAvalanche", "isBitKeep", "isBlockWallet", "isKuCoinWallet", "isMathWallet", "isOkxWallet", "isOKExWallet", "isOneInchIOSWallet", "isOneInchAndroidWallet", "isOpera", "isPortal", "isRabby", "isTokenPocket", "isTokenary", "isUniswapWallet", "isZerion"]; for (const n of t) if (e[n]) return !1; return !0 })) }, phantom: { id: "phantom", name: "Phantom", provider: e => e?.phantom?.ethereum ? e.phantom?.ethereum : Dt(e, "isPhantom") } }; function Dt(e, t) { function n(e) { return "function" === typeof t ? t(e) : "string" !== typeof t || e[t] } const r = e.ethereum; return r?.providers ? r.providers.find((e => n(e))) : r && n(r) ? r : void 0 } var Ut = n(24143); class Ft { constructor(e) { Object.defineProperty(this, "uid", { enumerable: !0, configurable: !0, writable: !0, value: e }), Object.defineProperty(this, "_emitter", { enumerable: !0, configurable: !0, writable: !0, value: new Ut }) } on(e, t) { this._emitter.on(e, t) } once(e, t) { this._emitter.once(e, t) } off(e, t) { this._emitter.off(e, t) } emit(e, ...t) { const n = t[0]; this._emitter.emit(e, { uid: this.uid, ...n }) } listenerCount(e) { return this._emitter.listenerCount(e) } } function Bt(e, t) { return JSON.parse(e, ((e, n) => { let r = n; return "bigint" === r?.__type && (r = BigInt(r.value)), "Map" === r?.__type && (r = new Map(r.value)), t?.(e, r) ?? r })) } function Wt(e, t) { return e.slice(0, t).join(".") || "." } function zt(e, t) { const { length: n } = e; for (let r = 0; r < n; ++r)if (e[r] === t) return r + 1; return 0 } function qt(e, t, n, r) { return JSON.stringify(e, function (e, t) { const n = "function" === typeof e, r = "function" === typeof t, i = [], o = []; return function (s, a) { if ("object" === typeof a) if (i.length) { const e = zt(i, this); 0 === e ? i[i.length] = this : (i.splice(e), o.splice(e)), o[o.length] = s; const n = zt(i, a); if (0 !== n) return r ? t.call(this, s, a, Wt(o, n)) : `[ref=${Wt(o, n)}]` } else i[0] = a, o[0] = s; return n ? e.call(this, s, a) : a } }(((e, n) => { let r = n; return "bigint" === typeof r && (r = { __type: "bigint", value: n.toString() }), r instanceof Map && (r = { __type: "Map", value: Array.from(n.entries()) }), t?.(e, r) ?? r }), r), n ?? void 0) } function Ht(e) { const { deserialize: t = Bt, key: n = "wagmi", serialize: r = qt, storage: i = Gt } = e; function o(e) { return e instanceof Promise ? e.then((e => e)).catch((() => null)) : e } return { ...i, key: n, async getItem(e, r) { const s = i.getItem(`${n}.${e}`), a = await o(s); return a ? t(a) ?? null : r ?? null }, async setItem(e, t) { const s = `${n}.${e}`; null === t ? await o(i.removeItem(s)) : await o(i.setItem(s, r(t))) }, async removeItem(e) { await o(i.removeItem(`${n}.${e}`)) } } } const Gt = { getItem: () => null, setItem: () => { }, removeItem: () => { } }; let Vt, Kt = 256; var Yt = n(79983); var Zt = n(78863), Xt = n(36117); class Jt extends Xt.G { constructor() { super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.", { docsPath: "/docs/clients/intro", name: "UrlRequiredError" }) } } var Qt = n(32357), en = n(96070); function tn() { return { current: 0, take() { return this.current++ }, reset() { this.current = 0 } } } const nn = tn(); var rn = n(22319); function on(e, t = {}) { const { batch: n, fetchOptions: r, key: i = "http", name: o = "HTTP JSON-RPC", onFetchRequest: s, onFetchResponse: a, retryDelay: c } = t; return ({ chain: l, retryCount: u, timeout: d }) => { const { batchSize: h = 1e3, wait: f = 0 } = "object" === typeof n ? n : {}, p = t.retryCount ?? u, m = d ?? t.timeout ?? 1e4, g = e || l?.rpcUrls.default.http[0]; if (!g) throw new Jt; const y = function (e, t = {}) { return { async request(n) { const { body: r, onRequest: i = t.onRequest, onResponse: o = t.onResponse, timeout: s = t.timeout ?? 1e4 } = n, a = { ...t.fetchOptions ?? {}, ...n.fetchOptions ?? {} }, { headers: c, method: l, signal: u } = a; try { const t = await Nt((async ({ signal: t }) => { const n = { ...a, body: Array.isArray(r) ? (0, en.P)(r.map((e => ({ jsonrpc: "2.0", id: e.id ?? nn.take(), ...e })))) : (0, en.P)({ jsonrpc: "2.0", id: r.id ?? nn.take(), ...r }), headers: { "Content-Type": "application/json", ...c }, method: l || "POST", signal: u || (s > 0 ? t : null) }, o = new Request(e, n), d = await (i?.(o, n)) ?? { ...n, url: e }; return await fetch(d.url ?? e, d) }), { errorInstance: new Zt.W5({ body: r, url: e }), timeout: s, signal: !0 }); let n; if (o && await o(t), t.headers.get("Content-Type")?.startsWith("application/json")) n = await t.json(); else { n = await t.text(); try { n = JSON.parse(n || "{}") } catch (d) { if (t.ok) throw d; n = { error: n } } } if (!t.ok) throw new Zt.Gg({ body: r, details: (0, en.P)(n.error) || t.statusText, headers: t.headers, status: t.status, url: e }); return n } catch (d) { if (d instanceof Zt.Gg) throw d; if (d instanceof Zt.W5) throw d; throw new Zt.Gg({ body: r, cause: d, url: e }) } } } }(g, { fetchOptions: r, onRequest: s, onResponse: a, timeout: m }); return (0, rn.q)({ key: i, name: o, async request({ method: e, params: t }) { const r = { method: e, params: t }, { schedule: i } = (0, Qt.S)({ id: g, wait: f, shouldSplitBatch: e => e.length > h, fn: e => y.request({ body: e }), sort: (e, t) => e.id - t.id }), [{ error: o, result: s }] = await (async e => n ? i(e) : [await y.request({ body: e })])(r); if (o) throw new Zt.bs({ body: r, error: o, url: g }); return s }, retryCount: p, retryDelay: c, timeout: m, type: "http" }, { fetchOptions: r, url: g }) } } var sn = n(99931); function an(e) { return { formatters: void 0, fees: void 0, serializers: void 0, ...e } } const cn = an({ id: 1, name: "Ethereum", nativeCurrency: { name: "Ether", symbol: "ETH", decimals: 18 }, rpcUrls: { default: { http: ["https://cloudflare-eth.com"] } }, blockExplorers: { default: { name: "Etherscan", url: "https://etherscan.io", apiUrl: "https://api.etherscan.io/api" } }, contracts: { ensRegistry: { address: "0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e" }, ensUniversalResolver: { address: "0xce01f8eee7E479C928F8919abD53E553a36CeF67", blockCreated: 19258213 }, multicall3: { address: "0xca11bde05977b3631167028862be2a173976ca11", blockCreated: 14353601 } } }); var ln = n(24139), un = n(56888), dn = n(27037), hn = n(7506), fn = class extends hn.l { constructor(e = {}) { super(), this.config = e, this.#queries = new Map } #queries; build(e, t, n) { const r = t.queryKey, i = t.queryHash ?? (0, ln.Rm)(r, t); let o = this.get(i); return o || (o = new un.A({ cache: this, queryKey: r, queryHash: i, options: e.defaultQueryOptions(t), state: n, defaultOptions: e.getQueryDefaults(r) }), this.add(o)), o } add(e) { this.#queries.has(e.queryHash) || (this.#queries.set(e.queryHash, e), this.notify({ type: "added", query: e })) } remove(e) { const t = this.#queries.get(e.queryHash); t && (e.destroy(), t === e && this.#queries.delete(e.queryHash), this.notify({ type: "removed", query: e })) } clear() { dn.V.batch((() => { this.getAll().forEach((e => { this.remove(e) })) })) } get(e) { return this.#queries.get(e) } getAll() { return [...this.#queries.values()] } find(e) { const t = { exact: !0, ...e }; return this.getAll().find((e => (0, ln._x)(t, e))) } findAll(e = {}) { const t = this.getAll(); return Object.keys(e).length > 0 ? t.filter((t => (0, ln._x)(e, t))) : t } notify(e) { dn.V.batch((() => { this.listeners.forEach((t => { t(e) })) })) } onFocus() { dn.V.batch((() => { this.getAll().forEach((e => { e.onFocus() })) })) } onOnline() { dn.V.batch((() => { this.getAll().forEach((e => { e.onOnline() })) })) } }, pn = n(59289), mn = class extends hn.l { constructor(e = {}) { super(), this.config = e, this.#mutations = new Map, this.#mutationId = Date.now() } #mutations; #mutationId; build(e, t, n) { const r = new pn.m({ mutationCache: this, mutationId: ++this.#mutationId, options: e.defaultMutationOptions(t), state: n }); return this.add(r), r } add(e) { const t = gn(e), n = this.#mutations.get(t) ?? []; n.push(e), this.#mutations.set(t, n), this.notify({ type: "added", mutation: e }) } remove(e) { const t = gn(e); if (this.#mutations.has(t)) { const n = this.#mutations.get(t)?.filter((t => t !== e)); n && (0 === n.length ? this.#mutations.delete(t) : this.#mutations.set(t, n)) } this.notify({ type: "removed", mutation: e }) } canRun(e) { const t = this.#mutations.get(gn(e))?.find((e => "pending" === e.state.status)); return !t || t === e } runNext(e) { const t = this.#mutations.get(gn(e))?.find((t => t !== e && t.state.isPaused)); return t?.continue() ?? Promise.resolve() } clear() { dn.V.batch((() => { this.getAll().forEach((e => { this.remove(e) })) })) } getAll() { return [...this.#mutations.values()].flat() } find(e) { const t = { exact: !0, ...e }; return this.getAll().find((e => (0, ln.X7)(t, e))) } findAll(e = {}) { return this.getAll().filter((t => (0, ln.X7)(e, t))) } notify(e) { dn.V.batch((() => { this.listeners.forEach((t => { t(e) })) })) } resumePausedMutations() { const e = this.getAll().filter((e => e.state.isPaused)); return dn.V.batch((() => Promise.all(e.map((e => e.continue().catch(ln.ZT)))))) } }; function gn(e) { return e.options.scope?.id ?? String(e.mutationId) } var yn = n(66474), bn = n(14304); function vn(e) { return { onFetch: (t, n) => { const r = t.options, i = t.fetchOptions?.meta?.fetchMore?.direction, o = t.state.data?.pages || [], s = t.state.data?.pageParams || []; let a = { pages: [], pageParams: [] }, c = 0; const l = async () => { let n = !1; const l = (0, ln.cG)(t.options, t.fetchOptions), u = async (e, r, i) => { if (n) return Promise.reject(); if (null == r && e.pages.length) return Promise.resolve(e); const o = { queryKey: t.queryKey, pageParam: r, direction: i ? "backward" : "forward", meta: t.options.meta }; var s; s = o, Object.defineProperty(s, "signal", { enumerable: !0, get: () => (t.signal.aborted ? n = !0 : t.signal.addEventListener("abort", (() => { n = !0 })), t.signal) }); const a = await l(o), { maxPages: c } = t.options, u = i ? ln.Ht : ln.VX; return { pages: u(e.pages, a, c), pageParams: u(e.pageParams, r, c) } }; if (i && o.length) { const e = "backward" === i, t = { pages: o, pageParams: s }, n = (e ? En : wn)(r, t); a = await u(t, n, e) } else { const t = e ?? o.length; do { const e = 0 === c ? s[0] ?? r.initialPageParam : wn(r, a); if (c > 0 && null == e) break; a = await u(a, e), c++ } while (c < t) } return a }; t.options.persister ? t.fetchFn = () => t.options.persister?.(l, { queryKey: t.queryKey, meta: t.options.meta, signal: t.signal }, n) : t.fetchFn = l } } } function wn(e, { pages: t, pageParams: n }) { const r = t.length - 1; return t.length > 0 ? e.getNextPageParam(t[r], t, n[r], n) : void 0 } function En(e, { pages: t, pageParams: n }) { return t.length > 0 ? e.getPreviousPageParam?.(t[0], t, n[0], n) : void 0 } var xn = n(30202), _n = n(19485), Cn = n(1581); var An = function (e, t, n, r) { return new (n || (n = Promise))((function (i, o) { function s(e) { try { c(r.next(e)) } catch (t0) { o(t0) } } function a(e) { try { c(r.throw(e)) } catch (t0) { o(t0) } } function c(e) { var t; e.done ? i(e.value) : (t = e.value, t instanceof n ? t : new n((function (e) { e(t) }))).then(s, a) } c((r = r.apply(e, t || [])).next()) })) }; const Sn = new Cn.Yd("properties/5.7.0"); function kn(e, t, n) { Object.defineProperty(e, t, { enumerable: !0, value: n, writable: !1 }) } function In(e, t) { for (let n = 0; n < 32; n++) { if (e[t]) return e[t]; if (!e.prototype || "object" !== typeof e.prototype) break; e = Object.getPrototypeOf(e.prototype).constructor } return null } function Tn(e) { return An(this, void 0, void 0, (function* () { const t = Object.keys(e).map((t => { const n = e[t]; return Promise.resolve(n).then((e => ({ key: t, value: e }))) })); return (yield Promise.all(t)).reduce(((e, t) => (e[t.key] = t.value, e)), {}) })) } function Nn(e, t) { e && "object" === typeof e || Sn.throwArgumentError("invalid object", "object", e), Object.keys(e).forEach((n => { t[n] || Sn.throwArgumentError("invalid object key - " + n, "transaction:" + n, e) })) } function Pn(e) { const t = {}; for (const n in e) t[n] = e[n]; return t } const Mn = { bigint: !0, boolean: !0, function: !0, number: !0, string: !0 }; function On(e) { if (void 0 === e || null === e || Mn[typeof e]) return !0; if (Array.isArray(e) || "object" === typeof e) { if (!Object.isFrozen(e)) return !1; const n = Object.keys(e); for (let r = 0; r < n.length; r++) { let i = null; try { i = e[n[r]] } catch (t) { continue } if (!On(i)) return !1 } return !0 } return Sn.throwArgumentError("Cannot deepCopy " + typeof e, "object", e) } function Rn(e) { if (On(e)) return e; if (Array.isArray(e)) return Object.freeze(e.map((e => jn(e)))); if ("object" === typeof e) { const t = {}; for (const n in e) { const r = e[n]; void 0 !== r && kn(t, n, jn(r)) } return t } return Sn.throwArgumentError("Cannot deepCopy " + typeof e, "object", e) } function jn(e) { return Rn(e) } class $n { constructor(e) { for (const t in e) this[t] = jn(e[t]) } } const Ln = "providers/5.7.2"; var Dn = function (e, t, n, r) { return new (n || (n = Promise))((function (i, o) { function s(e) { try { c(r.next(e)) } catch (t0) { o(t0) } } function a(e) { try { c(r.throw(e)) } catch (t0) { o(t0) } } function c(e) { var t; e.done ? i(e.value) : (t = e.value, t instanceof n ? t : new n((function (e) { e(t) }))).then(s, a) } c((r = r.apply(e, t || [])).next()) })) }; const Un = new Cn.Yd("abstract-signer/5.7.0"), Fn = ["accessList", "ccipReadEnabled", "chainId", "customData", "data", "from", "gasLimit", "gasPrice", "maxFeePerGas", "maxPriorityFeePerGas", "nonce", "to", "type", "value"], Bn = [Cn.Yd.errors.INSUFFICIENT_FUNDS, Cn.Yd.errors.NONCE_EXPIRED, Cn.Yd.errors.REPLACEMENT_UNDERPRICED]; class Wn { constructor() { Un.checkAbstract(new.target, Wn), kn(this, "_isSigner", !0) } getBalance(e) { return Dn(this, void 0, void 0, (function* () { return this._checkProvider("getBalance"), yield this.provider.getBalance(this.getAddress(), e) })) } getTransactionCount(e) { return Dn(this, void 0, void 0, (function* () { return this._checkProvider("getTransactionCount"), yield this.provider.getTransactionCount(this.getAddress(), e) })) } estimateGas(e) { return Dn(this, void 0, void 0, (function* () { this._checkProvider("estimateGas"); const t = yield Tn(this.checkTransaction(e)); return yield this.provider.estimateGas(t) })) } call(e, t) { return Dn(this, void 0, void 0, (function* () { this._checkProvider("call"); const n = yield Tn(this.checkTransaction(e)); return yield this.provider.call(n, t) })) } sendTransaction(e) { return Dn(this, void 0, void 0, (function* () { this._checkProvider("sendTransaction"); const t = yield this.populateTransaction(e), n = yield this.signTransaction(t); return yield this.provider.sendTransaction(n) })) } getChainId() { return Dn(this, void 0, void 0, (function* () { this._checkProvider("getChainId"); return (yield this.provider.getNetwork()).chainId })) } getGasPrice() { return Dn(this, void 0, void 0, (function* () { return this._checkProvider("getGasPrice"), yield this.provider.getGasPrice() })) } getFeeData() { return Dn(this, void 0, void 0, (function* () { return this._checkProvider("getFeeData"), yield this.provider.getFeeData() })) } resolveName(e) { return Dn(this, void 0, void 0, (function* () { return this._checkProvider("resolveName"), yield this.provider.resolveName(e) })) } checkTransaction(e) { for (const n in e) -1 === Fn.indexOf(n) && Un.throwArgumentError("invalid transaction key: " + n, "transaction", e); const t = Pn(e); return null == t.from ? t.from = this.getAddress() : t.from = Promise.all([Promise.resolve(t.from), this.getAddress()]).then((t => (t[0].toLowerCase() !== t[1].toLowerCase() && Un.throwArgumentError("from address mismatch", "transaction", e), t[0]))), t } populateTransaction(e) { return Dn(this, void 0, void 0, (function* () { const t = yield Tn(this.checkTransaction(e)); null != t.to && (t.to = Promise.resolve(t.to).then((e => Dn(this, void 0, void 0, (function* () { if (null == e) return null; const t = yield this.resolveName(e); return null == t && Un.throwArgumentError("provided ENS name resolves to null", "tx.to", e), t })))), t.to.catch((e => { }))); const n = null != t.maxFeePerGas || null != t.maxPriorityFeePerGas; if (null == t.gasPrice || 2 !== t.type && !n ? 0 !== t.type && 1 !== t.type || !n || Un.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas", "transaction", e) : Un.throwArgumentError("eip-1559 transaction do not support gasPrice", "transaction", e), 2 !== t.type && null != t.type || null == t.maxFeePerGas || null == t.maxPriorityFeePerGas) if (0 === t.type || 1 === t.type) null == t.gasPrice && (t.gasPrice = this.getGasPrice()); else { const e = yield this.getFeeData(); if (null == t.type) if (null != e.maxFeePerGas && null != e.maxPriorityFeePerGas) if (t.type = 2, null != t.gasPrice) { const e = t.gasPrice; delete t.gasPrice, t.maxFeePerGas = e, t.maxPriorityFeePerGas = e } else null == t.maxFeePerGas && (t.maxFeePerGas = e.maxFeePerGas), null == t.maxPriorityFeePerGas && (t.maxPriorityFeePerGas = e.maxPriorityFeePerGas); else null != e.gasPrice ? (n && Un.throwError("network does not support EIP-1559", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "populateTransaction" }), null == t.gasPrice && (t.gasPrice = e.gasPrice), t.type = 0) : Un.throwError("failed to get consistent fee data", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "signer.getFeeData" }); else 2 === t.type && (null == t.maxFeePerGas && (t.maxFeePerGas = e.maxFeePerGas), null == t.maxPriorityFeePerGas && (t.maxPriorityFeePerGas = e.maxPriorityFeePerGas)) } else t.type = 2; return null == t.nonce && (t.nonce = this.getTransactionCount("pending")), null == t.gasLimit && (t.gasLimit = this.estimateGas(t).catch((e => { if (Bn.indexOf(e.code) >= 0) throw e; return Un.throwError("cannot estimate gas; transaction may fail or may require manual gas limit", Cn.Yd.errors.UNPREDICTABLE_GAS_LIMIT, { error: e, tx: t }) }))), null == t.chainId ? t.chainId = this.getChainId() : t.chainId = Promise.all([Promise.resolve(t.chainId), this.getChainId()]).then((t => (0 !== t[1] && t[0] !== t[1] && Un.throwArgumentError("chainId address mismatch", "transaction", e), t[0]))), yield Tn(t) })) } _checkProvider(e) { this.provider || Un.throwError("missing provider", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: e || "_checkProvider" }) } static isSigner(e) { return !(!e || !e._isSigner) } } class zn extends Wn { constructor(e, t) { super(), kn(this, "address", e), kn(this, "provider", t || null) } getAddress() { return Promise.resolve(this.address) } _fail(e, t) { return Promise.resolve().then((() => { Un.throwError(e, Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: t }) })) } signMessage(e) { return this._fail("VoidSigner cannot sign messages", "signMessage") } signTransaction(e) { return this._fail("VoidSigner cannot sign transactions", "signTransaction") } _signTypedData(e, t, n) { return this._fail("VoidSigner cannot sign typed data", "signTypedData") } connect(e) { return new zn(this.address, e) } } var qn = n(2593), Hn = n(16441), Gn = n(38197); const Vn = "hash/5.7.0", Kn = new Cn.Yd("strings/5.7.0"); var Yn, Zn; function Xn(e, t, n, r, i) { if (e === Zn.BAD_PREFIX || e === Zn.UNEXPECTED_CONTINUE) { let e = 0; for (let r = t + 1; r < n.length && n[r] >> 6 === 2; r++)e++; return e } return e === Zn.OVERRUN ? n.length - t - 1 : 0 } !function (e) { e.current = "", e.NFC = "NFC", e.NFD = "NFD", e.NFKC = "NFKC", e.NFKD = "NFKD" }(Yn || (Yn = {})), function (e) { e.UNEXPECTED_CONTINUE = "unexpected continuation byte", e.BAD_PREFIX = "bad codepoint prefix", e.OVERRUN = "string overrun", e.MISSING_CONTINUE = "missing continuation byte", e.OUT_OF_RANGE = "out of UTF-8 range", e.UTF16_SURROGATE = "UTF-16 surrogate", e.OVERLONG = "overlong representation" }(Zn || (Zn = {})); const Jn = Object.freeze({ error: function (e, t, n, r, i) { return Kn.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`, "bytes", n) }, ignore: Xn, replace: function (e, t, n, r, i) { return e === Zn.OVERLONG ? (r.push(i), 0) : (r.push(65533), Xn(e, t, n)) } }); function Qn(e, t) { null == t && (t = Jn.error), e = (0, Hn.lE)(e); const n = []; let r = 0; for (; r < e.length;) { const i = e[r++]; if (i >> 7 === 0) { n.push(i); continue } let o = null, s = null; if (192 === (224 & i)) o = 1, s = 127; else if (224 === (240 & i)) o = 2, s = 2047; else { if (240 !== (248 & i)) { r += t(128 === (192 & i) ? Zn.UNEXPECTED_CONTINUE : Zn.BAD_PREFIX, r - 1, e, n); continue } o = 3, s = 65535 } if (r - 1 + o >= e.length) { r += t(Zn.OVERRUN, r - 1, e, n); continue } let a = i & (1 << 8 - o - 1) - 1; for (let c = 0; c < o; c++) { let i = e[r]; if (128 != (192 & i)) { r += t(Zn.MISSING_CONTINUE, r, e, n), a = null; break } a = a << 6 | 63 & i, r++ } null !== a && (a > 1114111 ? r += t(Zn.OUT_OF_RANGE, r - 1 - o, e, n, a) : a >= 55296 && a <= 57343 ? r += t(Zn.UTF16_SURROGATE, r - 1 - o, e, n, a) : a <= s ? r += t(Zn.OVERLONG, r - 1 - o, e, n, a) : n.push(a)) } return n } function er(e, t = Yn.current) { t != Yn.current && (Kn.checkNormalize(), e = e.normalize(t)); let n = []; for (let r = 0; r < e.length; r++) { const t = e.charCodeAt(r); if (t < 128) n.push(t); else if (t < 2048) n.push(t >> 6 | 192), n.push(63 & t | 128); else if (55296 == (64512 & t)) { r++; const i = e.charCodeAt(r); if (r >= e.length || 56320 !== (64512 & i)) throw new Error("invalid utf-8 string"); const o = 65536 + ((1023 & t) << 10) + (1023 & i); n.push(o >> 18 | 240), n.push(o >> 12 & 63 | 128), n.push(o >> 6 & 63 | 128), n.push(63 & o | 128) } else n.push(t >> 12 | 224), n.push(t >> 6 & 63 | 128), n.push(63 & t | 128) } return (0, Hn.lE)(n) } function tr(e, t) { return Qn(e, t).map((e => e <= 65535 ? String.fromCharCode(e) : (e -= 65536, String.fromCharCode(55296 + (e >> 10 & 1023), 56320 + (1023 & e))))).join("") } function nr(e) { return (0, Gn.w)(er(e)) } var rr = function (e, t, n, r) { return new (n || (n = Promise))((function (i, o) { function s(e) { try { c(r.next(e)) } catch (t0) { o(t0) } } function a(e) { try { c(r.throw(e)) } catch (t0) { o(t0) } } function c(e) { var t; e.done ? i(e.value) : (t = e.value, t instanceof n ? t : new n((function (e) { e(t) }))).then(s, a) } c((r = r.apply(e, t || [])).next()) })) }; const ir = new Cn.Yd(Vn), or = new Uint8Array(32); or.fill(0); const sr = qn.O$.from(-1), ar = qn.O$.from(0), cr = qn.O$.from(1), lr = qn.O$.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"); const ur = (0, Hn.$m)(cr.toHexString(), 32), dr = (0, Hn.$m)(ar.toHexString(), 32), hr = { name: "string", version: "string", chainId: "uint256", verifyingContract: "address", salt: "bytes32" }, fr = ["name", "version", "chainId", "verifyingContract", "salt"]; function pr(e) { return function (t) { return "string" !== typeof t && ir.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`, `domain.${e}`, t), t } } const mr = { name: pr("name"), version: pr("version"), chainId: function (e) { try { return qn.O$.from(e).toString() } catch (t) { } return ir.throwArgumentError('invalid domain value for "chainId"', "domain.chainId", e) }, verifyingContract: function (e) { try { return (0, _n.Kn)(e).toLowerCase() } catch (t) { } return ir.throwArgumentError('invalid domain value "verifyingContract"', "domain.verifyingContract", e) }, salt: function (e) { try { const t = (0, Hn.lE)(e); if (32 !== t.length) throw new Error("bad length"); return (0, Hn.Dv)(t) } catch (t) { } return ir.throwArgumentError('invalid domain value "salt"', "domain.salt", e) } }; function gr(e) { { const t = e.match(/^(u?)int(\d*)$/); if (t) { const n = "" === t[1], r = parseInt(t[2] || "256"); (r % 8 !== 0 || r > 256 || t[2] && t[2] !== String(r)) && ir.throwArgumentError("invalid numeric width", "type", e); const i = lr.mask(n ? r - 1 : r), o = n ? i.add(cr).mul(sr) : ar; return function (t) { const n = qn.O$.from(t); return (n.lt(o) || n.gt(i)) && ir.throwArgumentError(`value out-of-bounds for ${e}`, "value", t), (0, Hn.$m)(n.toTwos(256).toHexString(), 32) } } } { const t = e.match(/^bytes(\d+)$/); if (t) { const n = parseInt(t[1]); return (0 === n || n > 32 || t[1] !== String(n)) && ir.throwArgumentError("invalid bytes width", "type", e), function (t) { return (0, Hn.lE)(t).length !== n && ir.throwArgumentError(`invalid length for ${e}`, "value", t), function (e) { const t = (0, Hn.lE)(e), n = t.length % 32; return n ? (0, Hn.xs)([t, or.slice(n)]) : (0, Hn.Dv)(t) }(t) } } } switch (e) { case "address": return function (e) { return (0, Hn.$m)((0, _n.Kn)(e), 32) }; case "bool": return function (e) { return e ? ur : dr }; case "bytes": return function (e) { return (0, Gn.w)(e) }; case "string": return function (e) { return nr(e) } }return null } function yr(e, t) { return `${e}(${t.map((({ name: e, type: t }) => t + " " + e)).join(",")})` } class br { constructor(e) { kn(this, "types", Object.freeze(jn(e))), kn(this, "_encoderCache", {}), kn(this, "_types", {}); const t = {}, n = {}, r = {}; Object.keys(e).forEach((e => { t[e] = {}, n[e] = [], r[e] = {} })); for (const o in e) { const r = {}; e[o].forEach((i => { r[i.name] && ir.throwArgumentError(`duplicate variable name ${JSON.stringify(i.name)} in ${JSON.stringify(o)}`, "types", e), r[i.name] = !0; const s = i.type.match(/^([^\x5b]*)(\x5b|$)/)[1]; s === o && ir.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`, "types", e); gr(s) || (n[s] || ir.throwArgumentError(`unknown type ${JSON.stringify(s)}`, "types", e), n[s].push(o), t[o][s] = !0) })) } const i = Object.keys(n).filter((e => 0 === n[e].length)); 0 === i.length ? ir.throwArgumentError("missing primary type", "types", e) : i.length > 1 && ir.throwArgumentError(`ambiguous primary types or unused types: ${i.map((e => JSON.stringify(e))).join(", ")}`, "types", e), kn(this, "primaryType", i[0]), function i(o, s) { s[o] && ir.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`, "types", e), s[o] = !0, Object.keys(t[o]).forEach((e => { n[e] && (i(e, s), Object.keys(s).forEach((t => { r[t][e] = !0 }))) })), delete s[o] }(this.primaryType, {}); for (const o in r) { const t = Object.keys(r[o]); t.sort(), this._types[o] = yr(o, e[o]) + t.map((t => yr(t, e[t]))).join("") } } getEncoder(e) { let t = this._encoderCache[e]; return t || (t = this._encoderCache[e] = this._getEncoder(e)), t } _getEncoder(e) { { const t = gr(e); if (t) return t } const t = e.match(/^(.*)(\x5b(\d*)\x5d)$/); if (t) { const e = t[1], n = this.getEncoder(e), r = parseInt(t[3]); return t => { r >= 0 && t.length !== r && ir.throwArgumentError("array length mismatch; expected length ${ arrayLength }", "value", t); let i = t.map(n); return this._types[e] && (i = i.map(Gn.w)), (0, Gn.w)((0, Hn.xs)(i)) } } const n = this.types[e]; if (n) { const t = nr(this._types[e]); return e => { const r = n.map((({ name: t, type: n }) => { const r = this.getEncoder(n)(e[t]); return this._types[n] ? (0, Gn.w)(r) : r })); return r.unshift(t), (0, Hn.xs)(r) } } return ir.throwArgumentError(`unknown type: ${e}`, "type", e) } encodeType(e) { const t = this._types[e]; return t || ir.throwArgumentError(`unknown type: ${JSON.stringify(e)}`, "name", e), t } encodeData(e, t) { return this.getEncoder(e)(t) } hashStruct(e, t) { return (0, Gn.w)(this.encodeData(e, t)) } encode(e) { return this.encodeData(this.primaryType, e) } hash(e) { return this.hashStruct(this.primaryType, e) } _visit(e, t, n) { if (gr(e)) return n(e, t); const r = e.match(/^(.*)(\x5b(\d*)\x5d)$/); if (r) { const e = r[1], i = parseInt(r[3]); return i >= 0 && t.length !== i && ir.throwArgumentError("array length mismatch; expected length ${ arrayLength }", "value", t), t.map((t => this._visit(e, t, n))) } const i = this.types[e]; return i ? i.reduce(((e, { name: r, type: i }) => (e[r] = this._visit(i, t[r], n), e)), {}) : ir.throwArgumentError(`unknown type: ${e}`, "type", e) } visit(e, t) { return this._visit(this.primaryType, e, t) } static from(e) { return new br(e) } static getPrimaryType(e) { return br.from(e).primaryType } static hashStruct(e, t, n) { return br.from(t).hashStruct(e, n) } static hashDomain(e) { const t = []; for (const n in e) { const r = hr[n]; r || ir.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`, "domain", e), t.push({ name: n, type: r }) } return t.sort(((e, t) => fr.indexOf(e.name) - fr.indexOf(t.name))), br.hashStruct("EIP712Domain", { EIP712Domain: t }, e) } static encode(e, t, n) { return (0, Hn.xs)(["0x1901", br.hashDomain(e), br.from(t).hash(n)]) } static hash(e, t, n) { return (0, Gn.w)(br.encode(e, t, n)) } static resolveNames(e, t, n, r) { return rr(this, void 0, void 0, (function* () { e = Pn(e); const i = {}; e.verifyingContract && !(0, Hn.A7)(e.verifyingContract, 20) && (i[e.verifyingContract] = "0x"); const o = br.from(t); o.visit(n, ((e, t) => ("address" !== e || (0, Hn.A7)(t, 20) || (i[t] = "0x"), t))); for (const e in i) i[e] = yield r(e); return e.verifyingContract && i[e.verifyingContract] && (e.verifyingContract = i[e.verifyingContract]), n = o.visit(n, ((e, t) => "address" === e && i[t] ? i[t] : t)), { domain: e, value: n } })) } static getPayload(e, t, n) { br.hashDomain(e); const r = {}, i = []; fr.forEach((t => { const n = e[t]; null != n && (r[t] = mr[t](n), i.push({ name: t, type: hr[t] })) })); const o = br.from(t), s = Pn(t); return s.EIP712Domain ? ir.throwArgumentError("types must not contain EIP712Domain type", "types.EIP712Domain", t) : s.EIP712Domain = i, o.encode(n), { types: s, domain: r, primaryType: o.primaryType, message: o.visit(n, ((e, t) => { if (e.match(/^bytes(\d*)/)) return (0, Hn.Dv)((0, Hn.lE)(t)); if (e.match(/^u?int/)) return qn.O$.from(t).toString(); switch (e) { case "address": return t.toLowerCase(); case "bool": return !!t; case "string": return "string" !== typeof t && ir.throwArgumentError("invalid string", "value", t), t }return ir.throwArgumentError("unsupported type", "type", e) })) } } } const vr = qn.O$.from(-1), wr = qn.O$.from(0), Er = qn.O$.from(1), xr = qn.O$.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"); var _r = n(59052), Cr = n(13550), Ar = n.n(Cr), Sr = n(33715), kr = n.n(Sr); "undefined" !== typeof globalThis ? globalThis : "undefined" !== typeof window ? window : "undefined" !== typeof n.g ? n.g : "undefined" !== typeof self && self; function Ir(e, t, n) { return e(n = { path: t, exports: {}, require: function (e, t) { return function () { throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs") }((void 0 === t || null === t) && n.path) } }, n.exports), n.exports } var Tr = Nr; function Nr(e, t) { if (!e) throw new Error(t || "Assertion failed") } Nr.equal = function (e, t, n) { if (e != t) throw new Error(n || "Assertion failed: " + e + " != " + t) }; var Pr = Ir((function (e, t) { var n = t; function r(e) { return 1 === e.length ? "0" + e : e } function i(e) { for (var t = "", n = 0; n < e.length; n++)t += r(e[n].toString(16)); return t } n.toArray = function (e, t) { if (Array.isArray(e)) return e.slice(); if (!e) return []; var n = []; if ("string" !== typeof e) { for (var r = 0; r < e.length; r++)n[r] = 0 | e[r]; return n } if ("hex" === t) { (e = e.replace(/[^a-z0-9]+/gi, "")).length % 2 !== 0 && (e = "0" + e); for (r = 0; r < e.length; r += 2)n.push(parseInt(e[r] + e[r + 1], 16)) } else for (r = 0; r < e.length; r++) { var i = e.charCodeAt(r), o = i >> 8, s = 255 & i; o ? n.push(o, s) : n.push(s) } return n }, n.zero2 = r, n.toHex = i, n.encode = function (e, t) { return "hex" === t ? i(e) : e } })), Mr = Ir((function (e, t) { var n = t; n.assert = Tr, n.toArray = Pr.toArray, n.zero2 = Pr.zero2, n.toHex = Pr.toHex, n.encode = Pr.encode, n.getNAF = function (e, t, n) { var r = new Array(Math.max(e.bitLength(), n) + 1); r.fill(0); for (var i = 1 << t + 1, o = e.clone(), s = 0; s < r.length; s++) { var a, c = o.andln(i - 1); o.isOdd() ? (a = c > (i >> 1) - 1 ? (i >> 1) - c : c, o.isubn(a)) : a = 0, r[s] = a, o.iushrn(1) } return r }, n.getJSF = function (e, t) { var n = [[], []]; e = e.clone(), t = t.clone(); for (var r, i = 0, o = 0; e.cmpn(-i) > 0 || t.cmpn(-o) > 0;) { var s, a, c = e.andln(3) + i & 3, l = t.andln(3) + o & 3; 3 === c && (c = -1), 3 === l && (l = -1), s = 0 === (1 & c) ? 0 : 3 !== (r = e.andln(7) + i & 7) && 5 !== r || 2 !== l ? c : -c, n[0].push(s), a = 0 === (1 & l) ? 0 : 3 !== (r = t.andln(7) + o & 7) && 5 !== r || 2 !== c ? l : -l, n[1].push(a), 2 * i === s + 1 && (i = 1 - i), 2 * o === a + 1 && (o = 1 - o), e.iushrn(1), t.iushrn(1) } return n }, n.cachedProperty = function (e, t, n) { var r = "_" + t; e.prototype[t] = function () { return void 0 !== this[r] ? this[r] : this[r] = n.call(this) } }, n.parseBytes = function (e) { return "string" === typeof e ? n.toArray(e, "hex") : e }, n.intFromLE = function (e) { return new (Ar())(e, "hex", "le") } })), Or = Mr.getNAF, Rr = Mr.getJSF, jr = Mr.assert; function $r(e, t) { this.type = e, this.p = new (Ar())(t.p, 16), this.red = t.prime ? Ar().red(t.prime) : Ar().mont(this.p), this.zero = new (Ar())(0).toRed(this.red), this.one = new (Ar())(1).toRed(this.red), this.two = new (Ar())(2).toRed(this.red), this.n = t.n && new (Ar())(t.n, 16), this.g = t.g && this.pointFromJSON(t.g, t.gRed), this._wnafT1 = new Array(4), this._wnafT2 = new Array(4), this._wnafT3 = new Array(4), this._wnafT4 = new Array(4), this._bitLength = this.n ? this.n.bitLength() : 0; var n = this.n && this.p.div(this.n); !n || n.cmpn(100) > 0 ? this.redN = null : (this._maxwellTrick = !0, this.redN = this.n.toRed(this.red)) } var Lr = $r; function Dr(e, t) { this.curve = e, this.type = t, this.precomputed = null } $r.prototype.point = function () { throw new Error("Not implemented") }, $r.prototype.validate = function () { throw new Error("Not implemented") }, $r.prototype._fixedNafMul = function (e, t) { jr(e.precomputed); var n = e._getDoubles(), r = Or(t, 1, this._bitLength), i = (1 << n.step + 1) - (n.step % 2 === 0 ? 2 : 1); i /= 3; var o, s, a = []; for (o = 0; o < r.length; o += n.step) { s = 0; for (var c = o + n.step - 1; c >= o; c--)s = (s << 1) + r[c]; a.push(s) } for (var l = this.jpoint(null, null, null), u = this.jpoint(null, null, null), d = i; d > 0; d--) { for (o = 0; o < a.length; o++)(s = a[o]) === d ? u = u.mixedAdd(n.points[o]) : s === -d && (u = u.mixedAdd(n.points[o].neg())); l = l.add(u) } return l.toP() }, $r.prototype._wnafMul = function (e, t) { var n = 4, r = e._getNAFPoints(n); n = r.wnd; for (var i = r.points, o = Or(t, n, this._bitLength), s = this.jpoint(null, null, null), a = o.length - 1; a >= 0; a--) { for (var c = 0; a >= 0 && 0 === o[a]; a--)c++; if (a >= 0 && c++, s = s.dblp(c), a < 0) break; var l = o[a]; jr(0 !== l), s = "affine" === e.type ? l > 0 ? s.mixedAdd(i[l - 1 >> 1]) : s.mixedAdd(i[-l - 1 >> 1].neg()) : l > 0 ? s.add(i[l - 1 >> 1]) : s.add(i[-l - 1 >> 1].neg()) } return "affine" === e.type ? s.toP() : s }, $r.prototype._wnafMulAdd = function (e, t, n, r, i) { var o, s, a, c = this._wnafT1, l = this._wnafT2, u = this._wnafT3, d = 0; for (o = 0; o < r; o++) { var h = (a = t[o])._getNAFPoints(e); c[o] = h.wnd, l[o] = h.points } for (o = r - 1; o >= 1; o -= 2) { var f = o - 1, p = o; if (1 === c[f] && 1 === c[p]) { var m = [t[f], null, null, t[p]]; 0 === t[f].y.cmp(t[p].y) ? (m[1] = t[f].add(t[p]), m[2] = t[f].toJ().mixedAdd(t[p].neg())) : 0 === t[f].y.cmp(t[p].y.redNeg()) ? (m[1] = t[f].toJ().mixedAdd(t[p]), m[2] = t[f].add(t[p].neg())) : (m[1] = t[f].toJ().mixedAdd(t[p]), m[2] = t[f].toJ().mixedAdd(t[p].neg())); var g = [-3, -1, -5, -7, 0, 7, 5, 1, 3], y = Rr(n[f], n[p]); for (d = Math.max(y[0].length, d), u[f] = new Array(d), u[p] = new Array(d), s = 0; s < d; s++) { var b = 0 | y[0][s], v = 0 | y[1][s]; u[f][s] = g[3 * (b + 1) + (v + 1)], u[p][s] = 0, l[f] = m } } else u[f] = Or(n[f], c[f], this._bitLength), u[p] = Or(n[p], c[p], this._bitLength), d = Math.max(u[f].length, d), d = Math.max(u[p].length, d) } var w = this.jpoint(null, null, null), E = this._wnafT4; for (o = d; o >= 0; o--) { for (var x = 0; o >= 0;) { var _ = !0; for (s = 0; s < r; s++)E[s] = 0 | u[s][o], 0 !== E[s] && (_ = !1); if (!_) break; x++, o-- } if (o >= 0 && x++, w = w.dblp(x), o < 0) break; for (s = 0; s < r; s++) { var C = E[s]; 0 !== C && (C > 0 ? a = l[s][C - 1 >> 1] : C < 0 && (a = l[s][-C - 1 >> 1].neg()), w = "affine" === a.type ? w.mixedAdd(a) : w.add(a)) } } for (o = 0; o < r; o++)l[o] = null; return i ? w : w.toP() }, $r.BasePoint = Dr, Dr.prototype.eq = function () { throw new Error("Not implemented") }, Dr.prototype.validate = function () { return this.curve.validate(this) }, $r.prototype.decodePoint = function (e, t) { e = Mr.toArray(e, t); var n = this.p.byteLength(); if ((4 === e[0] || 6 === e[0] || 7 === e[0]) && e.length - 1 === 2 * n) return 6 === e[0] ? jr(e[e.length - 1] % 2 === 0) : 7 === e[0] && jr(e[e.length - 1] % 2 === 1), this.point(e.slice(1, 1 + n), e.slice(1 + n, 1 + 2 * n)); if ((2 === e[0] || 3 === e[0]) && e.length - 1 === n) return this.pointFromX(e.slice(1, 1 + n), 3 === e[0]); throw new Error("Unknown point format") }, Dr.prototype.encodeCompressed = function (e) { return this.encode(e, !0) }, Dr.prototype._encode = function (e) { var t = this.curve.p.byteLength(), n = this.getX().toArray("be", t); return e ? [this.getY().isEven() ? 2 : 3].concat(n) : [4].concat(n, this.getY().toArray("be", t)) }, Dr.prototype.encode = function (e, t) { return Mr.encode(this._encode(t), e) }, Dr.prototype.precompute = function (e) { if (this.precomputed) return this; var t = { doubles: null, naf: null, beta: null }; return t.naf = this._getNAFPoints(8), t.doubles = this._getDoubles(4, e), t.beta = this._getBeta(), this.precomputed = t, this }, Dr.prototype._hasDoubles = function (e) { if (!this.precomputed) return !1; var t = this.precomputed.doubles; return !!t && t.points.length >= Math.ceil((e.bitLength() + 1) / t.step) }, Dr.prototype._getDoubles = function (e, t) { if (this.precomputed && this.precomputed.doubles) return this.precomputed.doubles; for (var n = [this], r = this, i = 0; i < t; i += e) { for (var o = 0; o < e; o++)r = r.dbl(); n.push(r) } return { step: e, points: n } }, Dr.prototype._getNAFPoints = function (e) { if (this.precomputed && this.precomputed.naf) return this.precomputed.naf; for (var t = [this], n = (1 << e) - 1, r = 1 === n ? null : this.dbl(), i = 1; i < n; i++)t[i] = t[i - 1].add(r); return { wnd: e, points: t } }, Dr.prototype._getBeta = function () { return null }, Dr.prototype.dblp = function (e) { for (var t = this, n = 0; n < e; n++)t = t.dbl(); return t }; var Ur = Ir((function (e) { "function" === typeof Object.create ? e.exports = function (e, t) { t && (e.super_ = t, e.prototype = Object.create(t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } })) } : e.exports = function (e, t) { if (t) { e.super_ = t; var n = function () { }; n.prototype = t.prototype, e.prototype = new n, e.prototype.constructor = e } } })), Fr = Mr.assert; function Br(e) { Lr.call(this, "short", e), this.a = new (Ar())(e.a, 16).toRed(this.red), this.b = new (Ar())(e.b, 16).toRed(this.red), this.tinv = this.two.redInvm(), this.zeroA = 0 === this.a.fromRed().cmpn(0), this.threeA = 0 === this.a.fromRed().sub(this.p).cmpn(-3), this.endo = this._getEndomorphism(e), this._endoWnafT1 = new Array(4), this._endoWnafT2 = new Array(4) } Ur(Br, Lr); var Wr = Br; function zr(e, t, n, r) { Lr.BasePoint.call(this, e, "affine"), null === t && null === n ? (this.x = null, this.y = null, this.inf = !0) : (this.x = new (Ar())(t, 16), this.y = new (Ar())(n, 16), r && (this.x.forceRed(this.curve.red), this.y.forceRed(this.curve.red)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.inf = !1) } function qr(e, t, n, r) { Lr.BasePoint.call(this, e, "jacobian"), null === t && null === n && null === r ? (this.x = this.curve.one, this.y = this.curve.one, this.z = new (Ar())(0)) : (this.x = new (Ar())(t, 16), this.y = new (Ar())(n, 16), this.z = new (Ar())(r, 16)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)), this.zOne = this.z === this.curve.one } Br.prototype._getEndomorphism = function (e) { if (this.zeroA && this.g && this.n && 1 === this.p.modn(3)) { var t, n; if (e.beta) t = new (Ar())(e.beta, 16).toRed(this.red); else { var r = this._getEndoRoots(this.p); t = (t = r[0].cmp(r[1]) < 0 ? r[0] : r[1]).toRed(this.red) } if (e.lambda) n = new (Ar())(e.lambda, 16); else { var i = this._getEndoRoots(this.n); 0 === this.g.mul(i[0]).x.cmp(this.g.x.redMul(t)) ? n = i[0] : (n = i[1], Fr(0 === this.g.mul(n).x.cmp(this.g.x.redMul(t)))) } return { beta: t, lambda: n, basis: e.basis ? e.basis.map((function (e) { return { a: new (Ar())(e.a, 16), b: new (Ar())(e.b, 16) } })) : this._getEndoBasis(n) } } }, Br.prototype._getEndoRoots = function (e) { var t = e === this.p ? this.red : Ar().mont(e), n = new (Ar())(2).toRed(t).redInvm(), r = n.redNeg(), i = new (Ar())(3).toRed(t).redNeg().redSqrt().redMul(n); return [r.redAdd(i).fromRed(), r.redSub(i).fromRed()] }, Br.prototype._getEndoBasis = function (e) { for (var t, n, r, i, o, s, a, c, l, u = this.n.ushrn(Math.floor(this.n.bitLength() / 2)), d = e, h = this.n.clone(), f = new (Ar())(1), p = new (Ar())(0), m = new (Ar())(0), g = new (Ar())(1), y = 0; 0 !== d.cmpn(0);) { var b = h.div(d); c = h.sub(b.mul(d)), l = m.sub(b.mul(f)); var v = g.sub(b.mul(p)); if (!r && c.cmp(u) < 0) t = a.neg(), n = f, r = c.neg(), i = l; else if (r && 2 === ++y) break; a = c, h = d, d = c, m = f, f = l, g = p, p = v } o = c.neg(), s = l; var w = r.sqr().add(i.sqr()); return o.sqr().add(s.sqr()).cmp(w) >= 0 && (o = t, s = n), r.negative && (r = r.neg(), i = i.neg()), o.negative && (o = o.neg(), s = s.neg()), [{ a: r, b: i }, { a: o, b: s }] }, Br.prototype._endoSplit = function (e) { var t = this.endo.basis, n = t[0], r = t[1], i = r.b.mul(e).divRound(this.n), o = n.b.neg().mul(e).divRound(this.n), s = i.mul(n.a), a = o.mul(r.a), c = i.mul(n.b), l = o.mul(r.b); return { k1: e.sub(s).sub(a), k2: c.add(l).neg() } }, Br.prototype.pointFromX = function (e, t) { (e = new (Ar())(e, 16)).red || (e = e.toRed(this.red)); var n = e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b), r = n.redSqrt(); if (0 !== r.redSqr().redSub(n).cmp(this.zero)) throw new Error("invalid point"); var i = r.fromRed().isOdd(); return (t && !i || !t && i) && (r = r.redNeg()), this.point(e, r) }, Br.prototype.validate = function (e) { if (e.inf) return !0; var t = e.x, n = e.y, r = this.a.redMul(t), i = t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b); return 0 === n.redSqr().redISub(i).cmpn(0) }, Br.prototype._endoWnafMulAdd = function (e, t, n) { for (var r = this._endoWnafT1, i = this._endoWnafT2, o = 0; o < e.length; o++) { var s = this._endoSplit(t[o]), a = e[o], c = a._getBeta(); s.k1.negative && (s.k1.ineg(), a = a.neg(!0)), s.k2.negative && (s.k2.ineg(), c = c.neg(!0)), r[2 * o] = a, r[2 * o + 1] = c, i[2 * o] = s.k1, i[2 * o + 1] = s.k2 } for (var l = this._wnafMulAdd(1, r, i, 2 * o, n), u = 0; u < 2 * o; u++)r[u] = null, i[u] = null; return l }, Ur(zr, Lr.BasePoint), Br.prototype.point = function (e, t, n) { return new zr(this, e, t, n) }, Br.prototype.pointFromJSON = function (e, t) { return zr.fromJSON(this, e, t) }, zr.prototype._getBeta = function () { if (this.curve.endo) { var e = this.precomputed; if (e && e.beta) return e.beta; var t = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y); if (e) { var n = this.curve, r = function (e) { return n.point(e.x.redMul(n.endo.beta), e.y) }; e.beta = t, t.precomputed = { beta: null, naf: e.naf && { wnd: e.naf.wnd, points: e.naf.points.map(r) }, doubles: e.doubles && { step: e.doubles.step, points: e.doubles.points.map(r) } } } return t } }, zr.prototype.toJSON = function () { return this.precomputed ? [this.x, this.y, this.precomputed && { doubles: this.precomputed.doubles && { step: this.precomputed.doubles.step, points: this.precomputed.doubles.points.slice(1) }, naf: this.precomputed.naf && { wnd: this.precomputed.naf.wnd, points: this.precomputed.naf.points.slice(1) } }] : [this.x, this.y] }, zr.fromJSON = function (e, t, n) { "string" === typeof t && (t = JSON.parse(t)); var r = e.point(t[0], t[1], n); if (!t[2]) return r; function i(t) { return e.point(t[0], t[1], n) } var o = t[2]; return r.precomputed = { beta: null, doubles: o.doubles && { step: o.doubles.step, points: [r].concat(o.doubles.points.map(i)) }, naf: o.naf && { wnd: o.naf.wnd, points: [r].concat(o.naf.points.map(i)) } }, r }, zr.prototype.inspect = function () { return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " y: " + this.y.fromRed().toString(16, 2) + ">" }, zr.prototype.isInfinity = function () { return this.inf }, zr.prototype.add = function (e) { if (this.inf) return e; if (e.inf) return this; if (this.eq(e)) return this.dbl(); if (this.neg().eq(e)) return this.curve.point(null, null); if (0 === this.x.cmp(e.x)) return this.curve.point(null, null); var t = this.y.redSub(e.y); 0 !== t.cmpn(0) && (t = t.redMul(this.x.redSub(e.x).redInvm())); var n = t.redSqr().redISub(this.x).redISub(e.x), r = t.redMul(this.x.redSub(n)).redISub(this.y); return this.curve.point(n, r) }, zr.prototype.dbl = function () { if (this.inf) return this; var e = this.y.redAdd(this.y); if (0 === e.cmpn(0)) return this.curve.point(null, null); var t = this.curve.a, n = this.x.redSqr(), r = e.redInvm(), i = n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r), o = i.redSqr().redISub(this.x.redAdd(this.x)), s = i.redMul(this.x.redSub(o)).redISub(this.y); return this.curve.point(o, s) }, zr.prototype.getX = function () { return this.x.fromRed() }, zr.prototype.getY = function () { return this.y.fromRed() }, zr.prototype.mul = function (e) { return e = new (Ar())(e, 16), this.isInfinity() ? this : this._hasDoubles(e) ? this.curve._fixedNafMul(this, e) : this.curve.endo ? this.curve._endoWnafMulAdd([this], [e]) : this.curve._wnafMul(this, e) }, zr.prototype.mulAdd = function (e, t, n) { var r = [this, t], i = [e, n]; return this.curve.endo ? this.curve._endoWnafMulAdd(r, i) : this.curve._wnafMulAdd(1, r, i, 2) }, zr.prototype.jmulAdd = function (e, t, n) { var r = [this, t], i = [e, n]; return this.curve.endo ? this.curve._endoWnafMulAdd(r, i, !0) : this.curve._wnafMulAdd(1, r, i, 2, !0) }, zr.prototype.eq = function (e) { return this === e || this.inf === e.inf && (this.inf || 0 === this.x.cmp(e.x) && 0 === this.y.cmp(e.y)) }, zr.prototype.neg = function (e) { if (this.inf) return this; var t = this.curve.point(this.x, this.y.redNeg()); if (e && this.precomputed) { var n = this.precomputed, r = function (e) { return e.neg() }; t.precomputed = { naf: n.naf && { wnd: n.naf.wnd, points: n.naf.points.map(r) }, doubles: n.doubles && { step: n.doubles.step, points: n.doubles.points.map(r) } } } return t }, zr.prototype.toJ = function () { return this.inf ? this.curve.jpoint(null, null, null) : this.curve.jpoint(this.x, this.y, this.curve.one) }, Ur(qr, Lr.BasePoint), Br.prototype.jpoint = function (e, t, n) { return new qr(this, e, t, n) }, qr.prototype.toP = function () { if (this.isInfinity()) return this.curve.point(null, null); var e = this.z.redInvm(), t = e.redSqr(), n = this.x.redMul(t), r = this.y.redMul(t).redMul(e); return this.curve.point(n, r) }, qr.prototype.neg = function () { return this.curve.jpoint(this.x, this.y.redNeg(), this.z) }, qr.prototype.add = function (e) { if (this.isInfinity()) return e; if (e.isInfinity()) return this; var t = e.z.redSqr(), n = this.z.redSqr(), r = this.x.redMul(t), i = e.x.redMul(n), o = this.y.redMul(t.redMul(e.z)), s = e.y.redMul(n.redMul(this.z)), a = r.redSub(i), c = o.redSub(s); if (0 === a.cmpn(0)) return 0 !== c.cmpn(0) ? this.curve.jpoint(null, null, null) : this.dbl(); var l = a.redSqr(), u = l.redMul(a), d = r.redMul(l), h = c.redSqr().redIAdd(u).redISub(d).redISub(d), f = c.redMul(d.redISub(h)).redISub(o.redMul(u)), p = this.z.redMul(e.z).redMul(a); return this.curve.jpoint(h, f, p) }, qr.prototype.mixedAdd = function (e) { if (this.isInfinity()) return e.toJ(); if (e.isInfinity()) return this; var t = this.z.redSqr(), n = this.x, r = e.x.redMul(t), i = this.y, o = e.y.redMul(t).redMul(this.z), s = n.redSub(r), a = i.redSub(o); if (0 === s.cmpn(0)) return 0 !== a.cmpn(0) ? this.curve.jpoint(null, null, null) : this.dbl(); var c = s.redSqr(), l = c.redMul(s), u = n.redMul(c), d = a.redSqr().redIAdd(l).redISub(u).redISub(u), h = a.redMul(u.redISub(d)).redISub(i.redMul(l)), f = this.z.redMul(s); return this.curve.jpoint(d, h, f) }, qr.prototype.dblp = function (e) { if (0 === e) return this; if (this.isInfinity()) return this; if (!e) return this.dbl(); var t; if (this.curve.zeroA || this.curve.threeA) { var n = this; for (t = 0; t < e; t++)n = n.dbl(); return n } var r = this.curve.a, i = this.curve.tinv, o = this.x, s = this.y, a = this.z, c = a.redSqr().redSqr(), l = s.redAdd(s); for (t = 0; t < e; t++) { var u = o.redSqr(), d = l.redSqr(), h = d.redSqr(), f = u.redAdd(u).redIAdd(u).redIAdd(r.redMul(c)), p = o.redMul(d), m = f.redSqr().redISub(p.redAdd(p)), g = p.redISub(m), y = f.redMul(g); y = y.redIAdd(y).redISub(h); var b = l.redMul(a); t + 1 < e && (c = c.redMul(h)), o = m, a = b, l = y } return this.curve.jpoint(o, l.redMul(i), a) }, qr.prototype.dbl = function () { return this.isInfinity() ? this : this.curve.zeroA ? this._zeroDbl() : this.curve.threeA ? this._threeDbl() : this._dbl() }, qr.prototype._zeroDbl = function () { var e, t, n; if (this.zOne) { var r = this.x.redSqr(), i = this.y.redSqr(), o = i.redSqr(), s = this.x.redAdd(i).redSqr().redISub(r).redISub(o); s = s.redIAdd(s); var a = r.redAdd(r).redIAdd(r), c = a.redSqr().redISub(s).redISub(s), l = o.redIAdd(o); l = (l = l.redIAdd(l)).redIAdd(l), e = c, t = a.redMul(s.redISub(c)).redISub(l), n = this.y.redAdd(this.y) } else { var u = this.x.redSqr(), d = this.y.redSqr(), h = d.redSqr(), f = this.x.redAdd(d).redSqr().redISub(u).redISub(h); f = f.redIAdd(f); var p = u.redAdd(u).redIAdd(u), m = p.redSqr(), g = h.redIAdd(h); g = (g = g.redIAdd(g)).redIAdd(g), e = m.redISub(f).redISub(f), t = p.redMul(f.redISub(e)).redISub(g), n = (n = this.y.redMul(this.z)).redIAdd(n) } return this.curve.jpoint(e, t, n) }, qr.prototype._threeDbl = function () { var e, t, n; if (this.zOne) { var r = this.x.redSqr(), i = this.y.redSqr(), o = i.redSqr(), s = this.x.redAdd(i).redSqr().redISub(r).redISub(o); s = s.redIAdd(s); var a = r.redAdd(r).redIAdd(r).redIAdd(this.curve.a), c = a.redSqr().redISub(s).redISub(s); e = c; var l = o.redIAdd(o); l = (l = l.redIAdd(l)).redIAdd(l), t = a.redMul(s.redISub(c)).redISub(l), n = this.y.redAdd(this.y) } else { var u = this.z.redSqr(), d = this.y.redSqr(), h = this.x.redMul(d), f = this.x.redSub(u).redMul(this.x.redAdd(u)); f = f.redAdd(f).redIAdd(f); var p = h.redIAdd(h), m = (p = p.redIAdd(p)).redAdd(p); e = f.redSqr().redISub(m), n = this.y.redAdd(this.z).redSqr().redISub(d).redISub(u); var g = d.redSqr(); g = (g = (g = g.redIAdd(g)).redIAdd(g)).redIAdd(g), t = f.redMul(p.redISub(e)).redISub(g) } return this.curve.jpoint(e, t, n) }, qr.prototype._dbl = function () { var e = this.curve.a, t = this.x, n = this.y, r = this.z, i = r.redSqr().redSqr(), o = t.redSqr(), s = n.redSqr(), a = o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)), c = t.redAdd(t), l = (c = c.redIAdd(c)).redMul(s), u = a.redSqr().redISub(l.redAdd(l)), d = l.redISub(u), h = s.redSqr(); h = (h = (h = h.redIAdd(h)).redIAdd(h)).redIAdd(h); var f = a.redMul(d).redISub(h), p = n.redAdd(n).redMul(r); return this.curve.jpoint(u, f, p) }, qr.prototype.trpl = function () { if (!this.curve.zeroA) return this.dbl().add(this); var e = this.x.redSqr(), t = this.y.redSqr(), n = this.z.redSqr(), r = t.redSqr(), i = e.redAdd(e).redIAdd(e), o = i.redSqr(), s = this.x.redAdd(t).redSqr().redISub(e).redISub(r), a = (s = (s = (s = s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(), c = r.redIAdd(r); c = (c = (c = c.redIAdd(c)).redIAdd(c)).redIAdd(c); var l = i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(c), u = t.redMul(l); u = (u = u.redIAdd(u)).redIAdd(u); var d = this.x.redMul(a).redISub(u); d = (d = d.redIAdd(d)).redIAdd(d); var h = this.y.redMul(l.redMul(c.redISub(l)).redISub(s.redMul(a))); h = (h = (h = h.redIAdd(h)).redIAdd(h)).redIAdd(h); var f = this.z.redAdd(s).redSqr().redISub(n).redISub(a); return this.curve.jpoint(d, h, f) }, qr.prototype.mul = function (e, t) { return e = new (Ar())(e, t), this.curve._wnafMul(this, e) }, qr.prototype.eq = function (e) { if ("affine" === e.type) return this.eq(e.toJ()); if (this === e) return !0; var t = this.z.redSqr(), n = e.z.redSqr(); if (0 !== this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)) return !1; var r = t.redMul(this.z), i = n.redMul(e.z); return 0 === this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0) }, qr.prototype.eqXToP = function (e) { var t = this.z.redSqr(), n = e.toRed(this.curve.red).redMul(t); if (0 === this.x.cmp(n)) return !0; for (var r = e.clone(), i = this.curve.redN.redMul(t); ;) { if (r.iadd(this.curve.n), r.cmp(this.curve.p) >= 0) return !1; if (n.redIAdd(i), 0 === this.x.cmp(n)) return !0 } }, qr.prototype.inspect = function () { return this.isInfinity() ? "<EC JPoint Infinity>" : "<EC JPoint x: " + this.x.toString(16, 2) + " y: " + this.y.toString(16, 2) + " z: " + this.z.toString(16, 2) + ">" }, qr.prototype.isInfinity = function () { return 0 === this.z.cmpn(0) }; var Hr = Ir((function (e, t) { var n = t; n.base = Lr, n.short = Wr, n.mont = null, n.edwards = null })), Gr = Ir((function (e, t) { var n, r = t, i = Mr.assert; function o(e) { "short" === e.type ? this.curve = new Hr.short(e) : "edwards" === e.type ? this.curve = new Hr.edwards(e) : this.curve = new Hr.mont(e), this.g = this.curve.g, this.n = this.curve.n, this.hash = e.hash, i(this.g.validate(), "Invalid curve"), i(this.g.mul(this.n).isInfinity(), "Invalid curve, G*N != O") } function s(e, t) { Object.defineProperty(r, e, { configurable: !0, enumerable: !0, get: function () { var n = new o(t); return Object.defineProperty(r, e, { configurable: !0, enumerable: !0, value: n }), n } }) } r.PresetCurve = o, s("p192", { type: "short", prime: "p192", p: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff", a: "ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc", b: "64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1", n: "ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831", hash: kr().sha256, gRed: !1, g: ["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012", "07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"] }), s("p224", { type: "short", prime: "p224", p: "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001", a: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe", b: "b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4", n: "ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d", hash: kr().sha256, gRed: !1, g: ["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21", "bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"] }), s("p256", { type: "short", prime: null, p: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff", a: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc", b: "5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b", n: "ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551", hash: kr().sha256, gRed: !1, g: ["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296", "4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"] }), s("p384", { type: "short", prime: null, p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff", a: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc", b: "b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef", n: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973", hash: kr().sha384, gRed: !1, g: ["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7", "3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"] }), s("p521", { type: "short", prime: null, p: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff", a: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc", b: "00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00", n: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409", hash: kr().sha512, gRed: !1, g: ["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66", "00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"] }), s("curve25519", { type: "mont", prime: "p25519", p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed", a: "76d06", b: "1", n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed", hash: kr().sha256, gRed: !1, g: ["9"] }), s("ed25519", { type: "edwards", prime: "p25519", p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed", a: "-1", c: "1", d: "52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3", n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed", hash: kr().sha256, gRed: !1, g: ["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a", "6666666666666666666666666666666666666666666666666666666666666658"] }); try { n = null.crash() } catch (t0) { n = void 0 } s("secp256k1", { type: "short", prime: "k256", p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f", a: "0", b: "7", n: "ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141", h: "1", hash: kr().sha256, beta: "7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee", lambda: "5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72", basis: [{ a: "3086d221a7d46bcde86c90e49284eb15", b: "-e4437ed6010e88286f547fa90abfe4c3" }, { a: "114ca50f7a8e2f3f657c1108d9d44cfd8", b: "3086d221a7d46bcde86c90e49284eb15" }], gRed: !1, g: ["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798", "483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8", n] }) })); function Vr(e) { if (!(this instanceof Vr)) return new Vr(e); this.hash = e.hash, this.predResist = !!e.predResist, this.outLen = this.hash.outSize, this.minEntropy = e.minEntropy || this.hash.hmacStrength, this._reseed = null, this.reseedInterval = null, this.K = null, this.V = null; var t = Pr.toArray(e.entropy, e.entropyEnc || "hex"), n = Pr.toArray(e.nonce, e.nonceEnc || "hex"), r = Pr.toArray(e.pers, e.persEnc || "hex"); Tr(t.length >= this.minEntropy / 8, "Not enough entropy. Minimum is: " + this.minEntropy + " bits"), this._init(t, n, r) } var Kr = Vr; Vr.prototype._init = function (e, t, n) { var r = e.concat(t).concat(n); this.K = new Array(this.outLen / 8), this.V = new Array(this.outLen / 8); for (var i = 0; i < this.V.length; i++)this.K[i] = 0, this.V[i] = 1; this._update(r), this._reseed = 1, this.reseedInterval = 281474976710656 }, Vr.prototype._hmac = function () { return new (kr().hmac)(this.hash, this.K) }, Vr.prototype._update = function (e) { var t = this._hmac().update(this.V).update([0]); e && (t = t.update(e)), this.K = t.digest(), this.V = this._hmac().update(this.V).digest(), e && (this.K = this._hmac().update(this.V).update([1]).update(e).digest(), this.V = this._hmac().update(this.V).digest()) }, Vr.prototype.reseed = function (e, t, n, r) { "string" !== typeof t && (r = n, n = t, t = null), e = Pr.toArray(e, t), n = Pr.toArray(n, r), Tr(e.length >= this.minEntropy / 8, "Not enough entropy. Minimum is: " + this.minEntropy + " bits"), this._update(e.concat(n || [])), this._reseed = 1 }, Vr.prototype.generate = function (e, t, n, r) { if (this._reseed > this.reseedInterval) throw new Error("Reseed is required"); "string" !== typeof t && (r = n, n = t, t = null), n && (n = Pr.toArray(n, r || "hex"), this._update(n)); for (var i = []; i.length < e;)this.V = this._hmac().update(this.V).digest(), i = i.concat(this.V); var o = i.slice(0, e); return this._update(n), this._reseed++, Pr.encode(o, t) }; var Yr = Mr.assert; function Zr(e, t) { this.ec = e, this.priv = null, this.pub = null, t.priv && this._importPrivate(t.priv, t.privEnc), t.pub && this._importPublic(t.pub, t.pubEnc) } var Xr = Zr; Zr.fromPublic = function (e, t, n) { return t instanceof Zr ? t : new Zr(e, { pub: t, pubEnc: n }) }, Zr.fromPrivate = function (e, t, n) { return t instanceof Zr ? t : new Zr(e, { priv: t, privEnc: n }) }, Zr.prototype.validate = function () { var e = this.getPublic(); return e.isInfinity() ? { result: !1, reason: "Invalid public key" } : e.validate() ? e.mul(this.ec.curve.n).isInfinity() ? { result: !0, reason: null } : { result: !1, reason: "Public key * N != O" } : { result: !1, reason: "Public key is not a point" } }, Zr.prototype.getPublic = function (e, t) { return "string" === typeof e && (t = e, e = null), this.pub || (this.pub = this.ec.g.mul(this.priv)), t ? this.pub.encode(t, e) : this.pub }, Zr.prototype.getPrivate = function (e) { return "hex" === e ? this.priv.toString(16, 2) : this.priv }, Zr.prototype._importPrivate = function (e, t) { this.priv = new (Ar())(e, t || 16), this.priv = this.priv.umod(this.ec.curve.n) }, Zr.prototype._importPublic = function (e, t) { if (e.x || e.y) return "mont" === this.ec.curve.type ? Yr(e.x, "Need x coordinate") : "short" !== this.ec.curve.type && "edwards" !== this.ec.curve.type || Yr(e.x && e.y, "Need both x and y coordinate"), void (this.pub = this.ec.curve.point(e.x, e.y)); this.pub = this.ec.curve.decodePoint(e, t) }, Zr.prototype.derive = function (e) { return e.validate() || Yr(e.validate(), "public point not validated"), e.mul(this.priv).getX() }, Zr.prototype.sign = function (e, t, n) { return this.ec.sign(e, this, t, n) }, Zr.prototype.verify = function (e, t) { return this.ec.verify(e, t, this) }, Zr.prototype.inspect = function () { return "<Key priv: " + (this.priv && this.priv.toString(16, 2)) + " pub: " + (this.pub && this.pub.inspect()) + " >" }; var Jr = Mr.assert; function Qr(e, t) { if (e instanceof Qr) return e; this._importDER(e, t) || (Jr(e.r && e.s, "Signature without r or s"), this.r = new (Ar())(e.r, 16), this.s = new (Ar())(e.s, 16), void 0 === e.recoveryParam ? this.recoveryParam = null : this.recoveryParam = e.recoveryParam) } var ei = Qr; function ti() { this.place = 0 } function ni(e, t) { var n = e[t.place++]; if (!(128 & n)) return n; var r = 15 & n; if (0 === r || r > 4) return !1; for (var i = 0, o = 0, s = t.place; o < r; o++, s++)i <<= 8, i |= e[s], i >>>= 0; return !(i <= 127) && (t.place = s, i) } function ri(e) { for (var t = 0, n = e.length - 1; !e[t] && !(128 & e[t + 1]) && t < n;)t++; return 0 === t ? e : e.slice(t) } function ii(e, t) { if (t < 128) e.push(t); else { var n = 1 + (Math.log(t) / Math.LN2 >>> 3); for (e.push(128 | n); --n;)e.push(t >>> (n << 3) & 255); e.push(t) } } Qr.prototype._importDER = function (e, t) { e = Mr.toArray(e, t); var n = new ti; if (48 !== e[n.place++]) return !1; var r = ni(e, n); if (!1 === r) return !1; if (r + n.place !== e.length) return !1; if (2 !== e[n.place++]) return !1; var i = ni(e, n); if (!1 === i) return !1; var o = e.slice(n.place, i + n.place); if (n.place += i, 2 !== e[n.place++]) return !1; var s = ni(e, n); if (!1 === s) return !1; if (e.length !== s + n.place) return !1; var a = e.slice(n.place, s + n.place); if (0 === o[0]) { if (!(128 & o[1])) return !1; o = o.slice(1) } if (0 === a[0]) { if (!(128 & a[1])) return !1; a = a.slice(1) } return this.r = new (Ar())(o), this.s = new (Ar())(a), this.recoveryParam = null, !0 }, Qr.prototype.toDER = function (e) { var t = this.r.toArray(), n = this.s.toArray(); for (128 & t[0] && (t = [0].concat(t)), 128 & n[0] && (n = [0].concat(n)), t = ri(t), n = ri(n); !n[0] && !(128 & n[1]);)n = n.slice(1); var r = [2]; ii(r, t.length), (r = r.concat(t)).push(2), ii(r, n.length); var i = r.concat(n), o = [48]; return ii(o, i.length), o = o.concat(i), Mr.encode(o, e) }; var oi = function () { throw new Error("unsupported") }, si = Mr.assert; function ai(e) { if (!(this instanceof ai)) return new ai(e); "string" === typeof e && (si(Object.prototype.hasOwnProperty.call(Gr, e), "Unknown curve " + e), e = Gr[e]), e instanceof Gr.PresetCurve && (e = { curve: e }), this.curve = e.curve.curve, this.n = this.curve.n, this.nh = this.n.ushrn(1), this.g = this.curve.g, this.g = e.curve.g, this.g.precompute(e.curve.n.bitLength() + 1), this.hash = e.hash || e.curve.hash } var ci = ai; ai.prototype.keyPair = function (e) { return new Xr(this, e) }, ai.prototype.keyFromPrivate = function (e, t) { return Xr.fromPrivate(this, e, t) }, ai.prototype.keyFromPublic = function (e, t) { return Xr.fromPublic(this, e, t) }, ai.prototype.genKeyPair = function (e) { e || (e = {}); for (var t = new Kr({ hash: this.hash, pers: e.pers, persEnc: e.persEnc || "utf8", entropy: e.entropy || oi(this.hash.hmacStrength), entropyEnc: e.entropy && e.entropyEnc || "utf8", nonce: this.n.toArray() }), n = this.n.byteLength(), r = this.n.sub(new (Ar())(2)); ;) { var i = new (Ar())(t.generate(n)); if (!(i.cmp(r) > 0)) return i.iaddn(1), this.keyFromPrivate(i) } }, ai.prototype._truncateToN = function (e, t) { var n = 8 * e.byteLength() - this.n.bitLength(); return n > 0 && (e = e.ushrn(n)), !t && e.cmp(this.n) >= 0 ? e.sub(this.n) : e }, ai.prototype.sign = function (e, t, n, r) { "object" === typeof n && (r = n, n = null), r || (r = {}), t = this.keyFromPrivate(t, n), e = this._truncateToN(new (Ar())(e, 16)); for (var i = this.n.byteLength(), o = t.getPrivate().toArray("be", i), s = e.toArray("be", i), a = new Kr({ hash: this.hash, entropy: o, nonce: s, pers: r.pers, persEnc: r.persEnc || "utf8" }), c = this.n.sub(new (Ar())(1)), l = 0; ; l++) { var u = r.k ? r.k(l) : new (Ar())(a.generate(this.n.byteLength())); if (!((u = this._truncateToN(u, !0)).cmpn(1) <= 0 || u.cmp(c) >= 0)) { var d = this.g.mul(u); if (!d.isInfinity()) { var h = d.getX(), f = h.umod(this.n); if (0 !== f.cmpn(0)) { var p = u.invm(this.n).mul(f.mul(t.getPrivate()).iadd(e)); if (0 !== (p = p.umod(this.n)).cmpn(0)) { var m = (d.getY().isOdd() ? 1 : 0) | (0 !== h.cmp(f) ? 2 : 0); return r.canonical && p.cmp(this.nh) > 0 && (p = this.n.sub(p), m ^= 1), new ei({ r: f, s: p, recoveryParam: m }) } } } } } }, ai.prototype.verify = function (e, t, n, r) { e = this._truncateToN(new (Ar())(e, 16)), n = this.keyFromPublic(n, r); var i = (t = new ei(t, "hex")).r, o = t.s; if (i.cmpn(1) < 0 || i.cmp(this.n) >= 0) return !1; if (o.cmpn(1) < 0 || o.cmp(this.n) >= 0) return !1; var s, a = o.invm(this.n), c = a.mul(e).umod(this.n), l = a.mul(i).umod(this.n); return this.curve._maxwellTrick ? !(s = this.g.jmulAdd(c, n.getPublic(), l)).isInfinity() && s.eqXToP(i) : !(s = this.g.mulAdd(c, n.getPublic(), l)).isInfinity() && 0 === s.getX().umod(this.n).cmp(i) }, ai.prototype.recoverPubKey = function (e, t, n, r) { si((3 & n) === n, "The recovery param is more than two bits"), t = new ei(t, r); var i = this.n, o = new (Ar())(e), s = t.r, a = t.s, c = 1 & n, l = n >> 1; if (s.cmp(this.curve.p.umod(this.curve.n)) >= 0 && l) throw new Error("Unable to find sencond key candinate"); s = l ? this.curve.pointFromX(s.add(this.curve.n), c) : this.curve.pointFromX(s, c); var u = t.r.invm(i), d = i.sub(o).mul(u).umod(i), h = a.mul(u).umod(i); return this.g.mulAdd(d, s, h) }, ai.prototype.getKeyRecoveryParam = function (e, t, n, r) { if (null !== (t = new ei(t, r)).recoveryParam) return t.recoveryParam; for (var i = 0; i < 4; i++) { var o; try { o = this.recoverPubKey(e, t, i) } catch (e) { continue } if (o.eq(n)) return i } throw new Error("Unable to find valid recovery factor") }; var li = Ir((function (e, t) { var n = t; n.version = "6.5.4", n.utils = Mr, n.rand = function () { throw new Error("unsupported") }, n.curve = Hr, n.curves = Gr, n.ec = ci, n.eddsa = null })).ec; const ui = new Cn.Yd("signing-key/5.7.0"); let di = null; function hi() { return di || (di = new li("secp256k1")), di } class fi { constructor(e) { kn(this, "curve", "secp256k1"), kn(this, "privateKey", (0, Hn.Dv)(e)), 32 !== (0, Hn.E1)(this.privateKey) && ui.throwArgumentError("invalid private key", "privateKey", "[[ REDACTED ]]"); const t = hi().keyFromPrivate((0, Hn.lE)(this.privateKey)); kn(this, "publicKey", "0x" + t.getPublic(!1, "hex")), kn(this, "compressedPublicKey", "0x" + t.getPublic(!0, "hex")), kn(this, "_isSigningKey", !0) } _addPoint(e) { const t = hi().keyFromPublic((0, Hn.lE)(this.publicKey)), n = hi().keyFromPublic((0, Hn.lE)(e)); return "0x" + t.pub.add(n.pub).encodeCompressed("hex") } signDigest(e) { const t = hi().keyFromPrivate((0, Hn.lE)(this.privateKey)), n = (0, Hn.lE)(e); 32 !== n.length && ui.throwArgumentError("bad digest length", "digest", e); const r = t.sign(n, { canonical: !0 }); return (0, Hn.N)({ recoveryParam: r.recoveryParam, r: (0, Hn.$m)("0x" + r.r.toString(16), 32), s: (0, Hn.$m)("0x" + r.s.toString(16), 32) }) } computeSharedSecret(e) { const t = hi().keyFromPrivate((0, Hn.lE)(this.privateKey)), n = hi().keyFromPublic((0, Hn.lE)(pi(e))); return (0, Hn.$m)("0x" + t.derive(n.getPublic()).toString(16), 32) } static isSigningKey(e) { return !(!e || !e._isSigningKey) } } function pi(e, t) { const n = (0, Hn.lE)(e); if (32 === n.length) { const e = new fi(n); return t ? "0x" + hi().keyFromPrivate(n).getPublic(!0, "hex") : e.publicKey } return 33 === n.length ? t ? (0, Hn.Dv)(n) : "0x" + hi().keyFromPublic(n).getPublic(!1, "hex") : 65 === n.length ? t ? "0x" + hi().keyFromPublic(n).getPublic(!0, "hex") : (0, Hn.Dv)(n) : ui.throwArgumentError("invalid public or private key", "key", "[REDACTED]") } const mi = new Cn.Yd("transactions/5.7.0"); var gi; function yi(e) { return "0x" === e ? null : (0, _n.Kn)(e) } function bi(e) { return "0x" === e ? wr : qn.O$.from(e) } !function (e) { e[e.legacy = 0] = "legacy", e[e.eip2930 = 1] = "eip2930", e[e.eip1559 = 2] = "eip1559" }(gi || (gi = {})); const vi = [{ name: "nonce", maxLength: 32, numeric: !0 }, { name: "gasPrice", maxLength: 32, numeric: !0 }, { name: "gasLimit", maxLength: 32, numeric: !0 }, { name: "to", length: 20 }, { name: "value", maxLength: 32, numeric: !0 }, { name: "data" }], wi = { chainId: !0, data: !0, gasLimit: !0, gasPrice: !0, nonce: !0, to: !0, type: !0, value: !0 }; function Ei(e, t) { return function (e) { const t = pi(e); return (0, _n.Kn)((0, Hn.p3)((0, Gn.w)((0, Hn.p3)(t, 1)), 12)) }(function (e, t) { const n = (0, Hn.N)(t), r = { r: (0, Hn.lE)(n.r), s: (0, Hn.lE)(n.s) }; return "0x" + hi().recoverPubKey((0, Hn.lE)(e), r, n.recoveryParam).encode("hex", !1) }((0, Hn.lE)(e), t)) } function xi(e, t) { const n = (0, Hn.G1)(qn.O$.from(e).toHexString()); return n.length > 32 && mi.throwArgumentError("invalid length for " + t, "transaction:" + t, e), n } function _i(e, t) { return { address: (0, _n.Kn)(e), storageKeys: (t || []).map(((t, n) => (32 !== (0, Hn.E1)(t) && mi.throwArgumentError("invalid access list storageKey", `accessList[${e}:${n}]`, t), t.toLowerCase()))) } } function Ci(e) { if (Array.isArray(e)) return e.map(((e, t) => Array.isArray(e) ? (e.length > 2 && mi.throwArgumentError("access list expected to be [ address, storageKeys[] ]", `value[${t}]`, e), _i(e[0], e[1])) : _i(e.address, e.storageKeys))); const t = Object.keys(e).map((t => { const n = e[t].reduce(((e, t) => (e[t] = !0, e)), {}); return _i(t, Object.keys(n).sort()) })); return t.sort(((e, t) => e.address.localeCompare(t.address))), t } function Ai(e) { return Ci(e).map((e => [e.address, e.storageKeys])) } function Si(e, t) { if (null != e.gasPrice) { const t = qn.O$.from(e.gasPrice), n = qn.O$.from(e.maxFeePerGas || 0); t.eq(n) || mi.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas", "tx", { gasPrice: t, maxFeePerGas: n }) } const n = [xi(e.chainId || 0, "chainId"), xi(e.nonce || 0, "nonce"), xi(e.maxPriorityFeePerGas || 0, "maxPriorityFeePerGas"), xi(e.maxFeePerGas || 0, "maxFeePerGas"), xi(e.gasLimit || 0, "gasLimit"), null != e.to ? (0, _n.Kn)(e.to) : "0x", xi(e.value || 0, "value"), e.data || "0x", Ai(e.accessList || [])]; if (t) { const e = (0, Hn.N)(t); n.push(xi(e.recoveryParam, "recoveryParam")), n.push((0, Hn.G1)(e.r)), n.push((0, Hn.G1)(e.s)) } return (0, Hn.xs)(["0x02", _r.c(n)]) } function ki(e, t) { const n = [xi(e.chainId || 0, "chainId"), xi(e.nonce || 0, "nonce"), xi(e.gasPrice || 0, "gasPrice"), xi(e.gasLimit || 0, "gasLimit"), null != e.to ? (0, _n.Kn)(e.to) : "0x", xi(e.value || 0, "value"), e.data || "0x", Ai(e.accessList || [])]; if (t) { const e = (0, Hn.N)(t); n.push(xi(e.recoveryParam, "recoveryParam")), n.push((0, Hn.G1)(e.r)), n.push((0, Hn.G1)(e.s)) } return (0, Hn.xs)(["0x01", _r.c(n)]) } function Ii(e, t) { if (null == e.type || 0 === e.type) return null != e.accessList && mi.throwArgumentError("untyped transactions do not support accessList; include type: 1", "transaction", e), function (e, t) { Nn(e, wi); const n = []; vi.forEach((function (t) { let r = e[t.name] || []; const i = {}; t.numeric && (i.hexPad = "left"), r = (0, Hn.lE)((0, Hn.Dv)(r, i)), t.length && r.length !== t.length && r.length > 0 && mi.throwArgumentError("invalid length for " + t.name, "transaction:" + t.name, r), t.maxLength && (r = (0, Hn.G1)(r), r.length > t.maxLength && mi.throwArgumentError("invalid length for " + t.name, "transaction:" + t.name, r)), n.push((0, Hn.Dv)(r)) })); let r = 0; if (null != e.chainId ? (r = e.chainId, "number" !== typeof r && mi.throwArgumentError("invalid transaction.chainId", "transaction", e)) : t && !(0, Hn.Zq)(t) && t.v > 28 && (r = Math.floor((t.v - 35) / 2)), 0 !== r && (n.push((0, Hn.Dv)(r)), n.push("0x"), n.push("0x")), !t) return _r.c(n); const i = (0, Hn.N)(t); let o = 27 + i.recoveryParam; return 0 !== r ? (n.pop(), n.pop(), n.pop(), o += 2 * r + 8, i.v > 28 && i.v !== o && mi.throwArgumentError("transaction.chainId/signature.v mismatch", "signature", t)) : i.v !== o && mi.throwArgumentError("transaction.chainId/signature.v mismatch", "signature", t), n.push((0, Hn.Dv)(o)), n.push((0, Hn.G1)((0, Hn.lE)(i.r))), n.push((0, Hn.G1)((0, Hn.lE)(i.s))), _r.c(n) }(e, t); switch (e.type) { case 1: return ki(e, t); case 2: return Si(e, t) }return mi.throwError(`unsupported transaction type: ${e.type}`, Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "serializeTransaction", transactionType: e.type }) } function Ti(e, t, n) { try { const n = bi(t[0]).toNumber(); if (0 !== n && 1 !== n) throw new Error("bad recid"); e.v = n } catch (r) { mi.throwArgumentError("invalid v for transaction type: 1", "v", t[0]) } e.r = (0, Hn.$m)(t[1], 32), e.s = (0, Hn.$m)(t[2], 32); try { const t = (0, Gn.w)(n(e)); e.from = Ei(t, { r: e.r, s: e.s, recoveryParam: e.v }) } catch (r) { } } function Ni(e) { const t = (0, Hn.lE)(e); if (t[0] > 127) return function (e) { const t = _r.J(e); 9 !== t.length && 6 !== t.length && mi.throwArgumentError("invalid raw transaction", "rawTransaction", e); const n = { nonce: bi(t[0]).toNumber(), gasPrice: bi(t[1]), gasLimit: bi(t[2]), to: yi(t[3]), value: bi(t[4]), data: t[5], chainId: 0 }; if (6 === t.length) return n; try { n.v = qn.O$.from(t[6]).toNumber() } catch (r) { return n } if (n.r = (0, Hn.$m)(t[7], 32), n.s = (0, Hn.$m)(t[8], 32), qn.O$.from(n.r).isZero() && qn.O$.from(n.s).isZero()) n.chainId = n.v, n.v = 0; else { n.chainId = Math.floor((n.v - 35) / 2), n.chainId < 0 && (n.chainId = 0); let i = n.v - 27; const o = t.slice(0, 6); 0 !== n.chainId && (o.push((0, Hn.Dv)(n.chainId)), o.push("0x"), o.push("0x"), i -= 2 * n.chainId + 8); const s = (0, Gn.w)(_r.c(o)); try { n.from = Ei(s, { r: (0, Hn.Dv)(n.r), s: (0, Hn.Dv)(n.s), recoveryParam: i }) } catch (r) { } n.hash = (0, Gn.w)(e) } return n.type = null, n }(t); switch (t[0]) { case 1: return function (e) { const t = _r.J(e.slice(1)); 8 !== t.length && 11 !== t.length && mi.throwArgumentError("invalid component count for transaction type: 1", "payload", (0, Hn.Dv)(e)); const n = { type: 1, chainId: bi(t[0]).toNumber(), nonce: bi(t[1]).toNumber(), gasPrice: bi(t[2]), gasLimit: bi(t[3]), to: yi(t[4]), value: bi(t[5]), data: t[6], accessList: Ci(t[7]) }; return 8 === t.length || (n.hash = (0, Gn.w)(e), Ti(n, t.slice(8), ki)), n }(t); case 2: return function (e) { const t = _r.J(e.slice(1)); 9 !== t.length && 12 !== t.length && mi.throwArgumentError("invalid component count for transaction type: 2", "payload", (0, Hn.Dv)(e)); const n = bi(t[2]), r = bi(t[3]), i = { type: 2, chainId: bi(t[0]).toNumber(), nonce: bi(t[1]).toNumber(), maxPriorityFeePerGas: n, maxFeePerGas: r, gasPrice: null, gasLimit: bi(t[4]), to: yi(t[5]), value: bi(t[6]), data: t[7], accessList: Ci(t[8]) }; return 9 === t.length || (i.hash = (0, Gn.w)(e), Ti(i, t.slice(9), Si)), i }(t) }return mi.throwError(`unsupported transaction type: ${t[0]}`, Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "parseTransaction", transactionType: t[0] }) } function Pi(e) { e = atob(e); const t = []; for (let n = 0; n < e.length; n++)t.push(e.charCodeAt(n)); return (0, Hn.lE)(t) } function Mi(e) { e = (0, Hn.lE)(e); let t = ""; for (let n = 0; n < e.length; n++)t += String.fromCharCode(e[n]); return btoa(t) } var Oi = function (e, t, n, r) { return new (n || (n = Promise))((function (i, o) { function s(e) { try { c(r.next(e)) } catch (t0) { o(t0) } } function a(e) { try { c(r.throw(e)) } catch (t0) { o(t0) } } function c(e) { var t; e.done ? i(e.value) : (t = e.value, t instanceof n ? t : new n((function (e) { e(t) }))).then(s, a) } c((r = r.apply(e, t || [])).next()) })) }; function Ri(e, t) { return Oi(this, void 0, void 0, (function* () { null == t && (t = {}); const n = { method: t.method || "GET", headers: t.headers || {}, body: t.body || void 0 }; if (!0 !== t.skipFetchSetup && (n.mode = "cors", n.cache = "no-cache", n.credentials = "same-origin", n.redirect = "follow", n.referrer = "client"), null != t.fetchOptions) { const e = t.fetchOptions; e.mode && (n.mode = e.mode), e.cache && (n.cache = e.cache), e.credentials && (n.credentials = e.credentials), e.redirect && (n.redirect = e.redirect), e.referrer && (n.referrer = e.referrer) } const r = yield fetch(e, n), i = yield r.arrayBuffer(), o = {}; return r.headers.forEach ? r.headers.forEach(((e, t) => { o[t.toLowerCase()] = e })) : r.headers.keys().forEach((e => { o[e.toLowerCase()] = r.headers.get(e) })), { headers: o, statusCode: r.status, statusMessage: r.statusText, body: (0, Hn.lE)(new Uint8Array(i)) } })) } var ji = function (e, t, n, r) { return new (n || (n = Promise))((function (i, o) { function s(e) { try { c(r.next(e)) } catch (t0) { o(t0) } } function a(e) { try { c(r.throw(e)) } catch (t0) { o(t0) } } function c(e) { var t; e.done ? i(e.value) : (t = e.value, t instanceof n ? t : new n((function (e) { e(t) }))).then(s, a) } c((r = r.apply(e, t || [])).next()) })) }; const $i = new Cn.Yd("web/5.7.1"); function Li(e) { return new Promise((t => { setTimeout(t, e) })) } function Di(e, t) { if (null == e) return null; if ("string" === typeof e) return e; if ((0, Hn.Zq)(e)) { if (t && ("text" === t.split("/")[0] || "application/json" === t.split(";")[0].trim())) try { return tr(e) } catch (n) { } return (0, Hn.Dv)(e) } return e } function Ui(e, t, n) { let r = null; if (null != t) { r = er(t); const n = "string" === typeof e ? { url: e } : Pn(e); if (n.headers) { 0 !== Object.keys(n.headers).filter((e => "content-type" === e.toLowerCase())).length || (n.headers = Pn(n.headers), n.headers["content-type"] = "application/json") } else n.headers = { "content-type": "application/json" }; e = n } return function (e, t, n) { const r = "object" === typeof e && null != e.throttleLimit ? e.throttleLimit : 12; $i.assertArgument(r > 0 && r % 1 === 0, "invalid connection throttle limit", "connection.throttleLimit", r); const i = "object" === typeof e ? e.throttleCallback : null, o = "object" === typeof e && "number" === typeof e.throttleSlotInterval ? e.throttleSlotInterval : 100; $i.assertArgument(o > 0 && o % 1 === 0, "invalid connection throttle slot interval", "connection.throttleSlotInterval", o); const s = "object" === typeof e && !!e.errorPassThrough, a = {}; let c = null; const l = { method: "GET" }; let u = !1, d = 12e4; if ("string" === typeof e) c = e; else if ("object" === typeof e) { if (null != e && null != e.url || $i.throwArgumentError("missing URL", "connection.url", e), c = e.url, "number" === typeof e.timeout && e.timeout > 0 && (d = e.timeout), e.headers) for (const t in e.headers) a[t.toLowerCase()] = { key: t, value: String(e.headers[t]) }, ["if-none-match", "if-modified-since"].indexOf(t.toLowerCase()) >= 0 && (u = !0); if (l.allowGzip = !!e.allowGzip, null != e.user && null != e.password) { "https:" !== c.substring(0, 6) && !0 !== e.allowInsecureAuthentication && $i.throwError("basic authentication requires a secure https url", Cn.Yd.errors.INVALID_ARGUMENT, { argument: "url", url: c, user: e.user, password: "[REDACTED]" }); const t = e.user + ":" + e.password; a.authorization = { key: "Authorization", value: "Basic " + Mi(er(t)) } } null != e.skipFetchSetup && (l.skipFetchSetup = !!e.skipFetchSetup), null != e.fetchOptions && (l.fetchOptions = Pn(e.fetchOptions)) } const h = new RegExp("^data:([^;:]*)?(;base64)?,(.*)$", "i"), f = c ? c.match(h) : null; if (f) try { const e = { statusCode: 200, statusMessage: "OK", headers: { "content-type": f[1] || "text/plain" }, body: f[2] ? Pi(f[3]) : (p = f[3], er(p.replace(/%([0-9a-f][0-9a-f])/gi, ((e, t) => String.fromCharCode(parseInt(t, 16)))))) }; let t = e.body; return n && (t = n(e.body, e)), Promise.resolve(t) } catch (b) { $i.throwError("processing response error", Cn.Yd.errors.SERVER_ERROR, { body: Di(f[1], f[2]), error: b, requestBody: null, requestMethod: "GET", url: c }) } var p; t && (l.method = "POST", l.body = t, null == a["content-type"] && (a["content-type"] = { key: "Content-Type", value: "application/octet-stream" }), null == a["content-length"] && (a["content-length"] = { key: "Content-Length", value: String(t.length) })); const m = {}; Object.keys(a).forEach((e => { const t = a[e]; m[t.key] = t.value })), l.headers = m; const g = function () { let e = null; return { promise: new Promise((function (t, n) { d && (e = setTimeout((() => { null != e && (e = null, n($i.makeError("timeout", Cn.Yd.errors.TIMEOUT, { requestBody: Di(l.body, m["content-type"]), requestMethod: l.method, timeout: d, url: c }))) }), d)) })), cancel: function () { null != e && (clearTimeout(e), e = null) } } }(), y = function () { return ji(this, void 0, void 0, (function* () { for (let e = 0; e < r; e++) { let t = null; try { if (t = yield Ri(c, l), e < r) if (301 === t.statusCode || 302 === t.statusCode) { const e = t.headers.location || ""; if ("GET" === l.method && e.match(/^https:/)) { c = t.headers.location; continue } } else if (429 === t.statusCode) { let n = !0; if (i && (n = yield i(e, c)), n) { let n = 0; const r = t.headers["retry-after"]; n = "string" === typeof r && r.match(/^[1-9][0-9]*$/) ? 1e3 * parseInt(r) : o * parseInt(String(Math.random() * Math.pow(2, e))), yield Li(n); continue } } } catch (b) { t = b.response, null == t && (g.cancel(), $i.throwError("missing response", Cn.Yd.errors.SERVER_ERROR, { requestBody: Di(l.body, m["content-type"]), requestMethod: l.method, serverError: b, url: c })) } let a = t.body; if (u && 304 === t.statusCode ? a = null : !s && (t.statusCode < 200 || t.statusCode >= 300) && (g.cancel(), $i.throwError("bad response", Cn.Yd.errors.SERVER_ERROR, { status: t.statusCode, headers: t.headers, body: Di(a, t.headers ? t.headers["content-type"] : null), requestBody: Di(l.body, m["content-type"]), requestMethod: l.method, url: c })), n) try { const e = yield n(a, t); return g.cancel(), e } catch (b) { if (b.throttleRetry && e < r) { let t = !0; if (i && (t = yield i(e, c)), t) { const t = o * parseInt(String(Math.random() * Math.pow(2, e))); yield Li(t); continue } } g.cancel(), $i.throwError("processing response error", Cn.Yd.errors.SERVER_ERROR, { body: Di(a, t.headers ? t.headers["content-type"] : null), error: b, requestBody: Di(l.body, m["content-type"]), requestMethod: l.method, url: c }) } return g.cancel(), a } return $i.throwError("failed response", Cn.Yd.errors.SERVER_ERROR, { requestBody: Di(l.body, m["content-type"]), requestMethod: l.method, url: c }) })) }(); return Promise.race([g.promise, y]) }(e, r, ((e, t) => { let r = null; if (null != e) try { r = JSON.parse(tr(e)) } catch (i) { $i.throwError("invalid JSON", Cn.Yd.errors.SERVER_ERROR, { body: e, error: i }) } return n && (r = n(r, t)), r })) } function Fi(e, t) { return t || (t = {}), null == (t = Pn(t)).floor && (t.floor = 0), null == t.ceiling && (t.ceiling = 1e4), null == t.interval && (t.interval = 250), new Promise((function (n, r) { let i = null, o = !1; const s = () => !o && (o = !0, i && clearTimeout(i), !0); t.timeout && (i = setTimeout((() => { s() && r(new Error("timeout")) }), t.timeout)); const a = t.retryLimit; let c = 0; !function i() { return e().then((function (e) { if (void 0 !== e) s() && n(e); else if (t.oncePoll) t.oncePoll.once("poll", i); else if (t.onceBlock) t.onceBlock.once("block", i); else if (!o) { if (c++, c > a) return void (s() && r(new Error("retry limit reached"))); let e = t.interval * parseInt(String(Math.random() * Math.pow(2, c))); e < t.floor && (e = t.floor), e > t.ceiling && (e = t.ceiling), setTimeout(i, e) } return null }), (function (e) { s() && r(e) })) }() })) } var Bi = function (e, t, n, r) { return new (n || (n = Promise))((function (i, o) { function s(e) { try { c(r.next(e)) } catch (t0) { o(t0) } } function a(e) { try { c(r.throw(e)) } catch (t0) { o(t0) } } function c(e) { var t; e.done ? i(e.value) : (t = e.value, t instanceof n ? t : new n((function (e) { e(t) }))).then(s, a) } c((r = r.apply(e, t || [])).next()) })) }; const Wi = new Cn.Yd("abstract-provider/5.7.0"); class zi extends $n { static isForkEvent(e) { return !(!e || !e._isForkEvent) } } class qi { constructor() { Wi.checkAbstract(new.target, qi), kn(this, "_isProvider", !0) } getFeeData() { return Bi(this, void 0, void 0, (function* () { const { block: e, gasPrice: t } = yield Tn({ block: this.getBlock("latest"), gasPrice: this.getGasPrice().catch((e => null)) }); let n = null, r = null, i = null; return e && e.baseFeePerGas && (n = e.baseFeePerGas, i = qn.O$.from("1500000000"), r = e.baseFeePerGas.mul(2).add(i)), { lastBaseFeePerGas: n, maxFeePerGas: r, maxPriorityFeePerGas: i, gasPrice: t } })) } addListener(e, t) { return this.on(e, t) } removeListener(e, t) { return this.off(e, t) } static isProvider(e) { return !(!e || !e._isProvider) } } class Hi { constructor(e) { kn(this, "alphabet", e), kn(this, "base", e.length), kn(this, "_alphabetMap", {}), kn(this, "_leader", e.charAt(0)); for (let t = 0; t < e.length; t++)this._alphabetMap[e.charAt(t)] = t } encode(e) { let t = (0, Hn.lE)(e); if (0 === t.length) return ""; let n = [0]; for (let i = 0; i < t.length; ++i) { let e = t[i]; for (let t = 0; t < n.length; ++t)e += n[t] << 8, n[t] = e % this.base, e = e / this.base | 0; for (; e > 0;)n.push(e % this.base), e = e / this.base | 0 } let r = ""; for (let i = 0; 0 === t[i] && i < t.length - 1; ++i)r += this._leader; for (let i = n.length - 1; i >= 0; --i)r += this.alphabet[n[i]]; return r } decode(e) { if ("string" !== typeof e) throw new TypeError("Expected String"); let t = []; if (0 === e.length) return new Uint8Array(t); t.push(0); for (let n = 0; n < e.length; n++) { let r = this._alphabetMap[e[n]]; if (void 0 === r) throw new Error("Non-base" + this.base + " character"); let i = r; for (let e = 0; e < t.length; ++e)i += t[e] * this.base, t[e] = 255 & i, i >>= 8; for (; i > 0;)t.push(255 & i), i >>= 8 } for (let n = 0; e[n] === this._leader && n < e.length - 1; ++n)t.push(0); return (0, Hn.lE)(new Uint8Array(t.reverse())) } } new Hi("abcdefghijklmnopqrstuvwxyz234567"); const Gi = new Hi("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"); function Vi(e, t) { null == t && (t = 1); const n = [], r = n.forEach, i = function (e, t) { r.call(e, (function (e) { t > 0 && Array.isArray(e) ? i(e, t - 1) : n.push(e) })) }; return i(e, t), n } function Ki(e) { return function (e) { let t = 0; return () => e[t++] }(function (e) { let t = 0; function n() { return e[t++] << 8 | e[t++] } let r = n(), i = 1, o = [0, 1]; for (let w = 1; w < r; w++)o.push(i += n()); let s = n(), a = t; t += s; let c = 0, l = 0; function u() { return 0 == c && (l = l << 8 | e[t++], c = 8), l >> --c & 1 } const d = Math.pow(2, 31), h = d >>> 1, f = h >> 1, p = d - 1; let m = 0; for (let w = 0; w < 31; w++)m = m << 1 | u(); let g = [], y = 0, b = d; for (; ;) { let e = Math.floor(((m - y + 1) * i - 1) / b), t = 0, n = r; for (; n - t > 1;) { let r = t + n >>> 1; e < o[r] ? n = r : t = r } if (0 == t) break; g.push(t); let s = y + Math.floor(b * o[t] / i), a = y + Math.floor(b * o[t + 1] / i) - 1; for (; 0 == ((s ^ a) & h);)m = m << 1 & p | u(), s = s << 1 & p, a = a << 1 & p | 1; for (; s & ~a & f;)m = m & h | m << 1 & p >>> 1 | u(), s = s << 1 ^ h, a = (a ^ h) << 1 | h | 1; y = s, b = 1 + a - s } let v = r - 4; return g.map((t => { switch (t - v) { case 3: return v + 65792 + (e[a++] << 16 | e[a++] << 8 | e[a++]); case 2: return v + 256 + (e[a++] << 8 | e[a++]); case 1: return v + e[a++]; default: return t - 1 } })) }(e)) } function Yi(e) { return 1 & e ? ~e >> 1 : e >> 1 } function Zi(e, t) { let n = Array(e); for (let r = 0, i = -1; r < e; r++)n[r] = i += 1 + t(); return n } function Xi(e, t) { let n = Array(e); for (let r = 0, i = 0; r < e; r++)n[r] = i += Yi(t()); return n } function Ji(e, t) { let n = Zi(e(), e), r = e(), i = Zi(r, e), o = function (e, t) { let n = Array(e); for (let r = 0; r < e; r++)n[r] = 1 + t(); return n }(r, e); for (let s = 0; s < r; s++)for (let e = 0; e < o[s]; e++)n.push(i[s] + e); return t ? n.map((e => t[e])) : n } function Qi(e, t, n) { let r = Array(e).fill(void 0).map((() => [])); for (let i = 0; i < t; i++)Xi(e, n).forEach(((e, t) => r[t].push(e))); return r } function eo(e, t) { let n = 1 + t(), r = t(), i = function (e) { let t = []; for (; ;) { let n = e(); if (0 == n) break; t.push(n) } return t }(t); return Vi(Qi(i.length, 1 + e, t).map(((e, t) => { const o = e[0], s = e.slice(1); return Array(i[t]).fill(void 0).map(((e, t) => { let i = t * r; return [o + t * n, s.map((e => e + i))] })) }))) } function to(e, t) { return Qi(1 + t(), 1 + e, t).map((e => [e[0], e.slice(1)])) } const no = Ki(Pi("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA==")), ro = new Set(Ji(no)), io = new Set(Ji(no)), oo = function (e) { let t = []; for (; ;) { let n = e(); if (0 == n) break; t.push(eo(n, e)) } for (; ;) { let n = e() - 1; if (n < 0) break; t.push(to(n, e)) } return function (e) { const t = {}; for (let n = 0; n < e.length; n++) { const r = e[n]; t[r[0]] = r[1] } return t }(Vi(t)) }(no), so = function (e) { let t = Ji(e).sort(((e, t) => e - t)); return function n() { let r = []; for (; ;) { let i = Ji(e, t); if (0 == i.length) break; r.push({ set: new Set(i), node: n() }) } r.sort(((e, t) => t.set.size - e.set.size)); let i = e(), o = i % 3; i = i / 3 | 0; let s = !!(1 & i); return i >>= 1, { branches: r, valid: o, fe0f: s, save: 1 == i, check: 2 == i } }() }(no); function ao(e) { return function (e, t = Yn.current) { return Qn(er(e, t)) }(e) } function co(e) { return e.filter((e => 65039 != e)) } function lo(e) { for (let n of e.split(".")) { let e = ao(n); try { for (let t = e.lastIndexOf(95) - 1; t >= 0; t--)if (95 !== e[t]) throw new Error("underscore only allowed at start"); if (e.length >= 4 && e.every((e => e < 128)) && 45 === e[2] && 45 === e[3]) throw new Error("invalid label extension") } catch (t) { throw new Error(`Invalid label "${n}": ${t.message}`) } } return e } function uo(e) { return lo(function (e, t) { let n = ao(e).reverse(), r = []; for (; n.length;) { let e = ho(n); if (e) { r.push(...t(e)); continue } let i = n.pop(); if (ro.has(i)) { r.push(i); continue } if (io.has(i)) continue; let o = oo[i]; if (!o) throw new Error(`Disallowed codepoint: 0x${i.toString(16).toUpperCase()}`); r.push(...o) } return lo(function (e) { return e.normalize("NFC") }(String.fromCodePoint(...r))) }(e, co)) } function ho(e, t) { var n; let r, i, o = so, s = [], a = e.length; for (t && (t.length = 0); a;) { let c = e[--a]; if (o = null === (n = o.branches.find((e => e.set.has(c)))) || void 0 === n ? void 0 : n.node, !o) break; if (o.save) i = c; else if (o.check && c === i) break; s.push(c), o.fe0f && (s.push(65039), a > 0 && 65039 == e[a - 1] && a--), o.valid && (r = s.slice(), 2 == o.valid && r.splice(1, 1), t && t.push(...e.slice(a).reverse()), e.length = a) } return r } const fo = new Cn.Yd(Vn), po = new Uint8Array(32); function mo(e) { if (0 === e.length) throw new Error("invalid ENS name; empty component"); return e } function go(e) { const t = er(uo(e)), n = []; if (0 === e.length) return n; let r = 0; for (let i = 0; i < t.length; i++) { 46 === t[i] && (n.push(mo(t.slice(r, i))), r = i + 1) } if (r >= t.length) throw new Error("invalid ENS name; empty component"); return n.push(mo(t.slice(r))), n } function yo(e) { "string" !== typeof e && fo.throwArgumentError("invalid ENS name; not a string", "name", e); let t = po; const n = go(e); for (; n.length;)t = (0, Gn.w)((0, Hn.zo)([t, (0, Gn.w)(n.pop())])); return (0, Hn.Dv)(t) } po.fill(0); const bo = new Cn.Yd("networks/5.7.1"); function vo(e) { const t = function (t, n) { null == n && (n = {}); const r = []; if (t.InfuraProvider && "-" !== n.infura) try { r.push(new t.InfuraProvider(e, n.infura)) } catch (i) { } if (t.EtherscanProvider && "-" !== n.etherscan) try { r.push(new t.EtherscanProvider(e, n.etherscan)) } catch (i) { } if (t.AlchemyProvider && "-" !== n.alchemy) try { r.push(new t.AlchemyProvider(e, n.alchemy)) } catch (i) { } if (t.PocketProvider && "-" !== n.pocket) { const o = ["goerli", "ropsten", "rinkeby", "sepolia"]; try { const i = new t.PocketProvider(e, n.pocket); i.network && -1 === o.indexOf(i.network.name) && r.push(i) } catch (i) { } } if (t.CloudflareProvider && "-" !== n.cloudflare) try { r.push(new t.CloudflareProvider(e)) } catch (i) { } if (t.AnkrProvider && "-" !== n.ankr) try { const i = ["ropsten"], o = new t.AnkrProvider(e, n.ankr); o.network && -1 === i.indexOf(o.network.name) && r.push(o) } catch (i) { } if (0 === r.length) return null; if (t.FallbackProvider) { let i = 1; return null != n.quorum ? i = n.quorum : "homestead" === e && (i = 2), new t.FallbackProvider(r, i) } return r[0] }; return t.renetwork = function (e) { return vo(e) }, t } function wo(e, t) { const n = function (n, r) { return n.JsonRpcProvider ? new n.JsonRpcProvider(e, t) : null }; return n.renetwork = function (t) { return wo(e, t) }, n } const Eo = { chainId: 1, ensAddress: "0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e", name: "homestead", _defaultProvider: vo("homestead") }, xo = { chainId: 3, ensAddress: "0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e", name: "ropsten", _defaultProvider: vo("ropsten") }, _o = { chainId: 63, name: "classicMordor", _defaultProvider: wo("https://www.ethercluster.com/mordor", "classicMordor") }, Co = { unspecified: { chainId: 0, name: "unspecified" }, homestead: Eo, mainnet: Eo, morden: { chainId: 2, name: "morden" }, ropsten: xo, testnet: xo, rinkeby: { chainId: 4, ensAddress: "0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e", name: "rinkeby", _defaultProvider: vo("rinkeby") }, kovan: { chainId: 42, name: "kovan", _defaultProvider: vo("kovan") }, goerli: { chainId: 5, ensAddress: "0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e", name: "goerli", _defaultProvider: vo("goerli") }, kintsugi: { chainId: 1337702, name: "kintsugi" }, sepolia: { chainId: 11155111, name: "sepolia", _defaultProvider: vo("sepolia") }, classic: { chainId: 61, name: "classic", _defaultProvider: wo("https://www.ethercluster.com/etc", "classic") }, classicMorden: { chainId: 62, name: "classicMorden" }, classicMordor: _o, classicTestnet: _o, classicKotti: { chainId: 6, name: "classicKotti", _defaultProvider: wo("https://www.ethercluster.com/kotti", "classicKotti") }, xdai: { chainId: 100, name: "xdai" }, matic: { chainId: 137, name: "matic", _defaultProvider: vo("matic") }, maticmum: { chainId: 80001, name: "maticmum" }, optimism: { chainId: 10, name: "optimism", _defaultProvider: vo("optimism") }, "optimism-kovan": { chainId: 69, name: "optimism-kovan" }, "optimism-goerli": { chainId: 420, name: "optimism-goerli" }, arbitrum: { chainId: 42161, name: "arbitrum" }, "arbitrum-rinkeby": { chainId: 421611, name: "arbitrum-rinkeby" }, "arbitrum-goerli": { chainId: 421613, name: "arbitrum-goerli" }, bnb: { chainId: 56, name: "bnb" }, bnbt: { chainId: 97, name: "bnbt" } }; new Cn.Yd("sha2/5.7.0"); function Ao(e) { return "0x" + kr().sha256().update((0, Hn.lE)(e)).digest("hex") } var So = n(92882), ko = n.n(So); const Io = new Cn.Yd(Ln); class To { constructor() { this.formats = this.getDefaultFormats() } getDefaultFormats() { const e = {}, t = this.address.bind(this), n = this.bigNumber.bind(this), r = this.blockTag.bind(this), i = this.data.bind(this), o = this.hash.bind(this), s = this.hex.bind(this), a = this.number.bind(this), c = this.type.bind(this); return e.transaction = { hash: o, type: c, accessList: To.allowNull(this.accessList.bind(this), null), blockHash: To.allowNull(o, null), blockNumber: To.allowNull(a, null), transactionIndex: To.allowNull(a, null), confirmations: To.allowNull(a, null), from: t, gasPrice: To.allowNull(n), maxPriorityFeePerGas: To.allowNull(n), maxFeePerGas: To.allowNull(n), gasLimit: n, to: To.allowNull(t, null), value: n, nonce: a, data: i, r: To.allowNull(this.uint256), s: To.allowNull(this.uint256), v: To.allowNull(a), creates: To.allowNull(t, null), raw: To.allowNull(i) }, e.transactionRequest = { from: To.allowNull(t), nonce: To.allowNull(a), gasLimit: To.allowNull(n), gasPrice: To.allowNull(n), maxPriorityFeePerGas: To.allowNull(n), maxFeePerGas: To.allowNull(n), to: To.allowNull(t), value: To.allowNull(n), data: To.allowNull((e => this.data(e, !0))), type: To.allowNull(a), accessList: To.allowNull(this.accessList.bind(this), null) }, e.receiptLog = { transactionIndex: a, blockNumber: a, transactionHash: o, address: t, topics: To.arrayOf(o), data: i, logIndex: a, blockHash: o }, e.receipt = { to: To.allowNull(this.address, null), from: To.allowNull(this.address, null), contractAddress: To.allowNull(t, null), transactionIndex: a, root: To.allowNull(s), gasUsed: n, logsBloom: To.allowNull(i), blockHash: o, transactionHash: o, logs: To.arrayOf(this.receiptLog.bind(this)), blockNumber: a, confirmations: To.allowNull(a, null), cumulativeGasUsed: n, effectiveGasPrice: To.allowNull(n), status: To.allowNull(a), type: c }, e.block = { hash: To.allowNull(o), parentHash: o, number: a, timestamp: a, nonce: To.allowNull(s), difficulty: this.difficulty.bind(this), gasLimit: n, gasUsed: n, miner: To.allowNull(t), extraData: i, transactions: To.allowNull(To.arrayOf(o)), baseFeePerGas: To.allowNull(n) }, e.blockWithTransactions = Pn(e.block), e.blockWithTransactions.transactions = To.allowNull(To.arrayOf(this.transactionResponse.bind(this))), e.filter = { fromBlock: To.allowNull(r, void 0), toBlock: To.allowNull(r, void 0), blockHash: To.allowNull(o, void 0), address: To.allowNull(t, void 0), topics: To.allowNull(this.topics.bind(this), void 0) }, e.filterLog = { blockNumber: To.allowNull(a), blockHash: To.allowNull(o), transactionIndex: a, removed: To.allowNull(this.boolean.bind(this)), address: t, data: To.allowFalsish(i, "0x"), topics: To.arrayOf(o), transactionHash: o, logIndex: a }, e } accessList(e) { return Ci(e || []) } number(e) { return "0x" === e ? 0 : qn.O$.from(e).toNumber() } type(e) { return "0x" === e || null == e ? 0 : qn.O$.from(e).toNumber() } bigNumber(e) { return qn.O$.from(e) } boolean(e) { if ("boolean" === typeof e) return e; if ("string" === typeof e) { if ("true" === (e = e.toLowerCase())) return !0; if ("false" === e) return !1 } throw new Error("invalid boolean - " + e) } hex(e, t) { return "string" === typeof e && (t || "0x" === e.substring(0, 2) || (e = "0x" + e), (0, Hn.A7)(e)) ? e.toLowerCase() : Io.throwArgumentError("invalid hash", "value", e) } data(e, t) { const n = this.hex(e, t); if (n.length % 2 !== 0) throw new Error("invalid data; odd-length - " + e); return n } address(e) { return (0, _n.Kn)(e) } callAddress(e) { if (!(0, Hn.A7)(e, 32)) return null; const t = (0, _n.Kn)((0, Hn.p3)(e, 12)); return "0x0000000000000000000000000000000000000000" === t ? null : t } contractAddress(e) { return (0, _n.CR)(e) } blockTag(e) { if (null == e) return "latest"; if ("earliest" === e) return "0x0"; switch (e) { case "earliest": return "0x0"; case "latest": case "pending": case "safe": case "finalized": return e }if ("number" === typeof e || (0, Hn.A7)(e)) return (0, Hn.$P)(e); throw new Error("invalid blockTag") } hash(e, t) { const n = this.hex(e, t); return 32 !== (0, Hn.E1)(n) ? Io.throwArgumentError("invalid hash", "value", e) : n } difficulty(e) { if (null == e) return null; const t = qn.O$.from(e); try { return t.toNumber() } catch (n) { } return null } uint256(e) { if (!(0, Hn.A7)(e)) throw new Error("invalid uint256"); return (0, Hn.$m)(e, 32) } _block(e, t) { null != e.author && null == e.miner && (e.miner = e.author); const n = null != e._difficulty ? e._difficulty : e.difficulty, r = To.check(t, e); return r._difficulty = null == n ? null : qn.O$.from(n), r } block(e) { return this._block(e, this.formats.block) } blockWithTransactions(e) { return this._block(e, this.formats.blockWithTransactions) } transactionRequest(e) { return To.check(this.formats.transactionRequest, e) } transactionResponse(e) { null != e.gas && null == e.gasLimit && (e.gasLimit = e.gas), e.to && qn.O$.from(e.to).isZero() && (e.to = "0x0000000000000000000000000000000000000000"), null != e.input && null == e.data && (e.data = e.input), null == e.to && null == e.creates && (e.creates = this.contractAddress(e)), 1 !== e.type && 2 !== e.type || null != e.accessList || (e.accessList = []); const t = To.check(this.formats.transaction, e); if (null != e.chainId) { let n = e.chainId; (0, Hn.A7)(n) && (n = qn.O$.from(n).toNumber()), t.chainId = n } else { let n = e.networkId; null == n && null == t.v && (n = e.chainId), (0, Hn.A7)(n) && (n = qn.O$.from(n).toNumber()), "number" !== typeof n && null != t.v && (n = (t.v - 35) / 2, n < 0 && (n = 0), n = parseInt(n)), "number" !== typeof n && (n = 0), t.chainId = n } return t.blockHash && "x" === t.blockHash.replace(/0/g, "") && (t.blockHash = null), t } transaction(e) { return Ni(e) } receiptLog(e) { return To.check(this.formats.receiptLog, e) } receipt(e) { const t = To.check(this.formats.receipt, e); if (null != t.root) if (t.root.length <= 4) { const e = qn.O$.from(t.root).toNumber(); 0 === e || 1 === e ? (null != t.status && t.status !== e && Io.throwArgumentError("alt-root-status/status mismatch", "value", { root: t.root, status: t.status }), t.status = e, delete t.root) : Io.throwArgumentError("invalid alt-root-status", "value.root", t.root) } else 66 !== t.root.length && Io.throwArgumentError("invalid root hash", "value.root", t.root); return null != t.status && (t.byzantium = !0), t } topics(e) { return Array.isArray(e) ? e.map((e => this.topics(e))) : null != e ? this.hash(e, !0) : null } filter(e) { return To.check(this.formats.filter, e) } filterLog(e) { return To.check(this.formats.filterLog, e) } static check(e, t) { const n = {}; for (const i in e) try { const r = e[i](t[i]); void 0 !== r && (n[i] = r) } catch (r) { throw r.checkKey = i, r.checkValue = t[i], r } return n } static allowNull(e, t) { return function (n) { return null == n ? t : e(n) } } static allowFalsish(e, t) { return function (n) { return n ? e(n) : t } } static arrayOf(e) { return function (t) { if (!Array.isArray(t)) throw new Error("not an array"); const n = []; return t.forEach((function (t) { n.push(e(t)) })), n } } } var No = function (e, t, n, r) { return new (n || (n = Promise))((function (i, o) { function s(e) { try { c(r.next(e)) } catch (t0) { o(t0) } } function a(e) { try { c(r.throw(e)) } catch (t0) { o(t0) } } function c(e) { var t; e.done ? i(e.value) : (t = e.value, t instanceof n ? t : new n((function (e) { e(t) }))).then(s, a) } c((r = r.apply(e, t || [])).next()) })) }; const Po = new Cn.Yd(Ln); function Mo(e) { return null == e ? "null" : (32 !== (0, Hn.E1)(e) && Po.throwArgumentError("invalid topic", "topic", e), e.toLowerCase()) } function Oo(e) { for (e = e.slice(); e.length > 0 && null == e[e.length - 1];)e.pop(); return e.map((e => { if (Array.isArray(e)) { const t = {}; e.forEach((e => { t[Mo(e)] = !0 })); const n = Object.keys(t); return n.sort(), n.join("|") } return Mo(e) })).join("&") } function Ro(e) { if ("string" === typeof e) { if (e = e.toLowerCase(), 32 === (0, Hn.E1)(e)) return "tx:" + e; if (-1 === e.indexOf(":")) return e } else { if (Array.isArray(e)) return "filter:*:" + Oo(e); if (zi.isForkEvent(e)) throw Po.warn("not implemented"), new Error("not implemented"); if (e && "object" === typeof e) return "filter:" + (e.address || "*") + ":" + Oo(e.topics || []) } throw new Error("invalid event - " + e) } function jo() { return (new Date).getTime() } function $o(e) { return new Promise((t => { setTimeout(t, e) })) } const Lo = ["block", "network", "pending", "poll"]; class Do { constructor(e, t, n) { kn(this, "tag", e), kn(this, "listener", t), kn(this, "once", n), this._lastBlockNumber = -2, this._inflight = !1 } get event() { switch (this.type) { case "tx": return this.hash; case "filter": return this.filter }return this.tag } get type() { return this.tag.split(":")[0] } get hash() { const e = this.tag.split(":"); return "tx" !== e[0] ? null : e[1] } get filter() { const e = this.tag.split(":"); if ("filter" !== e[0]) return null; const t = e[1], n = "" === (r = e[2]) ? [] : r.split(/&/g).map((e => { if ("" === e) return []; const t = e.split("|").map((e => "null" === e ? null : e)); return 1 === t.length ? t[0] : t })); var r; const i = {}; return n.length > 0 && (i.topics = n), t && "*" !== t && (i.address = t), i } pollable() { return this.tag.indexOf(":") >= 0 || Lo.indexOf(this.tag) >= 0 } } const Uo = { 0: { symbol: "btc", p2pkh: 0, p2sh: 5, prefix: "bc" }, 2: { symbol: "ltc", p2pkh: 48, p2sh: 50, prefix: "ltc" }, 3: { symbol: "doge", p2pkh: 30, p2sh: 22 }, 60: { symbol: "eth", ilk: "eth" }, 61: { symbol: "etc", ilk: "eth" }, 700: { symbol: "xdai", ilk: "eth" } }; function Fo(e) { return (0, Hn.$m)(qn.O$.from(e).toHexString(), 32) } function Bo(e) { return Gi.encode((0, Hn.zo)([e, (0, Hn.p3)(Ao(Ao(e)), 0, 4)])) } const Wo = new RegExp("^(ipfs)://(.*)$", "i"), zo = [new RegExp("^(https)://(.*)$", "i"), new RegExp("^(data):(.*)$", "i"), Wo, new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$", "i")]; function qo(e, t) { try { return tr(Ho(e, t)) } catch (n) { } return null } function Ho(e, t) { if ("0x" === e) return null; const n = qn.O$.from((0, Hn.p3)(e, t, t + 32)).toNumber(), r = qn.O$.from((0, Hn.p3)(e, n, n + 32)).toNumber(); return (0, Hn.p3)(e, n + 32, n + 32 + r) } function Go(e) { return e.match(/^ipfs:\/\/ipfs\//i) ? e = e.substring(12) : e.match(/^ipfs:\/\//i) ? e = e.substring(7) : Po.throwArgumentError("unsupported IPFS format", "link", e), `https://gateway.ipfs.io/ipfs/${e}` } function Vo(e) { const t = (0, Hn.lE)(e); if (t.length > 32) throw new Error("internal; should not happen"); const n = new Uint8Array(32); return n.set(t, 32 - t.length), n } function Ko(e) { if (e.length % 32 === 0) return e; const t = new Uint8Array(32 * Math.ceil(e.length / 32)); return t.set(e), t } function Yo(e) { const t = []; let n = 0; for (let r = 0; r < e.length; r++)t.push(null), n += 32; for (let r = 0; r < e.length; r++) { const i = (0, Hn.lE)(e[r]); t[r] = Vo(n), t.push(Vo(i.length)), t.push(Ko(i)), n += 32 + 32 * Math.ceil(i.length / 32) } return (0, Hn.xs)(t) } class Zo { constructor(e, t, n, r) { kn(this, "provider", e), kn(this, "name", n), kn(this, "address", e.formatter.address(t)), kn(this, "_resolvedAddress", r) } supportsWildcard() { return this._supportsEip2544 || (this._supportsEip2544 = this.provider.call({ to: this.address, data: "0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000" }).then((e => qn.O$.from(e).eq(1))).catch((e => { if (e.code === Cn.Yd.errors.CALL_EXCEPTION) return !1; throw this._supportsEip2544 = null, e }))), this._supportsEip2544 } _fetch(e, t) { return No(this, void 0, void 0, (function* () { const n = { to: this.address, ccipReadEnabled: !0, data: (0, Hn.xs)([e, yo(this.name), t || "0x"]) }; let r = !1; var i; (yield this.supportsWildcard()) && (r = !0, n.data = (0, Hn.xs)(["0x9061b923", Yo([(i = this.name, (0, Hn.Dv)((0, Hn.zo)(go(i).map((e => { if (e.length > 63) throw new Error("invalid DNS encoded entry; length exceeds 63 bytes"); const t = new Uint8Array(e.length + 1); return t.set(e, 1), t[0] = t.length - 1, t })))) + "00"), n.data])])); try { let e = yield this.provider.call(n); return (0, Hn.lE)(e).length % 32 === 4 && Po.throwError("resolver threw error", Cn.Yd.errors.CALL_EXCEPTION, { transaction: n, data: e }), r && (e = Ho(e, 0)), e } catch (o) { if (o.code === Cn.Yd.errors.CALL_EXCEPTION) return null; throw o } })) } _fetchBytes(e, t) { return No(this, void 0, void 0, (function* () { const n = yield this._fetch(e, t); return null != n ? Ho(n, 0) : null })) } _getAddress(e, t) { const n = Uo[String(e)]; if (null == n && Po.throwError(`unsupported coin type: ${e}`, Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: `getAddress(${e})` }), "eth" === n.ilk) return this.provider.formatter.address(t); const r = (0, Hn.lE)(t); if (null != n.p2pkh) { const e = t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/); if (e) { const t = parseInt(e[1], 16); if (e[2].length === 2 * t && t >= 1 && t <= 75) return Bo((0, Hn.zo)([[n.p2pkh], "0x" + e[2]])) } } if (null != n.p2sh) { const e = t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/); if (e) { const t = parseInt(e[1], 16); if (e[2].length === 2 * t && t >= 1 && t <= 75) return Bo((0, Hn.zo)([[n.p2sh], "0x" + e[2]])) } } if (null != n.prefix) { const e = r[1]; let t = r[0]; if (0 === t ? 20 !== e && 32 !== e && (t = -1) : t = -1, t >= 0 && r.length === 2 + e && e >= 1 && e <= 75) { const e = ko().toWords(r.slice(2)); return e.unshift(t), ko().encode(n.prefix, e) } } return null } getAddress(e) { return No(this, void 0, void 0, (function* () { if (null == e && (e = 60), 60 === e) try { const e = yield this._fetch("0x3b3b57de"); return "0x" === e || "0x0000000000000000000000000000000000000000000000000000000000000000" === e ? null : this.provider.formatter.callAddress(e) } catch (r) { if (r.code === Cn.Yd.errors.CALL_EXCEPTION) return null; throw r } const t = yield this._fetchBytes("0xf1cb7e06", Fo(e)); if (null == t || "0x" === t) return null; const n = this._getAddress(e, t); return null == n && Po.throwError("invalid or unsupported coin data", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: `getAddress(${e})`, coinType: e, data: t }), n })) } getAvatar() { return No(this, void 0, void 0, (function* () { const e = [{ type: "name", content: this.name }]; try { const t = yield this.getText("avatar"); if (null == t) return null; for (let n = 0; n < zo.length; n++) { const r = t.match(zo[n]); if (null == r) continue; const i = r[1].toLowerCase(); switch (i) { case "https": return e.push({ type: "url", content: t }), { linkage: e, url: t }; case "data": return e.push({ type: "data", content: t }), { linkage: e, url: t }; case "ipfs": return e.push({ type: "ipfs", content: t }), { linkage: e, url: Go(t) }; case "erc721": case "erc1155": { const n = "erc721" === i ? "0xc87b56dd" : "0x0e89341c"; e.push({ type: i, content: t }); const o = this._resolvedAddress || (yield this.getAddress()), s = (r[2] || "").split("/"); if (2 !== s.length) return null; const a = yield this.provider.formatter.address(s[0]), c = (0, Hn.$m)(qn.O$.from(s[1]).toHexString(), 32); if ("erc721" === i) { const t = this.provider.formatter.callAddress(yield this.provider.call({ to: a, data: (0, Hn.xs)(["0x6352211e", c]) })); if (o !== t) return null; e.push({ type: "owner", content: t }) } else if ("erc1155" === i) { const t = qn.O$.from(yield this.provider.call({ to: a, data: (0, Hn.xs)(["0x00fdd58e", (0, Hn.$m)(o, 32), c]) })); if (t.isZero()) return null; e.push({ type: "balance", content: t.toString() }) } const l = { to: this.provider.formatter.address(s[0]), data: (0, Hn.xs)([n, c]) }; let u = qo(yield this.provider.call(l), 0); if (null == u) return null; e.push({ type: "metadata-url-base", content: u }), "erc1155" === i && (u = u.replace("{id}", c.substring(2)), e.push({ type: "metadata-url-expanded", content: u })), u.match(/^ipfs:/i) && (u = Go(u)), e.push({ type: "metadata-url", content: u }); const d = yield Ui(u); if (!d) return null; e.push({ type: "metadata", content: JSON.stringify(d) }); let h = d.image; if ("string" !== typeof h) return null; if (h.match(/^(https:\/\/|data:)/i)); else { if (null == h.match(Wo)) return null; e.push({ type: "url-ipfs", content: h }), h = Go(h) } return e.push({ type: "url", content: h }), { linkage: e, url: h } } } } } catch (t) { } return null })) } getContentHash() { return No(this, void 0, void 0, (function* () { const e = yield this._fetchBytes("0xbc1c58d1"); if (null == e || "0x" === e) return null; const t = e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/); if (t) { const e = parseInt(t[3], 16); if (t[4].length === 2 * e) return "ipfs://" + Gi.encode("0x" + t[1]) } const n = e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/); if (n) { const e = parseInt(n[3], 16); if (n[4].length === 2 * e) return "ipns://" + Gi.encode("0x" + n[1]) } const r = e.match(/^0xe40101fa011b20([0-9a-f]*)$/); if (r && 64 === r[1].length) return "bzz://" + r[1]; const i = e.match(/^0x90b2c605([0-9a-f]*)$/); if (i && 68 === i[1].length) { const e = { "=": "", "+": "-", "/": "_" }; return "sia://" + Mi("0x" + i[1]).replace(/[=+\/]/g, (t => e[t])) } return Po.throwError("invalid or unsupported content hash data", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "getContentHash()", data: e }) })) } getText(e) { return No(this, void 0, void 0, (function* () { let t = er(e); t = (0, Hn.zo)([Fo(64), Fo(t.length), t]), t.length % 32 !== 0 && (t = (0, Hn.zo)([t, (0, Hn.$m)("0x", 32 - e.length % 32)])); const n = yield this._fetchBytes("0x59d1d43c", (0, Hn.Dv)(t)); return null == n || "0x" === n ? null : tr(n) })) } } let Xo = null, Jo = 1; class Qo extends qi { constructor(e) { if (super(), this._events = [], this._emitted = { block: -2 }, this.disableCcipRead = !1, this.formatter = new.target.getFormatter(), kn(this, "anyNetwork", "any" === e), this.anyNetwork && (e = this.detectNetwork()), e instanceof Promise) this._networkPromise = e, e.catch((e => { })), this._ready().catch((e => { })); else { const t = In(new.target, "getNetwork")(e); t ? (kn(this, "_network", t), this.emit("network", t, null)) : Po.throwArgumentError("invalid network", "network", e) } this._maxInternalBlockNumber = -1024, this._lastBlockNumber = -2, this._maxFilterBlockRange = 10, this._pollingInterval = 4e3, this._fastQueryDate = 0 } _ready() { return No(this, void 0, void 0, (function* () { if (null == this._network) { let t = null; if (this._networkPromise) try { t = yield this._networkPromise } catch (e) { } null == t && (t = yield this.detectNetwork()), t || Po.throwError("no network detected", Cn.Yd.errors.UNKNOWN_ERROR, {}), null == this._network && (this.anyNetwork ? this._network = t : kn(this, "_network", t), this.emit("network", t, null)) } return this._network })) } get ready() { return Fi((() => this._ready().then((e => e), (e => { if (e.code !== Cn.Yd.errors.NETWORK_ERROR || "noNetwork" !== e.event) throw e })))) } static getFormatter() { return null == Xo && (Xo = new To), Xo } static getNetwork(e) { return function (e) { if (null == e) return null; if ("number" === typeof e) { for (const t in Co) { const n = Co[t]; if (n.chainId === e) return { name: n.name, chainId: n.chainId, ensAddress: n.ensAddress || null, _defaultProvider: n._defaultProvider || null } } return { chainId: e, name: "unknown" } } if ("string" === typeof e) { const t = Co[e]; return null == t ? null : { name: t.name, chainId: t.chainId, ensAddress: t.ensAddress, _defaultProvider: t._defaultProvider || null } } const t = Co[e.name]; if (!t) return "number" !== typeof e.chainId && bo.throwArgumentError("invalid network chainId", "network", e), e; 0 !== e.chainId && e.chainId !== t.chainId && bo.throwArgumentError("network chainId mismatch", "network", e); let n = e._defaultProvider || null; var r; return null == n && t._defaultProvider && (n = (r = t._defaultProvider) && "function" === typeof r.renetwork ? t._defaultProvider.renetwork(e) : t._defaultProvider), { name: e.name, chainId: t.chainId, ensAddress: e.ensAddress || t.ensAddress || null, _defaultProvider: n } }(null == e ? "homestead" : e) } ccipReadFetch(e, t, n) { return No(this, void 0, void 0, (function* () { if (this.disableCcipRead || 0 === n.length) return null; const r = e.to.toLowerCase(), i = t.toLowerCase(), o = []; for (let e = 0; e < n.length; e++) { const t = n[e], s = t.replace("{sender}", r).replace("{data}", i), a = t.indexOf("{data}") >= 0 ? null : JSON.stringify({ data: i, sender: r }), c = yield Ui({ url: s, errorPassThrough: !0 }, a, ((e, t) => (e.status = t.statusCode, e))); if (c.data) return c.data; const l = c.message || "unknown error"; if (c.status >= 400 && c.status < 500) return Po.throwError(`response not found during CCIP fetch: ${l}`, Cn.Yd.errors.SERVER_ERROR, { url: t, errorMessage: l }); o.push(l) } return Po.throwError(`error encountered during CCIP fetch: ${o.map((e => JSON.stringify(e))).join(", ")}`, Cn.Yd.errors.SERVER_ERROR, { urls: n, errorMessages: o }) })) } _getInternalBlockNumber(e) { return No(this, void 0, void 0, (function* () { if (yield this._ready(), e > 0) for (; this._internalBlockNumber;) { const t = this._internalBlockNumber; try { const n = yield t; if (jo() - n.respTime <= e) return n.blockNumber; break } catch (r) { if (this._internalBlockNumber === t) break } } const t = jo(), n = Tn({ blockNumber: this.perform("getBlockNumber", {}), networkError: this.getNetwork().then((e => null), (e => e)) }).then((({ blockNumber: e, networkError: r }) => { if (r) throw this._internalBlockNumber === n && (this._internalBlockNumber = null), r; const i = jo(); return (e = qn.O$.from(e).toNumber()) < this._maxInternalBlockNumber && (e = this._maxInternalBlockNumber), this._maxInternalBlockNumber = e, this._setFastBlockNumber(e), { blockNumber: e, reqTime: t, respTime: i } })); return this._internalBlockNumber = n, n.catch((e => { this._internalBlockNumber === n && (this._internalBlockNumber = null) })), (yield n).blockNumber })) } poll() { return No(this, void 0, void 0, (function* () { const e = Jo++, t = []; let n = null; try { n = yield this._getInternalBlockNumber(100 + this.pollingInterval / 2) } catch (r) { return void this.emit("error", r) } if (this._setFastBlockNumber(n), this.emit("poll", e, n), n !== this._lastBlockNumber) { if (-2 === this._emitted.block && (this._emitted.block = n - 1), Math.abs(this._emitted.block - n) > 1e3) Po.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`), this.emit("error", Po.makeError("network block skew detected", Cn.Yd.errors.NETWORK_ERROR, { blockNumber: n, event: "blockSkew", previousBlockNumber: this._emitted.block })), this.emit("block", n); else for (let e = this._emitted.block + 1; e <= n; e++)this.emit("block", e); this._emitted.block !== n && (this._emitted.block = n, Object.keys(this._emitted).forEach((e => { if ("block" === e) return; const t = this._emitted[e]; "pending" !== t && n - t > 12 && delete this._emitted[e] }))), -2 === this._lastBlockNumber && (this._lastBlockNumber = n - 1), this._events.forEach((e => { switch (e.type) { case "tx": { const n = e.hash; let r = this.getTransactionReceipt(n).then((e => e && null != e.blockNumber ? (this._emitted["t:" + n] = e.blockNumber, this.emit(n, e), null) : null)).catch((e => { this.emit("error", e) })); t.push(r); break } case "filter": if (!e._inflight) { e._inflight = !0, -2 === e._lastBlockNumber && (e._lastBlockNumber = n - 1); const r = e.filter; r.fromBlock = e._lastBlockNumber + 1, r.toBlock = n; const i = r.toBlock - this._maxFilterBlockRange; i > r.fromBlock && (r.fromBlock = i), r.fromBlock < 0 && (r.fromBlock = 0); const o = this.getLogs(r).then((t => { e._inflight = !1, 0 !== t.length && t.forEach((t => { t.blockNumber > e._lastBlockNumber && (e._lastBlockNumber = t.blockNumber), this._emitted["b:" + t.blockHash] = t.blockNumber, this._emitted["t:" + t.transactionHash] = t.blockNumber, this.emit(r, t) })) })).catch((t => { this.emit("error", t), e._inflight = !1 })); t.push(o) } } })), this._lastBlockNumber = n, Promise.all(t).then((() => { this.emit("didPoll", e) })).catch((e => { this.emit("error", e) })) } else this.emit("didPoll", e) })) } resetEventsBlock(e) { this._lastBlockNumber = e - 1, this.polling && this.poll() } get network() { return this._network } detectNetwork() { return No(this, void 0, void 0, (function* () { return Po.throwError("provider does not support network detection", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "provider.detectNetwork" }) })) } getNetwork() { return No(this, void 0, void 0, (function* () { const e = yield this._ready(), t = yield this.detectNetwork(); if (e.chainId !== t.chainId) { if (this.anyNetwork) return this._network = t, this._lastBlockNumber = -2, this._fastBlockNumber = null, this._fastBlockNumberPromise = null, this._fastQueryDate = 0, this._emitted.block = -2, this._maxInternalBlockNumber = -1024, this._internalBlockNumber = null, this.emit("network", t, e), yield $o(0), this._network; const n = Po.makeError("underlying network changed", Cn.Yd.errors.NETWORK_ERROR, { event: "changed", network: e, detectedNetwork: t }); throw this.emit("error", n), n } return e })) } get blockNumber() { return this._getInternalBlockNumber(100 + this.pollingInterval / 2).then((e => { this._setFastBlockNumber(e) }), (e => { })), null != this._fastBlockNumber ? this._fastBlockNumber : -1 } get polling() { return null != this._poller } set polling(e) { e && !this._poller ? (this._poller = setInterval((() => { this.poll() }), this.pollingInterval), this._bootstrapPoll || (this._bootstrapPoll = setTimeout((() => { this.poll(), this._bootstrapPoll = setTimeout((() => { this._poller || this.poll(), this._bootstrapPoll = null }), this.pollingInterval) }), 0))) : !e && this._poller && (clearInterval(this._poller), this._poller = null) } get pollingInterval() { return this._pollingInterval } set pollingInterval(e) { if ("number" !== typeof e || e <= 0 || parseInt(String(e)) != e) throw new Error("invalid polling interval"); this._pollingInterval = e, this._poller && (clearInterval(this._poller), this._poller = setInterval((() => { this.poll() }), this._pollingInterval)) } _getFastBlockNumber() { const e = jo(); return e - this._fastQueryDate > 2 * this._pollingInterval && (this._fastQueryDate = e, this._fastBlockNumberPromise = this.getBlockNumber().then((e => ((null == this._fastBlockNumber || e > this._fastBlockNumber) && (this._fastBlockNumber = e), this._fastBlockNumber)))), this._fastBlockNumberPromise } _setFastBlockNumber(e) { null != this._fastBlockNumber && e < this._fastBlockNumber || (this._fastQueryDate = jo(), (null == this._fastBlockNumber || e > this._fastBlockNumber) && (this._fastBlockNumber = e, this._fastBlockNumberPromise = Promise.resolve(e))) } waitForTransaction(e, t, n) { return No(this, void 0, void 0, (function* () { return this._waitForTransaction(e, null == t ? 1 : t, n || 0, null) })) } _waitForTransaction(e, t, n, r) { return No(this, void 0, void 0, (function* () { const i = yield this.getTransactionReceipt(e); return (i ? i.confirmations : 0) >= t ? i : new Promise(((i, o) => { const s = []; let a = !1; const c = function () { return !!a || (a = !0, s.forEach((e => { e() })), !1) }, l = e => { e.confirmations < t || c() || i(e) }; if (this.on(e, l), s.push((() => { this.removeListener(e, l) })), r) { let n = r.startBlock, i = null; const l = s => No(this, void 0, void 0, (function* () { a || (yield $o(1e3), this.getTransactionCount(r.from).then((u => No(this, void 0, void 0, (function* () { if (!a) { if (u <= r.nonce) n = s; else { { const t = yield this.getTransaction(e); if (t && null != t.blockNumber) return } for (null == i && (i = n - 3, i < r.startBlock && (i = r.startBlock)); i <= s;) { if (a) return; const n = yield this.getBlockWithTransactions(i); for (let i = 0; i < n.transactions.length; i++) { const s = n.transactions[i]; if (s.hash === e) return; if (s.from === r.from && s.nonce === r.nonce) { if (a) return; const n = yield this.waitForTransaction(s.hash, t); if (c()) return; let i = "replaced"; return s.data === r.data && s.to === r.to && s.value.eq(r.value) ? i = "repriced" : "0x" === s.data && s.from === s.to && s.value.isZero() && (i = "cancelled"), void o(Po.makeError("transaction was replaced", Cn.Yd.errors.TRANSACTION_REPLACED, { cancelled: "replaced" === i || "cancelled" === i, reason: i, replacement: this._wrapTransaction(s), hash: e, receipt: n })) } } i++ } } a || this.once("block", l) } }))), (e => { a || this.once("block", l) }))) })); if (a) return; this.once("block", l), s.push((() => { this.removeListener("block", l) })) } if ("number" === typeof n && n > 0) { const e = setTimeout((() => { c() || o(Po.makeError("timeout exceeded", Cn.Yd.errors.TIMEOUT, { timeout: n })) }), n); e.unref && e.unref(), s.push((() => { clearTimeout(e) })) } })) })) } getBlockNumber() { return No(this, void 0, void 0, (function* () { return this._getInternalBlockNumber(0) })) } getGasPrice() { return No(this, void 0, void 0, (function* () { yield this.getNetwork(); const e = yield this.perform("getGasPrice", {}); try { return qn.O$.from(e) } catch (t) { return Po.throwError("bad result from backend", Cn.Yd.errors.SERVER_ERROR, { method: "getGasPrice", result: e, error: t }) } })) } getBalance(e, t) { return No(this, void 0, void 0, (function* () { yield this.getNetwork(); const n = yield Tn({ address: this._getAddress(e), blockTag: this._getBlockTag(t) }), r = yield this.perform("getBalance", n); try { return qn.O$.from(r) } catch (i) { return Po.throwError("bad result from backend", Cn.Yd.errors.SERVER_ERROR, { method: "getBalance", params: n, result: r, error: i }) } })) } getTransactionCount(e, t) { return No(this, void 0, void 0, (function* () { yield this.getNetwork(); const n = yield Tn({ address: this._getAddress(e), blockTag: this._getBlockTag(t) }), r = yield this.perform("getTransactionCount", n); try { return qn.O$.from(r).toNumber() } catch (i) { return Po.throwError("bad result from backend", Cn.Yd.errors.SERVER_ERROR, { method: "getTransactionCount", params: n, result: r, error: i }) } })) } getCode(e, t) { return No(this, void 0, void 0, (function* () { yield this.getNetwork(); const n = yield Tn({ address: this._getAddress(e), blockTag: this._getBlockTag(t) }), r = yield this.perform("getCode", n); try { return (0, Hn.Dv)(r) } catch (i) { return Po.throwError("bad result from backend", Cn.Yd.errors.SERVER_ERROR, { method: "getCode", params: n, result: r, error: i }) } })) } getStorageAt(e, t, n) { return No(this, void 0, void 0, (function* () { yield this.getNetwork(); const r = yield Tn({ address: this._getAddress(e), blockTag: this._getBlockTag(n), position: Promise.resolve(t).then((e => (0, Hn.$P)(e))) }), i = yield this.perform("getStorageAt", r); try { return (0, Hn.Dv)(i) } catch (o) { return Po.throwError("bad result from backend", Cn.Yd.errors.SERVER_ERROR, { method: "getStorageAt", params: r, result: i, error: o }) } })) } _wrapTransaction(e, t, n) { if (null != t && 32 !== (0, Hn.E1)(t)) throw new Error("invalid response - sendTransaction"); const r = e; return null != t && e.hash !== t && Po.throwError("Transaction hash mismatch from Provider.sendTransaction.", Cn.Yd.errors.UNKNOWN_ERROR, { expectedHash: e.hash, returnedHash: t }), r.wait = (t, r) => No(this, void 0, void 0, (function* () { let i; null == t && (t = 1), null == r && (r = 0), 0 !== t && null != n && (i = { data: e.data, from: e.from, nonce: e.nonce, to: e.to, value: e.value, startBlock: n }); const o = yield this._waitForTransaction(e.hash, t, r, i); return null == o && 0 === t ? null : (this._emitted["t:" + e.hash] = o.blockNumber, 0 === o.status && Po.throwError("transaction failed", Cn.Yd.errors.CALL_EXCEPTION, { transactionHash: e.hash, transaction: e, receipt: o }), o) })), r } sendTransaction(e) { return No(this, void 0, void 0, (function* () { yield this.getNetwork(); const t = yield Promise.resolve(e).then((e => (0, Hn.Dv)(e))), n = this.formatter.transaction(e); null == n.confirmations && (n.confirmations = 0); const r = yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval); try { const e = yield this.perform("sendTransaction", { signedTransaction: t }); return this._wrapTransaction(n, e, r) } catch (i) { throw i.transaction = n, i.transactionHash = n.hash, i } })) } _getTransactionRequest(e) { return No(this, void 0, void 0, (function* () { const t = yield e, n = {}; return ["from", "to"].forEach((e => { null != t[e] && (n[e] = Promise.resolve(t[e]).then((e => e ? this._getAddress(e) : null))) })), ["gasLimit", "gasPrice", "maxFeePerGas", "maxPriorityFeePerGas", "value"].forEach((e => { null != t[e] && (n[e] = Promise.resolve(t[e]).then((e => e ? qn.O$.from(e) : null))) })), ["type"].forEach((e => { null != t[e] && (n[e] = Promise.resolve(t[e]).then((e => null != e ? e : null))) })), t.accessList && (n.accessList = this.formatter.accessList(t.accessList)), ["data"].forEach((e => { null != t[e] && (n[e] = Promise.resolve(t[e]).then((e => e ? (0, Hn.Dv)(e) : null))) })), this.formatter.transactionRequest(yield Tn(n)) })) } _getFilter(e) { return No(this, void 0, void 0, (function* () { e = yield e; const t = {}; return null != e.address && (t.address = this._getAddress(e.address)), ["blockHash", "topics"].forEach((n => { null != e[n] && (t[n] = e[n]) })), ["fromBlock", "toBlock"].forEach((n => { null != e[n] && (t[n] = this._getBlockTag(e[n])) })), this.formatter.filter(yield Tn(t)) })) } _call(e, t, n) { return No(this, void 0, void 0, (function* () { n >= 10 && Po.throwError("CCIP read exceeded maximum redirections", Cn.Yd.errors.SERVER_ERROR, { redirects: n, transaction: e }); const r = e.to, i = yield this.perform("call", { transaction: e, blockTag: t }); if (n >= 0 && "latest" === t && null != r && "0x556f1830" === i.substring(0, 10) && (0, Hn.E1)(i) % 32 === 4) try { const o = (0, Hn.p3)(i, 4), s = (0, Hn.p3)(o, 0, 32); qn.O$.from(s).eq(r) || Po.throwError("CCIP Read sender did not match", Cn.Yd.errors.CALL_EXCEPTION, { name: "OffchainLookup", signature: "OffchainLookup(address,string[],bytes,bytes4,bytes)", transaction: e, data: i }); const a = [], c = qn.O$.from((0, Hn.p3)(o, 32, 64)).toNumber(), l = qn.O$.from((0, Hn.p3)(o, c, c + 32)).toNumber(), u = (0, Hn.p3)(o, c + 32); for (let t = 0; t < l; t++) { const n = qo(u, 32 * t); null == n && Po.throwError("CCIP Read contained corrupt URL string", Cn.Yd.errors.CALL_EXCEPTION, { name: "OffchainLookup", signature: "OffchainLookup(address,string[],bytes,bytes4,bytes)", transaction: e, data: i }), a.push(n) } const d = Ho(o, 64); qn.O$.from((0, Hn.p3)(o, 100, 128)).isZero() || Po.throwError("CCIP Read callback selector included junk", Cn.Yd.errors.CALL_EXCEPTION, { name: "OffchainLookup", signature: "OffchainLookup(address,string[],bytes,bytes4,bytes)", transaction: e, data: i }); const h = (0, Hn.p3)(o, 96, 100), f = Ho(o, 128), p = yield this.ccipReadFetch(e, d, a); null == p && Po.throwError("CCIP Read disabled or provided no URLs", Cn.Yd.errors.CALL_EXCEPTION, { name: "OffchainLookup", signature: "OffchainLookup(address,string[],bytes,bytes4,bytes)", transaction: e, data: i }); const m = { to: r, data: (0, Hn.xs)([h, Yo([p, f])]) }; return this._call(m, t, n + 1) } catch (o) { if (o.code === Cn.Yd.errors.SERVER_ERROR) throw o } try { return (0, Hn.Dv)(i) } catch (o) { return Po.throwError("bad result from backend", Cn.Yd.errors.SERVER_ERROR, { method: "call", params: { transaction: e, blockTag: t }, result: i, error: o }) } })) } call(e, t) { return No(this, void 0, void 0, (function* () { yield this.getNetwork(); const n = yield Tn({ transaction: this._getTransactionRequest(e), blockTag: this._getBlockTag(t), ccipReadEnabled: Promise.resolve(e.ccipReadEnabled) }); return this._call(n.transaction, n.blockTag, n.ccipReadEnabled ? 0 : -1) })) } estimateGas(e) { return No(this, void 0, void 0, (function* () { yield this.getNetwork(); const t = yield Tn({ transaction: this._getTransactionRequest(e) }), n = yield this.perform("estimateGas", t); try { return qn.O$.from(n) } catch (r) { return Po.throwError("bad result from backend", Cn.Yd.errors.SERVER_ERROR, { method: "estimateGas", params: t, result: n, error: r }) } })) } _getAddress(e) { return No(this, void 0, void 0, (function* () { "string" !== typeof (e = yield e) && Po.throwArgumentError("invalid address or ENS name", "name", e); const t = yield this.resolveName(e); return null == t && Po.throwError("ENS name not configured", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: `resolveName(${JSON.stringify(e)})` }), t })) } _getBlock(e, t) { return No(this, void 0, void 0, (function* () { yield this.getNetwork(), e = yield e; let n = -128; const r = { includeTransactions: !!t }; if ((0, Hn.A7)(e, 32)) r.blockHash = e; else try { r.blockTag = yield this._getBlockTag(e), (0, Hn.A7)(r.blockTag) && (n = parseInt(r.blockTag.substring(2), 16)) } catch (i) { Po.throwArgumentError("invalid block hash or block tag", "blockHashOrBlockTag", e) } return Fi((() => No(this, void 0, void 0, (function* () { const e = yield this.perform("getBlock", r); if (null == e) return null != r.blockHash && null == this._emitted["b:" + r.blockHash] || null != r.blockTag && n > this._emitted.block ? null : void 0; if (t) { let t = null; for (let r = 0; r < e.transactions.length; r++) { const n = e.transactions[r]; if (null == n.blockNumber) n.confirmations = 0; else if (null == n.confirmations) { null == t && (t = yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval)); let e = t - n.blockNumber + 1; e <= 0 && (e = 1), n.confirmations = e } } const n = this.formatter.blockWithTransactions(e); return n.transactions = n.transactions.map((e => this._wrapTransaction(e))), n } return this.formatter.block(e) }))), { oncePoll: this }) })) } getBlock(e) { return this._getBlock(e, !1) } getBlockWithTransactions(e) { return this._getBlock(e, !0) } getTransaction(e) { return No(this, void 0, void 0, (function* () { yield this.getNetwork(), e = yield e; const t = { transactionHash: this.formatter.hash(e, !0) }; return Fi((() => No(this, void 0, void 0, (function* () { const n = yield this.perform("getTransaction", t); if (null == n) return null == this._emitted["t:" + e] ? null : void 0; const r = this.formatter.transactionResponse(n); if (null == r.blockNumber) r.confirmations = 0; else if (null == r.confirmations) { let e = (yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval)) - r.blockNumber + 1; e <= 0 && (e = 1), r.confirmations = e } return this._wrapTransaction(r) }))), { oncePoll: this }) })) } getTransactionReceipt(e) { return No(this, void 0, void 0, (function* () { yield this.getNetwork(), e = yield e; const t = { transactionHash: this.formatter.hash(e, !0) }; return Fi((() => No(this, void 0, void 0, (function* () { const n = yield this.perform("getTransactionReceipt", t); if (null == n) return null == this._emitted["t:" + e] ? null : void 0; if (null == n.blockHash) return; const r = this.formatter.receipt(n); if (null == r.blockNumber) r.confirmations = 0; else if (null == r.confirmations) { let e = (yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval)) - r.blockNumber + 1; e <= 0 && (e = 1), r.confirmations = e } return r }))), { oncePoll: this }) })) } getLogs(e) { return No(this, void 0, void 0, (function* () { yield this.getNetwork(); const t = yield Tn({ filter: this._getFilter(e) }), n = yield this.perform("getLogs", t); return n.forEach((e => { null == e.removed && (e.removed = !1) })), To.arrayOf(this.formatter.filterLog.bind(this.formatter))(n) })) } getEtherPrice() { return No(this, void 0, void 0, (function* () { return yield this.getNetwork(), this.perform("getEtherPrice", {}) })) } _getBlockTag(e) { return No(this, void 0, void 0, (function* () { if ("number" === typeof (e = yield e) && e < 0) { e % 1 && Po.throwArgumentError("invalid BlockTag", "blockTag", e); let t = yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval); return t += e, t < 0 && (t = 0), this.formatter.blockTag(t) } return this.formatter.blockTag(e) })) } getResolver(e) { return No(this, void 0, void 0, (function* () { let t = e; for (; ;) { if ("" === t || "." === t) return null; if ("eth" !== e && "eth" === t) return null; const n = yield this._getResolver(t, "getResolver"); if (null != n) { const r = new Zo(this, n, e); return t === e || (yield r.supportsWildcard()) ? r : null } t = t.split(".").slice(1).join(".") } })) } _getResolver(e, t) { return No(this, void 0, void 0, (function* () { null == t && (t = "ENS"); const n = yield this.getNetwork(); n.ensAddress || Po.throwError("network does not support ENS", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: t, network: n.name }); try { const t = yield this.call({ to: n.ensAddress, data: "0x0178b8bf" + yo(e).substring(2) }); return this.formatter.callAddress(t) } catch (r) { } return null })) } resolveName(e) { return No(this, void 0, void 0, (function* () { e = yield e; try { return Promise.resolve(this.formatter.address(e)) } catch (n) { if ((0, Hn.A7)(e)) throw n } "string" !== typeof e && Po.throwArgumentError("invalid ENS name", "name", e); const t = yield this.getResolver(e); return t ? yield t.getAddress() : null })) } lookupAddress(e) { return No(this, void 0, void 0, (function* () { e = yield e; const t = (e = this.formatter.address(e)).substring(2).toLowerCase() + ".addr.reverse", n = yield this._getResolver(t, "lookupAddress"); if (null == n) return null; const r = qo(yield this.call({ to: n, data: "0x691f3431" + yo(t).substring(2) }), 0); return (yield this.resolveName(r)) != e ? null : r })) } getAvatar(e) { return No(this, void 0, void 0, (function* () { let t = null; if ((0, Hn.A7)(e)) { const n = this.formatter.address(e).substring(2).toLowerCase() + ".addr.reverse", i = yield this._getResolver(n, "getAvatar"); if (!i) return null; t = new Zo(this, i, n); try { const e = yield t.getAvatar(); if (e) return e.url } catch (r) { if (r.code !== Cn.Yd.errors.CALL_EXCEPTION) throw r } try { const e = qo(yield this.call({ to: i, data: "0x691f3431" + yo(n).substring(2) }), 0); t = yield this.getResolver(e) } catch (r) { if (r.code !== Cn.Yd.errors.CALL_EXCEPTION) throw r; return null } } else if (t = yield this.getResolver(e), !t) return null; const n = yield t.getAvatar(); return null == n ? null : n.url })) } perform(e, t) { return Po.throwError(e + " not implemented", Cn.Yd.errors.NOT_IMPLEMENTED, { operation: e }) } _startEvent(e) { this.polling = this._events.filter((e => e.pollable())).length > 0 } _stopEvent(e) { this.polling = this._events.filter((e => e.pollable())).length > 0 } _addEventListener(e, t, n) { const r = new Do(Ro(e), t, n); return this._events.push(r), this._startEvent(r), this } on(e, t) { return this._addEventListener(e, t, !1) } once(e, t) { return this._addEventListener(e, t, !0) } emit(e, ...t) { let n = !1, r = [], i = Ro(e); return this._events = this._events.filter((e => e.tag !== i || (setTimeout((() => { e.listener.apply(this, t) }), 0), n = !0, !e.once || (r.push(e), !1)))), r.forEach((e => { this._stopEvent(e) })), n } listenerCount(e) { if (!e) return this._events.length; let t = Ro(e); return this._events.filter((e => e.tag === t)).length } listeners(e) { if (null == e) return this._events.map((e => e.listener)); let t = Ro(e); return this._events.filter((e => e.tag === t)).map((e => e.listener)) } off(e, t) { if (null == t) return this.removeAllListeners(e); const n = []; let r = !1, i = Ro(e); return this._events = this._events.filter((e => e.tag !== i || e.listener != t || (!!r || (r = !0, n.push(e), !1)))), n.forEach((e => { this._stopEvent(e) })), this } removeAllListeners(e) { let t = []; if (null == e) t = this._events, this._events = []; else { const n = Ro(e); this._events = this._events.filter((e => e.tag !== n || (t.push(e), !1))) } return t.forEach((e => { this._stopEvent(e) })), this } } var es = function (e, t, n, r) { return new (n || (n = Promise))((function (i, o) { function s(e) { try { c(r.next(e)) } catch (t0) { o(t0) } } function a(e) { try { c(r.throw(e)) } catch (t0) { o(t0) } } function c(e) { var t; e.done ? i(e.value) : (t = e.value, t instanceof n ? t : new n((function (e) { e(t) }))).then(s, a) } c((r = r.apply(e, t || [])).next()) })) }; const ts = new Cn.Yd(Ln), ns = ["call", "estimateGas"]; function rs(e, t) { if (null == e) return null; if ("string" === typeof e.message && e.message.match("reverted")) { const n = (0, Hn.A7)(e.data) ? e.data : null; if (!t || n) return { message: e.message, data: n } } if ("object" === typeof e) { for (const n in e) { const r = rs(e[n], t); if (r) return r } return null } if ("string" === typeof e) try { return rs(JSON.parse(e), t) } catch (n) { } return null } function is(e, t, n) { const r = n.transaction || n.signedTransaction; if ("call" === e) { const e = rs(t, !0); if (e) return e.data; ts.throwError("missing revert data in call exception; Transaction reverted without a reason string", Cn.Yd.errors.CALL_EXCEPTION, { data: "0x", transaction: r, error: t }) } if ("estimateGas" === e) { let n = rs(t.body, !1); null == n && (n = rs(t, !1)), n && ts.throwError("cannot estimate gas; transaction may fail or may require manual gas limit", Cn.Yd.errors.UNPREDICTABLE_GAS_LIMIT, { reason: n.message, method: e, transaction: r, error: t }) } let i = t.message; throw t.code === Cn.Yd.errors.SERVER_ERROR && t.error && "string" === typeof t.error.message ? i = t.error.message : "string" === typeof t.body ? i = t.body : "string" === typeof t.responseText && (i = t.responseText), i = (i || "").toLowerCase(), i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i) && ts.throwError("insufficient funds for intrinsic transaction cost", Cn.Yd.errors.INSUFFICIENT_FUNDS, { error: t, method: e, transaction: r }), i.match(/nonce (is )?too low/i) && ts.throwError("nonce has already been used", Cn.Yd.errors.NONCE_EXPIRED, { error: t, method: e, transaction: r }), i.match(/replacement transaction underpriced|transaction gas price.*too low/i) && ts.throwError("replacement fee too low", Cn.Yd.errors.REPLACEMENT_UNDERPRICED, { error: t, method: e, transaction: r }), i.match(/only replay-protected/i) && ts.throwError("legacy pre-eip-155 transactions not supported", Cn.Yd.errors.UNSUPPORTED_OPERATION, { error: t, method: e, transaction: r }), ns.indexOf(e) >= 0 && i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/) && ts.throwError("cannot estimate gas; transaction may fail or may require manual gas limit", Cn.Yd.errors.UNPREDICTABLE_GAS_LIMIT, { error: t, method: e, transaction: r }), t } function os(e) { return new Promise((function (t) { setTimeout(t, e) })) } function ss(e) { if (e.error) { const t = new Error(e.error.message); throw t.code = e.error.code, t.data = e.error.data, t } return e.result } function as(e) { return e ? e.toLowerCase() : e } const cs = {}; class ls extends Wn { constructor(e, t, n) { if (super(), e !== cs) throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner"); kn(this, "provider", t), null == n && (n = 0), "string" === typeof n ? (kn(this, "_address", this.provider.formatter.address(n)), kn(this, "_index", null)) : "number" === typeof n ? (kn(this, "_index", n), kn(this, "_address", null)) : ts.throwArgumentError("invalid address or index", "addressOrIndex", n) } connect(e) { return ts.throwError("cannot alter JSON-RPC Signer connection", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "connect" }) } connectUnchecked() { return new us(cs, this.provider, this._address || this._index) } getAddress() { return this._address ? Promise.resolve(this._address) : this.provider.send("eth_accounts", []).then((e => (e.length <= this._index && ts.throwError("unknown account #" + this._index, Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "getAddress" }), this.provider.formatter.address(e[this._index])))) } sendUncheckedTransaction(e) { e = Pn(e); const t = this.getAddress().then((e => (e && (e = e.toLowerCase()), e))); if (null == e.gasLimit) { const n = Pn(e); n.from = t, e.gasLimit = this.provider.estimateGas(n) } return null != e.to && (e.to = Promise.resolve(e.to).then((e => es(this, void 0, void 0, (function* () { if (null == e) return null; const t = yield this.provider.resolveName(e); return null == t && ts.throwArgumentError("provided ENS name resolves to null", "tx.to", e), t }))))), Tn({ tx: Tn(e), sender: t }).then((({ tx: t, sender: n }) => { null != t.from ? t.from.toLowerCase() !== n && ts.throwArgumentError("from address mismatch", "transaction", e) : t.from = n; const r = this.provider.constructor.hexlifyTransaction(t, { from: !0 }); return this.provider.send("eth_sendTransaction", [r]).then((e => e), (e => ("string" === typeof e.message && e.message.match(/user denied/i) && ts.throwError("user rejected transaction", Cn.Yd.errors.ACTION_REJECTED, { action: "sendTransaction", transaction: t }), is("sendTransaction", e, r)))) })) } signTransaction(e) { return ts.throwError("signing transactions is unsupported", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "signTransaction" }) } sendTransaction(e) { return es(this, void 0, void 0, (function* () { const t = yield this.provider._getInternalBlockNumber(100 + 2 * this.provider.pollingInterval), n = yield this.sendUncheckedTransaction(e); try { return yield Fi((() => es(this, void 0, void 0, (function* () { const e = yield this.provider.getTransaction(n); if (null !== e) return this.provider._wrapTransaction(e, n, t) }))), { oncePoll: this.provider }) } catch (r) { throw r.transactionHash = n, r } })) } signMessage(e) { return es(this, void 0, void 0, (function* () { const t = "string" === typeof e ? er(e) : e, n = yield this.getAddress(); try { return yield this.provider.send("personal_sign", [(0, Hn.Dv)(t), n.toLowerCase()]) } catch (r) { throw "string" === typeof r.message && r.message.match(/user denied/i) && ts.throwError("user rejected signing", Cn.Yd.errors.ACTION_REJECTED, { action: "signMessage", from: n, messageData: e }), r } })) } _legacySignMessage(e) { return es(this, void 0, void 0, (function* () { const t = "string" === typeof e ? er(e) : e, n = yield this.getAddress(); try { return yield this.provider.send("eth_sign", [n.toLowerCase(), (0, Hn.Dv)(t)]) } catch (r) { throw "string" === typeof r.message && r.message.match(/user denied/i) && ts.throwError("user rejected signing", Cn.Yd.errors.ACTION_REJECTED, { action: "_legacySignMessage", from: n, messageData: e }), r } })) } _signTypedData(e, t, n) { return es(this, void 0, void 0, (function* () { const r = yield br.resolveNames(e, t, n, (e => this.provider.resolveName(e))), i = yield this.getAddress(); try { return yield this.provider.send("eth_signTypedData_v4", [i.toLowerCase(), JSON.stringify(br.getPayload(r.domain, t, r.value))]) } catch (o) { throw "string" === typeof o.message && o.message.match(/user denied/i) && ts.throwError("user rejected signing", Cn.Yd.errors.ACTION_REJECTED, { action: "_signTypedData", from: i, messageData: { domain: r.domain, types: t, value: r.value } }), o } })) } unlock(e) { return es(this, void 0, void 0, (function* () { const t = this.provider, n = yield this.getAddress(); return t.send("personal_unlockAccount", [n.toLowerCase(), e, null]) })) } } class us extends ls { sendTransaction(e) { return this.sendUncheckedTransaction(e).then((e => ({ hash: e, nonce: null, gasLimit: null, gasPrice: null, data: null, value: null, chainId: null, confirmations: 0, from: null, wait: t => this.provider.waitForTransaction(e, t) }))) } } const ds = { chainId: !0, data: !0, gasLimit: !0, gasPrice: !0, nonce: !0, to: !0, value: !0, type: !0, accessList: !0, maxFeePerGas: !0, maxPriorityFeePerGas: !0 }; class hs extends Qo { constructor(e, t) { let n = t; null == n && (n = new Promise(((e, t) => { setTimeout((() => { this.detectNetwork().then((t => { e(t) }), (e => { t(e) })) }), 0) }))), super(n), e || (e = In(this.constructor, "defaultUrl")()), kn(this, "connection", "string" === typeof e ? Object.freeze({ url: e }) : Object.freeze(Pn(e))), this._nextId = 42 } get _cache() { return null == this._eventLoopCache && (this._eventLoopCache = {}), this._eventLoopCache } static defaultUrl() { return "http://localhost:8545" } detectNetwork() { return this._cache.detectNetwork || (this._cache.detectNetwork = this._uncachedDetectNetwork(), setTimeout((() => { this._cache.detectNetwork = null }), 0)), this._cache.detectNetwork } _uncachedDetectNetwork() { return es(this, void 0, void 0, (function* () { yield os(0); let e = null; try { e = yield this.send("eth_chainId", []) } catch (t) { try { e = yield this.send("net_version", []) } catch (t) { } } if (null != e) { const n = In(this.constructor, "getNetwork"); try { return n(qn.O$.from(e).toNumber()) } catch (t) { return ts.throwError("could not detect network", Cn.Yd.errors.NETWORK_ERROR, { chainId: e, event: "invalidNetwork", serverError: t }) } } return ts.throwError("could not detect network", Cn.Yd.errors.NETWORK_ERROR, { event: "noNetwork" }) })) } getSigner(e) { return new ls(cs, this, e) } getUncheckedSigner(e) { return this.getSigner(e).connectUnchecked() } listAccounts() { return this.send("eth_accounts", []).then((e => e.map((e => this.formatter.address(e))))) } send(e, t) { const n = { method: e, params: t, id: this._nextId++, jsonrpc: "2.0" }; this.emit("debug", { action: "request", request: jn(n), provider: this }); const r = ["eth_chainId", "eth_blockNumber"].indexOf(e) >= 0; if (r && this._cache[e]) return this._cache[e]; const i = Ui(this.connection, JSON.stringify(n), ss).then((e => (this.emit("debug", { action: "response", request: n, response: e, provider: this }), e)), (e => { throw this.emit("debug", { action: "response", error: e, request: n, provider: this }), e })); return r && (this._cache[e] = i, setTimeout((() => { this._cache[e] = null }), 0)), i } prepareRequest(e, t) { switch (e) { case "getBlockNumber": return ["eth_blockNumber", []]; case "getGasPrice": return ["eth_gasPrice", []]; case "getBalance": return ["eth_getBalance", [as(t.address), t.blockTag]]; case "getTransactionCount": return ["eth_getTransactionCount", [as(t.address), t.blockTag]]; case "getCode": return ["eth_getCode", [as(t.address), t.blockTag]]; case "getStorageAt": return ["eth_getStorageAt", [as(t.address), (0, Hn.$m)(t.position, 32), t.blockTag]]; case "sendTransaction": return ["eth_sendRawTransaction", [t.signedTransaction]]; case "getBlock": return t.blockTag ? ["eth_getBlockByNumber", [t.blockTag, !!t.includeTransactions]] : t.blockHash ? ["eth_getBlockByHash", [t.blockHash, !!t.includeTransactions]] : null; case "getTransaction": return ["eth_getTransactionByHash", [t.transactionHash]]; case "getTransactionReceipt": return ["eth_getTransactionReceipt", [t.transactionHash]]; case "call": return ["eth_call", [In(this.constructor, "hexlifyTransaction")(t.transaction, { from: !0 }), t.blockTag]]; case "estimateGas": return ["eth_estimateGas", [In(this.constructor, "hexlifyTransaction")(t.transaction, { from: !0 })]]; case "getLogs": return t.filter && null != t.filter.address && (t.filter.address = as(t.filter.address)), ["eth_getLogs", [t.filter]] }return null } perform(e, t) { return es(this, void 0, void 0, (function* () { if ("call" === e || "estimateGas" === e) { const e = t.transaction; if (e && null != e.type && qn.O$.from(e.type).isZero() && null == e.maxFeePerGas && null == e.maxPriorityFeePerGas) { const n = yield this.getFeeData(); null == n.maxFeePerGas && null == n.maxPriorityFeePerGas && ((t = Pn(t)).transaction = Pn(e), delete t.transaction.type) } } const n = this.prepareRequest(e, t); null == n && ts.throwError(e + " not implemented", Cn.Yd.errors.NOT_IMPLEMENTED, { operation: e }); try { return yield this.send(n[0], n[1]) } catch (r) { return is(e, r, t) } })) } _startEvent(e) { "pending" === e.tag && this._startPending(), super._startEvent(e) } _startPending() { if (null != this._pendingFilter) return; const e = this, t = this.send("eth_newPendingTransactionFilter", []); this._pendingFilter = t, t.then((function (n) { return function r() { e.send("eth_getFilterChanges", [n]).then((function (n) { if (e._pendingFilter != t) return null; let r = Promise.resolve(); return n.forEach((function (t) { e._emitted["t:" + t.toLowerCase()] = "pending", r = r.then((function () { return e.getTransaction(t).then((function (t) { return e.emit("pending", t), null })) })) })), r.then((function () { return os(1e3) })) })).then((function () { if (e._pendingFilter == t) return setTimeout((function () { r() }), 0), null; e.send("eth_uninstallFilter", [n]) })).catch((e => { })) }(), n })).catch((e => { })) } _stopEvent(e) { "pending" === e.tag && 0 === this.listenerCount("pending") && (this._pendingFilter = null), super._stopEvent(e) } static hexlifyTransaction(e, t) { const n = Pn(ds); if (t) for (const i in t) t[i] && (n[i] = !0); Nn(e, n); const r = {}; return ["chainId", "gasLimit", "gasPrice", "type", "maxFeePerGas", "maxPriorityFeePerGas", "nonce", "value"].forEach((function (t) { if (null == e[t]) return; const n = (0, Hn.$P)(qn.O$.from(e[t])); "gasLimit" === t && (t = "gas"), r[t] = n })), ["from", "to", "data"].forEach((function (t) { null != e[t] && (r[t] = (0, Hn.Dv)(e[t])) })), e.accessList && (r.accessList = Ci(e.accessList)), r } } const fs = new Cn.Yd(Ln); let ps = 1; function ms(e, t) { const n = "Web3LegacyFetcher"; return function (e, r) { const i = { method: e, params: r, id: ps++, jsonrpc: "2.0" }; return new Promise(((e, r) => { this.emit("debug", { action: "request", fetcher: n, request: jn(i), provider: this }), t(i, ((t, o) => { if (t) return this.emit("debug", { action: "response", fetcher: n, error: t, request: i, provider: this }), r(t); if (this.emit("debug", { action: "response", fetcher: n, request: i, response: o, provider: this }), o.error) { const e = new Error(o.error.message); return e.code = o.error.code, e.data = o.error.data, r(e) } e(o.result) })) })) } } class gs extends hs { constructor(e, t) { null == e && fs.throwArgumentError("missing provider", "provider", e); let n = null, r = null, i = null; "function" === typeof e ? (n = "unknown:", r = e) : (n = e.host || e.path || "", !n && e.isMetaMask && (n = "metamask"), i = e, e.request ? ("" === n && (n = "eip-1193:"), r = function (e) { return function (t, n) { null == n && (n = []); const r = { method: t, params: n }; return this.emit("debug", { action: "request", fetcher: "Eip1193Fetcher", request: jn(r), provider: this }), e.request(r).then((e => (this.emit("debug", { action: "response", fetcher: "Eip1193Fetcher", request: r, response: e, provider: this }), e)), (e => { throw this.emit("debug", { action: "response", fetcher: "Eip1193Fetcher", request: r, error: e, provider: this }), e })) } }(e)) : e.sendAsync ? r = ms(0, e.sendAsync.bind(e)) : e.send ? r = ms(0, e.send.bind(e)) : fs.throwArgumentError("unsupported provider", "provider", e), n || (n = "unknown:")), super(n, t), kn(this, "jsonRpcFetchFunc", r), kn(this, "provider", i) } send(e, t) { return this.jsonRpcFetchFunc(e, t) } } var ys = n(85518), bs = n(62463); const vs = "/api/v1/sessions", ws = "/api/v1/sessions/logout", Es = "/api/v1/sessions/fork/recover", xs = "/api/v1/oauth/init", _s = "/api/v1/oauth/authenticate", Cs = "/api/v1/oauth/link", As = "/api/v1/analytics_events"; class Ss { async authenticate() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); try { return await this.api.post("/api/v1/custom_jwt_account/authenticate", { token: this.meta.token }) } catch (e) { throw (0, bs.wh)(e) } } async link() { throw Error("Unimplemented") } constructor(e) { this.meta = { token: e } } } function ks(e) { return e ? { "privy-ui": "t" } : void 0 } class Is { async authenticate() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); if (!this.meta.email || !this.meta.emailCode) throw new bs.dx("Email and email code must be set prior to calling authenticate."); try { return await this.api.post("/api/v1/passwordless/authenticate", { email: this.meta.email, code: this.meta.emailCode, mode: this.meta.disableSignup ? "no-signup" : "login-or-sign-up" }) } catch (e) { throw (0, bs.wh)(e) } } async link() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); if (!this.meta.email || !this.meta.emailCode) throw new bs.dx("Email and email code must be set prior to calling authenticate."); try { return await this.api.post("/api/v1/passwordless/link", { email: this.meta.email, code: this.meta.emailCode }) } catch (e) { throw (0, bs.wh)(e) } } async sendCodeEmail({ email: e, captchaToken: t, withPrivyUi: n }) { if (!this.api) throw new bs.dx("Auth flow has no API instance"); if (e && (this.meta.email = e), t && (this.meta.captchaToken = t), !this.meta.email) throw new bs.dx("Email must be set when initialzing authentication."); let r = ks(n); try { return await this.api.post("/api/v1/passwordless/init", { email: this.meta.email, token: this.meta.captchaToken }, { headers: { ...r } }) } catch (i) { throw (0, bs.wh)(i) } } constructor({ email: e, captchaToken: t, disableSignup: n }) { this.meta = { email: e, captchaToken: t, disableSignup: n ?? !1 } } } class Ts extends Is { async link() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); if (!this.meta.email || !this.meta.emailCode || !this.meta.oldAddress) throw new bs.dx("Email, email code, and an old email address must be set prior to calling update."); try { return await this.api.post("/api/v1/passwordless/update", { oldAddress: this.meta.oldAddress, newAddress: this.meta.email, code: this.meta.emailCode }) } catch (e) { throw (0, bs.wh)(e) } } constructor(e, t, n) { super({ email: t, captchaToken: n }), this.meta = { email: t, captchaToken: n, oldAddress: e, disableSignup: !1 } } } const Ns = e => { let t; try { t = new URL(e).hostname } catch (e) { return } for (let [n, r] of Object.entries(Ps)) if (t.includes(r.hostname)) return { walletClientType: n, entry: r } }, Ps = { metamask: { id: "c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96", displayName: "MetaMask", hostname: "metamask.io", mobile: { native: "metamask://", universal: "https://metamask.app.link" } }, trust: { id: "4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0", displayName: "Trust", hostname: "trustwallet.com", mobile: { universal: "https://link.trustwallet.com" } }, safe: { id: "225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f", displayName: "Safe", hostname: "safe.global", mobile: { universal: "https://app.safe.global/" } }, rainbow: { id: "1ae92b26df02f0abca6304df07debccd18262fdf5fe82daa81593582dac9a369", displayName: "Rainbow", hostname: "rainbow.me", mobile: { native: "rainbow://", universal: "https://rnbwapp.com" } }, uniswap: { id: "c03dfee351b6fcc421b4494ea33b9d4b92a984f87aa76d1663bb28705e95034a", displayName: "Uniswap", hostname: "uniswap.org", mobile: { universal: "https://uniswap.org/app", native: "uniswap://" } }, zerion: { id: "ecc4036f814562b41a5268adc86270fba1365471402006302e70169465b7ac18", displayName: "Zerion", hostname: "zerion.io", mobile: { native: "zerion://", universal: "https://wallet.zerion.io" } }, argent: { id: "bc949c5d968ae81310268bf9193f9c9fb7bb4e1283e1284af8f2bd4992535fd6", displayName: "Argent", hostname: "www.argent.xyz", mobile: { universal: "https://www.argent.xyz/app" } }, spot: { id: "74f8092562bd79675e276d8b2062a83601a4106d30202f2d509195e30e19673d", displayName: "Spot", hostname: "www.spot-wallet.com", mobile: { universal: "https://spot.so" } }, omni: { id: "afbd95522f4041c71dd4f1a065f971fd32372865b416f95a0b1db759ae33f2a7", displayName: "Omni", hostname: "omni.app", mobile: { universal: "https://links.omni.app" } }, cryptocom: { id: "f2436c67184f158d1beda5df53298ee84abfc367581e4505134b5bcf5f46697d", displayName: "Crypto.com", hostname: "crypto.com", mobile: { universal: "https://wallet.crypto.com", native: "dfw://" } }, blockchain: { id: "84b43e8ddfcd18e5fcb5d21e7277733f9cccef76f7d92c836d0e481db0c70c04", displayName: "Blockchain", hostname: "www.blockchain.com", mobile: { universal: "https://www.blockchain.com" } }, safepal: { id: "0b415a746fb9ee99cce155c2ceca0c6f6061b1dbca2d722b3ba16381d0562150", displayName: "SafePal", hostname: "safepal.com", mobile: { universal: "https://link.safepal.io" } }, bitkeep: { id: "38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662", displayName: "BitKeep", hostname: "bitkeep.com", mobile: { universal: "https://bkapp.vip" } }, zengo: { id: "9414d5a85c8f4eabc1b5b15ebe0cd399e1a2a9d35643ab0ad22a6e4a32f596f0", displayName: "ZenGo", hostname: "zengo.com", mobile: { universal: "https://get.zengo.com/" } }, "1inch": { id: "c286eebc742a537cd1d6818363e9dc53b21759a1e8e5d9b263d0c03ec7703576", displayName: "1inch", hostname: "wallet.1inch.io", mobile: { universal: "https://wallet.1inch.io/wc/" } }, binance: { id: "8a0ee50d1f22f6651afcae7eb4253e52a3310b90af5daef78a8c4929a9bb99d4", displayName: "Binance", hostname: "www.binance.com", mobile: { universal: "https://app.binance.com/cedefi" } }, exodus: { id: "e9ff15be73584489ca4a66f64d32c4537711797e30b6660dbcb71ea72a42b1f4", displayName: "Exodus", hostname: "exodus.com", mobile: { universal: "https://exodus.com/m" } }, mew_wallet: { id: "f5b4eeb6015d66be3f5940a895cbaa49ef3439e518cd771270e6b553b48f31d2", displayName: "MEW wallet", hostname: "mewwallet.com", mobile: { universal: "https://mewwallet.com" } }, alphawallet: { id: "138f51c8d00ac7b9ac9d8dc75344d096a7dfe370a568aa167eabc0a21830ed98", displayName: "AlphaWallet", hostname: "alphawallet.com", mobile: { universal: "https://aw.app" } }, keyring_pro: { id: "47bb07617af518642f3413a201ec5859faa63acb1dd175ca95085d35d38afb83", displayName: "KEYRING PRO", hostname: "keyring.app", mobile: { universal: "https://keyring.app/" } }, mathwallet: { id: "7674bb4e353bf52886768a3ddc2a4562ce2f4191c80831291218ebd90f5f5e26", displayName: "MathWallet", hostname: "mathwallet.org", mobile: { universal: "https://www.mathwallet.org" } }, unstoppable: { id: "8308656f4548bb81b3508afe355cfbb7f0cb6253d1cc7f998080601f838ecee3", displayName: "Unstoppable", hostname: "unstoppabledomains.com", mobile: { universal: "https://unstoppabledomains.com/mobile" } }, obvious: { id: "031f0187049b7f96c6f039d1c9c8138ff7a17fd75d38b34350c7182232cc29aa", displayName: "Obvious", hostname: "obvious.technology", mobile: { universal: "https://wallet.obvious.technology" } }, ambire: { id: "2c81da3add65899baeac53758a07e652eea46dbb5195b8074772c62a77bbf568", displayName: "Ambire", hostname: "www.ambire.com", mobile: { universal: "https://mobile.ambire.com" } }, internet_money_wallet: { id: "dd43441a6368ec9046540c46c5fdc58f79926d17ce61a176444568ca7c970dcd", displayName: "Internet Money Wallet", hostname: "internetmoney.io", mobile: { universal: "https://internetmoney.io" } }, coin98: { id: "2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01", displayName: "Coin98", hostname: "coin98.com", mobile: { universal: "https://coin98.services" } }, abc_wallet: { id: "b956da9052132e3dabdcd78feb596d5194c99b7345d8c4bd7a47cabdcb69a25f", displayName: "ABC Wallet", hostname: "myabcwallet.io", mobile: { universal: "https://abcwalletconnect.page.link" } }, arculus_wallet: { id: "0e4915107da5b3408b38e248f7a710f4529d54cd30e9d12ff0eb886d45c18e92", displayName: "Arculus Wallet", hostname: "www.getarculus.com", mobile: { universal: "https://gw.arculus.co/app" } }, haha: { id: "719bd888109f5e8dd23419b20e749900ce4d2fc6858cf588395f19c82fd036b3", displayName: "HaHa", hostname: "www.haha.me", mobile: { universal: "https://haha.me" } }, cling_wallet: { id: "942d0e22a7e6b520b0a03abcafc4dbe156a1fc151876e3c4a842f914277278ef", displayName: "Cling Wallet", hostname: "clingon.io", mobile: { universal: "https://cling.carrieverse.com/apple-app-site-association" } }, broearn: { id: "8ff6eccefefa7506339201bc33346f92a43118d6ff7d6e71d499d8187a1c56a2", displayName: "Broearn", hostname: "www.broearn.com", mobile: { universal: "https://www.broearn.com/link/wallet/" } }, copiosa: { id: "07f99a5d9849bb049d74830012b286f8b238e72b0337933ef22b84947409db80", displayName: "Copiosa", hostname: "copiosa.io", mobile: { universal: "https://copiosa.io/action/" } }, burrito_wallet: { id: "8821748c25de9dbc4f72a691b25a6ddad9d7df12fa23333fd9c8b5fdc14cc819", displayName: "Burrito Wallet", hostname: "burritowallet.com", mobile: { universal: "https://burritowallet.com/wc?uri=" } }, enjin_wallet: { id: "bdc9433ffdaee55d31737d83b931caa1f17e30666f5b8e03eea794bac960eb4a", displayName: "Enjin Wallet", hostname: "enjin.io", mobile: { universal: "https://deeplink.wallet.enjin.io/" } }, plasma_wallet: { id: "cbe13eb482c76f1fa401ff4c84d9acd0b8bc9af311ca0620a0b192fb28359b4e", displayName: "Plasma Wallet", hostname: "plasma-wallet.com", mobile: { universal: "https://plasma-wallet.com" } }, avacus: { id: "94f785c0c8fb8c4f38cd9cd704416430bcaa2137f27e1468782d624bcd155a43", displayName: "Avacus", hostname: "avacus.cc", mobile: { universal: "https://avacus.app.link" } }, bee: { id: "2cca8c1b0bea04ba37dee4017991d348cdb7b826804ab2bd31073254f345b715", displayName: "Bee", hostname: "www.beewallet.app", mobile: { universal: "https://beewallet.app/wc" } }, pitaka: { id: "14e5d957c6eb62d3ee8fc6239703ac2d537d7e3552154836ca0beef775f630bc", displayName: "Pitaka", hostname: "pitaka.io", mobile: { universal: "https://app.pitaka.io" } }, pltwallet: { id: "576c90ceaea34f29ff0104837cf2b2e23d201be43be1433feeb18d375430e1fd", displayName: "PLTwallet", hostname: "pltwallet.io", mobile: { universal: "https://pltwallet.io/" } }, minerva: { id: "49bb9d698dbdf2c3d4627d66f99dd9fe90bba1eec84b143f56c64a51473c60bd", displayName: "Minerva", hostname: "minerva.digital", mobile: { universal: "https://minerva.digital" } }, kryptogo: { id: "19418ecfd44963883e4d6abca1adeb2036f3b5ffb9bee0ec61f267a9641f878b", displayName: "KryptoGO", hostname: "kryptogo.com", mobile: { universal: "https://kryptogo.page.link" } }, prema: { id: "5b8e33346dfb2a532748c247876db8d596734da8977905a27b947ba1e2cf465b", displayName: "PREMA", hostname: "premanft.com", mobile: { universal: "https://premanft.com" } }, slingshot: { id: "d23de318f0f56038c5edb730a083216ff0cce00c1514e619ab32231cc9ec484b", displayName: "Slingshot", hostname: "slingshot.finance", mobile: { universal: "https://app.slingshot.finance" } }, kriptonio: { id: "50df7da345f84e5a79aaf617df5167335a4b6751626df2e8a38f07029b3dde7b", displayName: "Kriptonio", hostname: "kriptonio.com", mobile: { universal: "https://app.kriptonio.com/mobile" } }, timeless: { id: "9751385960bca290c13b443155288f892f62ee920337eda8c5a8874135daaea8", displayName: "Timeless", hostname: "timelesswallet.xyz", mobile: { universal: "https://timelesswallet.xyz" } }, secux: { id: "6464873279d46030c0b6b005b33da6be5ed57a752be3ef1f857dc10eaf8028aa", displayName: "SecuX", hostname: "secuxtech.com", mobile: { universal: "https://wsweb.secuxtech.com" } }, bitizen: { id: "41f20106359ff63cf732adf1f7dc1a157176c9b02fd266b50da6dcc1e9b86071", displayName: "Bitizen", hostname: "bitizen.org", mobile: { universal: "https://bitizen.org/wallet" } }, blocto: { id: "14e7176536cb3706e221daaa3cfd7b88b7da8c7dfb64d1d241044164802c6bdd", displayName: "Blocto", hostname: "blocto.io", mobile: { universal: "https://blocto.app" } }, safemoon: { id: "a0e04f1086aac204d4ebdd5f985c12ed226cd0006323fd8143715f9324da58d1", displayName: "SafeMoon", hostname: "safemoon.com", mobile: { universal: "https://safemoon.com/wc" } }, okx_wallet: { id: "971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709", displayName: "OKX Wallet", hostname: "okx.com", mobile: { native: "okex://main" } }, rabby_wallet: { id: "18388be9ac2d02726dbac9777c96efaac06d744b2f6d580fccdd4127a6d01fd1", displayName: "Rabby Wallet", hostname: "rabby.io", mobile: {} }, bybit_wallet: { id: "15c8b91ade1a4e58f3ce4e7a0dd7f42b47db0c8df7e0d84f63eb39bcb96c4e0f", displayName: "Bybit Wallet", hostname: "bybit.com", mobile: {} } }; function Ms(e) { return { name: e.displayName || "", universalLink: e.mobile.universal, deepLink: e.mobile.native } } let Os = "WALLETCONNECT_DEEPLINK_CHOICE"; function Rs(e) { return e.startsWith("http://") || e.startsWith("https://") } function js(e, t) { if (Rs(e)) return $s(e, t); let n = e; return n.includes("://") || (n = e.replaceAll("/", "").replaceAll(":", ""), n = `${n}://`), n.endsWith("/") || (n = `${n}/`), { redirect: `${n}wc?uri=${encodeURIComponent(t)}`, href: n } } function $s(e, t) { if (!Rs(e)) return js(e, t); let n = e; return n.endsWith("/") || (n = `${n}/`), { redirect: `${n}wc?uri=${encodeURIComponent(t)}`, href: n } } function Ls(e, t) { window.open(e, t, "noreferrer noopener") } class Ds { execute(e) { return null === this.promise && (this.promise = (async () => { try { return await this.fn(e) } finally { this.promise = null } })()), this.promise } constructor(e) { this.promise = null, this.fn = e } } class Us { get meta() { return this._meta } async authenticate() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); if (!this.meta.channelToken) throw new bs.dx("Auth flow must be initialized first"); try { let e = await this.api.post("/api/v1/farcaster/authenticate", { channel_token: this.meta.channelToken, message: this.message, signature: this.signature, fid: this.fid, mode: this.meta.disableSignup ? "no-signup" : "login-or-sign-up" }); if (!e) throw new bs.dx("No response from authentication"); return e } catch (e) { throw (0, bs.wh)(e) } } async link() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); try { return await this.api.post("/api/v1/farcaster/link", { channel_token: this.meta.channelToken, message: this.message, signature: this.signature, fid: this.fid }) } catch (e) { throw (0, bs.wh)(e) } } async _startChannelOnce() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); let e = await this.api.post("/api/v1/farcaster/init", { token: this.captchaToken }); ys.tq && !ys.gn && e.connect_uri && Ls(e.connect_uri, "_blank"), this._meta = { ...this._meta, connectUri: e.connect_uri, channelToken: e.channel_token } } async initializeFarcasterConnect() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); await this.startChannelOnce.execute() } async _pollForReady() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); if (!this.meta.channelToken) throw new bs.dx("Auth flow must be initialized first"); let e = await this.api.get("/api/v1/farcaster/status", { headers: { "farcaster-channel-token": this.meta.channelToken } }); return "completed" === e.state && (this.message = e.message, this.signature = e.signature, this.fid = e.fid, !0) } constructor(e, t = !1) { this._meta = { disableSignup: !1 }, this.captchaToken = e, this.startChannelOnce = new Ds(this._startChannelOnce.bind(this)), this.pollForReady = new Ds(this._pollForReady.bind(this)), this._meta.disableSignup = t } } const Fs = new TextEncoder, Bs = new TextDecoder; const Ws = e => (e => { let t = e; "string" === typeof t && (t = Fs.encode(t)); const n = []; for (let r = 0; r < t.length; r += 32768)n.push(String.fromCharCode.apply(null, t.subarray(r, r + 32768))); return btoa(n.join("")) })(e).replace(/=/g, "").replace(/\+/g, "-").replace(/\//g, "_"), zs = e => { let t = e; t instanceof Uint8Array && (t = Bs.decode(t)), t = t.replace(/-/g, "+").replace(/_/g, "/").replace(/\s/g, ""); try { return (e => { const t = atob(e), n = new Uint8Array(t.length); for (let r = 0; r < t.length; r++)n[r] = t.charCodeAt(r); return n })(t) } catch (AQ) { throw new TypeError("The input to be decoded is not correctly encoded.") } }, qs = "https://auth.privy.io", Hs = 1400, Gs = 2500, Vs = 4e3, Ks = "privy:token", Ys = "privy-token", Zs = "privy:refresh_token", Xs = "privy:pat", Js = "privy:id_token", Qs = "privy-id-token", ea = "privy-session", ta = "privy:session_transfer_token", na = "privy:caid", ra = e => `privy:guest:${e}`, ia = e => `privy:cross-app:${e}`, oa = "privy:state_code", sa = "privy:code_verifier", aa = "privy:headless_oauth", ca = "privy:oauth_disable_signup", la = e => `privy:wallet:${e}`, ua = "privy:connectors", da = "privy:connections", ha = 12e4, fa = 3e4; function pa(e) { return crypto.getRandomValues(new Uint8Array(e)) } class ma { get(e) { let t = localStorage.getItem(e); return null === t ? void 0 : JSON.parse(t) } put(e, t) { void 0 !== t ? localStorage.setItem(e, JSON.stringify(t)) : this.del(e) } del(e) { localStorage.removeItem(e) } getKeys() { return Object.entries(localStorage).map((([e]) => e)) } } function ga() { try { let e = "privy:__session_storage__test", t = new ma; return t.put(e, "blobby"), t.del(e), !0 } catch (t0) { return !1 } } var ya = "undefined" != typeof window && window.localStorage ? new ma : new class { get(e) { return this._cache[e] } put(e, t) { void 0 !== t ? this._cache[e] = t : this.del(e) } del(e) { delete this._cache[e] } getKeys() { return Object.keys(this._cache) } constructor() { this._cache = {} } }; class ba { getOrCreateGuestCredential(e) { let t = ra(e); if (ga()) { if (ya.get(t)) return ya.get(t); { let e = Ws(pa(32)); return ya.put(t, e), e } } return Ws(pa(32)) } async authenticate() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); try { return await this.api.post("/api/v1/guest/authenticate", { guest_credential: this.meta.guestCredential }) } catch (e) { throw (0, bs.wh)(e) } } async link() { throw Error("Linking is not supported for the guest flow") } constructor(e) { this.meta = { guestCredential: this.getOrCreateGuestCredential(e) } } } class va { async initAuthenticationFlow(e) { if (!this.api) throw new bs.dx("Auth flow has no API instance"); this.meta.initAuthenticateResponse = await this.initAuthenticateOnce.execute(e) } async initLinkFlow() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); this.meta.initLinkResponse = await this.initLinkOnce.execute() } async authenticate() { let e = await n.e(603).then(n.bind(n, 56603)); if (!this.api) throw new bs.dx("Auth flow has no API instance"); if (!e.browserSupportsWebAuthn()) throw new bs.dx("WebAuthn is not supported in this browser"); this.meta.initAuthenticateResponse || (this.meta.initAuthenticateResponse = await this.initAuthenticateOnce.execute()); try { let t = await e.startAuthentication(this._transformInitAuthenticateOptionsToCamelCase(this.meta.initAuthenticateResponse.options)); return this.meta.setPasskeyAuthState?.({ status: "submitting-response" }), await this.api.post("/api/v1/passkeys/authenticate", { relying_party: this.meta.initAuthenticateResponse.relying_party, challenge: this.meta.initAuthenticateResponse.options.challenge, authenticator_response: this._transformAuthenticationResponseToSnakeCase(t) }) } catch (e) { if ("NotAllowedError" === e.name) throw new bs.dx("Passkey request timed out or rejected by user.", void 0, bs.sX.PASSKEY_NOT_ALLOWED); throw (0, bs.wh)(e) } } async link() { let e = await n.e(603).then(n.bind(n, 56603)); if (!this.api) throw new bs.dx("Auth flow has no API instance"); if (!e.browserSupportsWebAuthn()) throw new bs.dx("WebAuthn is not supported in this browser"); this.meta.initLinkResponse || (this.meta.initLinkResponse = await this.initLinkOnce.execute()); try { let t = this.meta.initLinkResponse.options, n = await e.startRegistration(this._transformInitLinkOptionsToCamelCase(t)); return this.meta.setPasskeyAuthState?.({ status: "submitting-response" }), await this.api.post("/api/v1/passkeys/link", { relying_party: this.meta.initLinkResponse.relying_party, authenticator_response: this._transformRegistrationResponseToSnakeCase(n) }) } catch (e) { if ("NotAllowedError" === e.name) throw new bs.dx("Passkey request timed out or rejected by user.", void 0, bs.sX.PASSKEY_NOT_ALLOWED); throw (0, bs.wh)(e) } } async _initAuthenticateOnce(e) { if (!this.api) throw new bs.dx("Auth flow has no API instance"); let t = ks(e); return await this.api.post("/api/v1/passkeys/authenticate/init", { token: this.meta.captchaToken }, { headers: { ...t } }) } async _initLinkOnce() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); return await this.api.post("/api/v1/passkeys/link/init", {}) } _transformInitLinkOptionsToCamelCase(e) { return { rp: e.rp, user: { id: e.user.id, name: e.user.name, displayName: e.user.display_name }, challenge: e.challenge, pubKeyCredParams: e.pub_key_cred_params.map((e => ({ type: e.type, alg: e.alg }))), timeout: e.timeout, excludeCredentials: e.exclude_credentials?.map((e => ({ id: e.id, type: e.type, transports: e.transports }))), authenticatorSelection: { authenticatorAttachment: e.authenticator_selection?.authenticator_attachment, requireResidentKey: e.authenticator_selection?.require_resident_key, residentKey: e.authenticator_selection?.resident_key, userVerification: e.authenticator_selection?.user_verification }, attestation: e.attestation, extensions: { appid: e.extensions?.app_id, credProps: e.extensions?.cred_props?.rk, hmacCreateSecret: e.extensions?.hmac_create_secret } } } _transformRegistrationResponseToSnakeCase(e) { return { id: e.id, raw_id: e.rawId, response: { client_data_json: e.response.clientDataJSON, attestation_object: e.response.attestationObject, authenticator_data: e.response.authenticatorData }, authenticator_attachment: e.authenticatorAttachment, client_extension_results: { app_id: e.clientExtensionResults.appid, cred_props: e.clientExtensionResults.credProps, hmac_create_secret: e.clientExtensionResults.hmacCreateSecret }, type: e.type } } _transformInitAuthenticateOptionsToCamelCase(e) { return { rpId: e.rp_id, challenge: e.challenge, allowCredentials: e.allow_credentials?.map((e => ({ id: e.id, type: e.type, transports: e.transports }))) || [], timeout: e.timeout, extensions: { appid: e.extensions?.app_id, credProps: e.extensions?.cred_props, hmacCreateSecret: e.extensions?.hmac_create_secret }, userVerification: e.user_verification } } _transformAuthenticationResponseToSnakeCase(e) { return { id: e.id, raw_id: e.rawId, response: { client_data_json: e.response.clientDataJSON, authenticator_data: e.response.authenticatorData, signature: e.response.signature, user_handle: e.response.userHandle }, authenticator_attachment: e.authenticatorAttachment, client_extension_results: { app_id: e.clientExtensionResults.appid, cred_props: e.clientExtensionResults.credProps, hmac_create_secret: e.clientExtensionResults.hmacCreateSecret }, type: e.type } } constructor({ captchaToken: e, setPasskeyAuthState: t }) { this.initAuthenticateOnce = new Ds(this._initAuthenticateOnce.bind(this)), this.initLinkOnce = new Ds(this._initLinkOnce.bind(this)), this.meta = { captchaToken: e, setPasskeyAuthState: t } } } const wa = ({ address: e, chainId: t, nonce: n }) => `${window.location.host} wants you to sign in with your Ethereum account:\n${e}\n\nBy signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.\n\nURI: ${window.location.origin}\nVersion: 1\nChain ID: ${t}\nNonce: ${n}\nIssued At: ${(new Date).toISOString()}\nResources:\n- https://privy.io`; class Ea { get meta() { return { connectorType: this.wallet.connectorType, walletClientType: this.wallet.walletClientType, chainId: this.wallet.chainId, address: this.wallet.address, disableSignup: this._meta.disableSignup } } async authenticate() { if (!this.client) throw new bs.dx("SiweFlow has no client instance"); try { let { message: e, signature: t } = await this.sign(); return await this.client.authenticateWithSiweInternal({ message: e, signature: t, chainId: this.wallet.chainId, walletClientType: this.wallet.walletClientType, connectorType: this.wallet.connectorType, mode: this.meta.disableSignup ? "no-signup" : "login-or-sign-up" }) } catch (t0) { throw (0, bs.wh)(t0) } } async link() { if (!this.client) throw new bs.dx("SiweFlow has no client instance"); try { let { message: e, signature: t } = await this.sign(); return await this.client.linkWithSiweInternal({ message: e, signature: t, chainId: this.wallet.chainId, walletClientType: this.wallet.walletClientType, connectorType: this.wallet.connectorType }) } catch (t0) { throw (0, bs.wh)(t0) } } async sign() { if (!this.client) throw new bs.dx("SiweFlow has no client instance"); if (await this.buildMessage(), !this.preparedMessage) throw new bs.dx("Could not prepare SIWE message"); let e = await this.wallet.sign(this.preparedMessage); return { message: this.preparedMessage, signature: e } } async _getNonceOnce() { if (!this.client) throw new bs.dx("SiweFlow has no client instance"); return await this.client.generateSiweNonce({ address: this.wallet.address, captchaToken: this.captchaToken }) } async buildMessage() { if (!this.client) throw new bs.dx("SiweFlow has no client instance"); let e = this.wallet.address, t = this.wallet.chainId.replace("eip155:", ""); return this.nonce || (this.nonce = await this.getNonceOnce.execute()), this.preparedMessage = wa({ address: e, chainId: t, nonce: this.nonce }), this.preparedMessage } constructor(e, t, n, r = !1) { this._meta = { disableSignup: !1 }, this.getNonceOnce = new Ds(this._getNonceOnce.bind(this)), this.wallet = e, this.captchaToken = n, this.client = t, this._meta.disableSignup = r } } var xa = n(48764).Buffer; class _a { get meta() { return { connectorType: this.wallet.connectorType, walletClientType: this.wallet.walletClientType, disableSignup: this._meta.disableSignup } } async authenticate() { if (!this.client) throw new bs.dx("SiwsFlow has no client instance"); try { let { message: e, signature: t } = await this.sign(); return await this.client.authenticateWithSiwsInternal({ message: e, signature: t, walletClientType: this.wallet.walletClientType, connectorType: this.wallet.connectorType, mode: this.meta.disableSignup ? "no-signup" : "login-or-sign-up" }) } catch (t0) { throw (0, bs.wh)(t0) } } async link() { if (!this.client) throw new bs.dx("SiwsFlow has no client instance"); try { let { message: e, signature: t } = await this.sign(); return await this.client.linkWithSiwsInternal({ message: e, signature: t, walletClientType: this.wallet.walletClientType, connectorType: this.wallet.connectorType }) } catch (t0) { throw (0, bs.wh)(t0) } } async sign() { if (!this.client) throw new bs.dx("SiwsFlow has no client instance"); if (await this.buildMessage(), !this.preparedMessage) throw new bs.dx("Could not prepare SIWS message"); if (!this.wallet.signMessage) throw new bs.dx("Wallet does not support signMessage"); let e = await this.wallet.signMessage(xa.from(this.preparedMessage)); return { message: this.preparedMessage, signature: xa.from(e).toString("base64") } } async _getNonceOnce() { if (!this.client) throw new bs.dx("SiwsFlow has no client instance"); return await this.client.generateSiwsNonce({ address: this.wallet.address, captchaToken: this.captchaToken }) } async buildMessage() { if (!this.client) throw new bs.dx("SiwsFlow has no client instance"); let e = this.wallet.address; return this.nonce || (this.nonce = await this.getNonceOnce.execute()), this.preparedMessage = (({ address: e, nonce: t }) => `${window.location.host} wants you to sign in with your Solana account:\n${e}\n\nYou are proving you own ${e}.\n\nURI: ${window.location.origin}\nVersion: 1\nChain ID: mainnet\nNonce: ${t}\nIssued At: ${(new Date).toISOString()}\nResources:\n- https://privy.io`)({ address: e, nonce: this.nonce }), this.preparedMessage } constructor(e, t, n, r = !1) { this._meta = { disableSignup: !1 }, this.getNonceOnce = new Ds(this._getNonceOnce.bind(this)), this.wallet = e, this.captchaToken = n, this.client = t, this._meta.disableSignup = r } } class Ca { async authenticate() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); if (!this.meta.phoneNumber || !this.meta.smsCode) throw new bs.dx("phone number and sms code must be set prior to calling authenticate."); try { return await this.api.post("/api/v1/passwordless_sms/authenticate", { phoneNumber: this.meta.phoneNumber, code: this.meta.smsCode, mode: this.meta.disableSignup ? "no-signup" : "login-or-sign-up" }) } catch (t0) { throw (0, bs.wh)(t0) } } async link() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); if (!this.meta.phoneNumber || !this.meta.smsCode) throw new bs.dx("phone number and sms code must be set prior to calling authenticate."); try { return await this.api.post("/api/v1/passwordless_sms/link", { phoneNumber: this.meta.phoneNumber, code: this.meta.smsCode }) } catch (t0) { throw (0, bs.wh)(t0) } } async sendSmsCode({ phoneNumber: e, captchaToken: t, withPrivyUi: n }) { if (!this.api) throw new bs.dx("Auth flow has no API instance"); if (e && (this.meta.phoneNumber = e), t && (this.meta.captchaToken = t), !this.meta.phoneNumber) throw new bs.dx("phone nNumber must be set when initialzing authentication."); let r = ks(n); try { return await this.api.post("/api/v1/passwordless_sms/init", { phoneNumber: this.meta.phoneNumber, token: this.meta.captchaToken }, { headers: { ...r } }) } catch (t0) { throw (0, bs.wh)(t0) } } constructor({ phoneNumber: e, captchaToken: t, disableSignup: n }) { this.meta = { phoneNumber: e, captchaToken: t, disableSignup: n ?? !1 } } } class Aa extends Ca { async link() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); if (!this.meta.phoneNumber || !this.meta.smsCode || !this.meta.oldPhoneNumber) throw new bs.dx("Phone number, sms code, and an old phone number must be set prior to calling update."); try { return await this.api.post("/api/v1/passwordless_sms/update", { old_phone_number: this.meta.oldPhoneNumber, new_phone_number: this.meta.phoneNumber, code: this.meta.smsCode }) } catch (t0) { throw (0, bs.wh)(t0) } } constructor(e, t, n) { super({ phoneNumber: t, captchaToken: n }), this.meta = { phoneNumber: t, captchaToken: n, oldPhoneNumber: e, disableSignup: !1 } } } var Sa = n(40352), ka = function (e, t, n, r) { return new (n || (n = Promise))((function (i, o) { function s(e) { try { c(r.next(e)) } catch (t0) { o(t0) } } function a(e) { try { c(r.throw(e)) } catch (t0) { o(t0) } } function c(e) { var t; e.done ? i(e.value) : (t = e.value, t instanceof n ? t : new n((function (e) { e(t) }))).then(s, a) } c((r = r.apply(e, t || [])).next()) })) }; const Ia = new Cn.Yd(Ln); class Ta extends hs { detectNetwork() { const e = Object.create(null, { detectNetwork: { get: () => super.detectNetwork } }); return ka(this, void 0, void 0, (function* () { let t = this.network; return null == t && (t = yield e.detectNetwork.call(this), t || Ia.throwError("no network detected", Cn.Yd.errors.UNKNOWN_ERROR, {}), null == this._network && (kn(this, "_network", t), this.emit("network", t, null))), t })) } } const Na = e => e.isApexWallet ? "Apex Wallet" : e.isAvalanche ? "Core Wallet" : e.isBackpack ? "Backpack" : e.isBifrost ? "Bifrost Wallet" : e.isBitKeep ? "BitKeep" : e.isBitski ? "Bitski" : e.isBlockWallet ? "BlockWallet" : e.isBraveWallet ? "Brave Wallet" : e.isClover ? "Clover" : e.isCoin98 ? "Coin98 Wallet" : e.isCoinbaseWallet ? "Coinbase Wallet" : e.isDawn ? "Dawn Wallet" : e.isDefiant ? "Defiant" : e.isDesig ? "Desig Wallet" : e.isEnkrypt ? "Enkrypt" : e.isExodus ? "Exodus" : e.isFordefi ? "Fordefi" : e.isFrame ? "Frame" : e.isFrontier ? "Frontier Wallet" : e.isGamestop ? "GameStop Wallet" : e.isHaqqWallet ? "HAQQ Wallet" : e.isHyperPay ? "HyperPay Wallet" : e.isImToken ? "ImToken" : e.isHaloWallet ? "Halo Wallet" : e.isKuCoinWallet ? "KuCoin Wallet" : e.isMathWallet ? "MathWallet" : e.isNovaWallet ? "Nova Wallet" : e.isOkxWallet || e.isOKExWallet ? "OKX Wallet" : e.isOneInchIOSWallet || e.isOneInchAndroidWallet ? "1inch Wallet" : e.isOneKey ? "OneKey Wallet" : e.isOpera ? "Opera" : e.isPhantom ? "Phantom" : e.isPortal ? "Ripio Portal" : e.isRabby ? "Rabby Wallet" : e.isRainbow ? "Rainbow" : e.isSafePal ? "SafePal Wallet" : e.isStatus ? "Status" : e.isSubWallet ? "SubWallet" : e.isTalisman ? "Talisman" : e.isTally || e.isTaho ? "Taho" : e.isTokenPocket ? "TokenPocket" : e.isTokenary ? "Tokenary" : e.isTrust || e.isTrustWallet ? "Trust Wallet" : e.isTTWallet ? "TTWallet" : e.isXDEFI ? "XDEFI Wallet" : e.isZeal ? "Zeal" : e.isZerion ? "Zerion" : e.isMetaMask ? "MetaMask" : void 0, Pa = (e, t) => { if (!e.isMetaMask) return !1; if (e.isMetaMask && !t) return !0; if (e.isBraveWallet && !e._events && !e._state || "MetaMask" !== Na(e)) return !1; if (e.providers) for (let n of e.providers) if (!Pa(n)) return !1; return !0 }, Ma = () => { if ("phantom" in window) { let e = window; if (e?.phantom?.ethereum?.isPhantom && e?.phantom?.ethereum?.chainId) return !0 } return !1 }, Oa = () => { let e = window; if (!e.ethereum) return !1; if (e.ethereum.isCoinbaseWallet) return !0; if (e.ethereum.providers) for (let t of e.ethereum.providers) if (t && t.isCoinbaseWallet) return !0; return !1 }, Ra = e => !!String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/), ja = (e, t = 3, n = 4, r = "ethereum") => { if (!e) return ""; let i = "ethereum" === r ? 2 : 0; return t + n + i + 3 >= e.length ? e : `${e.slice(0, i + t)}...${e.slice(e.length - n, e.length)}` }, $a = (e, t = 3, n = 4) => ja(e, t, n, "solana"), La = e => new Promise((t => setTimeout(t, e))); const Da = (e, t = {}) => { let n = t.delayMs || 150, r = t.maxAttempts || 270; return new Promise((async (i, o) => { let s = !1, a = 0; for (; !s && a < r;) { if (t.abortSignal?.aborted) return; e().then((e => { s = !0, i(e) }), ((...e) => { s = !0, o(...e) })), a += 1, await La(n) } s || o(Error("Exceeded max attempts before resolving function")) })) }, Ua = (e, t, n = {}, r = {}) => { let i = new URL(t, e); for (let [s, a] of Object.entries(n)) void 0 !== a && i.searchParams.set(s, a); let o = Object.entries(r); if (o.length > 0) { let e = new URLSearchParams; for (let [t, n] of o) e.append(t, n); i.hash = e.toString() } return i.href }, Fa = e => e.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, ""), Ba = e => "string" == typeof e ? e : "0x" + e.toString(16); async function Wa({ store: e, walletList: t, externalWalletConfig: n, walletChainType: r, timeout: i = 3e3 }) { let o = !1, s = window; return new Promise((a => { function c() { if (o) return; o = !0, window.removeEventListener("ethereum#initialized", c); let i = e.getProviders(); console.debug("Detected injected providers:", i.map((e => e.info))); let s = []; for (let e of i) t.includes("coinbase_wallet") && "com.coinbase.wallet" === e.info.rdns || "solana-only" === r && "app.phantom" === e.info.rdns || s.push({ type: e.info.name.toLowerCase().replace(/\s/g, "_"), eip6963InjectedProvider: e }); if ("solana-only" !== r) for (let e of function () { let e = window, t = e.ethereum; if (!t) return []; let n = []; if (t.providers?.length) for (let r of t.providers) r && n.push(r); return n.push(e.ethereum), n }()) { let t = Na(e); if (!i.some((e => e.info.name === t))) { if (Pa(e, !0) && !s.find((e => "metamask" === e.type))) { s.push({ type: "metamask", legacyInjectedProvider: e }); continue } if ("Phantom" === t && !s.find((e => "phantom" === e.type))) { s.push({ type: "phantom", legacyInjectedProvider: e }); continue } if ("Coinbase Wallet" === t && !s.find((e => "coinbase_wallet" === e.type && "smartWalletOnly" !== n.coinbaseWallet?.connectionOptions))) { s.push({ type: "coinbase_wallet", legacyInjectedProvider: e }); continue } s.find((e => "unknown_browser_extension" === e.type)) || s.push({ type: "unknown_browser_extension", legacyInjectedProvider: e }) } } a(s) } s.ethereum ? c() : (window.addEventListener("ethereum#initialized", c, { once: !0 }), setTimeout((() => { c() }), i)) })) } function za(e) { return `eip155:${String(Number(e))}` } const qa = (e, t, n, r) => { let i = Number(e), o = t.find((e => e.id === i)); if (!o) throw new bs.M9(`Unsupported chainId ${e}`, 4901); return Ha(o, n, r) }, Ha = (e, t, n) => { let r, i = e.id, o = Number(e.id); if (e.rpcUrls.privyWalletOverride && e.rpcUrls.privyWalletOverride.http[0]) r = e.rpcUrls.privyWalletOverride.http[0]; else if (t.rpcUrls && t.rpcUrls[o]) r = t.rpcUrls[o]; else if (e.rpcUrls.privy?.http[0]) { let t = new URL(e.rpcUrls.privy.http[0]); t.searchParams.append("privyAppId", n), r = t.toString() } else r = e.rpcUrls.public?.http[0] ? e.rpcUrls.public.http[0] : e.rpcUrls.default?.http[0]; if (!r) throw new bs.M9(`No RPC url found for ${i}`); return r }, Ga = (e, t, n, r) => { let i = Number(e), o = t.find((e => e.id === i)); if (!o) throw new bs.M9(`Unsupported chainId ${e}`, 4901); return new Ta(o.rpcUrls.privyWalletOverride && o.rpcUrls.privyWalletOverride.http[0] ? o.rpcUrls.privyWalletOverride.http[0] : n.rpcUrls && n.rpcUrls[i] ? n.rpcUrls[i] : o.rpcUrls.privy?.http[0] ? { url: o.rpcUrls.privy.http[0], headers: { "privy-app-id": r.appId } } : o.rpcUrls.public?.http[0] ? o.rpcUrls.public.http[0] : o.rpcUrls.default?.http[0]) }, Va = e => { let t = { name: "string", version: "string", chainId: "uint256", verifyingContract: "address", salt: "bytes32" }, n = e.types.EIP712Domain ?? Object.entries(e.domain).map((([e, n]) => { if (null != n && "string" == typeof e && e in t) return { name: e, type: t[e] } })).filter((e => void 0 !== e)); return { ...e, types: { ...e.types, EIP712Domain: n } } }; const Ka = (0, Ke.createContext)({ siteKey: "", enabled: !1, appId: void 0, token: void 0, error: void 0, status: "disabled", setToken: Sa.E, setError: Sa.E, setExecuting: Sa.E, waitForResult: () => Promise.resolve(""), ref: { current: null }, remove: Sa.E, reset: Sa.E, execute: Sa.E }); class Ya extends bs.Bi { constructor(e, t, n) { super(e || "Captcha failed"), this.type = "Captcha", t instanceof Error && (this.cause = t), this.privyErrorCode = n } } const Za = ({ children: e, id: t, captchaSiteKey: n, captchaEnabled: r }) => { let i = (0, Ke.useRef)(null), [o, s] = (0, Ke.useState)(), [a, c] = (0, Ke.useState)(), [l, u] = (0, Ke.useState)(!1), d = (0, Ke.useMemo)((() => r ? l || o || a ? !l || o || a ? o && !a ? { status: "success", token: o } : a ? { status: "error", error: a } : { status: "ready" } : { status: "loading" } : { status: "ready" } : { status: "disabled" }), [r, o, a, l]); return (0, y.jsx)(Ka.Provider, { value: { ...d, ref: i, enabled: r, siteKey: n, appId: t, setToken: s, setError: c, setExecuting: u, remove() { r && (i.current?.remove(), u(!1), c(void 0), s(void 0)) }, reset() { r && (i.current?.reset(), u(!1), c(void 0), s(void 0)) }, execute() { r && (u(!0), i.current?.execute()) }, async waitForResult() { if (!r) return ""; try { return await function (e, { interval: t = 100, timeout: n = 5e3 } = {}) { return new Promise(((r, i) => { let o, s = 0, a = () => { s >= n ? i("Max attempts reached without result") : (o = e(), s += t, null == o ? setTimeout(a, t) : r(o)) }; a() })) }((() => i.current?.getResponse()), { interval: 200, timeout: 2e4 }) } catch (t0) { throw new Ya("Captcha failed", null, bs.sX.CAPTCHA_TIMEOUT) } } }, children: e }) }, Xa = () => (0, Ke.useContext)(Ka); class Ja { async authenticate() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); try { return await this.api.post("/api/v1/telegram/authenticate", { captcha_token: this.meta.captchaToken, telegram_auth_result: this.meta.telegramAuthResult, telegram_web_app_data: this.meta.telegramWebAppData, mode: this.meta.disableSignup ? "no-signup" : "login-or-sign-up" }) } catch (t0) { throw (0, bs.wh)(t0) } } async link() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); try { return await this.api.post("/api/v1/telegram/link", { telegram_auth_result: this.meta.telegramAuthResult, telegram_web_app_data: this.meta.telegramWebAppData }) } catch (t0) { throw (0, bs.wh)(t0) } } constructor(e, t = !1) { this.meta = { disableSignup: !1 }, this.meta = { captchaToken: e, disableSignup: !1 }, this.meta.disableSignup = t } } function Qa(e) { let t = { detail: "", retryable: !1 }; return e?.privyErrorCode === bs.sX.LINKED_TO_ANOTHER_USER && (t.detail = "This account has already been linked to another user."), e?.privyErrorCode === bs.sX.DISALLOWED_LOGIN_METHOD && (t.detail = "Login with Telegram not allowed."), e?.privyErrorCode === bs.sX.INVALID_DATA && (t.retryable = !0, t.detail = "Something went wrong. Try again."), e?.privyErrorCode === bs.sX.CANNOT_LINK_MORE_OF_TYPE && (t.retryable = !0, t.detail = "Something went wrong. Try again."), e?.privyErrorCode === bs.sX.INVALID_CREDENTIALS && (t.retryable = !0, t.detail = "Something went wrong. Try again."), e?.privyErrorCode === bs.sX.TOO_MANY_REQUESTS && (t.detail = "Too many requests. Please wait before trying again."), e?.privyErrorCode === bs.sX.TOO_MANY_REQUESTS && e.message.includes("rate limit") && (t.detail = "Request limit reached for Telegram. Please wait a moment and try again."), e instanceof Ya && (t.retryable = !0, t.detail = "Something went wrong. Try again."), t } function ec() { let e = new URL(window.location.href); e.searchParams.delete("id"), e.searchParams.delete("hash"), e.searchParams.delete("auth_date"), e.searchParams.delete("first_name"), e.searchParams.delete("last_name"), e.searchParams.delete("username"), e.searchParams.delete("photo_url"), e.hash = "", window.history.replaceState({}, "", e) } var tc = { randomUUID: "undefined" !== typeof crypto && crypto.randomUUID && crypto.randomUUID.bind(crypto) }; let nc; const rc = new Uint8Array(16); function ic() { if (!nc && (nc = "undefined" !== typeof crypto && crypto.getRandomValues && crypto.getRandomValues.bind(crypto), !nc)) throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported"); return nc(rc) } const oc = []; for (let n0 = 0; n0 < 256; ++n0)oc.push((n0 + 256).toString(16).slice(1)); function sc(e, t = 0) { return oc[e[t + 0]] + oc[e[t + 1]] + oc[e[t + 2]] + oc[e[t + 3]] + "-" + oc[e[t + 4]] + oc[e[t + 5]] + "-" + oc[e[t + 6]] + oc[e[t + 7]] + "-" + oc[e[t + 8]] + oc[e[t + 9]] + "-" + oc[e[t + 10]] + oc[e[t + 11]] + oc[e[t + 12]] + oc[e[t + 13]] + oc[e[t + 14]] + oc[e[t + 15]] } var ac = function (e, t, n) { if (tc.randomUUID && !t && !e) return tc.randomUUID(); const r = (e = e || {}).random || (e.rng || ic)(); if (r[6] = 15 & r[6] | 64, r[8] = 63 & r[8] | 128, t) { n = n || 0; for (let e = 0; e < 16; ++e)t[n + e] = r[e]; return t } return sc(r) }; class cc extends Error { static get code() { return "ERR_JOSE_GENERIC" } constructor(e) { var t; super(e), this.code = "ERR_JOSE_GENERIC", this.name = this.constructor.name, null === (t = Error.captureStackTrace) || void 0 === t || t.call(Error, this, this.constructor) } } class lc extends cc { constructor() { super(...arguments), this.code = "ERR_JWT_INVALID" } static get code() { return "ERR_JWT_INVALID" } } Symbol.asyncIterator; function uc(e) { if ("string" !== typeof e) throw new lc("JWTs must use Compact JWS serialization, JWT must be a string"); const { 1: t, length: n } = e.split("."); if (5 === n) throw new lc("Only JWTs using Compact JWS serialization can be decoded"); if (3 !== n) throw new lc("Invalid JWT"); if (!t) throw new lc("JWTs must contain a payload"); let r, i; try { r = zs(t) } catch (AQ) { throw new lc("Failed to base64url decode the payload") } try { i = JSON.parse(Bs.decode(r)) } catch (o) { throw new lc("Failed to parse the decoded payload as JSON") } if (!function (e) { if ("object" !== typeof (t = e) || null === t || "[object Object]" !== Object.prototype.toString.call(e)) return !1; var t; if (null === Object.getPrototypeOf(e)) return !0; let n = e; for (; null !== Object.getPrototypeOf(n);)n = Object.getPrototypeOf(n); return Object.getPrototypeOf(e) === n }(i)) throw new lc("Invalid JWT Claims Set"); return i } class dc { static parse(e) { try { return new dc(e) } catch (e) { return null } } static throwIfNotWellFormedJwt(e) { return uc(e), e } get subject() { return this._decoded.sub } get expiration() { return this._decoded.exp } get issuer() { return this._decoded.iss } get audience() { return this._decoded.aud } isExpired(e = 0) { return Date.now() >= 1e3 * (this.expiration - e) } constructor(e) { this.value = e, this._decoded = uc(e) } } class hc extends dc { static parse(e) { try { return new hc(e) } catch (e) { return null } } get appId() { return this._decoded.aid ? this._decoded.aid : this.audience } } var fc = n(20794), pc = n(33001), mc = n(78614); const gc = ({ style: e, ...t }) => (0, y.jsxs)("svg", { viewBox: "0 0 1024 1024", fill: "none", xmlns: "http://www.w3.org/2000/svg", style: { height: "28px", width: "28px", ...e }, ...t, children: [(0, y.jsx)("rect", { width: "1024", height: "1024", fill: "#0052FF", rx: 100, ry: 100 }), (0, y.jsx)("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z", fill: "white" })] }), yc = { id: 42161, name: "Arbitrum One", network: "arbitrum", nativeCurrency: { name: "Ether", symbol: "ETH", decimals: 18 }, rpcUrls: { privy: { http: ["https://arbitrum-mainnet.rpc.privy.systems"] }, alchemy: { http: ["https://arb-mainnet.g.alchemy.com/v2"], webSocket: ["wss://arb-mainnet.g.alchemy.com/v2"] }, infura: { http: ["https://arbitrum-mainnet.infura.io/v3"], webSocket: ["wss://arbitrum-mainnet.infura.io/ws/v3"] }, default: { http: ["https://arb1.arbitrum.io/rpc"] }, public: { http: ["https://arb1.arbitrum.io/rpc"] } }, blockExplorers: { etherscan: { name: "Arbiscan", url: "https://arbiscan.io" }, default: { name: "Arbiscan", url: "https://arbiscan.io" } } }, bc = { id: 421614, name: "Arbitrum Sepolia", network: "arbitrum-sepolia", nativeCurrency: { name: "Arbitrum Sepolia Ether", symbol: "ETH", decimals: 18 }, rpcUrls: { privy: { http: ["https://arbitrum-sepolia.rpc.privy.systems"] }, default: { http: ["https://sepolia-rollup.arbitrum.io/rpc"] }, public: { http: ["https://sepolia-rollup.arbitrum.io/rpc"] } }, blockExplorers: { default: { name: "Blockscout", url: "https://sepolia-explorer.arbitrum.io" } }, testnet: !0 }, vc = { id: 43114, name: "Avalanche", network: "avalanche", nativeCurrency: { decimals: 18, name: "Avalanche", symbol: "AVAX" }, rpcUrls: { default: { http: ["https://api.avax.network/ext/bc/C/rpc"] }, public: { http: ["https://api.avax.network/ext/bc/C/rpc"] } }, blockExplorers: { etherscan: { name: "SnowTrace", url: "https://snowtrace.io" }, default: { name: "SnowTrace", url: "https://snowtrace.io" } } }, wc = { id: 43113, name: "Avalanche Fuji", network: "avalanche-fuji", nativeCurrency: { decimals: 18, name: "Avalanche Fuji", symbol: "AVAX" }, rpcUrls: { default: { http: ["https://api.avax-test.network/ext/bc/C/rpc"] }, public: { http: ["https://api.avax-test.network/ext/bc/C/rpc"] } }, blockExplorers: { etherscan: { name: "SnowTrace", url: "https://testnet.snowtrace.io" }, default: { name: "SnowTrace", url: "https://testnet.snowtrace.io" } }, testnet: !0 }, Ec = { id: 8453, network: "base", name: "Base", nativeCurrency: { name: "Ether", symbol: "ETH", decimals: 18 }, rpcUrls: { privy: { http: ["https://base-mainnet.rpc.privy.systems"] }, blast: { http: ["https://base-mainnet.blastapi.io"], webSocket: ["wss://base-mainnet.blastapi.io"] }, default: { http: ["https://mainnet.base.org"] }, public: { http: ["https://mainnet.base.org"] } }, blockExplorers: { etherscan: { name: "Basescan", url: "https://basescan.org" }, default: { name: "Basescan", url: "https://basescan.org" } } }, xc = { id: 84532, network: "base-sepolia", name: "Base Sepolia", nativeCurrency: { name: "Sepolia Ether", symbol: "ETH", decimals: 18 }, rpcUrls: { privy: { http: ["https://base-sepolia.rpc.privy.systems"] }, default: { http: ["https://sepolia.base.org"] }, public: { http: ["https://sepolia.base.org"] } }, blockExplorers: { default: { name: "Blockscout", url: "https://base-sepolia.blockscout.com" } }, testnet: !0 }, _c = { id: 42220, name: "Celo Mainnet", network: "celo", nativeCurrency: { decimals: 18, name: "CELO", symbol: "CELO" }, rpcUrls: { default: { http: ["https://forno.celo.org"] }, infura: { http: ["https://celo-mainnet.infura.io/v3"] }, public: { http: ["https://forno.celo.org"] } }, blockExplorers: { default: { name: "Celo Explorer", url: "https://explorer.celo.org/mainnet" }, etherscan: { name: "CeloScan", url: "https://celoscan.io" } }, testnet: !1 }, Cc = { id: 59144, network: "linea-mainnet", name: "Linea Mainnet", nativeCurrency: { name: "Linea Ether", symbol: "ETH", decimals: 18 }, rpcUrls: { default: { http: ["https://rpc.linea.build"], webSocket: ["wss://rpc.linea.build"] }, public: { http: ["https://rpc.linea.build"], webSocket: ["wss://rpc.linea.build"] } }, blockExplorers: { default: { name: "Etherscan", url: "https://lineascan.build" }, etherscan: { name: "Etherscan", url: "https://lineascan.build" } }, testnet: !1 }, Ac = { id: 1, network: "homestead", name: "Ethereum", nativeCurrency: { name: "Ether", symbol: "ETH", decimals: 18 }, rpcUrls: { privy: { http: ["https://mainnet.rpc.privy.systems"] }, alchemy: { http: ["https://eth-mainnet.g.alchemy.com/v2"], webSocket: ["wss://eth-mainnet.g.alchemy.com/v2"] }, infura: { http: ["https://mainnet.infura.io/v3"], webSocket: ["wss://mainnet.infura.io/ws/v3"] }, default: { http: ["https://cloudflare-eth.com"] }, public: { http: ["https://cloudflare-eth.com"] } }, blockExplorers: { etherscan: { name: "Etherscan", url: "https://etherscan.io" }, default: { name: "Etherscan", url: "https://etherscan.io" } } }, Sc = { id: 10, name: "OP Mainnet", network: "optimism", nativeCurrency: { name: "Ether", symbol: "ETH", decimals: 18 }, rpcUrls: { privy: { http: ["https://optimism-mainnet.rpc.privy.systems"] }, alchemy: { http: ["https://opt-mainnet.g.alchemy.com/v2"], webSocket: ["wss://opt-mainnet.g.alchemy.com/v2"] }, infura: { http: ["https://optimism-mainnet.infura.io/v3"], webSocket: ["wss://optimism-mainnet.infura.io/ws/v3"] }, default: { http: ["https://mainnet.optimism.io"] }, public: { http: ["https://mainnet.optimism.io"] } }, blockExplorers: { etherscan: { name: "Etherscan", url: "https://optimistic.etherscan.io" }, default: { name: "Optimism Explorer", url: "https://explorer.optimism.io" } } }, kc = { id: 11155420, name: "Optimism Sepolia", network: "optimism-sepolia", nativeCurrency: { name: "Sepolia Ether", symbol: "ETH", decimals: 18 }, rpcUrls: { privy: { http: ["https://optimism-sepolia.rpc.privy.systems"] }, default: { http: ["https://sepolia.optimism.io"] }, public: { http: ["https://sepolia.optimism.io"] }, infura: { http: ["https://optimism-sepolia.infura.io/v3"] } }, blockExplorers: { default: { name: "Blockscout", url: "https://optimism-sepolia.blockscout.com" } }, testnet: !0 }, Ic = { id: 137, name: "Polygon Mainnet", network: "polygon", nativeCurrency: { name: "POL", symbol: "POL", decimals: 18 }, rpcUrls: { privy: { http: ["https://polygon-mainnet.rpc.privy.systems"] }, alchemy: { http: ["https://polygon-mainnet.g.alchemy.com/v2"], webSocket: ["wss://polygon-mainnet.g.alchemy.com/v2"] }, infura: { http: ["https://polygon-mainnet.infura.io/v3"], webSocket: ["wss://polygon-mainnet.infura.io/ws/v3"] }, default: { http: ["https://polygon-rpc.com"] }, public: { http: ["https://polygon-rpc.com"] } }, blockExplorers: { etherscan: { name: "PolygonScan", url: "https://polygonscan.com" }, default: { name: "PolygonScan", url: "https://polygonscan.com" } } }, Tc = { id: 80002, name: "Polygon Amoy", network: "polygon-amoy", nativeCurrency: { name: "POL", symbol: "POL", decimals: 18 }, rpcUrls: { privy: { http: ["https://polygon-amoy.rpc.privy.systems"] }, infura: { http: ["https://polygon-amoy.infura.io/v3"], webSocket: ["wss://polygon-amoy.infura.io/ws/v3"] }, default: { http: ["https://rpc-amoy.polygon.technology"] } }, blockExplorers: { default: { name: "OK LINK", url: "https://www.oklink.com/amoy" } }, testnet: !0 }, Nc = { id: 11155111, network: "sepolia", name: "Sepolia", nativeCurrency: { name: "Sepolia Ether", symbol: "SEP", decimals: 18 }, rpcUrls: { privy: { http: ["https://sepolia.rpc.privy.systems"] }, alchemy: { http: ["https://eth-sepolia.g.alchemy.com/v2"], webSocket: ["wss://eth-sepolia.g.alchemy.com/v2"] }, infura: { http: ["https://sepolia.infura.io/v3"], webSocket: ["wss://sepolia.infura.io/ws/v3"] }, default: { http: ["https://rpc.sepolia.org"] }, public: { http: ["https://rpc.sepolia.org"] } }, blockExplorers: { etherscan: { name: "Etherscan", url: "https://sepolia.etherscan.io" }, default: { name: "Etherscan", url: "https://sepolia.etherscan.io" } }, testnet: !0 }, Pc = { id: 7777777, name: "Zora", network: "zora", nativeCurrency: { decimals: 18, name: "Ether", symbol: "ETH" }, rpcUrls: { default: { http: ["https://rpc.zora.energy"], webSocket: ["wss://rpc.zora.energy"] }, public: { http: ["https://rpc.zora.energy"], webSocket: ["wss://rpc.zora.energy"] } }, blockExplorers: { default: { name: "Explorer", url: "https://explorer.zora.energy" } } }, Mc = [yc, bc, Nc, Ac, Sc, kc, Ic, Tc, _c, { id: 44787, name: "Celo Alfajores Testnet", network: "celo-alfajores", nativeCurrency: { decimals: 18, name: "CELO", symbol: "CELO" }, rpcUrls: { default: { http: ["https://alfajores-forno.celo-testnet.org"] }, infura: { http: ["https://celo-alfajores.infura.io/v3"] }, public: { http: ["https://alfajores-forno.celo-testnet.org"] } }, blockExplorers: { default: { name: "Celo Explorer", url: "https://explorer.celo.org/alfajores" }, etherscan: { name: "CeloScan", url: "https://alfajores.celoscan.io/" } }, testnet: !0 }, { id: 314, name: "Filecoin - Mainnet", network: "filecoin-mainnet", nativeCurrency: { decimals: 18, name: "filecoin", symbol: "FIL" }, rpcUrls: { default: { http: ["https://api.node.glif.io/rpc/v1"] }, public: { http: ["https://api.node.glif.io/rpc/v1"] } }, blockExplorers: { default: { name: "Filfox", url: "https://filfox.info/en" }, filscan: { name: "Filscan", url: "https://filscan.io" }, filscout: { name: "Filscout", url: "https://filscout.io/en" }, glif: { name: "Glif", url: "https://explorer.glif.io" } } }, { id: 314159, name: "Filecoin - Calibration testnet", network: "filecoin-calibration", nativeCurrency: { decimals: 18, name: "testnet filecoin", symbol: "tFIL" }, rpcUrls: { default: { http: ["https://api.calibration.node.glif.io/rpc/v1"] }, public: { http: ["https://api.calibration.node.glif.io/rpc/v1"] } }, blockExplorers: { default: { name: "Filscan", url: "https://calibration.filscan.io" } } }, Ec, xc, { id: 80085, network: "berachain-artio", name: "Berachain Artio", nativeCurrency: { name: "BERA", symbol: "BERA", decimals: 18 }, rpcUrls: { default: { http: ["https://berachain-artio.rpc.privy.systems"] }, public: { http: ["https://berachain-artio.rpc.privy.systems"] } }, blockExplorers: { default: { name: "Beratrail", url: "https://artio.beratrail.io" } }, testnet: !0 }, { id: 42, network: "lukso", name: "LUKSO", nativeCurrency: { name: "LUKSO", symbol: "LYX", decimals: 18 }, rpcUrls: { default: { http: ["https://rpc.mainnet.lukso.network"], webSocket: ["wss://ws-rpc.mainnet.lukso.network"] } }, blockExplorers: { default: { name: "LUKSO Mainnet Explorer", url: "https://explorer.execution.mainnet.lukso.network" } } }, Cc, { id: 59140, network: "linea-testnet", name: "Linea Goerli Testnet", nativeCurrency: { name: "Linea Ether", symbol: "ETH", decimals: 18 }, rpcUrls: { infura: { http: ["https://linea-goerli.infura.io/v3"], webSocket: ["wss://linea-goerli.infura.io/ws/v3"] }, default: { http: ["https://rpc.goerli.linea.build"], webSocket: ["wss://rpc.goerli.linea.build"] }, public: { http: ["https://rpc.goerli.linea.build"], webSocket: ["wss://rpc.goerli.linea.build"] } }, blockExplorers: { default: { name: "Etherscan", url: "https://goerli.lineascan.build" }, etherscan: { name: "Etherscan", url: "https://goerli.lineascan.build" } }, testnet: !0 }, vc, wc, Pc, { id: 999, name: "Zora Goerli Testnet", network: "zora-testnet", nativeCurrency: { decimals: 18, name: "Zora Goerli", symbol: "ETH" }, rpcUrls: { default: { http: ["https://testnet.rpc.zora.energy"], webSocket: ["wss://testnet.rpc.zora.energy"] }, public: { http: ["https://testnet.rpc.zora.energy"], webSocket: ["wss://testnet.rpc.zora.energy"] } }, blockExplorers: { default: { name: "Explorer", url: "https://testnet.explorer.zora.energy" } }, testnet: !0 }, { id: 999999999, name: "Zora Sepolia", network: "zora-sepolia", nativeCurrency: { decimals: 18, name: "Zora Sepolia", symbol: "ETH" }, rpcUrls: { default: { http: ["https://sepolia.rpc.zora.energy"], webSocket: ["wss://sepolia.rpc.zora.energy"] }, public: { http: ["https://sepolia.rpc.zora.energy"], webSocket: ["wss://sepolia.rpc.zora.energy"] } }, blockExplorers: { default: { name: "Zora Sepolia Explorer", url: "https://sepolia.explorer.zora.energy/" } }, testnet: !0 }, { id: 17e3, name: "Holesky", network: "holesky", nativeCurrency: { name: "ETH", symbol: "ETH", decimals: 18 }, rpcUrls: { default: { http: ["https://ethereum-holesky.publicnode.com"] }, public: { http: ["https://ethereum-holesky.publicnode.com"] } }, blockExplorers: { etherscan: { name: "EtherScan", url: "https://holesky.etherscan.io" }, default: { name: "EtherScan", url: "https://holesky.etherscan.io" } } }, { id: 690, name: "Redstone", network: "redstone", nativeCurrency: { name: "ETH", symbol: "ETH", decimals: 18 }, rpcUrls: { default: { http: ["https://rpc.redstonechain.com"] }, public: { http: ["https://rpc.redstonechain.com"] } }, blockExplorers: { default: { name: "Blockscout", url: "https://explorer.redstone.xyz/" } } }, { id: 17069, name: "Garnet Holesky", network: "garnet-holesky", nativeCurrency: { name: "ETH", symbol: "ETH", decimals: 18 }, rpcUrls: { default: { http: ["https://rpc.garnetchain.com"] }, public: { http: ["https://rpc.garnetchain.com"] } }, blockExplorers: { default: { name: "Blockscout", url: "https://explorer.garnetchain.com" } } }], Oc = new Set(Mc.map((e => e.id))); var Rc, jc; (jc = Rc || (Rc = {})).MISSING_OR_INVALID_PRIVY_APP_ID = "missing_or_invalid_privy_app_id", jc.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID = "missing_or_invalid_privy_account_id", jc.INVALID_DATA = "invalid_data", jc.LINKED_TO_ANOTHER_USER = "linked_to_another_user", jc.ALLOWLIST_REJECTED = "allowlist_rejected", jc.OAUTH_USER_DENIED = "oauth_user_denied", jc.UNKNOWN_AUTH_ERROR = "unknown_auth_error", jc.USER_EXITED_AUTH_FLOW = "exited_auth_flow", jc.MUST_BE_AUTHENTICATED = "must_be_authenticated", jc.UNKNOWN_CONNECT_WALLET_ERROR = "unknown_connect_wallet_error", jc.GENERIC_CONNECT_WALLET_ERROR = "generic_connect_wallet_error", jc.CLIENT_REQUEST_TIMEOUT = "client_request_timeout", jc.INVALID_CREDENTIALS = "invalid_credentials"; class $c extends Error { toString() { return `${this.type}${this.privyErrorCode ? `-${this.privyErrorCode}` : ""}: ${this.message}${this.cause ? ` [cause: ${this.cause}]` : ""}` } constructor(e, t, n) { super(e), t instanceof Error && (this.cause = t), this.privyErrorCode = n } } class Lc extends $c { constructor(e, t, n) { super(e), this.type = "provider_error", this.code = t, this.data = n } } let Dc = { UNKNOWN_ERROR: { eipCode: 0, message: "Unknown error", detail: "Unknown error", retryable: !0 }, E4001_DEFAULT_USER_REJECTED_REQUEST: { eipCode: 4001, message: "User Rejected Request", detail: "The user rejected the request.", default: !0, retryable: !0 }, E4100_DEFAULT_UNAUTHORIZED: { eipCode: 4100, message: "Unauthorized", detail: "The requested method and/or account has not been authorized by the user.", default: !0, retryable: !1 }, E4200_DEFAULT_UNSUPPORTED_METHOD: { eipCode: 4200, message: "Unsupported Method", detail: "The Provider does not support the requested method.", default: !0, retryable: !1 }, E4900_DEFAULT_DISCONNECTED: { eipCode: 4900, message: "Disconnected", detail: "The Provider is disconnected from all chains.", default: !0, retryable: !0 }, E4901_DEFAULT_CHAIN_DISCONNECTED: { eipCode: 4901, message: "Chain Disconnected", detail: "The Provider is not connected to the requested chain.", default: !0, retryable: !0 }, E32700_DEFAULT_PARSE_ERROR: { eipCode: -32700, message: "Parse error", detail: "Invalid JSON", default: !0, retryable: !1 }, E32600_DEFAULT_INVALID_REQUEST: { eipCode: -32600, message: "Invalid request", detail: "JSON is not a valid request object", default: !0, retryable: !1 }, E32601_DEFAULT_METHOD_NOT_FOUND: { eipCode: -32601, message: "Method not found", detail: "Method does not exist", default: !0, retryable: !1 }, E32602_DEFAULT_INVALID_PARAMS: { eipCode: -32602, message: "Invalid params", detail: "Invalid method parameters", default: !0, retryable: !1 }, E32603_DEFAULT_INTERNAL_ERROR: { eipCode: -32603, message: "Internal error", detail: "Internal JSON-RPC error", default: !0, retryable: !0 }, E32000_DEFAULT_INVALID_INPUT: { eipCode: -32e3, message: "Invalid input", detail: "Missing or invalid parameters", default: !0, retryable: !1 }, E32001_DEFAULT_RESOURCE_NOT_FOUND: { eipCode: -32001, message: "Resource not found", detail: "Requested resource not found", default: !0, retryable: !1 }, E32002_DEFAULT_RESOURCE_UNAVAILABLE: { eipCode: -32002, message: "Resource unavailable", detail: "Requested resource not available", default: !0, retryable: !0 }, E32003_DEFAULT_TRANSACTION_REJECTED: { eipCode: -32003, message: "Transaction rejected", detail: "Transaction creation failed", default: !0, retryable: !0 }, E32004_DEFAULT_METHOD_NOT_SUPPORTED: { eipCode: -32004, message: "Method not supported", detail: "Method is not implemented", default: !0, retryable: !1 }, E32005_DEFAULT_LIMIT_EXCEEDED: { eipCode: -32005, message: "Limit exceeded", detail: "Request exceeds defined limit", default: !0, retryable: !1 }, E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED: { eipCode: -32006, message: "JSON-RPC version not supported", detail: "Version of JSON-RPC protocol is not supported", default: !0, retryable: !1 }, E32002_CONNECTION_ALREADY_PENDING: { eipCode: -32002, message: "Connection request already pending", detail: "Don\u2019t see your wallet? Check your other browser windows.", retryable: !1 }, E32002_REQUEST_ALREADY_PENDING: { eipCode: -32002, message: "Resource request already pending", detail: "Don\u2019t see your wallet? Check your other browser windows.", retryable: !1 }, E32002_WALLET_LOCKED: { eipCode: -32002, message: "Wallet might be locked", detail: "Don\u2019t see your wallet? Check your other browser windows.", retryable: !1 }, E4001_USER_REJECTED_REQUEST: { eipCode: 4001, message: "Signature rejected", detail: "Please try signing again.", retryable: !0 } }; class Uc extends Lc { constructor(e) { super(e.message, e.code, e.data); let t = Object.values(Dc).find((t => t.eipCode === e.code)); this.details = t || Dc.UNKNOWN_ERROR, -32002 === e.code && (e.message?.includes("already pending for origin") ? e.message?.includes("wallet_requestPermissions") ? this.details = Dc.E32002_CONNECTION_ALREADY_PENDING : this.details = Dc.E32002_REQUEST_ALREADY_PENDING : e.message?.includes("Already processing") && e.message.includes("eth_requestAccounts") && (this.details = Dc.E32002_WALLET_LOCKED)) } } class Fc extends bs.M9 { constructor() { super("Wallet timeout"), this.type = "wallet_error" } } class Bc extends bs.M9 { constructor() { super("User rejected connection"), this.type = "wallet_error" } } const Wc = e => { if (e instanceof bs.M9) return e; if (e?.code && e?.reason) { let t = new qc(e); return e.code === Cn.jK.ACTION_REJECTED && (t.details = Dc.E4001_USER_REJECTED_REQUEST), t } return e?.code ? new qc(e) : new bs.M9("Unknown connector error", e) }; class zc extends bs.Bi { constructor(e, t, n) { super(e), this.type = "provider_error", this.code = t, this.data = n } } class qc extends zc { constructor(e) { super(e.message, e.code, e.data); let t = Object.values(Dc).find((t => t.eipCode === e.code)); this.details = t || Dc.UNKNOWN_ERROR, -32002 === e.code && (e.message?.includes("already pending for origin") ? e.message?.includes("wallet_requestPermissions") ? this.details = Dc.E32002_CONNECTION_ALREADY_PENDING : this.details = Dc.E32002_REQUEST_ALREADY_PENDING : e.message?.includes("Already processing") && e.message.includes("eth_requestAccounts") && (this.details = Dc.E32002_WALLET_LOCKED)) } } const Hc = { ERROR_USER_EXISTS: { message: "User already exists for this address", detail: "Try another address!", retryable: !1 }, ERROR_TIMED_OUT: { message: "Wallet request timed out", detail: "Please try connecting again.", retryable: !0 }, ERROR_WALLET_CONNECTION: { message: "Could not log in with wallet", detail: "Please try connecting again.", retryable: !0 }, ERROR_USER_REJECTED_CONNECTION: { message: "You rejected the request", detail: "Please try connecting again.", retryable: !0 }, ERROR_USER_LIMIT_REACHED: { message: "Unable to link", detail: "You've reached the maximum number of linked wallets.", retryable: !1 }, ...Dc }; function Gc(e) { return "ethereum" === e.type } function Vc(e, t) { if (e.length !== t.length) return !1; for (let n = 0; n < e.length; n++) { let r = e[n], i = t[n]; if (r?.address !== i?.address || r && i && Gc(r) && Gc(i) && r?.chainId !== i?.chainId || r?.connectorType !== i?.connectorType || r?.connectedAt !== i?.connectedAt || r?.walletClientType !== i?.walletClientType || r?.isConnected !== i?.isConnected || r?.linked !== i?.linked) return !1 } return !0 } class Kc extends pc { constructor(e) { super(), this.walletClientType = e, this.connected = !1, this.initialized = !1 } } const Yc = (e, t) => e.rpcTimeouts && e.rpcTimeouts[t] || ha; class Zc { on(e, t) { if (this.walletProvider) return this.walletProvider.on(e, t); this._subscriptions.push({ eventName: e, listener: t }) } async request(e) { if (!this.walletProvider) throw new bs.M9(`A wallet request of type ${e.method} was made before setting a wallet provider.`); return Promise.race([this.walletProvider.request(e), this.walletTimeout()]).catch((e => { throw Wc(e) })) } constructor(e, t) { this.removeListener = (e, t) => { if (this.walletProvider) try { return this.walletProvider.removeListener(e, t) } catch (e) { console.warn("Unable to remove wallet provider listener") } }, this.walletTimeout = (e = new Fc, t = this.rpcTimeoutDuration) => new Promise(((n, r) => setTimeout((() => { r(e) }), t))), this.setWalletProvider = e => { this.walletProvider && this._subscriptions.forEach((e => { this.removeListener(e.eventName, e.listener) })), this.walletProvider = e, this._subscriptions.forEach((e => { this.walletProvider?.on(e.eventName, e.listener) })) }, this.walletProvider = e, this.rpcTimeoutDuration = t || ha, this._subscriptions = [] } } class Xc extends Zc { constructor(e) { super(e, e.rpcTimeoutDuration) } } class Jc extends Zc { sendAsync(e, t) { throw Error("sendAsync is no longer supported by EIP-1193. Use the request method instead.") } constructor(e) { super(e, e.rpcTimeoutDuration) } } function Qc(e) { return "ethereum" === e.chainType } class el extends Kc { buildConnectedWallet(e, t, n, r) { let i = async () => !!this.wallets.find((t => (0, _n.Kn)(t.address) === (0, _n.Kn)(e))); return { type: "ethereum", address: (0, _n.Kn)(e), chainId: t, meta: n, imported: r, switchChain: async n => { let r, o; if (!i) throw new bs.M9("Wallet is not currently connected."); let s = this.wallets.find((t => (0, _n.Kn)(t.address) === (0, _n.Kn)(e)))?.chainId; if (!s) throw new bs.M9("Unable to determine current chainId."); if ("number" == typeof n ? (r = `0x${n.toString(16)}`, o = n) : (r = n, o = Number(n)), s === za(r)) return; let a = this.chains.find((e => e.id === o)); if (!a) throw new bs.M9(`Unsupported chainId: ${n}`); let c = async () => { await this.proxyProvider.request({ method: "wallet_switchEthereumChain", params: [{ chainId: r }] }) }; try { return await c() } catch (t0) { if (((e, t) => "coinbase_wallet" === this.walletClientType ? e.message.includes("addEthereumChain") : 4902 === e.code || e.message?.includes("4902"))(t0)) return await this.proxyProvider.request({ method: "wallet_addEthereumChain", params: [{ chainId: r, chainName: a.name, nativeCurrency: a.nativeCurrency, rpcUrls: [a.rpcUrls.default?.http[0] ?? ""], blockExplorerUrls: [a.blockExplorers?.default.url ?? ""] }] }), c(); if ("rainbow" === this.walletClientType && t0.message?.includes("wallet_switchEthereumChain")) throw new bs.M9(`Rainbow does not support the chainId ${t}`); throw t0 } }, connectedAt: Date.now(), walletClientType: this.walletClientType, connectorType: this.connectorType, isConnected: i, getEthereumProvider: async () => { if (!(await i())) throw new bs.M9("Wallet is not currently connected."); return this.proxyProvider }, getEthersProvider: async () => { if (!(await i())) throw new bs.M9("Wallet is not currently connected."); return new gs(new Xc(this.proxyProvider)) }, getWeb3jsProvider: async () => { if (!(await i())) throw new bs.M9("Wallet is not currently connected."); return new Jc(this.proxyProvider) }, sign: async e => { if (!(await i())) throw new bs.M9("Wallet is not currently connected."); return await this.sign(e) }, disconnect: () => { this.disconnect() } } } async syncAccounts(e) { let t, n = e; try { if (void 0 === n) { let e = await Da((() => this.proxyProvider.request({ method: "eth_accounts" })), { maxAttempts: 10, delayMs: 500 }); console.debug(`eth_accounts for ${this.walletClientType}:`, e), Array.isArray(e) && (n = e) } } catch (t0) { console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.", t0) } if (!n || !Array.isArray(n) || n.length <= 0 || !n[0]) return; let r = n[0], i = (0, _n.Kn)(r), o = []; if ("privy" === this.walletClientType) { let e = ya.get(la(i)); this.chains.find((t => t.id === Number(e))) || (ya.del(la(i)), e = null), t = e || `0x${this.defaultChain.id.toString(16)}`; try { await this.proxyProvider.request({ method: "wallet_switchEthereumChain", params: [{ chainId: t }] }) } catch (t0) { console.warn(`Unable to switch embedded wallet to chain ID ${t} on initialization`) } } else try { let e = await Da((() => this.proxyProvider.request({ method: "eth_chainId" })), { maxAttempts: 10, delayMs: 500 }); if (console.debug(`eth_chainId for ${this.walletClientType}:`, e), "string" == typeof e) t = e; else { if ("number" != typeof e) throw Error("Invalid chainId returned from provider"); t = `0x${e.toString(16)}` } } catch (t0) { console.warn("Failed to get chainId from provider, defaulting to 0x1", t0), t = "0x1" } let s = za(t); if (!o.find((e => (0, _n.Kn)(e.address) === i))) { let e = { name: this.walletBranding.name, icon: "string" == typeof this.walletBranding.icon ? this.walletBranding.icon : void 0, id: this.walletBranding.id }; o.push(this.buildConnectedWallet((0, _n.Kn)(r), s, e, "embedded_imported" === this.connectorType)) } Vc(o, this.wallets) || (this.wallets = o, this.emit("walletsUpdated")) } async getConnectedWallet() { let e = await this.proxyProvider.request({ method: "eth_accounts" }); return this.wallets.sort(((e, t) => t.connectedAt - e.connectedAt)).find((t => e.find((e => (0, _n.Kn)(e) === (0, _n.Kn)(t.address))))) || null } async isConnected() { let e = await this.proxyProvider.request({ method: "eth_accounts" }); return Array.isArray(e) && e.length > 0 } async sign(e) { return await this.connect({ showPrompt: !1 }), new gs(new Xc(this.proxyProvider)).getSigner().signMessage(e) } subscribeListeners() { this.proxyProvider.on("accountsChanged", this.onAccountsChanged), this.proxyProvider.on("chainChanged", this.onChainChanged), this.proxyProvider.on("disconnect", this.onDisconnect), this.proxyProvider.on("connect", this.onConnect) } unsubscribeListeners() { this.proxyProvider.removeListener("accountsChanged", this.onAccountsChanged), this.proxyProvider.removeListener("chainChanged", this.onChainChanged), this.proxyProvider.removeListener("disconnect", this.onDisconnect), this.proxyProvider.removeListener("connect", this.onConnect) } constructor(e, t, n, r) { super(e), this.chainType = "ethereum", this.onAccountsChanged = e => { 0 === e.length ? this.onDisconnect() : this.syncAccounts(e) }, this.onChainChanged = e => { this.wallets.forEach((t => { t.chainId = za(e), "privy" === this.walletClientType && ya.put(la(t.address), e) })), this.emit("walletsUpdated") }, this.onDisconnect = () => { this.connected = !1, this.wallets = [], this.emit("walletsUpdated") }, this.onConnect = () => { this.connected = !0, this.syncAccounts() }, this.wallets = [], this.walletClientType = e, this.chains = t, this.defaultChain = n, this.rpcConfig = r, this.rpcTimeoutDuration = Yc(r, e), this.connected = !1, this.initialized = !1 } } let tl, nl = [1, 11155111, 137, 10, 8453, 84532, 42161, 7777777, 43114, 56], rl = (e, t) => e.makeWeb3Provider({ options: t }); class il extends el { async initialize() { await this.syncAccounts(), this.initialized = !0, this.emit("initialized") } async connect(e) { return e.showPrompt && await this.promptConnection(), await this.isConnected() ? this.getConnectedWallet() : null } disconnect() { this.proxyProvider.walletProvider.disconnect(), this.onDisconnect() } get walletBranding() { return { name: this.displayName, icon: "data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==", id: "com.coinbase.wallet" } } async promptConnection() { try { let e = await this.proxyProvider.request({ method: "eth_requestAccounts" }); if (!e || 0 === e.length || !e[0]) throw new bs.M9("Unable to retrieve accounts"); this.connected = !0, await this.syncAccounts([e[0]]) } catch (e) { throw Wc(e) } } updateConnectionPreference(e) { this.connectionOptions = e, this.walletClientType = "smartWalletOnly" === e ? "coinbase_smart_wallet" : "coinbase_wallet", this.proxyProvider.setWalletProvider(rl(tl, this.connectionOptions)) } constructor(e, t, n, r, i, o) { if (super("coinbase_wallet", e, t, n), this.connectorType = "coinbase_wallet", this.displayName = "Coinbase Wallet", this.proxyProvider = new Zc(void 0, this.rpcTimeoutDuration), this.subscribeListeners(), this.connectionOptions = r.coinbaseWallet.connectionOptions ?? "all", this.walletClientType = "smartWalletOnly" === this.connectionOptions ? "coinbase_smart_wallet" : "coinbase_wallet", "coinbase_smart_wallet" === this.walletClientType && (this.displayName = "Coinbase Smart Wallet"), !tl) { let n = [t.id].concat(e.map((e => e.id))), r = "eoaOnly" !== this.connectionOptions ? n.filter((e => !nl.includes(e))) : []; r.length > 0 && !r.every((e => Oc.has(e))) && console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${r.join(", ")}`), tl = new mc.jp({ appName: i, appLogoUrl: o, appChainIds: n }) } this.proxyProvider.setWalletProvider(rl(tl, this.connectionOptions)) } } const ol = ({ ...e }) => (0, y.jsx)("svg", { width: "15", height: "15", viewBox: "0 0 15 15", fill: "none", xmlns: "http://www.w3.org/2000/svg", ...e, children: (0, y.jsx)("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z", fill: e.color || "var(--privy-color-foreground-3)" }) }); class sl extends el { async initialize() { await this.syncAccounts(), this.initialized = !0, this.emit("initialized") } async connect(e) { return await this.isConnected() ? (await this.proxyProvider.request({ method: "wallet_switchEthereumChain", params: [Ba(e?.chainId || "0x1")] }), this.getConnectedWallet()) : null } get walletBranding() { return { name: "Privy Wallet", icon: ol, id: "io.privy.wallet" } } disconnect() { this.connected = !1 } async promptConnection() { } constructor({ provider: e, chains: t, defaultChain: n, rpcConfig: r, imported: i, walletIndex: o }) { super("privy", t, n, r), this.connectorType = "embedded", this.proxyProvider = e, this.walletIndex = o, i && (this.connectorType = "embedded_imported"), this.subscribeListeners() } } const al = ["eth_sign", "eth_populateTransactionRequest", "eth_signTransaction", "personal_sign", "eth_signTypedData_v4", "csw_signUserOperation", "secp256k1_sign"], cl = (0, Ke.forwardRef)((({ as: e = "div", ...t }, n) => (0, y.jsx)(e, { ...t, ref: n }))), ll = "cf-turnstile-script", ul = "onloadTurnstileCallback", dl = e => !!document.getElementById(e), hl = { normal: { width: 300, height: 65 }, compact: { width: 130, height: 120 }, invisible: { width: 0, height: 0, overflow: "hidden" }, interactionOnly: { width: "fit-content", height: "auto" } }; function fl(e) { let t; return "invisible" !== e && (t = e), t } const pl = (0, Ke.forwardRef)(((e, t) => { const { scriptOptions: n, options: r = {}, siteKey: i, onWidgetLoad: o, onSuccess: s, onExpire: a, onError: c, onBeforeInteractive: l, onAfterInteractive: u, onUnsupported: d, onLoadScript: h, id: f, style: p, as: m = "div", injectScript: g = !0, ...b } = e, v = r.size ?? "normal", [w, E] = (0, Ke.useState)("execute" === r.execution ? hl.invisible : "interaction-only" === r.appearance ? hl.interactionOnly : hl[v]), x = (0, Ke.useRef)(null), _ = (0, Ke.useRef)(!1), [C, A] = (0, Ke.useState)(), [S, k] = (0, Ke.useState)(!1), I = f ?? "cf-turnstile", T = g ? n?.id || `cf-turnstile-script__${I}` : n?.id || ll, N = function (e = ll) { const [t, n] = (0, Ke.useState)(!1); return (0, Ke.useEffect)((() => { const t = () => { dl(e) && n(!0) }, r = new MutationObserver(t); return r.observe(document, { childList: !0, subtree: !0 }), t(), () => { r.disconnect() } }), [e]), t }(T), P = n?.onLoadCallbackName ? `${n.onLoadCallbackName}__${I}` : `${ul}__${I}`, M = (0, Ke.useMemo)((() => ({ sitekey: i, action: r.action, cData: r.cData, callback: s, "error-callback": c, "expired-callback": a, "before-interactive-callback": l, "after-interactive-callback": u, "unsupported-callback": d, theme: r.theme ?? "auto", language: r.language ?? "auto", tabindex: r.tabIndex, "response-field": r.responseField, "response-field-name": r.responseFieldName, size: fl(v), retry: r.retry ?? "auto", "retry-interval": r.retryInterval ?? 8e3, "refresh-expired": r.refreshExpired ?? "auto", execution: r.execution ?? "render", appearance: r.appearance ?? "always" })), [i, r, s, c, a, v, l, u, d]), O = (0, Ke.useMemo)((() => JSON.stringify(M)), [M]); return (0, Ke.useImperativeHandle)(t, (() => { if ("undefined" === typeof window || !N) return; const { turnstile: e } = window; return { getResponse() { if (e?.getResponse && C) return e.getResponse(C); console.warn("Turnstile has not been loaded") }, reset() { if (e?.reset && C) { "execute" === r.execution && E(hl.invisible); try { e.reset(C) } catch (t) { console.warn(`Failed to reset Turnstile widget ${C}`, t) } } else console.warn("Turnstile has not been loaded") }, remove() { e?.remove && C ? (A(""), E(hl.invisible), e.remove(C)) : console.warn("Turnstile has not been loaded") }, render() { if (!e?.render || !x.current || C) return void console.warn("Turnstile has not been loaded or widget already rendered"); const t = e.render(x.current, M); return A(t), "execute" !== r.execution && E(hl[v]), t }, execute() { "execute" === r.execution && (e?.execute && x.current && C ? (e.execute(x.current, M), E(hl[v])) : console.warn("Turnstile has not been loaded or widget has not been rendered")) }, isExpired() { if (e?.isExpired && C) return e.isExpired(C); console.warn("Turnstile has not been loaded") } } }), [N, C, r.execution, v, M, x]), (0, Ke.useEffect)((() => (window[P] = () => k(!0), () => { delete window[P] })), [P]), (0, Ke.useEffect)((() => { g && !S && (({ render: e = "explicit", onLoadCallbackName: t = ul, scriptOptions: { nonce: n = "", defer: r = !0, async: i = !0, id: o = "", appendTo: s, onError: a, crossOrigin: c = "" } = {} }) => { const l = o || ll; if (dl(l)) return; const u = document.createElement("script"); if (u.id = l, u.src = `https://challenges.cloudflare.com/turnstile/v0/api.js?onload=${t}&render=${e}`, document.querySelector(`script[src="${u.src}"]`)) return; u.defer = !!r, u.async = !!i, n && (u.nonce = n), c && (u.crossOrigin = c), a && (u.onerror = a), ("body" === s ? document.body : document.getElementsByTagName("head")[0]).appendChild(u) })({ onLoadCallbackName: P, scriptOptions: { ...n, id: T } }) }), [g, S, P, n, T]), (0, Ke.useEffect)((() => { N && !S && window.turnstile && k(!0) }), [S, N]), (0, Ke.useEffect)((() => { if (!i) return void console.warn("sitekey was not provided"); if (!N || !x.current || !S || _.current) return; const e = window.turnstile.render(x.current, M); A(e), _.current = !0 }), [N, i, M, _, S]), (0, Ke.useEffect)((() => { if (window.turnstile && x.current && C) { dl(C) && window.turnstile.remove(C); const e = window.turnstile.render(x.current, M); A(e), _.current = !0 } }), [O, i]), (0, Ke.useEffect)((() => { if (window.turnstile && C && dl(C)) return o?.(C), () => { window.turnstile.remove(C) } }), [C, o]), (0, Ke.useEffect)((() => { E("execute" === r.execution ? hl.invisible : "interaction-only" === M.appearance ? hl.interactionOnly : hl[v]) }), [r.execution, v, M.appearance]), (0, Ke.useEffect)((() => { N && "function" === typeof h && h() }), [N, h]), (0, y.jsx)(cl, { ref: x, as: m, id: I, style: { ...w, ...p }, ...b }) })); pl.displayName = "Turnstile"; const ml = e => { let { enabled: t, siteKey: n, appId: r, setError: i, setToken: o, setExecuting: s, ref: a } = Xa(), [, c] = (0, Ke.useMemo)((() => n?.split("t:") || []), [n]); if ((0, Ke.useEffect)((() => a.current?.remove), []), !t) return null; if (!c) throw Error("Unsupported captcha site key"); return (0, y.jsx)("div", { className: "hidden h-0 w-0", children: (0, y.jsx)(pl, { ...e, ref: a, siteKey: c, options: { action: r, size: "invisible", ...e.delayedExecution ? { appearance: "execute", execution: "execute" } : { appearance: "always", execution: "render" } }, onUnsupported: () => { e.onUnsupported?.(), console.warn("Browser does not support Turnstile.") }, onError: () => { e.onError?.(), i("Captcha failed"), s(!1) }, onSuccess: t => { e.onSuccess?.(t), o(t), s(!1) }, onExpire: () => { e.onExpire?.(); try { a.current?.reset(), i(void 0), o(void 0) } catch (t0) { i("expired_and_failed_reset") } } }) }) }; var gl = function () { return (gl = Object.assign || function (e) { for (var t, n = 1, r = arguments.length; n < r; n++)for (var i in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e }).apply(this, arguments) }; Object.create; function yl(e, t, n) { if (n || 2 === arguments.length) for (var r, i = 0, o = t.length; i < o; i++)!r && i in t || (r || (r = Array.prototype.slice.call(t, 0, i)), r[i] = t[i]); return e.concat(r || Array.prototype.slice.call(t)) } Object.create; "function" === typeof SuppressedError && SuppressedError; var bl = n(96774), vl = n.n(bl), wl = "-ms-", El = "-moz-", xl = "-webkit-", _l = "comm", Cl = "rule", Al = "decl", Sl = "@keyframes", kl = Math.abs, Il = String.fromCharCode, Tl = Object.assign; function Nl(e) { return e.trim() } function Pl(e, t) { return (e = t.exec(e)) ? e[0] : e } function Ml(e, t, n) { return e.replace(t, n) } function Ol(e, t, n) { return e.indexOf(t, n) } function Rl(e, t) { return 0 | e.charCodeAt(t) } function jl(e, t, n) { return e.slice(t, n) } function $l(e) { return e.length } function Ll(e) { return e.length } function Dl(e, t) { return t.push(e), e } function Ul(e, t) { return e.filter((function (e) { return !Pl(e, t) })) } var Fl = 1, Bl = 1, Wl = 0, zl = 0, ql = 0, Hl = ""; function Gl(e, t, n, r, i, o, s, a) { return { value: e, root: t, parent: n, type: r, props: i, children: o, line: Fl, column: Bl, length: s, return: "", siblings: a } } function Vl(e, t) { return Tl(Gl("", null, null, "", null, null, 0, e.siblings), e, { length: -e.length }, t) } function Kl(e) { for (; e.root;)e = Vl(e.root, { children: [e] }); Dl(e, e.siblings) } function Yl() { return ql = zl > 0 ? Rl(Hl, --zl) : 0, Bl--, 10 === ql && (Bl = 1, Fl--), ql } function Zl() { return ql = zl < Wl ? Rl(Hl, zl++) : 0, Bl++, 10 === ql && (Bl = 1, Fl++), ql } function Xl() { return Rl(Hl, zl) } function Jl() { return zl } function Ql(e, t) { return jl(Hl, e, t) } function eu(e) { switch (e) { case 0: case 9: case 10: case 13: case 32: return 5; case 33: case 43: case 44: case 47: case 62: case 64: case 126: case 59: case 123: case 125: return 4; case 58: return 3; case 34: case 39: case 40: case 91: return 2; case 41: case 93: return 1 }return 0 } function tu(e) { return Fl = Bl = 1, Wl = $l(Hl = e), zl = 0, [] } function nu(e) { return Hl = "", e } function ru(e) { return Nl(Ql(zl - 1, su(91 === e ? e + 2 : 40 === e ? e + 1 : e))) } function iu(e) { for (; (ql = Xl()) && ql < 33;)Zl(); return eu(e) > 2 || eu(ql) > 3 ? "" : " " } function ou(e, t) { for (; --t && Zl() && !(ql < 48 || ql > 102 || ql > 57 && ql < 65 || ql > 70 && ql < 97);); return Ql(e, Jl() + (t < 6 && 32 == Xl() && 32 == Zl())) } function su(e) { for (; Zl();)switch (ql) { case e: return zl; case 34: case 39: 34 !== e && 39 !== e && su(ql); break; case 40: 41 === e && su(e); break; case 92: Zl() }return zl } function au(e, t) { for (; Zl() && e + ql !== 57 && (e + ql !== 84 || 47 !== Xl());); return "/*" + Ql(t, zl - 1) + "*" + Il(47 === e ? e : Zl()) } function cu(e) { for (; !eu(Xl());)Zl(); return Ql(e, zl) } function lu(e, t) { for (var n = "", r = 0; r < e.length; r++)n += t(e[r], r, e, t) || ""; return n } function uu(e, t, n, r) { switch (e.type) { case "@layer": if (e.children.length) break; case "@import": case Al: return e.return = e.return || e.value; case _l: return ""; case Sl: return e.return = e.value + "{" + lu(e.children, r) + "}"; case Cl: if (!$l(e.value = e.props.join(","))) return "" }return $l(n = lu(e.children, r)) ? e.return = e.value + "{" + n + "}" : "" } function du(e, t, n) { switch (function (e, t) { return 45 ^ Rl(e, 0) ? (((t << 2 ^ Rl(e, 0)) << 2 ^ Rl(e, 1)) << 2 ^ Rl(e, 2)) << 2 ^ Rl(e, 3) : 0 }(e, t)) { case 5103: return xl + "print-" + e + e; case 5737: case 4201: case 3177: case 3433: case 1641: case 4457: case 2921: case 5572: case 6356: case 5844: case 3191: case 6645: case 3005: case 6391: case 5879: case 5623: case 6135: case 4599: case 4855: case 4215: case 6389: case 5109: case 5365: case 5621: case 3829: return xl + e + e; case 4789: return El + e + e; case 5349: case 4246: case 4810: case 6968: case 2756: return xl + e + El + e + wl + e + e; case 5936: switch (Rl(e, t + 11)) { case 114: return xl + e + wl + Ml(e, /[svh]\w+-[tblr]{2}/, "tb") + e; case 108: return xl + e + wl + Ml(e, /[svh]\w+-[tblr]{2}/, "tb-rl") + e; case 45: return xl + e + wl + Ml(e, /[svh]\w+-[tblr]{2}/, "lr") + e }case 6828: case 4268: case 2903: return xl + e + wl + e + e; case 6165: return xl + e + wl + "flex-" + e + e; case 5187: return xl + e + Ml(e, /(\w+).+(:[^]+)/, "-webkit-box-$1$2-ms-flex-$1$2") + e; case 5443: return xl + e + wl + "flex-item-" + Ml(e, /flex-|-self/g, "") + (Pl(e, /flex-|baseline/) ? "" : wl + "grid-row-" + Ml(e, /flex-|-self/g, "")) + e; case 4675: return xl + e + wl + "flex-line-pack" + Ml(e, /align-content|flex-|-self/g, "") + e; case 5548: return xl + e + wl + Ml(e, "shrink", "negative") + e; case 5292: return xl + e + wl + Ml(e, "basis", "preferred-size") + e; case 6060: return xl + "box-" + Ml(e, "-grow", "") + xl + e + wl + Ml(e, "grow", "positive") + e; case 4554: return xl + Ml(e, /([^-])(transform)/g, "$1-webkit-$2") + e; case 6187: return Ml(Ml(Ml(e, /(zoom-|grab)/, xl + "$1"), /(image-set)/, xl + "$1"), e, "") + e; case 5495: case 3959: return Ml(e, /(image-set\([^]*)/, xl + "$1$`$1"); case 4968: return Ml(Ml(e, /(.+:)(flex-)?(.*)/, "-webkit-box-pack:$3-ms-flex-pack:$3"), /s.+-b[^;]+/, "justify") + xl + e + e; case 4200: if (!Pl(e, /flex-|baseline/)) return wl + "grid-column-align" + jl(e, t) + e; break; case 2592: case 3360: return wl + Ml(e, "template-", "") + e; case 4384: case 3616: return n && n.some((function (e, n) { return t = n, Pl(e.props, /grid-\w+-end/) })) ? ~Ol(e + (n = n[t].value), "span", 0) ? e : wl + Ml(e, "-start", "") + e + wl + "grid-row-span:" + (~Ol(n, "span", 0) ? Pl(n, /\d+/) : +Pl(n, /\d+/) - +Pl(e, /\d+/)) + ";" : wl + Ml(e, "-start", "") + e; case 4896: case 4128: return n && n.some((function (e) { return Pl(e.props, /grid-\w+-start/) })) ? e : wl + Ml(Ml(e, "-end", "-span"), "span ", "") + e; case 4095: case 3583: case 4068: case 2532: return Ml(e, /(.+)-inline(.+)/, xl + "$1$2") + e; case 8116: case 7059: case 5753: case 5535: case 5445: case 5701: case 4933: case 4677: case 5533: case 5789: case 5021: case 4765: if ($l(e) - 1 - t > 6) switch (Rl(e, t + 1)) { case 109: if (45 !== Rl(e, t + 4)) break; case 102: return Ml(e, /(.+:)(.+)-([^]+)/, "$1-webkit-$2-$3$1" + El + (108 == Rl(e, t + 3) ? "$3" : "$2-$3")) + e; case 115: return ~Ol(e, "stretch", 0) ? du(Ml(e, "stretch", "fill-available"), t, n) + e : e }break; case 5152: case 5920: return Ml(e, /(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/, (function (t, n, r, i, o, s, a) { return wl + n + ":" + r + a + (i ? wl + n + "-span:" + (o ? s : +s - +r) + a : "") + e })); case 4949: if (121 === Rl(e, t + 6)) return Ml(e, ":", ":" + xl) + e; break; case 6444: switch (Rl(e, 45 === Rl(e, 14) ? 18 : 11)) { case 120: return Ml(e, /(.+:)([^;\s!]+)(;|(\s+)?!.+)?/, "$1" + xl + (45 === Rl(e, 14) ? "inline-" : "") + "box$3$1" + xl + "$2$3$1" + wl + "$2box$3") + e; case 100: return Ml(e, ":", ":" + wl) + e }break; case 5719: case 2647: case 2135: case 3927: case 2391: return Ml(e, "scroll-", "scroll-snap-") + e }return e } function hu(e, t, n, r) { if (e.length > -1 && !e.return) switch (e.type) { case Al: return void (e.return = du(e.value, e.length, n)); case Sl: return lu([Vl(e, { value: Ml(e.value, "@", "@" + xl) })], r); case Cl: if (e.length) return function (e, t) { return e.map(t).join("") }(n = e.props, (function (t) { switch (Pl(t, r = /(::plac\w+|:read-\w+)/)) { case ":read-only": case ":read-write": Kl(Vl(e, { props: [Ml(t, /:(read-\w+)/, ":-moz-$1")] })), Kl(Vl(e, { props: [t] })), Tl(e, { props: Ul(n, r) }); break; case "::placeholder": Kl(Vl(e, { props: [Ml(t, /:(plac\w+)/, ":-webkit-input-$1")] })), Kl(Vl(e, { props: [Ml(t, /:(plac\w+)/, ":-moz-$1")] })), Kl(Vl(e, { props: [Ml(t, /:(plac\w+)/, wl + "input-$1")] })), Kl(Vl(e, { props: [t] })), Tl(e, { props: Ul(n, r) }) }return "" })) } } function fu(e) { return nu(pu("", null, null, null, [""], e = tu(e), 0, [0], e)) } function pu(e, t, n, r, i, o, s, a, c) { for (var l = 0, u = 0, d = s, h = 0, f = 0, p = 0, m = 1, g = 1, y = 1, b = 0, v = "", w = i, E = o, x = r, _ = v; g;)switch (p = b, b = Zl()) { case 40: if (108 != p && 58 == Rl(_, d - 1)) { -1 != Ol(_ += Ml(ru(b), "&", "&\f"), "&\f", kl(l ? a[l - 1] : 0)) && (y = -1); break } case 34: case 39: case 91: _ += ru(b); break; case 9: case 10: case 13: case 32: _ += iu(p); break; case 92: _ += ou(Jl() - 1, 7); continue; case 47: switch (Xl()) { case 42: case 47: Dl(gu(au(Zl(), Jl()), t, n, c), c); break; default: _ += "/" }break; case 123 * m: a[l++] = $l(_) * y; case 125 * m: case 59: case 0: switch (b) { case 0: case 125: g = 0; case 59 + u: -1 == y && (_ = Ml(_, /\f/g, "")), f > 0 && $l(_) - d && Dl(f > 32 ? yu(_ + ";", r, n, d - 1, c) : yu(Ml(_, " ", "") + ";", r, n, d - 2, c), c); break; case 59: _ += ";"; default: if (Dl(x = mu(_, t, n, l, u, i, a, v, w = [], E = [], d, o), o), 123 === b) if (0 === u) pu(_, t, x, x, w, o, d, a, E); else switch (99 === h && 110 === Rl(_, 3) ? 100 : h) { case 100: case 108: case 109: case 115: pu(e, x, x, r && Dl(mu(e, x, x, 0, 0, i, a, v, i, w = [], d, E), E), i, E, d, a, r ? w : E); break; default: pu(_, x, x, x, [""], E, 0, a, E) } }l = u = f = 0, m = y = 1, v = _ = "", d = s; break; case 58: d = 1 + $l(_), f = p; default: if (m < 1) if (123 == b) --m; else if (125 == b && 0 == m++ && 125 == Yl()) continue; switch (_ += Il(b), b * m) { case 38: y = u > 0 ? 1 : (_ += "\f", -1); break; case 44: a[l++] = ($l(_) - 1) * y, y = 1; break; case 64: 45 === Xl() && (_ += ru(Zl())), h = Xl(), u = d = $l(v = _ += cu(Jl())), b++; break; case 45: 45 === p && 2 == $l(_) && (m = 0) } }return o } function mu(e, t, n, r, i, o, s, a, c, l, u, d) { for (var h = i - 1, f = 0 === i ? o : [""], p = Ll(f), m = 0, g = 0, y = 0; m < r; ++m)for (var b = 0, v = jl(e, h + 1, h = kl(g = s[m])), w = e; b < p; ++b)(w = Nl(g > 0 ? f[b] + " " + v : Ml(v, /&\f/g, f[b]))) && (c[y++] = w); return Gl(e, t, n, 0 === i ? Cl : a, c, l, u, d) } function gu(e, t, n, r) { return Gl(e, t, n, _l, Il(ql), jl(e, 2, -2), 0, r) } function yu(e, t, n, r, i) { return Gl(e, t, n, Al, jl(e, 0, r), jl(e, r + 1, -1), r, i) } var bu = { animationIterationCount: 1, aspectRatio: 1, borderImageOutset: 1, borderImageSlice: 1, borderImageWidth: 1, boxFlex: 1, boxFlexGroup: 1, boxOrdinalGroup: 1, columnCount: 1, columns: 1, flex: 1, flexGrow: 1, flexPositive: 1, flexShrink: 1, flexNegative: 1, flexOrder: 1, gridRow: 1, gridRowEnd: 1, gridRowSpan: 1, gridRowStart: 1, gridColumn: 1, gridColumnEnd: 1, gridColumnSpan: 1, gridColumnStart: 1, msGridRow: 1, msGridRowSpan: 1, msGridColumn: 1, msGridColumnSpan: 1, fontWeight: 1, lineHeight: 1, opacity: 1, order: 1, orphans: 1, tabSize: 1, widows: 1, zIndex: 1, zoom: 1, WebkitLineClamp: 1, fillOpacity: 1, floodOpacity: 1, stopOpacity: 1, strokeDasharray: 1, strokeDashoffset: 1, strokeMiterlimit: 1, strokeOpacity: 1, strokeWidth: 1 }, vu = n(34155), wu = "undefined" != typeof vu && void 0 !== vu.env && (vu.env.REACT_APP_SC_ATTR || vu.env.SC_ATTR) || "data-styled", Eu = "active", xu = "data-styled-version", _u = "6.1.13", Cu = "/*!sc*/\n", Au = "undefined" != typeof window && "HTMLElement" in window, Su = Boolean("boolean" == typeof SC_DISABLE_SPEEDY ? SC_DISABLE_SPEEDY : "undefined" != typeof vu && void 0 !== vu.env && void 0 !== vu.env.REACT_APP_SC_DISABLE_SPEEDY && "" !== vu.env.REACT_APP_SC_DISABLE_SPEEDY ? "false" !== vu.env.REACT_APP_SC_DISABLE_SPEEDY && vu.env.REACT_APP_SC_DISABLE_SPEEDY : "undefined" != typeof vu && void 0 !== vu.env && void 0 !== vu.env.SC_DISABLE_SPEEDY && "" !== vu.env.SC_DISABLE_SPEEDY && ("false" !== vu.env.SC_DISABLE_SPEEDY && vu.env.SC_DISABLE_SPEEDY)), ku = {}, Iu = (new Set, Object.freeze([])), Tu = Object.freeze({}); function Nu(e, t, n) { return void 0 === n && (n = Tu), e.theme !== n.theme && e.theme || t || n.theme } var Pu = new Set(["a", "abbr", "address", "area", "article", "aside", "audio", "b", "base", "bdi", "bdo", "big", "blockquote", "body", "br", "button", "canvas", "caption", "cite", "code", "col", "colgroup", "data", "datalist", "dd", "del", "details", "dfn", "dialog", "div", "dl", "dt", "em", "embed", "fieldset", "figcaption", "figure", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "header", "hgroup", "hr", "html", "i", "iframe", "img", "input", "ins", "kbd", "keygen", "label", "legend", "li", "link", "main", "map", "mark", "menu", "menuitem", "meta", "meter", "nav", "noscript", "object", "ol", "optgroup", "option", "output", "p", "param", "picture", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "script", "section", "select", "small", "source", "span", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "textarea", "tfoot", "th", "thead", "time", "tr", "track", "u", "ul", "use", "var", "video", "wbr", "circle", "clipPath", "defs", "ellipse", "foreignObject", "g", "image", "line", "linearGradient", "marker", "mask", "path", "pattern", "polygon", "polyline", "radialGradient", "rect", "stop", "svg", "text", "tspan"]), Mu = /[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g, Ou = /(^-|-$)/g; function Ru(e) { return e.replace(Mu, "-").replace(Ou, "") } var ju = /(a)(d)/gi, $u = function (e) { return String.fromCharCode(e + (e > 25 ? 39 : 97)) }; function Lu(e) { var t, n = ""; for (t = Math.abs(e); t > 52; t = t / 52 | 0)n = $u(t % 52) + n; return ($u(t % 52) + n).replace(ju, "$1-$2") } var Du, Uu = function (e, t) { for (var n = t.length; n;)e = 33 * e ^ t.charCodeAt(--n); return e }, Fu = function (e) { return Uu(5381, e) }; function Bu(e) { return Lu(Fu(e) >>> 0) } function Wu(e) { return e.displayName || e.name || "Component" } function zu(e) { return "string" == typeof e && !0 } var qu = "function" == typeof Symbol && Symbol.for, Hu = qu ? Symbol.for("react.memo") : 60115, Gu = qu ? Symbol.for("react.forward_ref") : 60112, Vu = { childContextTypes: !0, contextType: !0, contextTypes: !0, defaultProps: !0, displayName: !0, getDefaultProps: !0, getDerivedStateFromError: !0, getDerivedStateFromProps: !0, mixins: !0, propTypes: !0, type: !0 }, Ku = { name: !0, length: !0, prototype: !0, caller: !0, callee: !0, arguments: !0, arity: !0 }, Yu = { $$typeof: !0, compare: !0, defaultProps: !0, displayName: !0, propTypes: !0, type: !0 }, Zu = ((Du = {})[Gu] = { $$typeof: !0, render: !0, defaultProps: !0, displayName: !0, propTypes: !0 }, Du[Hu] = Yu, Du); function Xu(e) { return ("type" in (t = e) && t.type.$$typeof) === Hu ? Yu : "$$typeof" in e ? Zu[e.$$typeof] : Vu; var t } var Ju = Object.defineProperty, Qu = Object.getOwnPropertyNames, ed = Object.getOwnPropertySymbols, td = Object.getOwnPropertyDescriptor, nd = Object.getPrototypeOf, rd = Object.prototype; function id(e, t, n) { if ("string" != typeof t) { if (rd) { var r = nd(t); r && r !== rd && id(e, r, n) } var i = Qu(t); ed && (i = i.concat(ed(t))); for (var o = Xu(e), s = Xu(t), a = 0; a < i.length; ++a) { var c = i[a]; if (!(c in Ku || n && n[c] || s && c in s || o && c in o)) { var l = td(t, c); try { Ju(e, c, l) } catch (e) { } } } } return e } function od(e) { return "function" == typeof e } function sd(e) { return "object" == typeof e && "styledComponentId" in e } function ad(e, t) { return e && t ? "".concat(e, " ").concat(t) : e || t || "" } function cd(e, t) { if (0 === e.length) return ""; for (var n = e[0], r = 1; r < e.length; r++)n += t ? t + e[r] : e[r]; return n } function ld(e) { return null !== e && "object" == typeof e && e.constructor.name === Object.name && !("props" in e && e.$$typeof) } function ud(e, t, n) { if (void 0 === n && (n = !1), !n && !ld(e) && !Array.isArray(e)) return t; if (Array.isArray(t)) for (var r = 0; r < t.length; r++)e[r] = ud(e[r], t[r]); else if (ld(t)) for (var r in t) e[r] = ud(e[r], t[r]); return e } function dd(e, t) { Object.defineProperty(e, "toString", { value: t }) } function hd(e) { for (var t = [], n = 1; n < arguments.length; n++)t[n - 1] = arguments[n]; return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e, " for more information.").concat(t.length > 0 ? " Args: ".concat(t.join(", ")) : "")) } var fd = function () { function e(e) { this.groupSizes = new Uint32Array(512), this.length = 512, this.tag = e } return e.prototype.indexOfGroup = function (e) { for (var t = 0, n = 0; n < e; n++)t += this.groupSizes[n]; return t }, e.prototype.insertRules = function (e, t) { if (e >= this.groupSizes.length) { for (var n = this.groupSizes, r = n.length, i = r; e >= i;)if ((i <<= 1) < 0) throw hd(16, "".concat(e)); this.groupSizes = new Uint32Array(i), this.groupSizes.set(n), this.length = i; for (var o = r; o < i; o++)this.groupSizes[o] = 0 } for (var s = this.indexOfGroup(e + 1), a = (o = 0, t.length); o < a; o++)this.tag.insertRule(s, t[o]) && (this.groupSizes[e]++, s++) }, e.prototype.clearGroup = function (e) { if (e < this.length) { var t = this.groupSizes[e], n = this.indexOfGroup(e), r = n + t; this.groupSizes[e] = 0; for (var i = n; i < r; i++)this.tag.deleteRule(n) } }, e.prototype.getGroup = function (e) { var t = ""; if (e >= this.length || 0 === this.groupSizes[e]) return t; for (var n = this.groupSizes[e], r = this.indexOfGroup(e), i = r + n, o = r; o < i; o++)t += "".concat(this.tag.getRule(o)).concat(Cu); return t }, e }(), pd = new Map, md = new Map, gd = 1, yd = function (e) { if (pd.has(e)) return pd.get(e); for (; md.has(gd);)gd++; var t = gd++; return pd.set(e, t), md.set(t, e), t }, bd = function (e, t) { gd = t + 1, pd.set(e, t), md.set(t, e) }, vd = "style[".concat(wu, "][").concat(xu, '="').concat(_u, '"]'), wd = new RegExp("^".concat(wu, '\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')), Ed = function (e, t, n) { for (var r, i = n.split(","), o = 0, s = i.length; o < s; o++)(r = i[o]) && e.registerName(t, r) }, xd = function (e, t) { for (var n, r = (null !== (n = t.textContent) && void 0 !== n ? n : "").split(Cu), i = [], o = 0, s = r.length; o < s; o++) { var a = r[o].trim(); if (a) { var c = a.match(wd); if (c) { var l = 0 | parseInt(c[1], 10), u = c[2]; 0 !== l && (bd(u, l), Ed(e, u, c[3]), e.getTag().insertRules(l, i)), i.length = 0 } else i.push(a) } } }, _d = function (e) { for (var t = document.querySelectorAll(vd), n = 0, r = t.length; n < r; n++) { var i = t[n]; i && i.getAttribute(wu) !== Eu && (xd(e, i), i.parentNode && i.parentNode.removeChild(i)) } }; function Cd() { return n.nc } var Ad = function (e) { var t = document.head, n = e || t, r = document.createElement("style"), i = function (e) { var t = Array.from(e.querySelectorAll("style[".concat(wu, "]"))); return t[t.length - 1] }(n), o = void 0 !== i ? i.nextSibling : null; r.setAttribute(wu, Eu), r.setAttribute(xu, _u); var s = Cd(); return s && r.setAttribute("nonce", s), n.insertBefore(r, o), r }, Sd = function () { function e(e) { this.element = Ad(e), this.element.appendChild(document.createTextNode("")), this.sheet = function (e) { if (e.sheet) return e.sheet; for (var t = document.styleSheets, n = 0, r = t.length; n < r; n++) { var i = t[n]; if (i.ownerNode === e) return i } throw hd(17) }(this.element), this.length = 0 } return e.prototype.insertRule = function (e, t) { try { return this.sheet.insertRule(t, e), this.length++, !0 } catch (e) { return !1 } }, e.prototype.deleteRule = function (e) { this.sheet.deleteRule(e), this.length-- }, e.prototype.getRule = function (e) { var t = this.sheet.cssRules[e]; return t && t.cssText ? t.cssText : "" }, e }(), kd = function () { function e(e) { this.element = Ad(e), this.nodes = this.element.childNodes, this.length = 0 } return e.prototype.insertRule = function (e, t) { if (e <= this.length && e >= 0) { var n = document.createTextNode(t); return this.element.insertBefore(n, this.nodes[e] || null), this.length++, !0 } return !1 }, e.prototype.deleteRule = function (e) { this.element.removeChild(this.nodes[e]), this.length-- }, e.prototype.getRule = function (e) { return e < this.length ? this.nodes[e].textContent : "" }, e }(), Id = function () { function e(e) { this.rules = [], this.length = 0 } return e.prototype.insertRule = function (e, t) { return e <= this.length && (this.rules.splice(e, 0, t), this.length++, !0) }, e.prototype.deleteRule = function (e) { this.rules.splice(e, 1), this.length-- }, e.prototype.getRule = function (e) { return e < this.length ? this.rules[e] : "" }, e }(), Td = Au, Nd = { isServer: !Au, useCSSOMInjection: !Su }, Pd = function () { function e(e, t, n) { void 0 === e && (e = Tu), void 0 === t && (t = {}); var r = this; this.options = gl(gl({}, Nd), e), this.gs = t, this.names = new Map(n), this.server = !!e.isServer, !this.server && Au && Td && (Td = !1, _d(this)), dd(this, (function () { return function (e) { for (var t = e.getTag(), n = t.length, r = "", i = function (n) { var i = function (e) { return md.get(e) }(n); if (void 0 === i) return "continue"; var o = e.names.get(i), s = t.getGroup(n); if (void 0 === o || !o.size || 0 === s.length) return "continue"; var a = "".concat(wu, ".g").concat(n, '[id="').concat(i, '"]'), c = ""; void 0 !== o && o.forEach((function (e) { e.length > 0 && (c += "".concat(e, ",")) })), r += "".concat(s).concat(a, '{content:"').concat(c, '"}').concat(Cu) }, o = 0; o < n; o++)i(o); return r }(r) })) } return e.registerId = function (e) { return yd(e) }, e.prototype.rehydrate = function () { !this.server && Au && _d(this) }, e.prototype.reconstructWithOptions = function (t, n) { return void 0 === n && (n = !0), new e(gl(gl({}, this.options), t), this.gs, n && this.names || void 0) }, e.prototype.allocateGSInstance = function (e) { return this.gs[e] = (this.gs[e] || 0) + 1 }, e.prototype.getTag = function () { return this.tag || (this.tag = (e = function (e) { var t = e.useCSSOMInjection, n = e.target; return e.isServer ? new Id(n) : t ? new Sd(n) : new kd(n) }(this.options), new fd(e))); var e }, e.prototype.hasNameForId = function (e, t) { return this.names.has(e) && this.names.get(e).has(t) }, e.prototype.registerName = function (e, t) { if (yd(e), this.names.has(e)) this.names.get(e).add(t); else { var n = new Set; n.add(t), this.names.set(e, n) } }, e.prototype.insertRules = function (e, t, n) { this.registerName(e, t), this.getTag().insertRules(yd(e), n) }, e.prototype.clearNames = function (e) { this.names.has(e) && this.names.get(e).clear() }, e.prototype.clearRules = function (e) { this.getTag().clearGroup(yd(e)), this.clearNames(e) }, e.prototype.clearTag = function () { this.tag = void 0 }, e }(), Md = /&/g, Od = /^\s*\/\/.*$/gm; function Rd(e, t) { return e.map((function (e) { return "rule" === e.type && (e.value = "".concat(t, " ").concat(e.value), e.value = e.value.replaceAll(",", ",".concat(t, " ")), e.props = e.props.map((function (e) { return "".concat(t, " ").concat(e) }))), Array.isArray(e.children) && "@keyframes" !== e.type && (e.children = Rd(e.children, t)), e })) } function jd(e) { var t, n, r, i = void 0 === e ? Tu : e, o = i.options, s = void 0 === o ? Tu : o, a = i.plugins, c = void 0 === a ? Iu : a, l = function (e, r, i) { return i.startsWith(n) && i.endsWith(n) && i.replaceAll(n, "").length > 0 ? ".".concat(t) : e }, u = c.slice(); u.push((function (e) { e.type === Cl && e.value.includes("&") && (e.props[0] = e.props[0].replace(Md, n).replace(r, l)) })), s.prefix && u.push(hu), u.push(uu); var d = function (e, i, o, a) { void 0 === i && (i = ""), void 0 === o && (o = ""), void 0 === a && (a = "&"), t = a, n = i, r = new RegExp("\\".concat(n, "\\b"), "g"); var c = e.replace(Od, ""), l = fu(o || i ? "".concat(o, " ").concat(i, " { ").concat(c, " }") : c); s.namespace && (l = Rd(l, s.namespace)); var d, h = []; return lu(l, function (e) { var t = Ll(e); return function (n, r, i, o) { for (var s = "", a = 0; a < t; a++)s += e[a](n, r, i, o) || ""; return s } }(u.concat((d = function (e) { return h.push(e) }, function (e) { e.root || (e = e.return) && d(e) })))), h }; return d.hash = c.length ? c.reduce((function (e, t) { return t.name || hd(15), Uu(e, t.name) }), 5381).toString() : "", d } var $d = new Pd, Ld = jd(), Dd = Ke.createContext({ shouldForwardProp: void 0, styleSheet: $d, stylis: Ld }), Ud = (Dd.Consumer, Ke.createContext(void 0)); function Fd() { return (0, Ke.useContext)(Dd) } function Bd(e) { var t = (0, Ke.useState)(e.stylisPlugins), n = t[0], r = t[1], i = Fd().styleSheet, o = (0, Ke.useMemo)((function () { var t = i; return e.sheet ? t = e.sheet : e.target && (t = t.reconstructWithOptions({ target: e.target }, !1)), e.disableCSSOMInjection && (t = t.reconstructWithOptions({ useCSSOMInjection: !1 })), t }), [e.disableCSSOMInjection, e.sheet, e.target, i]), s = (0, Ke.useMemo)((function () { return jd({ options: { namespace: e.namespace, prefix: e.enableVendorPrefixes }, plugins: n }) }), [e.enableVendorPrefixes, e.namespace, n]); (0, Ke.useEffect)((function () { vl()(n, e.stylisPlugins) || r(e.stylisPlugins) }), [e.stylisPlugins]); var a = (0, Ke.useMemo)((function () { return { shouldForwardProp: e.shouldForwardProp, styleSheet: o, stylis: s } }), [e.shouldForwardProp, o, s]); return Ke.createElement(Dd.Provider, { value: a }, Ke.createElement(Ud.Provider, { value: s }, e.children)) } var Wd = function () { function e(e, t) { var n = this; this.inject = function (e, t) { void 0 === t && (t = Ld); var r = n.name + t.hash; e.hasNameForId(n.id, r) || e.insertRules(n.id, r, t(n.rules, r, "@keyframes")) }, this.name = e, this.id = "sc-keyframes-".concat(e), this.rules = t, dd(this, (function () { throw hd(12, String(n.name)) })) } return e.prototype.getName = function (e) { return void 0 === e && (e = Ld), this.name + e.hash }, e }(), zd = function (e) { return e >= "A" && e <= "Z" }; function qd(e) { for (var t = "", n = 0; n < e.length; n++) { var r = e[n]; if (1 === n && "-" === r && "-" === e[0]) return e; zd(r) ? t += "-" + r.toLowerCase() : t += r } return t.startsWith("ms-") ? "-" + t : t } var Hd = function (e) { return null == e || !1 === e || "" === e }, Gd = function (e) { var t, n, r = []; for (var i in e) { var o = e[i]; e.hasOwnProperty(i) && !Hd(o) && (Array.isArray(o) && o.isCss || od(o) ? r.push("".concat(qd(i), ":"), o, ";") : ld(o) ? r.push.apply(r, yl(yl(["".concat(i, " {")], Gd(o), !1), ["}"], !1)) : r.push("".concat(qd(i), ": ").concat((t = i, null == (n = o) || "boolean" == typeof n || "" === n ? "" : "number" != typeof n || 0 === n || t in bu || t.startsWith("--") ? String(n).trim() : "".concat(n, "px")), ";"))) } return r }; function Vd(e, t, n, r) { return Hd(e) ? [] : sd(e) ? [".".concat(e.styledComponentId)] : od(e) ? !od(i = e) || i.prototype && i.prototype.isReactComponent || !t ? [e] : Vd(e(t), t, n, r) : e instanceof Wd ? n ? (e.inject(n, r), [e.getName(r)]) : [e] : ld(e) ? Gd(e) : Array.isArray(e) ? Array.prototype.concat.apply(Iu, e.map((function (e) { return Vd(e, t, n, r) }))) : [e.toString()]; var i } function Kd(e) { for (var t = 0; t < e.length; t += 1) { var n = e[t]; if (od(n) && !sd(n)) return !1 } return !0 } var Yd = Fu(_u), Zd = function () { function e(e, t, n) { this.rules = e, this.staticRulesId = "", this.isStatic = (void 0 === n || n.isStatic) && Kd(e), this.componentId = t, this.baseHash = Uu(Yd, t), this.baseStyle = n, Pd.registerId(t) } return e.prototype.generateAndInjectStyles = function (e, t, n) { var r = this.baseStyle ? this.baseStyle.generateAndInjectStyles(e, t, n) : ""; if (this.isStatic && !n.hash) if (this.staticRulesId && t.hasNameForId(this.componentId, this.staticRulesId)) r = ad(r, this.staticRulesId); else { var i = cd(Vd(this.rules, e, t, n)), o = Lu(Uu(this.baseHash, i) >>> 0); if (!t.hasNameForId(this.componentId, o)) { var s = n(i, ".".concat(o), void 0, this.componentId); t.insertRules(this.componentId, o, s) } r = ad(r, o), this.staticRulesId = o } else { for (var a = Uu(this.baseHash, n.hash), c = "", l = 0; l < this.rules.length; l++) { var u = this.rules[l]; if ("string" == typeof u) c += u; else if (u) { var d = cd(Vd(u, e, t, n)); a = Uu(a, d + l), c += d } } if (c) { var h = Lu(a >>> 0); t.hasNameForId(this.componentId, h) || t.insertRules(this.componentId, h, n(c, ".".concat(h), void 0, this.componentId)), r = ad(r, h) } } return r }, e }(), Xd = Ke.createContext(void 0); Xd.Consumer; var Jd = {}; new Set; function Qd(e, t, n) { var r = sd(e), i = e, o = !zu(e), s = t.attrs, a = void 0 === s ? Iu : s, c = t.componentId, l = void 0 === c ? function (e, t) { var n = "string" != typeof e ? "sc" : Ru(e); Jd[n] = (Jd[n] || 0) + 1; var r = "".concat(n, "-").concat(Bu(_u + n + Jd[n])); return t ? "".concat(t, "-").concat(r) : r }(t.displayName, t.parentComponentId) : c, u = t.displayName, d = void 0 === u ? function (e) { return zu(e) ? "styled.".concat(e) : "Styled(".concat(Wu(e), ")") }(e) : u, h = t.displayName && t.componentId ? "".concat(Ru(t.displayName), "-").concat(t.componentId) : t.componentId || l, f = r && i.attrs ? i.attrs.concat(a).filter(Boolean) : a, p = t.shouldForwardProp; if (r && i.shouldForwardProp) { var m = i.shouldForwardProp; if (t.shouldForwardProp) { var g = t.shouldForwardProp; p = function (e, t) { return m(e, t) && g(e, t) } } else p = m } var y = new Zd(n, h, r ? i.componentStyle : void 0); function b(e, t) { return function (e, t, n) { var r = e.attrs, i = e.componentStyle, o = e.defaultProps, s = e.foldedComponentIds, a = e.styledComponentId, c = e.target, l = Ke.useContext(Xd), u = Fd(), d = e.shouldForwardProp || u.shouldForwardProp, h = Nu(t, l, o) || Tu, f = function (e, t, n) { for (var r, i = gl(gl({}, t), { className: void 0, theme: n }), o = 0; o < e.length; o += 1) { var s = od(r = e[o]) ? r(i) : r; for (var a in s) i[a] = "className" === a ? ad(i[a], s[a]) : "style" === a ? gl(gl({}, i[a]), s[a]) : s[a] } return t.className && (i.className = ad(i.className, t.className)), i }(r, t, h), p = f.as || c, m = {}; for (var g in f) void 0 === f[g] || "$" === g[0] || "as" === g || "theme" === g && f.theme === h || ("forwardedAs" === g ? m.as = f.forwardedAs : d && !d(g, p) || (m[g] = f[g])); var y = function (e, t) { var n = Fd(); return e.generateAndInjectStyles(t, n.styleSheet, n.stylis) }(i, f), b = ad(s, a); return y && (b += " " + y), f.className && (b += " " + f.className), m[zu(p) && !Pu.has(p) ? "class" : "className"] = b, m.ref = n, (0, Ke.createElement)(p, m) }(v, e, t) } b.displayName = d; var v = Ke.forwardRef(b); return v.attrs = f, v.componentStyle = y, v.displayName = d, v.shouldForwardProp = p, v.foldedComponentIds = r ? ad(i.foldedComponentIds, i.styledComponentId) : "", v.styledComponentId = h, v.target = r ? i.target : e, Object.defineProperty(v, "defaultProps", { get: function () { return this._foldedDefaultProps }, set: function (e) { this._foldedDefaultProps = r ? function (e) { for (var t = [], n = 1; n < arguments.length; n++)t[n - 1] = arguments[n]; for (var r = 0, i = t; r < i.length; r++)ud(e, i[r], !0); return e }({}, i.defaultProps, e) : e } }), dd(v, (function () { return ".".concat(v.styledComponentId) })), o && id(v, e, { attrs: !0, componentStyle: !0, displayName: !0, foldedComponentIds: !0, shouldForwardProp: !0, styledComponentId: !0, target: !0 }), v } function eh(e, t) { for (var n = [e[0]], r = 0, i = t.length; r < i; r += 1)n.push(t[r], e[r + 1]); return n } var th = function (e) { return Object.assign(e, { isCss: !0 }) }; function nh(e) { for (var t = [], n = 1; n < arguments.length; n++)t[n - 1] = arguments[n]; if (od(e) || ld(e)) return th(Vd(eh(Iu, yl([e], t, !0)))); var r = e; return 0 === t.length && 1 === r.length && "string" == typeof r[0] ? Vd(r) : th(Vd(eh(r, t))) } function rh(e, t, n) { if (void 0 === n && (n = Tu), !t) throw hd(1, t); var r = function (r) { for (var i = [], o = 1; o < arguments.length; o++)i[o - 1] = arguments[o]; return e(t, n, nh.apply(void 0, yl([r], i, !1))) }; return r.attrs = function (r) { return rh(e, t, gl(gl({}, n), { attrs: Array.prototype.concat(n.attrs, r).filter(Boolean) })) }, r.withConfig = function (r) { return rh(e, t, gl(gl({}, n), r)) }, r } var ih = function (e) { return rh(Qd, e) }, oh = ih; Pu.forEach((function (e) { oh[e] = ih(e) })); var sh = function () { function e(e, t) { this.rules = e, this.componentId = t, this.isStatic = Kd(e), Pd.registerId(this.componentId + 1) } return e.prototype.createStyles = function (e, t, n, r) { var i = r(cd(Vd(this.rules, t, n, r)), ""), o = this.componentId + e; n.insertRules(o, o, i) }, e.prototype.removeStyles = function (e, t) { t.clearRules(this.componentId + e) }, e.prototype.renderStyles = function (e, t, n, r) { e > 2 && Pd.registerId(this.componentId + e), this.removeStyles(e, n), this.createStyles(e, t, n, r) }, e }(); function ah(e) { for (var t = [], n = 1; n < arguments.length; n++)t[n - 1] = arguments[n]; var r = nh.apply(void 0, yl([e], t, !1)), i = "sc-global-".concat(Bu(JSON.stringify(r))), o = new sh(r, i), s = function (e) { var t = Fd(), n = Ke.useContext(Xd), r = Ke.useRef(t.styleSheet.allocateGSInstance(i)).current; return t.styleSheet.server && a(r, e, t.styleSheet, n, t.stylis), Ke.useLayoutEffect((function () { if (!t.styleSheet.server) return a(r, e, t.styleSheet, n, t.stylis), function () { return o.removeStyles(r, t.styleSheet) } }), [r, e, t.styleSheet, n, t.stylis]), null }; function a(e, t, n, r, i) { if (o.isStatic) o.renderStyles(e, ku, n, i); else { var a = gl(gl({}, t), { theme: Nu(t, r, s.defaultProps) }); o.renderStyles(e, a, n, i) } } return Ke.memo(s) } function ch(e) { for (var t = [], n = 1; n < arguments.length; n++)t[n - 1] = arguments[n]; var r = cd(nh.apply(void 0, yl([e], t, !1))), i = Bu(r); return new Wd(i, r) } (function () { function e() { var e = this; this._emitSheetCSS = function () { var t = e.instance.toString(); if (!t) return ""; var n = Cd(), r = cd([n && 'nonce="'.concat(n, '"'), "".concat(wu, '="true"'), "".concat(xu, '="').concat(_u, '"')].filter(Boolean), " "); return "<style ".concat(r, ">").concat(t, "</style>") }, this.getStyleTags = function () { if (e.sealed) throw hd(2); return e._emitSheetCSS() }, this.getStyleElement = function () { var t; if (e.sealed) throw hd(2); var n = e.instance.toString(); if (!n) return []; var r = ((t = {})[wu] = "", t["data-styled-version"] = _u, t.dangerouslySetInnerHTML = { __html: n }, t), i = Cd(); return i && (r.nonce = i), [Ke.createElement("style", gl({}, r, { key: "sc-0-0" }))] }, this.seal = function () { e.sealed = !0 }, this.instance = new Pd({ isServer: !0 }), this.sealed = !1 } e.prototype.collectStyles = function (e) { if (this.sealed) throw hd(2); return Ke.createElement(Bd, { sheet: this.instance }, e) }, e.prototype.interleaveWithNodeStream = function (e) { throw hd(3) } })(), "__sc-".concat(wu, "__"); const lh = { appearance: { landingHeader: "Log in or sign up", theme: "light", accentColor: "#676FFF", walletList: ["detected_wallets", "metamask", "coinbase_wallet", "rainbow", "wallet_connect"] }, walletConnectCloudProjectId: "34357d3c125c2bcf2ce2bc3309d98715", rpcConfig: { rpcUrls: {}, rpcTimeouts: {} }, externalWallets: { coinbaseWallet: { connectionOptions: "all" } }, embeddedWallets: { extendedCalldataDecoding: !1 }, captchaEnabled: !1, _render: { standalone: !1 }, fundingMethodConfig: { moonpay: { useSandbox: !1 } } }; let uh = new Set(["coinbase_wallet", "cryptocom", "metamask", "okx_wallet", "phantom", "rainbow", "uniswap", "zerion", "universal_profile", "bybit_wallet", "wallet_connect", "detected_wallets", "detected_solana_wallets", "detected_ethereum_wallets", "rabby_wallet", "safe"]), dh = e => uh.has(e), hh = (e, t, n) => n.indexOf(e) === t; function fh(e) { let t = e.filter((e => !Oc.has(e.id))); return Mc.concat(t) } const ph = 792703809, mh = "11111111111111111111111111111111"; function gh(e) { return e.includes("testnet") ? "testnet" : e.includes("devnet") ? "devnet" : "mainnet-beta" } function yh(e, t) { return `https://explorer.solana.com/account/${e}?cluster=${t}` } function bh({ name: e, rpcUrl: t }) { if (t) return t; switch (e) { case "mainnet-beta": return "https://api.mainnet-beta.solana.com"; case "testnet": return "https://api.testnet.solana.com"; case "devnet": return "https://api.devnet.solana.com" } } function vh(e) { return (vh = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } var wh = /^\s+/, Eh = /\s+$/; function xh(e, t) { if (t = t || {}, (e = e || "") instanceof xh) return e; if (!(this instanceof xh)) return new xh(e, t); var n = function (e) { var t = { r: 0, g: 0, b: 0 }, n = 1, r = null, i = null, o = null, s = !1, a = !1; "string" == typeof e && (e = function (e) { e = e.replace(wh, "").replace(Eh, "").toLowerCase(); var t, n = !1; if (Uh[e]) e = Uh[e], n = !0; else if ("transparent" == e) return { r: 0, g: 0, b: 0, a: 0, format: "name" }; if (t = Yh.rgb.exec(e)) return { r: t[1], g: t[2], b: t[3] }; if (t = Yh.rgba.exec(e)) return { r: t[1], g: t[2], b: t[3], a: t[4] }; if (t = Yh.hsl.exec(e)) return { h: t[1], s: t[2], l: t[3] }; if (t = Yh.hsla.exec(e)) return { h: t[1], s: t[2], l: t[3], a: t[4] }; if (t = Yh.hsv.exec(e)) return { h: t[1], s: t[2], v: t[3] }; if (t = Yh.hsva.exec(e)) return { h: t[1], s: t[2], v: t[3], a: t[4] }; if (t = Yh.hex8.exec(e)) return { r: qh(t[1]), g: qh(t[2]), b: qh(t[3]), a: Kh(t[4]), format: n ? "name" : "hex8" }; if (t = Yh.hex6.exec(e)) return { r: qh(t[1]), g: qh(t[2]), b: qh(t[3]), format: n ? "name" : "hex" }; if (t = Yh.hex4.exec(e)) return { r: qh(t[1] + "" + t[1]), g: qh(t[2] + "" + t[2]), b: qh(t[3] + "" + t[3]), a: Kh(t[4] + "" + t[4]), format: n ? "name" : "hex8" }; if (t = Yh.hex3.exec(e)) return { r: qh(t[1] + "" + t[1]), g: qh(t[2] + "" + t[2]), b: qh(t[3] + "" + t[3]), format: n ? "name" : "hex" }; return !1 }(e)); "object" == vh(e) && (Zh(e.r) && Zh(e.g) && Zh(e.b) ? (t = function (e, t, n) { return { r: 255 * Wh(e, 255), g: 255 * Wh(t, 255), b: 255 * Wh(n, 255) } }(e.r, e.g, e.b), s = !0, a = "%" === String(e.r).substr(-1) ? "prgb" : "rgb") : Zh(e.h) && Zh(e.s) && Zh(e.v) ? (r = Gh(e.s), i = Gh(e.v), t = function (e, t, n) { e = 6 * Wh(e, 360), t = Wh(t, 100), n = Wh(n, 100); var r = Math.floor(e), i = e - r, o = n * (1 - t), s = n * (1 - i * t), a = n * (1 - (1 - i) * t), c = r % 6; return { r: 255 * [n, s, o, o, a, n][c], g: 255 * [a, n, n, s, o, o][c], b: 255 * [o, o, a, n, n, s][c] } }(e.h, r, i), s = !0, a = "hsv") : Zh(e.h) && Zh(e.s) && Zh(e.l) && (r = Gh(e.s), o = Gh(e.l), t = function (e, t, n) { var r, i, o; function s(e, t, n) { return n < 0 && (n += 1), n > 1 && (n -= 1), n < 1 / 6 ? e + 6 * (t - e) * n : n < .5 ? t : n < 2 / 3 ? e + (t - e) * (2 / 3 - n) * 6 : e } if (e = Wh(e, 360), t = Wh(t, 100), n = Wh(n, 100), 0 === t) r = i = o = n; else { var a = n < .5 ? n * (1 + t) : n + t - n * t, c = 2 * n - a; r = s(c, a, e + 1 / 3), i = s(c, a, e), o = s(c, a, e - 1 / 3) } return { r: 255 * r, g: 255 * i, b: 255 * o } }(e.h, r, o), s = !0, a = "hsl"), e.hasOwnProperty("a") && (n = e.a)); return n = Bh(n), { ok: s, format: e.format || a, r: Math.min(255, Math.max(t.r, 0)), g: Math.min(255, Math.max(t.g, 0)), b: Math.min(255, Math.max(t.b, 0)), a: n } }(e); this._originalInput = e, this._r = n.r, this._g = n.g, this._b = n.b, this._a = n.a, this._roundA = Math.round(100 * this._a) / 100, this._format = t.format || n.format, this._gradientType = t.gradientType, this._r < 1 && (this._r = Math.round(this._r)), this._g < 1 && (this._g = Math.round(this._g)), this._b < 1 && (this._b = Math.round(this._b)), this._ok = n.ok } function _h(e, t, n) { e = Wh(e, 255), t = Wh(t, 255), n = Wh(n, 255); var r, i, o = Math.max(e, t, n), s = Math.min(e, t, n), a = (o + s) / 2; if (o == s) r = i = 0; else { var c = o - s; switch (i = a > .5 ? c / (2 - o - s) : c / (o + s), o) { case e: r = (t - n) / c + (t < n ? 6 : 0); break; case t: r = (n - e) / c + 2; break; case n: r = (e - t) / c + 4 }r /= 6 } return { h: r, s: i, l: a } } function Ch(e, t, n) { e = Wh(e, 255), t = Wh(t, 255), n = Wh(n, 255); var r, i, o = Math.max(e, t, n), s = Math.min(e, t, n), a = o, c = o - s; if (i = 0 === o ? 0 : c / o, o == s) r = 0; else { switch (o) { case e: r = (t - n) / c + (t < n ? 6 : 0); break; case t: r = (n - e) / c + 2; break; case n: r = (e - t) / c + 4 }r /= 6 } return { h: r, s: i, v: a } } function Ah(e, t, n, r) { var i = [Hh(Math.round(e).toString(16)), Hh(Math.round(t).toString(16)), Hh(Math.round(n).toString(16))]; return r && i[0].charAt(0) == i[0].charAt(1) && i[1].charAt(0) == i[1].charAt(1) && i[2].charAt(0) == i[2].charAt(1) ? i[0].charAt(0) + i[1].charAt(0) + i[2].charAt(0) : i.join("") } function Sh(e, t, n, r) { return [Hh(Vh(r)), Hh(Math.round(e).toString(16)), Hh(Math.round(t).toString(16)), Hh(Math.round(n).toString(16))].join("") } function kh(e, t) { t = 0 === t ? 0 : t || 10; var n = xh(e).toHsl(); return n.s -= t / 100, n.s = zh(n.s), xh(n) } function Ih(e, t) { t = 0 === t ? 0 : t || 10; var n = xh(e).toHsl(); return n.s += t / 100, n.s = zh(n.s), xh(n) } function Th(e) { return xh(e).desaturate(100) } function Nh(e, t) { t = 0 === t ? 0 : t || 10; var n = xh(e).toHsl(); return n.l += t / 100, n.l = zh(n.l), xh(n) } function Ph(e, t) { t = 0 === t ? 0 : t || 10; var n = xh(e).toRgb(); return n.r = Math.max(0, Math.min(255, n.r - Math.round(-t / 100 * 255))), n.g = Math.max(0, Math.min(255, n.g - Math.round(-t / 100 * 255))), n.b = Math.max(0, Math.min(255, n.b - Math.round(-t / 100 * 255))), xh(n) } function Mh(e, t) { t = 0 === t ? 0 : t || 10; var n = xh(e).toHsl(); return n.l -= t / 100, n.l = zh(n.l), xh(n) } function Oh(e, t) { var n = xh(e).toHsl(), r = (n.h + t) % 360; return n.h = r < 0 ? 360 + r : r, xh(n) } function Rh(e) { var t = xh(e).toHsl(); return t.h = (t.h + 180) % 360, xh(t) } function jh(e, t) { if (isNaN(t) || t <= 0) throw new Error("Argument to polyad must be a positive number"); for (var n = xh(e).toHsl(), r = [xh(e)], i = 360 / t, o = 1; o < t; o++)r.push(xh({ h: (n.h + o * i) % 360, s: n.s, l: n.l })); return r } function $h(e) { var t = xh(e).toHsl(), n = t.h; return [xh(e), xh({ h: (n + 72) % 360, s: t.s, l: t.l }), xh({ h: (n + 216) % 360, s: t.s, l: t.l })] } function Lh(e, t, n) { t = t || 6, n = n || 30; var r = xh(e).toHsl(), i = 360 / n, o = [xh(e)]; for (r.h = (r.h - (i * t >> 1) + 720) % 360; --t;)r.h = (r.h + i) % 360, o.push(xh(r)); return o } function Dh(e, t) { t = t || 6; for (var n = xh(e).toHsv(), r = n.h, i = n.s, o = n.v, s = [], a = 1 / t; t--;)s.push(xh({ h: r, s: i, v: o })), o = (o + a) % 1; return s } xh.prototype = { isDark: function () { return this.getBrightness() < 128 }, isLight: function () { return !this.isDark() }, isValid: function () { return this._ok }, getOriginalInput: function () { return this._originalInput }, getFormat: function () { return this._format }, getAlpha: function () { return this._a }, getBrightness: function () { var e = this.toRgb(); return (299 * e.r + 587 * e.g + 114 * e.b) / 1e3 }, getLuminance: function () { var e, t, n, r = this.toRgb(); return e = r.r / 255, t = r.g / 255, n = r.b / 255, .2126 * (e <= .03928 ? e / 12.92 : Math.pow((e + .055) / 1.055, 2.4)) + .7152 * (t <= .03928 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4)) + .0722 * (n <= .03928 ? n / 12.92 : Math.pow((n + .055) / 1.055, 2.4)) }, setAlpha: function (e) { return this._a = Bh(e), this._roundA = Math.round(100 * this._a) / 100, this }, toHsv: function () { var e = Ch(this._r, this._g, this._b); return { h: 360 * e.h, s: e.s, v: e.v, a: this._a } }, toHsvString: function () { var e = Ch(this._r, this._g, this._b), t = Math.round(360 * e.h), n = Math.round(100 * e.s), r = Math.round(100 * e.v); return 1 == this._a ? "hsv(" + t + ", " + n + "%, " + r + "%)" : "hsva(" + t + ", " + n + "%, " + r + "%, " + this._roundA + ")" }, toHsl: function () { var e = _h(this._r, this._g, this._b); return { h: 360 * e.h, s: e.s, l: e.l, a: this._a } }, toHslString: function () { var e = _h(this._r, this._g, this._b), t = Math.round(360 * e.h), n = Math.round(100 * e.s), r = Math.round(100 * e.l); return 1 == this._a ? "hsl(" + t + ", " + n + "%, " + r + "%)" : "hsla(" + t + ", " + n + "%, " + r + "%, " + this._roundA + ")" }, toHex: function (e) { return Ah(this._r, this._g, this._b, e) }, toHexString: function (e) { return "#" + this.toHex(e) }, toHex8: function (e) { return function (e, t, n, r, i) { var o = [Hh(Math.round(e).toString(16)), Hh(Math.round(t).toString(16)), Hh(Math.round(n).toString(16)), Hh(Vh(r))]; if (i && o[0].charAt(0) == o[0].charAt(1) && o[1].charAt(0) == o[1].charAt(1) && o[2].charAt(0) == o[2].charAt(1) && o[3].charAt(0) == o[3].charAt(1)) return o[0].charAt(0) + o[1].charAt(0) + o[2].charAt(0) + o[3].charAt(0); return o.join("") }(this._r, this._g, this._b, this._a, e) }, toHex8String: function (e) { return "#" + this.toHex8(e) }, toRgb: function () { return { r: Math.round(this._r), g: Math.round(this._g), b: Math.round(this._b), a: this._a } }, toRgbString: function () { return 1 == this._a ? "rgb(" + Math.round(this._r) + ", " + Math.round(this._g) + ", " + Math.round(this._b) + ")" : "rgba(" + Math.round(this._r) + ", " + Math.round(this._g) + ", " + Math.round(this._b) + ", " + this._roundA + ")" }, toPercentageRgb: function () { return { r: Math.round(100 * Wh(this._r, 255)) + "%", g: Math.round(100 * Wh(this._g, 255)) + "%", b: Math.round(100 * Wh(this._b, 255)) + "%", a: this._a } }, toPercentageRgbString: function () { return 1 == this._a ? "rgb(" + Math.round(100 * Wh(this._r, 255)) + "%, " + Math.round(100 * Wh(this._g, 255)) + "%, " + Math.round(100 * Wh(this._b, 255)) + "%)" : "rgba(" + Math.round(100 * Wh(this._r, 255)) + "%, " + Math.round(100 * Wh(this._g, 255)) + "%, " + Math.round(100 * Wh(this._b, 255)) + "%, " + this._roundA + ")" }, toName: function () { return 0 === this._a ? "transparent" : !(this._a < 1) && (Fh[Ah(this._r, this._g, this._b, !0)] || !1) }, toFilter: function (e) { var t = "#" + Sh(this._r, this._g, this._b, this._a), n = t, r = this._gradientType ? "GradientType = 1, " : ""; if (e) { var i = xh(e); n = "#" + Sh(i._r, i._g, i._b, i._a) } return "progid:DXImageTransform.Microsoft.gradient(" + r + "startColorstr=" + t + ",endColorstr=" + n + ")" }, toString: function (e) { var t = !!e; e = e || this._format; var n = !1, r = this._a < 1 && this._a >= 0; return t || !r || "hex" !== e && "hex6" !== e && "hex3" !== e && "hex4" !== e && "hex8" !== e && "name" !== e ? ("rgb" === e && (n = this.toRgbString()), "prgb" === e && (n = this.toPercentageRgbString()), "hex" !== e && "hex6" !== e || (n = this.toHexString()), "hex3" === e && (n = this.toHexString(!0)), "hex4" === e && (n = this.toHex8String(!0)), "hex8" === e && (n = this.toHex8String()), "name" === e && (n = this.toName()), "hsl" === e && (n = this.toHslString()), "hsv" === e && (n = this.toHsvString()), n || this.toHexString()) : "name" === e && 0 === this._a ? this.toName() : this.toRgbString() }, clone: function () { return xh(this.toString()) }, _applyModification: function (e, t) { var n = e.apply(null, [this].concat([].slice.call(t))); return this._r = n._r, this._g = n._g, this._b = n._b, this.setAlpha(n._a), this }, lighten: function () { return this._applyModification(Nh, arguments) }, brighten: function () { return this._applyModification(Ph, arguments) }, darken: function () { return this._applyModification(Mh, arguments) }, desaturate: function () { return this._applyModification(kh, arguments) }, saturate: function () { return this._applyModification(Ih, arguments) }, greyscale: function () { return this._applyModification(Th, arguments) }, spin: function () { return this._applyModification(Oh, arguments) }, _applyCombination: function (e, t) { return e.apply(null, [this].concat([].slice.call(t))) }, analogous: function () { return this._applyCombination(Lh, arguments) }, complement: function () { return this._applyCombination(Rh, arguments) }, monochromatic: function () { return this._applyCombination(Dh, arguments) }, splitcomplement: function () { return this._applyCombination($h, arguments) }, triad: function () { return this._applyCombination(jh, [3]) }, tetrad: function () { return this._applyCombination(jh, [4]) } }, xh.fromRatio = function (e, t) { if ("object" == vh(e)) { var n = {}; for (var r in e) e.hasOwnProperty(r) && (n[r] = "a" === r ? e[r] : Gh(e[r])); e = n } return xh(e, t) }, xh.equals = function (e, t) { return !(!e || !t) && xh(e).toRgbString() == xh(t).toRgbString() }, xh.random = function () { return xh.fromRatio({ r: Math.random(), g: Math.random(), b: Math.random() }) }, xh.mix = function (e, t, n) { n = 0 === n ? 0 : n || 50; var r = xh(e).toRgb(), i = xh(t).toRgb(), o = n / 100; return xh({ r: (i.r - r.r) * o + r.r, g: (i.g - r.g) * o + r.g, b: (i.b - r.b) * o + r.b, a: (i.a - r.a) * o + r.a }) }, xh.readability = function (e, t) { var n = xh(e), r = xh(t); return (Math.max(n.getLuminance(), r.getLuminance()) + .05) / (Math.min(n.getLuminance(), r.getLuminance()) + .05) }, xh.isReadable = function (e, t, n) { var r, i, o = xh.readability(e, t); switch (i = !1, (r = function (e) { var t, n; t = ((e = e || { level: "AA", size: "small" }).level || "AA").toUpperCase(), n = (e.size || "small").toLowerCase(), "AA" !== t && "AAA" !== t && (t = "AA"); "small" !== n && "large" !== n && (n = "small"); return { level: t, size: n } }(n)).level + r.size) { case "AAsmall": case "AAAlarge": i = o >= 4.5; break; case "AAlarge": i = o >= 3; break; case "AAAsmall": i = o >= 7 }return i }, xh.mostReadable = function (e, t, n) { var r, i, o, s, a = null, c = 0; i = (n = n || {}).includeFallbackColors, o = n.level, s = n.size; for (var l = 0; l < t.length; l++)(r = xh.readability(e, t[l])) > c && (c = r, a = xh(t[l])); return xh.isReadable(e, a, { level: o, size: s }) || !i ? a : (n.includeFallbackColors = !1, xh.mostReadable(e, ["#fff", "#000"], n)) }; var Uh = xh.names = { aliceblue: "f0f8ff", antiquewhite: "faebd7", aqua: "0ff", aquamarine: "7fffd4", azure: "f0ffff", beige: "f5f5dc", bisque: "ffe4c4", black: "000", blanchedalmond: "ffebcd", blue: "00f", blueviolet: "8a2be2", brown: "a52a2a", burlywood: "deb887", burntsienna: "ea7e5d", cadetblue: "5f9ea0", chartreuse: "7fff00", chocolate: "d2691e", coral: "ff7f50", cornflowerblue: "6495ed", cornsilk: "fff8dc", crimson: "dc143c", cyan: "0ff", darkblue: "00008b", darkcyan: "008b8b", darkgoldenrod: "b8860b", darkgray: "a9a9a9", darkgreen: "006400", darkgrey: "a9a9a9", darkkhaki: "bdb76b", darkmagenta: "8b008b", darkolivegreen: "556b2f", darkorange: "ff8c00", darkorchid: "9932cc", darkred: "8b0000", darksalmon: "e9967a", darkseagreen: "8fbc8f", darkslateblue: "483d8b", darkslategray: "2f4f4f", darkslategrey: "2f4f4f", darkturquoise: "00ced1", darkviolet: "9400d3", deeppink: "ff1493", deepskyblue: "00bfff", dimgray: "696969", dimgrey: "696969", dodgerblue: "1e90ff", firebrick: "b22222", floralwhite: "fffaf0", forestgreen: "228b22", fuchsia: "f0f", gainsboro: "dcdcdc", ghostwhite: "f8f8ff", gold: "ffd700", goldenrod: "daa520", gray: "808080", green: "008000", greenyellow: "adff2f", grey: "808080", honeydew: "f0fff0", hotpink: "ff69b4", indianred: "cd5c5c", indigo: "4b0082", ivory: "fffff0", khaki: "f0e68c", lavender: "e6e6fa", lavenderblush: "fff0f5", lawngreen: "7cfc00", lemonchiffon: "fffacd", lightblue: "add8e6", lightcoral: "f08080", lightcyan: "e0ffff", lightgoldenrodyellow: "fafad2", lightgray: "d3d3d3", lightgreen: "90ee90", lightgrey: "d3d3d3", lightpink: "ffb6c1", lightsalmon: "ffa07a", lightseagreen: "20b2aa", lightskyblue: "87cefa", lightslategray: "789", lightslategrey: "789", lightsteelblue: "b0c4de", lightyellow: "ffffe0", lime: "0f0", limegreen: "32cd32", linen: "faf0e6", magenta: "f0f", maroon: "800000", mediumaquamarine: "66cdaa", mediumblue: "0000cd", mediumorchid: "ba55d3", mediumpurple: "9370db", mediumseagreen: "3cb371", mediumslateblue: "7b68ee", mediumspringgreen: "00fa9a", mediumturquoise: "48d1cc", mediumvioletred: "c71585", midnightblue: "191970", mintcream: "f5fffa", mistyrose: "ffe4e1", moccasin: "ffe4b5", navajowhite: "ffdead", navy: "000080", oldlace: "fdf5e6", olive: "808000", olivedrab: "6b8e23", orange: "ffa500", orangered: "ff4500", orchid: "da70d6", palegoldenrod: "eee8aa", palegreen: "98fb98", paleturquoise: "afeeee", palevioletred: "db7093", papayawhip: "ffefd5", peachpuff: "ffdab9", peru: "cd853f", pink: "ffc0cb", plum: "dda0dd", powderblue: "b0e0e6", purple: "800080", rebeccapurple: "663399", red: "f00", rosybrown: "bc8f8f", royalblue: "4169e1", saddlebrown: "8b4513", salmon: "fa8072", sandybrown: "f4a460", seagreen: "2e8b57", seashell: "fff5ee", sienna: "a0522d", silver: "c0c0c0", skyblue: "87ceeb", slateblue: "6a5acd", slategray: "708090", slategrey: "708090", snow: "fffafa", springgreen: "00ff7f", steelblue: "4682b4", tan: "d2b48c", teal: "008080", thistle: "d8bfd8", tomato: "ff6347", turquoise: "40e0d0", violet: "ee82ee", wheat: "f5deb3", white: "fff", whitesmoke: "f5f5f5", yellow: "ff0", yellowgreen: "9acd32" }, Fh = xh.hexNames = function (e) { var t = {}; for (var n in e) e.hasOwnProperty(n) && (t[e[n]] = n); return t }(Uh); function Bh(e) { return e = parseFloat(e), (isNaN(e) || e < 0 || e > 1) && (e = 1), e } function Wh(e, t) { (function (e) { return "string" == typeof e && -1 != e.indexOf(".") && 1 === parseFloat(e) })(e) && (e = "100%"); var n = function (e) { return "string" === typeof e && -1 != e.indexOf("%") }(e); return e = Math.min(t, Math.max(0, parseFloat(e))), n && (e = parseInt(e * t, 10) / 100), Math.abs(e - t) < 1e-6 ? 1 : e % t / parseFloat(t) } function zh(e) { return Math.min(1, Math.max(0, e)) } function qh(e) { return parseInt(e, 16) } function Hh(e) { return 1 == e.length ? "0" + e : "" + e } function Gh(e) { return e <= 1 && (e = 100 * e + "%"), e } function Vh(e) { return Math.round(255 * parseFloat(e)).toString(16) } function Kh(e) { return qh(e) / 255 } var Yh = function () { var e = "(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)", t = "[\\s|\\(]+(" + e + ")[,|\\s]+(" + e + ")[,|\\s]+(" + e + ")\\s*\\)?", n = "[\\s|\\(]+(" + e + ")[,|\\s]+(" + e + ")[,|\\s]+(" + e + ")[,|\\s]+(" + e + ")\\s*\\)?"; return { CSS_UNIT: new RegExp(e), rgb: new RegExp("rgb" + t), rgba: new RegExp("rgba" + n), hsl: new RegExp("hsl" + t), hsla: new RegExp("hsla" + n), hsv: new RegExp("hsv" + t), hsva: new RegExp("hsva" + n), hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/, hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/, hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/, hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/ } }(); function Zh(e) { return !!Yh.CSS_UNIT.exec(e) } let Xh = "#FFFFFF"; function Jh(e, t) { let n = Math.max(0, Math.min(1, e.toHsl().l + t)); return xh({ ...e.toHsl(), l: n }) } function Qh({ backgroundTheme: e, accentHex: t }) { let n; switch (e) { case "light": n = Xh; break; case "dark": n = "#1E1E1D"; break; default: n = e }let r = xh(n), i = xh(t), o = xh("#51BA81"), s = xh("#FFB74D"), a = xh("#EC6351"), c = function (e) { return e < .8 && e > .2 && console.warn("Background color is not light or dark enough, which could lead to accessibility issues."), e > .5 ? "light" : "dark" }(r.getLuminance()), l = Jh(r, "light" === c ? -.04 : .11), u = Jh(r, "light" === c ? -.08 : .16), d = Jh(r, "light" === c ? -.88 : .87), h = Jh(r, "light" === c ? -.7 : .75), f = Jh(r, "light" === c ? -.43 : .45).desaturate("light" === c ? 60 : 20), p = Jh(r, "light" === c ? -.08 : .25).desaturate("light" === c ? 60 : 20), m = Jh(i, .15), g = Jh(i, .25), y = Jh(i, -.06), b = Jh(i, -.6), v = Jh(a, .3), w = Jh(s, .3), E = xh(i.getLuminance() > .5 ? "#040217" : Xh), x = Jh(o, -.16), _ = Jh(o, .4); return { colorScheme: c, background: r.toHslString(), background2: l.toHslString(), background3: u.toHslString(), foreground: d.toHslString(), foreground2: h.toHslString(), foreground3: f.toHslString(), foreground4: p.toHslString(), accent: i.toHslString(), accentLight: m.toHslString(), accentLightest: g.toHslString(), accentDark: y.toHslString(), accentDarkest: b.toHslString(), foregroundAccent: E.toHslString(), success: o.toHslString(), successDark: x.toHslString(), successLight: _.toHslString(), error: a.toHslString(), errorLight: v.toHslString(), warn: s.toHslString(), warnLight: w.toHslString() } } function ef(e, t, n) { let r, i, o, s, a, c, l, u, d, h, f, p, m, g, y, b, v = n ? console.warn : () => { }; t?.loginMethods ? (r = t.loginMethods.includes("email"), i = t.loginMethods.includes("sms"), s = t.loginMethods.includes("wallet"), a = t.loginMethods.includes("google"), c = t.loginMethods.includes("twitter"), l = t.loginMethods.includes("discord"), d = t.loginMethods.includes("spotify"), h = t.loginMethods.includes("instagram"), u = t.loginMethods.includes("tiktok"), p = t.loginMethods.includes("github"), f = t.loginMethods.includes("linkedin"), m = t.loginMethods.includes("apple"), g = t.loginMethods.includes("farcaster"), y = t.loginMethods.includes("telegram")) : (r = e.emailAuth, i = e.smsAuth, s = e.walletAuth || e.solanaWalletAuth, a = e.googleOAuth, c = e.twitterOAuth, l = e.discordOAuth, p = e.githubOAuth, d = e.spotifyOAuth, h = e.instagramOAuth, u = e.tiktokOAuth, f = e.linkedinOAuth, m = e.appleOAuth, g = e.farcasterAuth, y = e.telegramAuth), "undefined" != typeof window && "function" != typeof window.PublicKeyCredential ? o = !1 : e.passkeyAuth && (o = !0); let w = [r, i].filter(Boolean), E = [a, c, l, p, d, h, u, f, m, g, y].filter(Boolean), x = [s].filter(Boolean); if (w.length + E.length + x.length === 0) throw Error("You must enable at least one login method"); let _ = void 0 !== t?.appearance?.showWalletLoginFirst ? t?.appearance?.showWalletLoginFirst : e.showWalletLoginFirst; _ && 0 === x.length ? (v("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"), _ = !1) : _ || E.length + w.length !== 0 || (v("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"), _ = !0); let C = t?.externalWallets?.walletConnect?.enabled ?? !0; t?.loginMethods && t.loginMethodsAndOrder && v("You should only configure one of `loginMethods` or `loginMethodsAndOrder`"); let A = (({ input: e, overrides: t }) => t ? t.primary.concat(t.overflow ?? []).filter(dh).filter(hh) : e ? e.filter(dh).filter(hh) : lh.appearance.walletList)({ input: t?.appearance?.walletList, overrides: t?.loginMethodsAndOrder }), S = (({ input: e }) => { if (!e || !e.primary[0]) return; let t = [e.primary[0]], n = []; for (let r of (e.primary.length > 4 && console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"), e.primary.slice(1))) t.includes(r) ? console.warn(`Duplicated login method: ${r}`) : t.push(r); for (let r of e.overflow ?? []) t.includes(r) || n.includes(r) ? console.warn(`Duplicated login method: ${r}`) : n.push(r); return { primary: t, overflow: n } })({ input: t?.loginMethodsAndOrder }), k = t?.intl?.defaultCountry ?? "US", { chains: I, defaultChain: T } = function ({ additionalChains: e, supportedChains: t, defaultChainFromConfig: n, hasRpcConfigDefined: r }) { let i; if (e && t && console.warn("You should only specify one of `additionalChains` or `supportedChains`. Using `supportedChains`."), t) { if (0 === t.length) throw Error("`supportedChains` must contain at least one chain"); t.filter((e => e.rpcUrls.privyWalletOverride)).length > 0 && r && console.warn("You have specified at least one `supportedChain` with `privyWalletOverride` but also have `rpcConfig` defined. The `rpcConfig` will be ignored. `rpcConfig` is deprecated and you should use `privyWalletOverride` in a `supportedChain`."), i = t.map((e => { if (e.rpcUrls.privyWalletOverride) return e; let t = Mc.find((t => t.id === e.id))?.rpcUrls.privy?.http[0]; return t ? function (e, t) { return { ...e, rpcUrls: { ...e.rpcUrls, privy: { http: [t] } } } }(e, t) : e })) } else i = Mc.concat(e ?? []); let o = t ? i[0] : Ac, s = n ?? o; if (!i.find((e => e.id === s.id))) throw Error("`defaultChain` must be included in `supportedChains`"); return { chains: i, defaultChain: s } }({ additionalChains: t?.additionalChains, supportedChains: t?.supportedChains, defaultChainFromConfig: t?.defaultChain, hasRpcConfigDefined: Object.keys(t?.rpcConfig?.rpcUrls ?? {}).length > 0 }), N = !!t?.defaultChain, P = t?.customAuth?.getCustomAccessToken && !1 !== t?.customAuth?.enabled, M = !(e.enforceWalletUis ?? 1); if (b = e.legacyWalletUiConfig ?? 1 ? P ? t?.embeddedWallets?.noPromptOnSignature ?? !0 : t?.embeddedWallets?.noPromptOnSignature ?? M : M, !1 === t?.embeddedWallets?.waitForTransactionConfirmation && !0 !== b) throw Error("Overriding `config.embeddedWallets.waitForTransactionConfirmation` requires that you disable wallet UIs in the dashboard."); let { requireUserPasswordOnCreate: O, ...R } = t?.embeddedWallets ?? {}, j = t?.solanaClusters ?? []; return e.solanaWalletAuth && !t?.externalWallets?.solana?.connectors && console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`"), { id: e.id, name: e.name, allowlistConfig: e.allowlistConfig, legacyWalletUiConfig: e.legacyWalletUiConfig, appearance: { logo: t?.appearance?.logo ?? e.logoUrl, landingHeader: t?.appearance?.landingHeader ?? lh.appearance.landingHeader, loginMessage: "string" == typeof t?.appearance?.loginMessage ? t?.appearance?.loginMessage.slice(0, 100) : t?.appearance?.loginMessage, palette: Qh({ backgroundTheme: t?.appearance?.theme ?? lh.appearance.theme, accentHex: t?.appearance?.accentColor ?? e.accentColor ?? lh.appearance.accentColor }), loginGroupPriority: _ ? "web3-first" : "web2-first", hideDirectWeb2Inputs: !!t?.appearance?.hideDirectWeb2Inputs, walletList: A, walletChainType: t?.appearance?.walletChainType ?? (({ evmWalletAuth: e, solanaWalletAuth: t }) => e && t ? "ethereum-and-solana" : e ? "ethereum-only" : t ? "solana-only" : "ethereum-only")({ evmWalletAuth: e.walletAuth ?? !1, solanaWalletAuth: e.solanaWalletAuth ?? !1 }) }, loginMethods: { wallet: s, email: r, sms: i, passkey: o, google: a, twitter: c, discord: l, github: p, spotify: d, instagram: h, tiktok: u, linkedin: f, apple: m, farcaster: g, telegram: y }, disablePlusEmails: e.disablePlusEmails, loginMethodsAndOrder: S, legal: { termsAndConditionsUrl: t?.legal?.termsAndConditionsUrl ?? e.termsAndConditionsUrl, privacyPolicyUrl: t?.legal?.privacyPolicyUrl ?? e.privacyPolicyUrl, requireUsersAcceptTerms: e.requireUsersAcceptTerms ?? !1 }, walletConnectCloudProjectId: t?.walletConnectCloudProjectId ?? e.walletConnectCloudProjectId ?? lh.walletConnectCloudProjectId, rpcConfig: { rpcUrls: t?.rpcConfig?.rpcUrls ?? lh.rpcConfig.rpcUrls, rpcTimeouts: t?.rpcConfig?.rpcTimeouts ?? lh.rpcConfig.rpcTimeouts }, chains: I, solanaClusters: { "mainnet-beta": j.find((e => "mainnet-beta" === e.name))?.rpcUrl || "https://api.mainnet-beta.solana.com", testnet: j.find((e => "testnet" === e.name))?.rpcUrl || "https://api.testnet.solana.com", devnet: j.find((e => "devnet" === e.name))?.rpcUrl || "https://api.devnet.solana.com" }, defaultChain: T, intl: { defaultCountry: k }, shouldEnforceDefaultChainOnConnect: N, captchaEnabled: e.captchaEnabled ?? lh.captchaEnabled, captchaSiteKey: e.captchaSiteKey, externalWallets: { coinbaseWallet: { connectionOptions: t?.externalWallets?.coinbaseWallet?.connectionOptions ?? lh.externalWallets.coinbaseWallet.connectionOptions }, walletConnect: { enabled: C }, solana: { connectors: t?.externalWallets?.solana?.connectors } }, embeddedWallets: { ...e.embeddedWalletConfig, ..."boolean" == typeof O ? { requireUserOwnedRecoveryOnCreate: O } : {}, ...P ? { createOnLogin: "all-users", requireUserOwnedRecoveryOnCreate: !1, userOwnedRecoveryOptions: ["user-passcode"] } : {}, waitForTransactionConfirmation: !0, priceDisplay: { primary: "fiat-currency", secondary: "native-token" }, ...R, noPromptOnSignature: b, showWalletUIs: t?.embeddedWallets?.showWalletUIs, extendedCalldataDecoding: t?.embeddedWallets?.extendedCalldataDecoding }, mfa: { methods: e.mfaMethods ?? [], noPromptOnMfaRequired: t?.mfa?.noPromptOnMfaRequired ?? !1 }, customAuth: P ? { enabled: !0, ...t.customAuth } : void 0, loginConfig: { telegramAuthConfiguration: e.telegramAuthConfiguration }, headless: !!t?.headless, render: { standalone: t?._render?.standalone ?? lh._render.standalone }, fundingConfig: e.fundingConfig, fundingMethodConfig: { ...t?.fundingMethodConfig ?? lh.fundingMethodConfig, moonpay: { ...t?.fundingMethodConfig?.moonpay ?? lh.fundingMethodConfig.moonpay, useSandbox: t?.fundingMethodConfig?.moonpay.useSandbox ?? t?.fiatOnRamp?.useSandbox ?? lh.fundingMethodConfig.moonpay.useSandbox } } } } let tf = { showWalletLoginFirst: !0, allowlistConfig: { errorTitle: null, errorDetail: null, errorCtaText: null, errorCtaLink: null }, walletAuth: !0, emailAuth: !0, smsAuth: !1, googleOAuth: !1, twitterOAuth: !1, discordOAuth: !1, githubOAuth: !1, linkedinOAuth: !1, appleOAuth: !1, disablePlusEmails: !1, termsAndConditionsUrl: null, privacyPolicyUrl: null, embeddedWalletConfig: { createOnLogin: "off", requireUserOwnedRecoveryOnCreate: !1, userOwnedRecoveryOptions: ["user-passcode"] }, fiatOnRampEnabled: !1, captchaEnabled: !1, captchaSiteKey: "" }; const nf = ef(tf, void 0, !1); let rf = (0, Ke.createContext)({ appConfig: nf, isServerConfigLoaded: !1 }); const of = ({ children: e, legacyCreateEmbeddedWalletFlag: t, client: n, clientConfig: r }) => { let [i, o] = (0, Ke.useState)(null), s = (0, Ke.useMemo)((() => ef(i ?? tf, r, !!i)), [i, r]); return (0, Ke.useEffect)((() => { if (!i) return; let e = function (e, t) { if (!e) return { legacyCreateEmbeddedWalletFlag: t }; let { appearance: n, additionalChains: r, supportedChains: i, defaultChain: o, externalWallets: s, ...a } = e; return { ...a, ...r ? { additionalChains: r.map((e => e.id)) } : void 0, ...i ? { supportedChains: i.map((e => e.id)) } : void 0, ...o ? { defaultChain: o.id } : void 0, ...s ? { walletConnect: s.walletConnect, coinbaseWallet: s.coinbaseWallet, solana: { connectors: s.solana?.connectors?.get().map((e => e.walletClientType)) } } : void 0, legacyCreateEmbeddedWalletFlag: t } }(r, t), o = function (e, t = 0) { let n = 3735928559 ^ t, r = 1103547991 ^ t; for (let i, o = 0; o < e.length; o++)n = Math.imul(n ^ (i = e.charCodeAt(o)), 2654435761), r = Math.imul(r ^ i, 1597334677); return n = Math.imul(n ^ n >>> 16, 2246822507) ^ Math.imul(r ^ r >>> 13, 3266489909), 4294967296 * (2097151 & (r = Math.imul(r ^ r >>> 16, 2246822507) ^ Math.imul(n ^ n >>> 13, 3266489909))) + (n >>> 0) }(JSON.stringify(e)).toString(), s = `privy:sent:${i.id}:${o}`; localStorage.getItem(s) || (n.createAnalyticsEvent({ eventName: "sdk_initialize", payload: e }), localStorage.setItem(s, "t")) }), [r, t, i]), (0, Ke.useEffect)((() => { i || (async () => { try { let e = await n.getServerConfig(); e.customApiUrl && n.updateApiUrl(e.customApiUrl), o(e) } catch (e) { console.warn("Error generating app config: ", e) } })() }), []), (0, y.jsx)(rf.Provider, { value: { appConfig: s, isServerConfigLoaded: !!i }, children: e }) }, sf = () => { let { appConfig: e } = (0, Ke.useContext)(rf); return e }; var af = n(69643); function cf({ src: e, ...t }) { return (0, y.jsx)("img", { src: e, ...t, style: { display: "none" } }) } var lf, uf = ((lf = {}).LANDING = "LANDING", lf.CONNECT_OR_CREATE = "CONNECT_OR_CREATE", lf.AWAITING_CONNECTION = "AWAITING_CONNECTION", lf.AWAITING_FARCASTER_CONNECTION = "AWAITING_FARCASTER_CONNECTION", lf.AWAITING_FARCASTER_SIGNER = "AWAITING_FARCASTER_SIGNER", lf.AWAITING_OAUTH_SCREEN = "AWAITING_OAUTH_SCREEN", lf.CROSS_APP_AUTH_SCREEN = "CROSS_APP_AUTH_SCREEN", lf.AWAITING_PASSWORDLESS_CODE = "AWAITING_PASSWORDLESS_CODE", lf.AWAITING_PASSKEY_SYSTEM_DIALOGUE = "AWAITING_PASSKEY_SYSTEM_DIALOGUE", lf.LINK_EMAIL_SCREEN = "LINK_EMAIL_SCREEN", lf.LINK_PHONE_SCREEN = "LINK_PHONE_SCREEN", lf.LINK_WALLET_SCREEN = "LINK_WALLET_SCREEN", lf.LINK_PASSKEY_SCREEN = "LINK_PASSKEY_SCREEN", lf.UPDATE_EMAIL_SCREEN = "UPDATE_EMAIL_SCREEN", lf.UPDATE_PHONE_SCREEN = "UPDATE_PHONE_SCREEN", lf.AWAITING_CONNECT_ONLY_CONNECTION = "AWAITING_CONNECT_ONLY_CONNECTION", lf.CONNECT_ONLY_LANDING_SCREEN = "CONNECT_ONLY_LANDING_SCREEN", lf.CONNECT_ONLY_AUTHENTICATED_SCREEN = "CONNECT_ONLY_AUTHENTICATED_SCREEN", lf.LOGIN_FAILED_SCREEN = "LOGIN_FAILED_SCREEN", lf.ALLOWLIST_REJECTION_SCREEN = "ALLOWLIST_REJECTION_SCREEN", lf.ACCOUNT_NOT_FOUND_SCREEN = "ACCOUNT_NOT_FOUND_SCREEN", lf.USER_LIMIT_REACHED_SCREEN = "USER_LIMIT_REACHED_SCREEN", lf.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN = "EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN", lf.EMBEDDED_WALLET_CREATED_SCREEN = "EMBEDDED_WALLET_CREATED_SCREEN", lf.EMBEDDED_WALLET_CONNECTING_SCREEN = "EMBEDDED_WALLET_CONNECTING_SCREEN", lf.EMBEDDED_WALLET_PASSWORD_RECOVERY_SCREEN = "EMBEDDED_WALLET_PASSWORD_RECOVERY_SCREEN", lf.EMBEDDED_WALLET_KEY_EXPORT_SCREEN = "EMBEDDED_WALLET_KEY_EXPORT_SCREEN", lf.EMBEDDED_WALLET_SEND_TRANSACTION_SCREEN = "EMBEDDED_WALLET_SEND_TRANSACTION_SCREEN", lf.EMBEDDED_WALLET_SEND_SOLANA_TRANSACTION_SCREEN = "EMBEDDED_WALLET_SEND_SOLANA_TRANSACTION_SCREEN", lf.EMBEDDED_WALLET_SIGN_REQUEST_SCREEN = "EMBEDDED_WALLET_SIGN_REQUEST_SCREEN", lf.EMBEDDED_WALLET_PASSWORD_UPDATE_SPLASH_SCREEN = "EMBEDDED_WALLET_PASSWORD_UPDATE_SPLASH_SCREEN", lf.EMBEDDED_WALLET_PASSWORD_CREATE_SCREEN = "EMBEDDED_WALLET_PASSWORD_CREATE_SCREEN", lf.EMBEDDED_WALLET_PASSWORD_UPDATE_SCREEN = "EMBEDDED_WALLET_PASSWORD_UPDATE_SCREEN", lf.EMBEDDED_WALLET_RECOVERY_SELECTION_SCREEN = "EMBEDDED_WALLET_RECOVERY_SELECTION_SCREEN", lf.EMBEDDED_WALLET_RECOVERY_OAUTH_SCREEN = "EMBEDDED_WALLET_RECOVERY_OAUTH_SCREEN", lf.EMBEDDED_WALLET_SET_AUTOMATIC_RECOVERY_SCREEN = "EMBEDDED_WALLET_SET_AUTOMATIC_RECOVERY_SCREEN", lf.EMBEDDED_WALLET_DELEGATED_ACTIONS_CONSENT_SCREEN = "EMBEDDED_WALLET_DELEGATED_ACTIONS_CONSENT_SCREEN", lf.EMBEDDED_WALLET_DELEGATED_ACTIONS_REVOKE_SCREEN = "EMBEDDED_WALLET_DELEGATED_ACTIONS_REVOKE_SCREEN", lf.INSTALL_PHANTOM_SCREEN = "INSTALL_PHANTOM_SCREEN", lf.PHANTOM_INTERSTITIAL_SCREEN = "PHANTOM_INTERSTITIAL_SCREEN", lf.AFFIRMATIVE_CONSENT_SCREEN = "AFFIRMATIVE_CONSENT_SCREEN", lf.FUNDING_METHOD_SELECTION_SCREEN = "FUNDING_METHOD_SELECTION_SCREEN", lf.FUNDING_TRANSFER_FROM_WALLET_SCREEN = "FUNDING_TRANSFER_FROM_WALLET_SCREEN", lf.FUNDING_EDIT_AMOUNT_SCREEN = "FUNDING_EDIT_AMOUNT_SCREEN", lf.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_WALLET_SCREEN = "FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_WALLET_SCREEN", lf.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_SOLANA_WALLET_SCREEN = "FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_SOLANA_WALLET_SCREEN", lf.FUNDING_AWAITING_EVM_TO_SOL_BRIDGING_SCREEN = "FUNDING_AWAITING_EVM_TO_SOL_BRIDGING_SCREEN", lf.FUNDING_AWAITING_SOL_TO_EVM_BRIDGING_SCREEN = "FUNDING_AWAITING_SOL_TO_EVM_BRIDGING_SCREEN", lf.FUNDING_MANUAL_TRANSFER_SCREEN = "FUNDING_MANUAL_TRANSFER_SCREEN", lf.MOONPAY_STATUS_SCREEN = "MOONPAY_STATUS_SCREEN", lf.COINBASE_ONRAMP_STATUS_SCREEN = "COINBASE_ONRAMP_STATUS_SCREEN", lf.MFA_ENROLLMENT_FLOW_SCREEN = "MFA_ENROLLMENT_FLOW_SCREEN", lf.CAPTCHA_SCREEN = "CAPTCHA_SCREEN", lf.ERROR_SCREEN = "ERROR_SCREEN", lf.IN_APP_BROWSER_LOGIN_NOT_POSSIBLE = "IN_APP_BROWSER_LOGIN_NOT_POSSIBLE", lf.TELEGRAM_AUTH_SCREEN = "TELEGRAM_AUTH_SCREEN", lf.LINK_CONFLICT_SCREEN = "LINK_CONFLICT_SCREEN", lf); const df = (0, Ke.createContext)({ ready: !1, app: nf, currentScreen: null, lastScreen: null, navigate: Sa.E, navigateBack: Sa.E, resetNavigation: Sa.E, setModalData: Sa.E, onUserCloseViaDialogOrKeybindRef: void 0 }); let hf = [uf.LANDING, uf.CONNECT_ONLY_LANDING_SCREEN, null]; const ff = e => { let t = sf(), n = e.authenticated, [r, i] = (0, Ke.useState)(e.initialScreen); (0, Ke.useEffect)((() => { n || hf.includes(e.initialScreen) || e.setInitialScreen(null) }), [n]); let o = (0, Ke.useRef)(null); (0, Ke.useEffect)((() => { e.open || (o.current = null) }), [e.open]), (0, Ke.useEffect)((() => { o.current = null }), [e.initialScreen]); let s = { ready: !!t.id, app: t, data: e.data, setModalData: e.setModalData, currentScreen: e.initialScreen, lastScreen: r, navigate: (t, n = !0) => { e.setInitialScreen(t), n && i(e.initialScreen) }, navigateBack: () => { e.setInitialScreen(r) }, resetNavigation: () => { e.setInitialScreen(null), i(null) }, onUserCloseViaDialogOrKeybindRef: o }; return (0, y.jsxs)(df.Provider, { value: s, children: [("string" == typeof t.appearance.logo || "img" === t.appearance.logo?.type) && (0, y.jsx)(cf, { src: "string" == typeof t.appearance.logo ? t.appearance.logo : t.appearance.logo.props.src }), e.children] }) }, pf = () => (0, Ke.useContext)(df); var mf = n(59177); const gf = e => { let [t, n] = (0, Ke.useState)("auto"); return (0, Ke.useEffect)((() => { let t = new ResizeObserver((e => { n(e[0]?.contentRect.height ?? "auto") })); return e.current && t.observe(e.current), () => { e.current && t.unobserve(e.current) } }), [e.current]), t }; var yf = n(64928); function bf({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z" })) } var vf = Ke.forwardRef(bf); const wf = ({ success: e, fail: t }) => (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Ef, { className: e ? "success" : t ? "fail" : "" }), (0, y.jsx)(xf, { className: e ? "success" : t ? "fail" : "" })] }), Ef = oh.span.withConfig({ displayName: "Loader", componentId: "sc-ce7792e2-0" })(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:", ";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-success);border-bottom-color:var(--privy-color-success);}&&&.fail{border-color:var(--privy-color-error);border-bottom-color:var(--privy-color-error);}"], (e => e.color ?? "var(--privy-color-accent)")), xf = oh(Ef).withConfig({ displayName: "LoaderFaint", componentId: "sc-ce7792e2-1" })(["&&{border-bottom-color:", ";animation:none;opacity:0.5;}"], (e => e.color ?? "var(--privy-color-accent)")), _f = e => (0, y.jsx)(Cf, { color: e.color || "var(--privy-color-foreground-3)" }); let Cf = oh(Ef).withConfig({ displayName: "StyledButtonLoader", componentId: "sc-ce7792e2-2" })(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]); const Af = oh.button.withConfig({ displayName: "Button", componentId: "sc-e15d0508-0" })(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{padding:12px 16px;}"]), Sf = ({ children: e, loading: t, disabled: n, success: r, loadingText: i = "Loading...", ...o }) => (0, y.jsx)(Nf, { disabled: t || n, success: r, ...o, children: t ? (0, y.jsxs)("span", { children: [(0, y.jsx)(_f, {}), i ? (0, y.jsx)("span", { children: i }) : null] }) : e }), kf = ({ children: e, loading: t, disabled: n, ...r }) => (0, y.jsx)(If, { disabled: n, ...r, children: t ? (0, y.jsx)(_f, { color: "var(--privy-color-foreground-accent)" }) : e }); let If = oh(Af).withConfig({ displayName: "StyledPrimaryButtonWithoutGray", componentId: "sc-e15d0508-1" })(["position:relative;&&{background-color:var(--privy-color-accent);color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:disabled,&:hover:disabled,&:active:disabled{cursor:not-allowed;pointer-events:none;color:var(--privy-color-foreground-accent);background-color:var(--privy-color-accent-dark);}"]); const Tf = ({ children: e, loading: t, disabled: n, loadingText: r = "Loading...", ...i }) => (0, y.jsx)(Nf, { as: "a", disabled: t || n, ...i, children: t ? (0, y.jsxs)("span", { children: [(0, y.jsx)(_f, {}), r ? (0, y.jsx)("span", { children: r }) : null] }) : e }); let Nf = oh(Af).withConfig({ displayName: "StyledPrimaryButton", componentId: "sc-e15d0508-2" })(["position:relative;&&{background-color:", ";color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:", ";}&:active{background-color:", ";}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);cursor:not-allowed;}", " > span{display:flex;align-items:center;gap:8px;opacity:1;animation:fadein 200ms ease;}"], (e => e.warn ? "var(--privy-color-error)" : e.success ? "var(--privy-color-success)" : "var(--privy-color-accent)"), (e => e.warn ? "var(--privy-color-error)" : e.success ? "var(--privy-color-success)" : "var(--privy-color-accent-dark)"), (e => e.warn ? "var(--privy-color-error)" : e.success ? "var(--privy-color-success)" : "var(--privy-color-accent-dark)"), (e => e.disabled ? nh(["&&&,&&&:hover,&&&:active{background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);cursor:not-allowed;pointer-events:none;}"]) : "")); const Pf = ({ children: e, loading: t, disabled: n, loadingText: r = "Loading...", ...i }) => (0, y.jsx)(Mf, { disabled: t || n, ...i, children: t ? (0, y.jsxs)("span", { children: [(0, y.jsx)(_f, {}), r ? (0, y.jsx)("span", { children: r }) : null] }) : e }); let Mf = oh(Af).withConfig({ displayName: "StyledSecondaryButton", componentId: "sc-e15d0508-3" })(["&&{border-width:1px;border-color:", ";color:var(--privy-color-foreground);transition:border-color 200ms ease;}&:hover,&:active{border-color:", ";}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-3);cursor:not-allowed;}> span{display:flex;align-items:center;gap:8px;opacity:1;animation:fadein 200ms ease;}"], (e => e.warn ? "var(--privy-color-error)" : "var(--privy-color-foreground-4)"), (e => e.warn ? "var(--privy-color-error)" : "var(--privy-color-foreground-3)")); const Of = oh.button.withConfig({ displayName: "SoftCtaButton", componentId: "sc-e15d0508-4" })(["&&{padding:12px 16px;font-weight:500;text-align:center;color:var(--privy-color-foreground-accent);background-color:var(--privy-color-accent);border-radius:var(--privy-border-radius-sm);min-width:144px;opacity:", ";transition:opacity 200ms ease,background-color 200ms ease,color 200ms ease;user-select:none;", " &:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);cursor:not-allowed;}}"], (e => e.invisible ? "0" : "1"), (e => e.invisible && nh(["pointer-events:none;"]))), Rf = ({ children: e, onClick: t, disabled: n, isSubmitting: r, ...i }) => (0, y.jsxs)(jf, { $isSubmitting: r, onClick: t, disabled: n, ...i, children: [(0, y.jsx)("span", { children: e }), (0, y.jsx)("span", { children: (0, y.jsx)(_f, {}) })] }); let jf = oh.button.withConfig({ displayName: "StyledEmbeddedButton", componentId: "sc-e15d0508-6" })(["&&{color:var(--privy-color-accent);font-size:16px;font-style:normal;font-weight:500;line-height:24px;cursor:pointer;border-radius:0px var(--privy-border-radius-mdlg) var(--privy-border-radius-mdlg) 0px;border:none;transition:color 200ms ease;@media (min-width:441px){font-size:14px;}:hover{color:var(--privy-color-accent-dark);}&& > :first-child{opacity:", ";}&& > :last-child{position:absolute;display:flex;top:50%;left:50%;transform:translate3d(-50%,-50%,0);opacity:", ";}:disabled,:hover:disabled{color:var(--privy-color-foreground-3);cursor:not-allowed;}}"], (e => e.$isSubmitting ? 0 : 1), (e => e.$isSubmitting ? 1 : 0)); const $f = oh.span.withConfig({ displayName: "CircleBackground", componentId: "sc-c9f33cd-0" })(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:", ";background-color:", ";border-radius:50%;display:inline-block;box-sizing:border-box;}"], (e => e.color ?? "var(--privy-color-accent)"), (e => e.color ?? "var(--privy-color-accent)")); function Lf({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" })) } var Df = Ke.forwardRef(Lf); function Uf({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" })) } var Ff = Ke.forwardRef(Uf); function Bf({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M6 18 18 6M6 6l12 12" })) } var Wf = Ke.forwardRef(Bf); const zf = ({ backFn: e }) => (0, y.jsx)("div", { children: (0, y.jsx)(Kf, { onClick: e, children: (0, y.jsx)(Df, { height: "16px", width: "16px", strokeWidth: 2 }) }) }), qf = ({ nextFn: e }) => (0, y.jsx)("div", { children: (0, y.jsx)(Kf, { onClick: e, children: (0, y.jsx)(Ff, { height: "16px", width: "16px", strokeWidth: 2 }) }) }), Hf = ({ infoFn: e }) => (0, y.jsx)("div", { children: (0, y.jsx)(Yf, { "aria-label": "info", onClick: e, children: (0, y.jsx)(vf, { height: "22px", width: "22px", strokeWidth: 2 }) }) }), Gf = e => (0, y.jsx)("div", { children: (0, y.jsx)(Kf, { "aria-label": "close modal", onClick: e.onClose, children: (0, y.jsx)(Wf, { height: "16px", width: "16px", strokeWidth: 2 }) }) }), Vf = ({ backFn: e, infoFn: t, onClose: n, title: r, closeable: i = !0 }) => { let { closePrivyModal: o } = (0, af.u)(), s = sf(); return (0, y.jsxs)(Zf, { children: [(0, y.jsxs)(Xf, { children: [e && (0, y.jsx)(zf, { backFn: e }), t && (0, y.jsx)(Hf, { infoFn: t })] }), r && (0, y.jsx)(Qf, { id: "privy-dialog-title", children: r }), (0, y.jsx)(Jf, { children: !s.render.standalone && i && (0, y.jsx)(Gf, { onClose: n || (() => o()) }) })] }) }; let Kf = oh.button.withConfig({ displayName: "StyledButton", componentId: "sc-f295093d-0" })(["&&{cursor:pointer;display:flex;opacity:0.6;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-full);padding:4px;> svg{margin:auto;color:var(--privy-color-foreground);}:hover{opacity:1;}}"]), Yf = oh(Kf).withConfig({ displayName: "TransparentStyledButton", componentId: "sc-f295093d-1" })(["&&{background-color:transparent;}"]), Zf = oh.div.withConfig({ displayName: "StyledHeader", componentId: "sc-f295093d-2" })(["padding:16px 0;display:flex;align-items:center;justify-content:space-between;h2{font-size:16px;line-height:24px;font-weight:600;color:var(--privy-color-foreground);}"]), Xf = oh.div.withConfig({ displayName: "LeftActionContainer", componentId: "sc-f295093d-3" })(["flex:1;align-items:center;display:flex;gap:8px;"]), Jf = oh.div.withConfig({ displayName: "RightActionContainer", componentId: "sc-f295093d-4" })(["flex:1;display:flex;justify-content:flex-end;"]), Qf = oh.div.withConfig({ displayName: "TitleContainer", componentId: "sc-f295093d-5" })(["overflow:hidden;white-space:nowrap;max-width:100%;text-overflow:ellipsis;text-align:center;color:var(--privy-color-foreground-2);"]), ep = oh.div.withConfig({ displayName: "StackedContainer", componentId: "sc-f7e7d474-0" })(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]); const tp = oh.div.withConfig({ displayName: "Grow", componentId: "sc-b51c7c74-0" })(["text-align:left;flex-grow:1;"]), np = oh.div.withConfig({ displayName: "AlignBottom", componentId: "sc-b51c7c74-1" })(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]), rp = oh.div.withConfig({ displayName: "LoginMethodContainer", componentId: "sc-b51c7c74-2" })(["display:flex;flex-direction:column;gap:12px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]), ip = oh(rp).withConfig({ displayName: "LoginMethodContainerWithScrollShadows", componentId: "sc-b51c7c74-3" })(["", " background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;"], (e => "light" === e.$colorScheme ? "background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;" : "dark" === e.$colorScheme ? "background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;" : void 0)); let op = nh(["&&{width:100%;font-size:16px;line-height:24px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;padding:12px 16px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-mdlg);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}svg{height:24px;max-height:24px;max-width:24px;}}"]); const sp = oh.div.withConfig({ displayName: "Subtitle", componentId: "sc-b51c7c74-4" })(["text-align:center;font-size:14px;margin-bottom:24px;"]), ap = oh.button.attrs({ className: "login-method-button" }).withConfig({ displayName: "LoginMethodButton", componentId: "sc-b51c7c74-5" })(["", ""], op), cp = oh.a.withConfig({ displayName: "LoginMethodButtonLink", componentId: "sc-b51c7c74-6" })(["", ""], op), lp = oh.div.withConfig({ displayName: "Hide", componentId: "sc-b51c7c74-7" })(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;", ""], (e => e.$if ? "display: none;" : "")), up = oh.div.withConfig({ displayName: "EmptyWalletState", componentId: "sc-b51c7c74-8" })(["width:100%;height:100%;padding:", ";"], (e => e.$withPadding ? "64px 0px" : "0px")), dp = oh.div.withConfig({ displayName: "Header", componentId: "sc-b51c7c74-9" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]); let hp = oh.div.withConfig({ displayName: "ConnectContainer", componentId: "sc-408d3d00-0" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;padding-bottom:16px;margin-top:24px;"]), fp = oh.div.withConfig({ displayName: "GappedContainer", componentId: "sc-408d3d00-1" })(["display:flex;flex-direction:column;gap:8px;"]); function pp({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z" })) } var mp = Ke.forwardRef(pp); function gp({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3" })) } var yp = Ke.forwardRef(gp); const bp = oh.span.withConfig({ displayName: "CircleBorder", componentId: "sc-9056b8b8-0" })(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:", ";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;border-bottom-color:", ";}"], (e => e.color ?? "var(--privy-color-accent)"), (e => e.color ?? "var(--privy-color-accent)")); function vp(e) { return (0, y.jsx)("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 460 40", ...e, children: (0, y.jsx)("g", { fill: e.color || "var(--privy-color-foreground)", children: (0, y.jsx)("path", { d: "M0 15.4v15.38h4.64V19.96h3.58c2.47 0 3.63-.01 3.77-.02 1-.08 1.49-.15 2.18-.3a9.45 9.45 0 0 0 4.6-2.37c1.66-1.57 2.64-3.87 2.81-6.56.02-.3.02-1.19 0-1.49-.1-1.77-.56-3.35-1.36-4.72A8.84 8.84 0 0 0 15.14.57c-.93-.3-1.75-.43-3.09-.54C11.9.02 10.2 0 5.93 0H0ZM10.85 4c1.85.05 3.1.45 4.16 1.3.22.17.54.49.69.68a5.97 5.97 0 0 1 1.19 3.13c.04.35.04 1.36 0 1.71-.08.68-.23 1.3-.44 1.85a4.8 4.8 0 0 1-1.09 1.68A5.63 5.63 0 0 1 12 15.92c-.6.08-.4.08-4.01.09H4.64V3.98h2.9c1.6 0 3.08 0 3.31.02ZM187.65 5.71v5.72h-.27l-.09-.14a15.9 15.9 0 0 0-1.21-1.73c-.43-.5-1-.95-1.7-1.36-.54-.3-1.05-.5-1.73-.63a8.98 8.98 0 0 0-1.7-.17 8.84 8.84 0 0 0-7.8 4.03 12.95 12.95 0 0 0-2.03 6.39c-.07.98-.06 2.15.02 3.13.2 2.47.87 4.53 2.02 6.25a8.98 8.98 0 0 0 10.22 3.65 6.5 6.5 0 0 0 2.8-1.93c.41-.51.84-1.1 1.1-1.55l.1-.17h.37v3.58h4.38V0h-4.48Zm-5.24 5.54c1.3.14 2.3.6 3.17 1.48.9.9 1.5 2.09 1.85 3.64.36 1.6.39 3.72.06 5.43a8.13 8.13 0 0 1-1.54 3.62 5.1 5.1 0 0 1-3.93 1.96 6.13 6.13 0 0 1-2.32-.31 5.87 5.87 0 0 1-3.33-3.5c-.39-1-.62-2.05-.72-3.32-.03-.32-.04-1.35-.02-1.73.08-1.56.4-2.91.96-4.05a6.2 6.2 0 0 1 1.06-1.58 5.08 5.08 0 0 1 3.6-1.66c.25-.02.9 0 1.16.02ZM210.07 15.39l.01 15.38h4.38l.01-3.57h.37l.09.15c.24.44.84 1.26 1.21 1.7a6.79 6.79 0 0 0 2.57 1.75 9.3 9.3 0 0 0 6.86-.49 9.28 9.28 0 0 0 4.05-4.07A13.05 13.05 0 0 0 231 21.6c.21-1.73.18-3.7-.09-5.32a13.03 13.03 0 0 0-1.5-4.3 9.1 9.1 0 0 0-3.75-3.63 9.15 9.15 0 0 0-4.43-.96 7.46 7.46 0 0 0-2.8.5A7.07 7.07 0 0 0 216 9.7c-.4.52-.82 1.12-1.1 1.59l-.07.14h-.27V0h-4.5Zm11.13-4.14c1.07.1 1.94.44 2.7 1.04a6.1 6.1 0 0 1 1.64 1.98c.43.84.78 2 .94 3.11.15 1.16.16 2.4.02 3.54a9.34 9.34 0 0 1-1.39 4.03 5.33 5.33 0 0 1-2.69 2.15c-.9.3-2.04.38-3.06.2a5.14 5.14 0 0 1-3.45-2.37 6.03 6.03 0 0 1-.45-.8c-.5-1.03-.8-2.2-.92-3.58-.04-.49-.06-.89-.05-1.53.01-.76.05-1.23.13-1.85.38-2.53 1.47-4.38 3.15-5.31a5.46 5.46 0 0 1 2.3-.63 10 10 0 0 1 1.13.02ZM69.05 2.17l-.01 2.77V7.7h-3.36v3.6h3.36v6.8l.01 7.15c.06 1.4.4 2.44 1.1 3.37a5.8 5.8 0 0 0 2.97 2.07c.91.3 1.83.42 2.9.38a8.71 8.71 0 0 0 2.66-.48l-.8-3.7-.38.06a4.96 4.96 0 0 1-2.43-.06c-.33-.1-.56-.25-.8-.49-.4-.41-.6-.88-.7-1.67-.02-.2-.02-.62-.03-6.82v-6.6h4.73V7.7h-4.73V2.16h-4.49ZM133.34 2.17V7.7h-3.39v3.6h3.38v6.9l.01 7.17a5.66 5.66 0 0 0 2.36 4.49c.85.6 2.03 1.03 3.26 1.17.85.1 2.03.05 2.81-.1.3-.06.75-.18 1-.26l.2-.06v-.05l-.81-3.67-.37.06a4.99 4.99 0 0 1-1.8.09c-.85-.13-1.32-.4-1.7-.97a2.63 2.63 0 0 1-.39-1.04c-.06-.4-.06 0-.06-7.1V11.3h4.7V7.7h-4.7l-.01-2.77V2.16h-4.49ZM293.41 2.36a14.56 14.56 0 0 0-13.7 16.07 14.59 14.59 0 0 0 21.86 11.08 14.5 14.5 0 0 0 7.11-14.07 14.61 14.61 0 0 0-6.53-10.73 14.49 14.49 0 0 0-8.74-2.35ZM350.8 2.36a10.17 10.17 0 0 0-7.56 4.2c-.16.2-.45.63-.58.83l-.05.1h-.47l-.01-4.36h-7.36v36.4h7.82V27.27h.49l.05.07a11.3 11.3 0 0 0 7.49 4.15 10.52 10.52 0 0 0 9.38-4.1c1.66-2.1 2.73-4.9 3.07-8.06.1-.87.13-1.4.13-2.37 0-.8 0-1.1-.07-1.76a15.95 15.95 0 0 0-3.23-8.72 12.8 12.8 0 0 0-1.85-1.84 10.49 10.49 0 0 0-7.26-2.28Zm-.94 6.05c1.27.15 2.33.65 3.2 1.5.98.96 1.67 2.31 2.03 4 .34 1.57.38 3.68.12 5.39a9.78 9.78 0 0 1-1.04 3.25c-.14.25-.44.69-.6.89a5.35 5.35 0 0 1-4.31 2.07 5.25 5.25 0 0 1-4.41-1.9 7.35 7.35 0 0 1-1.26-2.32 14.09 14.09 0 0 1-.62-4.83c.05-1.98.38-3.53 1.02-4.85a5.63 5.63 0 0 1 2.5-2.65c.66-.34 1.3-.5 2.14-.58.18-.02 1.04 0 1.23.03ZM363.63 3.1l-.01 3.2v3.16h1.43c1.26.01 1.44.02 1.54.04.42.09.66.28.79.62.08.23.08.08.08 2.96a911.57 911.57 0 0 1 .03 10.18v7.54h7.82v-7.4l.01-7.83c.03-.94.11-1.63.27-2.28.46-1.9 1.54-2.93 3.35-3.23.52-.08.2-.08 5-.08h4.4V3.08h-3.1c-3.48 0-3.91.01-4.67.1-1.83.2-3.04.79-3.96 1.88-.5.6-.9 1.32-1.26 2.26l-.06.17h-.46V3.09h-5.6c-4.46 0-5.6 0-5.6.02ZM390.8 16.95V30.8h3.87l3.86-.01V3.09h-7.73ZM400.6 3.1l-.01.4v.38l4.66 13.4 4.69 13.47.02.05h10.3l.03-.05 4.67-13.45 4.67-13.4V3.1h-7.43l-6.7 19.26h-.5l-3.28-9.5-3.31-9.64-.05-.12h-3.88l-3.88.01ZM430.98 3.1c-.01 0-.02.19-.02.4v.39l5.08 14.59c2.8 8.02 5.08 14.6 5.08 14.61.01.02-.22.02-4.8.02h-4.82v6.42h4.95c5.09 0 5.23 0 5.87-.06 3.15-.28 5.29-1.63 6.63-4.15.28-.55.44-.95.87-2.16L459 6.78l1-2.89v-.8h-7.43l-6.69 19.26h-.5l-3.27-9.46-3.31-9.64-.06-.16h-3.88l-3.88.01ZM36.57 7.36c-1.36.1-2.6.6-3.62 1.45a5.65 5.65 0 0 0-1.67 2.42l-.05.13H31V7.7h-4.35v23.08h4.5v-7.3c0-8 0-7.34.08-7.82a4.89 4.89 0 0 1 2.06-3.18c.83-.58 1.74-.89 2.87-.98a11.87 11.87 0 0 1 2.8.25H39v-4.3l-.21-.02c-.61-.07-1.74-.1-2.22-.07ZM51.08 7.41c-2.33.12-4.3.84-5.95 2.16a9.89 9.89 0 0 0-2.03 2.2 12.5 12.5 0 0 0-2 5.78 18.04 18.04 0 0 0 0 3.65 12.13 12.13 0 0 0 2.26 6.05 9.74 9.74 0 0 0 5 3.52c2.11.64 4.7.64 6.8 0a9.78 9.78 0 0 0 4.88-3.37c1.38-1.78 2.19-4 2.4-6.58.13-1.46.06-3.06-.18-4.42a11.24 11.24 0 0 0-3.58-6.6 10 10 0 0 0-5.75-2.35c-.56-.06-1.31-.07-1.85-.04Zm1.42 3.78c.88.1 1.62.34 2.28.75a6.13 6.13 0 0 1 1.99 2.15 10.31 10.31 0 0 1 1.2 5c.02 1.23-.12 2.44-.42 3.51a7.14 7.14 0 0 1-1.81 3.32c-.61.6-1.2.98-1.95 1.24a6 6 0 0 1-2 .3 5.7 5.7 0 0 1-2.72-.6 5 5 0 0 1-1.28-.94A7.1 7.1 0 0 1 46 22.73c-.57-1.99-.6-4.46-.08-6.5a7.24 7.24 0 0 1 2.03-3.67 5.13 5.13 0 0 1 3.35-1.4 11 11 0 0 1 1.2.03ZM92.05 7.4c-.96.06-1.56.15-2.3.33a9.62 9.62 0 0 0-6.09 4.66 13.5 13.5 0 0 0-1.71 7c0 .83 0 1.04.06 1.6.16 1.77.58 3.32 1.29 4.7A9.72 9.72 0 0 0 90.28 31c1.84.37 4.08.32 5.85-.13a9.07 9.07 0 0 0 5.02-3.1A7.64 7.64 0 0 0 102.5 25l-2.11-.39-2.11-.38-.08.13a4.72 4.72 0 0 1-2.35 2.55 6.3 6.3 0 0 1-2.23.58c-.29.03-1.13.03-1.44 0a6.35 6.35 0 0 1-3.02-1.04 5.93 5.93 0 0 1-2.02-2.43 8.44 8.44 0 0 1-.72-3.18v-.26h16.38v-.81c0-1.83-.06-2.76-.25-3.87-.2-1.22-.53-2.24-1.05-3.28a8.9 8.9 0 0 0-2.66-3.26 10.1 10.1 0 0 0-5.34-1.94 18.3 18.3 0 0 0-1.46-.03Zm1.3 3.75c1.2.13 2.19.55 3.05 1.3a5.8 5.8 0 0 1 1.78 2.96c.13.51.21 1.17.21 1.66v.15H86.43v-.12c.08-.97.3-1.78.72-2.61.5-1 1.2-1.8 2.14-2.42a5.32 5.32 0 0 1 2.9-.95c.2-.01.97 0 1.17.03ZM116.79 7.41c-2 .1-3.73.65-5.22 1.65a10.7 10.7 0 0 0-4.25 6.06 16.1 16.1 0 0 0-.5 5.8c.2 2.17.84 4.13 1.88 5.76.58.9 1.32 1.73 2.15 2.4a9.37 9.37 0 0 0 3.6 1.8 12.06 12.06 0 0 0 3.92.34 10.2 10.2 0 0 0 3.84-.95 8.31 8.31 0 0 0 4.76-6.75l.01-.04h-4.37l-.05.16a4.87 4.87 0 0 1-4.24 3.75c-.59.07-1.32.06-1.93-.05a5.47 5.47 0 0 1-3.5-2.27c-.56-.75-1-1.73-1.26-2.79a13.8 13.8 0 0 1-.16-5.24 7.77 7.77 0 0 1 2.1-4.3 5.48 5.48 0 0 1 2.15-1.3 6.4 6.4 0 0 1 3.89.1c.59.21 1.03.5 1.5.96a5.32 5.32 0 0 1 1.46 2.5l.04.15h4.37v-.06a8.22 8.22 0 0 0-5.31-6.94 10.98 10.98 0 0 0-4.88-.74ZM156.2 7.41a9.87 9.87 0 0 0-6 2.29 11.02 11.02 0 0 0-3.41 5.43c-.52 1.78-.68 3.9-.48 5.97.17 1.8.63 3.38 1.37 4.8a9.68 9.68 0 0 0 5.91 4.86c1.65.48 3.63.61 5.53.36 3.72-.49 6.55-2.62 7.56-5.69.12-.39.13-.42.1-.43-.02 0-4.13-.75-4.19-.75-.03 0-.04 0-.1.16-.18.42-.45.9-.72 1.22-.16.2-.49.53-.7.7-.67.54-1.5.9-2.43 1.08-.48.08-.83.11-1.41.11-.64 0-1.07-.04-1.6-.15a5.76 5.76 0 0 1-3.93-2.83 8 8 0 0 1-.99-3.79v-.16h16.38v-1.11l-.02-1.43c-.1-2.25-.53-4-1.35-5.59a9.24 9.24 0 0 0-6.18-4.75c-1.04-.26-2.2-.36-3.33-.3Zm1.45 3.74a5.35 5.35 0 0 1 3.66 1.94 6.1 6.1 0 0 1 1.38 4.01v.12h-11.97v-.06c0-.02 0-.14.02-.25a6.6 6.6 0 0 1 2.15-4.32 5.73 5.73 0 0 1 3.5-1.46c.25-.02 1 0 1.26.02ZM233.58 7.82l8.37 23.22a49.22 49.22 0 0 1-.67 1.9 5.36 5.36 0 0 1-1.14 1.8c-.41.4-.82.58-1.48.69-.27.04-1.03.03-1.35 0a8.05 8.05 0 0 1-1.1-.23l-1.08 3.67c0 .02.32.14.66.22.83.21 1.57.29 2.56.28.56-.01.8-.03 1.24-.1 2.71-.4 4.66-2.09 5.86-5.08l9.64-26.44c0-.02-4.82-.06-4.83-.05l-2.93 8.96-2.91 8.94h-.24l-.22-.65-2.91-8.95-2.7-8.3H233.53ZM293.05 35.8c-1.18.04-1.93.09-2.8.16-2.52.24-4.53.69-5.43 1.23-.7.41-.76.86-.2 1.28.88.66 3.29 1.19 6.36 1.4a48.55 48.55 0 0 0 5.75.05c3.47-.19 6.24-.78 7.11-1.5.22-.19.3-.34.3-.53 0-.1 0-.12-.04-.22-.35-.69-2.32-1.3-5.25-1.63a41.09 41.09 0 0 0-5.8-.24Zm0 0" }) }) }) } let wp = oh.div.withConfig({ displayName: "TermsAndConditionsContainer", componentId: "sc-c97bf02f-0" })(["margin-top:16px;font-size:13px;text-align:center;color:var(--privy-color-foreground-3);&& > a{color:var(--privy-color-accent);}"]); function Ep(e) { let { legal: { privacyPolicyUrl: t, termsAndConditionsUrl: n, requireUsersAcceptTerms: r } } = e.app; if (r && !e.alwaysShowImplicitConsent || !n && !t) return (0, y.jsx)(wp, {}); let i = !(!t || !n); return (0, y.jsxs)(wp, { children: ["By logging in I agree to the", " ", n && (0, y.jsx)("a", { href: n, target: "_blank", children: i ? "Terms" : "Terms of Service" }), i && " & ", t && (0, y.jsx)("a", { href: t, target: "_blank", children: "Privacy Policy" })] }) } const xp = () => (0, y.jsx)(_p, { children: (0, y.jsx)("a", { href: "https://www.privy.io/", target: "_blank", children: (0, y.jsx)(vp, { height: 13, width: 150 }) }) }), _p = oh.div.withConfig({ displayName: "ModalFooter", componentId: "sc-c97bf02f-1" })(["display:flex;align-items:center;justify-content:center;padding-top:8px;padding-bottom:12px;gap:8px;font-size:13px;&& a{padding:0.5rem 0;&:hover{text-decoration:none;}}@media all and (display-mode:standalone){padding-bottom:30px;}"]); function Cp({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "m4.5 12.75 6 6 9-13.5" })) } var Ap = Ke.forwardRef(Cp); function Sp({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6" })) } var kp = Ke.forwardRef(Sp); const Ip = ({ address: e, showCopyIcon: t, url: n, className: r }) => { let [i, o] = (0, Ke.useState)(!1); return (0, Ke.useEffect)((() => { if (i) { let e = setTimeout((() => o(!1)), 2e3); return () => clearTimeout(e) } }), [i]), n ? (0, y.jsx)("a", { title: e, className: r, href: `${n}/address/${e}`, target: "_blank", children: ja(e) }) : (0, y.jsxs)("button", { title: e, className: r, onClick: t => (t.stopPropagation(), navigator.clipboard.writeText(e).then((() => o(!0))).catch(console.error)), children: [ja(e), t && (0, y.jsx)(i ? Np : Tp, {})] }) }; let Tp = oh(kp).withConfig({ displayName: "StyledSquare2StackIcon", componentId: "sc-6eaa0c94-0" })(["&&{display:inline;}stroke-width:2;height:0.875rem;width:0.875rem;margin-left:0.125rem;color:var(--privy-color-foreground-3);"]), Np = oh(Ap).withConfig({ displayName: "StyledCheckIcon", componentId: "sc-6eaa0c94-1" })(["&&{display:inline;}stroke-width:2;height:0.875rem;width:0.875rem;margin-left:0.125rem;color:var(--privy-color-success);"]); function Pp(e) { return e.charAt(0).toUpperCase() + e.slice(1) } const Mp = ({ onTransfer: e, isTransferring: t, transferSuccess: n }) => (0, y.jsx)(Sf, { ...n ? { success: !0, children: "Success!" } : { warn: !0, loading: t, onClick: e, children: "Transfer and delete account" } }); function Op({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z" })) } var Rp = Ke.forwardRef(Op); const jp = oh.div.withConfig({ displayName: "ConnectContainer", componentId: "sc-aa2e65ff-0" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%;padding-bottom:16px;"]), $p = oh.div.withConfig({ displayName: "GappedContainer", componentId: "sc-aa2e65ff-1" })(["display:flex;flex-direction:column;&& p{font-size:14px;}width:100%;gap:16px;"]), Lp = oh.div.withConfig({ displayName: "DisclosedAccountContainer", componentId: "sc-aa2e65ff-2" })(["display:flex;cursor:pointer;align-items:center;width:100%;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);padding:8px 10px;font-size:14px;font-weight:500;gap:8px;"]), Dp = oh(Rp).withConfig({ displayName: "StyledExclamationCircleIcon", componentId: "sc-aa2e65ff-3" })(["position:relative;width:", ";height:", ";color:var(--privy-color-foreground-3);margin-left:auto;"], (e => `${e.iconSize}px`), (e => `${e.iconSize}px`)), Up = oh(kp).withConfig({ displayName: "StyledCopyIcon", componentId: "sc-aa2e65ff-4" })(["position:relative;width:15px;height:15px;color:var(--privy-color-foreground-3);margin-left:auto;"]), Fp = oh.ol.withConfig({ displayName: "ListContainer", componentId: "sc-aa2e65ff-5" })(["display:flex;flex-direction:column;font-size:14px;width:100%;text-align:left;"]), Bp = oh.li.withConfig({ displayName: "ListItem", componentId: "sc-aa2e65ff-6" })(["font-size:14px;list-style-type:auto;list-style-position:outside;margin-left:1rem;margin-bottom:0.5rem;&:last-child{margin-bottom:0;}"]), Wp = oh.div.withConfig({ displayName: "CircleContainer", componentId: "sc-aa2e65ff-7" })(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]); let zp = () => (0, y.jsx)(Wp, { children: (0, y.jsx)(Dp, { iconSize: 60 }) }); const qp = ({ address: e, onClose: t, onRetry: n, onTransfer: r, isTransferring: i, transferSuccess: o }) => { let { defaultChain: s } = sf(), a = s.blockExplorers?.default.url ?? "https://etherscan.io"; return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: t, backFn: n }), (0, y.jsxs)(jp, { children: [(0, y.jsx)(zp, {}), (0, y.jsxs)($p, { children: [(0, y.jsx)("h3", { children: "Check account assets before transferring" }), (0, y.jsx)("p", { children: "Before transferring, ensure there are no assets in the other account. Assets in that account will not transfer automatically and may be lost." }), (0, y.jsxs)(Fp, { children: [(0, y.jsx)("p", { children: " To check your balance, you can:" }), (0, y.jsx)(Bp, { children: "Log out and log back into the other account, or " }), (0, y.jsxs)(Bp, { children: ["Copy your wallet address and use a", " ", (0, y.jsx)("u", { children: (0, y.jsx)("a", { target: "_blank", href: a, children: "block explorer" }) }), " ", "to see if the account holds any assets."] })] }), (0, y.jsxs)(Lp, { onClick: () => navigator.clipboard.writeText(e).catch(console.error), children: [(0, y.jsx)(yp, { color: "var(--privy-color-foreground-1)", strokeWidth: 2, height: "28px", width: "28px" }), (0, y.jsx)(Ip, { address: e, showCopyIcon: !1 }), (0, y.jsx)(Up, {})] }), (0, y.jsx)(Mp, { onTransfer: r, isTransferring: i, transferSuccess: o })] })] }), (0, y.jsx)(xp, {})] }) }, Hp = ({ onClose: e, onContinue: t, onInfo: n, onTransfer: r, transferSuccess: i, isTransferring: o, data: s }) => { if (!s?.accountTransfer?.linkMethod || !s?.accountTransfer?.displayName) return; let a = { method: s?.accountTransfer?.linkMethod, handle: s?.accountTransfer?.displayName, disclosedAccount: s?.accountTransfer?.embeddedWalletAddress ? { type: "wallet", handle: s?.accountTransfer?.embeddedWalletAddress } : void 0 }; return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { closeable: !0 }), (0, y.jsxs)(jp, { children: [(0, y.jsx)(ep, { children: (0, y.jsxs)("div", { children: [(0, y.jsx)(bp, { color: "var(--privy-color-error)" }), (0, y.jsx)(mp, { height: 38, width: 38, stroke: "var(--privy-color-error)" })] }) }), (0, y.jsxs)($p, { children: [(0, y.jsxs)("h3", { children: [function (e) { switch (e) { case "sms": return "Phone number"; case "email": return "Email address"; case "siwe": return "Wallet address"; case "linkedin": return "LinkedIn profile"; case "google": case "apple": case "discord": case "github": case "instagram": case "spotify": case "tiktok": case "twitter": case "telegram": case "farcaster": return `${Pp(e.replace("_oauth", ""))} profile`; default: return e } }(a.method), " is associated with another account"] }), (0, y.jsxs)("p", { children: ["Do you want to transfer", (0, y.jsx)("b", { children: a.handle ? ` ${a.handle}` : "" }), " to this account instead? This will delete your other account."] }), (0, y.jsx)(Gp, { onClick: n, disclosedAccount: a.disclosedAccount })] }), (0, y.jsxs)($p, { style: { gap: 12, marginTop: 12 }, children: [s?.accountTransfer?.embeddedWalletAddress ? (0, y.jsx)(Sf, { onClick: t, children: "Continue" }) : (0, y.jsx)(Mp, { onTransfer: r, transferSuccess: i, isTransferring: o }), (0, y.jsx)(Pf, { onClick: e, children: "No thanks" })] })] }), (0, y.jsx)(xp, {})] }) }; function Gp({ disclosedAccount: e, onClick: t }) { return e ? (0, y.jsxs)(Lp, { onClick: t, children: [(0, y.jsx)(yp, { color: "var(--privy-color-foreground-1)", strokeWidth: 2, height: "28px", width: "28px" }), (0, y.jsx)(Ip, { address: e.handle, showCopyIcon: !1 }), (0, y.jsx)(Dp, { iconSize: 15 })] }) : null } function Vp({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25" })) } var Kp = Ke.forwardRef(Vp); function Yp({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 24 24", fill: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { fillRule: "evenodd", d: "M9 1.5H5.625c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5Zm6.61 10.936a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 14.47a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z", clipRule: "evenodd" }), Ke.createElement("path", { d: "M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z" })) } var Zp = Ke.forwardRef(Yp); const Xp = oh.div.withConfig({ displayName: "AppLogoContainer", componentId: "sc-a63b1990-0" })(["display:flex;flex-direction:column;align-items:center;padding:0px 0px 30px;@media (max-width:440px){padding:10px 10px 20px;}"]), Jp = oh.div.withConfig({ displayName: "Title", componentId: "sc-a63b1990-1" })(["font-size:18px;line-height:30px;text-align:center;font-weight:600;margin-bottom:10px;"]), Qp = oh.div.withConfig({ displayName: "SubTitle", componentId: "sc-a63b1990-2" })(["font-size:0.875rem;text-align:center;"]), em = oh.div.withConfig({ displayName: "Container", componentId: "sc-a63b1990-3" })(["display:flex;flex-direction:column;align-items:center;gap:10px;flex-grow:1;padding:20px 0;@media (max-width:440px){padding:10px 10px 20px;}"]), tm = oh.div.withConfig({ displayName: "List", componentId: "sc-a63b1990-4" })(["display:flex;flex-direction:column;align-items:stretch;gap:0.75rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]), nm = oh.div.withConfig({ displayName: "ListItemIcon", componentId: "sc-a63b1990-5" })(["width:25px;display:flex;align-items:center;justify-content:flex-start;> svg{z-index:2;height:25px !important;width:25px !important;color:var(--privy-color-accent);}"]), rm = oh.div.withConfig({ displayName: "ListItem", componentId: "sc-a63b1990-6" })(["display:flex;align-items:center;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;"]), im = oh.div.withConfig({ displayName: "BottomSection", componentId: "sc-a63b1990-7" })(["display:flex;flex-direction:column;gap:10px;padding-top:20px;"]), om = oh.div.withConfig({ displayName: "MethodList", componentId: "sc-a63b1990-8" })(["display:flex;flex-direction:column;align-items:stretch;gap:1rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]), sm = oh.div.withConfig({ displayName: "MethodListItem", componentId: "sc-a63b1990-9" })(["display:flex;gap:5px;width:100%;position:relative;"]), am = oh.button.withConfig({ displayName: "RemoveMethodButton", componentId: "sc-a63b1990-10" })(["&&{background-color:transparent;color:var(--privy-color-foreground-3);padding:0 0.75rem;display:flex;align-items:center;height:100%;> svg{z-index:2;height:20px !important;width:20px !important;}}&&:hover{color:var(--privy-color-error);}"]), cm = oh.div.withConfig({ displayName: "MethodText", componentId: "sc-a63b1990-11" })(["display:flex;align-items:center;gap:0.5rem;> svg{z-index:2;height:20px !important;width:20px !important;}"]), lm = oh.div.withConfig({ displayName: "ExtraText", componentId: "sc-a63b1990-12" })(["display:flex;align-items:center;gap:6px;font-weight:400 !important;color:", ";> svg{z-index:2;height:18px !important;width:18px !important;display:flex !important;align-items:flex-end;}"], (e => e.isAccent ? "var(--privy-color-accent)" : "var(--privy-color-foreground-3)")), um = oh.div.withConfig({ displayName: "SmsInsecureText", componentId: "sc-a63b1990-13" })(["width:100%;display:flex;justify-content:space-between;"]), dm = oh.p.withConfig({ displayName: "TermsText", componentId: "sc-a63b1990-14" })(["text-align:left;width:100%;color:var(--privy-color-foreground-3) !important;"]), hm = oh.button.withConfig({ displayName: "PrimaryTextButton", componentId: "sc-a63b1990-15" })(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:0.875rem;line-height:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{color:", ";background-color:transparent;padding:0.5rem 0px;}&:hover{text-decoration:underline;}"], (e => "dark" === e.theme ? "var(--privy-color-foreground-2)" : "var(--privy-color-accent)")), fm = oh.div.withConfig({ displayName: "IconWrapper", componentId: "sc-a63b1990-16" })(["display:flex;align-items:center;justify-content:center;color:var(--privy-color-accent);width:100%;> svg{z-index:2;width:3rem;height:3rem;}"]), pm = oh.div.withConfig({ displayName: "ErrorMessage", componentId: "sc-a63b1990-17" })(["color:var(--privy-color-error);"]), mm = ({ termsAndConditionsUrl: e, privacyPolicyUrl: t, onAccept: n, onDecline: r }) => (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { closeable: !1 }), (0, y.jsx)(Zp, { width: 56, height: 56, fill: "var(--privy-color-accent)", style: { margin: "auto" } }), (0, y.jsx)(Jp, { style: { marginTop: 24 }, children: "One last step" }), (0, y.jsx)(Qp, { children: "By signing up, you agree to our terms and privacy policy." }), (0, y.jsxs)(rp, { style: { marginTop: 24 }, children: [e && (0, y.jsxs)(cp, { target: "_blank", href: e, children: ["View Terms ", (0, y.jsx)(Kp, { style: { marginLeft: "auto" } })] }), t && (0, y.jsxs)(cp, { target: "_blank", href: t, children: ["View Privacy Policy ", (0, y.jsx)(Kp, { style: { marginLeft: "auto" } })] })] }), (0, y.jsxs)(gm, { style: { marginTop: 24 }, children: [(0, y.jsx)(Pf, { onClick: r, children: "No thanks" }), (0, y.jsx)(Sf, { onClick: n, children: "Accept" })] }), (0, y.jsx)(xp, {})] }); let gm = oh.div.withConfig({ displayName: "ButtonsContainer", componentId: "sc-4aff18c8-0" })(["display:flex;gap:10px;"]); const ym = ({ style: e, ...t }) => (0, y.jsx)("svg", { xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: "1.5", stroke: "currentColor", style: { height: "1.5rem", width: "1.5rem", ...e }, ...t, children: (0, y.jsx)("path", { fillRule: "evenodd", d: "M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003 3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75 8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z", clipRule: "evenodd" }) }); let bm = oh.div.withConfig({ displayName: "ConnectContainer", componentId: "sc-ed4ecf-0" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;padding-bottom:16px;"]), vm = oh.div.withConfig({ displayName: "GappedContainer", componentId: "sc-ed4ecf-1" })(["display:flex;flex-direction:column;gap:8px;"]); function wm({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 20 20", fill: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { fillRule: "evenodd", d: "M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z", clipRule: "evenodd" })) } var Em = Ke.forwardRef(wm); function xm({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" })) } var _m = Ke.forwardRef(xm); function Cm({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z" })) } var Am = Ke.forwardRef(Cm); const Sm = oh.div.withConfig({ displayName: "BottomPusherContainer", componentId: "sc-cb963810-0" })(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;margin-top:auto;gap:16px;flex-grow:100;"]), km = oh.div.withConfig({ displayName: "CenteredItem", componentId: "sc-cb963810-1" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;"]), Im = oh.div.withConfig({ displayName: "HorizontallyCenteredItem", componentId: "sc-cb963810-2" })(["display:flex;flex-direction:column;align-items:center;width:100%;"]), Tm = oh(km).withConfig({ displayName: "CenteredItemWithPadding", componentId: "sc-cb963810-3" })(["padding:20px 0;"]), Nm = oh(km).withConfig({ displayName: "CenteredItemWithGap", componentId: "sc-cb963810-4" })(["gap:16px;"]), Pm = oh.div.withConfig({ displayName: "FlexContainer", componentId: "sc-cb963810-5" })(["display:flex;flex-direction:column;width:100%;"]), Mm = oh.div.withConfig({ displayName: "FixedGappedContainer", componentId: "sc-cb963810-6" })(["display:flex;flex-direction:column;gap:8px;"]), Om = oh.div.withConfig({ displayName: "StyledCalloutSection", componentId: "sc-cb963810-8" })(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;padding:16px;margin-top:16px;margin-bottom:16px;width:100%;background:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);&& h4{color:var(--privy-color-foreground-3);font-size:14px;text-decoration:underline;font-weight:medium;}&& p{color:var(--privy-color-foreground-3);font-size:14px;}"]), Rm = oh.div.withConfig({ displayName: "RefactorSpacerTop", componentId: "sc-cb963810-9" })(["height:16px;"]), jm = oh.div.withConfig({ displayName: "RefactorSpacerBottom", componentId: "sc-cb963810-10" })(["height:12px;"]), $m = oh.div.withConfig({ displayName: "RelativeContainer", componentId: "sc-cb963810-11" })(["position:relative;"]), Lm = oh.div.withConfig({ displayName: "ConfigurableSpacer", componentId: "sc-cb963810-12" })(["height:", "px;"], (e => e.height ?? "12")), Dm = oh.div.withConfig({ displayName: "Circle", componentId: "sc-cb963810-13" })(["background-color:var(--privy-color-accent);display:flex;justify-content:center;align-items:center;border-radius:50%;border-color:white;border-width:2px !important;"]), Um = ({ title: e, description: t, children: n, ...r }) => (0, y.jsx)(Wm, { ...r, children: (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)("h3", { children: e }), "string" == typeof t ? (0, y.jsx)("p", { children: t }) : t, n] }) }), Fm = oh(Um).withConfig({ displayName: "PaddedScreenHeader", componentId: "sc-523a75d6-0" })(["margin-bottom:24px;"]), Bm = ({ title: e, description: t, icon: n, children: r, ...i }) => (0, y.jsxs)(zm, { ...i, children: [n || null, (0, y.jsx)("h3", { children: e }), t && "string" == typeof t ? (0, y.jsx)("p", { children: t }) : t, r] }); let Wm = oh.div.withConfig({ displayName: "StyledSection", componentId: "sc-523a75d6-1" })(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;width:100%;margin-bottom:24px;&& h3{font-size:17px;color:var(--privy-color-foreground);}&& p{color:var(--privy-color-foreground-2);font-size:14px;}"]), zm = oh(Wm).withConfig({ displayName: "CenteredStyledSection", componentId: "sc-523a75d6-2" })(["align-items:center;text-align:center;gap:16px;h3{margin-bottom:24px;}"]), qm = Array(6).fill(""); var Hm, Gm, Vm = ((Hm = Vm || {})[Hm.RESET_AFTER_DELAY = 0] = "RESET_AFTER_DELAY", Hm[Hm.CLEAR_ON_NEXT_VALID_INPUT = 1] = "CLEAR_ON_NEXT_VALID_INPUT", Hm), Km = ((Gm = Km || {})[Gm.EMAIL = 0] = "EMAIL", Gm[Gm.SMS = 1] = "SMS", Gm); let Ym = oh.div.withConfig({ displayName: "PasswordlessCodeContainer", componentId: "sc-463c12b2-0" })(["display:flex;flex-direction:column;align-items:flex-start;justify-content:center;margin:auto;gap:16px;flex-grow:1;"]), Zm = oh.div.withConfig({ displayName: "CodeInput", componentId: "sc-463c12b2-1" })(["display:flex;flex-direction:column;width:100%;gap:8px;> div:last-child{display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]), Xm = oh.div.withConfig({ displayName: "InputHelp", componentId: "sc-463c12b2-2" })(["line-height:20px;height:20px;font-size:13px;color:", ";display:flex;justify-content:flex-end;width:100%;"], (e => e.$success ? "var(--privy-color-success)" : e.$fail ? "var(--privy-color-error)" : "var(--privy-color-foreground-3)")), Jm = oh.div.withConfig({ displayName: "HelpText", componentId: "sc-463c12b2-3" })(["font-size:13px;color:var(--privy-color-foreground);display:flex;gap:8px;align-items:center;width:100%;margin-top:16px;padding-bottom:32px;"]), Qm = oh.div.withConfig({ displayName: "ResendButtonContainer", componentId: "sc-463c12b2-4" })(["color:var(--privy-color-accent);padding:2px 0;> button{text-decoration:underline;}"]), eg = oh.div.withConfig({ displayName: "Badge", componentId: "sc-463c12b2-5" })(["display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-sm);padding:2px 8px;gap:4px;background:var(--privy-color-background-2);color:var(--privy-color-foreground-2);"]), tg = oh.span.withConfig({ displayName: "BoldWrappingSpan", componentId: "sc-463c12b2-6" })(["font-weight:500;word-break:break-all;"]); function ng({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 24 24", fill: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { fillRule: "evenodd", d: "M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z", clipRule: "evenodd" })) } var rg = Ke.forwardRef(ng); function ig({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 24 24", fill: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { fillRule: "evenodd", d: "M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z", clipRule: "evenodd" })) } var og = Ke.forwardRef(ig); const sg = ({ icon: e }) => (0, y.jsx)(y.Fragment, { children: (0, y.jsx)(ag, { children: (0, y.jsxs)("div", { children: [(0, y.jsx)(wf, {}), "string" == typeof e ? (0, y.jsx)("span", { style: { background: `url('${e}')`, height: "38px", width: "38px", borderRadius: "6px", margin: "auto", backgroundSize: "cover" } }) : e ? (0, y.jsx)(e, { style: { width: "38px", height: "38px" } }) : (0, y.jsx)("span", {})] }) }) }); let ag = oh.div.withConfig({ displayName: "StackedContainer", componentId: "sc-26c1d9b9-0" })(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]); let cg = oh.div.withConfig({ displayName: "CaptchaContainer", componentId: "sc-9afcf974-0" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]); const lg = ({ chainType: e, withPadding: t }) => { let n = ""; return n = "ethereum-only" === e || "ethereum-and-solana" === e ? "Rainbow, Phantom, or Coinbase Wallet" : "Phantom or Solflare", (0, y.jsx)(up, { $withPadding: t, children: (0, y.jsxs)(dp, { children: [(0, y.jsx)(vf, { style: { color: "var(--privy-color-warn)", height: 48, width: 48 } }), (0, y.jsx)("h3", { children: "No wallets available" }), (0, y.jsxs)("p", { children: ["Please download an external wallet provider, like ", n, "."] })] }) }, "empty-wallet-state") }, ug = ({ icon: e, name: t }) => "string" == typeof e ? (0, y.jsx)("img", { alt: `${t || "wallet"} logo`, src: e, style: { height: 24, width: 24, borderRadius: 4 } }) : e ? (0, y.jsx)(e, {}) : null; let dg = ch(["from,to{background:var(--privy-color-foreground-4);color:var(--privy-color-foreground-4);}50%{background:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-accent);}"]); const hg = nh(["", ""], (e => e.$isLoading ? nh(["width:35%;animation:", " 2s linear infinite;border-radius:var(--privy-border-radius-sm);"], dg) : "")), fg = ({ children: e, color: t, isLoading: n, isPulsing: r, ...i }) => (0, y.jsx)(pg, { $color: t, $isLoading: n, $isPulsing: r, ...i, children: e }); let pg = oh.span.withConfig({ displayName: "StyledSpan", componentId: "sc-eba15c9-0" })(["padding:0.125rem 0.5rem;font-size:0.75rem;font-weight:500;line-height:1.125rem;border-radius:var(--privy-border-radius-sm);display:flex;align-items:center;", " ", ""], (e => { let t, n; "green" === e.$color && (t = "var(--privy-color-success-dark)", n = "var(--privy-color-success-light)"), "red" === e.$color && (t = "var(--privy-color-error)", n = "var(--privy-color-error-light)"), "gray" === e.$color && (t = "var(--privy-color-foreground-2)", n = "var(--privy-color-background-2)"); let r = ch(["from,to{background-color:", ";}50%{background-color:rgba(", ",0.8);}"], n, n); return nh(["color:", ";background-color:", ";", ";"], t, n, e.$isPulsing && nh(["animation:", " 3s linear infinite;"], r)) }), hg); const mg = ({ style: e, ...t }) => (0, y.jsxs)("svg", { xmlns: "http://www.w3.org/2000/svg", xmlSpace: "preserve", x: 0, y: 0, viewBox: "0 0 318.6 318.6", width: "28", height: "28", style: { height: "28px", width: "28px", ...e }, ...t, children: [(0, y.jsx)("style", { children: ".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}" }), (0, y.jsx)("path", { fill: "#e2761b", stroke: "#e2761b", className: "s1", d: "m274.1 35.5-99.5 73.9L193 65.8z" }), (0, y.jsx)("path", { d: "m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z", className: "s1 s2" }), (0, y.jsx)("path", { d: "m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z", className: "s1 s2" }), (0, y.jsx)("path", { fill: "#d7c1b3", stroke: "#d7c1b3", className: "s1", d: "m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z" }), (0, y.jsx)("path", { fill: "#233447", stroke: "#233447", className: "s1", d: "m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z" }), (0, y.jsx)("path", { fill: "#cd6116", stroke: "#cd6116", className: "s1", d: "m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z" }), (0, y.jsx)("path", { fill: "#e4751f", stroke: "#e4751f", className: "s1", d: "m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z" }), (0, y.jsx)("path", { d: "m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z", className: "s3" }), (0, y.jsx)("path", { fill: "#c0ad9e", stroke: "#c0ad9e", className: "s1", d: "m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z" }), (0, y.jsx)("path", { fill: "#161616", stroke: "#161616", className: "s1", d: "m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z" }), (0, y.jsx)("path", { fill: "#763d16", stroke: "#763d16", className: "s1", d: "m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z" }), (0, y.jsx)("path", { d: "m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z", className: "s3" })] }), gg = ({ style: e, ...t }) => (0, y.jsxs)("svg", { xmlns: "http://www.w3.org/2000/svg", width: "108", height: "108", viewBox: "0 0 108 108", fill: "none", style: { height: "28px", width: "28px", ...e }, ...t, children: [(0, y.jsx)("rect", { width: "108", height: "108", rx: "23", fill: "#AB9FF2" }), (0, y.jsx)("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z", fill: "#FFFDF8" })] }), yg = ({ style: e, ...t }) => { let { app: n } = pf(); return (0, y.jsxs)("svg", { width: "28", height: "28", viewBox: "0 0 28 28", fill: "none", xmlns: "http://www.w3.org/2000/svg", style: { height: "28px", width: "28px", ...e }, ...t, children: [(0, y.jsx)("rect", { width: "28", height: "28", rx: "3", fill: "dark" === n?.appearance.palette.colorScheme ? "#3396ff" : "#141414" }), (0, y.jsx)("g", { clipPath: "url(#clip0_1765_9946)", children: (0, y.jsx)("path", { d: "M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z", fill: "white" }) }), (0, y.jsx)("defs", { children: (0, y.jsx)("clipPath", { id: "clip0_1765_9946", children: (0, y.jsx)("rect", { width: "20", height: "12.2531", fill: "white", transform: "translate(4 8)" }) }) })] }) }, bg = { coinbase_wallet: { logo: gc, displayName: "Coinbase Wallet", rdns: "com.coinbase.wallet" }, coinbase_smart_wallet: { logo: gc, displayName: "Coinbase Smart Wallet", rdns: "com.coinbase.wallet" }, metamask: { logo: mg, displayName: "MetaMask", rdns: "io.metamask" }, phantom: { logo: gg, displayName: "Phantom" }, rainbow: { logo: ({ style: e, ...t }) => (0, y.jsxs)("svg", { width: "120", height: "120", viewBox: "0 0 120 120", fill: "none", xmlns: "http://www.w3.org/2000/svg", style: { height: 24, width: 24, ...e }, ...t, children: [(0, y.jsx)("g", { clipPath: "url(#clip0_5_32)", children: (0, y.jsxs)("g", { clipPath: "url(#clip1_5_32)", children: [(0, y.jsx)("mask", { id: "mask0_5_32", style: { maskType: "alpha" }, maskUnits: "userSpaceOnUse", x: "0", y: "0", width: "120", height: "120", children: (0, y.jsx)("path", { d: "M78.163 0H41.837C29.79 0 23.767 0 17.283 2.04999C10.203 4.62701 4.627 10.203 2.05 17.283C0 23.767 0 29.791 0 41.837V78.163C0 90.21 0 96.232 2.05 102.717C4.627 109.797 10.203 115.373 17.283 117.949C23.767 120 29.79 120 41.837 120H78.163C90.21 120 96.232 120 102.717 117.949C109.797 115.373 115.373 109.797 117.95 102.717C120 96.232 120 90.21 120 78.163V41.837C120 29.791 120 23.767 117.95 17.283C115.373 10.203 109.797 4.62701 102.717 2.04999C96.232 0 90.21 0 78.163 0Z", fill: "black" }) }), (0, y.jsx)("g", { mask: "url(#mask0_5_32)", children: (0, y.jsx)("rect", { width: "120", height: "120", fill: "url(#paint0_linear_5_32)" }) }), (0, y.jsx)("path", { d: "M20 38H26C56.9279 38 82 63.0721 82 94V100H94C97.3137 100 100 97.3137 100 94C100 53.1309 66.8691 20 26 20C22.6863 20 20 22.6863 20 26V38Z", fill: "url(#paint1_radial_5_32)" }), (0, y.jsx)("path", { d: "M84 94H100C100 97.3137 97.3137 100 94 100H84V94Z", fill: "url(#paint2_linear_5_32)" }), (0, y.jsx)("path", { d: "M26 20L26 36H20L20 26C20 22.6863 22.6863 20 26 20Z", fill: "url(#paint3_linear_5_32)" }), (0, y.jsx)("path", { d: "M20 36H26C58.0325 36 84 61.9675 84 94V100H66V94C66 71.9086 48.0914 54 26 54H20V36Z", fill: "url(#paint4_radial_5_32)" }), (0, y.jsx)("path", { d: "M68 94H84V100H68V94Z", fill: "url(#paint5_linear_5_32)" }), (0, y.jsx)("path", { d: "M20 52L20 36L26 36L26 52H20Z", fill: "url(#paint6_linear_5_32)" }), (0, y.jsx)("path", { d: "M20 62C20 65.3137 22.6863 68 26 68C40.3594 68 52 79.6406 52 94C52 97.3137 54.6863 100 58 100H68V94C68 70.804 49.196 52 26 52H20V62Z", fill: "url(#paint7_radial_5_32)" }), (0, y.jsx)("path", { d: "M52 94H68V100H58C54.6863 100 52 97.3137 52 94Z", fill: "url(#paint8_radial_5_32)" }), (0, y.jsx)("path", { d: "M26 68C22.6863 68 20 65.3137 20 62L20 52L26 52L26 68Z", fill: "url(#paint9_radial_5_32)" })] }) }), (0, y.jsxs)("defs", { children: [(0, y.jsxs)("linearGradient", { id: "paint0_linear_5_32", x1: "60", y1: "0", x2: "60", y2: "120", gradientUnits: "userSpaceOnUse", children: [(0, y.jsx)("stop", { stopColor: "#174299" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#001E59" })] }), (0, y.jsxs)("radialGradient", { id: "paint1_radial_5_32", cx: "0", cy: "0", r: "1", gradientUnits: "userSpaceOnUse", gradientTransform: "translate(26 94) rotate(-90) scale(74)", children: [(0, y.jsx)("stop", { offset: "0.770277", stopColor: "#FF4000" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#8754C9" })] }), (0, y.jsxs)("linearGradient", { id: "paint2_linear_5_32", x1: "83", y1: "97", x2: "100", y2: "97", gradientUnits: "userSpaceOnUse", children: [(0, y.jsx)("stop", { stopColor: "#FF4000" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#8754C9" })] }), (0, y.jsxs)("linearGradient", { id: "paint3_linear_5_32", x1: "23", y1: "20", x2: "23", y2: "37", gradientUnits: "userSpaceOnUse", children: [(0, y.jsx)("stop", { stopColor: "#8754C9" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#FF4000" })] }), (0, y.jsxs)("radialGradient", { id: "paint4_radial_5_32", cx: "0", cy: "0", r: "1", gradientUnits: "userSpaceOnUse", gradientTransform: "translate(26 94) rotate(-90) scale(58)", children: [(0, y.jsx)("stop", { offset: "0.723929", stopColor: "#FFF700" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#FF9901" })] }), (0, y.jsxs)("linearGradient", { id: "paint5_linear_5_32", x1: "68", y1: "97", x2: "84", y2: "97", gradientUnits: "userSpaceOnUse", children: [(0, y.jsx)("stop", { stopColor: "#FFF700" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#FF9901" })] }), (0, y.jsxs)("linearGradient", { id: "paint6_linear_5_32", x1: "23", y1: "52", x2: "23", y2: "36", gradientUnits: "userSpaceOnUse", children: [(0, y.jsx)("stop", { stopColor: "#FFF700" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#FF9901" })] }), (0, y.jsxs)("radialGradient", { id: "paint7_radial_5_32", cx: "0", cy: "0", r: "1", gradientUnits: "userSpaceOnUse", gradientTransform: "translate(26 94) rotate(-90) scale(42)", children: [(0, y.jsx)("stop", { offset: "0.59513", stopColor: "#00AAFF" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#01DA40" })] }), (0, y.jsxs)("radialGradient", { id: "paint8_radial_5_32", cx: "0", cy: "0", r: "1", gradientUnits: "userSpaceOnUse", gradientTransform: "translate(51 97) scale(17 45.3333)", children: [(0, y.jsx)("stop", { stopColor: "#00AAFF" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#01DA40" })] }), (0, y.jsxs)("radialGradient", { id: "paint9_radial_5_32", cx: "0", cy: "0", r: "1", gradientUnits: "userSpaceOnUse", gradientTransform: "translate(23 69) rotate(-90) scale(17 322.37)", children: [(0, y.jsx)("stop", { stopColor: "#00AAFF" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#01DA40" })] }), (0, y.jsx)("clipPath", { id: "clip0_5_32", children: (0, y.jsx)("rect", { width: "120", height: "120", fill: "white" }) }), (0, y.jsx)("clipPath", { id: "clip1_5_32", children: (0, y.jsx)("rect", { width: "120", height: "120", fill: "white" }) })] })] }), displayName: "Rainbow", rdns: "me.rainbow" }, wallet_connect: { logo: yg, displayName: "WalletConnect" }, zerion: { logo: ({ style: e, ...t }) => (0, y.jsxs)("svg", { width: "176", height: "176", viewBox: "0 0 176 176", fill: "none", xmlns: "http://www.w3.org/2000/svg", style: { height: 24, width: 24, ...e }, ...t, children: [(0, y.jsxs)("g", { clipPath: "url(#clip0_1704_1423)", children: [(0, y.jsx)("path", { d: "M126.233 176H49.7672C22.287 176 0 153.723 0 126.233V49.7673C0 22.287 22.2769 0 49.7672 0H126.233C153.713 0 176 22.277 176 49.7673V126.233C176 153.723 153.713 176 126.233 176Z", fill: "#2461ED" }), (0, y.jsx)("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M100.667 85.6591C83.4133 76.3353 62.4196 64.2443 46.6192 54.3891C41.9573 51.0306 44.3234 43.9023 49.9578 43.9023H128.138C132.499 43.9023 135.416 48.7648 133.231 52.4442C127.977 61.5174 120.308 73.0368 113.901 82.1702C110.462 87.0727 104.858 87.9149 100.667 85.6591ZM75.5031 88.6867C92.1858 97.5795 115.566 111.104 132.178 121.33C137.311 124.498 135.266 132.098 129.271 132.098C119.46 132.098 103.518 132.1 87.6592 132.103C71.9639 132.105 56.3497 132.108 46.8398 132.108C42.0476 132.108 39.5913 127.135 41.6265 123.666C48.5041 111.946 56.2338 100.116 62.6603 91.2834C65.5176 87.3433 71.3325 86.461 75.5031 88.6867Z", fill: "white" })] }), (0, y.jsx)("defs", { children: (0, y.jsx)("clipPath", { id: "clip0_1704_1423", children: (0, y.jsx)("rect", { width: "176", height: "176", fill: "white" }) }) })] }), displayName: "Zerion", rdns: "io.zerion.wallet" }, brave_wallet: { logo: ({ ...e }) => (0, y.jsxs)("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 436.49 511.97", height: "24", width: "24", ...e, children: [(0, y.jsx)("defs", { children: (0, y.jsxs)("linearGradient", { id: "brave-linear-gradient", x1: "-18.79", y1: "359.73", x2: "194.32", y2: "359.73", gradientTransform: "matrix(2.05, 0, 0, -2.05, 38.49, 992.77)", gradientUnits: "userSpaceOnUse", children: [(0, y.jsx)("stop", { offset: "0", stopColor: "#f1562b" }), (0, y.jsx)("stop", { offset: "0.3", stopColor: "#f1542b" }), (0, y.jsx)("stop", { offset: "0.41", stopColor: "#f04d2a" }), (0, y.jsx)("stop", { offset: "0.49", stopColor: "#ef4229" }), (0, y.jsx)("stop", { offset: "0.5", stopColor: "#ef4029" }), (0, y.jsx)("stop", { offset: "0.56", stopColor: "#e83e28" }), (0, y.jsx)("stop", { offset: "0.67", stopColor: "#e13c26" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#df3c26" })] }) }), (0, y.jsx)("path", { style: { fill: "url(#brave-linear-gradient)" }, d: "M436.49,165.63,420.7,122.75l11-24.6A8.47,8.47,0,0,0,430,88.78L400.11,58.6a48.16,48.16,0,0,0-50.23-11.66l-8.19,2.89L296.09.43,218.25,0,140.4.61,94.85,50.41l-8.11-2.87A48.33,48.33,0,0,0,36.19,59.3L5.62,90.05a6.73,6.73,0,0,0-1.36,7.47l11.47,25.56L0,165.92,56.47,380.64a89.7,89.7,0,0,0,34.7,50.23l111.68,75.69a24.73,24.73,0,0,0,30.89,0l111.62-75.8A88.86,88.86,0,0,0,380,380.53l46.07-176.14Z" }), (0, y.jsx)("path", { style: { fill: "#fff" }, d: "M231,317.33a65.61,65.61,0,0,0-9.11-3.3h-5.49a66.08,66.08,0,0,0-9.11,3.3l-13.81,5.74-15.6,7.18-25.4,13.24a4.84,4.84,0,0,0-.62,9l22.06,15.49q7,5,13.55,10.76l6.21,5.35,13,11.37,5.89,5.2a10.15,10.15,0,0,0,12.95,0l25.39-22.18,13.6-10.77,22.06-15.79a4.8,4.8,0,0,0-.68-8.93l-25.36-12.8L244.84,323ZM387.4,175.2l.8-2.3a61.26,61.26,0,0,0-.57-9.18,73.51,73.51,0,0,0-8.19-15.44l-14.35-21.06-10.22-13.88-19.23-24a69.65,69.65,0,0,0-5.7-6.67h-.4L321,84.25l-42.27,8.14a33.49,33.49,0,0,1-12.59-1.84l-23.21-7.5-16.61-4.59a70.52,70.52,0,0,0-14.67,0L195,83.1l-23.21,7.54a33.89,33.89,0,0,1-12.59,1.84l-42.22-8-8.54-1.58h-.4a65.79,65.79,0,0,0-5.7,6.67l-19.2,24Q77.81,120.32,73,127.45L58.61,148.51l-6.78,11.31a51,51,0,0,0-1.94,13.35l.8,2.3A34.51,34.51,0,0,0,52,179.81l11.33,13,50.23,53.39a14.31,14.31,0,0,1,2.55,14.34L107.68,280a25.23,25.23,0,0,0-.39,16l1.64,4.52a43.58,43.58,0,0,0,13.39,18.76l7.89,6.43a15,15,0,0,0,14.35,1.72L172.62,314A70.38,70.38,0,0,0,187,304.52l22.46-20.27a9,9,0,0,0,3-6.36,9.08,9.08,0,0,0-2.5-6.56L159.2,237.18a9.83,9.83,0,0,1-3.09-12.45l19.66-36.95a19.21,19.21,0,0,0,1-14.67A22.37,22.37,0,0,0,165.58,163L103.94,139.8c-4.44-1.6-4.2-3.6.51-3.88l36.2-3.59a55.9,55.9,0,0,1,16.9,1.5l31.5,8.8a9.64,9.64,0,0,1,6.74,10.76L183.42,221a34.72,34.72,0,0,0-.61,11.41c.5,1.61,4.73,3.6,9.36,4.73l19.19,4a46.38,46.38,0,0,0,16.86,0l17.26-4c4.64-1,8.82-3.23,9.35-4.85a34.94,34.94,0,0,0-.63-11.4l-12.45-67.59a9.66,9.66,0,0,1,6.74-10.76l31.5-8.83a55.87,55.87,0,0,1,16.9-1.5l36.2,3.37c4.74.44,5,2.2.54,3.88L272,162.79a22.08,22.08,0,0,0-11.16,10.12,19.3,19.3,0,0,0,1,14.67l19.69,36.95A9.84,9.84,0,0,1,278.45,237l-50.66,34.23a9,9,0,0,0,.32,12.78l.15.14,22.49,20.27a71.46,71.46,0,0,0,14.35,9.47l28.06,13.35a14.89,14.89,0,0,0,14.34-1.76l7.9-6.45a43.53,43.53,0,0,0,13.38-18.8l1.65-4.52a25.27,25.27,0,0,0-.39-16l-8.26-19.49a14.4,14.4,0,0,1,2.55-14.35l50.23-53.45,11.3-13a35.8,35.8,0,0,0,1.54-4.24Z" })] }), displayName: "Brave Wallet", rdns: "com.brave.wallet" }, cryptocom: { logo: ({ style: e, ...t }) => (0, y.jsxs)("svg", { width: "400", height: "400", viewBox: "0 0 400 400", fill: "none", xmlns: "http://www.w3.org/2000/svg", style: { height: 24, width: 24, ...e }, ...t, children: [(0, y.jsx)("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M260.543 0C300.7 0 320.773 0 342.39 6.83333C365.99 15.4233 384.577 34.01 393.167 57.61C400 79.2233 400 99.3033 400 139.457V260.543C400 300.7 400 320.773 393.167 342.39C384.577 365.99 365.99 384.577 342.39 393.163C320.773 400 300.7 400 260.543 400H139.457C99.3 400 79.2233 400 57.61 393.163C34.01 384.577 15.4233 365.99 6.83333 342.39C0 320.773 0 300.7 0 260.543V139.457C0 99.3033 0 79.2233 6.83333 57.61C15.4233 34.01 34.01 15.4233 57.61 6.83333C79.2233 0 99.3 0 139.457 0H260.543Z", fill: "white" }), (0, y.jsx)("mask", { id: "mask0_16909_31415", style: { maskType: "luminance" }, maskUnits: "userSpaceOnUse", x: "0", y: "0", width: "400", height: "400", children: (0, y.jsx)("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M260.543 0C300.7 0 320.773 0 342.39 6.83333C365.99 15.4233 384.577 34.01 393.167 57.61C400 79.2233 400 99.3033 400 139.457V260.543C400 300.7 400 320.773 393.167 342.39C384.577 365.99 365.99 384.577 342.39 393.163C320.773 400 300.7 400 260.543 400H139.457C99.3 400 79.2233 400 57.61 393.163C34.01 384.577 15.4233 365.99 6.83333 342.39C0 320.773 0 300.7 0 260.543V139.457C0 99.3033 0 79.2233 6.83333 57.61C15.4233 34.01 34.01 15.4233 57.61 6.83333C79.2233 0 99.3 0 139.457 0H260.543Z", fill: "white" }) }), (0, y.jsxs)("g", { mask: "url(#mask0_16909_31415)", children: [(0, y.jsx)("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M199.804 39.8501L59.3756 119.957V280.18L199.804 360.297L340.23 280.18V119.957L199.804 39.8501Z", fill: "#FEFEFE" }), (0, y.jsx)("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M199.804 39.8501L59.3756 119.957V280.18L199.804 360.297L340.23 280.18V119.957L199.804 39.8501ZM144.359 109.116H254.873L268.197 164.788H131.538L144.359 109.116ZM176.201 204.291L164.148 173.197H235.711L223.913 204.291L227.339 239.028L199.804 239.154H172.522L176.201 204.291ZM211.354 275.892V264.862L236.093 241.414V204.417L268.451 183.607L305.376 211.066L255.119 297.589H235.203L211.354 275.892ZM94.2395 211.066L131.282 183.857L164.021 204.417V241.414L188.76 264.862V275.892L164.913 297.84H144.734L94.2395 211.066Z", fill: "#002D72" }), (0, y.jsx)("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M255.12 297.589H235.202L211.355 275.892V264.862L236.094 241.414V204.417L268.45 183.607L305.377 211.066L255.12 297.589ZM199.803 39.8498V109.117H254.872L268.198 164.789H199.803V173.199H235.712L223.914 204.291L227.338 239.028L199.803 239.153V360.296L340.231 280.181V119.957L199.803 39.8498Z", fill: "url(#paint0_linear_16909_31415)", style: { mixBlendMode: "multiply" } }), (0, y.jsx)("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M188.761 275.892L164.912 297.84H144.734L94.2389 211.066L131.283 183.858L164.022 204.417V241.414L188.761 264.862V275.892ZM172.522 239.153L176.2 204.291L164.149 173.199H199.803V164.789H131.537L144.36 109.117H199.803V39.8498L59.375 119.957V280.181L199.803 360.296V239.153H172.522Z", fill: "url(#paint1_linear_16909_31415)", style: { mixBlendMode: "multiply" } })] }), (0, y.jsxs)("defs", { children: [(0, y.jsxs)("linearGradient", { id: "paint0_linear_16909_31415", x1: "325.255", y1: "325.727", x2: "325.255", y2: "73.6291", gradientUnits: "userSpaceOnUse", children: [(0, y.jsx)("stop", { stopColor: "#002D72" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#002D72", stopOpacity: "0.01" })] }), (0, y.jsxs)("linearGradient", { id: "paint1_linear_16909_31415", x1: "184.827", y1: "325.727", x2: "184.827", y2: "73.6291", gradientUnits: "userSpaceOnUse", children: [(0, y.jsx)("stop", { stopColor: "#002D72", stopOpacity: "0.01" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#002D72" })] })] })] }), displayName: "Crypto.com Onchain", rdns: "com.crypto.wallet" }, uniswap: { logo: ({ style: e, ...t }) => (0, y.jsxs)("svg", { width: "96", height: "96", viewBox: "0 0 96 96", fill: "none", xmlns: "http://www.w3.org/2000/svg", style: { height: 24, width: 24, ...e }, ...t, children: [(0, y.jsx)("rect", { width: "96", height: "96", rx: "18", fill: "#FEF4FF" }), (0, y.jsxs)("g", { children: [(0, y.jsx)("path", { d: "M71.9367 18.39C72.0482 16.4526 72.3145 15.1746 72.8497 14.0075C73.0616 13.5456 73.2601 13.1675 73.2907 13.1675C73.3214 13.1675 73.2293 13.5085 73.086 13.9252C72.6969 15.0578 72.633 16.607 72.901 18.4094C73.2413 20.6963 73.4348 21.0263 75.8841 23.4967C77.0329 24.6554 78.3692 26.1168 78.8536 26.7443L79.7343 27.8851L78.8536 27.0698C77.7764 26.0728 75.2992 24.1283 74.7521 23.8503C74.3852 23.6639 74.3306 23.6671 74.1043 23.8894C73.8958 24.0943 73.8519 24.4021 73.8229 25.8572C73.7778 28.125 73.4646 29.5807 72.7087 31.0362C72.2998 31.8234 72.2354 31.6554 72.6053 30.7668C72.8816 30.1034 72.9096 29.8117 72.9076 27.6163C72.9033 23.2052 72.3727 22.1447 69.2607 20.3281C68.4724 19.8678 67.1734 19.2041 66.3742 18.8531C65.575 18.502 64.9401 18.1962 64.9633 18.1734C65.0514 18.0868 68.0863 18.961 69.3077 19.4247C71.1247 20.1145 71.4247 20.2039 71.6454 20.1207C71.7933 20.0649 71.8648 19.6398 71.9367 18.39Z", fill: "#F50DB4" }), (0, y.jsx)("path", { d: "M33.5466 11.9727C32.4688 11.808 32.4233 11.7887 32.9306 11.7119C33.9026 11.5647 36.1979 11.7653 37.7796 12.1358C41.4722 13.0004 44.8322 15.2153 48.4188 19.1488L49.3717 20.1938L50.7348 19.978C56.4773 19.0689 62.3192 19.7914 67.2054 22.0148C68.5495 22.6265 70.6689 23.8441 70.9337 24.157C71.018 24.2568 71.173 24.8987 71.2779 25.5837C71.6408 27.9534 71.4591 29.7699 70.7234 31.1265C70.3229 31.8648 70.3006 32.0988 70.5698 32.7306C70.7847 33.2348 71.3838 33.608 71.9771 33.6072C73.1913 33.6056 74.4983 31.6721 75.1038 28.9818L75.3443 27.9131L75.8209 28.4448C78.4346 31.3619 80.4876 35.34 80.8403 38.1716L80.9321 38.9099L80.4928 38.2387C79.7366 37.0838 78.9769 36.2976 78.0041 35.6635C76.2504 34.5205 74.3961 34.1315 69.4853 33.8766C65.0501 33.6464 62.5399 33.2732 60.0509 32.4737C55.816 31.1137 53.6812 29.3023 48.6508 22.8012C46.4164 19.9135 45.0354 18.3159 43.6616 17.0293C40.5401 14.1058 37.4729 12.5726 33.5466 11.9727Z", fill: "#F50DB4" }), (0, y.jsx)("path", { d: "M35.6404 25.9564C33.4522 22.9889 32.0983 18.4391 32.3914 15.0379L32.482 13.9854L32.9801 14.0749C33.9155 14.243 35.5283 14.8343 36.2835 15.2861C38.3559 16.5259 39.253 18.1582 40.1658 22.3496C40.4332 23.5773 40.7839 24.9666 40.9454 25.437C41.2052 26.194 42.1871 27.9624 42.9854 29.1109C43.5605 29.938 43.1785 30.33 41.9074 30.217C39.9662 30.0444 37.3367 28.2568 35.6404 25.9564Z", fill: "#F50DB4" }), (0, y.jsx)("path", { d: "M69.2799 48.0419C59.0538 43.9862 55.4521 40.4658 55.4521 34.5259C55.4521 33.6517 55.4827 32.9365 55.5199 32.9365C55.5572 32.9365 55.9528 33.225 56.3991 33.5776C58.4728 35.216 60.7949 35.9157 67.2233 36.8395C71.0061 37.3831 73.1349 37.8222 75.0986 38.4637C81.3402 40.5027 85.2018 44.6406 86.1227 50.2766C86.3903 51.9143 86.2334 54.9854 85.7995 56.6039C85.457 57.8824 84.4118 60.1868 84.1346 60.2751C84.0578 60.2996 83.9824 60.0094 83.9626 59.6147C83.8575 57.4983 82.7718 55.438 80.9485 53.8946C78.8754 52.1399 76.0901 50.7428 69.2799 48.0419Z", fill: "#F50DB4" }), (0, y.jsx)("path", { d: "M62.1008 49.7268C61.9727 48.9758 61.7505 48.0167 61.607 47.5954L61.3461 46.8296L61.8307 47.3655C62.5014 48.107 63.0314 49.0559 63.4806 50.3197C63.8234 51.2843 63.862 51.5711 63.8594 53.1386C63.8568 54.6774 63.814 55 63.4974 55.8682C62.9983 57.2373 62.3788 58.208 61.3392 59.2501C59.4712 61.1228 57.0696 62.1596 53.6039 62.5896C53.0015 62.6643 51.2456 62.7902 49.7019 62.8693C45.8118 63.0686 43.2515 63.4803 40.9508 64.276C40.6201 64.3905 40.3247 64.4601 40.2948 64.4305C40.2017 64.3393 41.768 63.4195 43.0618 62.8056C44.8862 61.94 46.7021 61.4676 50.7709 60.8002C52.7809 60.4704 54.8566 60.0704 55.3837 59.9112C60.3612 58.4079 62.9197 54.5286 62.1008 49.7268Z", fill: "#F50DB4" }), (0, y.jsx)("path", { d: "M66.7886 57.9275C65.4299 55.0505 65.1179 52.2726 65.8623 49.6821C65.942 49.4053 66.07 49.1787 66.1471 49.1787C66.224 49.1787 66.5447 49.3495 66.8594 49.5581C67.4855 49.9732 68.7412 50.6725 72.0866 52.4692C76.2612 54.7111 78.6414 56.4472 80.2599 58.4306C81.6775 60.1677 82.5547 62.1459 82.9769 64.5583C83.2159 65.9248 83.0759 69.2128 82.7199 70.5889C81.5975 74.9275 78.9889 78.3356 75.2682 80.3242C74.7231 80.6155 74.2337 80.8547 74.1807 80.8558C74.1278 80.8569 74.3264 80.3594 74.6222 79.7503C75.8738 77.173 76.0163 74.6661 75.07 71.8756C74.4906 70.1671 73.3092 68.0823 70.924 64.5588C68.1507 60.4623 67.4708 59.3721 66.7886 57.9275Z", fill: "#F50DB4" }), (0, y.jsx)("path", { d: "M28.3782 73.4506C32.173 70.2943 36.8948 68.0521 41.1958 67.3639C43.0494 67.0672 46.1372 67.185 47.8537 67.6178C50.605 68.3113 53.0662 69.8648 54.3462 71.7156C55.5971 73.5245 56.1338 75.1008 56.6925 78.6081C56.913 79.9916 57.1527 81.3809 57.2252 81.6954C57.6449 83.5131 58.4614 84.966 59.4733 85.6957C61.0805 86.8544 63.8479 86.9265 66.5704 85.8804C67.0325 85.7028 67.4336 85.5801 67.4618 85.6078C67.5605 85.7044 66.1896 86.6083 65.2225 87.0842C63.9212 87.7245 62.8864 87.972 61.5115 87.972C59.0181 87.972 56.948 86.7226 55.2206 84.175C54.8807 83.6736 54.1167 82.1718 53.5228 80.8378C51.699 76.7403 50.7984 75.4921 48.6809 74.126C46.8381 72.9374 44.4615 72.7245 42.6736 73.588C40.325 74.7223 39.6698 77.6786 41.3518 79.5521C42.0204 80.2967 43.2671 80.939 44.2865 81.0638C46.1936 81.2975 47.8326 79.8684 47.8326 77.9717C47.8326 76.7402 47.352 76.0374 46.1423 75.4996C44.4901 74.7652 42.7141 75.6237 42.7226 77.1526C42.7263 77.8045 43.0145 78.214 43.6779 78.5097C44.1036 78.6994 44.1134 78.7144 43.7664 78.6434C42.2504 78.3337 41.8952 76.5335 43.1141 75.3383C44.5776 73.9036 47.6037 74.5367 48.6428 76.4951C49.0794 77.3177 49.1301 78.956 48.7495 79.9452C47.8976 82.1593 45.4138 83.3237 42.8941 82.6901C41.1787 82.2587 40.4801 81.7915 38.4119 79.6931C34.8179 76.0462 33.4226 75.3396 28.2413 74.5428L27.2484 74.3902L28.3782 73.4506Z", fill: "#F50DB4" }), (0, y.jsx)("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M11.5147 8.18128C23.517 22.5305 31.7835 28.4507 32.7022 29.7015C33.4607 30.7343 33.1752 31.6628 31.8758 32.3905C31.1532 32.7951 29.6676 33.205 28.9238 33.205C28.0825 33.205 27.7936 32.8853 27.7936 32.8853C27.3058 32.4296 27.0311 32.5093 24.5261 28.1293C21.0483 22.8137 18.1379 18.4041 18.0585 18.3303C17.8749 18.1596 17.878 18.1653 24.1715 29.2574C25.1883 31.5693 24.3737 32.4179 24.3737 32.7471C24.3737 33.417 24.1882 33.7691 23.3494 34.6907C21.951 36.2274 21.3259 37.954 20.8746 41.5274C20.3687 45.5332 18.9462 48.3629 15.0041 53.2057C12.6965 56.0406 12.3189 56.5602 11.7366 57.7028C11.0032 59.1416 10.8015 59.9475 10.7198 61.7645C10.6334 63.6855 10.8016 64.9265 11.3975 66.7632C11.9191 68.3712 12.4636 69.433 13.8555 71.5567C15.0568 73.3894 15.7484 74.7513 15.7484 75.2841C15.7484 75.708 15.8306 75.7085 17.692 75.2945C22.1466 74.3036 25.7638 72.5609 27.7981 70.4252C29.0571 69.1033 29.3527 68.3733 29.3623 66.5619C29.3686 65.377 29.3263 65.1289 29.0011 64.4473C28.4718 63.3379 27.5083 62.4154 25.3845 60.9853C22.6019 59.1115 21.4133 57.603 21.085 55.5285C20.8157 53.8263 21.1282 52.6253 22.6676 49.4472C24.2609 46.1575 24.6558 44.7557 24.9229 41.4399C25.0954 39.2977 25.3343 38.4528 25.9591 37.7747C26.6108 37.0676 27.1975 36.8281 28.8103 36.611C31.4396 36.2572 33.1139 35.5871 34.4901 34.3379C35.6839 33.2543 36.1835 32.2101 36.2602 30.6382L36.3184 29.4468L35.6512 28.6806C33.2352 25.9057 9.89667 6 9.74799 6C9.71623 6 10.5113 6.98164 11.5147 8.18128ZM17.1047 63.9381C17.6509 62.9852 17.3607 61.7601 16.447 61.1617C15.5836 60.5962 14.2424 60.8625 14.2424 61.5994C14.2424 61.8243 14.3687 61.9879 14.6532 62.1322C15.1322 62.375 15.167 62.648 14.7901 63.2061C14.4084 63.7712 14.4392 64.2681 14.877 64.6057C15.5826 65.15 16.5815 64.8507 17.1047 63.9381Z", fill: "#F50DB4" }), (0, y.jsx)("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M37.9777 37.236C36.7433 37.6095 35.5435 38.8981 35.172 40.2493C34.9454 41.0736 35.074 42.5196 35.4134 42.9662C35.9617 43.6874 36.492 43.8774 37.9277 43.8675C40.7388 43.8482 43.1825 42.6606 43.4666 41.176C43.6994 39.9591 42.6262 38.2726 41.1478 37.5321C40.385 37.1502 38.7626 36.9987 37.9777 37.236ZM41.2638 39.7671C41.6973 39.1604 41.5076 38.5047 40.7704 38.0611C39.3664 37.2167 37.2432 37.9155 37.2432 39.222C37.2432 39.8724 38.3504 40.5819 39.3653 40.5819C40.0408 40.5819 40.9652 40.1851 41.2638 39.7671Z", fill: "#F50DB4" })] })] }), displayName: "Uniswap Wallet", rdns: "org.uniswap.app" }, okx_wallet: { displayName: "OKX Wallet", rdns: "com.okex.wallet", logo: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJDSURBVHgB7Zq9jtpAEMfHlhEgQLiioXEkoAGECwoKxMcTRHmC5E3IoyRPkPAEkI7unJYmTgEFTYwA8a3NTKScLnCHN6c9r1e3P2llWQy7M/s1Gv1twCP0ej37dDq9x+Zut1t3t9vZjDEHIiSRSPg4ZpDL5fxkMvn1cDh8m0wmfugfO53OoFQq/crn8wxfY9EymQyrVCqMfHvScZx1p9ls3pFxXBy/bKlUipGPrVbLuQqAfsCliq3zl0H84zwtjQrOw4Mt1W63P5LvBm2d+Xz+YzqdgkqUy+WgWCy+Mc/nc282m4FqLBYL+3g8fjDxenq72WxANZbLJeA13zDX67UDioL5ybXwafMYu64Ltn3bdDweQ5R97fd7GyhBQMipx4POeEDHIu2LfDdBIGGz+hJ9CQ1ABjoA2egAZPM6AgiCAEQhsi/C4jHyPA/6/f5NG3Ks2+3CYDC4aTccDrn6ojG54MnEvG00GoVmWLIRNZ7wTCwDHYBsdACy0QHIhiuRETxlICWpMMhGZHmqS8qH6JLyGegAZKMDkI0uKf8X4SWlaZo+Pp1bRrwlJU8ZKLIvUjKh0WiQ3sRUbNVq9c5Ebew7KEo2m/1p4jJ4qAmDaqDQBzj5XyiAT4VCQezJigAU+IDU+z8vJFnGWeC+bKQV/5VZ71FV6L7PA3gg3tXrdQ+DgLhC+75Wq3no69P3MC0NFQpx2lL04Ql9gHK1bRDjsSBIvScBnDTk1WrlGIZBorIDEYJj+rhdgnQ67VmWRe0zlplXl81vcyEt0rSoYDUAAAAASUVORK5CYII=" }, rabby_wallet: { logo: e => (0, y.jsxs)("svg", { width: "52", height: "52", viewBox: "0 0 52 52", fill: "none", xmlns: "http://www.w3.org/2000/svg", ...e, children: [(0, y.jsx)("rect", { width: "52", height: "52", rx: "26", fill: "#7084FF" }), (0, y.jsx)("path", { d: "M43.6781 28.2954C45.1053 25.0988 38.0498 16.168 31.3094 12.4472C27.0608 9.56481 22.6337 9.96081 21.737 11.2264C19.7693 14.0039 28.2527 16.3574 33.9263 19.1037C32.7067 19.6348 31.5574 20.5879 30.8816 21.8067C28.7664 19.4915 24.1239 17.4977 18.6765 19.1037C15.0056 20.186 11.9547 22.7374 10.7756 26.5911C10.4891 26.4635 10.1719 26.3925 9.83814 26.3925C8.56192 26.3925 7.52734 27.4298 7.52734 28.7094C7.52734 29.989 8.56192 31.0263 9.83814 31.0263C10.0747 31.0263 10.8143 30.8672 10.8143 30.8672L22.6337 30.953C17.9068 38.4713 14.1713 39.5704 14.1713 40.8729C14.1713 42.1754 17.7455 41.8224 19.0876 41.3369C25.5121 39.0127 32.4123 31.7692 33.5964 29.6841C38.5688 30.3061 42.7476 30.3796 43.6781 28.2954Z", fill: "url(#paint0_linear_81034_11443)" }), (0, y.jsx)("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M33.8741 19.076C33.8926 19.084 33.911 19.092 33.9294 19.1001C34.1923 18.9962 34.1498 18.6068 34.0776 18.301C33.9116 17.5981 31.0479 14.7629 28.3588 13.493C24.6934 11.762 21.9946 11.8518 21.5972 12.65C22.3407 14.1849 25.8031 15.6258 29.4193 17.1308C30.9407 17.7639 32.4893 18.4084 33.8741 19.076Z", fill: "url(#paint1_linear_81034_11443)" }), (0, y.jsx)("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M29.272 34.5374C28.5323 34.2543 27.697 33.9945 26.7477 33.7587C27.7625 31.9382 27.9754 29.2432 27.0171 27.5392C25.6721 25.1478 23.9838 23.875 20.0605 23.875C17.9027 23.875 12.093 24.6037 11.9899 29.4663C11.9791 29.9743 11.9895 30.44 12.026 30.8685L22.6335 30.9456C21.2017 33.2229 19.8609 34.9113 18.6873 36.1947C20.0979 36.5571 21.2615 36.8612 22.3297 37.1404C23.3394 37.4043 24.2638 37.646 25.2309 37.8934C26.6941 36.8249 28.0698 35.6597 29.272 34.5374Z", fill: "url(#paint2_linear_81034_11443)" }), (0, y.jsx)("path", { d: "M10.6324 30.3712C11.0658 34.065 13.1596 35.5127 17.4381 35.9411C21.7166 36.3695 24.1708 36.0821 27.4381 36.3801C30.167 36.6291 32.6036 38.0233 33.5075 37.5415C34.321 37.1079 33.8659 35.5412 32.7774 34.5361C31.3663 33.2333 29.4135 32.3274 25.9773 32.006C26.6621 30.1261 26.4702 27.4903 25.4067 26.0562C23.8689 23.9827 21.0305 23.0453 17.4381 23.4549C13.6848 23.8828 10.0885 25.7354 10.6324 30.3712Z", fill: "url(#paint3_linear_81034_11443)" }), (0, y.jsxs)("defs", { children: [(0, y.jsxs)("linearGradient", { id: "paint0_linear_81034_11443", x1: "18.249", y1: "25.4646", x2: "43.3806", y2: "32.5728", gradientUnits: "userSpaceOnUse", children: [(0, y.jsx)("stop", { stopColor: "white" }), (0, y.jsx)("stop", { offset: "1", stopColor: "white" })] }), (0, y.jsxs)("linearGradient", { id: "paint1_linear_81034_11443", x1: "39.1432", y1: "24.9813", x2: "20.9691", y2: "6.81008", gradientUnits: "userSpaceOnUse", children: [(0, y.jsx)("stop", { stopColor: "#8697FF" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#8697FF", stopOpacity: "0" })] }), (0, y.jsxs)("linearGradient", { id: "paint2_linear_81034_11443", x1: "29.7761", y1: "35.1727", x2: "12.345", y2: "25.1792", gradientUnits: "userSpaceOnUse", children: [(0, y.jsx)("stop", { stopColor: "#8697FF" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#8697FF", stopOpacity: "0" })] }), (0, y.jsxs)("linearGradient", { id: "paint3_linear_81034_11443", x1: "19.7472", y1: "25.2716", x2: "31.5549", y2: "40.2352", gradientUnits: "userSpaceOnUse", children: [(0, y.jsx)("stop", { stopColor: "white" }), (0, y.jsx)("stop", { offset: "0.983895", stopColor: "#D1D8FF" })] })] })] }), displayName: "Rabby Wallet", rdns: "io.rabby.wallet" }, safe: { displayName: "Safe", logo: ({ style: e, ...t }) => (0, y.jsxs)("svg", { width: "28", height: "28", viewBox: "0 0 28 28", fill: "none", xmlns: "http://www.w3.org/2000/svg", style: { height: "28px", width: "28px", ...e }, ...t, children: [(0, y.jsx)("rect", { width: "28", height: "28", rx: "3", fill: "#12FF80" }), (0, y.jsx)("path", { d: "M22.5151 13.9979H20.4244C19.7981 13.9979 19.2945 14.5058 19.2945 15.128V18.163C19.2945 18.7894 18.7866 19.2931 18.1645 19.2931H9.8398C9.21344 19.2931 8.70981 19.8011 8.70981 20.4233V22.5185C8.70981 23.145 9.21767 23.6487 9.8398 23.6487H18.6427C19.2691 23.6487 19.7642 23.1407 19.7642 22.5185V20.8423C19.7642 20.2159 20.2721 19.7757 20.8942 19.7757H22.5151C23.1415 19.7757 23.6451 19.2677 23.6451 18.6455V15.1196C23.6451 14.4889 23.1373 13.9979 22.5151 13.9979Z", fill: "black" }), (0, y.jsx)("path", { d: "M8.7098 9.84127C8.7098 9.21481 9.21766 8.71111 9.83978 8.71111H18.156C18.7823 8.71111 19.286 8.20317 19.286 7.58095V5.48995C19.286 4.86349 18.7781 4.35979 18.156 4.35979H9.35732C8.73096 4.35979 8.22733 4.86772 8.22733 5.48995V7.10264C8.22733 7.7291 7.71947 8.2328 7.09734 8.2328H5.48912C4.86276 8.2328 4.35913 8.74074 4.35913 9.36296V12.8931C4.35913 13.5196 4.86699 13.9979 5.49335 13.9979H7.58404C8.2104 13.9979 8.71403 13.4899 8.71403 12.8677L8.7098 9.84127Z", fill: "black" }), (0, y.jsx)("path", { d: "M13.0139 11.8011H15.0242C15.6802 11.8011 16.2092 12.3344 16.2092 12.9862V14.9968C16.2092 15.6529 15.6759 16.182 15.0242 16.182H13.0139C12.3579 16.182 11.8289 15.6487 11.8289 14.9968V12.9862C11.8289 12.3302 12.3621 11.8011 13.0139 11.8011Z", fill: "black" })] }) }, universal_profile: { displayName: "Universal Profile", logo: ({ style: e, ...t }) => (0, y.jsxs)("svg", { fill: "none", height: "1024", width: "1024", viewBox: "0 0 1024 1024", xmlns: "http://www.w3.org/2000/svg", style: { height: 24, width: 24, ...e }, ...t, children: [(0, y.jsxs)("filter", { id: "a", "color-interpolation-filters": "sRGB", filterUnits: "userSpaceOnUse", height: "1228", width: "1244", x: "-72", y: "-72", children: [(0, y.jsx)("feFlood", { "flood-opacity": "0", result: "BackgroundImageFix" }), (0, y.jsx)("feBlend", { in: "SourceGraphic", in2: "BackgroundImageFix", mode: "normal", result: "shape" }), (0, y.jsx)("feColorMatrix", { in: "SourceAlpha", result: "hardAlpha", type: "matrix", values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" }), (0, y.jsx)("feOffset", { dx: "-72", dy: "-72" }), (0, y.jsx)("feGaussianBlur", { stdDeviation: "54" }), (0, y.jsx)("feComposite", { in2: "hardAlpha", k2: "-1", k3: "1", operator: "arithmetic" }), (0, y.jsx)("feColorMatrix", { type: "matrix", values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" }), (0, y.jsx)("feBlend", { in2: "shape", mode: "normal", result: "effect1_innerShadow_3981_20791" }), (0, y.jsx)("feColorMatrix", { in: "SourceAlpha", result: "hardAlpha", type: "matrix", values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" }), (0, y.jsx)("feOffset", { dx: "152", dy: "132" }), (0, y.jsx)("feGaussianBlur", { stdDeviation: "74" }), (0, y.jsx)("feComposite", { in2: "hardAlpha", k2: "-1", k3: "1", operator: "arithmetic" }), (0, y.jsx)("feColorMatrix", { type: "matrix", values: "0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.15 0" }), (0, y.jsx)("feBlend", { in2: "effect1_innerShadow_3981_20791", mode: "normal", result: "effect2_innerShadow_3981_20791" }), (0, y.jsx)("feColorMatrix", { in: "SourceAlpha", result: "hardAlpha", type: "matrix", values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" }), (0, y.jsx)("feOffset", { dx: "32", dy: "20" }), (0, y.jsx)("feGaussianBlur", { stdDeviation: "50" }), (0, y.jsx)("feComposite", { in2: "hardAlpha", k2: "-1", k3: "1", operator: "arithmetic" }), (0, y.jsx)("feColorMatrix", { type: "matrix", values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0" }), (0, y.jsx)("feBlend", { in2: "effect2_innerShadow_3981_20791", mode: "normal", result: "effect3_innerShadow_3981_20791" })] }), (0, y.jsxs)("filter", { id: "b", "color-interpolation-filters": "sRGB", filterUnits: "userSpaceOnUse", height: "352", width: "747", x: "142", y: "352", children: [(0, y.jsx)("feFlood", { "flood-opacity": "0", result: "BackgroundImageFix" }), (0, y.jsx)("feBlend", { in: "SourceGraphic", in2: "BackgroundImageFix", mode: "normal", result: "shape" }), (0, y.jsx)("feColorMatrix", { in: "SourceAlpha", result: "hardAlpha", type: "matrix", values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" }), (0, y.jsx)("feOffset", { dx: "8", dy: "12" }), (0, y.jsx)("feGaussianBlur", { stdDeviation: "5" }), (0, y.jsx)("feComposite", { in2: "hardAlpha", k2: "-1", k3: "1", operator: "arithmetic" }), (0, y.jsx)("feColorMatrix", { type: "matrix", values: "0 0 0 0 0.120833 0 0 0 0 0.120833 0 0 0 0 0.120833 0 0 0 0.69 0" }), (0, y.jsx)("feBlend", { in2: "shape", mode: "normal", result: "effect1_innerShadow_3981_20791" })] }), (0, y.jsxs)("linearGradient", { id: "c", gradientUnits: "userSpaceOnUse", x1: "0", x2: "1024", y1: "0", y2: "1024", children: [(0, y.jsx)("stop", { offset: "0", stopColor: "#8992d1" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#646c9f" })] }), (0, y.jsx)("clipPath", { id: "d", children: (0, y.jsx)("path", { d: "m0 0h1024v1024h-1024z" }) }), (0, y.jsxs)("g", { "clip-path": "url(#d)", children: [(0, y.jsx)("g", { filter: "url(#a)", children: (0, y.jsx)("rect", { fill: "url(#c)", height: "1024", rx: "230", width: "1024" }) }), (0, y.jsxs)("g", { fill: "#fff", filter: "url(#b)", children: [(0, y.jsx)("path", { d: "m212.459 354h-54.459c-8.837 0-16 7.163-16 16v203c0 66.826 54.174 121 121 121h44c66.826 0 121-54.174 121-121v-203c0-8.837-7.163-16-16-16h-56.548c-8.837 0-16 7.163-16 16v198.829c0 28.607-23.19 51.797-51.797 51.797-32.693 0-59.196-26.503-59.196-59.196v-191.43c0-8.837-7.163-16-16-16z" }), (0, y.jsx)("path", { d: "m868.426 352h-68.495c-6.98 0-12.487 5.934-11.967 12.895l14.206 190c.468 6.263 5.686 11.105 11.966 11.105h45.412c6.409 0 11.687-5.037 11.987-11.44l8.878-190c.32-6.84-5.14-12.56-11.987-12.56z" }), (0, y.jsx)("ellipse", { cx: "834", cy: "649.5", rx: "47", ry: "44.5" }), (0, y.jsx)("path", { clipRule: "evenodd", d: "m522 687h50c8.837 0 16-7.163 16-16v-80c0-8.837 7.163-16 16-16h33.5c61.58 0 111.5-49.92 111.5-111.5s-49.92-111.5-111.5-111.5h-115.5c-8.837 0-16 7.163-16 16v303c0 8.837 7.163 16 16 16zm70-252v58c0 6.627 5.373 12 12 12h14c20.987 0 38-17.013 38-38v-6c0-20.987-17.013-38-38-38h-14c-6.627 0-12 5.373-12 12z", fillRule: "evenodd" })] })] })] }) }, bybit_wallet: { displayName: "Bybit Wallet", logo: ({ style: e, ...t }) => (0, y.jsxs)("svg", { width: "48", height: "48", viewBox: "0 0 48 48", fill: "none", xmlns: "http://www.w3.org/2000/svg", style: { height: 24, width: 24, ...e }, ...t, children: [(0, y.jsx)("path", { d: "M0 10.2C0 4.56669 4.5667 0 10.2 0H37.8C43.4333 0 48 4.5667 48 10.2V37.8C48 43.4333 43.4333 48 37.8 48H10.2C4.56669 48 0 43.4333 0 37.8V10.2Z", fill: "#604E93" }), (0, y.jsx)("path", { d: "M4.13353 14.6218C3.70207 13.1338 4.62517 11.5926 6.14065 11.2707L31.424 5.90036C32.6242 5.64544 33.8434 6.24236 34.3782 7.34668L45.7343 30.7995L13.7343 47.7328L4.13353 14.6218Z", fill: "url(#paint0_linear_362_37285)" }), (0, y.jsx)("path", { d: "M4.46332 16.4519C4.00953 14.8821 5.06159 13.277 6.68213 13.0669L40.1928 8.72077C41.5851 8.5402 42.879 9.47008 43.1517 10.8473L48.0004 35.333L13.467 47.5999L4.46332 16.4519Z", fill: "white" }), (0, y.jsx)("path", { d: "M0 18.6666C0 15.7211 2.38781 13.3333 5.33333 13.3333H37.3333C43.2244 13.3333 48 18.1089 48 24V37.3333C48 43.2243 43.2244 48 37.3333 48H10.6667C4.77563 48 0 43.2243 0 37.3333V18.6666Z", fill: "black" }), (0, y.jsx)("path", { d: "M31.7559 33.3796V23.3867H33.7051V33.3796H31.7559Z", fill: "#F7A600" }), (0, y.jsx)("path", { d: "M9.51303 36.362H5.33398V26.3691H9.3449C11.2941 26.3691 12.4301 27.4639 12.4301 29.176C12.4301 30.2844 11.7008 31.0006 11.1964 31.2393C11.7996 31.5201 12.5709 32.1511 12.5709 33.4846C12.5709 35.3513 11.2941 36.362 9.51303 36.362ZM9.19043 28.1096H7.28322V30.4117H9.19043C10.0174 30.4117 10.4808 29.9489 10.4808 29.2612C10.4808 28.5723 10.0185 28.1096 9.19043 28.1096ZM9.31653 32.1658H7.28322V34.6215H9.31653C10.2003 34.6215 10.6206 34.0599 10.6206 33.3868C10.6216 32.7127 10.2003 32.1658 9.31653 32.1658Z", fill: "white" }), (0, y.jsx)("path", { d: "M17.9425 32.2637V36.362H16.007V32.2637L13.0059 26.3691H15.1232L16.9884 30.3969L18.8252 26.3691H20.9426L17.9425 32.2637Z", fill: "white" }), (0, y.jsx)("path", { d: "M26.4896 36.362H22.3105V26.3691H26.3215C28.2707 26.3691 29.4066 27.4639 29.4066 29.176C29.4066 30.2844 28.6774 31.0006 28.173 31.2393C28.7761 31.5201 29.5474 32.1511 29.5474 33.4846C29.5464 35.3513 28.2696 36.362 26.4896 36.362ZM26.167 28.1096H24.2598V30.4117H26.167C26.994 30.4117 27.4574 29.9489 27.4574 29.2612C27.4563 28.5723 26.994 28.1096 26.167 28.1096ZM26.2931 32.1658H24.2598V34.6215H26.2931C27.1768 34.6215 27.5971 34.0599 27.5971 33.3868C27.5971 32.7127 27.1758 32.1658 26.2931 32.1658Z", fill: "white" }), (0, y.jsx)("path", { d: "M40.0573 28.1096V36.362H38.1081V28.1096H35.5V26.3691H42.6665V28.1096H40.0573Z", fill: "white" }), (0, y.jsx)("defs", { children: (0, y.jsxs)("linearGradient", { id: "paint0_linear_362_37285", x1: "4.00094", y1: "13.9604", x2: "46.1673", y2: "11.8482", gradientUnits: "userSpaceOnUse", children: [(0, y.jsx)("stop", { "stop-color": "#FFD748" }), (0, y.jsx)("stop", { offset: "1", "stop-color": "#F7A600" })] }) })] }) } }, vg = (e, t, n) => bg[e]?.displayName ? "coinbase_wallet" === e ? bg[n].displayName : bg[e].displayName : "wallet_connect_v2" === t && "wallet_connect" === e ? "Wallet Connect" : void 0, wg = (e, t, n) => bg[e]?.logo ? "coinbase_wallet" === e ? bg[n].logo : bg[e].logo : "wallet_connect_v2" === t && "wallet_connect" === e ? yg : void 0; function Eg(e) { let t = e.toLowerCase(); return !!window?.webkit?.messageHandlers?.ReactNativeWebView || !!window?.ReactNativeWebView || ["fbav", "fban", "instagram", "snapchat", "linkedinapp"].some((e => t.includes(e))) } let xg = (0, Ke.createContext)({}); const _g = ({ children: e }) => { let t = sf(), [n, r] = (0, Ke.useState)({}); return (0, yf.Hc)("login", { onComplete: (e, n, i, o, s) => { s && "passkey" !== s.type && "cross_app" !== s.type && ("wallet" !== s.type || "privy" !== s.walletClientType) && (ya.put(Cg(t.id), s.type), "wallet" === s.type ? (ya.put(Ag(t.id), s.walletClientType), ya.put(Sg(t.id), s.chainType), r({ accountType: s.type, walletClientType: s.walletClientType, chainType: s.chainType })) : (ya.del(Ag(t.id)), ya.del(Sg(t.id)), r({ accountType: s.type }))) } }), (0, Ke.useEffect)((() => { if (!t.id) return; let e = ya.get(Cg(t.id)), n = ya.get(Ag(t.id)), i = ya.get(Sg(t.id)); e && r("wallet" === e ? { accountType: e, walletClientType: n, chainType: i } : { accountType: e }) }), [t.id]), (0, y.jsx)(xg.Provider, { value: n, children: e }) }; let Cg = e => `privy:${e}:recent-login-method`, Ag = e => `privy:${e}:recent-login-wallet-client`, Sg = e => `privy:${e}:recent-login-chain-type`; const kg = () => (0, Ke.useContext)(xg), Ig = ({ provider: e, displayName: t, logo: n, connectOnly: r, connector: i }) => { let { navigate: o } = pf(), { connectWallet: s } = (0, af.u)(), a = kg(), c = "wallet_connect_v2" === i.connectorType ? e : i.walletClientType, l = window.matchMedia("(display-mode: standalone)").matches; return (0, y.jsxs)(Tg, { onClick: "phantom" === i.connectorType || "solana_adapter" === i.connectorType && "phantom" === i.walletClientType ? () => { Ma() || "solana" === i.chainType && "isInstalled" in i && i.isInstalled ? (s(i, c), o(r ? uf.AWAITING_CONNECT_ONLY_CONNECTION : uf.AWAITING_CONNECTION)) : o(ys.tq ? uf.PHANTOM_INTERSTITIAL_SCREEN : uf.INSTALL_PHANTOM_SCREEN) } : "coinbase_wallet" !== i.connectorType || "eoaOnly" !== i.connectionOptions || !ys.tq || l || Oa() ? () => { (!Eg(window.navigator.userAgent) || event?.isTrusted) && (s(i, c), o(r ? uf.AWAITING_CONNECT_ONLY_CONNECTION : uf.AWAITING_CONNECTION)) } : () => { window.location.href = `https://go.cb-w.com/dapp?cb_url=${encodeURI(window.location.href)}` }, children: [(0, y.jsx)(ug, { icon: wg(e, i.connectorType, i.walletClientType) ?? n, name: i.walletClientType }), (0, y.jsx)("span", { children: vg(e, i.connectorType, i.walletClientType) || t || i.walletClientType }), (0, y.jsxs)(Pg, { id: "chip-container", children: [a?.walletClientType === c && a?.chainType === i.chainType ? (0, y.jsx)(Ng, { color: "gray", children: "Recent" }) : (0, y.jsx)("span", { id: "connect-text", children: "Connect" }), "solana_adapter" === i.connectorType && (0, y.jsx)(Ng, { color: "gray", children: "Solana" })] })] }) }; let Tg = oh(ap).withConfig({ displayName: "ConnectWalletButton", componentId: "sc-b6343d12-0" })(["> #chip-container > #connect-text{font-weight:500;color:var(--privy-color-accent);opacity:0;transition:opacity 0.1s ease-out;}:hover > #chip-container > #connect-text{opacity:1;}@media (max-width:440px){> #chip-container > #connect-text{display:none;}}"]), Ng = oh(fg).withConfig({ displayName: "StyledChip", componentId: "sc-b6343d12-1" })(["margin-left:auto;"]), Pg = oh.div.withConfig({ displayName: "ChipContainer", componentId: "sc-b6343d12-2" })(["display:flex;flex-wrap:wrap;gap:8px;margin-left:auto;"]); const Mg = ["coinbase_wallet"]; let Og = ["metamask", "okx_wallet", "rainbow", "uniswap", "bybit_wallet", "uniswap_extension", "zerion", "rabby_wallet", "cryptocom"]; const Rg = ["safe"], jg = ["phantom", "universal_profile"], $g = ({ wallets: e }) => { let { app: t } = pf(); return 0 === e.length ? (0, y.jsx)(lg, { chainType: t.appearance.walletChainType, withPadding: !0 }) : (0, y.jsx)(y.Fragment, { children: e }) }, Lg = ({ walletList: e, walletChainType: t, connectors: n, connectOnly: r, ignore: i, recentlyUsedWallet: o, walletConnectEnabled: s, forceWallet: a }) => { let c = [], l = [], u = [], d = n.filter((e => "ethereum-only" === t ? "ethereum" === e.chainType : "solana-only" !== t || "solana" === e.chainType)), h = d.find((e => "wallet_connect_v2" === e.connectorType)); for (let [f, p] of (a ? [a.wallet] : e).entries()) { if ("detected_ethereum_wallets" === p || "detected_wallets" === p) for (let [e, t] of d.filter((({ chainType: e, connectorType: t, walletClientType: n }) => "solana" !== e && ("uniswap_wallet_extension" === n || "uniswap_extension" === n ? !i.includes("uniswap") : "crypto.com_wallet_extension" === n || "crypto.com_onchain" === n ? !i.includes("cryptocom") : "injected" === t && !i.includes(n)))).entries()) { let { walletClientType: n, walletBranding: i, chainType: o } = t; ("unknown" === n ? l : c).push((0, y.jsx)(Ig, { connectOnly: r, provider: n, logo: i.icon, displayName: i.name, connector: t }, `${f}-${p}-${n}-${o}-${e}`)) } if ("detected_solana_wallets" === p || "detected_wallets" === p) for (let [e, n] of d.filter((({ chainType: e, walletClientType: n }) => { if ("solana" === e) return "ethereum-only" !== t && !i.includes(n) })).entries()) { let { walletClientType: t, walletBranding: i, chainType: o } = n; ("unknown" === t ? l : c).push((0, y.jsx)(Ig, { connectOnly: r, provider: t, logo: i.icon, displayName: i.name, connector: n }, `${f}-${p}-${t}-${o}-${e}`)) } if (jg.includes(p)) { let e = d.find((e => "injected" === e.connectorType && e.walletClientType === p || e.connectorType === p)); if (e && c.push((0, y.jsx)(Ig, { connectOnly: r, provider: p, connector: e }, `${f}-${p}`)), "solana-only" === t || "ethereum-and-solana" === t) { let e = d.find((({ chainType: e, connectorType: t, walletClientType: n }) => "solana" === e && "solana_adapter" === t && n === p)); e && c.push((0, y.jsx)(Ig, { connectOnly: r, provider: p, connector: e }, `${p}-solana`)) } } else if (Og.includes(p)) { let e = d.find((e => "uniswap" === p ? "uniswap_wallet_extension" === e.walletClientType || "uniswap_extension" === e.walletClientType : "cryptocom" === p ? "crypto.com_wallet_extension" === e.walletClientType || "crypto.com_onchain" === e.walletClientType : "injected" === e.connectorType && e.walletClientType === p)); s && !e && (e = h), e && c.push((0, y.jsx)(Ig, { connectOnly: r, provider: p, connector: e, logo: "injected" === e.connectorType ? e.walletBranding.icon : void 0, displayName: "injected" === e.connectorType ? e.walletBranding.name : void 0 }, `${f}-${p}`)) } else if (Mg.includes(p)) { let e = d.find((({ connectorType: e }) => e === p)); e && c.push((0, y.jsx)(Ig, { connectOnly: r, provider: p, connector: e }, `${f}-${p}`)) } else if (Rg.includes(p)) h && u.push((0, y.jsx)(Ig, { connectOnly: r, provider: p, connector: h }, `${f}-${p}`)); else if ("wallet_connect" === p) h && u.push((0, y.jsx)(Ig, { connectOnly: r, provider: p, connector: h }, `${f}-${p}`)); else if (p === a?.wallet) { let t = "ethereum" === a.chainType && e.includes("detected_ethereum_wallets"), n = "solana" === a.chainType && e.includes("detected_solana_wallets"); if (e.includes("detected_wallets") || t || n) { let e = d.find((({ walletClientType: e }) => e === p)); e && c.push((0, y.jsx)(Ig, { connectOnly: r, provider: p, displayName: e.walletBranding?.name, logo: e.walletBranding?.icon, connector: e }, `${f}-${p}`)) } } } return 0 === c.length && 0 === l.length && ("solana-only" === t || "ethereum-and-solana" === t) && "phantom" !== o && c.push((0, y.jsx)(Ig, { connectOnly: r, provider: "phantom", connector: { connectorType: "solana_adapter", walletClientType: "phantom" } }, "phantom-solana")), [...l, ...c, ...u] }, Dg = ({ style: e, ...t }) => (0, y.jsx)("svg", { xmlns: "http://www.w3.org/2000/svg", fill: "none", stroke: "currentColor", strokeWidth: 1.5, viewBox: "0 0 24 24", style: { ...e }, ...t, children: (0, y.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25" }) }); var Ug = n(15102); const Fg = e => { let t = localStorage.getItem("-walletlink:https://www.walletlink.org:Addresses")?.split(" ").filter((e => (0, Ug.v)(e, { strict: !0 }))).map((e => (0, It.K)(e))); return !!t?.length && !!e?.linkedAccounts.filter((e => "wallet" == e.type && t.includes(e.address))).length }; var Bg = n(17187), Wg = n.n(Bg), zg = n(34155), qg = function (e, t, n) { if (n || 2 === arguments.length) for (var r, i = 0, o = t.length; i < o; i++)!r && i in t || (r || (r = Array.prototype.slice.call(t, 0, i)), r[i] = t[i]); return e.concat(r || Array.prototype.slice.call(t)) }, Hg = function (e, t, n) { this.name = e, this.version = t, this.os = n, this.type = "browser" }, Gg = function (e) { this.version = e, this.type = "node", this.name = "node", this.os = zg.platform }, Vg = function (e, t, n, r) { this.name = e, this.version = t, this.os = n, this.bot = r, this.type = "bot-device" }, Kg = function () { this.type = "bot", this.bot = !0, this.name = "bot", this.version = null, this.os = null }, Yg = function () { this.type = "react-native", this.name = "react-native", this.version = null, this.os = null }, Zg = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/, Xg = [["aol", /AOLShield\/([0-9\._]+)/], ["edge", /Edge\/([0-9\._]+)/], ["edge-ios", /EdgiOS\/([0-9\._]+)/], ["yandexbrowser", /YaBrowser\/([0-9\._]+)/], ["kakaotalk", /KAKAOTALK\s([0-9\.]+)/], ["samsung", /SamsungBrowser\/([0-9\.]+)/], ["silk", /\bSilk\/([0-9._-]+)\b/], ["miui", /MiuiBrowser\/([0-9\.]+)$/], ["beaker", /BeakerBrowser\/([0-9\.]+)/], ["edge-chromium", /EdgA?\/([0-9\.]+)/], ["chromium-webview", /(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/], ["chrome", /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/], ["phantomjs", /PhantomJS\/([0-9\.]+)(:?\s|$)/], ["crios", /CriOS\/([0-9\.]+)(:?\s|$)/], ["firefox", /Firefox\/([0-9\.]+)(?:\s|$)/], ["fxios", /FxiOS\/([0-9\.]+)/], ["opera-mini", /Opera Mini.*Version\/([0-9\.]+)/], ["opera", /Opera\/([0-9\.]+)(?:\s|$)/], ["opera", /OPR\/([0-9\.]+)(:?\s|$)/], ["pie", /^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/], ["pie", /^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/], ["netfront", /^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/], ["ie", /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/], ["ie", /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/], ["ie", /MSIE\s(7\.0)/], ["bb10", /BB10;\sTouch.*Version\/([0-9\.]+)/], ["android", /Android\s([0-9\.]+)/], ["ios", /Version\/([0-9\._]+).*Mobile.*Safari.*/], ["safari", /Version\/([0-9\._]+).*Safari/], ["facebook", /FB[AS]V\/([0-9\.]+)/], ["instagram", /Instagram\s([0-9\.]+)/], ["ios-webview", /AppleWebKit\/([0-9\.]+).*Mobile/], ["ios-webview", /AppleWebKit\/([0-9\.]+).*Gecko\)$/], ["curl", /^curl\/([0-9\.]+)$/], ["searchbot", /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]], Jg = [["iOS", /iP(hone|od|ad)/], ["Android OS", /Android/], ["BlackBerry OS", /BlackBerry|BB10/], ["Windows Mobile", /IEMobile/], ["Amazon OS", /Kindle/], ["Windows 3.11", /Win16/], ["Windows 95", /(Windows 95)|(Win95)|(Windows_95)/], ["Windows 98", /(Windows 98)|(Win98)/], ["Windows 2000", /(Windows NT 5.0)|(Windows 2000)/], ["Windows XP", /(Windows NT 5.1)|(Windows XP)/], ["Windows Server 2003", /(Windows NT 5.2)/], ["Windows Vista", /(Windows NT 6.0)/], ["Windows 7", /(Windows NT 6.1)/], ["Windows 8", /(Windows NT 6.2)/], ["Windows 8.1", /(Windows NT 6.3)/], ["Windows 10", /(Windows NT 10.0)/], ["Windows ME", /Windows ME/], ["Windows CE", /Windows CE|WinCE|Microsoft Pocket Internet Explorer/], ["Open BSD", /OpenBSD/], ["Sun OS", /SunOS/], ["Chrome OS", /CrOS/], ["Linux", /(Linux)|(X11)/], ["Mac OS", /(Mac_PowerPC)|(Macintosh)/], ["QNX", /QNX/], ["BeOS", /BeOS/], ["OS/2", /OS\/2/]]; function Qg(e) { return e ? ty(e) : "undefined" === typeof document && "undefined" !== typeof navigator && "ReactNative" === navigator.product ? new Yg : "undefined" !== typeof navigator ? ty(navigator.userAgent) : "undefined" !== typeof zg && zg.version ? new Gg(zg.version.slice(1)) : null } function ey(e) { return "" !== e && Xg.reduce((function (t, n) { var r = n[0], i = n[1]; if (t) return t; var o = i.exec(e); return !!o && [r, o] }), !1) } function ty(e) { var t = ey(e); if (!t) return null; var n = t[0], r = t[1]; if ("searchbot" === n) return new Kg; var i = r[1] && r[1].split(".").join("_").split("_").slice(0, 3); i ? i.length < 3 && (i = qg(qg([], i, !0), function (e) { for (var t = [], n = 0; n < e; n++)t.push("0"); return t }(3 - i.length), !0)) : i = []; var o = i.join("."), s = function (e) { for (var t = 0, n = Jg.length; t < n; t++) { var r = Jg[t], i = r[0]; if (r[1].exec(e)) return i } return null }(e), a = Zg.exec(e); return a && a[1] ? new Vg(n, o, s, a[1]) : new Hg(n, o, s) } var ny = n(66736), ry = n(62873), iy = n(65755), oy = n(17563); function sy(e) { return "string" === typeof e && (e = er(e)), (0, Gn.w)((0, Hn.zo)([er("\x19Ethereum Signed Message:\n"), er(String(e.length)), e])) } var ay = n(15501), cy = n(512), ly = n(31416), uy = n(73294), dy = n(57664); function hy(e = 0) { return null != globalThis.Buffer && null != globalThis.Buffer.allocUnsafe ? globalThis.Buffer.allocUnsafe(e) : new Uint8Array(e) } function fy(e, t) { t || (t = e.reduce(((e, t) => e + t.length), 0)); const n = hy(t); let r = 0; for (const i of e) n.set(i, r), r += i.length; return n } var py = function (e, t) { if (e.length >= 255) throw new TypeError("Alphabet too long"); for (var n = new Uint8Array(256), r = 0; r < n.length; r++)n[r] = 255; for (var i = 0; i < e.length; i++) { var o = e.charAt(i), s = o.charCodeAt(0); if (255 !== n[s]) throw new TypeError(o + " is ambiguous"); n[s] = i } var a = e.length, c = e.charAt(0), l = Math.log(a) / Math.log(256), u = Math.log(256) / Math.log(a); function d(e) { if ("string" !== typeof e) throw new TypeError("Expected String"); if (0 === e.length) return new Uint8Array; var t = 0; if (" " !== e[t]) { for (var r = 0, i = 0; e[t] === c;)r++, t++; for (var o = (e.length - t) * l + 1 >>> 0, s = new Uint8Array(o); e[t];) { var u = n[e.charCodeAt(t)]; if (255 === u) return; for (var d = 0, h = o - 1; (0 !== u || d < i) && -1 !== h; h--, d++)u += a * s[h] >>> 0, s[h] = u % 256 >>> 0, u = u / 256 >>> 0; if (0 !== u) throw new Error("Non-zero carry"); i = d, t++ } if (" " !== e[t]) { for (var f = o - i; f !== o && 0 === s[f];)f++; for (var p = new Uint8Array(r + (o - f)), m = r; f !== o;)p[m++] = s[f++]; return p } } } return { encode: function (t) { if (t instanceof Uint8Array || (ArrayBuffer.isView(t) ? t = new Uint8Array(t.buffer, t.byteOffset, t.byteLength) : Array.isArray(t) && (t = Uint8Array.from(t))), !(t instanceof Uint8Array)) throw new TypeError("Expected Uint8Array"); if (0 === t.length) return ""; for (var n = 0, r = 0, i = 0, o = t.length; i !== o && 0 === t[i];)i++, n++; for (var s = (o - i) * u + 1 >>> 0, l = new Uint8Array(s); i !== o;) { for (var d = t[i], h = 0, f = s - 1; (0 !== d || h < r) && -1 !== f; f--, h++)d += 256 * l[f] >>> 0, l[f] = d % a >>> 0, d = d / a >>> 0; if (0 !== d) throw new Error("Non-zero carry"); r = h, i++ } for (var p = s - r; p !== s && 0 === l[p];)p++; for (var m = c.repeat(n); p < s; ++p)m += e.charAt(l[p]); return m }, decodeUnsafe: d, decode: function (e) { var n = d(e); if (n) return n; throw new Error(`Non-${t} character`) } } }; new Uint8Array(0); const my = e => { if (e instanceof Uint8Array && "Uint8Array" === e.constructor.name) return e; if (e instanceof ArrayBuffer) return new Uint8Array(e); if (ArrayBuffer.isView(e)) return new Uint8Array(e.buffer, e.byteOffset, e.byteLength); throw new Error("Unknown type, must be binary type") }; class gy { constructor(e, t, n) { this.name = e, this.prefix = t, this.baseEncode = n } encode(e) { if (e instanceof Uint8Array) return `${this.prefix}${this.baseEncode(e)}`; throw Error("Unknown type, must be binary type") } } class yy { constructor(e, t, n) { if (this.name = e, this.prefix = t, void 0 === t.codePointAt(0)) throw new Error("Invalid prefix character"); this.prefixCodePoint = t.codePointAt(0), this.baseDecode = n } decode(e) { if ("string" === typeof e) { if (e.codePointAt(0) !== this.prefixCodePoint) throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`); return this.baseDecode(e.slice(this.prefix.length)) } throw Error("Can only multibase decode strings") } or(e) { return vy(this, e) } } class by { constructor(e) { this.decoders = e } or(e) { return vy(this, e) } decode(e) { const t = e[0], n = this.decoders[t]; if (n) return n.decode(e); throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`) } } const vy = (e, t) => new by({ ...e.decoders || { [e.prefix]: e }, ...t.decoders || { [t.prefix]: t } }); class wy { constructor(e, t, n, r) { this.name = e, this.prefix = t, this.baseEncode = n, this.baseDecode = r, this.encoder = new gy(e, t, n), this.decoder = new yy(e, t, r) } encode(e) { return this.encoder.encode(e) } decode(e) { return this.decoder.decode(e) } } const Ey = ({ name: e, prefix: t, encode: n, decode: r }) => new wy(e, t, n, r), xy = ({ prefix: e, name: t, alphabet: n }) => { const { encode: r, decode: i } = py(n, t); return Ey({ prefix: e, name: t, encode: r, decode: e => my(i(e)) }) }, _y = ({ name: e, prefix: t, bitsPerChar: n, alphabet: r }) => Ey({ prefix: t, name: e, encode: e => ((e, t, n) => { const r = "=" === t[t.length - 1], i = (1 << n) - 1; let o = "", s = 0, a = 0; for (let c = 0; c < e.length; ++c)for (a = a << 8 | e[c], s += 8; s > n;)s -= n, o += t[i & a >> s]; if (s && (o += t[i & a << n - s]), r) for (; o.length * n & 7;)o += "="; return o })(e, r, n), decode: t => ((e, t, n, r) => { const i = {}; for (let u = 0; u < t.length; ++u)i[t[u]] = u; let o = e.length; for (; "=" === e[o - 1];)--o; const s = new Uint8Array(o * n / 8 | 0); let a = 0, c = 0, l = 0; for (let u = 0; u < o; ++u) { const t = i[e[u]]; if (void 0 === t) throw new SyntaxError(`Non-${r} character`); c = c << n | t, a += n, a >= 8 && (a -= 8, s[l++] = 255 & c >> a) } if (a >= n || 255 & c << 8 - a) throw new SyntaxError("Unexpected end of data"); return s })(t, r, n, e) }), Cy = Ey({ prefix: "\0", name: "identity", encode: e => (e => (new TextDecoder).decode(e))(e), decode: e => (e => (new TextEncoder).encode(e))(e) }), Ay = _y({ prefix: "0", name: "base2", alphabet: "01", bitsPerChar: 1 }), Sy = _y({ prefix: "7", name: "base8", alphabet: "01234567", bitsPerChar: 3 }), ky = xy({ prefix: "9", name: "base10", alphabet: "0123456789" }), Iy = _y({ prefix: "f", name: "base16", alphabet: "0123456789abcdef", bitsPerChar: 4 }), Ty = _y({ prefix: "F", name: "base16upper", alphabet: "0123456789ABCDEF", bitsPerChar: 4 }), Ny = _y({ prefix: "b", name: "base32", alphabet: "abcdefghijklmnopqrstuvwxyz234567", bitsPerChar: 5 }), Py = _y({ prefix: "B", name: "base32upper", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567", bitsPerChar: 5 }), My = _y({ prefix: "c", name: "base32pad", alphabet: "abcdefghijklmnopqrstuvwxyz234567=", bitsPerChar: 5 }), Oy = _y({ prefix: "C", name: "base32padupper", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=", bitsPerChar: 5 }), Ry = _y({ prefix: "v", name: "base32hex", alphabet: "0123456789abcdefghijklmnopqrstuv", bitsPerChar: 5 }), jy = _y({ prefix: "V", name: "base32hexupper", alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV", bitsPerChar: 5 }), $y = _y({ prefix: "t", name: "base32hexpad", alphabet: "0123456789abcdefghijklmnopqrstuv=", bitsPerChar: 5 }), Ly = _y({ prefix: "T", name: "base32hexpadupper", alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV=", bitsPerChar: 5 }), Dy = _y({ prefix: "h", name: "base32z", alphabet: "ybndrfg8ejkmcpqxot1uwisza345h769", bitsPerChar: 5 }), Uy = xy({ prefix: "k", name: "base36", alphabet: "0123456789abcdefghijklmnopqrstuvwxyz" }), Fy = xy({ prefix: "K", name: "base36upper", alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ" }), By = xy({ name: "base58btc", prefix: "z", alphabet: "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz" }), Wy = xy({ name: "base58flickr", prefix: "Z", alphabet: "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ" }), zy = _y({ prefix: "m", name: "base64", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", bitsPerChar: 6 }), qy = _y({ prefix: "M", name: "base64pad", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", bitsPerChar: 6 }), Hy = _y({ prefix: "u", name: "base64url", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_", bitsPerChar: 6 }), Gy = _y({ prefix: "U", name: "base64urlpad", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=", bitsPerChar: 6 }), Vy = Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"), Ky = Vy.reduce(((e, t, n) => (e[n] = t, e)), []), Yy = Vy.reduce(((e, t, n) => (e[t.codePointAt(0)] = n, e)), []); const Zy = Ey({ prefix: "\ud83d\ude80", name: "base256emoji", encode: function (e) { return e.reduce(((e, t) => e += Ky[t]), "") }, decode: function (e) { const t = []; for (const n of e) { const e = Yy[n.codePointAt(0)]; if (void 0 === e) throw new Error(`Non-base256emoji character: ${n}`); t.push(e) } return new Uint8Array(t) } }); var Xy = function e(t, n, r) { n = n || []; var i = r = r || 0; for (; t >= Jy;)n[r++] = 255 & t | 128, t /= 128; for (; -128 & t;)n[r++] = 255 & t | 128, t >>>= 7; return n[r] = 0 | t, e.bytes = r - i + 1, n }, Jy = Math.pow(2, 31); var Qy = function e(t, n) { var r, i = 0, o = 0, s = n = n || 0, a = t.length; do { if (s >= a) throw e.bytes = 0, new RangeError("Could not decode varint"); r = t[s++], i += o < 28 ? (127 & r) << o : (127 & r) * Math.pow(2, o), o += 7 } while (r >= 128); return e.bytes = s - n, i }; var eb = Math.pow(2, 7), tb = Math.pow(2, 14), nb = Math.pow(2, 21), rb = Math.pow(2, 28), ib = Math.pow(2, 35), ob = Math.pow(2, 42), sb = Math.pow(2, 49), ab = Math.pow(2, 56), cb = Math.pow(2, 63), lb = { encode: Xy, decode: Qy, encodingLength: function (e) { return e < eb ? 1 : e < tb ? 2 : e < nb ? 3 : e < rb ? 4 : e < ib ? 5 : e < ob ? 6 : e < sb ? 7 : e < ab ? 8 : e < cb ? 9 : 10 } }; const ub = (e, t, n = 0) => (lb.encode(e, t, n), t), db = e => lb.encodingLength(e), hb = (e, t) => { const n = t.byteLength, r = db(e), i = r + db(n), o = new Uint8Array(i + n); return ub(e, o, 0), ub(n, o, r), o.set(t, i), new fb(e, n, t, o) }; class fb { constructor(e, t, n, r) { this.code = e, this.size = t, this.digest = n, this.bytes = r } } const pb = ({ name: e, code: t, encode: n }) => new mb(e, t, n); class mb { constructor(e, t, n) { this.name = e, this.code = t, this.encode = n } digest(e) { if (e instanceof Uint8Array) { const t = this.encode(e); return t instanceof Uint8Array ? hb(this.code, t) : t.then((e => hb(this.code, e))) } throw Error("Unknown type, must be binary type") } } const gb = e => async t => new Uint8Array(await crypto.subtle.digest(e, t)), yb = pb({ name: "sha2-256", code: 18, encode: gb("SHA-256") }), bb = pb({ name: "sha2-512", code: 19, encode: gb("SHA-512") }), vb = my, wb = { code: 0, name: "identity", encode: vb, digest: e => hb(0, vb(e)) }, Eb = "raw", xb = 85, _b = e => my(e), Cb = e => my(e), Ab = new TextEncoder, Sb = new TextDecoder, kb = "json", Ib = 512, Tb = e => Ab.encode(JSON.stringify(e)), Nb = e => JSON.parse(Sb.decode(e)); Symbol.toStringTag, Symbol.for("nodejs.util.inspect.custom"); Symbol.for("@ipld/js-cid/CID"); const Pb = { ...r, ...i, ...o, ...s, ...a, ...c, ...l, ...u, ...d, ...h }; function Mb(e, t, n, r) { return { name: e, prefix: t, encoder: { name: e, prefix: t, encode: n }, decoder: { decode: r } } } const Ob = Mb("utf8", "u", (e => "u" + new TextDecoder("utf8").decode(e)), (e => (new TextEncoder).encode(e.substring(1)))), Rb = Mb("ascii", "a", (e => { let t = "a"; for (let n = 0; n < e.length; n++)t += String.fromCharCode(e[n]); return t }), (e => { const t = hy((e = e.substring(1)).length); for (let n = 0; n < e.length; n++)t[n] = e.charCodeAt(n); return t })); var jb = { utf8: Ob, "utf-8": Ob, hex: Pb.base16, latin1: Rb, ascii: Rb, binary: Rb, ...Pb }; function $b(e, t = "utf8") { const n = jb[t]; if (!n) throw new Error(`Unsupported encoding "${t}"`); return "utf8" !== t && "utf-8" !== t || null == globalThis.Buffer || null == globalThis.Buffer.from ? n.decoder.decode(`${n.prefix}${e}`) : globalThis.Buffer.from(e, "utf8") } function Lb(e, t = "utf8") { const n = jb[t]; if (!n) throw new Error(`Unsupported encoding "${t}"`); return "utf8" !== t && "utf-8" !== t || null == globalThis.Buffer || null == globalThis.Buffer.from ? n.encoder.encode(e).substring(1) : globalThis.Buffer.from(e.buffer, e.byteOffset, e.byteLength).toString("utf8") } var Db = n(35431), Ub = n(31050); const Fb = ".", Bb = "base64url", Wb = "utf8", zb = "utf8", qb = "did", Hb = "key", Gb = "base58btc"; function Vb(e) { if ("string" !== typeof e) throw new Error("Cannot safe json parse value of type " + typeof e); try { return (e => { const t = e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g, '$1"$2n"$3'); return JSON.parse(t, ((e, t) => "string" === typeof t && t.match(/^\d+n$/) ? BigInt(t.substring(0, t.length - 1)) : t)) })(e) } catch (AQ) { return e } } function Kb(e) { return "string" === typeof e ? e : (t = e, JSON.stringify(t, ((e, t) => "bigint" === typeof t ? t.toString() + "n" : t)) || ""); var t } function Yb(e) { return Vb(Lb($b(e, Bb), Wb)) } function Zb(e) { return Lb($b(Kb(e), Wb), Bb) } function Xb(e) { const t = "z" + Lb(fy([$b("K36", Gb), e]), Gb); return [qb, Hb, t].join(":") } function Jb(e) { const t = e.split(Fb); return { header: Yb(t[0]), payload: Yb(t[1]), signature: $b(t[2], Bb), data: $b(t.slice(0, 2).join(Fb), zb) } } function Qb(e = (0, ly.randomBytes)(32)) { return Ub._w(e) } async function ev(e, t, n, r, i = (0, ny.fromMiliseconds)(Date.now())) { const o = { alg: "EdDSA", typ: "JWT" }, s = { iss: Xb(r.publicKey), sub: e, aud: t, iat: i, exp: i + n }, a = $b([Zb((c = { header: o, payload: s }).header), Zb(c.payload)].join(Fb), zb); var c; return function (e) { return [Zb(e.header), Zb(e.payload), (t = e.signature, Lb(t, Bb))].join(Fb); var t }({ header: o, payload: s, signature: Ub.Xx(r.secretKey, a) }) } n(43014); const tv = { waku: { publish: "waku_publish", batchPublish: "waku_batchPublish", subscribe: "waku_subscribe", batchSubscribe: "waku_batchSubscribe", subscription: "waku_subscription", unsubscribe: "waku_unsubscribe", batchUnsubscribe: "waku_batchUnsubscribe", batchFetchMessages: "waku_batchFetchMessages" }, irn: { publish: "irn_publish", batchPublish: "irn_batchPublish", subscribe: "irn_subscribe", batchSubscribe: "irn_batchSubscribe", subscription: "irn_subscription", unsubscribe: "irn_unsubscribe", batchUnsubscribe: "irn_batchUnsubscribe", batchFetchMessages: "irn_batchFetchMessages" }, iridium: { publish: "iridium_publish", batchPublish: "iridium_batchPublish", subscribe: "iridium_subscribe", batchSubscribe: "iridium_batchSubscribe", subscription: "iridium_subscription", unsubscribe: "iridium_unsubscribe", batchUnsubscribe: "iridium_batchUnsubscribe", batchFetchMessages: "iridium_batchFetchMessages" } }; var nv = n(34155), rv = n(48764).Buffer; const iv = ":"; function ov(e) { const [t, n] = e.split(iv); return { namespace: t, reference: n } } function sv(e, t = []) { const n = []; return Object.keys(e).forEach((r => { if (t.length && !t.includes(r)) return; const i = e[r]; n.push(...i.accounts) })), n } function av(e, t) { return e.includes(":") ? [e] : t.chains || [] } var cv = Object.defineProperty, lv = Object.getOwnPropertySymbols, uv = Object.prototype.hasOwnProperty, dv = Object.prototype.propertyIsEnumerable, hv = (e, t, n) => t in e ? cv(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, fv = (e, t) => { for (var n in t || (t = {})) uv.call(t, n) && hv(e, n, t[n]); if (lv) for (var n of lv(t)) dv.call(t, n) && hv(e, n, t[n]); return e }; const pv = "react-native", mv = "node", gv = "browser", yv = "unknown", bv = "js"; function vv() { return typeof nv < "u" && typeof nv.versions < "u" && typeof nv.versions.node < "u" } function wv() { return !(0, ry.getDocument)() && !!(0, ry.getNavigator)() && "ReactNative" === navigator.product } function Ev() { return !vv() && !!(0, ry.getNavigator)() && !!(0, ry.getDocument)() } function xv() { return wv() ? pv : vv() ? mv : Ev() ? gv : yv } function _v() { return (0, iy.D)() || { name: "", description: "", url: "", icons: [""] } } function Cv(e, t, r) { const i = function () { if (xv() === pv && typeof n.g < "u" && typeof (null == n.g ? void 0 : n.g.Platform) < "u") { const { OS: e, Version: t } = n.g.Platform; return [e, t].join("-") } const e = Qg(); if (null === e) return "unknown"; const t = e.os ? e.os.replace(" ", "").toLowerCase() : "unknown"; return "browser" === e.type ? [t, e.name, e.version].join("-") : [t, e.version].join("-") }(), o = function () { var e; const t = xv(); return t === gv ? [t, (null == (e = (0, ry.getLocation)()) ? void 0 : e.host) || "unknown"].join(":") : t }(); return [[e, t].join("-"), [bv, r].join("-"), i, o].join("/") } function Av({ protocol: e, version: t, relayUrl: n, sdkVersion: r, auth: i, projectId: o, useOnCloseEvent: s, bundleId: a }) { const c = n.split("?"), l = { auth: i, ua: Cv(e, t, r), projectId: o, useOnCloseEvent: s || void 0, origin: a || void 0 }, u = function (e, t) { let n = oy.parse(e); return n = fv(fv({}, n), t), oy.stringify(n) }(c[1] || "", l); return c[0] + "?" + u } function Sv(e, t) { return e.filter((e => t.includes(e))).length === e.length } function kv(e) { return Object.fromEntries(e.entries()) } function Iv(e) { return new Map(Object.entries(e)) } function Tv(e = ny.FIVE_MINUTES, t) { const n = (0, ny.toMiliseconds)(e || ny.FIVE_MINUTES); let r, i, o; return { resolve: e => { o && r && (clearTimeout(o), r(e)) }, reject: e => { o && i && (clearTimeout(o), i(e)) }, done: () => new Promise(((e, s) => { o = setTimeout((() => { s(new Error(t)) }), n), r = e, i = s })) } } function Nv(e, t, n) { return new Promise((async (r, i) => { const o = setTimeout((() => i(new Error(n))), t); try { r(await e) } catch (s) { i(s) } clearTimeout(o) })) } function Pv(e, t) { if ("string" == typeof t && t.startsWith(`${e}:`)) return t; if ("topic" === e.toLowerCase()) { if ("string" != typeof t) throw new Error('Value must be "string" for expirer target type: topic'); return `topic:${t}` } if ("id" === e.toLowerCase()) { if ("number" != typeof t) throw new Error('Value must be "number" for expirer target type: id'); return `id:${t}` } throw new Error(`Unknown expirer target type: ${e}`) } function Mv(e) { const [t, n] = e.split(":"), r = { id: void 0, topic: void 0 }; if ("topic" === t && "string" == typeof n) r.topic = n; else { if ("id" !== t || !Number.isInteger(Number(n))) throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`); r.id = Number(n) } return r } function Ov(e, t) { return (0, ny.fromMiliseconds)((t || Date.now()) + (0, ny.toMiliseconds)(e)) } function Rv(e) { return Date.now() >= (0, ny.toMiliseconds)(e) } function jv(e, t) { return `${e}${t ? `:${t}` : ""}` } function $v(e = [], t = []) { return [...new Set([...e, ...t])] } async function Lv({ id: e, topic: t, wcDeepLink: r }) { var i; try { if (!r) return; const o = ("string" == typeof r ? JSON.parse(r) : r)?.href; if ("string" != typeof o) return; const s = function (e, t, n) { const r = `requestId=${t}&sessionTopic=${n}`; e.endsWith("/") && (e = e.slice(0, -1)); let i = `${e}`; if (e.startsWith("https://t.me")) { i = `${i}${e.includes("?") ? "&startapp=" : "?startapp="}${function (e, t = !1) { const n = rv.from(e).toString("base64"); return t ? n.replace(/[=]/g, "") : n }(r, !0)}` } else i = `${i}/wc?${r}`; return i }(o, e, t), a = xv(); if (a === gv) { if (null == (i = (0, ry.getDocument)()) || !i.hasFocus()) return void console.warn("Document does not have focus, skipping deeplink."); s.startsWith("https://") || s.startsWith("http://") ? window.open(s, "_blank", "noreferrer noopener") : window.open(s, typeof window < "u" && (window.TelegramWebviewProxy || window.Telegram || window.TelegramWebviewProxyProto) ? "_blank" : "_self", "noreferrer noopener") } else a === pv && typeof (null == n.g ? void 0 : n.g.Linking) < "u" && await n.g.Linking.openURL(s) } catch (o) { console.error(o) } } function Dv(e, t) { if (!e.includes(t)) return null; const n = e.split(/([&,?,=])/), r = n.indexOf(t); return n[r + 2] } function Uv() { return typeof crypto < "u" && null != crypto && crypto.randomUUID ? crypto.randomUUID() : "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu, (e => { const t = 16 * Math.random() | 0; return ("x" === e ? t : 3 & t | 8).toString(16) })) } function Fv() { return typeof nv < "u" && "true" === nv.env.IS_VITEST } function Bv(e) { return rv.from(e, "base64").toString("utf-8") } const Wv = "https://rpc.walletconnect.org/v1"; async function zv(e, t, n, r, i, o) { switch (n.t) { case "eip191": return function (e, t, n) { return Ei(sy(t), n).toLowerCase() === e.toLowerCase() }(e, t, n.s); case "eip1271": return await async function (e, t, n, r, i, o) { const s = ov(r); if (!s.namespace || !s.reference) throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`); try { const s = "0x1626ba7e", a = "0000000000000000000000000000000000000000000000000000000000000040", c = "0000000000000000000000000000000000000000000000000000000000000041", l = n.substring(2), u = s + sy(t).substring(2) + a + c + l, d = await fetch(`${o || Wv}/?chainId=${r}&projectId=${i}`, { method: "POST", body: JSON.stringify({ id: qv(), jsonrpc: "2.0", method: "eth_call", params: [{ to: e, data: u }, "latest"] }) }), { result: h } = await d.json(); return !!h && h.slice(0, s.length).toLowerCase() === s.toLowerCase() } catch (a) { return console.error("isValidEip1271Signature: ", a), !1 } }(e, t, n.s, r, i, o); default: throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`) } } function qv() { return Date.now() + Math.floor(1e3 * Math.random()) } var Hv = Object.defineProperty, Gv = Object.defineProperties, Vv = Object.getOwnPropertyDescriptors, Kv = Object.getOwnPropertySymbols, Yv = Object.prototype.hasOwnProperty, Zv = Object.prototype.propertyIsEnumerable, Xv = (e, t, n) => t in e ? Hv(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, Jv = (e, t) => { for (var n in t || (t = {})) Yv.call(t, n) && Xv(e, n, t[n]); if (Kv) for (var n of Kv(t)) Zv.call(t, n) && Xv(e, n, t[n]); return e }, Qv = (e, t) => Gv(e, Vv(t)); const ew = e => e?.split(":"), tw = e => { const t = e && ew(e); if (t) return t[2] + ":" + t[3] }, nw = e => { const t = e && ew(e); if (t) return t.pop() }; async function rw(e) { const { cacao: t, projectId: n } = e, { s: r, p: i } = t, o = iw(i, i.iss), s = nw(i.iss); return await zv(s, o, r, tw(i.iss), n) } const iw = (e, t) => { const n = `${e.domain} wants you to sign in with your Ethereum account:`, r = nw(t); if (!e.aud && !e.uri) throw new Error("Either `aud` or `uri` is required to construct the message"); let i = e.statement || void 0; const o = `URI: ${e.aud || e.uri}`, s = `Version: ${e.version}`, a = `Chain ID: ${(e => { const t = e && ew(e); if (t) return e.includes("did:pkh:") ? t[3] : t[1] })(t)}`, c = `Nonce: ${e.nonce}`, l = `Issued At: ${e.iat}`, u = e.exp ? `Expiration Time: ${e.exp}` : void 0, d = e.nbf ? `Not Before: ${e.nbf}` : void 0, h = e.requestId ? `Request ID: ${e.requestId}` : void 0, f = e.resources ? `Resources:${e.resources.map((e => `\n- ${e}`)).join("")}` : void 0, p = mw(e.resources); if (p) { i = hw(i, cw(p)) } return [n, r, "", i, "", o, s, a, c, l, u, d, h, f].filter((e => null != e)).join("\n") }; function ow(e) { if (!e) throw new Error("No recap provided, value is undefined"); if (!e.att) throw new Error("No `att` property found"); const t = Object.keys(e.att); if (null == t || !t.length) throw new Error("No resources found in `att` property"); t.forEach((t => { const n = e.att[t]; if (Array.isArray(n)) throw new Error(`Resource must be an object: ${t}`); if ("object" != typeof n) throw new Error(`Resource must be an object: ${t}`); if (!Object.keys(n).length) throw new Error(`Resource object is empty: ${t}`); Object.keys(n).forEach((e => { const t = n[e]; if (!Array.isArray(t)) throw new Error(`Ability limits ${e} must be an array of objects, found: ${t}`); if (!t.length) throw new Error(`Value of ${e} is empty array, must be an array with objects`); t.forEach((t => { if ("object" != typeof t) throw new Error(`Ability limits (${e}) must be an array of objects, found: ${t}`) })) })) })) } function sw(e, t, n = {}) { t = t?.sort(((e, t) => e.localeCompare(t))); const r = t.map((t => ({ [`${e}/${t}`]: [n] }))); return Object.assign({}, ...r) } function aw(e) { return ow(e), `urn:recap:${function (e) { return rv.from(JSON.stringify(e)).toString("base64") }(e).replace(/=/g, "")}` } function cw(e) { const t = function (e) { return JSON.parse(rv.from(e, "base64").toString("utf-8")) }(e.replace("urn:recap:", "")); return ow(t), t } function lw(e, t, n) { return aw(function (e, t, n, r = {}) { return n?.sort(((e, t) => e.localeCompare(t))), { att: { [e]: sw(t, n, r) } } }(e, t, n)) } function uw(e) { return e && e.includes("urn:recap:") } function dw(e, t) { return aw(function (e, t) { ow(e), ow(t); const n = Object.keys(e.att).concat(Object.keys(t.att)).sort(((e, t) => e.localeCompare(t))), r = { att: {} }; return n.forEach((n => { var i, o; Object.keys((null == (i = e.att) ? void 0 : i[n]) || {}).concat(Object.keys((null == (o = t.att) ? void 0 : o[n]) || {})).sort(((e, t) => e.localeCompare(t))).forEach((i => { var o, s; r.att[n] = Qv(Jv({}, r.att[n]), { [i]: (null == (o = e.att[n]) ? void 0 : o[i]) || (null == (s = t.att[n]) ? void 0 : s[i]) }) })) })), r }(cw(e), cw(t))) } function hw(e = "", t) { ow(t); const n = "I further authorize the stated URI to perform the following actions on my behalf: "; if (e.includes(n)) return e; const r = []; let i = 0; Object.keys(t.att).forEach((e => { const n = Object.keys(t.att[e]).map((e => ({ ability: e.split("/")[0], action: e.split("/")[1] }))); n.sort(((e, t) => e.action.localeCompare(t.action))); const o = {}; n.forEach((e => { o[e.ability] || (o[e.ability] = []), o[e.ability].push(e.action) })); const s = Object.keys(o).map((t => (i++, `(${i}) '${t}': '${o[t].join("', '")}' for '${e}'.`))); r.push(s.join(", ").replace(".,", ".")) })); return `${e ? e + " " : ""}${`${n}${r.join(" ")}`}` } function fw(e) { var t; const n = cw(e); ow(n); const r = null == (t = n.att) ? void 0 : t.eip155; return r ? Object.keys(r).map((e => e.split("/")[1])) : [] } function pw(e) { const t = cw(e); ow(t); const n = []; return Object.values(t.att).forEach((e => { Object.values(e).forEach((e => { var t; null != (t = e?.[0]) && t.chains && n.push(e[0].chains) })) })), [...new Set(n.flat())] } function mw(e) { if (!e) return; const t = e?.[e.length - 1]; return uw(t) ? t : void 0 } const gw = "base10", yw = "base16", bw = "base64pad", vw = "base64url", ww = "utf8"; function Ew() { return Lb((0, ly.randomBytes)(32), yw) } function xw(e) { return Lb((0, uy.vp)($b(e, yw)), yw) } function _w(e) { return Lb((0, uy.vp)($b(e, ww)), yw) } function Cw(e) { return $b(`${e}`, gw) } function Aw(e) { return Number(Lb(e, gw)) } function Sw(e) { const { encoding: t = bw } = e; if (2 === Aw(e.type)) return Lb(fy([e.type, e.sealed]), t); if (1 === Aw(e.type)) { if (typeof e.senderPublicKey > "u") throw new Error("Missing sender public key for type 1 envelope"); return Lb(fy([e.type, e.senderPublicKey, e.iv, e.sealed]), t) } return Lb(fy([e.type, e.iv, e.sealed]), t) } function kw(e) { const { encoded: t, encoding: n = bw } = e, r = $b(t, n), i = r.slice(0, 1); if (1 === Aw(i)) { const e = 33, t = e + 12, n = r.slice(1, e), o = r.slice(e, t); return { type: i, sealed: r.slice(t), iv: o, senderPublicKey: n } } if (2 === Aw(i)) { return { type: i, sealed: r.slice(1), iv: (0, ly.randomBytes)(12) } } const o = r.slice(1, 13); return { type: i, sealed: r.slice(13), iv: o } } function Iw(e) { const t = e?.type || 0; if (1 === t) { if (typeof e?.senderPublicKey > "u") throw new Error("missing sender public key"); if (typeof e?.receiverPublicKey > "u") throw new Error("missing receiver public key") } return { type: t, senderPublicKey: e?.senderPublicKey, receiverPublicKey: e?.receiverPublicKey } } function Tw(e) { return 1 === e.type && "string" == typeof e.senderPublicKey && "string" == typeof e.receiverPublicKey } function Nw(e) { return 2 === e.type } function Pw(e, t) { const [n, r, i] = e.split("."), o = function (e) { return rv.from(function (e) { let t = e.replace(/-/g, "+").replace(/_/g, "/"); const n = t.length % 4; return n > 0 && (t += "=".repeat(4 - n)), t }(e), "base64") }(i); if (64 !== o.length) throw new Error("Invalid signature length"); const s = o.slice(0, 32).toString("hex"), a = o.slice(32, 64).toString("hex"), c = `${n}.${r}`, l = (new uy.mE).update(rv.from(c)).digest(), u = function (e) { return new Db.ec("p256").keyFromPublic({ x: rv.from(e.x, "base64").toString("hex"), y: rv.from(e.y, "base64").toString("hex") }, "hex") }(t), d = rv.from(l).toString("hex"); if (!u.verify(d, { r: s, s: a })) throw new Error("Invalid signature"); return Jb(e).payload } function Mw(e) { return e?.relay || { protocol: "irn" } } function Ow(e) { const t = tv[e]; if (typeof t > "u") throw new Error(`Relay Protocol not supported: ${e}`); return t } var Rw = Object.defineProperty, jw = Object.defineProperties, $w = Object.getOwnPropertyDescriptors, Lw = Object.getOwnPropertySymbols, Dw = Object.prototype.hasOwnProperty, Uw = Object.prototype.propertyIsEnumerable, Fw = (e, t, n) => t in e ? Rw(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, Bw = (e, t) => { for (var n in t || (t = {})) Dw.call(t, n) && Fw(e, n, t[n]); if (Lw) for (var n of Lw(t)) Uw.call(t, n) && Fw(e, n, t[n]); return e }; function Ww(e, t = "-") { const n = {}, r = "relay" + t; return Object.keys(e).forEach((t => { if (t.startsWith(r)) { const i = t.replace(r, ""), o = e[t]; n[i] = o } })), n } function zw(e) { if (!e.includes("wc:")) { const t = Bv(e); null != t && t.includes("wc:") && (e = t) } const t = (e = (e = e.includes("wc://") ? e.replace("wc://", "") : e).includes("wc:") ? e.replace("wc:", "") : e).indexOf(":"), n = -1 !== e.indexOf("?") ? e.indexOf("?") : void 0, r = e.substring(0, t), i = e.substring(t + 1, n).split("@"), o = typeof n < "u" ? e.substring(n) : "", s = oy.parse(o), a = "string" == typeof s.methods ? s.methods.split(",") : void 0; return { protocol: r, topic: qw(i[0]), version: parseInt(i[1], 10), symKey: s.symKey, relay: Ww(s), methods: a, expiryTimestamp: s.expiryTimestamp ? parseInt(s.expiryTimestamp, 10) : void 0 } } function qw(e) { return e.startsWith("//") ? e.substring(2) : e } function Hw(e) { return `${e.protocol}:${e.topic}@${e.version}?` + oy.stringify(Bw(((e, t) => jw(e, $w(t)))(Bw({ symKey: e.symKey }, function (e, t = "-") { const n = {}; return Object.keys(e).forEach((r => { const i = "relay" + t + r; e[r] && (n[i] = e[r]) })), n }(e.relay)), { expiryTimestamp: e.expiryTimestamp }), e.methods ? { methods: e.methods.join(",") } : {})) } function Gw(e, t, n) { return `${e}?wc_ev=${n}&topic=${t}` } Object.defineProperty, Object.defineProperties, Object.getOwnPropertyDescriptors, Object.getOwnPropertySymbols, Object.prototype.hasOwnProperty, Object.prototype.propertyIsEnumerable; function Vw(e) { const t = []; return e.forEach((e => { const [n, r] = e.split(":"); t.push(`${n}:${r}`) })), t } function Kw(e) { return e.includes(":") } function Yw(e) { return Kw(e) ? e.split(":")[0] : e } function Zw(e, t) { const n = function (e) { const t = {}; return e?.forEach((e => { const [n, r] = e.split(":"); t[n] || (t[n] = { accounts: [], chains: [], events: [] }), t[n].accounts.push(e), t[n].chains.push(`${n}:${r}`) })), t }(t = t.map((e => e.replace("did:pkh:", "")))); for (const [r, i] of Object.entries(n)) i.methods ? i.methods = $v(i.methods, e) : i.methods = e, i.events = ["chainChanged", "accountsChanged"]; return n } const Xw = { INVALID_METHOD: { message: "Invalid method.", code: 1001 }, INVALID_EVENT: { message: "Invalid event.", code: 1002 }, INVALID_UPDATE_REQUEST: { message: "Invalid update request.", code: 1003 }, INVALID_EXTEND_REQUEST: { message: "Invalid extend request.", code: 1004 }, INVALID_SESSION_SETTLE_REQUEST: { message: "Invalid session settle request.", code: 1005 }, UNAUTHORIZED_METHOD: { message: "Unauthorized method.", code: 3001 }, UNAUTHORIZED_EVENT: { message: "Unauthorized event.", code: 3002 }, UNAUTHORIZED_UPDATE_REQUEST: { message: "Unauthorized update request.", code: 3003 }, UNAUTHORIZED_EXTEND_REQUEST: { message: "Unauthorized extend request.", code: 3004 }, USER_REJECTED: { message: "User rejected.", code: 5e3 }, USER_REJECTED_CHAINS: { message: "User rejected chains.", code: 5001 }, USER_REJECTED_METHODS: { message: "User rejected methods.", code: 5002 }, USER_REJECTED_EVENTS: { message: "User rejected events.", code: 5003 }, UNSUPPORTED_CHAINS: { message: "Unsupported chains.", code: 5100 }, UNSUPPORTED_METHODS: { message: "Unsupported methods.", code: 5101 }, UNSUPPORTED_EVENTS: { message: "Unsupported events.", code: 5102 }, UNSUPPORTED_ACCOUNTS: { message: "Unsupported accounts.", code: 5103 }, UNSUPPORTED_NAMESPACE_KEY: { message: "Unsupported namespace key.", code: 5104 }, USER_DISCONNECTED: { message: "User disconnected.", code: 6e3 }, SESSION_SETTLEMENT_FAILED: { message: "Session settlement failed.", code: 7e3 }, WC_METHOD_UNSUPPORTED: { message: "Unsupported wc_ method.", code: 10001 } }, Jw = { NOT_INITIALIZED: { message: "Not initialized.", code: 1 }, NO_MATCHING_KEY: { message: "No matching key.", code: 2 }, RESTORE_WILL_OVERRIDE: { message: "Restore will override.", code: 3 }, RESUBSCRIBED: { message: "Resubscribed.", code: 4 }, MISSING_OR_INVALID: { message: "Missing or invalid.", code: 5 }, EXPIRED: { message: "Expired.", code: 6 }, UNKNOWN_TYPE: { message: "Unknown type.", code: 7 }, MISMATCHED_TOPIC: { message: "Mismatched topic.", code: 8 }, NON_CONFORMING_NAMESPACES: { message: "Non conforming namespaces.", code: 9 } }; function Qw(e, t) { const { message: n, code: r } = Jw[e]; return { message: t ? `${n} ${t}` : n, code: r } } function eE(e, t) { const { message: n, code: r } = Xw[e]; return { message: t ? `${n} ${t}` : n, code: r } } function tE(e, t) { return !!Array.isArray(e) && (!(typeof t < "u" && e.length) || e.every(t)) } function nE(e) { return Object.getPrototypeOf(e) === Object.prototype && Object.keys(e).length } function rE(e) { return typeof e > "u" } function iE(e, t) { return !(!t || !rE(e)) || "string" == typeof e && !!e.trim().length } function oE(e, t) { return !(!t || !rE(e)) || "number" == typeof e && !isNaN(e) } function sE(e) { return !(!iE(e, !1) || !e.includes(":")) && 2 === e.split(":").length } function aE(e) { let t = !0; return tE(e) ? e.length && (t = e.every((e => iE(e, !1)))) : t = !1, t } function cE(e, t, n) { let r = null; return Object.entries(e).forEach((([e, i]) => { if (r) return; const o = function (e, t, n) { let r = null; return tE(t) && t.length ? t.forEach((e => { r || sE(e) || (r = eE("UNSUPPORTED_CHAINS", `${n}, chain ${e} should be a string and conform to "namespace:chainId" format`)) })) : sE(e) || (r = eE("UNSUPPORTED_CHAINS", `${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)), r }(e, av(e, i), `${t} ${n}`); o && (r = o) })), r } function lE(e, t) { let n = null; return tE(e) ? e.forEach((e => { n || function (e) { if (iE(e, !1) && e.includes(":")) { const t = e.split(":"); if (3 === t.length) { const e = t[0] + ":" + t[1]; return !!t[2] && sE(e) } } return !1 }(e) || (n = eE("UNSUPPORTED_ACCOUNTS", `${t}, account ${e} should be a string and conform to "namespace:chainId:address" format`)) })) : n = eE("UNSUPPORTED_ACCOUNTS", `${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`), n } function uE(e, t) { let n = null; return Object.values(e).forEach((e => { if (n) return; const r = function (e, t) { let n = null; return aE(e?.methods) ? aE(e?.events) || (n = eE("UNSUPPORTED_EVENTS", `${t}, events should be an array of strings or empty array for no events`)) : n = eE("UNSUPPORTED_METHODS", `${t}, methods should be an array of strings or empty array for no methods`), n }(e, `${t}, namespace`); r && (n = r) })), n } function dE(e, t) { let n = null; if (e && nE(e)) { const r = uE(e, t); r && (n = r); const i = function (e, t) { let n = null; return Object.values(e).forEach((e => { if (n) return; const r = lE(e?.accounts, `${t} namespace`); r && (n = r) })), n }(e, t); i && (n = i) } else n = Qw("MISSING_OR_INVALID", `${t}, namespaces should be an object with data`); return n } function hE(e) { return iE(e.protocol, !0) } function fE(e) { return typeof e < "u" && null !== typeof e } function pE(e, t) { return !(!sE(t) || !function (e) { const t = []; return Object.values(e).forEach((e => { t.push(...Vw(e.accounts)) })), t }(e).includes(t)) } function mE(e, t, n) { return !!iE(n, !1) && function (e, t) { const n = []; return Object.values(e).forEach((e => { Vw(e.accounts).includes(t) && n.push(...e.methods) })), n }(e, t).includes(n) } function gE(e, t, n) { return !!iE(n, !1) && function (e, t) { const n = []; return Object.values(e).forEach((e => { Vw(e.accounts).includes(t) && n.push(...e.events) })), n }(e, t).includes(n) } function yE(e, t, n) { let r = null; const i = function (e) { const t = {}; return Object.keys(e).forEach((n => { var r; n.includes(":") ? t[n] = e[n] : null == (r = e[n].chains) || r.forEach((r => { t[r] = { methods: e[n].methods, events: e[n].events } })) })), t }(e), o = function (e) { const t = {}; return Object.keys(e).forEach((n => { if (n.includes(":")) t[n] = e[n]; else { Vw(e[n].accounts)?.forEach((r => { t[r] = { accounts: e[n].accounts.filter((e => e.includes(`${r}:`))), methods: e[n].methods, events: e[n].events } })) } })), t }(t), s = Object.keys(i), a = Object.keys(o), c = bE(Object.keys(e)), l = bE(Object.keys(t)), u = c.filter((e => !l.includes(e))); return u.length && (r = Qw("NON_CONFORMING_NAMESPACES", `${n} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${u.toString()}\n      Received: ${Object.keys(t).toString()}`)), Sv(s, a) || (r = Qw("NON_CONFORMING_NAMESPACES", `${n} namespaces chains don't satisfy required namespaces.\n      Required: ${s.toString()}\n      Approved: ${a.toString()}`)), Object.keys(t).forEach((e => { if (!e.includes(":") || r) return; const i = Vw(t[e].accounts); i.includes(e) || (r = Qw("NON_CONFORMING_NAMESPACES", `${n} namespaces accounts don't satisfy namespace accounts for ${e}\n        Required: ${e}\n        Approved: ${i.toString()}`)) })), s.forEach((e => { r || (Sv(i[e].methods, o[e].methods) ? Sv(i[e].events, o[e].events) || (r = Qw("NON_CONFORMING_NAMESPACES", `${n} namespaces events don't satisfy namespace events for ${e}`)) : r = Qw("NON_CONFORMING_NAMESPACES", `${n} namespaces methods don't satisfy namespace methods for ${e}`)) })), r } function bE(e) { return [...new Set(e.map((e => e.includes(":") ? e.split(":")[0] : e)))] } function vE() { const e = xv(); return new Promise((t => { switch (e) { case gv: t(Ev() && navigator?.onLine); break; case pv: t(async function () { if (wv() && typeof n.g < "u" && null != n.g && n.g.NetInfo) { return (await (null == n.g ? void 0 : n.g.NetInfo.fetch()))?.isConnected } return !0 }()); break; case mv: t(!0); break; default: t(!0) } })) } function wE(e) { switch (xv()) { case gv: !function (e) { !wv() && Ev() && (window.addEventListener("online", (() => e(!0))), window.addEventListener("offline", (() => e(!1)))) }(e); break; case pv: !function (e) { wv() && typeof n.g < "u" && null != n.g && n.g.NetInfo && n.g?.NetInfo.addEventListener((t => e(t?.isConnected))) }(e) } } const EE = {}; class xE { static get(e) { return EE[e] } static set(e, t) { EE[e] = t } static delete(e) { delete EE[e] } } class _E { } class CE extends _E { constructor(e) { super() } } const AE = ny.FIVE_SECONDS, SE = "heartbeat_pulse"; class kE extends CE { constructor(e) { super(e), this.events = new Bg.EventEmitter, this.interval = AE, this.interval = e?.interval || AE } static async init(e) { const t = new kE(e); return await t.init(), t } async init() { await this.initialize() } stop() { clearInterval(this.intervalRef) } on(e, t) { this.events.on(e, t) } once(e, t) { this.events.once(e, t) } off(e, t) { this.events.off(e, t) } removeListener(e, t) { this.events.removeListener(e, t) } async initialize() { this.intervalRef = setInterval((() => this.pulse()), (0, ny.toMiliseconds)(this.interval)) } pulse() { this.events.emit(SE) } } var IE = n(82673), TE = n(48764).Buffer; function NE(e, ...t) { try { return (n = e(...t)) && "function" === typeof n.then ? n : Promise.resolve(n) } catch (r) { return Promise.reject(r) } var n } function PE(e) { if (function (e) { const t = typeof e; return null === e || "object" !== t && "function" !== t }(e)) return String(e); if (function (e) { const t = Object.getPrototypeOf(e); return !t || t.isPrototypeOf(Object) }(e) || Array.isArray(e)) return JSON.stringify(e); if ("function" === typeof e.toJSON) return PE(e.toJSON()); throw new Error("[unstorage] Cannot stringify value!") } function ME() { if ("undefined" === typeof TE) throw new TypeError("[unstorage] Buffer is not supported!") } const OE = "base64:"; function RE(e) { return e ? e.split("?")[0].replace(/[/\\]/g, ":").replace(/:+/g, ":").replace(/^:|:$/g, "") : "" } function jE(...e) { return RE(e.join(":")) } function $E(e) { return (e = RE(e)) ? e + ":" : "" } const LE = () => { const e = new Map; return { name: "memory", getInstance: () => e, hasItem: t => e.has(t), getItem: t => e.get(t) ?? null, getItemRaw: t => e.get(t) ?? null, setItem(t, n) { e.set(t, n) }, setItemRaw(t, n) { e.set(t, n) }, removeItem(t) { e.delete(t) }, getKeys: () => [...e.keys()], clear() { e.clear() }, dispose() { e.clear() } } }; function DE(e = {}) { const t = { mounts: { "": e.driver || LE() }, mountpoints: [""], watching: !1, watchListeners: [], unwatch: {} }, n = e => { for (const n of t.mountpoints) if (e.startsWith(n)) return { base: n, relativeKey: e.slice(n.length), driver: t.mounts[n] }; return { base: "", relativeKey: e, driver: t.mounts[""] } }, r = (e, n) => t.mountpoints.filter((t => t.startsWith(e) || n && e.startsWith(t))).map((n => ({ relativeBase: e.length > n.length ? e.slice(n.length) : void 0, mountpoint: n, driver: t.mounts[n] }))), i = (e, n) => { if (t.watching) { n = RE(n); for (const r of t.watchListeners) r(e, n) } }, o = async () => { if (t.watching) { for (const e in t.unwatch) await t.unwatch[e](); t.unwatch = {}, t.watching = !1 } }, s = (e, t, r) => { const i = new Map, o = e => { let t = i.get(e.base); return t || (t = { driver: e.driver, base: e.base, items: [] }, i.set(e.base, t)), t }; for (const s of e) { const e = "string" === typeof s, r = RE(e ? s : s.key), i = e ? void 0 : s.value, a = e || !s.options ? t : { ...t, ...s.options }, c = n(r); o(c).items.push({ key: r, value: i, relativeKey: c.relativeKey, options: a }) } return Promise.all([...i.values()].map((e => r(e)))).then((e => e.flat())) }, a = { hasItem(e, t = {}) { e = RE(e); const { relativeKey: r, driver: i } = n(e); return NE(i.hasItem, r, t) }, getItem(e, t = {}) { e = RE(e); const { relativeKey: r, driver: i } = n(e); return NE(i.getItem, r, t).then((e => (0, IE.ZP)(e))) }, getItems: (e, t) => s(e, t, (e => e.driver.getItems ? NE(e.driver.getItems, e.items.map((e => ({ key: e.relativeKey, options: e.options }))), t).then((t => t.map((t => ({ key: jE(e.base, t.key), value: (0, IE.ZP)(t.value) }))))) : Promise.all(e.items.map((t => NE(e.driver.getItem, t.relativeKey, t.options).then((e => ({ key: t.key, value: (0, IE.ZP)(e) })))))))), getItemRaw(e, t = {}) { e = RE(e); const { relativeKey: r, driver: i } = n(e); return i.getItemRaw ? NE(i.getItemRaw, r, t) : NE(i.getItem, r, t).then((e => function (e) { return "string" !== typeof e ? e : e.startsWith(OE) ? (ME(), TE.from(e.slice(OE.length), "base64")) : e }(e))) }, async setItem(e, t, r = {}) { if (void 0 === t) return a.removeItem(e); e = RE(e); const { relativeKey: o, driver: s } = n(e); s.setItem && (await NE(s.setItem, o, PE(t), r), s.watch || i("update", e)) }, async setItems(e, t) { await s(e, t, (async e => { if (e.driver.setItems) return NE(e.driver.setItems, e.items.map((e => ({ key: e.relativeKey, value: PE(e.value), options: e.options }))), t); e.driver.setItem && await Promise.all(e.items.map((t => NE(e.driver.setItem, t.relativeKey, PE(t.value), t.options)))) })) }, async setItemRaw(e, t, r = {}) { if (void 0 === t) return a.removeItem(e, r); e = RE(e); const { relativeKey: o, driver: s } = n(e); if (s.setItemRaw) await NE(s.setItemRaw, o, t, r); else { if (!s.setItem) return; await NE(s.setItem, o, function (e) { if ("string" === typeof e) return e; ME(); const t = TE.from(e).toString("base64"); return OE + t }(t), r) } s.watch || i("update", e) }, async removeItem(e, t = {}) { "boolean" === typeof t && (t = { removeMeta: t }), e = RE(e); const { relativeKey: r, driver: o } = n(e); o.removeItem && (await NE(o.removeItem, r, t), (t.removeMeta || t.removeMata) && await NE(o.removeItem, r + "$", t), o.watch || i("remove", e)) }, async getMeta(e, t = {}) { "boolean" === typeof t && (t = { nativeOnly: t }), e = RE(e); const { relativeKey: r, driver: i } = n(e), o = Object.create(null); if (i.getMeta && Object.assign(o, await NE(i.getMeta, r, t)), !t.nativeOnly) { const e = await NE(i.getItem, r + "$", t).then((e => (0, IE.ZP)(e))); e && "object" === typeof e && ("string" === typeof e.atime && (e.atime = new Date(e.atime)), "string" === typeof e.mtime && (e.mtime = new Date(e.mtime)), Object.assign(o, e)) } return o }, setMeta(e, t, n = {}) { return this.setItem(e + "$", t, n) }, removeMeta(e, t = {}) { return this.removeItem(e + "$", t) }, async getKeys(e, t = {}) { e = $E(e); const n = r(e, !0); let i = []; const o = []; for (const r of n) { const e = await NE(r.driver.getKeys, r.relativeBase, t); for (const t of e) { const e = r.mountpoint + RE(t); i.some((t => e.startsWith(t))) || o.push(e) } i = [r.mountpoint, ...i.filter((e => !e.startsWith(r.mountpoint)))] } return e ? o.filter((t => t.startsWith(e) && "$" !== t[t.length - 1])) : o.filter((e => "$" !== e[e.length - 1])) }, async clear(e, t = {}) { e = $E(e), await Promise.all(r(e, !1).map((async e => { if (e.driver.clear) return NE(e.driver.clear, e.relativeBase, t); if (e.driver.removeItem) { const n = await e.driver.getKeys(e.relativeBase || "", t); return Promise.all(n.map((n => e.driver.removeItem(n, t)))) } }))) }, async dispose() { await Promise.all(Object.values(t.mounts).map((e => FE(e)))) }, watch: async e => (await (async () => { if (!t.watching) { t.watching = !0; for (const e in t.mounts) t.unwatch[e] = await UE(t.mounts[e], i, e) } })(), t.watchListeners.push(e), async () => { t.watchListeners = t.watchListeners.filter((t => t !== e)), 0 === t.watchListeners.length && await o() }), async unwatch() { t.watchListeners = [], await o() }, mount(e, n) { if ((e = $E(e)) && t.mounts[e]) throw new Error(`already mounted at ${e}`); return e && (t.mountpoints.push(e), t.mountpoints.sort(((e, t) => t.length - e.length))), t.mounts[e] = n, t.watching && Promise.resolve(UE(n, i, e)).then((n => { t.unwatch[e] = n })).catch(console.error), a }, async unmount(e, n = !0) { (e = $E(e)) && t.mounts[e] && (t.watching && e in t.unwatch && (t.unwatch[e](), delete t.unwatch[e]), n && await FE(t.mounts[e]), t.mountpoints = t.mountpoints.filter((t => t !== e)), delete t.mounts[e]) }, getMount(e = "") { e = RE(e) + ":"; const t = n(e); return { driver: t.driver, base: t.base } }, getMounts(e = "", t = {}) { e = RE(e); return r(e, t.parents).map((e => ({ driver: e.driver, base: e.mountpoint }))) }, keys: (e, t = {}) => a.getKeys(e, t), get: (e, t = {}) => a.getItem(e, t), set: (e, t, n = {}) => a.setItem(e, t, n), has: (e, t = {}) => a.hasItem(e, t), del: (e, t = {}) => a.removeItem(e, t), remove: (e, t = {}) => a.removeItem(e, t) }; return a } function UE(e, t, n) { return e.watch ? e.watch(((e, r) => t(e, n + r))) : () => { } } async function FE(e) { "function" === typeof e.dispose && await NE(e.dispose) } function BE(e) { return new Promise(((t, n) => { e.oncomplete = e.onsuccess = () => t(e.result), e.onabort = e.onerror = () => n(e.error) })) } function WE(e, t) { const n = indexedDB.open(e); n.onupgradeneeded = () => n.result.createObjectStore(t); const r = BE(n); return (e, n) => r.then((r => n(r.transaction(t, e).objectStore(t)))) } let zE; function qE() { return zE || (zE = WE("keyval-store", "keyval")), zE } function HE(e, t = qE()) { return t("readonly", (t => BE(t.get(e)))) } function GE(e, t) { return e.openCursor().onsuccess = function () { this.result && (t(this.result), this.result.continue()) }, BE(e.transaction) } var VE = (e = {}) => { const t = e.base && e.base.length > 0 ? `${e.base}:` : "", n = e => t + e; let r; return e.dbName && e.storeName && (r = WE(e.dbName, e.storeName)), { name: "idb-keyval", options: e, hasItem: async e => !(typeof (await HE(n(e), r)) > "u"), getItem: async e => await HE(n(e), r) ?? null, setItem: (e, t) => function (e, t, n = qE()) { return n("readwrite", (n => (n.put(t, e), BE(n.transaction)))) }(n(e), t, r), removeItem: e => function (e, t = qE()) { return t("readwrite", (t => (t.delete(e), BE(t.transaction)))) }(n(e), r), getKeys: () => function (e = qE()) { return e("readonly", (e => { if (e.getAllKeys) return BE(e.getAllKeys()); const t = []; return GE(e, (e => t.push(e.key))).then((() => t)) })) }(r), clear: () => function (e = qE()) { return e("readwrite", (e => (e.clear(), BE(e.transaction)))) }(r) } }; class KE { constructor() { this.indexedDb = DE({ driver: VE({ dbName: "WALLET_CONNECT_V2_INDEXED_DB", storeName: "keyvaluestorage" }) }) } async getKeys() { return this.indexedDb.getKeys() } async getEntries() { return (await this.indexedDb.getItems(await this.indexedDb.getKeys())).map((e => [e.key, e.value])) } async getItem(e) { const t = await this.indexedDb.getItem(e); if (null !== t) return t } async setItem(e, t) { await this.indexedDb.setItem(e, Kb(t)) } async removeItem(e) { await this.indexedDb.removeItem(e) } } var YE = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof n.g < "u" ? n.g : typeof self < "u" ? self : {}, ZE = { exports: {} }; function XE(e) { var t; return [e[0], Vb(null != (t = e[1]) ? t : "")] } !function () { let e; function t() { } e = t, e.prototype.getItem = function (e) { return this.hasOwnProperty(e) ? String(this[e]) : null }, e.prototype.setItem = function (e, t) { this[e] = String(t) }, e.prototype.removeItem = function (e) { delete this[e] }, e.prototype.clear = function () { const e = this; Object.keys(e).forEach((function (t) { e[t] = void 0, delete e[t] })) }, e.prototype.key = function (e) { return e = e || 0, Object.keys(this)[e] }, e.prototype.__defineGetter__("length", (function () { return Object.keys(this).length })), typeof YE < "u" && YE.localStorage ? ZE.exports = YE.localStorage : typeof window < "u" && window.localStorage ? ZE.exports = window.localStorage : ZE.exports = new t }(); class JE { constructor() { this.localStorage = ZE.exports } async getKeys() { return Object.keys(this.localStorage) } async getEntries() { return Object.entries(this.localStorage).map(XE) } async getItem(e) { const t = this.localStorage.getItem(e); if (null !== t) return Vb(t) } async setItem(e, t) { this.localStorage.setItem(e, Kb(t)) } async removeItem(e) { this.localStorage.removeItem(e) } } const QE = async (e, t) => { t.length && t.forEach((async t => { await e.removeItem(t) })) }; class ex { constructor() { this.initialized = !1, this.setInitialized = e => { this.storage = e, this.initialized = !0 }; const e = new JE; this.storage = e; try { (async (e, t, n) => { const r = "wc_storage_version", i = await t.getItem(r); if (i && i >= 1) return void n(t); const o = await e.getKeys(); if (!o.length) return void n(t); const s = []; for (; o.length;) { const n = o.shift(); if (!n) continue; const r = n.toLowerCase(); if (r.includes("wc@") || r.includes("walletconnect") || r.includes("wc_") || r.includes("wallet_connect")) { const r = await e.getItem(n); await t.setItem(n, r), s.push(n) } } await t.setItem(r, 1), n(t), QE(e, s) })(e, new KE, this.setInitialized) } catch { this.initialized = !0 } } async getKeys() { return await this.initialize(), this.storage.getKeys() } async getEntries() { return await this.initialize(), this.storage.getEntries() } async getItem(e) { return await this.initialize(), this.storage.getItem(e) } async setItem(e, t) { return await this.initialize(), this.storage.setItem(e, t) } async removeItem(e) { return await this.initialize(), this.storage.removeItem(e) } async initialize() { this.initialized || await new Promise((e => { const t = setInterval((() => { this.initialized && (clearInterval(t), e()) }), 20) })) } } var tx = n(36559), nx = n.n(tx); const rx = "info"; class ix { constructor(e) { this.nodeValue = e, this.sizeInBytes = (new TextEncoder).encode(this.nodeValue).length, this.next = null } get value() { return this.nodeValue } get size() { return this.sizeInBytes } } class ox { constructor(e) { this.head = null, this.tail = null, this.lengthInNodes = 0, this.maxSizeInBytes = e, this.sizeInBytes = 0 } append(e) { const t = new ix(e); if (t.size > this.maxSizeInBytes) throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`); for (; this.size + t.size > this.maxSizeInBytes;)this.shift(); this.head ? (this.tail && (this.tail.next = t), this.tail = t) : (this.head = t, this.tail = t), this.lengthInNodes++, this.sizeInBytes += t.size } shift() { if (!this.head) return; const e = this.head; this.head = this.head.next, this.head || (this.tail = null), this.lengthInNodes--, this.sizeInBytes -= e.size } toArray() { const e = []; let t = this.head; for (; null !== t;)e.push(t.value), t = t.next; return e } get length() { return this.lengthInNodes } get size() { return this.sizeInBytes } toOrderedArray() { return Array.from(this) } [Symbol.iterator]() { let e = this.head; return { next: () => { if (!e) return { done: !0, value: null }; const t = e.value; return e = e.next, { done: !1, value: t } } } } } class sx { constructor(e, t = 1024e3) { this.level = e ?? "error", this.levelValue = tx.levels.values[this.level], this.MAX_LOG_SIZE_IN_BYTES = t, this.logs = new ox(this.MAX_LOG_SIZE_IN_BYTES) } forwardToConsole(e, t) { t === tx.levels.values.error ? console.error(e) : t === tx.levels.values.warn ? console.warn(e) : t === tx.levels.values.debug ? console.debug(e) : t === tx.levels.values.trace ? console.trace(e) : console.log(e) } appendToLogs(e) { this.logs.append(Kb({ timestamp: (new Date).toISOString(), log: e })); const t = "string" == typeof e ? JSON.parse(e).level : e.level; t >= this.levelValue && this.forwardToConsole(e, t) } getLogs() { return this.logs } clearLogs() { this.logs = new ox(this.MAX_LOG_SIZE_IN_BYTES) } getLogArray() { return Array.from(this.logs) } logsToBlob(e) { const t = this.getLogArray(); return t.push(Kb({ extraMetadata: e })), new Blob(t, { type: "application/json" }) } } class ax { constructor(e, t = 1024e3) { this.baseChunkLogger = new sx(e, t) } write(e) { this.baseChunkLogger.appendToLogs(e) } getLogs() { return this.baseChunkLogger.getLogs() } clearLogs() { this.baseChunkLogger.clearLogs() } getLogArray() { return this.baseChunkLogger.getLogArray() } logsToBlob(e) { return this.baseChunkLogger.logsToBlob(e) } downloadLogsBlobInBrowser(e) { const t = URL.createObjectURL(this.logsToBlob(e)), n = document.createElement("a"); n.href = t, n.download = `walletconnect-logs-${(new Date).toISOString()}.txt`, document.body.appendChild(n), n.click(), document.body.removeChild(n), URL.revokeObjectURL(t) } } class cx { constructor(e, t = 1024e3) { this.baseChunkLogger = new sx(e, t) } write(e) { this.baseChunkLogger.appendToLogs(e) } getLogs() { return this.baseChunkLogger.getLogs() } clearLogs() { this.baseChunkLogger.clearLogs() } getLogArray() { return this.baseChunkLogger.getLogArray() } logsToBlob(e) { return this.baseChunkLogger.logsToBlob(e) } } var lx = Object.defineProperty, ux = Object.defineProperties, dx = Object.getOwnPropertyDescriptors, hx = Object.getOwnPropertySymbols, fx = Object.prototype.hasOwnProperty, px = Object.prototype.propertyIsEnumerable, mx = (e, t, n) => t in e ? lx(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, gx = (e, t) => { for (var n in t || (t = {})) fx.call(t, n) && mx(e, n, t[n]); if (hx) for (var n of hx(t)) px.call(t, n) && mx(e, n, t[n]); return e }, yx = (e, t) => ux(e, dx(t)); function bx(e) { return yx(gx({}, e), { level: e?.level || rx }) } function vx(e, t = "custom_context") { let n = ""; return n = typeof e.bindings > "u" ? function (e, t = "custom_context") { return e[t] || "" }(e, t) : e.bindings().context || "", n } function wx(e, t, n = "custom_context") { const r = function (e, t, n = "custom_context") { const r = vx(e, n); return r.trim() ? `${r}/${t}` : t }(e, t, n); return function (e, t, n = "custom_context") { return e[n] = t, e }(e.child({ context: r }), r, n) } function Ex(e) { return typeof e.loggerOverride < "u" && "string" != typeof e.loggerOverride ? { logger: e.loggerOverride, chunkLoggerController: null } : typeof window < "u" ? function (e) { var t, n; const r = new ax(null == (t = e.opts) ? void 0 : t.level, e.maxSizeInBytes); return { logger: nx()(yx(gx({}, e.opts), { level: "trace", browser: yx(gx({}, null == (n = e.opts) ? void 0 : n.browser), { write: e => r.write(e) }) })), chunkLoggerController: r } }(e) : function (e) { var t; const n = new cx(null == (t = e.opts) ? void 0 : t.level, e.maxSizeInBytes); return { logger: nx()(yx(gx({}, e.opts), { level: "trace" }), n), chunkLoggerController: n } }(e) } class xx extends _E { constructor(e) { super(), this.opts = e, this.protocol = "wc", this.version = 2 } } class _x extends _E { constructor(e, t) { super(), this.core = e, this.logger = t, this.records = new Map } } class Cx extends _E { constructor(e, t) { super(), this.relayer = e, this.logger = t } } class Ax extends _E { constructor(e) { super() } } class Sx extends _E { constructor(e, t) { super(), this.relayer = e, this.logger = t } } class kx extends _E { constructor(e, t) { super(), this.core = e, this.logger = t } } const Ix = "INTERNAL_ERROR", Tx = "SERVER_ERROR", Nx = [-32700, -32600, -32601, -32602, -32603], Px = { PARSE_ERROR: { code: -32700, message: "Parse error" }, INVALID_REQUEST: { code: -32600, message: "Invalid Request" }, METHOD_NOT_FOUND: { code: -32601, message: "Method not found" }, INVALID_PARAMS: { code: -32602, message: "Invalid params" }, [Ix]: { code: -32603, message: "Internal error" }, [Tx]: { code: -32e3, message: "Server error" } }; function Mx(e) { return Nx.includes(e) } function Ox(e) { return Object.keys(Px).includes(e) ? Px[e] : Px.SERVER_ERROR } function Rx(e) { const t = Object.values(Px).find((t => t.code === e)); return t || Px.SERVER_ERROR } function jx(e, t, n) { return e.message.includes("getaddrinfo ENOTFOUND") || e.message.includes("connect ECONNREFUSED") ? new Error(`Unavailable ${n} RPC url at ${t}`) : e } var $x = n(1468); function Lx(e = 3) { return Date.now() * Math.pow(10, e) + Math.floor(Math.random() * Math.pow(10, e)) } function Dx(e = 6) { return BigInt(Lx(e)) } function Ux(e, t, n) { return { id: n || Lx(), jsonrpc: "2.0", method: e, params: t } } function Fx(e, t) { return { id: e, jsonrpc: "2.0", result: t } } function Bx(e, t, n) { return { id: e, jsonrpc: "2.0", error: Wx(t, n) } } function Wx(e, t) { return "undefined" === typeof e ? Ox(Ix) : ("string" === typeof e && (e = Object.assign(Object.assign({}, Ox(Tx)), { message: e })), "undefined" !== typeof t && (e.data = t), Mx(e.code) && (e = Rx(e.code)), e) } class zx { } class qx extends zx { constructor() { super() } } class Hx extends qx { constructor(e) { super() } } function Gx(e, t) { const n = function (e) { const t = e.match(new RegExp(/^\w+:/, "gi")); if (t && t.length) return t[0] }(e); return "undefined" !== typeof n && new RegExp(t).test(n) } function Vx(e) { return Gx(e, "^https?:") } function Kx(e) { return Gx(e, "^wss?:") } function Yx(e) { return "object" === typeof e && "id" in e && "jsonrpc" in e && "2.0" === e.jsonrpc } function Zx(e) { return Yx(e) && "method" in e } function Xx(e) { return Yx(e) && (Jx(e) || Qx(e)) } function Jx(e) { return "result" in e } function Qx(e) { return "error" in e } class e_ extends Hx { constructor(e) { super(e), this.events = new Bg.EventEmitter, this.hasRegisteredEventListeners = !1, this.connection = this.setConnection(e), this.connection.connected && this.registerEventListeners() } async connect(e = this.connection) { await this.open(e) } async disconnect() { await this.close() } on(e, t) { this.events.on(e, t) } once(e, t) { this.events.once(e, t) } off(e, t) { this.events.off(e, t) } removeListener(e, t) { this.events.removeListener(e, t) } async request(e, t) { return this.requestStrict(Ux(e.method, e.params || [], e.id || Dx().toString()), t) } async requestStrict(e, t) { return new Promise((async (n, r) => { if (!this.connection.connected) try { await this.open() } catch (i) { r(i) } this.events.on(`${e.id}`, (e => { Qx(e) ? r(e.error) : n(e.result) })); try { await this.connection.send(e, t) } catch (i) { r(i) } })) } setConnection(e = this.connection) { return e } onPayload(e) { this.events.emit("payload", e), Xx(e) ? this.events.emit(`${e.id}`, e) : this.events.emit("message", { type: e.method, data: e.params }) } onClose(e) { e && 3e3 === e.code && this.events.emit("error", new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason ? `(${e.reason})` : ""}`)), this.events.emit("disconnect") } async open(e = this.connection) { this.connection === e && this.connection.connected || (this.connection.connected && this.close(), "string" == typeof e && (await this.connection.open(e), e = this.connection), this.connection = this.setConnection(e), await this.connection.open(), this.registerEventListeners(), this.events.emit("connect")) } async close() { await this.connection.close() } registerEventListeners() { this.hasRegisteredEventListeners || (this.connection.on("payload", (e => this.onPayload(e))), this.connection.on("close", (e => this.onClose(e))), this.connection.on("error", (e => this.events.emit("error", e))), this.connection.on("register_error", (e => this.onClose())), this.hasRegisteredEventListeners = !0) } } const t_ = e => e.split("?")[0], n_ = typeof WebSocket < "u" ? WebSocket : typeof n.g < "u" && typeof n.g.WebSocket < "u" ? n.g.WebSocket : typeof window < "u" && typeof window.WebSocket < "u" ? window.WebSocket : typeof self < "u" && typeof self.WebSocket < "u" ? self.WebSocket : n(72030); class r_ { constructor(e) { if (this.url = e, this.events = new Bg.EventEmitter, this.registering = !1, !Kx(e)) throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`); this.url = e } get connected() { return typeof this.socket < "u" } get connecting() { return this.registering } on(e, t) { this.events.on(e, t) } once(e, t) { this.events.once(e, t) } off(e, t) { this.events.off(e, t) } removeListener(e, t) { this.events.removeListener(e, t) } async open(e = this.url) { await this.register(e) } async close() { return new Promise(((e, t) => { typeof this.socket > "u" ? t(new Error("Connection already closed")) : (this.socket.onclose = t => { this.onClose(t), e() }, this.socket.close()) })) } async send(e) { typeof this.socket > "u" && (this.socket = await this.register()); try { this.socket.send(Kb(e)) } catch (t) { this.onError(e.id, t) } } register(e = this.url) { if (!Kx(e)) throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`); if (this.registering) { const e = this.events.getMaxListeners(); return (this.events.listenerCount("register_error") >= e || this.events.listenerCount("open") >= e) && this.events.setMaxListeners(e + 1), new Promise(((e, t) => { this.events.once("register_error", (e => { this.resetMaxListeners(), t(e) })), this.events.once("open", (() => { if (this.resetMaxListeners(), typeof this.socket > "u") return t(new Error("WebSocket connection is missing or invalid")); e(this.socket) })) })) } return this.url = e, this.registering = !0, new Promise(((t, r) => { const i = new URLSearchParams(e).get("origin"), o = (0, $x.isReactNative)() ? { headers: { origin: i } } : { rejectUnauthorized: (a = e, !new RegExp("wss?://localhost(:d{2,5})?").test(a)) }, s = new n_(e, [], o); var a; typeof WebSocket < "u" || typeof n.g < "u" && typeof n.g.WebSocket < "u" || typeof window < "u" && typeof window.WebSocket < "u" || typeof self < "u" && typeof self.WebSocket < "u" ? s.onerror = e => { const t = e; r(this.emitError(t.error)) } : s.on("error", (e => { r(this.emitError(e)) })), s.onopen = () => { this.onOpen(s), t(s) } })) } onOpen(e) { e.onmessage = e => this.onPayload(e), e.onclose = e => this.onClose(e), this.socket = e, this.registering = !1, this.events.emit("open") } onClose(e) { this.socket = void 0, this.registering = !1, this.events.emit("close", e) } onPayload(e) { if (typeof e.data > "u") return; const t = "string" == typeof e.data ? Vb(e.data) : e.data; this.events.emit("payload", t) } onError(e, t) { const n = this.parseError(t), r = Bx(e, n.message || n.toString()); this.events.emit("payload", r) } parseError(e, t = this.url) { return jx(e, t_(t), "WS") } resetMaxListeners() { this.events.getMaxListeners() > 10 && this.events.setMaxListeners(10) } emitError(e) { const t = this.parseError(new Error(e?.message || `WebSocket connection failed for host: ${t_(this.url)}`)); return this.events.emit("register_error", t), t } } var i_ = n(72307), o_ = n.n(i_); const s_ = "core", a_ = "wc@2:core:", c_ = "error", l_ = { database: ":memory:" }, u_ = "client_ed25519_seed", d_ = ny.ONE_DAY, h_ = ny.SIX_HOURS, f_ = "wss://relay.walletconnect.org", p_ = "relayer_message", m_ = "relayer_message_ack", g_ = "relayer_connect", y_ = "relayer_disconnect", b_ = "relayer_error", v_ = "relayer_connection_stalled", w_ = "relayer_publish", E_ = "payload", x_ = "connect", __ = "disconnect", C_ = "error", A_ = "2.17.2", S_ = { link_mode: "link_mode", relay: "relay" }, k_ = "WALLETCONNECT_LINK_MODE_APPS", I_ = "subscription_created", T_ = "subscription_deleted", N_ = "subscription_sync", P_ = "subscription_resubscribed", M_ = 1e3 * ny.FIVE_SECONDS, O_ = { wc_pairingDelete: { req: { ttl: ny.ONE_DAY, prompt: !1, tag: 1e3 }, res: { ttl: ny.ONE_DAY, prompt: !1, tag: 1001 } }, wc_pairingPing: { req: { ttl: ny.THIRTY_SECONDS, prompt: !1, tag: 1002 }, res: { ttl: ny.THIRTY_SECONDS, prompt: !1, tag: 1003 } }, unregistered_method: { req: { ttl: ny.ONE_DAY, prompt: !1, tag: 0 }, res: { ttl: ny.ONE_DAY, prompt: !1, tag: 0 } } }, R_ = "pairing_create", j_ = "pairing_expire", $_ = "pairing_delete", L_ = "pairing_ping", D_ = "history_created", U_ = "history_updated", F_ = "history_deleted", B_ = "history_sync", W_ = "expirer_created", z_ = "expirer_deleted", q_ = "expirer_expired", H_ = "expirer_sync", G_ = "https://verify.walletconnect.org", V_ = G_, K_ = `${V_}/v3`, Y_ = ["https://verify.walletconnect.com", G_], Z_ = "pairing_started", X_ = "pairing_uri_validation_success", J_ = "pairing_uri_not_expired", Q_ = "store_new_pairing", eC = "subscribing_pairing_topic", tC = "subscribe_pairing_topic_success", nC = "existing_pairing", rC = "pairing_not_expired", iC = "emit_inactive_pairing", oC = "emit_session_proposal", sC = "no_internet_connection", aC = "malformed_pairing_uri", cC = "active_pairing_already_exists", lC = "subscribe_pairing_topic_failure", uC = "pairing_expired", dC = "proposal_listener_not_found", hC = "session_approve_started", fC = "session_namespaces_validation_success", pC = "subscribing_session_topic", mC = "subscribe_session_topic_success", gC = "publishing_session_approve", yC = "session_approve_publish_success", bC = "store_session", vC = "publishing_session_settle", wC = "session_settle_publish_success", EC = "no_internet_connection", xC = "proposal_expired", _C = "subscribe_session_topic_failure", CC = "session_approve_publish_failure", AC = "session_settle_publish_failure", SC = "session_approve_namespace_validation_failure", kC = "proposal_not_found", IC = "authenticated_session_approve_started", TC = "create_authenticated_session_topic", NC = "cacaos_verified", PC = "store_authenticated_session", MC = "subscribing_authenticated_session_topic", OC = "subscribe_authenticated_session_topic_success", RC = "publishing_authenticated_session_approve", jC = "no_internet_connection", $C = "invalid_cacao", LC = "subscribe_authenticated_session_topic_failure", DC = "authenticated_session_approve_publish_failure", UC = "authenticated_session_pending_request_not_found"; var FC = function (e, t) { if (e.length >= 255) throw new TypeError("Alphabet too long"); for (var n = new Uint8Array(256), r = 0; r < n.length; r++)n[r] = 255; for (var i = 0; i < e.length; i++) { var o = e.charAt(i), s = o.charCodeAt(0); if (255 !== n[s]) throw new TypeError(o + " is ambiguous"); n[s] = i } var a = e.length, c = e.charAt(0), l = Math.log(a) / Math.log(256), u = Math.log(256) / Math.log(a); function d(e) { if ("string" != typeof e) throw new TypeError("Expected String"); if (0 === e.length) return new Uint8Array; var t = 0; if (" " !== e[t]) { for (var r = 0, i = 0; e[t] === c;)r++, t++; for (var o = (e.length - t) * l + 1 >>> 0, s = new Uint8Array(o); e[t];) { var u = n[e.charCodeAt(t)]; if (255 === u) return; for (var d = 0, h = o - 1; (0 !== u || d < i) && -1 !== h; h--, d++)u += a * s[h] >>> 0, s[h] = u % 256 >>> 0, u = u / 256 >>> 0; if (0 !== u) throw new Error("Non-zero carry"); i = d, t++ } if (" " !== e[t]) { for (var f = o - i; f !== o && 0 === s[f];)f++; for (var p = new Uint8Array(r + (o - f)), m = r; f !== o;)p[m++] = s[f++]; return p } } } return { encode: function (t) { if (t instanceof Uint8Array || (ArrayBuffer.isView(t) ? t = new Uint8Array(t.buffer, t.byteOffset, t.byteLength) : Array.isArray(t) && (t = Uint8Array.from(t))), !(t instanceof Uint8Array)) throw new TypeError("Expected Uint8Array"); if (0 === t.length) return ""; for (var n = 0, r = 0, i = 0, o = t.length; i !== o && 0 === t[i];)i++, n++; for (var s = (o - i) * u + 1 >>> 0, l = new Uint8Array(s); i !== o;) { for (var d = t[i], h = 0, f = s - 1; (0 !== d || h < r) && -1 !== f; f--, h++)d += 256 * l[f] >>> 0, l[f] = d % a >>> 0, d = d / a >>> 0; if (0 !== d) throw new Error("Non-zero carry"); r = h, i++ } for (var p = s - r; p !== s && 0 === l[p];)p++; for (var m = c.repeat(n); p < s; ++p)m += e.charAt(l[p]); return m }, decodeUnsafe: d, decode: function (e) { var n = d(e); if (n) return n; throw new Error(`Non-${t} character`) } } }; const BC = e => { if (e instanceof Uint8Array && "Uint8Array" === e.constructor.name) return e; if (e instanceof ArrayBuffer) return new Uint8Array(e); if (ArrayBuffer.isView(e)) return new Uint8Array(e.buffer, e.byteOffset, e.byteLength); throw new Error("Unknown type, must be binary type") }; class WC { constructor(e, t, n) { this.name = e, this.prefix = t, this.baseEncode = n } encode(e) { if (e instanceof Uint8Array) return `${this.prefix}${this.baseEncode(e)}`; throw Error("Unknown type, must be binary type") } } class zC { constructor(e, t, n) { if (this.name = e, this.prefix = t, void 0 === t.codePointAt(0)) throw new Error("Invalid prefix character"); this.prefixCodePoint = t.codePointAt(0), this.baseDecode = n } decode(e) { if ("string" == typeof e) { if (e.codePointAt(0) !== this.prefixCodePoint) throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`); return this.baseDecode(e.slice(this.prefix.length)) } throw Error("Can only multibase decode strings") } or(e) { return HC(this, e) } } class qC { constructor(e) { this.decoders = e } or(e) { return HC(this, e) } decode(e) { const t = e[0], n = this.decoders[t]; if (n) return n.decode(e); throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`) } } const HC = (e, t) => new qC({ ...e.decoders || { [e.prefix]: e }, ...t.decoders || { [t.prefix]: t } }); class GC { constructor(e, t, n, r) { this.name = e, this.prefix = t, this.baseEncode = n, this.baseDecode = r, this.encoder = new WC(e, t, n), this.decoder = new zC(e, t, r) } encode(e) { return this.encoder.encode(e) } decode(e) { return this.decoder.decode(e) } } const VC = ({ name: e, prefix: t, encode: n, decode: r }) => new GC(e, t, n, r), KC = ({ prefix: e, name: t, alphabet: n }) => { const { encode: r, decode: i } = FC(n, t); return VC({ prefix: e, name: t, encode: r, decode: e => BC(i(e)) }) }, YC = ({ name: e, prefix: t, bitsPerChar: n, alphabet: r }) => VC({ prefix: t, name: e, encode: e => ((e, t, n) => { const r = "=" === t[t.length - 1], i = (1 << n) - 1; let o = "", s = 0, a = 0; for (let c = 0; c < e.length; ++c)for (a = a << 8 | e[c], s += 8; s > n;)s -= n, o += t[i & a >> s]; if (s && (o += t[i & a << n - s]), r) for (; o.length * n & 7;)o += "="; return o })(e, r, n), decode: t => ((e, t, n, r) => { const i = {}; for (let u = 0; u < t.length; ++u)i[t[u]] = u; let o = e.length; for (; "=" === e[o - 1];)--o; const s = new Uint8Array(o * n / 8 | 0); let a = 0, c = 0, l = 0; for (let u = 0; u < o; ++u) { const t = i[e[u]]; if (void 0 === t) throw new SyntaxError(`Non-${r} character`); c = c << n | t, a += n, a >= 8 && (a -= 8, s[l++] = 255 & c >> a) } if (a >= n || 255 & c << 8 - a) throw new SyntaxError("Unexpected end of data"); return s })(t, r, n, e) }), ZC = VC({ prefix: "\0", name: "identity", encode: e => (e => (new TextDecoder).decode(e))(e), decode: e => (e => (new TextEncoder).encode(e))(e) }); var XC = Object.freeze({ __proto__: null, identity: ZC }); const JC = YC({ prefix: "0", name: "base2", alphabet: "01", bitsPerChar: 1 }); var QC = Object.freeze({ __proto__: null, base2: JC }); const eA = YC({ prefix: "7", name: "base8", alphabet: "01234567", bitsPerChar: 3 }); var tA = Object.freeze({ __proto__: null, base8: eA }); const nA = KC({ prefix: "9", name: "base10", alphabet: "0123456789" }); var rA = Object.freeze({ __proto__: null, base10: nA }); const iA = YC({ prefix: "f", name: "base16", alphabet: "0123456789abcdef", bitsPerChar: 4 }), oA = YC({ prefix: "F", name: "base16upper", alphabet: "0123456789ABCDEF", bitsPerChar: 4 }); var sA = Object.freeze({ __proto__: null, base16: iA, base16upper: oA }); const aA = YC({ prefix: "b", name: "base32", alphabet: "abcdefghijklmnopqrstuvwxyz234567", bitsPerChar: 5 }), cA = YC({ prefix: "B", name: "base32upper", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567", bitsPerChar: 5 }), lA = YC({ prefix: "c", name: "base32pad", alphabet: "abcdefghijklmnopqrstuvwxyz234567=", bitsPerChar: 5 }), uA = YC({ prefix: "C", name: "base32padupper", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=", bitsPerChar: 5 }), dA = YC({ prefix: "v", name: "base32hex", alphabet: "0123456789abcdefghijklmnopqrstuv", bitsPerChar: 5 }), hA = YC({ prefix: "V", name: "base32hexupper", alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV", bitsPerChar: 5 }), fA = YC({ prefix: "t", name: "base32hexpad", alphabet: "0123456789abcdefghijklmnopqrstuv=", bitsPerChar: 5 }), pA = YC({ prefix: "T", name: "base32hexpadupper", alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV=", bitsPerChar: 5 }), mA = YC({ prefix: "h", name: "base32z", alphabet: "ybndrfg8ejkmcpqxot1uwisza345h769", bitsPerChar: 5 }); var gA = Object.freeze({ __proto__: null, base32: aA, base32upper: cA, base32pad: lA, base32padupper: uA, base32hex: dA, base32hexupper: hA, base32hexpad: fA, base32hexpadupper: pA, base32z: mA }); const yA = KC({ prefix: "k", name: "base36", alphabet: "0123456789abcdefghijklmnopqrstuvwxyz" }), bA = KC({ prefix: "K", name: "base36upper", alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ" }); var vA = Object.freeze({ __proto__: null, base36: yA, base36upper: bA }); const wA = KC({ name: "base58btc", prefix: "z", alphabet: "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz" }), EA = KC({ name: "base58flickr", prefix: "Z", alphabet: "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ" }); var xA = Object.freeze({ __proto__: null, base58btc: wA, base58flickr: EA }); const _A = YC({ prefix: "m", name: "base64", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", bitsPerChar: 6 }), CA = YC({ prefix: "M", name: "base64pad", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", bitsPerChar: 6 }), AA = YC({ prefix: "u", name: "base64url", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_", bitsPerChar: 6 }), SA = YC({ prefix: "U", name: "base64urlpad", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=", bitsPerChar: 6 }); var kA = Object.freeze({ __proto__: null, base64: _A, base64pad: CA, base64url: AA, base64urlpad: SA }); const IA = Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"), TA = IA.reduce(((e, t, n) => (e[n] = t, e)), []), NA = IA.reduce(((e, t, n) => (e[t.codePointAt(0)] = n, e)), []); const PA = VC({ prefix: "\ud83d\ude80", name: "base256emoji", encode: function (e) { return e.reduce(((e, t) => e += TA[t]), "") }, decode: function (e) { const t = []; for (const n of e) { const e = NA[n.codePointAt(0)]; if (void 0 === e) throw new Error(`Non-base256emoji character: ${n}`); t.push(e) } return new Uint8Array(t) } }); var MA = Object.freeze({ __proto__: null, base256emoji: PA }), OA = function e(t, n, r) { n = n || []; for (var i = r = r || 0; t >= RA;)n[r++] = 255 & t | 128, t /= 128; for (; -128 & t;)n[r++] = 255 & t | 128, t >>>= 7; return n[r] = 0 | t, e.bytes = r - i + 1, n }, RA = Math.pow(2, 31); var jA = function e(t, n) { var r, i = 0, o = 0, s = n = n || 0, a = t.length; do { if (s >= a) throw e.bytes = 0, new RangeError("Could not decode varint"); r = t[s++], i += o < 28 ? (127 & r) << o : (127 & r) * Math.pow(2, o), o += 7 } while (r >= 128); return e.bytes = s - n, i }; var $A = Math.pow(2, 7), LA = Math.pow(2, 14), DA = Math.pow(2, 21), UA = Math.pow(2, 28), FA = Math.pow(2, 35), BA = Math.pow(2, 42), WA = Math.pow(2, 49), zA = Math.pow(2, 56), qA = Math.pow(2, 63), HA = { encode: OA, decode: jA, encodingLength: function (e) { return e < $A ? 1 : e < LA ? 2 : e < DA ? 3 : e < UA ? 4 : e < FA ? 5 : e < BA ? 6 : e < WA ? 7 : e < zA ? 8 : e < qA ? 9 : 10 } }; const GA = (e, t, n = 0) => (HA.encode(e, t, n), t), VA = e => HA.encodingLength(e), KA = (e, t) => { const n = t.byteLength, r = VA(e), i = r + VA(n), o = new Uint8Array(i + n); return GA(e, o, 0), GA(n, o, r), o.set(t, i), new YA(e, n, t, o) }; class YA { constructor(e, t, n, r) { this.code = e, this.size = t, this.digest = n, this.bytes = r } } const ZA = ({ name: e, code: t, encode: n }) => new XA(e, t, n); class XA { constructor(e, t, n) { this.name = e, this.code = t, this.encode = n } digest(e) { if (e instanceof Uint8Array) { const t = this.encode(e); return t instanceof Uint8Array ? KA(this.code, t) : t.then((e => KA(this.code, e))) } throw Error("Unknown type, must be binary type") } } const JA = e => async t => new Uint8Array(await crypto.subtle.digest(e, t)), QA = ZA({ name: "sha2-256", code: 18, encode: JA("SHA-256") }), eS = ZA({ name: "sha2-512", code: 19, encode: JA("SHA-512") }); Object.freeze({ __proto__: null, sha256: QA, sha512: eS }); const tS = BC, nS = { code: 0, name: "identity", encode: tS, digest: e => KA(0, tS(e)) }; Object.freeze({ __proto__: null, identity: nS }); new TextEncoder, new TextDecoder; const rS = { ...XC, ...QC, ...tA, ...rA, ...sA, ...gA, ...vA, ...xA, ...kA, ...MA }; function iS(e, t, n, r) { return { name: e, prefix: t, encoder: { name: e, prefix: t, encode: n }, decoder: { decode: r } } } const oS = iS("utf8", "u", (e => "u" + new TextDecoder("utf8").decode(e)), (e => (new TextEncoder).encode(e.substring(1)))), sS = iS("ascii", "a", (e => { let t = "a"; for (let n = 0; n < e.length; n++)t += String.fromCharCode(e[n]); return t }), (e => { const t = function (e = 0) { return null != globalThis.Buffer && null != globalThis.Buffer.allocUnsafe ? globalThis.Buffer.allocUnsafe(e) : new Uint8Array(e) }((e = e.substring(1)).length); for (let n = 0; n < e.length; n++)t[n] = e.charCodeAt(n); return t })), aS = { utf8: oS, "utf-8": oS, hex: rS.base16, latin1: sS, ascii: sS, binary: sS, ...rS }; class cS { constructor(e, t) { this.core = e, this.logger = t, this.keychain = new Map, this.name = "keychain", this.version = "0.3", this.initialized = !1, this.storagePrefix = a_, this.init = async () => { if (!this.initialized) { const e = await this.getKeyChain(); typeof e < "u" && (this.keychain = e), this.initialized = !0 } }, this.has = e => (this.isInitialized(), this.keychain.has(e)), this.set = async (e, t) => { this.isInitialized(), this.keychain.set(e, t), await this.persist() }, this.get = e => { this.isInitialized(); const t = this.keychain.get(e); if (typeof t > "u") { const { message: t } = Qw("NO_MATCHING_KEY", `${this.name}: ${e}`); throw new Error(t) } return t }, this.del = async e => { this.isInitialized(), this.keychain.delete(e), await this.persist() }, this.core = e, this.logger = wx(t, this.name) } get context() { return vx(this.logger) } get storageKey() { return this.storagePrefix + this.version + this.core.customStoragePrefix + "//" + this.name } async setKeyChain(e) { await this.core.storage.setItem(this.storageKey, kv(e)) } async getKeyChain() { const e = await this.core.storage.getItem(this.storageKey); return typeof e < "u" ? Iv(e) : void 0 } async persist() { await this.setKeyChain(this.keychain) } isInitialized() { if (!this.initialized) { const { message: e } = Qw("NOT_INITIALIZED", this.name); throw new Error(e) } } } class lS { constructor(e, t, n) { this.core = e, this.logger = t, this.name = "crypto", this.randomSessionIdentifier = Ew(), this.initialized = !1, this.init = async () => { this.initialized || (await this.keychain.init(), this.initialized = !0) }, this.hasKeys = e => (this.isInitialized(), this.keychain.has(e)), this.getClientId = async () => { this.isInitialized(); return Xb(Qb(await this.getClientSeed()).publicKey) }, this.generateKeyPair = () => { this.isInitialized(); const e = function () { const e = dy.Au(); return { privateKey: Lb(e.secretKey, yw), publicKey: Lb(e.publicKey, yw) } }(); return this.setPrivateKey(e.publicKey, e.privateKey) }, this.signJWT = async e => { this.isInitialized(); const t = Qb(await this.getClientSeed()), n = this.randomSessionIdentifier, r = d_; return await ev(n, e, r, t) }, this.generateSharedKey = (e, t, n) => { this.isInitialized(); const r = function (e, t) { const n = dy.gi($b(e, yw), $b(t, yw), !0); return Lb(new cy.t(uy.mE, n).expand(32), yw) }(this.getPrivateKey(e), t); return this.setSymKey(r, n) }, this.setSymKey = async (e, t) => { this.isInitialized(); const n = t || xw(e); return await this.keychain.set(n, e), n }, this.deleteKeyPair = async e => { this.isInitialized(), await this.keychain.del(e) }, this.deleteSymKey = async e => { this.isInitialized(), await this.keychain.del(e) }, this.encode = async (e, t, n) => { this.isInitialized(); const r = Iw(n), i = Kb(t); if (Nw(r)) return function (e, t) { const n = Cw(2), r = (0, ly.randomBytes)(12); return Sw({ type: n, sealed: $b(e, ww), iv: r, encoding: t }) }(i, n?.encoding); if (Tw(r)) { const t = r.senderPublicKey, n = r.receiverPublicKey; e = await this.generateSharedKey(t, n) } const o = this.getSymKey(e), { type: s, senderPublicKey: a } = r; return function (e) { const t = Cw(typeof e.type < "u" ? e.type : 0); if (1 === Aw(t) && typeof e.senderPublicKey > "u") throw new Error("Missing sender public key for type 1 envelope"); const n = typeof e.senderPublicKey < "u" ? $b(e.senderPublicKey, yw) : void 0, r = typeof e.iv < "u" ? $b(e.iv, yw) : (0, ly.randomBytes)(12); return Sw({ type: t, sealed: new ay.OK($b(e.symKey, yw)).seal(r, $b(e.message, ww)), iv: r, senderPublicKey: n, encoding: e.encoding }) }({ type: s, symKey: o, message: i, senderPublicKey: a, encoding: n?.encoding }) }, this.decode = async (e, t, n) => { this.isInitialized(); const r = function (e, t) { const n = kw({ encoded: e, encoding: t?.encoding }); return Iw({ type: Aw(n.type), senderPublicKey: typeof n.senderPublicKey < "u" ? Lb(n.senderPublicKey, yw) : void 0, receiverPublicKey: t?.receiverPublicKey }) }(t, n); if (Nw(r)) { return Vb(function (e, t) { const { sealed: n } = kw({ encoded: e, encoding: t }); return Lb(n, ww) }(t, n?.encoding)) } if (Tw(r)) { const t = r.receiverPublicKey, n = r.senderPublicKey; e = await this.generateSharedKey(t, n) } try { const r = this.getSymKey(e); return Vb(function (e) { const t = new ay.OK($b(e.symKey, yw)), { sealed: n, iv: r } = kw({ encoded: e.encoded, encoding: e?.encoding }), i = t.open(r, n); if (null === i) throw new Error("Failed to decrypt"); return Lb(i, ww) }({ symKey: r, encoded: t, encoding: n?.encoding })) } catch (i) { this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`), this.logger.error(i) } }, this.getPayloadType = (e, t = bw) => Aw(kw({ encoded: e, encoding: t }).type), this.getPayloadSenderPublicKey = (e, t = bw) => { const n = kw({ encoded: e, encoding: t }); return n.senderPublicKey ? Lb(n.senderPublicKey, yw) : void 0 }, this.core = e, this.logger = wx(t, this.name), this.keychain = n || new cS(this.core, this.logger) } get context() { return vx(this.logger) } async setPrivateKey(e, t) { return await this.keychain.set(e, t), e } getPrivateKey(e) { return this.keychain.get(e) } async getClientSeed() { let e = ""; try { e = this.keychain.get(u_) } catch { e = Ew(), await this.keychain.set(u_, e) } return function (e, t = "utf8") { const n = aS[t]; if (!n) throw new Error(`Unsupported encoding "${t}"`); return "utf8" !== t && "utf-8" !== t || null == globalThis.Buffer || null == globalThis.Buffer.from ? n.decoder.decode(`${n.prefix}${e}`) : globalThis.Buffer.from(e, "utf8") }(e, "base16") } getSymKey(e) { return this.keychain.get(e) } isInitialized() { if (!this.initialized) { const { message: e } = Qw("NOT_INITIALIZED", this.name); throw new Error(e) } } } class uS extends class { constructor(e, t) { this.logger = e, this.core = t } }{ constructor(e, t) { super(e, t), this.logger = e, this.core = t, this.messages = new Map, this.name = "messages", this.version = "0.3", this.initialized = !1, this.storagePrefix = a_, this.init = async () => { if (!this.initialized) { this.logger.trace("Initialized"); try { const e = await this.getRelayerMessages(); typeof e < "u" && (this.messages = e), this.logger.debug(`Successfully Restored records for ${this.name}`), this.logger.trace({ type: "method", method: "restore", size: this.messages.size }) } catch (e) { this.logger.debug(`Failed to Restore records for ${this.name}`), this.logger.error(e) } finally { this.initialized = !0 } } }, this.set = async (e, t) => { this.isInitialized(); const n = _w(t); let r = this.messages.get(e); return typeof r > "u" && (r = {}), typeof r[n] < "u" || (r[n] = t, this.messages.set(e, r), await this.persist()), n }, this.get = e => { this.isInitialized(); let t = this.messages.get(e); return typeof t > "u" && (t = {}), t }, this.has = (e, t) => { this.isInitialized(); return typeof this.get(e)[_w(t)] < "u" }, this.del = async e => { this.isInitialized(), this.messages.delete(e), await this.persist() }, this.logger = wx(e, this.name), this.core = t } get context() { return vx(this.logger) } get storageKey() { return this.storagePrefix + this.version + this.core.customStoragePrefix + "//" + this.name } async setRelayerMessages(e) { await this.core.storage.setItem(this.storageKey, kv(e)) } async getRelayerMessages() { const e = await this.core.storage.getItem(this.storageKey); return typeof e < "u" ? Iv(e) : void 0 } async persist() { await this.setRelayerMessages(this.messages) } isInitialized() { if (!this.initialized) { const { message: e } = Qw("NOT_INITIALIZED", this.name); throw new Error(e) } } } class dS extends Cx { constructor(e, t) { super(e, t), this.relayer = e, this.logger = t, this.events = new Bg.EventEmitter, this.name = "publisher", this.queue = new Map, this.publishTimeout = (0, ny.toMiliseconds)(ny.ONE_MINUTE), this.failedPublishTimeout = (0, ny.toMiliseconds)(ny.ONE_SECOND), this.needsTransportRestart = !1, this.publish = async (e, t, n) => { var r; this.logger.debug("Publishing Payload"), this.logger.trace({ type: "method", method: "publish", params: { topic: e, message: t, opts: n } }); const i = n?.ttl || h_, o = Mw(n), s = n?.prompt || !1, a = n?.tag || 0, c = n?.id || Dx().toString(), l = { topic: e, message: t, opts: { ttl: i, relay: o, prompt: s, tag: a, id: c, attestation: n?.attestation } }, u = `Failed to publish payload, please try again. id:${c} tag:${a}`, d = Date.now(); let h, f = 1; try { for (; void 0 === h;) { if (Date.now() - d > this.publishTimeout) throw new Error(u); this.logger.trace({ id: c, attempts: f }, `publisher.publish - attempt ${f}`), h = await await Nv(this.rpcPublish(e, t, i, o, s, a, c, n?.attestation).catch((e => this.logger.warn(e))), this.publishTimeout, u), f++, h || await new Promise((e => setTimeout(e, this.failedPublishTimeout))) } this.relayer.events.emit(w_, l), this.logger.debug("Successfully Published Payload"), this.logger.trace({ type: "method", method: "publish", params: { id: c, topic: e, message: t, opts: n } }) } catch (p) { if (this.logger.debug("Failed to Publish Payload"), this.logger.error(p), null != (r = n?.internal) && r.throwOnFailedPublish) throw p; this.queue.set(c, l) } }, this.on = (e, t) => { this.events.on(e, t) }, this.once = (e, t) => { this.events.once(e, t) }, this.off = (e, t) => { this.events.off(e, t) }, this.removeListener = (e, t) => { this.events.removeListener(e, t) }, this.relayer = e, this.logger = wx(t, this.name), this.registerEventListeners() } get context() { return vx(this.logger) } rpcPublish(e, t, n, r, i, o, s, a) { var c, l, u, d; const h = { method: Ow(r.protocol).publish, params: { topic: e, message: t, ttl: n, prompt: i, tag: o, attestation: a }, id: s }; return rE(null == (c = h.params) ? void 0 : c.prompt) && (null == (l = h.params) || delete l.prompt), rE(null == (u = h.params) ? void 0 : u.tag) && (null == (d = h.params) || delete d.tag), this.logger.debug("Outgoing Relay Payload"), this.logger.trace({ type: "message", direction: "outgoing", request: h }), this.relayer.request(h) } removeRequestFromQueue(e) { this.queue.delete(e) } checkQueue() { this.queue.forEach((async e => { const { topic: t, message: n, opts: r } = e; await this.publish(t, n, r) })) } registerEventListeners() { this.relayer.core.heartbeat.on(SE, (() => { if (this.needsTransportRestart) return this.needsTransportRestart = !1, void this.relayer.events.emit(v_); this.checkQueue() })), this.relayer.on(m_, (e => { this.removeRequestFromQueue(e.id.toString()) })) } } class hS { constructor() { this.map = new Map, this.set = (e, t) => { const n = this.get(e); this.exists(e, t) || this.map.set(e, [...n, t]) }, this.get = e => this.map.get(e) || [], this.exists = (e, t) => this.get(e).includes(t), this.delete = (e, t) => { if (typeof t > "u") return void this.map.delete(e); if (!this.map.has(e)) return; const n = this.get(e); if (!this.exists(e, t)) return; const r = n.filter((e => e !== t)); r.length ? this.map.set(e, r) : this.map.delete(e) }, this.clear = () => { this.map.clear() } } get topics() { return Array.from(this.map.keys()) } } var fS = Object.defineProperty, pS = Object.defineProperties, mS = Object.getOwnPropertyDescriptors, gS = Object.getOwnPropertySymbols, yS = Object.prototype.hasOwnProperty, bS = Object.prototype.propertyIsEnumerable, vS = (e, t, n) => t in e ? fS(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, wS = (e, t) => { for (var n in t || (t = {})) yS.call(t, n) && vS(e, n, t[n]); if (gS) for (var n of gS(t)) bS.call(t, n) && vS(e, n, t[n]); return e }, ES = (e, t) => pS(e, mS(t)); class xS extends Sx { constructor(e, t) { super(e, t), this.relayer = e, this.logger = t, this.subscriptions = new Map, this.topicMap = new hS, this.events = new Bg.EventEmitter, this.name = "subscription", this.version = "0.3", this.pending = new Map, this.cached = [], this.initialized = !1, this.pendingSubscriptionWatchLabel = "pending_sub_watch_label", this.pollingInterval = 20, this.storagePrefix = a_, this.subscribeTimeout = (0, ny.toMiliseconds)(ny.ONE_MINUTE), this.restartInProgress = !1, this.batchSubscribeTopicsLimit = 500, this.pendingBatchMessages = [], this.init = async () => { this.initialized || (this.logger.trace("Initialized"), this.registerEventListeners(), this.clientId = await this.relayer.core.crypto.getClientId(), await this.restore()), this.initialized = !0 }, this.subscribe = async (e, t) => { this.isInitialized(), this.logger.debug("Subscribing Topic"), this.logger.trace({ type: "method", method: "subscribe", params: { topic: e, opts: t } }); try { const n = Mw(t), r = { topic: e, relay: n, transportType: t?.transportType }; this.pending.set(e, r); const i = await this.rpcSubscribe(e, n, t); return "string" == typeof i && (this.onSubscribe(i, r), this.logger.debug("Successfully Subscribed Topic"), this.logger.trace({ type: "method", method: "subscribe", params: { topic: e, opts: t } })), i } catch (n) { throw this.logger.debug("Failed to Subscribe Topic"), this.logger.error(n), n } }, this.unsubscribe = async (e, t) => { await this.restartToComplete(), this.isInitialized(), typeof t?.id < "u" ? await this.unsubscribeById(e, t.id, t) : await this.unsubscribeByTopic(e, t) }, this.isSubscribed = async e => { if (this.topics.includes(e)) return !0; const t = `${this.pendingSubscriptionWatchLabel}_${e}`; return await new Promise(((n, r) => { const i = new ny.Watch; i.start(t); const o = setInterval((() => { !this.pending.has(e) && this.topics.includes(e) && (clearInterval(o), i.stop(t), n(!0)), i.elapsed(t) >= M_ && (clearInterval(o), i.stop(t), r(new Error("Subscription resolution timeout"))) }), this.pollingInterval) })).catch((() => !1)) }, this.on = (e, t) => { this.events.on(e, t) }, this.once = (e, t) => { this.events.once(e, t) }, this.off = (e, t) => { this.events.off(e, t) }, this.removeListener = (e, t) => { this.events.removeListener(e, t) }, this.start = async () => { await this.onConnect() }, this.stop = async () => { await this.onDisconnect() }, this.restart = async () => { this.restartInProgress = !0, await this.restore(), await this.reset(), this.restartInProgress = !1 }, this.relayer = e, this.logger = wx(t, this.name), this.clientId = "" } get context() { return vx(this.logger) } get storageKey() { return this.storagePrefix + this.version + this.relayer.core.customStoragePrefix + "//" + this.name } get length() { return this.subscriptions.size } get ids() { return Array.from(this.subscriptions.keys()) } get values() { return Array.from(this.subscriptions.values()) } get topics() { return this.topicMap.topics } hasSubscription(e, t) { let n = !1; try { n = this.getSubscription(e).topic === t } catch { } return n } onEnable() { this.cached = [], this.initialized = !0 } onDisable() { this.cached = this.values, this.subscriptions.clear(), this.topicMap.clear() } async unsubscribeByTopic(e, t) { const n = this.topicMap.get(e); await Promise.all(n.map((async n => await this.unsubscribeById(e, n, t)))) } async unsubscribeById(e, t, n) { this.logger.debug("Unsubscribing Topic"), this.logger.trace({ type: "method", method: "unsubscribe", params: { topic: e, id: t, opts: n } }); try { const r = Mw(n); await this.rpcUnsubscribe(e, t, r); const i = eE("USER_DISCONNECTED", `${this.name}, ${e}`); await this.onUnsubscribe(e, t, i), this.logger.debug("Successfully Unsubscribed Topic"), this.logger.trace({ type: "method", method: "unsubscribe", params: { topic: e, id: t, opts: n } }) } catch (r) { throw this.logger.debug("Failed to Unsubscribe Topic"), this.logger.error(r), r } } async rpcSubscribe(e, t, n) { var r; n?.transportType === S_.relay && await this.restartToComplete(); const i = { method: Ow(t.protocol).subscribe, params: { topic: e } }; this.logger.debug("Outgoing Relay Payload"), this.logger.trace({ type: "payload", direction: "outgoing", request: i }); const o = null == (r = n?.internal) ? void 0 : r.throwOnFailedPublish; try { const t = _w(e + this.clientId); if (n?.transportType === S_.link_mode) return setTimeout((() => { (this.relayer.connected || this.relayer.connecting) && this.relayer.request(i).catch((e => this.logger.warn(e))) }), (0, ny.toMiliseconds)(ny.ONE_SECOND)), t; const r = await Nv(this.relayer.request(i).catch((e => this.logger.warn(e))), this.subscribeTimeout, `Subscribing to ${e} failed, please try again`); if (!r && o) throw new Error(`Subscribing to ${e} failed, please try again`); return r ? t : null } catch (s) { if (this.logger.debug("Outgoing Relay Subscribe Payload stalled"), this.relayer.events.emit(v_), o) throw s } return null } async rpcBatchSubscribe(e) { if (!e.length) return; const t = { method: Ow(e[0].relay.protocol).batchSubscribe, params: { topics: e.map((e => e.topic)) } }; this.logger.debug("Outgoing Relay Payload"), this.logger.trace({ type: "payload", direction: "outgoing", request: t }); try { return await await Nv(this.relayer.request(t).catch((e => this.logger.warn(e))), this.subscribeTimeout) } catch { this.relayer.events.emit(v_) } } async rpcBatchFetchMessages(e) { if (!e.length) return; const t = { method: Ow(e[0].relay.protocol).batchFetchMessages, params: { topics: e.map((e => e.topic)) } }; let n; this.logger.debug("Outgoing Relay Payload"), this.logger.trace({ type: "payload", direction: "outgoing", request: t }); try { n = await await Nv(this.relayer.request(t).catch((e => this.logger.warn(e))), this.subscribeTimeout) } catch { this.relayer.events.emit(v_) } return n } rpcUnsubscribe(e, t, n) { const r = { method: Ow(n.protocol).unsubscribe, params: { topic: e, id: t } }; return this.logger.debug("Outgoing Relay Payload"), this.logger.trace({ type: "payload", direction: "outgoing", request: r }), this.relayer.request(r) } onSubscribe(e, t) { this.setSubscription(e, ES(wS({}, t), { id: e })), this.pending.delete(t.topic) } onBatchSubscribe(e) { e.length && e.forEach((e => { this.setSubscription(e.id, wS({}, e)), this.pending.delete(e.topic) })) } async onUnsubscribe(e, t, n) { this.events.removeAllListeners(t), this.hasSubscription(t, e) && this.deleteSubscription(t, n), await this.relayer.messages.del(e) } async setRelayerSubscriptions(e) { await this.relayer.core.storage.setItem(this.storageKey, e) } async getRelayerSubscriptions() { return await this.relayer.core.storage.getItem(this.storageKey) } setSubscription(e, t) { this.logger.debug("Setting subscription"), this.logger.trace({ type: "method", method: "setSubscription", id: e, subscription: t }), this.addSubscription(e, t) } addSubscription(e, t) { this.subscriptions.set(e, wS({}, t)), this.topicMap.set(t.topic, e), this.events.emit(I_, t) } getSubscription(e) { this.logger.debug("Getting subscription"), this.logger.trace({ type: "method", method: "getSubscription", id: e }); const t = this.subscriptions.get(e); if (!t) { const { message: t } = Qw("NO_MATCHING_KEY", `${this.name}: ${e}`); throw new Error(t) } return t } deleteSubscription(e, t) { this.logger.debug("Deleting subscription"), this.logger.trace({ type: "method", method: "deleteSubscription", id: e, reason: t }); const n = this.getSubscription(e); this.subscriptions.delete(e), this.topicMap.delete(n.topic, e), this.events.emit(T_, ES(wS({}, n), { reason: t })) } async persist() { await this.setRelayerSubscriptions(this.values), this.events.emit(N_) } async reset() { if (this.cached.length) { const e = Math.ceil(this.cached.length / this.batchSubscribeTopicsLimit); for (let t = 0; t < e; t++) { const e = this.cached.splice(0, this.batchSubscribeTopicsLimit); await this.batchFetchMessages(e), await this.batchSubscribe(e) } } this.events.emit(P_) } async restore() { try { const e = await this.getRelayerSubscriptions(); if (typeof e > "u" || !e.length) return; if (this.subscriptions.size) { const { message: e } = Qw("RESTORE_WILL_OVERRIDE", this.name); throw this.logger.error(e), this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`), new Error(e) } this.cached = e, this.logger.debug(`Successfully Restored subscriptions for ${this.name}`), this.logger.trace({ type: "method", method: "restore", subscriptions: this.values }) } catch (t0) { this.logger.debug(`Failed to Restore subscriptions for ${this.name}`), this.logger.error(t0) } } async batchSubscribe(e) { if (!e.length) return; const t = await this.rpcBatchSubscribe(e); tE(t) && this.onBatchSubscribe(t.map(((t, n) => ES(wS({}, e[n]), { id: t })))) } async batchFetchMessages(e) { if (!e.length) return; this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`); const t = await this.rpcBatchFetchMessages(e); t && t.messages && (this.pendingBatchMessages = this.pendingBatchMessages.concat(t.messages)) } async onConnect() { await this.restart(), this.onEnable() } onDisconnect() { this.onDisable() } async checkPending() { if (!this.initialized || !this.relayer.connected) return; const e = []; this.pending.forEach((t => { e.push(t) })), await this.batchSubscribe(e), this.pendingBatchMessages.length && (await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages), this.pendingBatchMessages = []) } registerEventListeners() { this.relayer.core.heartbeat.on(SE, (async () => { await this.checkPending() })), this.events.on(I_, (async e => { const t = I_; this.logger.info(`Emitting ${t}`), this.logger.debug({ type: "event", event: t, data: e }), await this.persist() })), this.events.on(T_, (async e => { const t = T_; this.logger.info(`Emitting ${t}`), this.logger.debug({ type: "event", event: t, data: e }), await this.persist() })) } isInitialized() { if (!this.initialized) { const { message: e } = Qw("NOT_INITIALIZED", this.name); throw new Error(e) } } async restartToComplete() { !this.relayer.connected && !this.relayer.connecting && await this.relayer.transportOpen(), this.restartInProgress && await new Promise((e => { const t = setInterval((() => { this.restartInProgress || (clearInterval(t), e()) }), this.pollingInterval) })) } } var _S = Object.defineProperty, CS = Object.getOwnPropertySymbols, AS = Object.prototype.hasOwnProperty, SS = Object.prototype.propertyIsEnumerable, kS = (e, t, n) => t in e ? _S(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, IS = (e, t) => { for (var n in t || (t = {})) AS.call(t, n) && kS(e, n, t[n]); if (CS) for (var n of CS(t)) SS.call(t, n) && kS(e, n, t[n]); return e }; class TS extends Ax { constructor(e) { super(e), this.protocol = "wc", this.version = 2, this.events = new Bg.EventEmitter, this.name = "relayer", this.transportExplicitlyClosed = !1, this.initialized = !1, this.connectionAttemptInProgress = !1, this.connectionStatusPollingInterval = 20, this.staleConnectionErrors = ["socket hang up", "stalled", "interrupted"], this.hasExperiencedNetworkDisruption = !1, this.requestsInFlight = new Map, this.heartBeatTimeout = (0, ny.toMiliseconds)(ny.THIRTY_SECONDS + ny.ONE_SECOND), this.request = async e => { var t, n; this.logger.debug("Publishing Request Payload"); const r = e.id || Dx().toString(); await this.toEstablishConnection(); try { const i = this.provider.request(e); this.requestsInFlight.set(r, { promise: i, request: e }), this.logger.trace({ id: r, method: e.method, topic: null == (t = e.params) ? void 0 : t.topic }, "relayer.request - attempt to publish..."); const o = await new Promise((async (e, t) => { const n = () => { t(new Error(`relayer.request - publish interrupted, id: ${r}`)) }; this.provider.on(__, n); const o = await i; this.provider.off(__, n), e(o) })); return this.logger.trace({ id: r, method: e.method, topic: null == (n = e.params) ? void 0 : n.topic }, "relayer.request - published"), o } catch (i) { throw this.logger.debug(`Failed to Publish Request: ${r}`), i } finally { this.requestsInFlight.delete(r) } }, this.resetPingTimeout = () => { if (vv()) try { clearTimeout(this.pingTimeout), this.pingTimeout = setTimeout((() => { var e, t, n; null == (n = null == (t = null == (e = this.provider) ? void 0 : e.connection) ? void 0 : t.socket) || n.terminate() }), this.heartBeatTimeout) } catch (e) { this.logger.warn(e) } }, this.onPayloadHandler = e => { this.onProviderPayload(e), this.resetPingTimeout() }, this.onConnectHandler = () => { this.logger.trace("relayer connected"), this.startPingTimeout(), this.events.emit(g_) }, this.onDisconnectHandler = () => { this.logger.trace("relayer disconnected"), this.onProviderDisconnect() }, this.onProviderErrorHandler = e => { this.logger.error(e), this.events.emit(b_, e), this.logger.info("Fatal socket error received, closing transport"), this.transportClose() }, this.registerProviderListeners = () => { this.provider.on(E_, this.onPayloadHandler), this.provider.on(x_, this.onConnectHandler), this.provider.on(__, this.onDisconnectHandler), this.provider.on(C_, this.onProviderErrorHandler) }, this.core = e.core, this.logger = typeof e.logger < "u" && "string" != typeof e.logger ? wx(e.logger, this.name) : nx()(bx({ level: e.logger || "error" })), this.messages = new uS(this.logger, e.core), this.subscriber = new xS(this, this.logger), this.publisher = new dS(this, this.logger), this.relayUrl = e?.relayUrl || f_, this.projectId = e.projectId, this.bundleId = function () { var e; try { return wv() && typeof n.g < "u" && typeof (null == n.g ? void 0 : n.g.Application) < "u" ? null == (e = n.g.Application) ? void 0 : e.applicationId : void 0 } catch { return } }(), this.provider = {} } async init() { if (this.logger.trace("Initialized"), this.registerEventListeners(), await Promise.all([this.messages.init(), this.subscriber.init()]), this.initialized = !0, this.subscriber.cached.length > 0) try { await this.transportOpen() } catch (t0) { this.logger.warn(t0) } } get context() { return vx(this.logger) } get connected() { var e, t, n; return 1 === (null == (n = null == (t = null == (e = this.provider) ? void 0 : e.connection) ? void 0 : t.socket) ? void 0 : n.readyState) } get connecting() { var e, t, n; return 0 === (null == (n = null == (t = null == (e = this.provider) ? void 0 : e.connection) ? void 0 : t.socket) ? void 0 : n.readyState) } async publish(e, t, n) { this.isInitialized(), await this.publisher.publish(e, t, n), await this.recordMessageEvent({ topic: e, message: t, publishedAt: Date.now(), transportType: S_.relay }) } async subscribe(e, t) { var n, r, i; this.isInitialized(), "relay" === t?.transportType && await this.toEstablishConnection(); const o = typeof (null == (n = t?.internal) ? void 0 : n.throwOnFailedPublish) > "u" || (null == (r = t?.internal) ? void 0 : r.throwOnFailedPublish); let s, a = (null == (i = this.subscriber.topicMap.get(e)) ? void 0 : i[0]) || ""; const c = t => { t.topic === e && (this.subscriber.off(I_, c), s()) }; return await Promise.all([new Promise((e => { s = e, this.subscriber.on(I_, c) })), new Promise((async (n, r) => { a = await this.subscriber.subscribe(e, IS({ internal: { throwOnFailedPublish: o } }, t)).catch((e => { o && r(e) })) || a, n() }))]), a } async unsubscribe(e, t) { this.isInitialized(), await this.subscriber.unsubscribe(e, t) } on(e, t) { this.events.on(e, t) } once(e, t) { this.events.once(e, t) } off(e, t) { this.events.off(e, t) } removeListener(e, t) { this.events.removeListener(e, t) } async transportDisconnect() { if (!this.hasExperiencedNetworkDisruption && this.connected && this.requestsInFlight.size > 0) try { await Promise.all(Array.from(this.requestsInFlight.values()).map((e => e.promise))) } catch (t0) { this.logger.warn(t0) } this.provider.disconnect && (this.hasExperiencedNetworkDisruption || this.connected) ? await Nv(this.provider.disconnect(), 2e3, "provider.disconnect()").catch((() => this.onProviderDisconnect())) : this.onProviderDisconnect() } async transportClose() { this.transportExplicitlyClosed = !0, await this.transportDisconnect() } async transportOpen(e) { await this.confirmOnlineStateOrThrow(), e && e !== this.relayUrl && (this.relayUrl = e, await this.transportDisconnect()), await this.createProvider(), this.connectionAttemptInProgress = !0, this.transportExplicitlyClosed = !1; try { await new Promise((async (e, t) => { const n = () => { this.provider.off(__, n), t(new Error("Connection interrupted while trying to subscribe")) }; this.provider.on(__, n), await Nv(this.provider.connect(), (0, ny.toMiliseconds)(ny.ONE_MINUTE), `Socket stalled when trying to connect to ${this.relayUrl}`).catch((e => { t(e) })).finally((() => { clearTimeout(this.reconnectTimeout), this.reconnectTimeout = void 0 })), this.subscriber.start().catch((e => { this.logger.error(e), this.onDisconnectHandler() })), this.hasExperiencedNetworkDisruption = !1, e() })) } catch (t) { this.logger.error(t); const e = t; if (this.hasExperiencedNetworkDisruption = !0, !this.isConnectionStalled(e.message)) throw t } finally { this.connectionAttemptInProgress = !1 } } async restartTransport(e) { this.connectionAttemptInProgress || (this.relayUrl = e || this.relayUrl, await this.confirmOnlineStateOrThrow(), await this.transportClose(), await this.transportOpen()) } async confirmOnlineStateOrThrow() { if (!(await vE())) throw new Error("No internet connection detected. Please restart your network and try again.") } async handleBatchMessageEvents(e) { if (0 === e?.length) return void this.logger.trace("Batch message events is empty. Ignoring..."); const t = e.sort(((e, t) => e.publishedAt - t.publishedAt)); this.logger.trace(`Batch of ${t.length} message events sorted`); for (const r of t) try { await this.onMessageEvent(r) } catch (n) { this.logger.warn(n) } this.logger.trace(`Batch of ${t.length} message events processed`) } async onLinkMessageEvent(e, t) { const { topic: n } = e; if (!t.sessionExists) { const e = { topic: n, expiry: Ov(ny.FIVE_MINUTES), relay: { protocol: "irn" }, active: !1 }; await this.core.pairing.pairings.set(n, e) } this.events.emit(p_, e), await this.recordMessageEvent(e) } startPingTimeout() { var e, t, n, r, i; if (vv()) try { null != (t = null == (e = this.provider) ? void 0 : e.connection) && t.socket && (null == (i = null == (r = null == (n = this.provider) ? void 0 : n.connection) ? void 0 : r.socket) || i.once("ping", (() => { this.resetPingTimeout() }))), this.resetPingTimeout() } catch (o) { this.logger.warn(o) } } isConnectionStalled(e) { return this.staleConnectionErrors.some((t => e.includes(t))) } async createProvider() { this.provider.connection && this.unregisterProviderListeners(); const e = await this.core.crypto.signJWT(this.relayUrl); this.provider = new e_(new r_(Av({ sdkVersion: A_, protocol: this.protocol, version: this.version, relayUrl: this.relayUrl, projectId: this.projectId, auth: e, useOnCloseEvent: !0, bundleId: this.bundleId }))), this.registerProviderListeners() } async recordMessageEvent(e) { const { topic: t, message: n } = e; await this.messages.set(t, n) } async shouldIgnoreMessageEvent(e) { const { topic: t, message: n } = e; if (!n || 0 === n.length) return this.logger.debug(`Ignoring invalid/empty message: ${n}`), !0; if (!(await this.subscriber.isSubscribed(t))) return this.logger.debug(`Ignoring message for non-subscribed topic ${t}`), !0; const r = this.messages.has(t, n); return r && this.logger.debug(`Ignoring duplicate message: ${n}`), r } async onProviderPayload(e) { if (this.logger.debug("Incoming Relay Payload"), this.logger.trace({ type: "payload", direction: "incoming", payload: e }), Zx(e)) { if (!e.method.endsWith("_subscription")) return; const t = e.params, { topic: n, message: r, publishedAt: i, attestation: o } = t.data, s = { topic: n, message: r, publishedAt: i, transportType: S_.relay, attestation: o }; this.logger.debug("Emitting Relayer Payload"), this.logger.trace(IS({ type: "event", event: t.id }, s)), this.events.emit(t.id, s), await this.acknowledgePayload(e), await this.onMessageEvent(s) } else Xx(e) && this.events.emit(m_, e) } async onMessageEvent(e) { await this.shouldIgnoreMessageEvent(e) || (this.events.emit(p_, e), await this.recordMessageEvent(e)) } async acknowledgePayload(e) { const t = Fx(e.id, !0); await this.provider.connection.send(t) } unregisterProviderListeners() { this.provider.off(E_, this.onPayloadHandler), this.provider.off(x_, this.onConnectHandler), this.provider.off(__, this.onDisconnectHandler), this.provider.off(C_, this.onProviderErrorHandler), clearTimeout(this.pingTimeout) } async registerEventListeners() { let e = await vE(); wE((async t => { e !== t && (e = t, t ? await this.restartTransport().catch((e => this.logger.error(e))) : (this.hasExperiencedNetworkDisruption = !0, await this.transportDisconnect(), this.transportExplicitlyClosed = !1)) })) } async onProviderDisconnect() { await this.subscriber.stop(), this.requestsInFlight.clear(), clearTimeout(this.pingTimeout), this.events.emit(y_), this.connectionAttemptInProgress = !1, !this.transportExplicitlyClosed && (this.reconnectTimeout || (this.reconnectTimeout = setTimeout((async () => { await this.transportOpen().catch((e => this.logger.error(e))) }), (0, ny.toMiliseconds)(.1)))) } isInitialized() { if (!this.initialized) { const { message: e } = Qw("NOT_INITIALIZED", this.name); throw new Error(e) } } async toEstablishConnection() { await this.confirmOnlineStateOrThrow(), !this.connected && (this.connectionAttemptInProgress && await new Promise((e => { const t = setInterval((() => { this.connected && (clearInterval(t), e()) }), this.connectionStatusPollingInterval) })), await this.transportOpen()) } } var NS = Object.defineProperty, PS = Object.getOwnPropertySymbols, MS = Object.prototype.hasOwnProperty, OS = Object.prototype.propertyIsEnumerable, RS = (e, t, n) => t in e ? NS(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, jS = (e, t) => { for (var n in t || (t = {})) MS.call(t, n) && RS(e, n, t[n]); if (PS) for (var n of PS(t)) OS.call(t, n) && RS(e, n, t[n]); return e }; class $S extends class { constructor(e, t, n, r) { this.core = e, this.logger = t, this.name = n } }{ constructor(e, t, n, r = "wc@2:core:", i) { super(e, t, n, r), this.core = e, this.logger = t, this.name = n, this.map = new Map, this.version = "0.3", this.cached = [], this.initialized = !1, this.storagePrefix = a_, this.recentlyDeleted = [], this.recentlyDeletedLimit = 200, this.init = async () => { this.initialized || (this.logger.trace("Initialized"), await this.restore(), this.cached.forEach((e => { this.getKey && null !== e && !rE(e) ? this.map.set(this.getKey(e), e) : function (e) { var t; return null == (t = e?.proposer) ? void 0 : t.publicKey }(e) ? this.map.set(e.id, e) : function (e) { return e?.topic }(e) && this.map.set(e.topic, e) })), this.cached = [], this.initialized = !0) }, this.set = async (e, t) => { this.isInitialized(), this.map.has(e) ? await this.update(e, t) : (this.logger.debug("Setting value"), this.logger.trace({ type: "method", method: "set", key: e, value: t }), this.map.set(e, t), await this.persist()) }, this.get = e => (this.isInitialized(), this.logger.debug("Getting value"), this.logger.trace({ type: "method", method: "get", key: e }), this.getData(e)), this.getAll = e => (this.isInitialized(), e ? this.values.filter((t => Object.keys(e).every((n => o_()(t[n], e[n]))))) : this.values), this.update = async (e, t) => { this.isInitialized(), this.logger.debug("Updating value"), this.logger.trace({ type: "method", method: "update", key: e, update: t }); const n = jS(jS({}, this.getData(e)), t); this.map.set(e, n), await this.persist() }, this.delete = async (e, t) => { this.isInitialized(), this.map.has(e) && (this.logger.debug("Deleting value"), this.logger.trace({ type: "method", method: "delete", key: e, reason: t }), this.map.delete(e), this.addToRecentlyDeleted(e), await this.persist()) }, this.logger = wx(t, this.name), this.storagePrefix = r, this.getKey = i } get context() { return vx(this.logger) } get storageKey() { return this.storagePrefix + this.version + this.core.customStoragePrefix + "//" + this.name } get length() { return this.map.size } get keys() { return Array.from(this.map.keys()) } get values() { return Array.from(this.map.values()) } addToRecentlyDeleted(e) { this.recentlyDeleted.push(e), this.recentlyDeleted.length >= this.recentlyDeletedLimit && this.recentlyDeleted.splice(0, this.recentlyDeletedLimit / 2) } async setDataStore(e) { await this.core.storage.setItem(this.storageKey, e) } async getDataStore() { return await this.core.storage.getItem(this.storageKey) } getData(e) { const t = this.map.get(e); if (!t) { if (this.recentlyDeleted.includes(e)) { const { message: t } = Qw("MISSING_OR_INVALID", `Record was recently deleted - ${this.name}: ${e}`); throw this.logger.error(t), new Error(t) } const { message: t } = Qw("NO_MATCHING_KEY", `${this.name}: ${e}`); throw this.logger.error(t), new Error(t) } return t } async persist() { await this.setDataStore(this.values) } async restore() { try { const e = await this.getDataStore(); if (typeof e > "u" || !e.length) return; if (this.map.size) { const { message: e } = Qw("RESTORE_WILL_OVERRIDE", this.name); throw this.logger.error(e), new Error(e) } this.cached = e, this.logger.debug(`Successfully Restored value for ${this.name}`), this.logger.trace({ type: "method", method: "restore", value: this.values }) } catch (t0) { this.logger.debug(`Failed to Restore value for ${this.name}`), this.logger.error(t0) } } isInitialized() { if (!this.initialized) { const { message: e } = Qw("NOT_INITIALIZED", this.name); throw new Error(e) } } } class LS { constructor(e, t) { this.core = e, this.logger = t, this.name = "pairing", this.version = "0.3", this.events = new (Wg()), this.initialized = !1, this.storagePrefix = a_, this.ignoredPayloadTypes = [1], this.registeredMethods = [], this.init = async () => { this.initialized || (await this.pairings.init(), await this.cleanup(), this.registerRelayerEvents(), this.registerExpirerEvents(), this.initialized = !0, this.logger.trace("Initialized")) }, this.register = ({ methods: e }) => { this.isInitialized(), this.registeredMethods = [...new Set([...this.registeredMethods, ...e])] }, this.create = async e => { this.isInitialized(); const t = Ew(), n = await this.core.crypto.setSymKey(t), r = Ov(ny.FIVE_MINUTES), i = { protocol: "irn" }, o = { topic: n, expiry: r, relay: i, active: !1, methods: e?.methods }, s = Hw({ protocol: this.core.protocol, version: this.core.version, topic: n, symKey: t, relay: i, expiryTimestamp: r, methods: e?.methods }); return this.events.emit(R_, o), this.core.expirer.set(n, r), await this.pairings.set(n, o), await this.core.relayer.subscribe(n, { transportType: e?.transportType }), { topic: n, uri: s } }, this.pair = async e => { this.isInitialized(); const t = this.core.eventClient.createEvent({ properties: { topic: e?.uri, trace: [Z_] } }); this.isValidPair(e, t); const { topic: n, symKey: r, relay: i, expiryTimestamp: o, methods: s } = zw(e.uri); let a; if (t.props.properties.topic = n, t.addTrace(X_), t.addTrace(J_), this.pairings.keys.includes(n)) { if (a = this.pairings.get(n), t.addTrace(nC), a.active) throw t.setError(cC), new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`); t.addTrace(rC) } const c = o || Ov(ny.FIVE_MINUTES), l = { topic: n, relay: i, expiry: c, active: !1, methods: s }; this.core.expirer.set(n, c), await this.pairings.set(n, l), t.addTrace(Q_), e.activatePairing && await this.activate({ topic: n }), this.events.emit(R_, l), t.addTrace(iC), this.core.crypto.keychain.has(n) || await this.core.crypto.setSymKey(r, n), t.addTrace(eC); try { await this.core.relayer.confirmOnlineStateOrThrow() } catch { t.setError(sC) } try { await this.core.relayer.subscribe(n, { relay: i }) } catch (u) { throw t.setError(lC), u } return t.addTrace(tC), l }, this.activate = async ({ topic: e }) => { this.isInitialized(); const t = Ov(ny.THIRTY_DAYS); this.core.expirer.set(e, t), await this.pairings.update(e, { active: !0, expiry: t }) }, this.ping = async e => { this.isInitialized(), await this.isValidPing(e); const { topic: t } = e; if (this.pairings.keys.includes(t)) { const e = await this.sendRequest(t, "wc_pairingPing", {}), { done: n, resolve: r, reject: i } = Tv(); this.events.once(jv("pairing_ping", e), (({ error: e }) => { e ? i(e) : r() })), await n() } }, this.updateExpiry = async ({ topic: e, expiry: t }) => { this.isInitialized(), await this.pairings.update(e, { expiry: t }) }, this.updateMetadata = async ({ topic: e, metadata: t }) => { this.isInitialized(), await this.pairings.update(e, { peerMetadata: t }) }, this.getPairings = () => (this.isInitialized(), this.pairings.values), this.disconnect = async e => { this.isInitialized(), await this.isValidDisconnect(e); const { topic: t } = e; this.pairings.keys.includes(t) && (await this.sendRequest(t, "wc_pairingDelete", eE("USER_DISCONNECTED")), await this.deletePairing(t)) }, this.formatUriFromPairing = e => { this.isInitialized(); const { topic: t, relay: n, expiry: r, methods: i } = e, o = this.core.crypto.keychain.get(t); return Hw({ protocol: this.core.protocol, version: this.core.version, topic: t, symKey: o, relay: n, expiryTimestamp: r, methods: i }) }, this.sendRequest = async (e, t, n) => { const r = Ux(t, n), i = await this.core.crypto.encode(e, r), o = O_[t].req; return this.core.history.set(e, r), this.core.relayer.publish(e, i, o), r.id }, this.sendResult = async (e, t, n) => { const r = Fx(e, n), i = await this.core.crypto.encode(t, r), o = await this.core.history.get(t, e), s = O_[o.request.method].res; await this.core.relayer.publish(t, i, s), await this.core.history.resolve(r) }, this.sendError = async (e, t, n) => { const r = Bx(e, n), i = await this.core.crypto.encode(t, r), o = await this.core.history.get(t, e), s = O_[o.request.method] ? O_[o.request.method].res : O_.unregistered_method.res; await this.core.relayer.publish(t, i, s), await this.core.history.resolve(r) }, this.deletePairing = async (e, t) => { await this.core.relayer.unsubscribe(e), await Promise.all([this.pairings.delete(e, eE("USER_DISCONNECTED")), this.core.crypto.deleteSymKey(e), t ? Promise.resolve() : this.core.expirer.del(e)]) }, this.cleanup = async () => { const e = this.pairings.getAll().filter((e => Rv(e.expiry))); await Promise.all(e.map((e => this.deletePairing(e.topic)))) }, this.onRelayEventRequest = e => { const { topic: t, payload: n } = e; switch (n.method) { case "wc_pairingPing": return this.onPairingPingRequest(t, n); case "wc_pairingDelete": return this.onPairingDeleteRequest(t, n); default: return this.onUnknownRpcMethodRequest(t, n) } }, this.onRelayEventResponse = async e => { const { topic: t, payload: n } = e, r = (await this.core.history.get(t, n.id)).request.method; switch (r) { case "wc_pairingPing": return this.onPairingPingResponse(t, n); default: return this.onUnknownRpcMethodResponse(r) } }, this.onPairingPingRequest = async (e, t) => { const { id: n } = t; try { this.isValidPing({ topic: e }), await this.sendResult(n, e, !0), this.events.emit(L_, { id: n, topic: e }) } catch (r) { await this.sendError(n, e, r), this.logger.error(r) } }, this.onPairingPingResponse = (e, t) => { const { id: n } = t; setTimeout((() => { Jx(t) ? this.events.emit(jv("pairing_ping", n), {}) : Qx(t) && this.events.emit(jv("pairing_ping", n), { error: t.error }) }), 500) }, this.onPairingDeleteRequest = async (e, t) => { const { id: n } = t; try { this.isValidDisconnect({ topic: e }), await this.deletePairing(e), this.events.emit($_, { id: n, topic: e }) } catch (r) { await this.sendError(n, e, r), this.logger.error(r) } }, this.onUnknownRpcMethodRequest = async (e, t) => { const { id: n, method: r } = t; try { if (this.registeredMethods.includes(r)) return; const t = eE("WC_METHOD_UNSUPPORTED", r); await this.sendError(n, e, t), this.logger.error(t) } catch (i) { await this.sendError(n, e, i), this.logger.error(i) } }, this.onUnknownRpcMethodResponse = e => { this.registeredMethods.includes(e) || this.logger.error(eE("WC_METHOD_UNSUPPORTED", e)) }, this.isValidPair = (e, t) => { var n; if (!fE(e)) { const { message: n } = Qw("MISSING_OR_INVALID", `pair() params: ${e}`); throw t.setError(aC), new Error(n) } if (!function (e) { function t(e) { try { return typeof new URL(e) < "u" } catch { return !1 } } try { if (iE(e, !1)) return !!t(e) || t(Bv(e)) } catch { } return !1 }(e.uri)) { const { message: n } = Qw("MISSING_OR_INVALID", `pair() uri: ${e.uri}`); throw t.setError(aC), new Error(n) } const r = zw(e?.uri); if (null == (n = r?.relay) || !n.protocol) { const { message: e } = Qw("MISSING_OR_INVALID", "pair() uri#relay-protocol"); throw t.setError(aC), new Error(e) } if (null == r || !r.symKey) { const { message: e } = Qw("MISSING_OR_INVALID", "pair() uri#symKey"); throw t.setError(aC), new Error(e) } if (null != r && r.expiryTimestamp && (0, ny.toMiliseconds)(r?.expiryTimestamp) < Date.now()) { t.setError(uC); const { message: e } = Qw("EXPIRED", "pair() URI has expired. Please try again with a new connection URI."); throw new Error(e) } }, this.isValidPing = async e => { if (!fE(e)) { const { message: t } = Qw("MISSING_OR_INVALID", `ping() params: ${e}`); throw new Error(t) } const { topic: t } = e; await this.isValidPairingTopic(t) }, this.isValidDisconnect = async e => { if (!fE(e)) { const { message: t } = Qw("MISSING_OR_INVALID", `disconnect() params: ${e}`); throw new Error(t) } const { topic: t } = e; await this.isValidPairingTopic(t) }, this.isValidPairingTopic = async e => { if (!iE(e, !1)) { const { message: t } = Qw("MISSING_OR_INVALID", `pairing topic should be a string: ${e}`); throw new Error(t) } if (!this.pairings.keys.includes(e)) { const { message: t } = Qw("NO_MATCHING_KEY", `pairing topic doesn't exist: ${e}`); throw new Error(t) } if (Rv(this.pairings.get(e).expiry)) { await this.deletePairing(e); const { message: t } = Qw("EXPIRED", `pairing topic: ${e}`); throw new Error(t) } }, this.core = e, this.logger = wx(t, this.name), this.pairings = new $S(this.core, this.logger, this.name, this.storagePrefix) } get context() { return vx(this.logger) } isInitialized() { if (!this.initialized) { const { message: e } = Qw("NOT_INITIALIZED", this.name); throw new Error(e) } } registerRelayerEvents() { this.core.relayer.on(p_, (async e => { const { topic: t, message: n, transportType: r } = e; if (!this.pairings.keys.includes(t) || r === S_.link_mode || this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n))) return; const i = await this.core.crypto.decode(t, n); try { Zx(i) ? (this.core.history.set(t, i), this.onRelayEventRequest({ topic: t, payload: i })) : Xx(i) && (await this.core.history.resolve(i), await this.onRelayEventResponse({ topic: t, payload: i }), this.core.history.delete(t, i.id)) } catch (o) { this.logger.error(o) } })) } registerExpirerEvents() { this.core.expirer.on(q_, (async e => { const { topic: t } = Mv(e.target); t && this.pairings.keys.includes(t) && (await this.deletePairing(t, !0), this.events.emit(j_, { topic: t })) })) } } class DS extends _x { constructor(e, t) { super(e, t), this.core = e, this.logger = t, this.records = new Map, this.events = new Bg.EventEmitter, this.name = "history", this.version = "0.3", this.cached = [], this.initialized = !1, this.storagePrefix = a_, this.init = async () => { this.initialized || (this.logger.trace("Initialized"), await this.restore(), this.cached.forEach((e => this.records.set(e.id, e))), this.cached = [], this.registerEventListeners(), this.initialized = !0) }, this.set = (e, t, n) => { if (this.isInitialized(), this.logger.debug("Setting JSON-RPC request history record"), this.logger.trace({ type: "method", method: "set", topic: e, request: t, chainId: n }), this.records.has(t.id)) return; const r = { id: t.id, topic: e, request: { method: t.method, params: t.params || null }, chainId: n, expiry: Ov(ny.THIRTY_DAYS) }; this.records.set(r.id, r), this.persist(), this.events.emit(D_, r) }, this.resolve = async e => { if (this.isInitialized(), this.logger.debug("Updating JSON-RPC response history record"), this.logger.trace({ type: "method", method: "update", response: e }), !this.records.has(e.id)) return; const t = await this.getRecord(e.id); typeof t.response > "u" && (t.response = Qx(e) ? { error: e.error } : { result: e.result }, this.records.set(t.id, t), this.persist(), this.events.emit(U_, t)) }, this.get = async (e, t) => (this.isInitialized(), this.logger.debug("Getting record"), this.logger.trace({ type: "method", method: "get", topic: e, id: t }), await this.getRecord(t)), this.delete = (e, t) => { this.isInitialized(), this.logger.debug("Deleting record"), this.logger.trace({ type: "method", method: "delete", id: t }), this.values.forEach((n => { if (n.topic === e) { if (typeof t < "u" && n.id !== t) return; this.records.delete(n.id), this.events.emit(F_, n) } })), this.persist() }, this.exists = async (e, t) => (this.isInitialized(), !!this.records.has(t) && (await this.getRecord(t)).topic === e), this.on = (e, t) => { this.events.on(e, t) }, this.once = (e, t) => { this.events.once(e, t) }, this.off = (e, t) => { this.events.off(e, t) }, this.removeListener = (e, t) => { this.events.removeListener(e, t) }, this.logger = wx(t, this.name) } get context() { return vx(this.logger) } get storageKey() { return this.storagePrefix + this.version + this.core.customStoragePrefix + "//" + this.name } get size() { return this.records.size } get keys() { return Array.from(this.records.keys()) } get values() { return Array.from(this.records.values()) } get pending() { const e = []; return this.values.forEach((t => { if (typeof t.response < "u") return; const n = { topic: t.topic, request: Ux(t.request.method, t.request.params, t.id), chainId: t.chainId }; return e.push(n) })), e } async setJsonRpcRecords(e) { await this.core.storage.setItem(this.storageKey, e) } async getJsonRpcRecords() { return await this.core.storage.getItem(this.storageKey) } getRecord(e) { this.isInitialized(); const t = this.records.get(e); if (!t) { const { message: t } = Qw("NO_MATCHING_KEY", `${this.name}: ${e}`); throw new Error(t) } return t } async persist() { await this.setJsonRpcRecords(this.values), this.events.emit(B_) } async restore() { try { const e = await this.getJsonRpcRecords(); if (typeof e > "u" || !e.length) return; if (this.records.size) { const { message: e } = Qw("RESTORE_WILL_OVERRIDE", this.name); throw this.logger.error(e), new Error(e) } this.cached = e, this.logger.debug(`Successfully Restored records for ${this.name}`), this.logger.trace({ type: "method", method: "restore", records: this.values }) } catch (t0) { this.logger.debug(`Failed to Restore records for ${this.name}`), this.logger.error(t0) } } registerEventListeners() { this.events.on(D_, (e => { const t = D_; this.logger.info(`Emitting ${t}`), this.logger.debug({ type: "event", event: t, record: e }) })), this.events.on(U_, (e => { const t = U_; this.logger.info(`Emitting ${t}`), this.logger.debug({ type: "event", event: t, record: e }) })), this.events.on(F_, (e => { const t = F_; this.logger.info(`Emitting ${t}`), this.logger.debug({ type: "event", event: t, record: e }) })), this.core.heartbeat.on(SE, (() => { this.cleanup() })) } cleanup() { try { this.isInitialized(); let e = !1; this.records.forEach((t => { (0, ny.toMiliseconds)(t.expiry || 0) - Date.now() <= 0 && (this.logger.info(`Deleting expired history log: ${t.id}`), this.records.delete(t.id), this.events.emit(F_, t, !1), e = !0) })), e && this.persist() } catch (t0) { this.logger.warn(t0) } } isInitialized() { if (!this.initialized) { const { message: e } = Qw("NOT_INITIALIZED", this.name); throw new Error(e) } } } class US extends kx { constructor(e, t) { super(e, t), this.core = e, this.logger = t, this.expirations = new Map, this.events = new Bg.EventEmitter, this.name = "expirer", this.version = "0.3", this.cached = [], this.initialized = !1, this.storagePrefix = a_, this.init = async () => { this.initialized || (this.logger.trace("Initialized"), await this.restore(), this.cached.forEach((e => this.expirations.set(e.target, e))), this.cached = [], this.registerEventListeners(), this.initialized = !0) }, this.has = e => { try { const t = this.formatTarget(e); return typeof this.getExpiration(t) < "u" } catch { return !1 } }, this.set = (e, t) => { this.isInitialized(); const n = this.formatTarget(e), r = { target: n, expiry: t }; this.expirations.set(n, r), this.checkExpiry(n, r), this.events.emit(W_, { target: n, expiration: r }) }, this.get = e => { this.isInitialized(); const t = this.formatTarget(e); return this.getExpiration(t) }, this.del = e => { if (this.isInitialized(), this.has(e)) { const t = this.formatTarget(e), n = this.getExpiration(t); this.expirations.delete(t), this.events.emit(z_, { target: t, expiration: n }) } }, this.on = (e, t) => { this.events.on(e, t) }, this.once = (e, t) => { this.events.once(e, t) }, this.off = (e, t) => { this.events.off(e, t) }, this.removeListener = (e, t) => { this.events.removeListener(e, t) }, this.logger = wx(t, this.name) } get context() { return vx(this.logger) } get storageKey() { return this.storagePrefix + this.version + this.core.customStoragePrefix + "//" + this.name } get length() { return this.expirations.size } get keys() { return Array.from(this.expirations.keys()) } get values() { return Array.from(this.expirations.values()) } formatTarget(e) { if ("string" == typeof e) return function (e) { return Pv("topic", e) }(e); if ("number" == typeof e) return function (e) { return Pv("id", e) }(e); const { message: t } = Qw("UNKNOWN_TYPE", "Target type: " + typeof e); throw new Error(t) } async setExpirations(e) { await this.core.storage.setItem(this.storageKey, e) } async getExpirations() { return await this.core.storage.getItem(this.storageKey) } async persist() { await this.setExpirations(this.values), this.events.emit(H_) } async restore() { try { const e = await this.getExpirations(); if (typeof e > "u" || !e.length) return; if (this.expirations.size) { const { message: e } = Qw("RESTORE_WILL_OVERRIDE", this.name); throw this.logger.error(e), new Error(e) } this.cached = e, this.logger.debug(`Successfully Restored expirations for ${this.name}`), this.logger.trace({ type: "method", method: "restore", expirations: this.values }) } catch (t0) { this.logger.debug(`Failed to Restore expirations for ${this.name}`), this.logger.error(t0) } } getExpiration(e) { const t = this.expirations.get(e); if (!t) { const { message: t } = Qw("NO_MATCHING_KEY", `${this.name}: ${e}`); throw this.logger.warn(t), new Error(t) } return t } checkExpiry(e, t) { const { expiry: n } = t; (0, ny.toMiliseconds)(n) - Date.now() <= 0 && this.expire(e, t) } expire(e, t) { this.expirations.delete(e), this.events.emit(q_, { target: e, expiration: t }) } checkExpirations() { this.core.relayer.connected && this.expirations.forEach(((e, t) => this.checkExpiry(t, e))) } registerEventListeners() { this.core.heartbeat.on(SE, (() => this.checkExpirations())), this.events.on(W_, (e => { const t = W_; this.logger.info(`Emitting ${t}`), this.logger.debug({ type: "event", event: t, data: e }), this.persist() })), this.events.on(q_, (e => { const t = q_; this.logger.info(`Emitting ${t}`), this.logger.debug({ type: "event", event: t, data: e }), this.persist() })), this.events.on(z_, (e => { const t = z_; this.logger.info(`Emitting ${t}`), this.logger.debug({ type: "event", event: t, data: e }), this.persist() })) } isInitialized() { if (!this.initialized) { const { message: e } = Qw("NOT_INITIALIZED", this.name); throw new Error(e) } } } class FS extends class { constructor(e, t, n) { this.core = e, this.logger = t, this.store = n } }{ constructor(e, t, n) { super(e, t, n), this.core = e, this.logger = t, this.store = n, this.name = "verify-api", this.verifyUrlV3 = K_, this.storagePrefix = a_, this.version = 2, this.init = async () => { var e; this.isDevEnv || (this.publicKey = await this.store.getItem(this.storeKey), this.publicKey && (0, ny.toMiliseconds)(null == (e = this.publicKey) ? void 0 : e.expiresAt) < Date.now() && (this.logger.debug("verify v2 public key expired"), await this.removePublicKey())) }, this.register = async e => { if (!Ev() || this.isDevEnv) return; const t = window.location.origin, { id: n, decryptedId: r } = e, i = `${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${t}&id=${n}&decryptedId=${r}`; try { const e = (0, ry.getDocument)(), t = this.startAbortTimer(5 * ny.ONE_SECOND), r = await new Promise(((r, o) => { const s = () => { window.removeEventListener("message", c), e.body.removeChild(a), o("attestation aborted") }; this.abortController.signal.addEventListener("abort", s); const a = e.createElement("iframe"); a.src = i, a.style.display = "none", a.addEventListener("error", s, { signal: this.abortController.signal }); const c = i => { if (i.data && "string" == typeof i.data) try { const o = JSON.parse(i.data); if ("verify_attestation" === o.type) { if (Jb(o.attestation).payload.id !== n) return; clearInterval(t), e.body.removeChild(a), this.abortController.signal.removeEventListener("abort", s), window.removeEventListener("message", c), r(null === o.attestation ? "" : o.attestation) } } catch (o) { this.logger.warn(o) } }; e.body.appendChild(a), window.addEventListener("message", c, { signal: this.abortController.signal }) })); return this.logger.debug("jwt attestation", r), r } catch (o) { this.logger.warn(o) } return "" }, this.resolve = async e => { if (this.isDevEnv) return ""; const { attestationId: t, hash: n, encryptedId: r } = e; if ("" === t) return void this.logger.debug("resolve: attestationId is empty, skipping"); if (t) { if (Jb(t).payload.id !== r) return; const e = await this.isValidJwtAttestation(t); if (e) return e.isVerified ? e : void this.logger.warn("resolve: jwt attestation: origin url not verified") } if (!n) return; const i = this.getVerifyUrl(e?.verifyUrl); return this.fetchAttestation(n, i) }, this.fetchAttestation = async (e, t) => { this.logger.debug(`resolving attestation: ${e} from url: ${t}`); const n = this.startAbortTimer(5 * ny.ONE_SECOND), r = await fetch(`${t}/attestation/${e}?v2Supported=true`, { signal: this.abortController.signal }); return clearTimeout(n), 200 === r.status ? await r.json() : void 0 }, this.getVerifyUrl = e => { let t = e || V_; return Y_.includes(t) || (this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${V_}`), t = V_), t }, this.fetchPublicKey = async () => { try { this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`); const e = this.startAbortTimer(ny.FIVE_SECONDS), t = await fetch(`${this.verifyUrlV3}/public-key`, { signal: this.abortController.signal }); return clearTimeout(e), await t.json() } catch (e) { this.logger.warn(e) } }, this.persistPublicKey = async e => { this.logger.debug("persisting public key to local storage", e), await this.store.setItem(this.storeKey, e), this.publicKey = e }, this.removePublicKey = async () => { this.logger.debug("removing verify v2 public key from storage"), await this.store.removeItem(this.storeKey), this.publicKey = void 0 }, this.isValidJwtAttestation = async e => { const t = await this.getPublicKey(); try { if (t) return this.validateAttestation(e, t) } catch (r) { this.logger.error(r), this.logger.warn("error validating attestation") } const n = await this.fetchAndPersistPublicKey(); try { if (n) return this.validateAttestation(e, n) } catch (r) { this.logger.error(r), this.logger.warn("error validating attestation") } }, this.getPublicKey = async () => this.publicKey ? this.publicKey : await this.fetchAndPersistPublicKey(), this.fetchAndPersistPublicKey = async () => { if (this.fetchPromise) return await this.fetchPromise, this.publicKey; this.fetchPromise = new Promise((async e => { const t = await this.fetchPublicKey(); t && (await this.persistPublicKey(t), e(t)) })); const e = await this.fetchPromise; return this.fetchPromise = void 0, e }, this.validateAttestation = (e, t) => { const n = Pw(e, t.publicKey), r = { hasExpired: (0, ny.toMiliseconds)(n.exp) < Date.now(), payload: n }; if (r.hasExpired) throw this.logger.warn("resolve: jwt attestation expired"), new Error("JWT attestation expired"); return { origin: r.payload.origin, isScam: r.payload.isScam, isVerified: r.payload.isVerified } }, this.logger = wx(t, this.name), this.abortController = new AbortController, this.isDevEnv = Fv(), this.init() } get storeKey() { return this.storagePrefix + this.version + this.core.customStoragePrefix + "//verify:public:key" } get context() { return vx(this.logger) } startAbortTimer(e) { return this.abortController = new AbortController, setTimeout((() => this.abortController.abort()), (0, ny.toMiliseconds)(e)) } } class BS extends class { constructor(e, t) { this.projectId = e, this.logger = t } }{ constructor(e, t) { super(e, t), this.projectId = e, this.logger = t, this.context = "echo", this.registerDeviceToken = async e => { const { clientId: t, token: n, notificationType: r, enableEncrypted: i = !1 } = e, o = `https://echo.walletconnect.com/${this.projectId}/clients`; await fetch(o, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ client_id: t, type: r, token: n, always_raw: i }) }) }, this.logger = wx(t, this.context) } } var WS = Object.defineProperty, zS = Object.getOwnPropertySymbols, qS = Object.prototype.hasOwnProperty, HS = Object.prototype.propertyIsEnumerable, GS = (e, t, n) => t in e ? WS(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, VS = (e, t) => { for (var n in t || (t = {})) qS.call(t, n) && GS(e, n, t[n]); if (zS) for (var n of zS(t)) HS.call(t, n) && GS(e, n, t[n]); return e }; class KS extends class { constructor(e, t, n) { this.core = e, this.logger = t, this.telemetryEnabled = n } }{ constructor(e, t, n = !0) { super(e, t, n), this.core = e, this.logger = t, this.context = "event-client", this.storagePrefix = a_, this.storageVersion = .1, this.events = new Map, this.shouldPersist = !1, this.init = async () => { if (!Fv()) try { const e = { eventId: Uv(), timestamp: Date.now(), domain: this.getAppDomain(), props: { event: "INIT", type: "", properties: { client_id: await this.core.crypto.getClientId(), user_agent: Cv(this.core.relayer.protocol, this.core.relayer.version, A_) } } }; await this.sendEvent([e]) } catch (e) { this.logger.warn(e) } }, this.createEvent = e => { const { event: t = "ERROR", type: n = "", properties: { topic: r, trace: i } } = e, o = Uv(), s = this.core.projectId || "", a = Date.now(), c = VS({ eventId: o, timestamp: a, props: { event: t, type: n, properties: { topic: r, trace: i } }, bundleId: s, domain: this.getAppDomain() }, this.setMethods(o)); return this.telemetryEnabled && (this.events.set(o, c), this.shouldPersist = !0), c }, this.getEvent = e => { const { eventId: t, topic: n } = e; if (t) return this.events.get(t); const r = Array.from(this.events.values()).find((e => e.props.properties.topic === n)); return r ? VS(VS({}, r), this.setMethods(r.eventId)) : void 0 }, this.deleteEvent = e => { const { eventId: t } = e; this.events.delete(t), this.shouldPersist = !0 }, this.setEventListeners = () => { this.core.heartbeat.on(SE, (async () => { this.shouldPersist && await this.persist(), this.events.forEach((e => { (0, ny.fromMiliseconds)(Date.now()) - (0, ny.fromMiliseconds)(e.timestamp) > 86400 && (this.events.delete(e.eventId), this.shouldPersist = !0) })) })) }, this.setMethods = e => ({ addTrace: t => this.addTrace(e, t), setError: t => this.setError(e, t) }), this.addTrace = (e, t) => { const n = this.events.get(e); n && (n.props.properties.trace.push(t), this.events.set(e, n), this.shouldPersist = !0) }, this.setError = (e, t) => { const n = this.events.get(e); n && (n.props.type = t, n.timestamp = Date.now(), this.events.set(e, n), this.shouldPersist = !0) }, this.persist = async () => { await this.core.storage.setItem(this.storageKey, Array.from(this.events.values())), this.shouldPersist = !1 }, this.restore = async () => { try { const e = await this.core.storage.getItem(this.storageKey) || []; if (!e.length) return; e.forEach((e => { this.events.set(e.eventId, VS(VS({}, e), this.setMethods(e.eventId))) })) } catch (e) { this.logger.warn(e) } }, this.submit = async () => { if (!this.telemetryEnabled || 0 === this.events.size) return; const e = []; for (const [n, r] of this.events) r.props.type && e.push(r); if (0 !== e.length) try { if ((await this.sendEvent(e)).ok) for (const t of e) this.events.delete(t.eventId), this.shouldPersist = !0 } catch (t) { this.logger.warn(t) } }, this.sendEvent = async e => { const t = this.getAppDomain() ? "" : "&sp=desktop"; return await fetch(`https://pulse.walletconnect.org/batch?projectId=${this.core.projectId}&st=events_sdk&sv=js-2.17.2${t}`, { method: "POST", body: JSON.stringify(e) }) }, this.getAppDomain = () => _v().url, this.logger = wx(t, this.context), this.telemetryEnabled = n, n ? this.restore().then((async () => { await this.submit(), this.setEventListeners() })) : this.persist() } get storageKey() { return this.storagePrefix + this.storageVersion + this.core.customStoragePrefix + "//" + this.context } } var YS = Object.defineProperty, ZS = Object.getOwnPropertySymbols, XS = Object.prototype.hasOwnProperty, JS = Object.prototype.propertyIsEnumerable, QS = (e, t, n) => t in e ? YS(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, ek = (e, t) => { for (var n in t || (t = {})) XS.call(t, n) && QS(e, n, t[n]); if (ZS) for (var n of ZS(t)) JS.call(t, n) && QS(e, n, t[n]); return e }; class tk extends xx { constructor(e) { var t; super(e), this.protocol = "wc", this.version = 2, this.name = s_, this.events = new Bg.EventEmitter, this.initialized = !1, this.on = (e, t) => this.events.on(e, t), this.once = (e, t) => this.events.once(e, t), this.off = (e, t) => this.events.off(e, t), this.removeListener = (e, t) => this.events.removeListener(e, t), this.dispatchEnvelope = ({ topic: e, message: t, sessionExists: n }) => { if (!e || !t) return; const r = { topic: e, message: t, publishedAt: Date.now(), transportType: S_.link_mode }; this.relayer.onLinkMessageEvent(r, { sessionExists: n }) }, this.projectId = e?.projectId, this.relayUrl = e?.relayUrl || f_, this.customStoragePrefix = null != e && e.customStoragePrefix ? `:${e.customStoragePrefix}` : ""; const n = bx({ level: "string" == typeof e?.logger && e.logger ? e.logger : c_ }), { logger: r, chunkLoggerController: i } = Ex({ opts: n, maxSizeInBytes: e?.maxLogBlobSizeInBytes, loggerOverride: e?.logger }); this.logChunkController = i, null != (t = this.logChunkController) && t.downloadLogsBlobInBrowser && (window.downloadLogsBlobInBrowser = async () => { var e, t; null != (e = this.logChunkController) && e.downloadLogsBlobInBrowser && (null == (t = this.logChunkController) || t.downloadLogsBlobInBrowser({ clientId: await this.crypto.getClientId() })) }), this.logger = wx(r, this.name), this.heartbeat = new kE, this.crypto = new lS(this, this.logger, e?.keychain), this.history = new DS(this, this.logger), this.expirer = new US(this, this.logger), this.storage = null != e && e.storage ? e.storage : new ex(ek(ek({}, l_), e?.storageOptions)), this.relayer = new TS({ core: this, logger: this.logger, relayUrl: this.relayUrl, projectId: this.projectId }), this.pairing = new LS(this, this.logger), this.verify = new FS(this, this.logger, this.storage), this.echoClient = new BS(this.projectId || "", this.logger), this.linkModeSupportedApps = [], this.eventClient = new KS(this, this.logger, e?.telemetryEnabled) } static async init(e) { const t = new tk(e); await t.initialize(); const n = await t.crypto.getClientId(); return await t.storage.setItem("WALLETCONNECT_CLIENT_ID", n), t } get context() { return vx(this.logger) } async start() { this.initialized || await this.initialize() } async getLogsBlob() { var e; return null == (e = this.logChunkController) ? void 0 : e.logsToBlob({ clientId: await this.crypto.getClientId() }) } async addLinkModeSupportedApp(e) { this.linkModeSupportedApps.includes(e) || (this.linkModeSupportedApps.push(e), await this.storage.setItem(k_, this.linkModeSupportedApps)) } async initialize() { this.logger.trace("Initialized"); try { await this.crypto.init(), await this.history.init(), await this.expirer.init(), await this.relayer.init(), await this.heartbeat.init(), await this.pairing.init(), this.eventClient.init(), this.linkModeSupportedApps = await this.storage.getItem(k_) || [], this.initialized = !0, this.logger.info("Core Initialization Success") } catch (t0) { throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`, t0), this.logger.error(t0.message), t0 } } } const nk = tk, rk = "client", ik = "wc@2:client:", ok = rk, sk = "error", ak = "WALLETCONNECT_DEEPLINK_CHOICE", ck = "Proposal expired", lk = ny.SEVEN_DAYS, uk = { wc_sessionPropose: { req: { ttl: ny.FIVE_MINUTES, prompt: !0, tag: 1100 }, res: { ttl: ny.FIVE_MINUTES, prompt: !1, tag: 1101 }, reject: { ttl: ny.FIVE_MINUTES, prompt: !1, tag: 1120 }, autoReject: { ttl: ny.FIVE_MINUTES, prompt: !1, tag: 1121 } }, wc_sessionSettle: { req: { ttl: ny.FIVE_MINUTES, prompt: !1, tag: 1102 }, res: { ttl: ny.FIVE_MINUTES, prompt: !1, tag: 1103 } }, wc_sessionUpdate: { req: { ttl: ny.ONE_DAY, prompt: !1, tag: 1104 }, res: { ttl: ny.ONE_DAY, prompt: !1, tag: 1105 } }, wc_sessionExtend: { req: { ttl: ny.ONE_DAY, prompt: !1, tag: 1106 }, res: { ttl: ny.ONE_DAY, prompt: !1, tag: 1107 } }, wc_sessionRequest: { req: { ttl: ny.FIVE_MINUTES, prompt: !0, tag: 1108 }, res: { ttl: ny.FIVE_MINUTES, prompt: !1, tag: 1109 } }, wc_sessionEvent: { req: { ttl: ny.FIVE_MINUTES, prompt: !0, tag: 1110 }, res: { ttl: ny.FIVE_MINUTES, prompt: !1, tag: 1111 } }, wc_sessionDelete: { req: { ttl: ny.ONE_DAY, prompt: !1, tag: 1112 }, res: { ttl: ny.ONE_DAY, prompt: !1, tag: 1113 } }, wc_sessionPing: { req: { ttl: ny.ONE_DAY, prompt: !1, tag: 1114 }, res: { ttl: ny.ONE_DAY, prompt: !1, tag: 1115 } }, wc_sessionAuthenticate: { req: { ttl: ny.ONE_HOUR, prompt: !0, tag: 1116 }, res: { ttl: ny.ONE_HOUR, prompt: !1, tag: 1117 }, reject: { ttl: ny.FIVE_MINUTES, prompt: !1, tag: 1118 }, autoReject: { ttl: ny.FIVE_MINUTES, prompt: !1, tag: 1119 } } }, dk = { min: ny.FIVE_MINUTES, max: ny.SEVEN_DAYS }, hk = "IDLE", fk = "ACTIVE", pk = ["wc_sessionPropose", "wc_sessionRequest", "wc_authRequest", "wc_sessionAuthenticate"], mk = "wc@1.5:auth:", gk = "wc@1.5:auth::PUB_KEY"; var yk = Object.defineProperty, bk = Object.defineProperties, vk = Object.getOwnPropertyDescriptors, wk = Object.getOwnPropertySymbols, Ek = Object.prototype.hasOwnProperty, xk = Object.prototype.propertyIsEnumerable, _k = (e, t, n) => t in e ? yk(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, Ck = (e, t) => { for (var n in t || (t = {})) Ek.call(t, n) && _k(e, n, t[n]); if (wk) for (var n of wk(t)) xk.call(t, n) && _k(e, n, t[n]); return e }, Ak = (e, t) => bk(e, vk(t)); class Sk extends class { constructor(e) { this.client = e } }{ constructor(e) { super(e), this.name = "engine", this.events = new (Wg()), this.initialized = !1, this.requestQueue = { state: hk, queue: [] }, this.sessionRequestQueue = { state: hk, queue: [] }, this.requestQueueDelay = ny.ONE_SECOND, this.expectedPairingMethodMap = new Map, this.recentlyDeletedMap = new Map, this.recentlyDeletedLimit = 200, this.relayMessageCache = [], this.init = async () => { this.initialized || (await this.cleanup(), this.registerRelayerEvents(), this.registerExpirerEvents(), this.registerPairingEvents(), await this.registerLinkModeListeners(), this.client.core.pairing.register({ methods: Object.keys(uk) }), this.initialized = !0, setTimeout((() => { this.sessionRequestQueue.queue = this.getPendingSessionRequests(), this.processSessionRequestQueue() }), (0, ny.toMiliseconds)(this.requestQueueDelay))) }, this.connect = async e => { this.isInitialized(), await this.confirmOnlineStateOrThrow(); const t = Ak(Ck({}, e), { requiredNamespaces: e.requiredNamespaces || {}, optionalNamespaces: e.optionalNamespaces || {} }); await this.isValidConnect(t); const { pairingTopic: n, requiredNamespaces: r, optionalNamespaces: i, sessionProperties: o, relays: s } = t; let a, c = n, l = !1; try { c && (l = this.client.core.pairing.pairings.get(c).active) } catch (b) { throw this.client.logger.error(`connect() -> pairing.get(${c}) failed`), b } if (!c || !l) { const { topic: e, uri: t } = await this.client.core.pairing.create(); c = e, a = t } if (!c) { const { message: e } = Qw("NO_MATCHING_KEY", `connect() pairing topic: ${c}`); throw new Error(e) } const u = await this.client.core.crypto.generateKeyPair(), d = uk.wc_sessionPropose.req.ttl || ny.FIVE_MINUTES, h = Ov(d), f = Ck({ requiredNamespaces: r, optionalNamespaces: i, relays: s ?? [{ protocol: "irn" }], proposer: { publicKey: u, metadata: this.client.metadata }, expiryTimestamp: h, pairingTopic: c }, o && { sessionProperties: o }), { reject: p, resolve: m, done: g } = Tv(d, ck); this.events.once(jv("session_connect"), (async ({ error: e, session: t }) => { if (e) p(e); else if (t) { t.self.publicKey = u; const e = Ak(Ck({}, t), { pairingTopic: f.pairingTopic, requiredNamespaces: f.requiredNamespaces, optionalNamespaces: f.optionalNamespaces, transportType: S_.relay }); await this.client.session.set(t.topic, e), await this.setExpiry(t.topic, t.expiry), c && await this.client.core.pairing.updateMetadata({ topic: c, metadata: t.peer.metadata }), this.cleanupDuplicatePairings(e), m(e) } })); const y = await this.sendRequest({ topic: c, method: "wc_sessionPropose", params: f, throwOnFailedPublish: !0 }); return await this.setProposal(y, Ck({ id: y }, f)), { uri: a, approval: g } }, this.pair = async e => { this.isInitialized(), await this.confirmOnlineStateOrThrow(); try { return await this.client.core.pairing.pair(e) } catch (t) { throw this.client.logger.error("pair() failed"), t } }, this.approve = async e => { var t, n, r; const i = this.client.core.eventClient.createEvent({ properties: { topic: null == (t = e?.id) ? void 0 : t.toString(), trace: [hC] } }); try { this.isInitialized(), await this.confirmOnlineStateOrThrow() } catch (x) { throw i.setError(EC), x } try { await this.isValidProposalId(e?.id) } catch (x) { throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`), i.setError(kC), x } try { await this.isValidApprove(e) } catch (x) { throw this.client.logger.error("approve() -> isValidApprove() failed"), i.setError(SC), x } const { id: o, relayProtocol: s, namespaces: a, sessionProperties: c, sessionConfig: l } = e, u = this.client.proposal.get(o); this.client.core.eventClient.deleteEvent({ eventId: i.eventId }); const { pairingTopic: d, proposer: h, requiredNamespaces: f, optionalNamespaces: p } = u; let m = null == (n = this.client.core.eventClient) ? void 0 : n.getEvent({ topic: d }); m || (m = null == (r = this.client.core.eventClient) ? void 0 : r.createEvent({ type: hC, properties: { topic: d, trace: [hC, fC] } })); const g = await this.client.core.crypto.generateKeyPair(), y = h.publicKey, b = await this.client.core.crypto.generateSharedKey(g, y), v = Ck(Ck({ relay: { protocol: s ?? "irn" }, namespaces: a, controller: { publicKey: g, metadata: this.client.metadata }, expiry: Ov(lk) }, c && { sessionProperties: c }), l && { sessionConfig: l }), w = S_.relay; m.addTrace(pC); try { await this.client.core.relayer.subscribe(b, { transportType: w }) } catch (x) { throw m.setError(_C), x } m.addTrace(mC); const E = Ak(Ck({}, v), { topic: b, requiredNamespaces: f, optionalNamespaces: p, pairingTopic: d, acknowledged: !1, self: v.controller, peer: { publicKey: h.publicKey, metadata: h.metadata }, controller: g, transportType: S_.relay }); await this.client.session.set(b, E), m.addTrace(bC); try { m.addTrace(vC), await this.sendRequest({ topic: b, method: "wc_sessionSettle", params: v, throwOnFailedPublish: !0 }).catch((e => { throw m?.setError(AC), e })), m.addTrace(wC), m.addTrace(gC), await this.sendResult({ id: o, topic: d, result: { relay: { protocol: s ?? "irn" }, responderPublicKey: g }, throwOnFailedPublish: !0 }).catch((e => { throw m?.setError(CC), e })), m.addTrace(yC) } catch (x) { throw this.client.logger.error(x), this.client.session.delete(b, eE("USER_DISCONNECTED")), await this.client.core.relayer.unsubscribe(b), x } return this.client.core.eventClient.deleteEvent({ eventId: m.eventId }), await this.client.core.pairing.updateMetadata({ topic: d, metadata: h.metadata }), await this.client.proposal.delete(o, eE("USER_DISCONNECTED")), await this.client.core.pairing.activate({ topic: d }), await this.setExpiry(b, Ov(lk)), { topic: b, acknowledged: () => Promise.resolve(this.client.session.get(b)) } }, this.reject = async e => { this.isInitialized(), await this.confirmOnlineStateOrThrow(); try { await this.isValidReject(e) } catch (i) { throw this.client.logger.error("reject() -> isValidReject() failed"), i } const { id: t, reason: n } = e; let r; try { r = this.client.proposal.get(t).pairingTopic } catch (i) { throw this.client.logger.error(`reject() -> proposal.get(${t}) failed`), i } r && (await this.sendError({ id: t, topic: r, error: n, rpcOpts: uk.wc_sessionPropose.reject }), await this.client.proposal.delete(t, eE("USER_DISCONNECTED"))) }, this.update = async e => { this.isInitialized(), await this.confirmOnlineStateOrThrow(); try { await this.isValidUpdate(e) } catch (l) { throw this.client.logger.error("update() -> isValidUpdate() failed"), l } const { topic: t, namespaces: n } = e, { done: r, resolve: i, reject: o } = Tv(), s = Lx(), a = Dx().toString(), c = this.client.session.get(t).namespaces; return this.events.once(jv("session_update", s), (({ error: e }) => { e ? o(e) : i() })), await this.client.session.update(t, { namespaces: n }), await this.sendRequest({ topic: t, method: "wc_sessionUpdate", params: { namespaces: n }, throwOnFailedPublish: !0, clientRpcId: s, relayRpcId: a }).catch((e => { this.client.logger.error(e), this.client.session.update(t, { namespaces: c }), o(e) })), { acknowledged: r } }, this.extend = async e => { this.isInitialized(), await this.confirmOnlineStateOrThrow(); try { await this.isValidExtend(e) } catch (s) { throw this.client.logger.error("extend() -> isValidExtend() failed"), s } const { topic: t } = e, n = Lx(), { done: r, resolve: i, reject: o } = Tv(); return this.events.once(jv("session_extend", n), (({ error: e }) => { e ? o(e) : i() })), await this.setExpiry(t, Ov(lk)), this.sendRequest({ topic: t, method: "wc_sessionExtend", params: {}, clientRpcId: n, throwOnFailedPublish: !0 }).catch((e => { o(e) })), { acknowledged: r } }, this.request = async e => { this.isInitialized(); try { await this.isValidRequest(e) } catch (z) { throw this.client.logger.error("request() -> isValidRequest() failed"), z } const { chainId: t, request: n, topic: r, expiry: i = uk.wc_sessionRequest.req.ttl } = e, o = this.client.session.get(r); o?.transportType === S_.relay && await this.confirmOnlineStateOrThrow(); const s = Lx(), a = Dx().toString(), { done: c, resolve: l, reject: u } = Tv(i, "Request expired. Please try again."); this.events.once(jv("session_request", s), (({ error: e, result: t }) => { e ? u(e) : l(t) })); const d = this.getAppLinkIfEnabled(o.peer.metadata, o.transportType); return d ? (await this.sendRequest({ clientRpcId: s, relayRpcId: a, topic: r, method: "wc_sessionRequest", params: { request: Ak(Ck({}, n), { expiryTimestamp: Ov(i) }), chainId: t }, expiry: i, throwOnFailedPublish: !0, appLink: d }).catch((e => u(e))), this.client.events.emit("session_request_sent", { topic: r, request: n, chainId: t, id: s }), await c()) : await Promise.all([new Promise((async e => { await this.sendRequest({ clientRpcId: s, relayRpcId: a, topic: r, method: "wc_sessionRequest", params: { request: Ak(Ck({}, n), { expiryTimestamp: Ov(i) }), chainId: t }, expiry: i, throwOnFailedPublish: !0 }).catch((e => u(e))), this.client.events.emit("session_request_sent", { topic: r, request: n, chainId: t, id: s }), e() })), new Promise((async e => { var t; if (null == (t = o.sessionConfig) || !t.disableDeepLink) { const e = await async function (e, t) { let n = ""; try { if (Ev() && (n = localStorage.getItem(t), n)) return n; n = await e.getItem(t) } catch (i) { console.error(i) } return n }(this.client.core.storage, ak); await Lv({ id: s, topic: r, wcDeepLink: e }) } e() })), c()]).then((e => e[2])) }, this.respond = async e => { this.isInitialized(), await this.isValidRespond(e); const { topic: t, response: n } = e, { id: r } = n, i = this.client.session.get(t); i.transportType === S_.relay && await this.confirmOnlineStateOrThrow(); const o = this.getAppLinkIfEnabled(i.peer.metadata, i.transportType); Jx(n) ? await this.sendResult({ id: r, topic: t, result: n.result, throwOnFailedPublish: !0, appLink: o }) : Qx(n) && await this.sendError({ id: r, topic: t, error: n.error, appLink: o }), this.cleanupAfterResponse(e) }, this.ping = async e => { this.isInitialized(), await this.confirmOnlineStateOrThrow(); try { await this.isValidPing(e) } catch (n) { throw this.client.logger.error("ping() -> isValidPing() failed"), n } const { topic: t } = e; if (this.client.session.keys.includes(t)) { const e = Lx(), n = Dx().toString(), { done: r, resolve: i, reject: o } = Tv(); this.events.once(jv("session_ping", e), (({ error: e }) => { e ? o(e) : i() })), await Promise.all([this.sendRequest({ topic: t, method: "wc_sessionPing", params: {}, throwOnFailedPublish: !0, clientRpcId: e, relayRpcId: n }), r()]) } else this.client.core.pairing.pairings.keys.includes(t) && await this.client.core.pairing.ping({ topic: t }) }, this.emit = async e => { this.isInitialized(), await this.confirmOnlineStateOrThrow(), await this.isValidEmit(e); const { topic: t, event: n, chainId: r } = e, i = Dx().toString(); await this.sendRequest({ topic: t, method: "wc_sessionEvent", params: { event: n, chainId: r }, throwOnFailedPublish: !0, relayRpcId: i }) }, this.disconnect = async e => { this.isInitialized(), await this.confirmOnlineStateOrThrow(), await this.isValidDisconnect(e); const { topic: t } = e; if (this.client.session.keys.includes(t)) await this.sendRequest({ topic: t, method: "wc_sessionDelete", params: eE("USER_DISCONNECTED"), throwOnFailedPublish: !0 }), await this.deleteSession({ topic: t, emitEvent: !1 }); else { if (!this.client.core.pairing.pairings.keys.includes(t)) { const { message: e } = Qw("MISMATCHED_TOPIC", `Session or pairing topic not found: ${t}`); throw new Error(e) } await this.client.core.pairing.disconnect({ topic: t }) } }, this.find = e => (this.isInitialized(), this.client.session.getAll().filter((t => function (e, t) { const { requiredNamespaces: n } = t, r = Object.keys(e.namespaces), i = Object.keys(n); let o = !0; return !!Sv(i, r) && (r.forEach((t => { const { accounts: r, methods: i, events: s } = e.namespaces[t], a = Vw(r), c = n[t]; (!Sv(av(t, c), a) || !Sv(c.methods, i) || !Sv(c.events, s)) && (o = !1) })), o) }(t, e)))), this.getPendingSessionRequests = () => this.client.pendingRequest.getAll(), this.authenticate = async (e, t) => { var n; this.isInitialized(), this.isValidAuthenticate(e); const r = t && this.client.core.linkModeSupportedApps.includes(t) && (null == (n = this.client.metadata.redirect) ? void 0 : n.linkMode), i = r ? S_.link_mode : S_.relay; i === S_.relay && await this.confirmOnlineStateOrThrow(); const { chains: o, statement: s = "", uri: a, domain: c, nonce: l, type: u, exp: d, nbf: h, methods: f = [], expiry: p } = e, m = [...e.resources || []], { topic: g, uri: y } = await this.client.core.pairing.create({ methods: ["wc_sessionAuthenticate"], transportType: i }); this.client.logger.info({ message: "Generated new pairing", pairing: { topic: g, uri: y } }); const b = await this.client.core.crypto.generateKeyPair(), v = xw(b); if (await Promise.all([this.client.auth.authKeys.set(gk, { responseTopic: v, publicKey: b }), this.client.auth.pairingTopics.set(v, { topic: v, pairingTopic: g })]), await this.client.core.relayer.subscribe(v, { transportType: i }), this.client.logger.info(`sending request to new pairing topic: ${g}`), f.length > 0) { const { namespace: e } = ov(o[0]); let t = lw(e, "request", f); mw(m) && (t = dw(t, m.pop())), m.push(t) } const w = p && p > uk.wc_sessionAuthenticate.req.ttl ? p : uk.wc_sessionAuthenticate.req.ttl, E = { authPayload: { type: u ?? "caip122", chains: o, statement: s, aud: a, domain: c, version: "1", nonce: l, iat: (new Date).toISOString(), exp: d, nbf: h, resources: m }, requester: { publicKey: b, metadata: this.client.metadata }, expiryTimestamp: Ov(w) }, x = { requiredNamespaces: {}, optionalNamespaces: { eip155: { chains: o, methods: [...new Set(["personal_sign", ...f])], events: ["chainChanged", "accountsChanged"] } }, relays: [{ protocol: "irn" }], pairingTopic: g, proposer: { publicKey: b, metadata: this.client.metadata }, expiryTimestamp: Ov(uk.wc_sessionPropose.req.ttl) }, { done: _, resolve: C, reject: A } = Tv(w, "Request expired"), S = async ({ error: e, session: t }) => { if (this.events.off(jv("session_request", I), k), e) A(e); else if (t) { t.self.publicKey = b, await this.client.session.set(t.topic, t), await this.setExpiry(t.topic, t.expiry), g && await this.client.core.pairing.updateMetadata({ topic: g, metadata: t.peer.metadata }); const e = this.client.session.get(t.topic); await this.deleteProposal(T), C({ session: e }) } }, k = async e => { var n, r, o; if (await this.deletePendingAuthRequest(I, { message: "fulfilled", code: 0 }), e.error) { const t = eE("WC_METHOD_UNSUPPORTED", "wc_sessionAuthenticate"); return e.error.code === t.code ? void 0 : (this.events.off(jv("session_connect"), S), A(e.error.message)) } await this.deleteProposal(T), this.events.off(jv("session_connect"), S); const { cacaos: s, responder: a } = e.result, c = [], l = []; for (const t of s) { await rw({ cacao: t, projectId: this.client.core.projectId }) || (this.client.logger.error(t, "Signature verification failed"), A(eE("SESSION_SETTLEMENT_FAILED", "Signature verification failed"))); const { p: e } = t, n = mw(e.resources), r = [tw(e.iss)], i = nw(e.iss); if (n) { const e = fw(n), t = pw(n); c.push(...e), r.push(...t) } for (const t of r) l.push(`${t}:${i}`) } const u = await this.client.core.crypto.generateSharedKey(b, a.publicKey); let d; c.length > 0 && (d = { topic: u, acknowledged: !0, self: { publicKey: b, metadata: this.client.metadata }, peer: a, controller: a.publicKey, expiry: Ov(lk), requiredNamespaces: {}, optionalNamespaces: {}, relay: { protocol: "irn" }, pairingTopic: g, namespaces: Zw([...new Set(c)], [...new Set(l)]), transportType: i }, await this.client.core.relayer.subscribe(u, { transportType: i }), await this.client.session.set(u, d), g && await this.client.core.pairing.updateMetadata({ topic: g, metadata: a.metadata }), d = this.client.session.get(u)), null != (n = this.client.metadata.redirect) && n.linkMode && null != (r = a.metadata.redirect) && r.linkMode && null != (o = a.metadata.redirect) && o.universal && t && (this.client.core.addLinkModeSupportedApp(a.metadata.redirect.universal), this.client.session.update(u, { transportType: S_.link_mode })), C({ auths: s, session: d }) }, I = Lx(), T = Lx(); let N; this.events.once(jv("session_connect"), S), this.events.once(jv("session_request", I), k); try { if (r) { const e = Ux("wc_sessionAuthenticate", E, I); this.client.core.history.set(g, e); const n = await this.client.core.crypto.encode("", e, { type: 2, encoding: vw }); N = Gw(t, g, n) } else await Promise.all([this.sendRequest({ topic: g, method: "wc_sessionAuthenticate", params: E, expiry: e.expiry, throwOnFailedPublish: !0, clientRpcId: I }), this.sendRequest({ topic: g, method: "wc_sessionPropose", params: x, expiry: uk.wc_sessionPropose.req.ttl, throwOnFailedPublish: !0, clientRpcId: T })]) } catch (P) { throw this.events.off(jv("session_connect"), S), this.events.off(jv("session_request", I), k), P } return await this.setProposal(T, Ck({ id: T }, x)), await this.setAuthRequest(I, { request: Ak(Ck({}, E), { verifyContext: {} }), pairingTopic: g, transportType: i }), { uri: N ?? y, response: _ } }, this.approveSessionAuthenticate = async e => { const { id: t, auths: n } = e, r = this.client.core.eventClient.createEvent({ properties: { topic: t.toString(), trace: [IC] } }); try { this.isInitialized() } catch (p) { throw r.setError(jC), p } const i = this.getPendingAuthRequest(t); if (!i) throw r.setError(UC), new Error(`Could not find pending auth request with id ${t}`); const o = i.transportType || S_.relay; o === S_.relay && await this.confirmOnlineStateOrThrow(); const s = i.requester.publicKey, a = await this.client.core.crypto.generateKeyPair(), c = xw(s), l = { type: 1, receiverPublicKey: s, senderPublicKey: a }, u = [], d = []; for (const m of n) { if (!(await rw({ cacao: m, projectId: this.client.core.projectId }))) { r.setError($C); const e = eE("SESSION_SETTLEMENT_FAILED", "Signature verification failed"); throw await this.sendError({ id: t, topic: c, error: e, encodeOpts: l }), new Error(e.message) } r.addTrace(NC); const { p: e } = m, n = mw(e.resources), i = [tw(e.iss)], o = nw(e.iss); if (n) { const e = fw(n), t = pw(n); u.push(...e), i.push(...t) } for (const t of i) d.push(`${t}:${o}`) } const h = await this.client.core.crypto.generateSharedKey(a, s); let f; if (r.addTrace(TC), u?.length > 0) { f = { topic: h, acknowledged: !0, self: { publicKey: a, metadata: this.client.metadata }, peer: { publicKey: s, metadata: i.requester.metadata }, controller: s, expiry: Ov(lk), authentication: n, requiredNamespaces: {}, optionalNamespaces: {}, relay: { protocol: "irn" }, pairingTopic: i.pairingTopic, namespaces: Zw([...new Set(u)], [...new Set(d)]), transportType: o }, r.addTrace(MC); try { await this.client.core.relayer.subscribe(h, { transportType: o }) } catch (p) { throw r.setError(LC), p } r.addTrace(OC), await this.client.session.set(h, f), r.addTrace(PC), await this.client.core.pairing.updateMetadata({ topic: i.pairingTopic, metadata: i.requester.metadata }) } r.addTrace(RC); try { await this.sendResult({ topic: c, id: t, result: { cacaos: n, responder: { publicKey: a, metadata: this.client.metadata } }, encodeOpts: l, throwOnFailedPublish: !0, appLink: this.getAppLinkIfEnabled(i.requester.metadata, o) }) } catch (p) { throw r.setError(DC), p } return await this.client.auth.requests.delete(t, { message: "fulfilled", code: 0 }), await this.client.core.pairing.activate({ topic: i.pairingTopic }), this.client.core.eventClient.deleteEvent({ eventId: r.eventId }), { session: f } }, this.rejectSessionAuthenticate = async e => { this.isInitialized(); const { id: t, reason: n } = e, r = this.getPendingAuthRequest(t); if (!r) throw new Error(`Could not find pending auth request with id ${t}`); r.transportType === S_.relay && await this.confirmOnlineStateOrThrow(); const i = r.requester.publicKey, o = await this.client.core.crypto.generateKeyPair(), s = xw(i), a = { type: 1, receiverPublicKey: i, senderPublicKey: o }; await this.sendError({ id: t, topic: s, error: n, encodeOpts: a, rpcOpts: uk.wc_sessionAuthenticate.reject, appLink: this.getAppLinkIfEnabled(r.requester.metadata, r.transportType) }), await this.client.auth.requests.delete(t, { message: "rejected", code: 0 }), await this.client.proposal.delete(t, eE("USER_DISCONNECTED")) }, this.formatAuthMessage = e => { this.isInitialized(); const { request: t, iss: n } = e; return iw(t, n) }, this.processRelayMessageCache = () => { setTimeout((async () => { if (0 !== this.relayMessageCache.length) for (; this.relayMessageCache.length > 0;)try { const e = this.relayMessageCache.shift(); e && await this.onRelayMessage(e) } catch (t0) { this.client.logger.error(t0) } }), 50) }, this.cleanupDuplicatePairings = async e => { if (e.pairingTopic) try { const t = this.client.core.pairing.pairings.get(e.pairingTopic), n = this.client.core.pairing.pairings.getAll().filter((n => { var r, i; return (null == (r = n.peerMetadata) ? void 0 : r.url) && (null == (i = n.peerMetadata) ? void 0 : i.url) === e.peer.metadata.url && n.topic && n.topic !== t.topic })); if (0 === n.length) return; this.client.logger.info(`Cleaning up ${n.length} duplicate pairing(s)`), await Promise.all(n.map((e => this.client.core.pairing.disconnect({ topic: e.topic })))), this.client.logger.info("Duplicate pairings clean up finished") } catch (t) { this.client.logger.error(t) } }, this.deleteSession = async e => { var t; const { topic: n, expirerHasDeleted: r = !1, emitEvent: i = !0, id: o = 0 } = e, { self: s } = this.client.session.get(n); await this.client.core.relayer.unsubscribe(n), await this.client.session.delete(n, eE("USER_DISCONNECTED")), this.addToRecentlyDeleted(n, "session"), this.client.core.crypto.keychain.has(s.publicKey) && await this.client.core.crypto.deleteKeyPair(s.publicKey), this.client.core.crypto.keychain.has(n) && await this.client.core.crypto.deleteSymKey(n), r || this.client.core.expirer.del(n), this.client.core.storage.removeItem(ak).catch((e => this.client.logger.warn(e))), this.getPendingSessionRequests().forEach((e => { e.topic === n && this.deletePendingSessionRequest(e.id, eE("USER_DISCONNECTED")) })), n === (null == (t = this.sessionRequestQueue.queue[0]) ? void 0 : t.topic) && (this.sessionRequestQueue.state = hk), i && this.client.events.emit("session_delete", { id: o, topic: n }) }, this.deleteProposal = async (e, t) => { if (t) try { const t = this.client.proposal.get(e); this.client.core.eventClient.getEvent({ topic: t.pairingTopic })?.setError(xC) } catch { } await Promise.all([this.client.proposal.delete(e, eE("USER_DISCONNECTED")), t ? Promise.resolve() : this.client.core.expirer.del(e)]), this.addToRecentlyDeleted(e, "proposal") }, this.deletePendingSessionRequest = async (e, t, n = !1) => { await Promise.all([this.client.pendingRequest.delete(e, t), n ? Promise.resolve() : this.client.core.expirer.del(e)]), this.addToRecentlyDeleted(e, "request"), this.sessionRequestQueue.queue = this.sessionRequestQueue.queue.filter((t => t.id !== e)), n && (this.sessionRequestQueue.state = hk, this.client.events.emit("session_request_expire", { id: e })) }, this.deletePendingAuthRequest = async (e, t, n = !1) => { await Promise.all([this.client.auth.requests.delete(e, t), n ? Promise.resolve() : this.client.core.expirer.del(e)]) }, this.setExpiry = async (e, t) => { this.client.session.keys.includes(e) && (this.client.core.expirer.set(e, t), await this.client.session.update(e, { expiry: t })) }, this.setProposal = async (e, t) => { this.client.core.expirer.set(e, Ov(uk.wc_sessionPropose.req.ttl)), await this.client.proposal.set(e, t) }, this.setAuthRequest = async (e, t) => { const { request: n, pairingTopic: r, transportType: i = S_.relay } = t; this.client.core.expirer.set(e, n.expiryTimestamp), await this.client.auth.requests.set(e, { authPayload: n.authPayload, requester: n.requester, expiryTimestamp: n.expiryTimestamp, id: e, pairingTopic: r, verifyContext: n.verifyContext, transportType: i }) }, this.setPendingSessionRequest = async e => { const { id: t, topic: n, params: r, verifyContext: i } = e, o = r.request.expiryTimestamp || Ov(uk.wc_sessionRequest.req.ttl); this.client.core.expirer.set(t, o), await this.client.pendingRequest.set(t, { id: t, topic: n, params: r, verifyContext: i }) }, this.sendRequest = async e => { const { topic: t, method: r, params: i, expiry: o, relayRpcId: s, clientRpcId: a, throwOnFailedPublish: c, appLink: l } = e, u = Ux(r, i, a); let d; const h = !!l; try { const e = h ? vw : bw; d = await this.client.core.crypto.encode(t, u, { encoding: e }) } catch (m) { throw await this.cleanup(), this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${t} failed`), m } let f; if (pk.includes(r)) { const e = _w(JSON.stringify(u)), t = _w(d); f = await this.client.core.verify.register({ id: t, decryptedId: e }) } const p = uk[r].req; if (p.attestation = f, o && (p.ttl = o), s && (p.id = s), this.client.core.history.set(t, u), h) { const e = Gw(l, t, d); await n.g.Linking.openURL(e, this.client.name) } else { const e = uk[r].req; o && (e.ttl = o), s && (e.id = s), c ? (e.internal = Ak(Ck({}, e.internal), { throwOnFailedPublish: !0 }), await this.client.core.relayer.publish(t, d, e)) : this.client.core.relayer.publish(t, d, e).catch((e => this.client.logger.error(e))) } return u.id }, this.sendResult = async e => { const { id: t, topic: r, result: i, throwOnFailedPublish: o, encodeOpts: s, appLink: a } = e, c = Fx(t, i); let l; const u = a && typeof (null == n.g ? void 0 : n.g.Linking) < "u"; try { const e = u ? vw : bw; l = await this.client.core.crypto.encode(r, c, Ak(Ck({}, s || {}), { encoding: e })) } catch (h) { throw await this.cleanup(), this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${r} failed`), h } let d; try { d = await this.client.core.history.get(r, t) } catch (h) { throw this.client.logger.error(`sendResult() -> history.get(${r}, ${t}) failed`), h } if (u) { const e = Gw(a, r, l); await n.g.Linking.openURL(e, this.client.name) } else { const e = uk[d.request.method].res; o ? (e.internal = Ak(Ck({}, e.internal), { throwOnFailedPublish: !0 }), await this.client.core.relayer.publish(r, l, e)) : this.client.core.relayer.publish(r, l, e).catch((e => this.client.logger.error(e))) } await this.client.core.history.resolve(c) }, this.sendError = async e => { const { id: t, topic: r, error: i, encodeOpts: o, rpcOpts: s, appLink: a } = e, c = Bx(t, i); let l; const u = a && typeof (null == n.g ? void 0 : n.g.Linking) < "u"; try { const e = u ? vw : bw; l = await this.client.core.crypto.encode(r, c, Ak(Ck({}, o || {}), { encoding: e })) } catch (h) { throw await this.cleanup(), this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${r} failed`), h } let d; try { d = await this.client.core.history.get(r, t) } catch (h) { throw this.client.logger.error(`sendError() -> history.get(${r}, ${t}) failed`), h } if (u) { const e = Gw(a, r, l); await n.g.Linking.openURL(e, this.client.name) } else { const e = s || uk[d.request.method].res; this.client.core.relayer.publish(r, l, e) } await this.client.core.history.resolve(c) }, this.cleanup = async () => { const e = [], t = []; this.client.session.getAll().forEach((t => { let n = !1; Rv(t.expiry) && (n = !0), this.client.core.crypto.keychain.has(t.topic) || (n = !0), n && e.push(t.topic) })), this.client.proposal.getAll().forEach((e => { Rv(e.expiryTimestamp) && t.push(e.id) })), await Promise.all([...e.map((e => this.deleteSession({ topic: e }))), ...t.map((e => this.deleteProposal(e)))]) }, this.onRelayEventRequest = async e => { this.requestQueue.queue.push(e), await this.processRequestsQueue() }, this.processRequestsQueue = async () => { if (this.requestQueue.state !== fk) { for (this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`); this.requestQueue.queue.length > 0;) { this.requestQueue.state = fk; const t = this.requestQueue.queue.shift(); if (t) try { await this.processRequest(t) } catch (e) { this.client.logger.warn(e) } } this.requestQueue.state = hk } else this.client.logger.info("Request queue already active, skipping...") }, this.processRequest = async e => { const { topic: t, payload: n, attestation: r, transportType: i, encryptedId: o } = e, s = n.method; if (!this.shouldIgnorePairingRequest({ topic: t, requestMethod: s })) switch (s) { case "wc_sessionPropose": return await this.onSessionProposeRequest({ topic: t, payload: n, attestation: r, encryptedId: o }); case "wc_sessionSettle": return await this.onSessionSettleRequest(t, n); case "wc_sessionUpdate": return await this.onSessionUpdateRequest(t, n); case "wc_sessionExtend": return await this.onSessionExtendRequest(t, n); case "wc_sessionPing": return await this.onSessionPingRequest(t, n); case "wc_sessionDelete": return await this.onSessionDeleteRequest(t, n); case "wc_sessionRequest": return await this.onSessionRequest({ topic: t, payload: n, attestation: r, encryptedId: o, transportType: i }); case "wc_sessionEvent": return await this.onSessionEventRequest(t, n); case "wc_sessionAuthenticate": return await this.onSessionAuthenticateRequest({ topic: t, payload: n, attestation: r, encryptedId: o, transportType: i }); default: return this.client.logger.info(`Unsupported request method ${s}`) } }, this.onRelayEventResponse = async e => { const { topic: t, payload: n, transportType: r } = e, i = (await this.client.core.history.get(t, n.id)).request.method; switch (i) { case "wc_sessionPropose": return this.onSessionProposeResponse(t, n, r); case "wc_sessionSettle": return this.onSessionSettleResponse(t, n); case "wc_sessionUpdate": return this.onSessionUpdateResponse(t, n); case "wc_sessionExtend": return this.onSessionExtendResponse(t, n); case "wc_sessionPing": return this.onSessionPingResponse(t, n); case "wc_sessionRequest": return this.onSessionRequestResponse(t, n); case "wc_sessionAuthenticate": return this.onSessionAuthenticateResponse(t, n); default: return this.client.logger.info(`Unsupported response method ${i}`) } }, this.onRelayEventUnknownPayload = e => { const { topic: t } = e, { message: n } = Qw("MISSING_OR_INVALID", `Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`); throw new Error(n) }, this.shouldIgnorePairingRequest = e => { const { topic: t, requestMethod: n } = e, r = this.expectedPairingMethodMap.get(t); return !(!r || r.includes(n)) && !!(r.includes("wc_sessionAuthenticate") && this.client.events.listenerCount("session_authenticate") > 0) }, this.onSessionProposeRequest = async e => { const { topic: t, payload: n, attestation: r, encryptedId: i } = e, { params: o, id: s } = n; try { const e = this.client.core.eventClient.getEvent({ topic: t }); this.isValidConnect(Ck({}, n.params)); const a = o.expiryTimestamp || Ov(uk.wc_sessionPropose.req.ttl), c = Ck({ id: s, pairingTopic: t, expiryTimestamp: a }, o); await this.setProposal(s, c); const l = await this.getVerifyContext({ attestationId: r, hash: _w(JSON.stringify(n)), encryptedId: i, metadata: c.proposer.metadata }); 0 === this.client.events.listenerCount("session_proposal") && (console.warn("No listener for session_proposal event"), e?.setError(dC)), e?.addTrace(oC), this.client.events.emit("session_proposal", { id: s, params: c, verifyContext: l }) } catch (a) { await this.sendError({ id: s, topic: t, error: a, rpcOpts: uk.wc_sessionPropose.autoReject }), this.client.logger.error(a) } }, this.onSessionProposeResponse = async (e, t, n) => { const { id: r } = t; if (Jx(t)) { const { result: i } = t; this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", result: i }); const o = this.client.proposal.get(r); this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", proposal: o }); const s = o.proposer.publicKey; this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", selfPublicKey: s }); const a = i.responderPublicKey; this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", peerPublicKey: a }); const c = await this.client.core.crypto.generateSharedKey(s, a); this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", sessionTopic: c }); const l = await this.client.core.relayer.subscribe(c, { transportType: n }); this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", subscriptionId: l }), await this.client.core.pairing.activate({ topic: e }) } else if (Qx(t)) { await this.client.proposal.delete(r, eE("USER_DISCONNECTED")); const e = jv("session_connect"); if (0 === this.events.listenerCount(e)) throw new Error(`emitting ${e} without any listeners, 954`); this.events.emit(jv("session_connect"), { error: t.error }) } }, this.onSessionSettleRequest = async (e, t) => { const { id: n, params: r } = t; try { this.isValidSessionSettleRequest(r); const { relay: n, controller: i, expiry: o, namespaces: s, sessionProperties: a, sessionConfig: c } = t.params, l = Ak(Ck(Ck({ topic: e, relay: n, expiry: o, namespaces: s, acknowledged: !0, pairingTopic: "", requiredNamespaces: {}, optionalNamespaces: {}, controller: i.publicKey, self: { publicKey: "", metadata: this.client.metadata }, peer: { publicKey: i.publicKey, metadata: i.metadata } }, a && { sessionProperties: a }), c && { sessionConfig: c }), { transportType: S_.relay }), u = jv("session_connect"); if (0 === this.events.listenerCount(u)) throw new Error(`emitting ${u} without any listeners 997`); this.events.emit(jv("session_connect"), { session: l }), await this.sendResult({ id: t.id, topic: e, result: !0, throwOnFailedPublish: !0 }) } catch (i) { await this.sendError({ id: n, topic: e, error: i }), this.client.logger.error(i) } }, this.onSessionSettleResponse = async (e, t) => { const { id: n } = t; Jx(t) ? (await this.client.session.update(e, { acknowledged: !0 }), this.events.emit(jv("session_approve", n), {})) : Qx(t) && (await this.client.session.delete(e, eE("USER_DISCONNECTED")), this.events.emit(jv("session_approve", n), { error: t.error })) }, this.onSessionUpdateRequest = async (e, t) => { const { params: n, id: r } = t; try { const t = `${e}_session_update`, o = xE.get(t); if (o && this.isRequestOutOfSync(o, r)) return this.client.logger.info(`Discarding out of sync request - ${r}`), void this.sendError({ id: r, topic: e, error: eE("INVALID_UPDATE_REQUEST") }); this.isValidUpdate(Ck({ topic: e }, n)); try { xE.set(t, r), await this.client.session.update(e, { namespaces: n.namespaces }), await this.sendResult({ id: r, topic: e, result: !0, throwOnFailedPublish: !0 }) } catch (i) { throw xE.delete(t), i } this.client.events.emit("session_update", { id: r, topic: e, params: n }) } catch (o) { await this.sendError({ id: r, topic: e, error: o }), this.client.logger.error(o) } }, this.isRequestOutOfSync = (e, t) => parseInt(t.toString().slice(0, -3)) <= parseInt(e.toString().slice(0, -3)), this.onSessionUpdateResponse = (e, t) => { const { id: n } = t, r = jv("session_update", n); if (0 === this.events.listenerCount(r)) throw new Error(`emitting ${r} without any listeners`); Jx(t) ? this.events.emit(jv("session_update", n), {}) : Qx(t) && this.events.emit(jv("session_update", n), { error: t.error }) }, this.onSessionExtendRequest = async (e, t) => { const { id: n } = t; try { this.isValidExtend({ topic: e }), await this.setExpiry(e, Ov(lk)), await this.sendResult({ id: n, topic: e, result: !0, throwOnFailedPublish: !0 }), this.client.events.emit("session_extend", { id: n, topic: e }) } catch (r) { await this.sendError({ id: n, topic: e, error: r }), this.client.logger.error(r) } }, this.onSessionExtendResponse = (e, t) => { const { id: n } = t, r = jv("session_extend", n); if (0 === this.events.listenerCount(r)) throw new Error(`emitting ${r} without any listeners`); Jx(t) ? this.events.emit(jv("session_extend", n), {}) : Qx(t) && this.events.emit(jv("session_extend", n), { error: t.error }) }, this.onSessionPingRequest = async (e, t) => { const { id: n } = t; try { this.isValidPing({ topic: e }), await this.sendResult({ id: n, topic: e, result: !0, throwOnFailedPublish: !0 }), this.client.events.emit("session_ping", { id: n, topic: e }) } catch (r) { await this.sendError({ id: n, topic: e, error: r }), this.client.logger.error(r) } }, this.onSessionPingResponse = (e, t) => { const { id: n } = t, r = jv("session_ping", n); if (0 === this.events.listenerCount(r)) throw new Error(`emitting ${r} without any listeners`); setTimeout((() => { Jx(t) ? this.events.emit(jv("session_ping", n), {}) : Qx(t) && this.events.emit(jv("session_ping", n), { error: t.error }) }), 500) }, this.onSessionDeleteRequest = async (e, t) => { const { id: n } = t; try { this.isValidDisconnect({ topic: e, reason: t.params }), Promise.all([new Promise((t => { this.client.core.relayer.once(w_, (async () => { t(await this.deleteSession({ topic: e, id: n })) })) })), this.sendResult({ id: n, topic: e, result: !0, throwOnFailedPublish: !0 }), this.cleanupPendingSentRequestsForTopic({ topic: e, error: eE("USER_DISCONNECTED") })]).catch((e => this.client.logger.error(e))) } catch (r) { this.client.logger.error(r) } }, this.onSessionRequest = async e => { var t, n, r; const { topic: i, payload: o, attestation: s, encryptedId: a, transportType: c } = e, { id: l, params: u } = o; try { await this.isValidRequest(Ck({ topic: i }, u)); const e = this.client.session.get(i), o = { id: l, topic: i, params: u, verifyContext: await this.getVerifyContext({ attestationId: s, hash: _w(JSON.stringify(Ux("wc_sessionRequest", u, l))), encryptedId: a, metadata: e.peer.metadata, transportType: c }) }; await this.setPendingSessionRequest(o), c === S_.link_mode && null != (t = e.peer.metadata.redirect) && t.universal && this.client.core.addLinkModeSupportedApp(null == (n = e.peer.metadata.redirect) ? void 0 : n.universal), null != (r = this.client.signConfig) && r.disableRequestQueue ? this.emitSessionRequest(o) : (this.addSessionRequestToSessionRequestQueue(o), this.processSessionRequestQueue()) } catch (d) { await this.sendError({ id: l, topic: i, error: d }), this.client.logger.error(d) } }, this.onSessionRequestResponse = (e, t) => { const { id: n } = t, r = jv("session_request", n); if (0 === this.events.listenerCount(r)) throw new Error(`emitting ${r} without any listeners`); Jx(t) ? this.events.emit(jv("session_request", n), { result: t.result }) : Qx(t) && this.events.emit(jv("session_request", n), { error: t.error }) }, this.onSessionEventRequest = async (e, t) => { const { id: n, params: r } = t; try { const t = `${e}_session_event_${r.event.name}`, i = xE.get(t); if (i && this.isRequestOutOfSync(i, n)) return void this.client.logger.info(`Discarding out of sync request - ${n}`); this.isValidEmit(Ck({ topic: e }, r)), this.client.events.emit("session_event", { id: n, topic: e, params: r }), xE.set(t, n) } catch (i) { await this.sendError({ id: n, topic: e, error: i }), this.client.logger.error(i) } }, this.onSessionAuthenticateResponse = (e, t) => { const { id: n } = t; this.client.logger.trace({ type: "method", method: "onSessionAuthenticateResponse", topic: e, payload: t }), Jx(t) ? this.events.emit(jv("session_request", n), { result: t.result }) : Qx(t) && this.events.emit(jv("session_request", n), { error: t.error }) }, this.onSessionAuthenticateRequest = async e => { var t; const { topic: n, payload: r, attestation: i, encryptedId: o, transportType: s } = e; try { const { requester: e, authPayload: a, expiryTimestamp: c } = r.params, l = await this.getVerifyContext({ attestationId: i, hash: _w(JSON.stringify(r)), encryptedId: o, metadata: e.metadata, transportType: s }), u = { requester: e, pairingTopic: n, id: r.id, authPayload: a, verifyContext: l, expiryTimestamp: c }; await this.setAuthRequest(r.id, { request: u, pairingTopic: n, transportType: s }), s === S_.link_mode && null != (t = e.metadata.redirect) && t.universal && this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal), this.client.events.emit("session_authenticate", { topic: n, params: r.params, id: r.id, verifyContext: l }) } catch (a) { this.client.logger.error(a); const e = r.params.requester.publicKey, t = await this.client.core.crypto.generateKeyPair(), i = this.getAppLinkIfEnabled(r.params.requester.metadata, s), o = { type: 1, receiverPublicKey: e, senderPublicKey: t }; await this.sendError({ id: r.id, topic: n, error: a, encodeOpts: o, rpcOpts: uk.wc_sessionAuthenticate.autoReject, appLink: i }) } }, this.addSessionRequestToSessionRequestQueue = e => { this.sessionRequestQueue.queue.push(e) }, this.cleanupAfterResponse = e => { this.deletePendingSessionRequest(e.response.id, { message: "fulfilled", code: 0 }), setTimeout((() => { this.sessionRequestQueue.state = hk, this.processSessionRequestQueue() }), (0, ny.toMiliseconds)(this.requestQueueDelay)) }, this.cleanupPendingSentRequestsForTopic = ({ topic: e, error: t }) => { const n = this.client.core.history.pending; n.length > 0 && n.filter((t => t.topic === e && "wc_sessionRequest" === t.request.method)).forEach((e => { const n = jv("session_request", e.request.id); if (0 === this.events.listenerCount(n)) throw new Error(`emitting ${n} without any listeners`); this.events.emit(jv("session_request", e.request.id), { error: t }) })) }, this.processSessionRequestQueue = () => { if (this.sessionRequestQueue.state === fk) return void this.client.logger.info("session request queue is already active."); const e = this.sessionRequestQueue.queue[0]; if (e) try { this.sessionRequestQueue.state = fk, this.emitSessionRequest(e) } catch (t) { this.client.logger.error(t) } else this.client.logger.info("session request queue is empty.") }, this.emitSessionRequest = e => { this.client.events.emit("session_request", e) }, this.onPairingCreated = e => { if (e.methods && this.expectedPairingMethodMap.set(e.topic, e.methods), e.active) return; const t = this.client.proposal.getAll().find((t => t.pairingTopic === e.topic)); t && this.onSessionProposeRequest({ topic: e.topic, payload: Ux("wc_sessionPropose", { requiredNamespaces: t.requiredNamespaces, optionalNamespaces: t.optionalNamespaces, relays: t.relays, proposer: t.proposer, sessionProperties: t.sessionProperties }, t.id) }) }, this.isValidConnect = async e => { if (!fE(e)) { const { message: t } = Qw("MISSING_OR_INVALID", `connect() params: ${JSON.stringify(e)}`); throw new Error(t) } const { pairingTopic: t, requiredNamespaces: n, optionalNamespaces: r, sessionProperties: i, relays: o } = e; if (rE(t) || await this.isValidPairingTopic(t), !function (e, t) { let n = !1; return t && !e ? n = !0 : e && tE(e) && e.length && e.forEach((e => { n = hE(e) })), n }(o, !0)) { const { message: e } = Qw("MISSING_OR_INVALID", `connect() relays: ${o}`); throw new Error(e) } !rE(n) && 0 !== nE(n) && this.validateNamespaces(n, "requiredNamespaces"), !rE(r) && 0 !== nE(r) && this.validateNamespaces(r, "optionalNamespaces"), rE(i) || this.validateSessionProps(i, "sessionProperties") }, this.validateNamespaces = (e, t) => { const n = function (e, t, n) { let r = null; if (e && nE(e)) { const i = uE(e, t); i && (r = i); const o = cE(e, t, n); o && (r = o) } else r = Qw("MISSING_OR_INVALID", `${t}, ${n} should be an object with data`); return r }(e, "connect()", t); if (n) throw new Error(n.message) }, this.isValidApprove = async e => { if (!fE(e)) throw new Error(Qw("MISSING_OR_INVALID", `approve() params: ${e}`).message); const { id: t, namespaces: n, relayProtocol: r, sessionProperties: i } = e; this.checkRecentlyDeleted(t), await this.isValidProposalId(t); const o = this.client.proposal.get(t), s = dE(n, "approve()"); if (s) throw new Error(s.message); const a = yE(o.requiredNamespaces, n, "approve()"); if (a) throw new Error(a.message); if (!iE(r, !0)) { const { message: e } = Qw("MISSING_OR_INVALID", `approve() relayProtocol: ${r}`); throw new Error(e) } rE(i) || this.validateSessionProps(i, "sessionProperties") }, this.isValidReject = async e => { if (!fE(e)) { const { message: t } = Qw("MISSING_OR_INVALID", `reject() params: ${e}`); throw new Error(t) } const { id: t, reason: n } = e; if (this.checkRecentlyDeleted(t), await this.isValidProposalId(t), !function (e) { return !(!e || "object" != typeof e || !e.code || !oE(e.code, !1) || !e.message || !iE(e.message, !1)) }(n)) { const { message: e } = Qw("MISSING_OR_INVALID", `reject() reason: ${JSON.stringify(n)}`); throw new Error(e) } }, this.isValidSessionSettleRequest = e => { if (!fE(e)) { const { message: t } = Qw("MISSING_OR_INVALID", `onSessionSettleRequest() params: ${e}`); throw new Error(t) } const { relay: t, controller: n, namespaces: r, expiry: i } = e; if (!hE(t)) { const { message: e } = Qw("MISSING_OR_INVALID", "onSessionSettleRequest() relay protocol should be a string"); throw new Error(e) } const o = function (e, t) { let n = null; return iE(e?.publicKey, !1) || (n = Qw("MISSING_OR_INVALID", `${t} controller public key should be a string`)), n }(n, "onSessionSettleRequest()"); if (o) throw new Error(o.message); const s = dE(r, "onSessionSettleRequest()"); if (s) throw new Error(s.message); if (Rv(i)) { const { message: e } = Qw("EXPIRED", "onSessionSettleRequest()"); throw new Error(e) } }, this.isValidUpdate = async e => { if (!fE(e)) { const { message: t } = Qw("MISSING_OR_INVALID", `update() params: ${e}`); throw new Error(t) } const { topic: t, namespaces: n } = e; this.checkRecentlyDeleted(t), await this.isValidSessionTopic(t); const r = this.client.session.get(t), i = dE(n, "update()"); if (i) throw new Error(i.message); const o = yE(r.requiredNamespaces, n, "update()"); if (o) throw new Error(o.message) }, this.isValidExtend = async e => { if (!fE(e)) { const { message: t } = Qw("MISSING_OR_INVALID", `extend() params: ${e}`); throw new Error(t) } const { topic: t } = e; this.checkRecentlyDeleted(t), await this.isValidSessionTopic(t) }, this.isValidRequest = async e => { if (!fE(e)) { const { message: t } = Qw("MISSING_OR_INVALID", `request() params: ${e}`); throw new Error(t) } const { topic: t, request: n, chainId: r, expiry: i } = e; this.checkRecentlyDeleted(t), await this.isValidSessionTopic(t); const { namespaces: o } = this.client.session.get(t); if (!pE(o, r)) { const { message: e } = Qw("MISSING_OR_INVALID", `request() chainId: ${r}`); throw new Error(e) } if (!function (e) { return !(rE(e) || !iE(e.method, !1)) }(n)) { const { message: e } = Qw("MISSING_OR_INVALID", `request() ${JSON.stringify(n)}`); throw new Error(e) } if (!mE(o, r, n.method)) { const { message: e } = Qw("MISSING_OR_INVALID", `request() method: ${n.method}`); throw new Error(e) } if (i && !function (e, t) { return oE(e, !1) && e <= t.max && e >= t.min }(i, dk)) { const { message: e } = Qw("MISSING_OR_INVALID", `request() expiry: ${i}. Expiry must be a number (in seconds) between ${dk.min} and ${dk.max}`); throw new Error(e) } }, this.isValidRespond = async e => { var t; if (!fE(e)) { const { message: t } = Qw("MISSING_OR_INVALID", `respond() params: ${e}`); throw new Error(t) } const { topic: n, response: r } = e; try { await this.isValidSessionTopic(n) } catch (i) { throw null != (t = e?.response) && t.id && this.cleanupAfterResponse(e), i } if (!function (e) { return !(rE(e) || rE(e.result) && rE(e.error) || !oE(e.id, !1) || !iE(e.jsonrpc, !1)) }(r)) { const { message: e } = Qw("MISSING_OR_INVALID", `respond() response: ${JSON.stringify(r)}`); throw new Error(e) } }, this.isValidPing = async e => { if (!fE(e)) { const { message: t } = Qw("MISSING_OR_INVALID", `ping() params: ${e}`); throw new Error(t) } const { topic: t } = e; await this.isValidSessionOrPairingTopic(t) }, this.isValidEmit = async e => { if (!fE(e)) { const { message: t } = Qw("MISSING_OR_INVALID", `emit() params: ${e}`); throw new Error(t) } const { topic: t, event: n, chainId: r } = e; await this.isValidSessionTopic(t); const { namespaces: i } = this.client.session.get(t); if (!pE(i, r)) { const { message: e } = Qw("MISSING_OR_INVALID", `emit() chainId: ${r}`); throw new Error(e) } if (!function (e) { return !(rE(e) || !iE(e.name, !1)) }(n)) { const { message: e } = Qw("MISSING_OR_INVALID", `emit() event: ${JSON.stringify(n)}`); throw new Error(e) } if (!gE(i, r, n.name)) { const { message: e } = Qw("MISSING_OR_INVALID", `emit() event: ${JSON.stringify(n)}`); throw new Error(e) } }, this.isValidDisconnect = async e => { if (!fE(e)) { const { message: t } = Qw("MISSING_OR_INVALID", `disconnect() params: ${e}`); throw new Error(t) } const { topic: t } = e; await this.isValidSessionOrPairingTopic(t) }, this.isValidAuthenticate = e => { const { chains: t, uri: n, domain: r, nonce: i } = e; if (!Array.isArray(t) || 0 === t.length) throw new Error("chains is required and must be a non-empty array"); if (!iE(n, !1)) throw new Error("uri is required parameter"); if (!iE(r, !1)) throw new Error("domain is required parameter"); if (!iE(i, !1)) throw new Error("nonce is required parameter"); if ([...new Set(t.map((e => ov(e).namespace)))].length > 1) throw new Error("Multi-namespace requests are not supported. Please request single namespace only."); const { namespace: o } = ov(t[0]); if ("eip155" !== o) throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.") }, this.getVerifyContext = async e => { const { attestationId: t, hash: n, encryptedId: r, metadata: i, transportType: o } = e, s = { verified: { verifyUrl: i.verifyUrl || V_, validation: "UNKNOWN", origin: i.url || "" } }; try { if (o === S_.link_mode) { const e = this.getAppLinkIfEnabled(i, o); return s.verified.validation = e && new URL(e).origin === new URL(i.url).origin ? "VALID" : "INVALID", s } const e = await this.client.core.verify.resolve({ attestationId: t, hash: n, encryptedId: r, verifyUrl: i.verifyUrl }); e && (s.verified.origin = e.origin, s.verified.isScam = e.isScam, s.verified.validation = e.origin === new URL(i.url).origin ? "VALID" : "INVALID") } catch (a) { this.client.logger.warn(a) } return this.client.logger.debug(`Verify context: ${JSON.stringify(s)}`), s }, this.validateSessionProps = (e, t) => { Object.values(e).forEach((e => { if (!iE(e, !1)) { const { message: n } = Qw("MISSING_OR_INVALID", `${t} must be in Record<string, string> format. Received: ${JSON.stringify(e)}`); throw new Error(n) } })) }, this.getPendingAuthRequest = e => { const t = this.client.auth.requests.get(e); return "object" == typeof t ? t : void 0 }, this.addToRecentlyDeleted = (e, t) => { if (this.recentlyDeletedMap.set(e, t), this.recentlyDeletedMap.size >= this.recentlyDeletedLimit) { let e = 0; const t = this.recentlyDeletedLimit / 2; for (const n of this.recentlyDeletedMap.keys()) { if (e++ >= t) break; this.recentlyDeletedMap.delete(n) } } }, this.checkRecentlyDeleted = e => { const t = this.recentlyDeletedMap.get(e); if (t) { const { message: n } = Qw("MISSING_OR_INVALID", `Record was recently deleted - ${t}: ${e}`); throw new Error(n) } }, this.isLinkModeEnabled = (e, t) => { var r, i, o, s, a, c, l, u, d; return !(!e || t !== S_.link_mode) && (!0 === (null == (i = null == (r = this.client.metadata) ? void 0 : r.redirect) ? void 0 : i.linkMode) && void 0 !== (null == (s = null == (o = this.client.metadata) ? void 0 : o.redirect) ? void 0 : s.universal) && "" !== (null == (c = null == (a = this.client.metadata) ? void 0 : a.redirect) ? void 0 : c.universal) && void 0 !== (null == (l = e?.redirect) ? void 0 : l.universal) && "" !== (null == (u = e?.redirect) ? void 0 : u.universal) && !0 === (null == (d = e?.redirect) ? void 0 : d.linkMode) && this.client.core.linkModeSupportedApps.includes(e.redirect.universal) && typeof (null == n.g ? void 0 : n.g.Linking) < "u") }, this.getAppLinkIfEnabled = (e, t) => { var n; return this.isLinkModeEnabled(e, t) ? null == (n = e?.redirect) ? void 0 : n.universal : void 0 }, this.handleLinkModeMessage = ({ url: e }) => { if (!e || !e.includes("wc_ev") || !e.includes("topic")) return; const t = Dv(e, "topic") || "", n = decodeURIComponent(Dv(e, "wc_ev") || ""), r = this.client.session.keys.includes(t); r && this.client.session.update(t, { transportType: S_.link_mode }), this.client.core.dispatchEnvelope({ topic: t, message: n, sessionExists: r }) }, this.registerLinkModeListeners = async () => { var e; if (Fv() || wv() && null != (e = this.client.metadata.redirect) && e.linkMode) { const e = null == n.g ? void 0 : n.g.Linking; if (typeof e < "u") { e.addEventListener("url", this.handleLinkModeMessage, this.client.name); const t = await e.getInitialURL(); t && setTimeout((() => { this.handleLinkModeMessage({ url: t }) }), 50) } } } } isInitialized() { if (!this.initialized) { const { message: e } = Qw("NOT_INITIALIZED", this.name); throw new Error(e) } } async confirmOnlineStateOrThrow() { await this.client.core.relayer.confirmOnlineStateOrThrow() } registerRelayerEvents() { this.client.core.relayer.on(p_, (e => { !this.initialized || this.relayMessageCache.length > 0 ? this.relayMessageCache.push(e) : this.onRelayMessage(e) })) } async onRelayMessage(e) { const { topic: t, message: n, attestation: r, transportType: i } = e, { publicKey: o } = this.client.auth.authKeys.keys.includes(gk) ? this.client.auth.authKeys.get(gk) : { responseTopic: void 0, publicKey: void 0 }, s = await this.client.core.crypto.decode(t, n, { receiverPublicKey: o, encoding: i === S_.link_mode ? vw : bw }); try { Zx(s) ? (this.client.core.history.set(t, s), this.onRelayEventRequest({ topic: t, payload: s, attestation: r, transportType: i, encryptedId: _w(n) })) : Xx(s) ? (await this.client.core.history.resolve(s), await this.onRelayEventResponse({ topic: t, payload: s, transportType: i }), this.client.core.history.delete(t, s.id)) : this.onRelayEventUnknownPayload({ topic: t, payload: s, transportType: i }) } catch (a) { this.client.logger.error(a) } } registerExpirerEvents() { this.client.core.expirer.on(q_, (async e => { const { topic: t, id: n } = Mv(e.target); return n && this.client.pendingRequest.keys.includes(n) ? await this.deletePendingSessionRequest(n, Qw("EXPIRED"), !0) : n && this.client.auth.requests.keys.includes(n) ? await this.deletePendingAuthRequest(n, Qw("EXPIRED"), !0) : void (t ? this.client.session.keys.includes(t) && (await this.deleteSession({ topic: t, expirerHasDeleted: !0 }), this.client.events.emit("session_expire", { topic: t })) : n && (await this.deleteProposal(n, !0), this.client.events.emit("proposal_expire", { id: n }))) })) } registerPairingEvents() { this.client.core.pairing.events.on(R_, (e => this.onPairingCreated(e))), this.client.core.pairing.events.on($_, (e => { this.addToRecentlyDeleted(e.topic, "pairing") })) } isValidPairingTopic(e) { if (!iE(e, !1)) { const { message: t } = Qw("MISSING_OR_INVALID", `pairing topic should be a string: ${e}`); throw new Error(t) } if (!this.client.core.pairing.pairings.keys.includes(e)) { const { message: t } = Qw("NO_MATCHING_KEY", `pairing topic doesn't exist: ${e}`); throw new Error(t) } if (Rv(this.client.core.pairing.pairings.get(e).expiry)) { const { message: t } = Qw("EXPIRED", `pairing topic: ${e}`); throw new Error(t) } } async isValidSessionTopic(e) { if (!iE(e, !1)) { const { message: t } = Qw("MISSING_OR_INVALID", `session topic should be a string: ${e}`); throw new Error(t) } if (this.checkRecentlyDeleted(e), !this.client.session.keys.includes(e)) { const { message: t } = Qw("NO_MATCHING_KEY", `session topic doesn't exist: ${e}`); throw new Error(t) } if (Rv(this.client.session.get(e).expiry)) { await this.deleteSession({ topic: e }); const { message: t } = Qw("EXPIRED", `session topic: ${e}`); throw new Error(t) } if (!this.client.core.crypto.keychain.has(e)) { const { message: t } = Qw("MISSING_OR_INVALID", `session topic does not exist in keychain: ${e}`); throw await this.deleteSession({ topic: e }), new Error(t) } } async isValidSessionOrPairingTopic(e) { if (this.checkRecentlyDeleted(e), this.client.session.keys.includes(e)) await this.isValidSessionTopic(e); else { if (!this.client.core.pairing.pairings.keys.includes(e)) { if (iE(e, !1)) { const { message: t } = Qw("NO_MATCHING_KEY", `session or pairing topic doesn't exist: ${e}`); throw new Error(t) } { const { message: t } = Qw("MISSING_OR_INVALID", `session or pairing topic should be a string: ${e}`); throw new Error(t) } } this.isValidPairingTopic(e) } } async isValidProposalId(e) { if (!function (e) { return "number" == typeof e }(e)) { const { message: t } = Qw("MISSING_OR_INVALID", `proposal id should be a number: ${e}`); throw new Error(t) } if (!this.client.proposal.keys.includes(e)) { const { message: t } = Qw("NO_MATCHING_KEY", `proposal id doesn't exist: ${e}`); throw new Error(t) } if (Rv(this.client.proposal.get(e).expiryTimestamp)) { await this.deleteProposal(e); const { message: t } = Qw("EXPIRED", `proposal id: ${e}`); throw new Error(t) } } } class kk extends $S { constructor(e, t) { super(e, t, "proposal", ik), this.core = e, this.logger = t } } class Ik extends $S { constructor(e, t) { super(e, t, "session", ik), this.core = e, this.logger = t } } class Tk extends $S { constructor(e, t) { super(e, t, "request", ik, (e => e.id)), this.core = e, this.logger = t } } class Nk extends $S { constructor(e, t) { super(e, t, "authKeys", mk, (() => gk)), this.core = e, this.logger = t } } class Pk extends $S { constructor(e, t) { super(e, t, "pairingTopics", mk), this.core = e, this.logger = t } } class Mk extends $S { constructor(e, t) { super(e, t, "requests", mk, (e => e.id)), this.core = e, this.logger = t } } class Ok { constructor(e, t) { this.core = e, this.logger = t, this.authKeys = new Nk(this.core, this.logger), this.pairingTopics = new Pk(this.core, this.logger), this.requests = new Mk(this.core, this.logger) } async init() { await this.authKeys.init(), await this.pairingTopics.init(), await this.requests.init() } } class Rk extends class { constructor(e) { this.opts = e, this.protocol = "wc", this.version = 2 } }{ constructor(e) { super(e), this.protocol = "wc", this.version = 2, this.name = ok, this.events = new Bg.EventEmitter, this.on = (e, t) => this.events.on(e, t), this.once = (e, t) => this.events.once(e, t), this.off = (e, t) => this.events.off(e, t), this.removeListener = (e, t) => this.events.removeListener(e, t), this.removeAllListeners = e => this.events.removeAllListeners(e), this.connect = async e => { try { return await this.engine.connect(e) } catch (t) { throw this.logger.error(t.message), t } }, this.pair = async e => { try { return await this.engine.pair(e) } catch (t) { throw this.logger.error(t.message), t } }, this.approve = async e => { try { return await this.engine.approve(e) } catch (t) { throw this.logger.error(t.message), t } }, this.reject = async e => { try { return await this.engine.reject(e) } catch (t) { throw this.logger.error(t.message), t } }, this.update = async e => { try { return await this.engine.update(e) } catch (t) { throw this.logger.error(t.message), t } }, this.extend = async e => { try { return await this.engine.extend(e) } catch (t) { throw this.logger.error(t.message), t } }, this.request = async e => { try { return await this.engine.request(e) } catch (t) { throw this.logger.error(t.message), t } }, this.respond = async e => { try { return await this.engine.respond(e) } catch (t) { throw this.logger.error(t.message), t } }, this.ping = async e => { try { return await this.engine.ping(e) } catch (t) { throw this.logger.error(t.message), t } }, this.emit = async e => { try { return await this.engine.emit(e) } catch (t) { throw this.logger.error(t.message), t } }, this.disconnect = async e => { try { return await this.engine.disconnect(e) } catch (t) { throw this.logger.error(t.message), t } }, this.find = e => { try { return this.engine.find(e) } catch (t) { throw this.logger.error(t.message), t } }, this.getPendingSessionRequests = () => { try { return this.engine.getPendingSessionRequests() } catch (e) { throw this.logger.error(e.message), e } }, this.authenticate = async (e, t) => { try { return await this.engine.authenticate(e, t) } catch (n) { throw this.logger.error(n.message), n } }, this.formatAuthMessage = e => { try { return this.engine.formatAuthMessage(e) } catch (t) { throw this.logger.error(t.message), t } }, this.approveSessionAuthenticate = async e => { try { return await this.engine.approveSessionAuthenticate(e) } catch (t) { throw this.logger.error(t.message), t } }, this.rejectSessionAuthenticate = async e => { try { return await this.engine.rejectSessionAuthenticate(e) } catch (t) { throw this.logger.error(t.message), t } }, this.name = e?.name || ok, this.metadata = e?.metadata || _v(), this.signConfig = e?.signConfig; const t = typeof e?.logger < "u" && "string" != typeof e?.logger ? e.logger : nx()(bx({ level: e?.logger || sk })); this.core = e?.core || new nk(e), this.logger = wx(t, this.name), this.session = new Ik(this.core, this.logger), this.proposal = new kk(this.core, this.logger), this.pendingRequest = new Tk(this.core, this.logger), this.engine = new Sk(this), this.auth = new Ok(this.core, this.logger) } static async init(e) { const t = new Rk(e); return await t.initialize(), t } get context() { return vx(this.logger) } get pairing() { return this.core.pairing.pairings } async initialize() { this.logger.trace("Initialized"); try { await this.core.start(), await this.session.init(), await this.proposal.init(), await this.pendingRequest.init(), await this.auth.init(), await this.engine.init(), this.logger.info("SignClient Initialization Success"), this.engine.processRelayMessageCache() } catch (e) { throw this.logger.info("SignClient Initialization Failure"), this.logger.error(e.message), e } } } var jk = n(96486), $k = n(54098), Lk = n.n($k), Dk = Object.defineProperty, Uk = Object.defineProperties, Fk = Object.getOwnPropertyDescriptors, Bk = Object.getOwnPropertySymbols, Wk = Object.prototype.hasOwnProperty, zk = Object.prototype.propertyIsEnumerable, qk = (e, t, n) => t in e ? Dk(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, Hk = (e, t) => { for (var n in t || (t = {})) Wk.call(t, n) && qk(e, n, t[n]); if (Bk) for (var n of Bk(t)) zk.call(t, n) && qk(e, n, t[n]); return e }, Gk = (e, t) => Uk(e, Fk(t)); const Vk = { headers: { Accept: "application/json", "Content-Type": "application/json" }, method: "POST" }; class Kk { constructor(e, t = !1) { if (this.url = e, this.disableProviderPing = t, this.events = new Bg.EventEmitter, this.isAvailable = !1, this.registering = !1, !Vx(e)) throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`); this.url = e, this.disableProviderPing = t } get connected() { return this.isAvailable } get connecting() { return this.registering } on(e, t) { this.events.on(e, t) } once(e, t) { this.events.once(e, t) } off(e, t) { this.events.off(e, t) } removeListener(e, t) { this.events.removeListener(e, t) } async open(e = this.url) { await this.register(e) } async close() { if (!this.isAvailable) throw new Error("Connection already closed"); this.onClose() } async send(e) { this.isAvailable || await this.register(); try { const t = Kb(e), n = await (await Lk()(this.url, Gk(Hk({}, Vk), { body: t }))).json(); this.onPayload({ data: n }) } catch (t0) { this.onError(e.id, t0) } } async register(e = this.url) { if (!Vx(e)) throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`); if (this.registering) { const e = this.events.getMaxListeners(); return (this.events.listenerCount("register_error") >= e || this.events.listenerCount("open") >= e) && this.events.setMaxListeners(e + 1), new Promise(((e, t) => { this.events.once("register_error", (e => { this.resetMaxListeners(), t(e) })), this.events.once("open", (() => { if (this.resetMaxListeners(), typeof this.isAvailable > "u") return t(new Error("HTTP connection is missing or invalid")); e() })) })) } this.url = e, this.registering = !0; try { if (!this.disableProviderPing) { const t = Kb({ id: 1, jsonrpc: "2.0", method: "test", params: [] }); await Lk()(e, Gk(Hk({}, Vk), { body: t })) } this.onOpen() } catch (t0) { const t = this.parseError(t0); throw this.events.emit("register_error", t), this.onClose(), t } } onOpen() { this.isAvailable = !0, this.registering = !1, this.events.emit("open") } onClose() { this.isAvailable = !1, this.registering = !1, this.events.emit("close") } onPayload(e) { if (typeof e.data > "u") return; const t = "string" == typeof e.data ? Vb(e.data) : e.data; this.events.emit("payload", t) } onError(e, t) { const n = this.parseError(t), r = Bx(e, n.message || n.toString()); this.events.emit("payload", r) } parseError(e, t = this.url) { return jx(e, t, "HTTP") } resetMaxListeners() { this.events.getMaxListeners() > 10 && this.events.setMaxListeners(10) } } const Yk = "error", Zk = "generic", Xk = "default_chain_changed"; var Jk = Object.defineProperty, Qk = Object.defineProperties, eI = Object.getOwnPropertyDescriptors, tI = Object.getOwnPropertySymbols, nI = Object.prototype.hasOwnProperty, rI = Object.prototype.propertyIsEnumerable, iI = (e, t, n) => t in e ? Jk(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, oI = (e, t) => { for (var n in t || (t = {})) nI.call(t, n) && iI(e, n, t[n]); if (tI) for (var n of tI(t)) rI.call(t, n) && iI(e, n, t[n]); return e }, sI = (e, t) => Qk(e, eI(t)); function aI(e, t, n) { var r; const i = ov(e); return (null == (r = t.rpcMap) ? void 0 : r[i.reference]) || `https://rpc.walletconnect.org/v1/?chainId=${i.namespace}:${i.reference}&projectId=${n}` } function cI(e) { return e.includes(":") ? e.split(":")[1] : e } function lI(e) { return e.map((e => `${e.split(":")[0]}:${e.split(":")[1]}`)) } function uI(e = {}, t = {}) { const n = dI(e), r = dI(t); return (0, jk.merge)(n, r) } function dI(e) { var t, n, r, i; const o = {}; if (!nE(e)) return o; for (const [s, a] of Object.entries(e)) { const e = Kw(s) ? [s] : a.chains, c = a.methods || [], l = a.events || [], u = a.rpcMap || {}, d = Yw(s); o[d] = sI(oI(oI({}, o[d]), a), { chains: $v(e, null == (t = o[d]) ? void 0 : t.chains), methods: $v(c, null == (n = o[d]) ? void 0 : n.methods), events: $v(l, null == (r = o[d]) ? void 0 : r.events), rpcMap: oI(oI({}, u), null == (i = o[d]) ? void 0 : i.rpcMap) }) } return o } function hI(e) { return e.includes(":") ? e.split(":")[2] : e } function fI(e) { const t = {}; for (const [n, r] of Object.entries(e)) { const e = r.methods || [], i = r.events || [], o = r.accounts || [], s = Kw(n) ? [n] : r.chains ? r.chains : lI(r.accounts); t[n] = { chains: s, methods: e, events: i, accounts: o } } return t } function pI(e) { return "number" == typeof e ? e : e.includes("0x") ? parseInt(e, 16) : (e = e.includes(":") ? e.split(":")[1] : e, isNaN(Number(e)) ? e : Number(e)) } const mI = {}, gI = e => mI[e], yI = (e, t) => { mI[e] = t }; class bI { constructor(e) { this.name = "polkadot", this.namespace = e.namespace, this.events = gI("events"), this.client = gI("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders() } updateNamespace(e) { this.namespace = Object.assign(this.namespace, e) } requestAccounts() { return this.getAccounts() } getDefaultChain() { if (this.chainId) return this.chainId; if (this.namespace.defaultChain) return this.namespace.defaultChain; const e = this.namespace.chains[0]; if (!e) throw new Error("ChainId not found"); return e.split(":")[1] } request(e) { return this.namespace.methods.includes(e.request.method) ? this.client.request(e) : this.getHttpProvider().request(e.request) } setDefaultChain(e, t) { this.httpProviders[e] || this.setHttpProvider(e, t), this.chainId = e, this.events.emit(Xk, `${this.name}:${e}`) } getAccounts() { const e = this.namespace.accounts; return e && e.filter((e => e.split(":")[1] === this.chainId.toString())).map((e => e.split(":")[2])) || [] } createHttpProviders() { const e = {}; return this.namespace.chains.forEach((t => { var n; const r = cI(t); e[r] = this.createHttpProvider(r, null == (n = this.namespace.rpcMap) ? void 0 : n[t]) })), e } getHttpProvider() { const e = `${this.name}:${this.chainId}`, t = this.httpProviders[e]; if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`); return t } setHttpProvider(e, t) { const n = this.createHttpProvider(e, t); n && (this.httpProviders[e] = n) } createHttpProvider(e, t) { const n = t || aI(e, this.namespace, this.client.core.projectId); if (!n) throw new Error(`No RPC url provided for chainId: ${e}`); return new e_(new Kk(n, gI("disableProviderPing"))) } } var vI = Object.defineProperty, wI = Object.defineProperties, EI = Object.getOwnPropertyDescriptors, xI = Object.getOwnPropertySymbols, _I = Object.prototype.hasOwnProperty, CI = Object.prototype.propertyIsEnumerable, AI = (e, t, n) => t in e ? vI(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, SI = (e, t) => { for (var n in t || (t = {})) _I.call(t, n) && AI(e, n, t[n]); if (xI) for (var n of xI(t)) CI.call(t, n) && AI(e, n, t[n]); return e }, kI = (e, t) => wI(e, EI(t)); class II { constructor(e) { this.name = "eip155", this.namespace = e.namespace, this.events = gI("events"), this.client = gI("client"), this.httpProviders = this.createHttpProviders(), this.chainId = parseInt(this.getDefaultChain()) } async request(e) { switch (e.request.method) { case "eth_requestAccounts": case "eth_accounts": return this.getAccounts(); case "wallet_switchEthereumChain": return await this.handleSwitchChain(e); case "eth_chainId": return parseInt(this.getDefaultChain()); case "wallet_getCapabilities": return await this.getCapabilities(e); case "wallet_getCallsStatus": return await this.getCallStatus(e) }return this.namespace.methods.includes(e.request.method) ? await this.client.request(e) : this.getHttpProvider().request(e.request) } updateNamespace(e) { this.namespace = Object.assign(this.namespace, e) } setDefaultChain(e, t) { this.httpProviders[e] || this.setHttpProvider(parseInt(e), t), this.chainId = parseInt(e), this.events.emit(Xk, `${this.name}:${e}`) } requestAccounts() { return this.getAccounts() } getDefaultChain() { if (this.chainId) return this.chainId.toString(); if (this.namespace.defaultChain) return this.namespace.defaultChain; const e = this.namespace.chains[0]; if (!e) throw new Error("ChainId not found"); return e.split(":")[1] } createHttpProvider(e, t) { const n = t || aI(`${this.name}:${e}`, this.namespace, this.client.core.projectId); if (!n) throw new Error(`No RPC url provided for chainId: ${e}`); return new e_(new Kk(n, gI("disableProviderPing"))) } setHttpProvider(e, t) { const n = this.createHttpProvider(e, t); n && (this.httpProviders[e] = n) } createHttpProviders() { const e = {}; return this.namespace.chains.forEach((t => { var n; const r = parseInt(cI(t)); e[r] = this.createHttpProvider(r, null == (n = this.namespace.rpcMap) ? void 0 : n[t]) })), e } getAccounts() { const e = this.namespace.accounts; return e ? [...new Set(e.filter((e => e.split(":")[1] === this.chainId.toString())).map((e => e.split(":")[2])))] : [] } getHttpProvider() { const e = this.chainId, t = this.httpProviders[e]; if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`); return t } async handleSwitchChain(e) { var t, n; let r = e.request.params ? null == (t = e.request.params[0]) ? void 0 : t.chainId : "0x0"; r = r.startsWith("0x") ? r : `0x${r}`; const i = parseInt(r, 16); if (this.isChainApproved(i)) this.setDefaultChain(`${i}`); else { if (!this.namespace.methods.includes("wallet_switchEthereumChain")) throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`); await this.client.request({ topic: e.topic, request: { method: e.request.method, params: [{ chainId: r }] }, chainId: null == (n = this.namespace.chains) ? void 0 : n[0] }), this.setDefaultChain(`${i}`) } return null } isChainApproved(e) { return this.namespace.chains.includes(`${this.name}:${e}`) } async getCapabilities(e) { var t, n, r; const i = null == (n = null == (t = e.request) ? void 0 : t.params) ? void 0 : n[0]; if (!i) throw new Error("Missing address parameter in `wallet_getCapabilities` request"); const o = this.client.session.get(e.topic), s = (null == (r = o?.sessionProperties) ? void 0 : r.capabilities) || {}; if (null != s && s[i]) return s?.[i]; const a = await this.client.request(e); try { await this.client.session.update(e.topic, { sessionProperties: kI(SI({}, o.sessionProperties || {}), { capabilities: kI(SI({}, s || {}), { [i]: a }) }) }) } catch (c) { console.warn("Failed to update session with capabilities", c) } return a } async getCallStatus(e) { var t, n; const r = this.client.session.get(e.topic), i = null == (t = r.sessionProperties) ? void 0 : t.bundler_name; if (i) { const t = this.getBundlerUrl(e.chainId, i); try { return await this.getUserOperationReceipt(t, e) } catch (s) { console.warn("Failed to fetch call status from bundler", s, t) } } const o = null == (n = r.sessionProperties) ? void 0 : n.bundler_url; if (o) try { return await this.getUserOperationReceipt(o, e) } catch (a) { console.warn("Failed to fetch call status from custom bundler", a, o) } if (this.namespace.methods.includes(e.request.method)) return await this.client.request(e); throw new Error("Fetching call status not approved by the wallet.") } async getUserOperationReceipt(e, t) { var n; const r = new URL(e), i = await fetch(r, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(Ux("eth_getUserOperationReceipt", [null == (n = t.request.params) ? void 0 : n[0]])) }); if (!i.ok) throw new Error(`Failed to fetch user operation receipt - ${i.status}`); return await i.json() } getBundlerUrl(e, t) { return `https://rpc.walletconnect.org/v1/bundler?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}` } } class TI { constructor(e) { this.name = "solana", this.namespace = e.namespace, this.events = gI("events"), this.client = gI("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders() } updateNamespace(e) { this.namespace = Object.assign(this.namespace, e) } requestAccounts() { return this.getAccounts() } request(e) { return this.namespace.methods.includes(e.request.method) ? this.client.request(e) : this.getHttpProvider().request(e.request) } setDefaultChain(e, t) { this.httpProviders[e] || this.setHttpProvider(e, t), this.chainId = e, this.events.emit(Xk, `${this.name}:${e}`) } getDefaultChain() { if (this.chainId) return this.chainId; if (this.namespace.defaultChain) return this.namespace.defaultChain; const e = this.namespace.chains[0]; if (!e) throw new Error("ChainId not found"); return e.split(":")[1] } getAccounts() { const e = this.namespace.accounts; return e ? [...new Set(e.filter((e => e.split(":")[1] === this.chainId.toString())).map((e => e.split(":")[2])))] : [] } createHttpProviders() { const e = {}; return this.namespace.chains.forEach((t => { var n; const r = cI(t); e[r] = this.createHttpProvider(r, null == (n = this.namespace.rpcMap) ? void 0 : n[t]) })), e } getHttpProvider() { const e = `${this.name}:${this.chainId}`, t = this.httpProviders[e]; if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`); return t } setHttpProvider(e, t) { const n = this.createHttpProvider(e, t); n && (this.httpProviders[e] = n) } createHttpProvider(e, t) { const n = t || aI(e, this.namespace, this.client.core.projectId); if (!n) throw new Error(`No RPC url provided for chainId: ${e}`); return new e_(new Kk(n, gI("disableProviderPing"))) } } class NI { constructor(e) { this.name = "cosmos", this.namespace = e.namespace, this.events = gI("events"), this.client = gI("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders() } updateNamespace(e) { this.namespace = Object.assign(this.namespace, e) } requestAccounts() { return this.getAccounts() } getDefaultChain() { if (this.chainId) return this.chainId; if (this.namespace.defaultChain) return this.namespace.defaultChain; const e = this.namespace.chains[0]; if (!e) throw new Error("ChainId not found"); return e.split(":")[1] } request(e) { return this.namespace.methods.includes(e.request.method) ? this.client.request(e) : this.getHttpProvider().request(e.request) } setDefaultChain(e, t) { this.httpProviders[e] || this.setHttpProvider(e, t), this.chainId = e, this.events.emit(Xk, `${this.name}:${this.chainId}`) } getAccounts() { const e = this.namespace.accounts; return e ? [...new Set(e.filter((e => e.split(":")[1] === this.chainId.toString())).map((e => e.split(":")[2])))] : [] } createHttpProviders() { const e = {}; return this.namespace.chains.forEach((t => { var n; const r = cI(t); e[r] = this.createHttpProvider(r, null == (n = this.namespace.rpcMap) ? void 0 : n[t]) })), e } getHttpProvider() { const e = `${this.name}:${this.chainId}`, t = this.httpProviders[e]; if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`); return t } setHttpProvider(e, t) { const n = this.createHttpProvider(e, t); n && (this.httpProviders[e] = n) } createHttpProvider(e, t) { const n = t || aI(e, this.namespace, this.client.core.projectId); if (!n) throw new Error(`No RPC url provided for chainId: ${e}`); return new e_(new Kk(n, gI("disableProviderPing"))) } } class PI { constructor(e) { this.name = "algorand", this.namespace = e.namespace, this.events = gI("events"), this.client = gI("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders() } updateNamespace(e) { this.namespace = Object.assign(this.namespace, e) } requestAccounts() { return this.getAccounts() } request(e) { return this.namespace.methods.includes(e.request.method) ? this.client.request(e) : this.getHttpProvider().request(e.request) } setDefaultChain(e, t) { if (!this.httpProviders[e]) { const n = t || aI(`${this.name}:${e}`, this.namespace, this.client.core.projectId); if (!n) throw new Error(`No RPC url provided for chainId: ${e}`); this.setHttpProvider(e, n) } this.chainId = e, this.events.emit(Xk, `${this.name}:${this.chainId}`) } getDefaultChain() { if (this.chainId) return this.chainId; if (this.namespace.defaultChain) return this.namespace.defaultChain; const e = this.namespace.chains[0]; if (!e) throw new Error("ChainId not found"); return e.split(":")[1] } getAccounts() { const e = this.namespace.accounts; return e ? [...new Set(e.filter((e => e.split(":")[1] === this.chainId.toString())).map((e => e.split(":")[2])))] : [] } createHttpProviders() { const e = {}; return this.namespace.chains.forEach((t => { var n; e[t] = this.createHttpProvider(t, null == (n = this.namespace.rpcMap) ? void 0 : n[t]) })), e } getHttpProvider() { const e = `${this.name}:${this.chainId}`, t = this.httpProviders[e]; if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`); return t } setHttpProvider(e, t) { const n = this.createHttpProvider(e, t); n && (this.httpProviders[e] = n) } createHttpProvider(e, t) { const n = t || aI(e, this.namespace, this.client.core.projectId); return typeof n > "u" ? void 0 : new e_(new Kk(n, gI("disableProviderPing"))) } } class MI { constructor(e) { this.name = "cip34", this.namespace = e.namespace, this.events = gI("events"), this.client = gI("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders() } updateNamespace(e) { this.namespace = Object.assign(this.namespace, e) } requestAccounts() { return this.getAccounts() } getDefaultChain() { if (this.chainId) return this.chainId; if (this.namespace.defaultChain) return this.namespace.defaultChain; const e = this.namespace.chains[0]; if (!e) throw new Error("ChainId not found"); return e.split(":")[1] } request(e) { return this.namespace.methods.includes(e.request.method) ? this.client.request(e) : this.getHttpProvider().request(e.request) } setDefaultChain(e, t) { this.httpProviders[e] || this.setHttpProvider(e, t), this.chainId = e, this.events.emit(Xk, `${this.name}:${this.chainId}`) } getAccounts() { const e = this.namespace.accounts; return e ? [...new Set(e.filter((e => e.split(":")[1] === this.chainId.toString())).map((e => e.split(":")[2])))] : [] } createHttpProviders() { const e = {}; return this.namespace.chains.forEach((t => { const n = this.getCardanoRPCUrl(t), r = cI(t); e[r] = this.createHttpProvider(r, n) })), e } getHttpProvider() { const e = `${this.name}:${this.chainId}`, t = this.httpProviders[e]; if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`); return t } getCardanoRPCUrl(e) { const t = this.namespace.rpcMap; if (t) return t[e] } setHttpProvider(e, t) { const n = this.createHttpProvider(e, t); n && (this.httpProviders[e] = n) } createHttpProvider(e, t) { const n = t || this.getCardanoRPCUrl(e); if (!n) throw new Error(`No RPC url provided for chainId: ${e}`); return new e_(new Kk(n, gI("disableProviderPing"))) } } class OI { constructor(e) { this.name = "elrond", this.namespace = e.namespace, this.events = gI("events"), this.client = gI("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders() } updateNamespace(e) { this.namespace = Object.assign(this.namespace, e) } requestAccounts() { return this.getAccounts() } request(e) { return this.namespace.methods.includes(e.request.method) ? this.client.request(e) : this.getHttpProvider().request(e.request) } setDefaultChain(e, t) { this.httpProviders[e] || this.setHttpProvider(e, t), this.chainId = e, this.events.emit(Xk, `${this.name}:${e}`) } getDefaultChain() { if (this.chainId) return this.chainId; if (this.namespace.defaultChain) return this.namespace.defaultChain; const e = this.namespace.chains[0]; if (!e) throw new Error("ChainId not found"); return e.split(":")[1] } getAccounts() { const e = this.namespace.accounts; return e ? [...new Set(e.filter((e => e.split(":")[1] === this.chainId.toString())).map((e => e.split(":")[2])))] : [] } createHttpProviders() { const e = {}; return this.namespace.chains.forEach((t => { var n; const r = cI(t); e[r] = this.createHttpProvider(r, null == (n = this.namespace.rpcMap) ? void 0 : n[t]) })), e } getHttpProvider() { const e = `${this.name}:${this.chainId}`, t = this.httpProviders[e]; if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`); return t } setHttpProvider(e, t) { const n = this.createHttpProvider(e, t); n && (this.httpProviders[e] = n) } createHttpProvider(e, t) { const n = t || aI(e, this.namespace, this.client.core.projectId); if (!n) throw new Error(`No RPC url provided for chainId: ${e}`); return new e_(new Kk(n, gI("disableProviderPing"))) } } class RI { constructor(e) { this.name = "multiversx", this.namespace = e.namespace, this.events = gI("events"), this.client = gI("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders() } updateNamespace(e) { this.namespace = Object.assign(this.namespace, e) } requestAccounts() { return this.getAccounts() } request(e) { return this.namespace.methods.includes(e.request.method) ? this.client.request(e) : this.getHttpProvider().request(e.request) } setDefaultChain(e, t) { this.httpProviders[e] || this.setHttpProvider(e, t), this.chainId = e, this.events.emit(Xk, `${this.name}:${e}`) } getDefaultChain() { if (this.chainId) return this.chainId; if (this.namespace.defaultChain) return this.namespace.defaultChain; const e = this.namespace.chains[0]; if (!e) throw new Error("ChainId not found"); return e.split(":")[1] } getAccounts() { const e = this.namespace.accounts; return e ? [...new Set(e.filter((e => e.split(":")[1] === this.chainId.toString())).map((e => e.split(":")[2])))] : [] } createHttpProviders() { const e = {}; return this.namespace.chains.forEach((t => { var n; const r = cI(t); e[r] = this.createHttpProvider(r, null == (n = this.namespace.rpcMap) ? void 0 : n[t]) })), e } getHttpProvider() { const e = `${this.name}:${this.chainId}`, t = this.httpProviders[e]; if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`); return t } setHttpProvider(e, t) { const n = this.createHttpProvider(e, t); n && (this.httpProviders[e] = n) } createHttpProvider(e, t) { const n = t || aI(e, this.namespace, this.client.core.projectId); if (!n) throw new Error(`No RPC url provided for chainId: ${e}`); return new e_(new Kk(n, gI("disableProviderPing"))) } } class jI { constructor(e) { this.name = "near", this.namespace = e.namespace, this.events = gI("events"), this.client = gI("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders() } updateNamespace(e) { this.namespace = Object.assign(this.namespace, e) } requestAccounts() { return this.getAccounts() } getDefaultChain() { if (this.chainId) return this.chainId; if (this.namespace.defaultChain) return this.namespace.defaultChain; const e = this.namespace.chains[0]; if (!e) throw new Error("ChainId not found"); return e.split(":")[1] } request(e) { return this.namespace.methods.includes(e.request.method) ? this.client.request(e) : this.getHttpProvider().request(e.request) } setDefaultChain(e, t) { if (this.chainId = e, !this.httpProviders[e]) { const n = t || aI(`${this.name}:${e}`, this.namespace); if (!n) throw new Error(`No RPC url provided for chainId: ${e}`); this.setHttpProvider(e, n) } this.events.emit(Xk, `${this.name}:${this.chainId}`) } getAccounts() { const e = this.namespace.accounts; return e && e.filter((e => e.split(":")[1] === this.chainId.toString())).map((e => e.split(":")[2])) || [] } createHttpProviders() { const e = {}; return this.namespace.chains.forEach((t => { var n; e[t] = this.createHttpProvider(t, null == (n = this.namespace.rpcMap) ? void 0 : n[t]) })), e } getHttpProvider() { const e = `${this.name}:${this.chainId}`, t = this.httpProviders[e]; if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`); return t } setHttpProvider(e, t) { const n = this.createHttpProvider(e, t); n && (this.httpProviders[e] = n) } createHttpProvider(e, t) { const n = t || aI(e, this.namespace); return typeof n > "u" ? void 0 : new e_(new Kk(n, gI("disableProviderPing"))) } } class $I { constructor(e) { this.name = "tezos", this.namespace = e.namespace, this.events = gI("events"), this.client = gI("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders() } updateNamespace(e) { this.namespace = Object.assign(this.namespace, e) } requestAccounts() { return this.getAccounts() } getDefaultChain() { if (this.chainId) return this.chainId; if (this.namespace.defaultChain) return this.namespace.defaultChain; const e = this.namespace.chains[0]; if (!e) throw new Error("ChainId not found"); return e.split(":")[1] } request(e) { return this.namespace.methods.includes(e.request.method) ? this.client.request(e) : this.getHttpProvider().request(e.request) } setDefaultChain(e, t) { if (this.chainId = e, !this.httpProviders[e]) { const n = t || aI(`${this.name}:${e}`, this.namespace); if (!n) throw new Error(`No RPC url provided for chainId: ${e}`); this.setHttpProvider(e, n) } this.events.emit(Xk, `${this.name}:${this.chainId}`) } getAccounts() { const e = this.namespace.accounts; return e && e.filter((e => e.split(":")[1] === this.chainId.toString())).map((e => e.split(":")[2])) || [] } createHttpProviders() { const e = {}; return this.namespace.chains.forEach((t => { e[t] = this.createHttpProvider(t) })), e } getHttpProvider() { const e = `${this.name}:${this.chainId}`, t = this.httpProviders[e]; if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`); return t } setHttpProvider(e, t) { const n = this.createHttpProvider(e, t); n && (this.httpProviders[e] = n) } createHttpProvider(e, t) { const n = t || aI(e, this.namespace); return typeof n > "u" ? void 0 : new e_(new Kk(n)) } } class LI { constructor(e) { this.name = Zk, this.namespace = e.namespace, this.events = gI("events"), this.client = gI("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders() } updateNamespace(e) { this.namespace.chains = [...new Set((this.namespace.chains || []).concat(e.chains || []))], this.namespace.accounts = [...new Set((this.namespace.accounts || []).concat(e.accounts || []))], this.namespace.methods = [...new Set((this.namespace.methods || []).concat(e.methods || []))], this.namespace.events = [...new Set((this.namespace.events || []).concat(e.events || []))], this.httpProviders = this.createHttpProviders() } requestAccounts() { return this.getAccounts() } request(e) { return this.namespace.methods.includes(e.request.method) ? this.client.request(e) : this.getHttpProvider(e.chainId).request(e.request) } setDefaultChain(e, t) { this.httpProviders[e] || this.setHttpProvider(e, t), this.chainId = e, this.events.emit(Xk, `${this.name}:${e}`) } getDefaultChain() { if (this.chainId) return this.chainId; if (this.namespace.defaultChain) return this.namespace.defaultChain; const e = this.namespace.chains[0]; if (!e) throw new Error("ChainId not found"); return e.split(":")[1] } getAccounts() { const e = this.namespace.accounts; return e ? [...new Set(e.filter((e => e.split(":")[1] === this.chainId.toString())).map((e => e.split(":")[2])))] : [] } createHttpProviders() { var e, t; const n = {}; return null == (t = null == (e = this.namespace) ? void 0 : e.accounts) || t.forEach((e => { const t = ov(e); n[`${t.namespace}:${t.reference}`] = this.createHttpProvider(e) })), n } getHttpProvider(e) { const t = this.httpProviders[e]; if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`); return t } setHttpProvider(e, t) { const n = this.createHttpProvider(e, t); n && (this.httpProviders[e] = n) } createHttpProvider(e, t) { const n = t || aI(e, this.namespace, this.client.core.projectId); if (!n) throw new Error(`No RPC url provided for chainId: ${e}`); return new e_(new Kk(n, gI("disableProviderPing"))) } } var DI = Object.defineProperty, UI = Object.defineProperties, FI = Object.getOwnPropertyDescriptors, BI = Object.getOwnPropertySymbols, WI = Object.prototype.hasOwnProperty, zI = Object.prototype.propertyIsEnumerable, qI = (e, t, n) => t in e ? DI(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, HI = (e, t) => { for (var n in t || (t = {})) WI.call(t, n) && qI(e, n, t[n]); if (BI) for (var n of BI(t)) zI.call(t, n) && qI(e, n, t[n]); return e }, GI = (e, t) => UI(e, FI(t)); class VI { constructor(e) { this.events = new (Wg()), this.rpcProviders = {}, this.shouldAbortPairingAttempt = !1, this.maxPairingAttempts = 10, this.disableProviderPing = !1, this.providerOpts = e, this.logger = typeof e?.logger < "u" && "string" != typeof e?.logger ? e.logger : nx()(bx({ level: e?.logger || Yk })), this.disableProviderPing = e?.disableProviderPing || !1 } static async init(e) { const t = new VI(e); return await t.initialize(), t } async request(e, t, n) { const [r, i] = this.validateChain(t); if (!this.session) throw new Error("Please call connect() before request()"); return await this.getProvider(r).request({ request: HI({}, e), chainId: `${r}:${i}`, topic: this.session.topic, expiry: n }) } sendAsync(e, t, n, r) { const i = (new Date).getTime(); this.request(e, n, r).then((e => t(null, Fx(i, e)))).catch((e => t(e, void 0))) } async enable() { if (!this.client) throw new Error("Sign Client not initialized"); return this.session || await this.connect({ namespaces: this.namespaces, optionalNamespaces: this.optionalNamespaces, sessionProperties: this.sessionProperties }), await this.requestAccounts() } async disconnect() { var e; if (!this.session) throw new Error("Please call connect() before enable()"); await this.client.disconnect({ topic: null == (e = this.session) ? void 0 : e.topic, reason: eE("USER_DISCONNECTED") }), await this.cleanup() } async connect(e) { if (!this.client) throw new Error("Sign Client not initialized"); if (this.setNamespaces(e), await this.cleanupPendingPairings(), !e.skipPairing) return await this.pair(e.pairingTopic) } async authenticate(e, t) { if (!this.client) throw new Error("Sign Client not initialized"); this.setNamespaces(e), await this.cleanupPendingPairings(); const { uri: n, response: r } = await this.client.authenticate(e, t); n && (this.uri = n, this.events.emit("display_uri", n)); const i = await r(); if (this.session = i.session, this.session) { const e = fI(this.session.namespaces); this.namespaces = uI(this.namespaces, e), this.persist("namespaces", this.namespaces), this.onConnect() } return i } on(e, t) { this.events.on(e, t) } once(e, t) { this.events.once(e, t) } removeListener(e, t) { this.events.removeListener(e, t) } off(e, t) { this.events.off(e, t) } get isWalletConnect() { return !0 } async pair(e) { this.shouldAbortPairingAttempt = !1; let t = 0; do { if (this.shouldAbortPairingAttempt) throw new Error("Pairing aborted"); if (t >= this.maxPairingAttempts) throw new Error("Max auto pairing attempts reached"); const { uri: n, approval: r } = await this.client.connect({ pairingTopic: e, requiredNamespaces: this.namespaces, optionalNamespaces: this.optionalNamespaces, sessionProperties: this.sessionProperties }); n && (this.uri = n, this.events.emit("display_uri", n)), await r().then((e => { this.session = e; const t = fI(e.namespaces); this.namespaces = uI(this.namespaces, t), this.persist("namespaces", this.namespaces) })).catch((e => { if (e.message !== ck) throw e; t++ })) } while (!this.session); return this.onConnect(), this.session } setDefaultChain(e, t) { try { if (!this.session) return; const [n, r] = this.validateChain(e), i = this.getProvider(n); i.name === Zk ? i.setDefaultChain(`${n}:${r}`, t) : i.setDefaultChain(r, t) } catch (n) { if (!/Please call connect/.test(n.message)) throw n } } async cleanupPendingPairings(e = {}) { this.logger.info("Cleaning up inactive pairings..."); const t = this.client.pairing.getAll(); if (tE(t)) { for (const n of t) e.deletePairings ? this.client.core.expirer.set(n.topic, 0) : await this.client.core.relayer.subscriber.unsubscribe(n.topic); this.logger.info(`Inactive pairings cleared: ${t.length}`) } } abortPairingAttempt() { this.shouldAbortPairingAttempt = !0 } async checkStorage() { if (this.namespaces = await this.getFromStore("namespaces"), this.optionalNamespaces = await this.getFromStore("optionalNamespaces") || {}, this.client.session.length) { const e = this.client.session.keys.length - 1; this.session = this.client.session.get(this.client.session.keys[e]), this.createProviders() } } async initialize() { this.logger.trace("Initialized"), await this.createClient(), await this.checkStorage(), this.registerEventListeners() } async createClient() { this.client = this.providerOpts.client || await Rk.init({ core: this.providerOpts.core, logger: this.providerOpts.logger || Yk, relayUrl: this.providerOpts.relayUrl || "wss://relay.walletconnect.org", projectId: this.providerOpts.projectId, metadata: this.providerOpts.metadata, storageOptions: this.providerOpts.storageOptions, storage: this.providerOpts.storage, name: this.providerOpts.name, customStoragePrefix: this.providerOpts.customStoragePrefix, telemetryEnabled: this.providerOpts.telemetryEnabled }), this.logger.trace("SignClient Initialized") } createProviders() { if (!this.client) throw new Error("Sign Client not initialized"); if (!this.session) throw new Error("Session not initialized. Please call connect() before enable()"); const e = [...new Set(Object.keys(this.session.namespaces).map((e => Yw(e))))]; yI("client", this.client), yI("events", this.events), yI("disableProviderPing", this.disableProviderPing), e.forEach((e => { if (!this.session) return; const t = function (e, t) { const n = Object.keys(t.namespaces).filter((t => t.includes(e))); if (!n.length) return []; const r = []; return n.forEach((e => { const n = t.namespaces[e].accounts; r.push(...n) })), r }(e, this.session), n = lI(t), r = uI(this.namespaces, this.optionalNamespaces), i = GI(HI({}, r[e]), { accounts: t, chains: n }); switch (e) { case "eip155": this.rpcProviders[e] = new II({ namespace: i }); break; case "algorand": this.rpcProviders[e] = new PI({ namespace: i }); break; case "solana": this.rpcProviders[e] = new TI({ namespace: i }); break; case "cosmos": this.rpcProviders[e] = new NI({ namespace: i }); break; case "polkadot": this.rpcProviders[e] = new bI({ namespace: i }); break; case "cip34": this.rpcProviders[e] = new MI({ namespace: i }); break; case "elrond": this.rpcProviders[e] = new OI({ namespace: i }); break; case "multiversx": this.rpcProviders[e] = new RI({ namespace: i }); break; case "near": this.rpcProviders[e] = new jI({ namespace: i }); break; case "tezos": this.rpcProviders[e] = new $I({ namespace: i }); break; default: this.rpcProviders.generic ? this.rpcProviders.generic.updateNamespace(i) : this.rpcProviders.generic = new LI({ namespace: i }) } })) } registerEventListeners() { if (typeof this.client > "u") throw new Error("Sign Client is not initialized"); this.client.on("session_ping", (e => { this.events.emit("session_ping", e) })), this.client.on("session_event", (e => { const { params: t } = e, { event: n } = t; if ("accountsChanged" === n.name) { const e = n.data; e && tE(e) && this.events.emit("accountsChanged", e.map(hI)) } else if ("chainChanged" === n.name) { const e = t.chainId, n = t.event.data, r = Yw(e), i = pI(e) !== pI(n) ? `${r}:${pI(n)}` : e; this.onChainChanged(i) } else this.events.emit(n.name, n.data); this.events.emit("session_event", e) })), this.client.on("session_update", (({ topic: e, params: t }) => { var n; const { namespaces: r } = t, i = null == (n = this.client) ? void 0 : n.session.get(e); this.session = GI(HI({}, i), { namespaces: r }), this.onSessionUpdate(), this.events.emit("session_update", { topic: e, params: t }) })), this.client.on("session_delete", (async e => { await this.cleanup(), this.events.emit("session_delete", e), this.events.emit("disconnect", GI(HI({}, eE("USER_DISCONNECTED")), { data: e.topic })) })), this.on(Xk, (e => { this.onChainChanged(e, !0) })) } getProvider(e) { return this.rpcProviders[e] || this.rpcProviders.generic } onSessionUpdate() { Object.keys(this.rpcProviders).forEach((e => { var t; this.getProvider(e).updateNamespace(null == (t = this.session) ? void 0 : t.namespaces[e]) })) } setNamespaces(e) { const { namespaces: t, optionalNamespaces: n, sessionProperties: r } = e; t && Object.keys(t).length && (this.namespaces = t), n && Object.keys(n).length && (this.optionalNamespaces = n), this.sessionProperties = r, this.persist("namespaces", t), this.persist("optionalNamespaces", n) } validateChain(e) { const [t, n] = e?.split(":") || ["", ""]; if (!this.namespaces || !Object.keys(this.namespaces).length) return [t, n]; if (t && !Object.keys(this.namespaces || {}).map((e => Yw(e))).includes(t)) throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`); if (t && n) return [t, n]; const r = Yw(Object.keys(this.namespaces)[0]); return [r, this.rpcProviders[r].getDefaultChain()] } async requestAccounts() { const [e] = this.validateChain(); return await this.getProvider(e).requestAccounts() } onChainChanged(e, t = !1) { if (!this.namespaces) return; const [n, r] = this.validateChain(e); r && (t || this.getProvider(n).setDefaultChain(r), this.namespaces[n] ? this.namespaces[n].defaultChain = r : this.namespaces[`${n}:${r}`] ? this.namespaces[`${n}:${r}`].defaultChain = r : this.namespaces[`${n}:${r}`] = { defaultChain: r }, this.persist("namespaces", this.namespaces), this.events.emit("chainChanged", r)) } onConnect() { this.createProviders(), this.events.emit("connect", { session: this.session }) } async cleanup() { this.session = void 0, this.namespaces = void 0, this.optionalNamespaces = void 0, this.sessionProperties = void 0, this.persist("namespaces", void 0), this.persist("optionalNamespaces", void 0), this.persist("sessionProperties", void 0), await this.cleanupPendingPairings({ deletePairings: !0 }) } persist(e, t) { this.client.core.storage.setItem(`wc@2:universal_provider:/${e}`, t) } async getFromStore(e) { return await this.client.core.storage.getItem(`wc@2:universal_provider:/${e}`) } } const KI = VI, YI = ["eth_sendTransaction", "personal_sign"], ZI = ["eth_accounts", "eth_requestAccounts", "eth_sendRawTransaction", "eth_sign", "eth_signTransaction", "eth_signTypedData", "eth_signTypedData_v3", "eth_signTypedData_v4", "eth_sendTransaction", "personal_sign", "wallet_switchEthereumChain", "wallet_addEthereumChain", "wallet_getPermissions", "wallet_requestPermissions", "wallet_registerOnboarding", "wallet_watchAsset", "wallet_scanQRCode", "wallet_sendCalls", "wallet_getCapabilities", "wallet_getCallsStatus", "wallet_showCallsStatus"], XI = ["chainChanged", "accountsChanged"], JI = ["chainChanged", "accountsChanged", "message", "disconnect", "connect"]; var QI = Object.defineProperty, eT = Object.defineProperties, tT = Object.getOwnPropertyDescriptors, nT = Object.getOwnPropertySymbols, rT = Object.prototype.hasOwnProperty, iT = Object.prototype.propertyIsEnumerable, oT = (e, t, n) => t in e ? QI(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, sT = (e, t) => { for (var n in t || (t = {})) rT.call(t, n) && oT(e, n, t[n]); if (nT) for (var n of nT(t)) iT.call(t, n) && oT(e, n, t[n]); return e }, aT = (e, t) => eT(e, tT(t)); function cT(e) { return Number(e[0].split(":")[1]) } function lT(e) { return `0x${e.toString(16)}` } class uT { constructor() { this.events = new Bg.EventEmitter, this.namespace = "eip155", this.accounts = [], this.chainId = 1, this.STORAGE_KEY = "wc@2:ethereum_provider:", this.on = (e, t) => (this.events.on(e, t), this), this.once = (e, t) => (this.events.once(e, t), this), this.removeListener = (e, t) => (this.events.removeListener(e, t), this), this.off = (e, t) => (this.events.off(e, t), this), this.parseAccount = e => this.isCompatibleChainId(e) ? this.parseAccountId(e).address : e, this.signer = {}, this.rpc = {} } static async init(e) { const t = new uT; return await t.initialize(e), t } async request(e, t) { return await this.signer.request(e, this.formatChainId(this.chainId), t) } sendAsync(e, t, n) { this.signer.sendAsync(e, t, this.formatChainId(this.chainId), n) } get connected() { return !!this.signer.client && this.signer.client.core.relayer.connected } get connecting() { return !!this.signer.client && this.signer.client.core.relayer.connecting } async enable() { return this.session || await this.connect(), await this.request({ method: "eth_requestAccounts" }) } async connect(e) { if (!this.signer.client) throw new Error("Provider not initialized. Call init() first"); this.loadConnectOpts(e); const { required: t, optional: n } = function (e) { const { chains: t, optionalChains: n, methods: r, optionalMethods: i, events: o, optionalEvents: s, rpcMap: a } = e; if (!tE(t)) throw new Error("Invalid chains"); const c = { chains: t, methods: r || YI, events: o || XI, rpcMap: sT({}, t.length ? { [cT(t)]: a[cT(t)] } : {}) }, l = o?.filter((e => !XI.includes(e))), u = r?.filter((e => !YI.includes(e))); if (!n && !s && !i && (null == l || !l.length) && (null == u || !u.length)) return { required: t.length ? c : void 0 }; const d = { chains: [...new Set(l?.length && u?.length || !n ? c.chains.concat(n || []) : n)], methods: [...new Set(c.methods.concat(null != i && i.length ? i : ZI))], events: [...new Set(c.events.concat(null != s && s.length ? s : JI))], rpcMap: a }; return { required: t.length ? c : void 0, optional: n.length ? d : void 0 } }(this.rpc); try { const r = await new Promise((async (r, i) => { var o; this.rpc.showQrModal && (null == (o = this.modal) || o.subscribeModal((e => { !e.open && !this.signer.session && (this.signer.abortPairingAttempt(), i(new Error("Connection request reset. Please try again."))) }))), await this.signer.connect(aT(sT({ namespaces: sT({}, t && { [this.namespace]: t }) }, n && { optionalNamespaces: { [this.namespace]: n } }), { pairingTopic: e?.pairingTopic })).then((e => { r(e) })).catch((e => { i(new Error(e.message)) })) })); if (!r) return; const i = sv(r.namespaces, [this.namespace]); this.setChainIds(this.rpc.chains.length ? this.rpc.chains : i), this.setAccounts(i), this.events.emit("connect", { chainId: lT(this.chainId) }) } catch (t0) { throw this.signer.logger.error(t0), t0 } finally { this.modal && this.modal.closeModal() } } async authenticate(e, t) { if (!this.signer.client) throw new Error("Provider not initialized. Call init() first"); this.loadConnectOpts({ chains: e?.chains }); try { const n = await new Promise((async (n, r) => { var i; this.rpc.showQrModal && (null == (i = this.modal) || i.subscribeModal((e => { !e.open && !this.signer.session && (this.signer.abortPairingAttempt(), r(new Error("Connection request reset. Please try again."))) }))), await this.signer.authenticate(aT(sT({}, e), { chains: this.rpc.chains }), t).then((e => { n(e) })).catch((e => { r(new Error(e.message)) })) })), r = n.session; if (r) { const e = sv(r.namespaces, [this.namespace]); this.setChainIds(this.rpc.chains.length ? this.rpc.chains : e), this.setAccounts(e), this.events.emit("connect", { chainId: lT(this.chainId) }) } return n } catch (n) { throw this.signer.logger.error(n), n } finally { this.modal && this.modal.closeModal() } } async disconnect() { this.session && await this.signer.disconnect(), this.reset() } get isWalletConnect() { return !0 } get session() { return this.signer.session } registerEventListeners() { this.signer.on("session_event", (e => { const { params: t } = e, { event: n } = t; "accountsChanged" === n.name ? (this.accounts = this.parseAccounts(n.data), this.events.emit("accountsChanged", this.accounts)) : "chainChanged" === n.name ? this.setChainId(this.formatChainId(n.data)) : this.events.emit(n.name, n.data), this.events.emit("session_event", e) })), this.signer.on("chainChanged", (e => { const t = parseInt(e); this.chainId = t, this.events.emit("chainChanged", lT(this.chainId)), this.persist() })), this.signer.on("session_update", (e => { this.events.emit("session_update", e) })), this.signer.on("session_delete", (e => { this.reset(), this.events.emit("session_delete", e), this.events.emit("disconnect", aT(sT({}, eE("USER_DISCONNECTED")), { data: e.topic, name: "USER_DISCONNECTED" })) })), this.signer.on("display_uri", (e => { var t, n; this.rpc.showQrModal && (null == (t = this.modal) || t.closeModal(), null == (n = this.modal) || n.openModal({ uri: e })), this.events.emit("display_uri", e) })) } switchEthereumChain(e) { this.request({ method: "wallet_switchEthereumChain", params: [{ chainId: e.toString(16) }] }) } isCompatibleChainId(e) { return "string" == typeof e && e.startsWith(`${this.namespace}:`) } formatChainId(e) { return `${this.namespace}:${e}` } parseChainId(e) { return Number(e.split(":")[1]) } setChainIds(e) { const t = e.filter((e => this.isCompatibleChainId(e))).map((e => this.parseChainId(e))); t.length && (this.chainId = t[0], this.events.emit("chainChanged", lT(this.chainId)), this.persist()) } setChainId(e) { if (this.isCompatibleChainId(e)) { const t = this.parseChainId(e); this.chainId = t, this.switchEthereumChain(t) } } parseAccountId(e) { const [t, n, r] = e.split(":"); return { chainId: `${t}:${n}`, address: r } } setAccounts(e) { this.accounts = e.filter((e => this.parseChainId(this.parseAccountId(e).chainId) === this.chainId)).map((e => this.parseAccountId(e).address)), this.events.emit("accountsChanged", this.accounts) } getRpcConfig(e) { var t, n; const r = null != (t = e?.chains) ? t : [], i = null != (n = e?.optionalChains) ? n : [], o = r.concat(i); if (!o.length) throw new Error("No chains specified in either `chains` or `optionalChains`"); const s = r.length ? e?.methods || YI : [], a = r.length ? e?.events || XI : [], c = e?.optionalMethods || [], l = e?.optionalEvents || [], u = e?.rpcMap || this.buildRpcMap(o, e.projectId), d = e?.qrModalOptions || void 0; return { chains: r?.map((e => this.formatChainId(e))), optionalChains: i.map((e => this.formatChainId(e))), methods: s, events: a, optionalMethods: c, optionalEvents: l, rpcMap: u, showQrModal: !(null == e || !e.showQrModal), qrModalOptions: d, projectId: e.projectId, metadata: e.metadata } } buildRpcMap(e, t) { const n = {}; return e.forEach((e => { n[e] = this.getRpcUrl(e, t) })), n } async initialize(e) { if (this.rpc = this.getRpcConfig(e), this.chainId = this.rpc.chains.length ? cT(this.rpc.chains) : cT(this.rpc.optionalChains), this.signer = await KI.init({ projectId: this.rpc.projectId, metadata: this.rpc.metadata, disableProviderPing: e.disableProviderPing, relayUrl: e.relayUrl, storageOptions: e.storageOptions, customStoragePrefix: e.customStoragePrefix, telemetryEnabled: e.telemetryEnabled }), this.registerEventListeners(), await this.loadPersistedSession(), this.rpc.showQrModal) { let e; try { const { WalletConnectModal: t } = await n.e(343).then(n.bind(n, 59343)); e = t } catch { throw new Error("To use QR modal, please install @walletconnect/modal package") } if (e) try { this.modal = new e(sT({ projectId: this.rpc.projectId }, this.rpc.qrModalOptions)) } catch (t) { throw this.signer.logger.error(t), new Error("Could not generate WalletConnectModal Instance") } } } loadConnectOpts(e) { if (!e) return; const { chains: t, optionalChains: n, rpcMap: r } = e; t && tE(t) && (this.rpc.chains = t.map((e => this.formatChainId(e))), t.forEach((e => { this.rpc.rpcMap[e] = r?.[e] || this.getRpcUrl(e) }))), n && tE(n) && (this.rpc.optionalChains = [], this.rpc.optionalChains = n?.map((e => this.formatChainId(e))), n.forEach((e => { this.rpc.rpcMap[e] = r?.[e] || this.getRpcUrl(e) }))) } getRpcUrl(e, t) { var n; return (null == (n = this.rpc.rpcMap) ? void 0 : n[e]) || `https://rpc.walletconnect.org/v1/?chainId=eip155:${e}&projectId=${t || this.rpc.projectId}` } async loadPersistedSession() { if (this.session) try { const e = await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`), t = this.session.namespaces[`${this.namespace}:${e}`] ? this.session.namespaces[`${this.namespace}:${e}`] : this.session.namespaces[this.namespace]; this.setChainIds(e ? [this.formatChainId(e)] : t?.accounts), this.setAccounts(t?.accounts) } catch (e) { this.signer.logger.error("Failed to load persisted session, clearing state..."), this.signer.logger.error(e), await this.disconnect().catch((e => this.signer.logger.warn(e))) } } reset() { this.chainId = 1, this.accounts = [] } persist() { this.session && this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`, this.chainId) } parseAccounts(e) { return "string" == typeof e || e instanceof String ? [this.parseAccount(e)] : e.map((e => this.parseAccount(e))) } } const dT = uT; class hT extends el { async initialize() { let e = await this.createProvider(); if (this.provider = e, this.proxyProvider.setWalletProvider(e), this.subscribeListeners(), e.session) { if (this.walletProvider?.session?.peer.metadata.url) { let e = Ns(this.walletProvider?.session?.peer.metadata.url); this.walletEntry = e?.entry, this.walletClientType = e?.walletClientType || "unknown" } this.connected = !0, await this.syncAccounts() } this.initialized = !0, this.emit("initialized"); let { WalletConnectModal: t } = await n.e(343).then(n.bind(n, 59343)); this.modal = new t({ projectId: this.walletConnectCloudProjectId, themeVariables: { "--wcm-z-index": "1000000" } }), this.modal.subscribeModal((e => { e.open || this.walletProvider?.session || !this.onQrModalClosed || this.onQrModalClosed() })) } async connect(e) { return e.showPrompt && await this.promptConnection(), this.getConnectedWallet() } async isConnected() { return !!this.walletProvider?.connected } get walletBranding() { if ("metamask" === this.walletClientType) return { name: "MetaMask", icon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAHdElNRQfoDAIVMQ8VNW19AAAGKUlEQVRYw+2WTWxcVxXHf+feN98Tf43j2KmduMEibZOilEjNl9KmImrCoipSkSohIQQSQkJhSdmAAEV0ka742CF11WURsEJRHSg4TWooUhPagkgcO/6IY8ffnhk/z8y9h8Wbsd/4AwEbFnCkJ7173zn/c87/nHPfhf91kcbLt892cX9RebrbcOaA4ViPoVyNvvVemfqPwMdfewyAbAI+nPbcGPfcnvYc6hCuDM0CEDSUDeAUkw54wRqW2gvmL+WHvgIwWQdCofeNqX/JaVwKnSZpZ/zTaUtbpaa/FUSbGPjOc3tRFbyyNzC809sifSf77FBvq/zKKb+rOR23ZtNoJ1a2Oq45SAQctMILk8v6heEJd3ZqRe87z4sizKkqb1x/FDGgGlXCCMe9cvj+sqbLVffyyT7z0uMd5l5gZVCVXwPDmTSL6SSUf9TsUBXWKlAOaQdOJAJe9sr5kXl/aHjCm7myIpAR4ThwVUSaSyARwxeAtACPSso7d515Zj8Dx3rMQCrgK6rcdo5rIsxvayaBmqMAfE6Ez4Q1MremPR8+cKzXou9ABriIcJU6nxsBKKSBo3HA0MHwhGO2pJzuM5lCVk54zwnVDcAmBryPEpkvKTfHPaOLHmWb7lGUNBA2BYBoiMpYU1ZRYIzMexbXlFN9hoGCadR3W81rDu7Oe96f8CyWFZHYmG3KmKoPRUwzA0R9cGunzhaBhbIyOBKxcarfUtjTrLO8BjfHHbcfeiq17QzF5FbDOUTTF5ePgPJuQaw7+NOkZ/COI6xG2QkQVmHwjuODSU/F/VPn5bqPRgvUA9Ami9qu5gq5JPS2CFYiEAWsRHu5ZAx5Z6k1NER1swQi2rAL60/LFr+oQmdWeK7fcrBdmrIUgSNdhlxC+MOYY373+jfwN2ja0kpMAbNAl2rk2EiUdXdeONlr2ZuPUtdYplqnor9dyCYsw5OOh0WlXAGv9VJF/maBB02lbby8drYLIKnws8Dw9da0sL9VeLxD6GkRkgg2xnA+C8lE9F6pQrG8CeiAKsqDFWV0QXmwrCyHSs3zc4FLQGXbvwDgVL+pAD/p75CXulukuyUlGAOlMoSV5vJuYyBWLgO0poT9B4TP9sLKuvJwRadH5/XHCJX3x/yG/kYAP7iYwER89AGtjbo7B0urnnBdMUJDh0RgSCejRbWqFIsRqNfoSaeEdNJgDLRlhPaMtD25jz7g44tPWK4MRThNY1g3ftErmUZWxsCenMU7KK55xpYDZouCd2zMofPwqCiMLgcUyx7vIhtjNhnySqaO3SQGYOX1g411AXh+a+vmMlBoS7AY5Hlrro+bqwWsFbTejNYIN1Y7eGuuj4VEnkJbglyGneQc0AkQvt6zWYJa6AhSABwDDm+1MkbJZoVn81UGuqdZWrMYa4CIdmMN5w+FfDFToiPhEB/Z7CCH6z4GS2uxo9iYOv2e5wWycQvntd5knkDgsaxnf6ZKpbo55QmrPNURIgLVWnTarFeis8CaptMgq3DOGgatjTVhzUVjZAwl3RJ4qayU1xxGhEK7pWWPYA0EwWZDBkHU/TUHK0VlftHhVclmLLls83EkQsl7SKdiATRUvOc6sAps/GpSKWEtFJxXqg6KJU86JcyEUK5E0eaS0JVWwnWlWhOcU4wVUilhS0Krqgxta8LC5cnG+hPg73EFa4R8zmINGBFq+QOMdFzg0rUcr75d5dW3q1y6luNexwVq+QMYI1gL+ZzZSj917E8AOi9PbTIQk0XgPeB4fDOVIHRtbQvhk5/fJ33P2kezZSZX32O1GhVyYhVmO0/R8tR5dOKPLv3X38ykKHYQXXLicgNYiG9sDQDg98A3gCXg48hIr7Pv06NLPWe+msR+K591uW9++RV8fajFCLlsmhLpUqXnzE/bFu69ycwHh0DOAKeBI0A78O5WZ7ErmSDRYTsEfAn4GzBG/X5QDfKMTdz/7r7Ozj9bY77/zNHDRzfOZgFBP1peXfnhzPzcL48EeQfcAa4STVU/8EQdu7kp44vJHe70Dbl74jKqSmAtNec+JSKngfow4VT1RmDtSM05RISB4e/tihW/0u9+d9lB3v3Fm6gooruZRbfIc6987d+B/b/8d+UfeVGT8xvC5akAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjQtMTItMDJUMjE6NDk6MTArMDA6MDB60KjYAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDI0LTEyLTAyVDIxOjQ5OjEwKzAwOjAwC40QZAAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyNC0xMi0wMlQyMTo0OToxNSswMDowMA6gHhwAAAAASUVORK5CYII=", id: "io.metamask" }; let e = this.walletProvider?.session?.peer.metadata.icons?.[0]; return { name: Fa(this.walletProvider?.session?.peer.metadata.name || "") || "WalletConnect", icon: "string" == typeof e ? e : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC", id: this.walletProvider?.session?.peer.metadata.name.toLowerCase() || "wallet_connect_v2" } } async resetConnection(e) { this.walletProvider && this.walletProvider.connected && (await this.walletProvider.disconnect(), this.walletProvider.signer.session = void 0, this.walletEntry?.isWalletEntryOverriden || (this.walletEntry = Ps[e]), this.walletClientType = e, this.redirectUri = void 0, this.fallbackUniversalRedirectUri = void 0, function () { try { localStorage.removeItem(Os) } catch { } }(), this.onDisconnect()) } async promptConnection() { if (this.provider) return new Promise(((e, t) => { this.onQrModalClosed = () => { t(new Bc) }, (async () => { let t = "", n = await Promise.race([this.walletProvider?.enable(), this.proxyProvider.walletTimeout()]); if (n?.length && (t = n[0]), !t || "" === t) throw new bs.M9("Unable to retrieve address"); if (this.walletProvider?.session?.peer.metadata.url) { let e = Ns(this.walletProvider?.session?.peer.metadata.url); this.walletEntry = e?.entry, this.walletClientType = e?.walletClientType || "unknown", this.proxyProvider.rpcTimeoutDuration = Yc(this.rpcConfig, this.walletClientType) } this.connected = !0, await this.syncAccounts(n), e() })().catch((e => { t(e ? Wc(e) : new bs.M9("Unknown error during connection")) })).finally((() => this.modal?.closeModal())) })) } disconnect() { this.walletProvider?.disconnect().then((() => this.onDisconnect())).catch((() => console.warn("Unable to disconnect Wallet Connect provider"))) } get walletProvider() { return this.proxyProvider.walletProvider } setWalletProvider(e) { this.proxyProvider.setWalletProvider(e) } async createProvider() { let e = {}; for (let i of this.chains) { let t = qa(i.id, this.chains, this.rpcConfig, this.privyAppId); t && (e[i.id] = t) } let t = this.shouldEnforceDefaultChainOnConnect ? [this.defaultChain.id] : [], n = this.chains.map((e => e.id)), r = await dT.init({ projectId: this.walletConnectCloudProjectId, chains: t, optionalChains: n, optionalEvents: JI, optionalMethods: ZI, rpcMap: e, showQrModal: !1, metadata: { description: this.privyAppName, name: this.privyAppName, url: window.location.toString(), icons: [] } }); return r.on("display_uri", (e => { if (r.signer.abortPairingAttempt(), this.walletEntry) { let { redirect: t, href: n } = function (e, t) { let n = Ms(t); if (n.deepLink) return js(n.deepLink, e); if (n.universalLink) return $s(n.universalLink, e); throw new bs.dx(`Unsupported wallet ${t.id}`) }(e, this.walletEntry); (function ({ href: e, name: t }) { try { localStorage.setItem(Os, JSON.stringify({ href: e, name: t })) } catch { } })({ href: n, name: this.walletEntry.displayName }), this.redirectUri = t; let r = function (e, t) { let n = Ms(t); if (n.universalLink) return $s(n.universalLink, e) }(e, this.walletEntry); r?.redirect && (this.fallbackUniversalRedirectUri = r.redirect), ys.tq && Ls(t, "_self"), this.showPrivyQrModal?.({ native: t, universal: this.fallbackUniversalRedirectUri }) } else this.modal?.openModal({ uri: e, chains: [this.defaultChain.id] }) })), r.on("connect", (() => { if (this.modal?.closeModal(), r.session?.peer.metadata.url) { let e = Ns(r.session?.peer.metadata.url); this.walletEntry = e?.entry, this.walletClientType = e?.walletClientType || "unknown" } })), r } async enableProvider() { return this.walletProvider?.connected ? Promise.resolve(this.walletProvider.accounts) : await (this.walletProvider?.enable()) } setWalletEntry(e, t) { this.walletEntry = e, this.showPrivyQrModal = t } constructor(e, t, n, r, i, o, s, a) { super(a || "unknown", n, r, t), this.connectorType = "wallet_connect_v2", this.privyAppId = o, this.privyAppName = s, this.walletConnectCloudProjectId = e, this.rpcConfig = t, this.shouldEnforceDefaultChainOnConnect = i, this.proxyProvider = new Zc(void 0, this.rpcTimeoutDuration), a && (this.walletEntry = Ps[a], this.walletClientType = a) } } const fT = e => e?.privyErrorCode === bs.sX.LINKED_TO_ANOTHER_USER ? Hc.ERROR_USER_EXISTS : e instanceof qc && !e.details.default ? e.details : e instanceof Fc ? Hc.ERROR_TIMED_OUT : e instanceof Bc ? Hc.ERROR_USER_REJECTED_CONNECTION : e?.privyErrorCode === bs.sX.CANNOT_LINK_MORE_OF_TYPE ? Hc.ERROR_USER_LIMIT_REACHED : Hc.ERROR_WALLET_CONNECTION; let pT = oh.div.withConfig({ displayName: "ConnectContainer", componentId: "sc-afad057-0" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]), mT = oh.div.withConfig({ displayName: "StackedContainer", componentId: "sc-afad057-1" })(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]); const gT = e => { let t = e.walletLogo; return (0, y.jsx)(y.Fragment, { children: (0, y.jsx)(mT, { children: (0, y.jsxs)("div", { children: [(0, y.jsx)(wf, { success: e.success, fail: e.fail }), "string" == typeof t ? (0, y.jsx)("span", { style: { background: `url('${t}')`, height: "38px", width: "38px", borderRadius: "6px", margin: "auto", backgroundSize: "cover" } }) : (0, y.jsx)(t, { style: { width: "38px", height: "38px" } })] }) }) }) }; let yT = oh.div.withConfig({ displayName: "ConnectContainer", componentId: "sc-1346f57-0" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]); const bT = ({ name: e, logoUrl: t, size: n = "38px" }) => "string" == typeof t ? (0, y.jsx)("img", { src: t, alt: `${e ?? "Provider app"} logo`, style: { width: n, height: n, maxHeight: "90px", maxWidth: "180px", borderRadius: "8px" } }) : (0, y.jsx)("span", {}); let vT = oh.div.withConfig({ displayName: "ConnectContainer", componentId: "sc-2ae0702a-0" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:27px;margin-right:27px;gap:24px;"]); function wT({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" })) } var ET = Ke.forwardRef(wT); const xT = oh.div.withConfig({ displayName: "Column", componentId: "sc-cfc52180-0" })(["display:flex;flex-direction:column;"]), _T = oh.span.withConfig({ displayName: "ErrorMessage", componentId: "sc-fcb8cd50-0" })(["text-align:left;font-size:0.75rem;font-weight:500;line-height:1.125rem;color:var(--privy-color-error);"]), CT = oh.span.withConfig({ displayName: "LabelXs", componentId: "sc-4c43f9fd-0" })(["color:var(--privy-color-foreground-3);font-size:0.75rem;font-weight:500;line-height:1.125rem;"]), AT = nh(["&&{border-width:1px;padding:0.5rem 1rem;}width:100%;text-align:left;border:solid 1px var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);display:flex;justify-content:space-between;align-items:center;", ""], (e => "error" === e.$state ? "border-color: var(--privy-color-error);" : "")), ST = oh.div.withConfig({ displayName: "Box", componentId: "sc-1660059c-0" })(["", ""], AT), kT = ({ errMsg: e, balance: t, address: n, isLoading: r, className: i, title: o, isPulsing: s, showIcon: a, statusColor: c = "green" }) => { let l; return l = c || (e ? "red" : "green"), (0, y.jsxs)(y.Fragment, { children: [(0, y.jsxs)(ST, { className: i, $state: e ? "error" : void 0, children: [(0, y.jsxs)(xT, { children: [(0, y.jsx)(CT, { children: o || "Pay with" }), (0, y.jsx)(Ip, { address: n, showCopyIcon: a || !!e })] }), void 0 !== t && (0, y.jsx)(fg, { isLoading: r, isPulsing: s, color: l, children: t })] }), e && (0, y.jsx)(_T, { style: { marginTop: "0.25rem" }, children: e })] }) }; function IT({ ...e }) { return (0, y.jsx)("svg", { width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg", ...e, children: (0, y.jsx)("path", { d: "M12 7C13.1046 7 14 6.10457 14 5C14 3.89543 13.1046 3 12 3C10.8954 3 10 3.89543 10 5C10 6.10457 10.8954 7 12 7ZM12 7V11M5 11H19C20.1046 11 21 11.8954 21 13V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V13C3 11.8954 3.89543 11 5 11Z", stroke: "#110F2A", strokeWidth: "1.5", strokeLinecap: "round", strokeLinejoin: "round" }) }) } let TT = oh.div.withConfig({ displayName: "ButtonsContainer", componentId: "sc-a32dac1d-0" })(["display:flex;gap:10px;"]), NT = oh(kT).withConfig({ displayName: "StyledWalletInfoCard", componentId: "sc-a32dac1d-1" })(["margin-top:1.5rem;"]); let PT = oh.div.withConfig({ displayName: "ButtonsContainer", componentId: "sc-f664b6c5-0" })(["display:flex;gap:10px;"]); const MT = () => (0, y.jsx)(OT, { children: (0, y.jsxs)(RT, { children: [(0, y.jsx)(jT, {}), (0, y.jsx)($T, {})] }) }); let OT = oh.div.withConfig({ displayName: "LoadingContainer", componentId: "sc-85b54ede-0" })(["display:flex;justify-content:center;align-items:center;flex-grow:1;margin:12px;padding:16px;@media all and (display-mode:standalone){margin-bottom:30px;}"]), RT = oh.div.withConfig({ displayName: "SpinnerContainer", componentId: "sc-85b54ede-1" })(["position:relative;height:140px;width:140px;opacity:1;animation:fadein 200ms ease;"]), jT = oh.div.withConfig({ displayName: "CircleFixed", componentId: "sc-85b54ede-2" })(["position:absolute;top:0;right:0;bottom:0;left:0;width:140px;height:140px;&&{border:4px solid var(--privy-color-accent-light);border-radius:50%;}"]), $T = oh.div.withConfig({ displayName: "CircleRotate", componentId: "sc-85b54ede-3" })(["position:absolute;top:0;right:0;bottom:0;left:0;width:140px;height:140px;animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-accent) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]); const LT = ["error", "invalid_request_arguments", "wallet_not_on_device", "invalid_recovery_pin", "insufficient_funds", "missing_or_invalid_mfa", "mfa_verification_max_attempts_reached", "mfa_timeout", "twilio_verification_failed"]; class DT extends Error { constructor(e, t) { super(t), this.type = e } } function UT(e) { let t = e.type; return "string" == typeof t && LT.includes(t) } function FT(e) { return UT(e) && "wallet_not_on_device" === e.type } function BT(e) { return !!UT(e) && "mfa_timeout" === e.type } function WT(e) { return !!UT(e) && "missing_or_invalid_mfa" === e.type } function zT(e) { return !(!UT(e) || !e.message.includes("code 429")) } function qT(e) { return !!function (e) { let t = e.type; return "string" == typeof t && "client_error" === t }(e) && "MFA canceled" === e.message } function HT() { return Ws(pa(36)) } function GT() { return HT() } async function VT(e, t = "S256") { if ("S256" != t) return e; { let t = await async function (e) { let t = (new TextEncoder).encode(e); return new Uint8Array(await crypto.subtle.digest("SHA-256", t)) }(e); return Ws(t) } } function KT({ isCreatingWallet: e, skipSplashScreen: t }) { return e ? uf.EMBEDDED_WALLET_PASSWORD_CREATE_SCREEN : t ? uf.EMBEDDED_WALLET_PASSWORD_UPDATE_SCREEN : uf.EMBEDDED_WALLET_PASSWORD_UPDATE_SPLASH_SCREEN } function YT({ walletAction: e, availableRecoveryMethods: t, legacySetWalletPasswordFlow: n, isResettingPassword: r, showAutomaticRecovery: i }) { return i ? uf.EMBEDDED_WALLET_SET_AUTOMATIC_RECOVERY_SCREEN : n || 1 === t.length ? KT({ isCreatingWallet: "create" === e, skipSplashScreen: r }) : uf.EMBEDDED_WALLET_RECOVERY_SELECTION_SCREEN } function ZT(e) { switch (e) { case "user-passcode": return uf.EMBEDDED_WALLET_PASSWORD_RECOVERY_SCREEN; case "google-drive": case "icloud": return uf.EMBEDDED_WALLET_RECOVERY_OAUTH_SCREEN; default: throw Error("Recovery method not supported") } } async function XT({ api: e, provider: t }) { let n = HT(), r = GT(), i = await VT(n); try { return "icloud" === t ? { url: (await e.post("/api/v1/recovery/oauth/init_icloud", { client_type: "web" })).url } : { url: (await e.post("/api/v1/recovery/oauth/init", { redirect_to: window.location.href, code_challenge: i, state_code: r })).url, codeVerifier: n, stateCode: r, provider: t } } catch (e) { throw (0, bs.wh)(e) } } async function JT({ api: e, provider: t, stateCode: n, codeVerifier: r, authorizationCode: i }) { if (!i || !n) throw new bs.dx("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenicate."); if ("undefined" === i) throw new bs.dx("User denied confirmation during OAuth flow"); try { return (await e.post("/api/v1/recovery/oauth/authenticate", { authorization_code: i, state_code: n, code_verifier: r, provider: t })).access_token } catch (e) { let t = (0, bs.wh)(e); if (t.privyErrorCode) throw new bs.dx(t.message || "Invalid code during OAuth flow.", void 0, t.privyErrorCode); if ("User denied confirmation during OAuth flow" === t.message) throw new bs.dx("Invalid code during oauth flow.", void 0, bs.sX.OAUTH_USER_DENIED); throw new bs.dx("Invalid code during OAuth flow.", void 0, bs.sX.UNKNOWN_AUTH_ERROR) } } let QT = oh.div.withConfig({ displayName: "BottomSpacing", componentId: "sc-124dbb1c-0" })(["height:44px;"]); const eN = ({ children: e, theme: t }) => (0, y.jsxs)(tN, { $theme: t, children: [(0, y.jsx)(mp, { width: "1.25rem", color: "dark" === t ? "#FDE68A" : "var(--privy-color-warn)" }), e] }); let tN = oh.div.withConfig({ displayName: "Container", componentId: "sc-97f152b3-0" })(["display:flex;gap:0.5rem;background-color:", ";", " align-items:flex-start;text-align:left;padding:0.5rem 0.75rem;font-size:0.8125rem;font-weight:400;line-height:1.125rem;padding:0.75rem;&&{border-radius:var(--privy-border-radius-sm);}"], (e => "dark" === e.$theme ? "var(--privy-color-background-2)" : "var(--privy-color-warn-light)"), (e => "dark" === e.$theme ? "color: #FDE68A;" : "")); const nN = oh.span.withConfig({ displayName: "Subtitle", componentId: "sc-7a11f796-0" })(["margin-top:4px;color:var(--privy-color-foreground);text-align:center;font-size:0.875rem;font-weight:400;line-height:1.375rem;&& a{color:var(--privy-color-accent);}"]), rN = oh.span.withConfig({ displayName: "Title", componentId: "sc-66de63c-0" })(["color:var(--privy-color-foreground);font-size:1.125rem;font-weight:600;line-height:1.875rem;text-align:center;"]); function iN(e) { let [t, n] = (0, Ke.useState)(e.dimensions.width), [r, i] = (0, Ke.useState)(void 0), o = (0, Ke.useRef)(null); (0, Ke.useEffect)((() => { if (o.current && void 0 === t) { let { width: e } = o.current.getBoundingClientRect(); n(e) } let e = getComputedStyle(document.documentElement); i({ background: e.getPropertyValue("--privy-color-background"), background2: e.getPropertyValue("--privy-color-background-2"), foreground3: e.getPropertyValue("--privy-color-foreground-3"), foregroundAccent: e.getPropertyValue("--privy-color-foreground-accent"), accent: e.getPropertyValue("--privy-color-accent"), accentDark: e.getPropertyValue("--privy-color-accent-dark"), success: e.getPropertyValue("--privy-color-success") }) }), []); let s = "ethereum" === e.walletToExport.chainType && !e.walletToExport.imported; return (0, y.jsx)("div", { ref: o, children: t && (0, y.jsxs)(sN, { children: [(0, y.jsx)("iframe", { style: { position: "absolute", zIndex: 1 }, width: t, height: e.dimensions.height, allow: "clipboard-write self *", src: Ua(e.origin, `/apps/${e.appId}/embedded-wallets/export`, { client_id: e.appClientId, primaryAddress: e.primaryWallet.address, address: e.walletToExport.address, walletIndex: e.walletToExport.walletIndex, width: `${t}px`, caid: e.clientAnalyticsId, phrase_export: s, ...r }, { token: e.accessToken }) }), (0, y.jsx)(aN, { children: "Loading..." }), s && (0, y.jsx)(aN, { children: "Loading..." })] }) }) } let oN = oh.div.withConfig({ displayName: "EmbeddedWalletScreenContainer", componentId: "sc-eaab13a9-0" })(["display:flex;flex-direction:column;gap:1.25rem;text-align:left;"]), sN = oh.div.withConfig({ displayName: "ButtonContainer", componentId: "sc-eaab13a9-1" })(["overflow:visible;position:relative;overflow:none;height:44px;display:flex;gap:12px;"]), aN = oh.div.withConfig({ displayName: "LoadingButton", componentId: "sc-eaab13a9-2" })(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]); function cN() { let { getAccessToken: e } = (0, mf.b)(), { refreshUser: t, createAnalyticsEvent: n, initializeWalletProxy: r } = (0, af.u)(), i = (0, Ke.useRef)(!1); return { createWallet: (0, Ke.useCallback)((async ({ user: o, recoveryPassword: s }) => { let a = await e(); if (!a) throw n({ eventName: "embedded_wallet_creation_failed", payload: { error: "Missing access token for user." } }), Error("An error has occured, please login again."); try { n({ eventName: "embedded_wallet_creation_started" }); let e = await r(fa); if (!e) throw Error("walletProxy does not exist."); let c = new Promise(((e, t) => { setTimeout((() => { t(Error("walletProxy.create timed out.")) }), 2e4) })), l = (0, fc.ys)(o); if (!(await Promise.race([e.create({ accessToken: a, recoveryPassword: s, recoveryMethod: s ? "user-passcode" : void 0, solanaAddress: l?.address }), c]))) throw Error("walletProxy.create did not send a response."); let u = await t(); if (!u) throw Error("Failed to refresh user."); let d = (0, fc.sW)(u); if (!d) throw Error("Updated user is missing embedded wallet."); return n({ eventName: "embedded_wallet_creation_completed", payload: { walletAddress: d.address } }), i.current = !0, d } catch (o) { if (i.current) return; throw n({ eventName: "embedded_wallet_creation_failed", payload: { error: o.toString() } }), console.warn(o), o } }), []) } } let lN = oh.div.withConfig({ displayName: "BottomSpacing", componentId: "sc-eabafbf4-0" })(["height:44px;"]); var uN = n(6765); function dN(e) { return crypto.getRandomValues(new Uint8Array(e)) } const hN = 65536; function fN() { const [e] = dN(1); return e } function pN() { const [e, t] = dN(2); return (e << 8) + t } function mN(e) { if ("number" !== typeof e || e < 2 || e > hN) throw new Error("Invalid number: number must be at least two and at most 65536"); const t = e > 256, n = t ? hN : 256, r = t ? pN : fN, i = e * Math.floor(n / e); for (; ;) { const t = r(); if (t < i) return t % e } } function gN(e, t, n) { if ("number" !== typeof e || e < 1) throw new Error("Invalid argument: length must be a number greater than or equal to 1"); if ("number" !== typeof t || t < 0) throw new Error("Invalid argument: start must be a number greater than or equal to 0"); if ("number" !== typeof n || n > hN) throw new Error("Invalid argument: end must be a number less than or equal to 65536"); if (n - t < 2) throw new Error("Invalid range: range must contain at least two values"); const r = []; for (let i = 0; i < e; i++)r[i] = t + mN(n - t); return r } const yN = Object.freeze(["abacus", "abdomen", "abdominal", "abide", "abiding", "ability", "ablaze", "able", "abnormal", "abrasion", "abrasive", "abreast", "abridge", "abroad", "abruptly", "absence", "absentee", "absently", "absinthe", "absolute", "absolve", "abstain", "abstract", "absurd", "accent", "acclaim", "acclimate", "accompany", "account", "accuracy", "accurate", "accustom", "acetone", "achiness", "aching", "acid", "acorn", "acquaint", "acquire", "acre", "acrobat", "acronym", "acting", "action", "activate", "activator", "active", "activism", "activist", "activity", "actress", "acts", "acutely", "acuteness", "aeration", "aerobics", "aerosol", "aerospace", "afar", "affair", "affected", "affecting", "affection", "affidavit", "affiliate", "affirm", "affix", "afflicted", "affluent", "afford", "affront", "aflame", "afloat", "aflutter", "afoot", "afraid", "afterglow", "afterlife", "aftermath", "aftermost", "afternoon", "aged", "ageless", "agency", "agenda", "agent", "aggregate", "aghast", "agile", "agility", "aging", "agnostic", "agonize", "agonizing", "agony", "agreeable", "agreeably", "agreed", "agreeing", "agreement", "aground", "ahead", "ahoy", "aide", "aids", "aim", "ajar", "alabaster", "alarm", "albatross", "album", "alfalfa", "algebra", "algorithm", "alias", "alibi", "alienable", "alienate", "aliens", "alike", "alive", "alkaline", "alkalize", "almanac", "almighty", "almost", "aloe", "aloft", "aloha", "alone", "alongside", "aloof", "alphabet", "alright", "although", "altitude", "alto", "aluminum", "alumni", "always", "amaretto", "amaze", "amazingly", "amber", "ambiance", "ambiguity", "ambiguous", "ambition", "ambitious", "ambulance", "ambush", "amendable", "amendment", "amends", "amenity", "amiable", "amicably", "amid", "amigo", "amino", "amiss", "ammonia", "ammonium", "amnesty", "amniotic", "among", "amount", "amperage", "ample", "amplifier", "amplify", "amply", "amuck", "amulet", "amusable", "amused", "amusement", "amuser", "amusing", "anaconda", "anaerobic", "anagram", "anatomist", "anatomy", "anchor", "anchovy", "ancient", "android", "anemia", "anemic", "aneurism", "anew", "angelfish", "angelic", "anger", "angled", "angler", "angles", "angling", "angrily", "angriness", "anguished", "angular", "animal", "animate", "animating", "animation", "animator", "anime", "animosity", "ankle", "annex", "annotate", "announcer", "annoying", "annually", "annuity", "anointer", "another", "answering", "antacid", "antarctic", "anteater", "antelope", "antennae", "anthem", "anthill", "anthology", "antibody", "antics", "antidote", "antihero", "antiquely", "antiques", "antiquity", "antirust", "antitoxic", "antitrust", "antiviral", "antivirus", "antler", "antonym", "antsy", "anvil", "anybody", "anyhow", "anymore", "anyone", "anyplace", "anything", "anytime", "anyway", "anywhere", "aorta", "apache", "apostle", "appealing", "appear", "appease", "appeasing", "appendage", "appendix", "appetite", "appetizer", "applaud", "applause", "apple", "appliance", "applicant", "applied", "apply", "appointee", "appraisal", "appraiser", "apprehend", "approach", "approval", "approve", "apricot", "april", "apron", "aptitude", "aptly", "aqua", "aqueduct", "arbitrary", "arbitrate", "ardently", "area", "arena", "arguable", "arguably", "argue", "arise", "armadillo", "armband", "armchair", "armed", "armful", "armhole", "arming", "armless", "armoire", "armored", "armory", "armrest", "army", "aroma", "arose", "around", "arousal", "arrange", "array", "arrest", "arrival", "arrive", "arrogance", "arrogant", "arson", "art", "ascend", "ascension", "ascent", "ascertain", "ashamed", "ashen", "ashes", "ashy", "aside", "askew", "asleep", "asparagus", "aspect", "aspirate", "aspire", "aspirin", "astonish", "astound", "astride", "astrology", "astronaut", "astronomy", "astute", "atlantic", "atlas", "atom", "atonable", "atop", "atrium", "atrocious", "atrophy", "attach", "attain", "attempt", "attendant", "attendee", "attention", "attentive", "attest", "attic", "attire", "attitude", "attractor", "attribute", "atypical", "auction", "audacious", "audacity", "audible", "audibly", "audience", "audio", "audition", "augmented", "august", "authentic", "author", "autism", "autistic", "autograph", "automaker", "automated", "automatic", "autopilot", "available", "avalanche", "avatar", "avenge", "avenging", "avenue", "average", "aversion", "avert", "aviation", "aviator", "avid", "avoid", "await", "awaken", "award", "aware", "awhile", "awkward", "awning", "awoke", "awry", "axis", "babble", "babbling", "babied", "baboon", "backache", "backboard", "backboned", "backdrop", "backed", "backer", "backfield", "backfire", "backhand", "backing", "backlands", "backlash", "backless", "backlight", "backlit", "backlog", "backpack", "backpedal", "backrest", "backroom", "backshift", "backside", "backslid", "backspace", "backspin", "backstab", "backstage", "backtalk", "backtrack", "backup", "backward", "backwash", "backwater", "backyard", "bacon", "bacteria", "bacterium", "badass", "badge", "badland", "badly", "badness", "baffle", "baffling", "bagel", "bagful", "baggage", "bagged", "baggie", "bagginess", "bagging", "baggy", "bagpipe", "baguette", "baked", "bakery", "bakeshop", "baking", "balance", "balancing", "balcony", "balmy", "balsamic", "bamboo", "banana", "banish", "banister", "banjo", "bankable", "bankbook", "banked", "banker", "banking", "banknote", "bankroll", "banner", "bannister", "banshee", "banter", "barbecue", "barbed", "barbell", "barber", "barcode", "barge", "bargraph", "barista", "baritone", "barley", "barmaid", "barman", "barn", "barometer", "barrack", "barracuda", "barrel", "barrette", "barricade", "barrier", "barstool", "bartender", "barterer", "bash", "basically", "basics", "basil", "basin", "basis", "basket", "batboy", "batch", "bath", "baton", "bats", "battalion", "battered", "battering", "battery", "batting", "battle", "bauble", "bazooka", "blabber", "bladder", "blade", "blah", "blame", "blaming", "blanching", "blandness", "blank", "blaspheme", "blasphemy", "blast", "blatancy", "blatantly", "blazer", "blazing", "bleach", "bleak", "bleep", "blemish", "blend", "bless", "blighted", "blimp", "bling", "blinked", "blinker", "blinking", "blinks", "blip", "blissful", "blitz", "blizzard", "bloated", "bloating", "blob", "blog", "bloomers", "blooming", "blooper", "blot", "blouse", "blubber", "bluff", "bluish", "blunderer", "blunt", "blurb", "blurred", "blurry", "blurt", "blush", "blustery", "boaster", "boastful", "boasting", "boat", "bobbed", "bobbing", "bobble", "bobcat", "bobsled", "bobtail", "bodacious", "body", "bogged", "boggle", "bogus", "boil", "bok", "bolster", "bolt", "bonanza", "bonded", "bonding", "bondless", "boned", "bonehead", "boneless", "bonelike", "boney", "bonfire", "bonnet", "bonsai", "bonus", "bony", "boogeyman", "boogieman", "book", "boondocks", "booted", "booth", "bootie", "booting", "bootlace", "bootleg", "boots", "boozy", "borax", "boring", "borough", "borrower", "borrowing", "boss", "botanical", "botanist", "botany", "botch", "both", "bottle", "bottling", "bottom", "bounce", "bouncing", "bouncy", "bounding", "boundless", "bountiful", "bovine", "boxcar", "boxer", "boxing", "boxlike", "boxy", "breach", "breath", "breeches", "breeching", "breeder", "breeding", "breeze", "breezy", "brethren", "brewery", "brewing", "briar", "bribe", "brick", "bride", "bridged", "brigade", "bright", "brilliant", "brim", "bring", "brink", "brisket", "briskly", "briskness", "bristle", "brittle", "broadband", "broadcast", "broaden", "broadly", "broadness", "broadside", "broadways", "broiler", "broiling", "broken", "broker", "bronchial", "bronco", "bronze", "bronzing", "brook", "broom", "brought", "browbeat", "brownnose", "browse", "browsing", "bruising", "brunch", "brunette", "brunt", "brush", "brussels", "brute", "brutishly", "bubble", "bubbling", "bubbly", "buccaneer", "bucked", "bucket", "buckle", "buckshot", "buckskin", "bucktooth", "buckwheat", "buddhism", "buddhist", "budding", "buddy", "budget", "buffalo", "buffed", "buffer", "buffing", "buffoon", "buggy", "bulb", "bulge", "bulginess", "bulgur", "bulk", "bulldog", "bulldozer", "bullfight", "bullfrog", "bullhorn", "bullion", "bullish", "bullpen", "bullring", "bullseye", "bullwhip", "bully", "bunch", "bundle", "bungee", "bunion", "bunkbed", "bunkhouse", "bunkmate", "bunny", "bunt", "busboy", "bush", "busily", "busload", "bust", "busybody", "buzz", "cabana", "cabbage", "cabbie", "cabdriver", "cable", "caboose", "cache", "cackle", "cacti", "cactus", "caddie", "caddy", "cadet", "cadillac", "cadmium", "cage", "cahoots", "cake", "calamari", "calamity", "calcium", "calculate", "calculus", "caliber", "calibrate", "calm", "caloric", "calorie", "calzone", "camcorder", "cameo", "camera", "camisole", "camper", "campfire", "camping", "campsite", "campus", "canal", "canary", "cancel", "candied", "candle", "candy", "cane", "canine", "canister", "cannabis", "canned", "canning", "cannon", "cannot", "canola", "canon", "canopener", "canopy", "canteen", "canyon", "capable", "capably", "capacity", "cape", "capillary", "capital", "capitol", "capped", "capricorn", "capsize", "capsule", "caption", "captivate", "captive", "captivity", "capture", "caramel", "carat", "caravan", "carbon", "cardboard", "carded", "cardiac", "cardigan", "cardinal", "cardstock", "carefully", "caregiver", "careless", "caress", "caretaker", "cargo", "caring", "carless", "carload", "carmaker", "carnage", "carnation", "carnival", "carnivore", "carol", "carpenter", "carpentry", "carpool", "carport", "carried", "carrot", "carrousel", "carry", "cartel", "cartload", "carton", "cartoon", "cartridge", "cartwheel", "carve", "carving", "carwash", "cascade", "case", "cash", "casing", "casino", "casket", "cassette", "casually", "casualty", "catacomb", "catalog", "catalyst", "catalyze", "catapult", "cataract", "catatonic", "catcall", "catchable", "catcher", "catching", "catchy", "caterer", "catering", "catfight", "catfish", "cathedral", "cathouse", "catlike", "catnap", "catnip", "catsup", "cattail", "cattishly", "cattle", "catty", "catwalk", "caucasian", "caucus", "causal", "causation", "cause", "causing", "cauterize", "caution", "cautious", "cavalier", "cavalry", "caviar", "cavity", "cedar", "celery", "celestial", "celibacy", "celibate", "celtic", "cement", "census", "ceramics", "ceremony", "certainly", "certainty", "certified", "certify", "cesarean", "cesspool", "chafe", "chaffing", "chain", "chair", "chalice", "challenge", "chamber", "chamomile", "champion", "chance", "change", "channel", "chant", "chaos", "chaperone", "chaplain", "chapped", "chaps", "chapter", "character", "charbroil", "charcoal", "charger", "charging", "chariot", "charity", "charm", "charred", "charter", "charting", "chase", "chasing", "chaste", "chastise", "chastity", "chatroom", "chatter", "chatting", "chatty", "cheating", "cheddar", "cheek", "cheer", "cheese", "cheesy", "chef", "chemicals", "chemist", "chemo", "cherisher", "cherub", "chess", "chest", "chevron", "chevy", "chewable", "chewer", "chewing", "chewy", "chief", "chihuahua", "childcare", "childhood", "childish", "childless", "childlike", "chili", "chill", "chimp", "chip", "chirping", "chirpy", "chitchat", "chivalry", "chive", "chloride", "chlorine", "choice", "chokehold", "choking", "chomp", "chooser", "choosing", "choosy", "chop", "chosen", "chowder", "chowtime", "chrome", "chubby", "chuck", "chug", "chummy", "chump", "chunk", "churn", "chute", "cider", "cilantro", "cinch", "cinema", "cinnamon", "circle", "circling", "circular", "circulate", "circus", "citable", "citadel", "citation", "citizen", "citric", "citrus", "city", "civic", "civil", "clad", "claim", "clambake", "clammy", "clamor", "clamp", "clamshell", "clang", "clanking", "clapped", "clapper", "clapping", "clarify", "clarinet", "clarity", "clash", "clasp", "class", "clatter", "clause", "clavicle", "claw", "clay", "clean", "clear", "cleat", "cleaver", "cleft", "clench", "clergyman", "clerical", "clerk", "clever", "clicker", "client", "climate", "climatic", "cling", "clinic", "clinking", "clip", "clique", "cloak", "clobber", "clock", "clone", "cloning", "closable", "closure", "clothes", "clothing", "cloud", "clover", "clubbed", "clubbing", "clubhouse", "clump", "clumsily", "clumsy", "clunky", "clustered", "clutch", "clutter", "coach", "coagulant", "coastal", "coaster", "coasting", "coastland", "coastline", "coat", "coauthor", "cobalt", "cobbler", "cobweb", "cocoa", "coconut", "cod", "coeditor", "coerce", "coexist", "coffee", "cofounder", "cognition", "cognitive", "cogwheel", "coherence", "coherent", "cohesive", "coil", "coke", "cola", "cold", "coleslaw", "coliseum", "collage", "collapse", "collar", "collected", "collector", "collide", "collie", "collision", "colonial", "colonist", "colonize", "colony", "colossal", "colt", "coma", "come", "comfort", "comfy", "comic", "coming", "comma", "commence", "commend", "comment", "commerce", "commode", "commodity", "commodore", "common", "commotion", "commute", "commuting", "compacted", "compacter", "compactly", "compactor", "companion", "company", "compare", "compel", "compile", "comply", "component", "composed", "composer", "composite", "compost", "composure", "compound", "compress", "comprised", "computer", "computing", "comrade", "concave", "conceal", "conceded", "concept", "concerned", "concert", "conch", "concierge", "concise", "conclude", "concrete", "concur", "condense", "condiment", "condition", "condone", "conducive", "conductor", "conduit", "cone", "confess", "confetti", "confidant", "confident", "confider", "confiding", "configure", "confined", "confining", "confirm", "conflict", "conform", "confound", "confront", "confused", "confusing", "confusion", "congenial", "congested", "congrats", "congress", "conical", "conjoined", "conjure", "conjuror", "connected", "connector", "consensus", "consent", "console", "consoling", "consonant", "constable", "constant", "constrain", "constrict", "construct", "consult", "consumer", "consuming", "contact", "container", "contempt", "contend", "contented", "contently", "contents", "contest", "context", "contort", "contour", "contrite", "control", "contusion", "convene", "convent", "copartner", "cope", "copied", "copier", "copilot", "coping", "copious", "copper", "copy", "coral", "cork", "cornball", "cornbread", "corncob", "cornea", "corned", "corner", "cornfield", "cornflake", "cornhusk", "cornmeal", "cornstalk", "corny", "coronary", "coroner", "corporal", "corporate", "corral", "correct", "corridor", "corrode", "corroding", "corrosive", "corsage", "corset", "cortex", "cosigner", "cosmetics", "cosmic", "cosmos", "cosponsor", "cost", "cottage", "cotton", "couch", "cough", "could", "countable", "countdown", "counting", "countless", "country", "county", "courier", "covenant", "cover", "coveted", "coveting", "coyness", "cozily", "coziness", "cozy", "crabbing", "crabgrass", "crablike", "crabmeat", "cradle", "cradling", "crafter", "craftily", "craftsman", "craftwork", "crafty", "cramp", "cranberry", "crane", "cranial", "cranium", "crank", "crate", "crave", "craving", "crawfish", "crawlers", "crawling", "crayfish", "crayon", "crazed", "crazily", "craziness", "crazy", "creamed", "creamer", "creamlike", "crease", "creasing", "creatable", "create", "creation", "creative", "creature", "credible", "credibly", "credit", "creed", "creme", "creole", "crepe", "crept", "crescent", "crested", "cresting", "crestless", "crevice", "crewless", "crewman", "crewmate", "crib", "cricket", "cried", "crier", "crimp", "crimson", "cringe", "cringing", "crinkle", "crinkly", "crisped", "crisping", "crisply", "crispness", "crispy", "criteria", "critter", "croak", "crock", "crook", "croon", "crop", "cross", "crouch", "crouton", "crowbar", "crowd", "crown", "crucial", "crudely", "crudeness", "cruelly", "cruelness", "cruelty", "crumb", "crummiest", "crummy", "crumpet", "crumpled", "cruncher", "crunching", "crunchy", "crusader", "crushable", "crushed", "crusher", "crushing", "crust", "crux", "crying", "cryptic", "crystal", "cubbyhole", "cube", "cubical", "cubicle", "cucumber", "cuddle", "cuddly", "cufflink", "culinary", "culminate", "culpable", "culprit", "cultivate", "cultural", "culture", "cupbearer", "cupcake", "cupid", "cupped", "cupping", "curable", "curator", "curdle", "cure", "curfew", "curing", "curled", "curler", "curliness", "curling", "curly", "curry", "curse", "cursive", "cursor", "curtain", "curtly", "curtsy", "curvature", "curve", "curvy", "cushy", "cusp", "cussed", "custard", "custodian", "custody", "customary", "customer", "customize", "customs", "cut", "cycle", "cyclic", "cycling", "cyclist", "cylinder", "cymbal", "cytoplasm", "cytoplast", "dab", "dad", "daffodil", "dagger", "daily", "daintily", "dainty", "dairy", "daisy", "dallying", "dance", "dancing", "dandelion", "dander", "dandruff", "dandy", "danger", "dangle", "dangling", "daredevil", "dares", "daringly", "darkened", "darkening", "darkish", "darkness", "darkroom", "darling", "darn", "dart", "darwinism", "dash", "dastardly", "data", "datebook", "dating", "daughter", "daunting", "dawdler", "dawn", "daybed", "daybreak", "daycare", "daydream", "daylight", "daylong", "dayroom", "daytime", "dazzler", "dazzling", "deacon", "deafening", "deafness", "dealer", "dealing", "dealmaker", "dealt", "dean", "debatable", "debate", "debating", "debit", "debrief", "debtless", "debtor", "debug", "debunk", "decade", "decaf", "decal", "decathlon", "decay", "deceased", "deceit", "deceiver", "deceiving", "december", "decency", "decent", "deception", "deceptive", "decibel", "decidable", "decimal", "decimeter", "decipher", "deck", "declared", "decline", "decode", "decompose", "decorated", "decorator", "decoy", "decrease", "decree", "dedicate", "dedicator", "deduce", "deduct", "deed", "deem", "deepen", "deeply", "deepness", "deface", "defacing", "defame", "default", "defeat", "defection", "defective", "defendant", "defender", "defense", "defensive", "deferral", "deferred", "defiance", "defiant", "defile", "defiling", "define", "definite", "deflate", "deflation", "deflator", "deflected", "deflector", "defog", "deforest", "defraud", "defrost", "deftly", "defuse", "defy", "degraded", "degrading", "degrease", "degree", "dehydrate", "deity", "dejected", "delay", "delegate", "delegator", "delete", "deletion", "delicacy", "delicate", "delicious", "delighted", "delirious", "delirium", "deliverer", "delivery", "delouse", "delta", "deluge", "delusion", "deluxe", "demanding", "demeaning", "demeanor", "demise", "democracy", "democrat", "demote", "demotion", "demystify", "denatured", "deniable", "denial", "denim", "denote", "dense", "density", "dental", "dentist", "denture", "deny", "deodorant", "deodorize", "departed", "departure", "depict", "deplete", "depletion", "deplored", "deploy", "deport", "depose", "depraved", "depravity", "deprecate", "depress", "deprive", "depth", "deputize", "deputy", "derail", "deranged", "derby", "derived", "desecrate", "deserve", "deserving", "designate", "designed", "designer", "designing", "deskbound", "desktop", "deskwork", "desolate", "despair", "despise", "despite", "destiny", "destitute", "destruct", "detached", "detail", "detection", "detective", "detector", "detention", "detergent", "detest", "detonate", "detonator", "detoxify", "detract", "deuce", "devalue", "deviancy", "deviant", "deviate", "deviation", "deviator", "device", "devious", "devotedly", "devotee", "devotion", "devourer", "devouring", "devoutly", "dexterity", "dexterous", "diabetes", "diabetic", "diabolic", "diagnoses", "diagnosis", "diagram", "dial", "diameter", "diaper", "diaphragm", "diary", "dice", "dicing", "dictate", "dictation", "dictator", "difficult", "diffused", "diffuser", "diffusion", "diffusive", "dig", "dilation", "diligence", "diligent", "dill", "dilute", "dime", "diminish", "dimly", "dimmed", "dimmer", "dimness", "dimple", "diner", "dingbat", "dinghy", "dinginess", "dingo", "dingy", "dining", "dinner", "diocese", "dioxide", "diploma", "dipped", "dipper", "dipping", "directed", "direction", "directive", "directly", "directory", "direness", "dirtiness", "disabled", "disagree", "disallow", "disarm", "disarray", "disaster", "disband", "disbelief", "disburse", "discard", "discern", "discharge", "disclose", "discolor", "discount", "discourse", "discover", "discuss", "disdain", "disengage", "disfigure", "disgrace", "dish", "disinfect", "disjoin", "disk", "dislike", "disliking", "dislocate", "dislodge", "disloyal", "dismantle", "dismay", "dismiss", "dismount", "disobey", "disorder", "disown", "disparate", "disparity", "dispatch", "dispense", "dispersal", "dispersed", "disperser", "displace", "display", "displease", "disposal", "dispose", "disprove", "dispute", "disregard", "disrupt", "dissuade", "distance", "distant", "distaste", "distill", "distinct", "distort", "distract", "distress", "district", "distrust", "ditch", "ditto", "ditzy", "dividable", "divided", "dividend", "dividers", "dividing", "divinely", "diving", "divinity", "divisible", "divisibly", "division", "divisive", "divorcee", "dizziness", "dizzy", "doable", "docile", "dock", "doctrine", "document", "dodge", "dodgy", "doily", "doing", "dole", "dollar", "dollhouse", "dollop", "dolly", "dolphin", "domain", "domelike", "domestic", "dominion", "dominoes", "donated", "donation", "donator", "donor", "donut", "doodle", "doorbell", "doorframe", "doorknob", "doorman", "doormat", "doornail", "doorpost", "doorstep", "doorstop", "doorway", "doozy", "dork", "dormitory", "dorsal", "dosage", "dose", "dotted", "doubling", "douche", "dove", "down", "dowry", "doze", "drab", "dragging", "dragonfly", "dragonish", "dragster", "drainable", "drainage", "drained", "drainer", "drainpipe", "dramatic", "dramatize", "drank", "drapery", "drastic", "draw", "dreaded", "dreadful", "dreadlock", "dreamboat", "dreamily", "dreamland", "dreamless", "dreamlike", "dreamt", "dreamy", "drearily", "dreary", "drench", "dress", "drew", "dribble", "dried", "drier", "drift", "driller", "drilling", "drinkable", "drinking", "dripping", "drippy", "drivable", "driven", "driver", "driveway", "driving", "drizzle", "drizzly", "drone", "drool", "droop", "drop-down", "dropbox", "dropkick", "droplet", "dropout", "dropper", "drove", "drown", "drowsily", "drudge", "drum", "dry", "dubbed", "dubiously", "duchess", "duckbill", "ducking", "duckling", "ducktail", "ducky", "duct", "dude", "duffel", "dugout", "duh", "duke", "duller", "dullness", "duly", "dumping", "dumpling", "dumpster", "duo", "dupe", "duplex", "duplicate", "duplicity", "durable", "durably", "duration", "duress", "during", "dusk", "dust", "dutiful", "duty", "duvet", "dwarf", "dweeb", "dwelled", "dweller", "dwelling", "dwindle", "dwindling", "dynamic", "dynamite", "dynasty", "dyslexia", "dyslexic", "each", "eagle", "earache", "eardrum", "earflap", "earful", "earlobe", "early", "earmark", "earmuff", "earphone", "earpiece", "earplugs", "earring", "earshot", "earthen", "earthlike", "earthling", "earthly", "earthworm", "earthy", "earwig", "easeful", "easel", "easiest", "easily", "easiness", "easing", "eastbound", "eastcoast", "easter", "eastward", "eatable", "eaten", "eatery", "eating", "eats", "ebay", "ebony", "ebook", "ecard", "eccentric", "echo", "eclair", "eclipse", "ecologist", "ecology", "economic", "economist", "economy", "ecosphere", "ecosystem", "edge", "edginess", "edging", "edgy", "edition", "editor", "educated", "education", "educator", "eel", "effective", "effects", "efficient", "effort", "eggbeater", "egging", "eggnog", "eggplant", "eggshell", "egomaniac", "egotism", "egotistic", "either", "eject", "elaborate", "elastic", "elated", "elbow", "eldercare", "elderly", "eldest", "electable", "election", "elective", "elephant", "elevate", "elevating", "elevation", "elevator", "eleven", "elf", "eligible", "eligibly", "eliminate", "elite", "elitism", "elixir", "elk", "ellipse", "elliptic", "elm", "elongated", "elope", "eloquence", "eloquent", "elsewhere", "elude", "elusive", "elves", "email", "embargo", "embark", "embassy", "embattled", "embellish", "ember", "embezzle", "emblaze", "emblem", "embody", "embolism", "emboss", "embroider", "emcee", "emerald", "emergency", "emission", "emit", "emote", "emoticon", "emotion", "empathic", "empathy", "emperor", "emphases", "emphasis", "emphasize", "emphatic", "empirical", "employed", "employee", "employer", "emporium", "empower", "emptier", "emptiness", "empty", "emu", "enable", "enactment", "enamel", "enchanted", "enchilada", "encircle", "enclose", "enclosure", "encode", "encore", "encounter", "encourage", "encroach", "encrust", "encrypt", "endanger", "endeared", "endearing", "ended", "ending", "endless", "endnote", "endocrine", "endorphin", "endorse", "endowment", "endpoint", "endurable", "endurance", "enduring", "energetic", "energize", "energy", "enforced", "enforcer", "engaged", "engaging", "engine", "engorge", "engraved", "engraver", "engraving", "engross", "engulf", "enhance", "enigmatic", "enjoyable", "enjoyably", "enjoyer", "enjoying", "enjoyment", "enlarged", "enlarging", "enlighten", "enlisted", "enquirer", "enrage", "enrich", "enroll", "enslave", "ensnare", "ensure", "entail", "entangled", "entering", "entertain", "enticing", "entire", "entitle", "entity", "entomb", "entourage", "entrap", "entree", "entrench", "entrust", "entryway", "entwine", "enunciate", "envelope", "enviable", "enviably", "envious", "envision", "envoy", "envy", "enzyme", "epic", "epidemic", "epidermal", "epidermis", "epidural", "epilepsy", "epileptic", "epilogue", "epiphany", "episode", "equal", "equate", "equation", "equator", "equinox", "equipment", "equity", "equivocal", "eradicate", "erasable", "erased", "eraser", "erasure", "ergonomic", "errand", "errant", "erratic", "error", "erupt", "escalate", "escalator", "escapable", "escapade", "escapist", "escargot", "eskimo", "esophagus", "espionage", "espresso", "esquire", "essay", "essence", "essential", "establish", "estate", "esteemed", "estimate", "estimator", "estranged", "estrogen", "etching", "eternal", "eternity", "ethanol", "ether", "ethically", "ethics", "euphemism", "evacuate", "evacuee", "evade", "evaluate", "evaluator", "evaporate", "evasion", "evasive", "even", "everglade", "evergreen", "everybody", "everyday", "everyone", "evict", "evidence", "evident", "evil", "evoke", "evolution", "evolve", "exact", "exalted", "example", "excavate", "excavator", "exceeding", "exception", "excess", "exchange", "excitable", "exciting", "exclaim", "exclude", "excluding", "exclusion", "exclusive", "excretion", "excretory", "excursion", "excusable", "excusably", "excuse", "exemplary", "exemplify", "exemption", "exerciser", "exert", "exes", "exfoliate", "exhale", "exhaust", "exhume", "exile", "existing", "exit", "exodus", "exonerate", "exorcism", "exorcist", "expand", "expanse", "expansion", "expansive", "expectant", "expedited", "expediter", "expel", "expend", "expenses", "expensive", "expert", "expire", "expiring", "explain", "expletive", "explicit", "explode", "exploit", "explore", "exploring", "exponent", "exporter", "exposable", "expose", "exposure", "express", "expulsion", "exquisite", "extended", "extending", "extent", "extenuate", "exterior", "external", "extinct", "extortion", "extradite", "extras", "extrovert", "extrude", "extruding", "exuberant", "fable", "fabric", "fabulous", "facebook", "facecloth", "facedown", "faceless", "facelift", "faceplate", "faceted", "facial", "facility", "facing", "facsimile", "faction", "factoid", "factor", "factsheet", "factual", "faculty", "fade", "fading", "failing", "falcon", "fall", "false", "falsify", "fame", "familiar", "family", "famine", "famished", "fanatic", "fancied", "fanciness", "fancy", "fanfare", "fang", "fanning", "fantasize", "fantastic", "fantasy", "fascism", "fastball", "faster", "fasting", "fastness", "faucet", "favorable", "favorably", "favored", "favoring", "favorite", "fax", "feast", "federal", "fedora", "feeble", "feed", "feel", "feisty", "feline", "felt-tip", "feminine", "feminism", "feminist", "feminize", "femur", "fence", "fencing", "fender", "ferment", "fernlike", "ferocious", "ferocity", "ferret", "ferris", "ferry", "fervor", "fester", "festival", "festive", "festivity", "fetal", "fetch", "fever", "fiber", "fiction", "fiddle", "fiddling", "fidelity", "fidgeting", "fidgety", "fifteen", "fifth", "fiftieth", "fifty", "figment", "figure", "figurine", "filing", "filled", "filler", "filling", "film", "filter", "filth", "filtrate", "finale", "finalist", "finalize", "finally", "finance", "financial", "finch", "fineness", "finer", "finicky", "finished", "finisher", "finishing", "finite", "finless", "finlike", "fiscally", "fit", "five", "flaccid", "flagman", "flagpole", "flagship", "flagstick", "flagstone", "flail", "flakily", "flaky", "flame", "flammable", "flanked", "flanking", "flannels", "flap", "flaring", "flashback", "flashbulb", "flashcard", "flashily", "flashing", "flashy", "flask", "flatbed", "flatfoot", "flatly", "flatness", "flatten", "flattered", "flatterer", "flattery", "flattop", "flatware", "flatworm", "flavored", "flavorful", "flavoring", "flaxseed", "fled", "fleshed", "fleshy", "flick", "flier", "flight", "flinch", "fling", "flint", "flip", "flirt", "float", "flock", "flogging", "flop", "floral", "florist", "floss", "flounder", "flyable", "flyaway", "flyer", "flying", "flyover", "flypaper", "foam", "foe", "fog", "foil", "folic", "folk", "follicle", "follow", "fondling", "fondly", "fondness", "fondue", "font", "food", "fool", "footage", "football", "footbath", "footboard", "footer", "footgear", "foothill", "foothold", "footing", "footless", "footman", "footnote", "footpad", "footpath", "footprint", "footrest", "footsie", "footsore", "footwear", "footwork", "fossil", "foster", "founder", "founding", "fountain", "fox", "foyer", "fraction", "fracture", "fragile", "fragility", "fragment", "fragrance", "fragrant", "frail", "frame", "framing", "frantic", "fraternal", "frayed", "fraying", "frays", "freckled", "freckles", "freebase", "freebee", "freebie", "freedom", "freefall", "freehand", "freeing", "freeload", "freely", "freemason", "freeness", "freestyle", "freeware", "freeway", "freewill", "freezable", "freezing", "freight", "french", "frenzied", "frenzy", "frequency", "frequent", "fresh", "fretful", "fretted", "friction", "friday", "fridge", "fried", "friend", "frighten", "frightful", "frigidity", "frigidly", "frill", "fringe", "frisbee", "frisk", "fritter", "frivolous", "frolic", "from", "front", "frostbite", "frosted", "frostily", "frosting", "frostlike", "frosty", "froth", "frown", "frozen", "fructose", "frugality", "frugally", "fruit", "frustrate", "frying", "gab", "gaffe", "gag", "gainfully", "gaining", "gains", "gala", "gallantly", "galleria", "gallery", "galley", "gallon", "gallows", "gallstone", "galore", "galvanize", "gambling", "game", "gaming", "gamma", "gander", "gangly", "gangrene", "gangway", "gap", "garage", "garbage", "garden", "gargle", "garland", "garlic", "garment", "garnet", "garnish", "garter", "gas", "gatherer", "gathering", "gating", "gauging", "gauntlet", "gauze", "gave", "gawk", "gazing", "gear", "gecko", "geek", "geiger", "gem", "gender", "generic", "generous", "genetics", "genre", "gentile", "gentleman", "gently", "gents", "geography", "geologic", "geologist", "geology", "geometric", "geometry", "geranium", "gerbil", "geriatric", "germicide", "germinate", "germless", "germproof", "gestate", "gestation", "gesture", "getaway", "getting", "getup", "giant", "gibberish", "giblet", "giddily", "giddiness", "giddy", "gift", "gigabyte", "gigahertz", "gigantic", "giggle", "giggling", "giggly", "gigolo", "gilled", "gills", "gimmick", "girdle", "giveaway", "given", "giver", "giving", "gizmo", "gizzard", "glacial", "glacier", "glade", "gladiator", "gladly", "glamorous", "glamour", "glance", "glancing", "glandular", "glare", "glaring", "glass", "glaucoma", "glazing", "gleaming", "gleeful", "glider", "gliding", "glimmer", "glimpse", "glisten", "glitch", "glitter", "glitzy", "gloater", "gloating", "gloomily", "gloomy", "glorified", "glorifier", "glorify", "glorious", "glory", "gloss", "glove", "glowing", "glowworm", "glucose", "glue", "gluten", "glutinous", "glutton", "gnarly", "gnat", "goal", "goatskin", "goes", "goggles", "going", "goldfish", "goldmine", "goldsmith", "golf", "goliath", "gonad", "gondola", "gone", "gong", "good", "gooey", "goofball", "goofiness", "goofy", "google", "goon", "gopher", "gore", "gorged", "gorgeous", "gory", "gosling", "gossip", "gothic", "gotten", "gout", "gown", "grab", "graceful", "graceless", "gracious", "gradation", "graded", "grader", "gradient", "grading", "gradually", "graduate", "graffiti", "grafted", "grafting", "grain", "granddad", "grandkid", "grandly", "grandma", "grandpa", "grandson", "granite", "granny", "granola", "grant", "granular", "grape", "graph", "grapple", "grappling", "grasp", "grass", "gratified", "gratify", "grating", "gratitude", "gratuity", "gravel", "graveness", "graves", "graveyard", "gravitate", "gravity", "gravy", "gray", "grazing", "greasily", "greedily", "greedless", "greedy", "green", "greeter", "greeting", "grew", "greyhound", "grid", "grief", "grievance", "grieving", "grievous", "grill", "grimace", "grimacing", "grime", "griminess", "grimy", "grinch", "grinning", "grip", "gristle", "grit", "groggily", "groggy", "groin", "groom", "groove", "grooving", "groovy", "grope", "ground", "grouped", "grout", "grove", "grower", "growing", "growl", "grub", "grudge", "grudging", "grueling", "gruffly", "grumble", "grumbling", "grumbly", "grumpily", "grunge", "grunt", "guacamole", "guidable", "guidance", "guide", "guiding", "guileless", "guise", "gulf", "gullible", "gully", "gulp", "gumball", "gumdrop", "gumminess", "gumming", "gummy", "gurgle", "gurgling", "guru", "gush", "gusto", "gusty", "gutless", "guts", "gutter", "guy", "guzzler", "gyration", "habitable", "habitant", "habitat", "habitual", "hacked", "hacker", "hacking", "hacksaw", "had", "haggler", "haiku", "half", "halogen", "halt", "halved", "halves", "hamburger", "hamlet", "hammock", "hamper", "hamster", "hamstring", "handbag", "handball", "handbook", "handbrake", "handcart", "handclap", "handclasp", "handcraft", "handcuff", "handed", "handful", "handgrip", "handgun", "handheld", "handiness", "handiwork", "handlebar", "handled", "handler", "handling", "handmade", "handoff", "handpick", "handprint", "handrail", "handsaw", "handset", "handsfree", "handshake", "handstand", "handwash", "handwork", "handwoven", "handwrite", "handyman", "hangnail", "hangout", "hangover", "hangup", "hankering", "hankie", "hanky", "haphazard", "happening", "happier", "happiest", "happily", "happiness", "happy", "harbor", "hardcopy", "hardcore", "hardcover", "harddisk", "hardened", "hardener", "hardening", "hardhat", "hardhead", "hardiness", "hardly", "hardness", "hardship", "hardware", "hardwired", "hardwood", "hardy", "harmful", "harmless", "harmonica", "harmonics", "harmonize", "harmony", "harness", "harpist", "harsh", "harvest", "hash", "hassle", "haste", "hastily", "hastiness", "hasty", "hatbox", "hatchback", "hatchery", "hatchet", "hatching", "hatchling", "hate", "hatless", "hatred", "haunt", "haven", "hazard", "hazelnut", "hazily", "haziness", "hazing", "hazy", "headache", "headband", "headboard", "headcount", "headdress", "headed", "header", "headfirst", "headgear", "heading", "headlamp", "headless", "headlock", "headphone", "headpiece", "headrest", "headroom", "headscarf", "headset", "headsman", "headstand", "headstone", "headway", "headwear", "heap", "heat", "heave", "heavily", "heaviness", "heaving", "hedge", "hedging", "heftiness", "hefty", "helium", "helmet", "helper", "helpful", "helping", "helpless", "helpline", "hemlock", "hemstitch", "hence", "henchman", "henna", "herald", "herbal", "herbicide", "herbs", "heritage", "hermit", "heroics", "heroism", "herring", "herself", "hertz", "hesitancy", "hesitant", "hesitate", "hexagon", "hexagram", "hubcap", "huddle", "huddling", "huff", "hug", "hula", "hulk", "hull", "human", "humble", "humbling", "humbly", "humid", "humiliate", "humility", "humming", "hummus", "humongous", "humorist", "humorless", "humorous", "humpback", "humped", "humvee", "hunchback", "hundredth", "hunger", "hungrily", "hungry", "hunk", "hunter", "hunting", "huntress", "huntsman", "hurdle", "hurled", "hurler", "hurling", "hurray", "hurricane", "hurried", "hurry", "hurt", "husband", "hush", "husked", "huskiness", "hut", "hybrid", "hydrant", "hydrated", "hydration", "hydrogen", "hydroxide", "hyperlink", "hypertext", "hyphen", "hypnoses", "hypnosis", "hypnotic", "hypnotism", "hypnotist", "hypnotize", "hypocrisy", "hypocrite", "ibuprofen", "ice", "iciness", "icing", "icky", "icon", "icy", "idealism", "idealist", "idealize", "ideally", "idealness", "identical", "identify", "identity", "ideology", "idiocy", "idiom", "idly", "igloo", "ignition", "ignore", "iguana", "illicitly", "illusion", "illusive", "image", "imaginary", "imagines", "imaging", "imbecile", "imitate", "imitation", "immature", "immerse", "immersion", "imminent", "immobile", "immodest", "immorally", "immortal", "immovable", "immovably", "immunity", "immunize", "impaired", "impale", "impart", "impatient", "impeach", "impeding", "impending", "imperfect", "imperial", "impish", "implant", "implement", "implicate", "implicit", "implode", "implosion", "implosive", "imply", "impolite", "important", "importer", "impose", "imposing", "impotence", "impotency", "impotent", "impound", "imprecise", "imprint", "imprison", "impromptu", "improper", "improve", "improving", "improvise", "imprudent", "impulse", "impulsive", "impure", "impurity", "iodine", "iodize", "ion", "ipad", "iphone", "ipod", "irate", "irk", "iron", "irregular", "irrigate", "irritable", "irritably", "irritant", "irritate", "islamic", "islamist", "isolated", "isolating", "isolation", "isotope", "issue", "issuing", "italicize", "italics", "item", "itinerary", "itunes", "ivory", "ivy", "jab", "jackal", "jacket", "jackknife", "jackpot", "jailbird", "jailbreak", "jailer", "jailhouse", "jalapeno", "jam", "janitor", "january", "jargon", "jarring", "jasmine", "jaundice", "jaunt", "java", "jawed", "jawless", "jawline", "jaws", "jaybird", "jaywalker", "jazz", "jeep", "jeeringly", "jellied", "jelly", "jersey", "jester", "jet", "jiffy", "jigsaw", "jimmy", "jingle", "jingling", "jinx", "jitters", "jittery", "job", "jockey", "jockstrap", "jogger", "jogging", "john", "joining", "jokester", "jokingly", "jolliness", "jolly", "jolt", "jot", "jovial", "joyfully", "joylessly", "joyous", "joyride", "joystick", "jubilance", "jubilant", "judge", "judgingly", "judicial", "judiciary", "judo", "juggle", "juggling", "jugular", "juice", "juiciness", "juicy", "jujitsu", "jukebox", "july", "jumble", "jumbo", "jump", "junction", "juncture", "june", "junior", "juniper", "junkie", "junkman", "junkyard", "jurist", "juror", "jury", "justice", "justifier", "justify", "justly", "justness", "juvenile", "kabob", "kangaroo", "karaoke", "karate", "karma", "kebab", "keenly", "keenness", "keep", "keg", "kelp", "kennel", "kept", "kerchief", "kerosene", "kettle", "kick", "kiln", "kilobyte", "kilogram", "kilometer", "kilowatt", "kilt", "kimono", "kindle", "kindling", "kindly", "kindness", "kindred", "kinetic", "kinfolk", "king", "kinship", "kinsman", "kinswoman", "kissable", "kisser", "kissing", "kitchen", "kite", "kitten", "kitty", "kiwi", "kleenex", "knapsack", "knee", "knelt", "knickers", "knoll", "koala", "kooky", "kosher", "krypton", "kudos", "kung", "labored", "laborer", "laboring", "laborious", "labrador", "ladder", "ladies", "ladle", "ladybug", "ladylike", "lagged", "lagging", "lagoon", "lair", "lake", "lance", "landed", "landfall", "landfill", "landing", "landlady", "landless", "landline", "landlord", "landmark", "landmass", "landmine", "landowner", "landscape", "landside", "landslide", "language", "lankiness", "lanky", "lantern", "lapdog", "lapel", "lapped", "lapping", "laptop", "lard", "large", "lark", "lash", "lasso", "last", "latch", "late", "lather", "latitude", "latrine", "latter", "latticed", "launch", "launder", "laundry", "laurel", "lavender", "lavish", "laxative", "lazily", "laziness", "lazy", "lecturer", "left", "legacy", "legal", "legend", "legged", "leggings", "legible", "legibly", "legislate", "lego", "legroom", "legume", "legwarmer", "legwork", "lemon", "lend", "length", "lens", "lent", "leotard", "lesser", "letdown", "lethargic", "lethargy", "letter", "lettuce", "level", "leverage", "levers", "levitate", "levitator", "liability", "liable", "liberty", "librarian", "library", "licking", "licorice", "lid", "life", "lifter", "lifting", "liftoff", "ligament", "likely", "likeness", "likewise", "liking", "lilac", "lilly", "lily", "limb", "limeade", "limelight", "limes", "limit", "limping", "limpness", "line", "lingo", "linguini", "linguist", "lining", "linked", "linoleum", "linseed", "lint", "lion", "lip", "liquefy", "liqueur", "liquid", "lisp", "list", "litigate", "litigator", "litmus", "litter", "little", "livable", "lived", "lively", "liver", "livestock", "lividly", "living", "lizard", "lubricant", "lubricate", "lucid", "luckily", "luckiness", "luckless", "lucrative", "ludicrous", "lugged", "lukewarm", "lullaby", "lumber", "luminance", "luminous", "lumpiness", "lumping", "lumpish", "lunacy", "lunar", "lunchbox", "luncheon", "lunchroom", "lunchtime", "lung", "lurch", "lure", "luridness", "lurk", "lushly", "lushness", "luster", "lustfully", "lustily", "lustiness", "lustrous", "lusty", "luxurious", "luxury", "lying", "lyrically", "lyricism", "lyricist", "lyrics", "macarena", "macaroni", "macaw", "mace", "machine", "machinist", "magazine", "magenta", "maggot", "magical", "magician", "magma", "magnesium", "magnetic", "magnetism", "magnetize", "magnifier", "magnify", "magnitude", "magnolia", "mahogany", "maimed", "majestic", "majesty", "majorette", "majority", "makeover", "maker", "makeshift", "making", "malformed", "malt", "mama", "mammal", "mammary", "mammogram", "manager", "managing", "manatee", "mandarin", "mandate", "mandatory", "mandolin", "manger", "mangle", "mango", "mangy", "manhandle", "manhole", "manhood", "manhunt", "manicotti", "manicure", "manifesto", "manila", "mankind", "manlike", "manliness", "manly", "manmade", "manned", "mannish", "manor", "manpower", "mantis", "mantra", "manual", "many", "map", "marathon", "marauding", "marbled", "marbles", "marbling", "march", "mardi", "margarine", "margarita", "margin", "marigold", "marina", "marine", "marital", "maritime", "marlin", "marmalade", "maroon", "married", "marrow", "marry", "marshland", "marshy", "marsupial", "marvelous", "marxism", "mascot", "masculine", "mashed", "mashing", "massager", "masses", "massive", "mastiff", "matador", "matchbook", "matchbox", "matcher", "matching", "matchless", "material", "maternal", "maternity", "math", "mating", "matriarch", "matrimony", "matrix", "matron", "matted", "matter", "maturely", "maturing", "maturity", "mauve", "maverick", "maximize", "maximum", "maybe", "mayday", "mayflower", "moaner", "moaning", "mobile", "mobility", "mobilize", "mobster", "mocha", "mocker", "mockup", "modified", "modify", "modular", "modulator", "module", "moisten", "moistness", "moisture", "molar", "molasses", "mold", "molecular", "molecule", "molehill", "mollusk", "mom", "monastery", "monday", "monetary", "monetize", "moneybags", "moneyless", "moneywise", "mongoose", "mongrel", "monitor", "monkhood", "monogamy", "monogram", "monologue", "monopoly", "monorail", "monotone", "monotype", "monoxide", "monsieur", "monsoon", "monstrous", "monthly", "monument", "moocher", "moodiness", "moody", "mooing", "moonbeam", "mooned", "moonlight", "moonlike", "moonlit", "moonrise", "moonscape", "moonshine", "moonstone", "moonwalk", "mop", "morale", "morality", "morally", "morbidity", "morbidly", "morphine", "morphing", "morse", "mortality", "mortally", "mortician", "mortified", "mortify", "mortuary", "mosaic", "mossy", "most", "mothball", "mothproof", "motion", "motivate", "motivator", "motive", "motocross", "motor", "motto", "mountable", "mountain", "mounted", "mounting", "mourner", "mournful", "mouse", "mousiness", "moustache", "mousy", "mouth", "movable", "move", "movie", "moving", "mower", "mowing", "much", "muck", "mud", "mug", "mulberry", "mulch", "mule", "mulled", "mullets", "multiple", "multiply", "multitask", "multitude", "mumble", "mumbling", "mumbo", "mummified", "mummify", "mummy", "mumps", "munchkin", "mundane", "municipal", "muppet", "mural", "murkiness", "murky", "murmuring", "muscular", "museum", "mushily", "mushiness", "mushroom", "mushy", "music", "musket", "muskiness", "musky", "mustang", "mustard", "muster", "mustiness", "musty", "mutable", "mutate", "mutation", "mute", "mutilated", "mutilator", "mutiny", "mutt", "mutual", "muzzle", "myself", "myspace", "mystified", "mystify", "myth", "nacho", "nag", "nail", "name", "naming", "nanny", "nanometer", "nape", "napkin", "napped", "napping", "nappy", "narrow", "nastily", "nastiness", "national", "native", "nativity", "natural", "nature", "naturist", "nautical", "navigate", "navigator", "navy", "nearby", "nearest", "nearly", "nearness", "neatly", "neatness", "nebula", "nebulizer", "nectar", "negate", "negation", "negative", "neglector", "negligee", "negligent", "negotiate", "nemeses", "nemesis", "neon", "nephew", "nerd", "nervous", "nervy", "nest", "net", "neurology", "neuron", "neurosis", "neurotic", "neuter", "neutron", "never", "next", "nibble", "nickname", "nicotine", "niece", "nifty", "nimble", "nimbly", "nineteen", "ninetieth", "ninja", "nintendo", "ninth", "nuclear", "nuclei", "nucleus", "nugget", "nullify", "number", "numbing", "numbly", "numbness", "numeral", "numerate", "numerator", "numeric", "numerous", "nuptials", "nursery", "nursing", "nurture", "nutcase", "nutlike", "nutmeg", "nutrient", "nutshell", "nuttiness", "nutty", "nuzzle", "nylon", "oaf", "oak", "oasis", "oat", "obedience", "obedient", "obituary", "object", "obligate", "obliged", "oblivion", "oblivious", "oblong", "obnoxious", "oboe", "obscure", "obscurity", "observant", "observer", "observing", "obsessed", "obsession", "obsessive", "obsolete", "obstacle", "obstinate", "obstruct", "obtain", "obtrusive", "obtuse", "obvious", "occultist", "occupancy", "occupant", "occupier", "occupy", "ocean", "ocelot", "octagon", "octane", "october", "octopus", "ogle", "oil", "oink", "ointment", "okay", "old", "olive", "olympics", "omega", "omen", "ominous", "omission", "omit", "omnivore", "onboard", "oncoming", "ongoing", "onion", "online", "onlooker", "only", "onscreen", "onset", "onshore", "onslaught", "onstage", "onto", "onward", "onyx", "oops", "ooze", "oozy", "opacity", "opal", "open", "operable", "operate", "operating", "operation", "operative", "operator", "opium", "opossum", "opponent", "oppose", "opposing", "opposite", "oppressed", "oppressor", "opt", "opulently", "osmosis", "other", "otter", "ouch", "ought", "ounce", "outage", "outback", "outbid", "outboard", "outbound", "outbreak", "outburst", "outcast", "outclass", "outcome", "outdated", "outdoors", "outer", "outfield", "outfit", "outflank", "outgoing", "outgrow", "outhouse", "outing", "outlast", "outlet", "outline", "outlook", "outlying", "outmatch", "outmost", "outnumber", "outplayed", "outpost", "outpour", "output", "outrage", "outrank", "outreach", "outright", "outscore", "outsell", "outshine", "outshoot", "outsider", "outskirts", "outsmart", "outsource", "outspoken", "outtakes", "outthink", "outward", "outweigh", "outwit", "oval", "ovary", "oven", "overact", "overall", "overarch", "overbid", "overbill", "overbite", "overblown", "overboard", "overbook", "overbuilt", "overcast", "overcoat", "overcome", "overcook", "overcrowd", "overdraft", "overdrawn", "overdress", "overdrive", "overdue", "overeager", "overeater", "overexert", "overfed", "overfeed", "overfill", "overflow", "overfull", "overgrown", "overhand", "overhang", "overhaul", "overhead", "overhear", "overheat", "overhung", "overjoyed", "overkill", "overlabor", "overlaid", "overlap", "overlay", "overload", "overlook", "overlord", "overlying", "overnight", "overpass", "overpay", "overplant", "overplay", "overpower", "overprice", "overrate", "overreach", "overreact", "override", "overripe", "overrule", "overrun", "overshoot", "overshot", "oversight", "oversized", "oversleep", "oversold", "overspend", "overstate", "overstay", "overstep", "overstock", "overstuff", "oversweet", "overtake", "overthrow", "overtime", "overtly", "overtone", "overture", "overturn", "overuse", "overvalue", "overview", "overwrite", "owl", "oxford", "oxidant", "oxidation", "oxidize", "oxidizing", "oxygen", "oxymoron", "oyster", "ozone", "paced", "pacemaker", "pacific", "pacifier", "pacifism", "pacifist", "pacify", "padded", "padding", "paddle", "paddling", "padlock", "pagan", "pager", "paging", "pajamas", "palace", "palatable", "palm", "palpable", "palpitate", "paltry", "pampered", "pamperer", "pampers", "pamphlet", "panama", "pancake", "pancreas", "panda", "pandemic", "pang", "panhandle", "panic", "panning", "panorama", "panoramic", "panther", "pantomime", "pantry", "pants", "pantyhose", "paparazzi", "papaya", "paper", "paprika", "papyrus", "parabola", "parachute", "parade", "paradox", "paragraph", "parakeet", "paralegal", "paralyses", "paralysis", "paralyze", "paramedic", "parameter", "paramount", "parasail", "parasite", "parasitic", "parcel", "parched", "parchment", "pardon", "parish", "parka", "parking", "parkway", "parlor", "parmesan", "parole", "parrot", "parsley", "parsnip", "partake", "parted", "parting", "partition", "partly", "partner", "partridge", "party", "passable", "passably", "passage", "passcode", "passenger", "passerby", "passing", "passion", "passive", "passivism", "passover", "passport", "password", "pasta", "pasted", "pastel", "pastime", "pastor", "pastrami", "pasture", "pasty", "patchwork", "patchy", "paternal", "paternity", "path", "patience", "patient", "patio", "patriarch", "patriot", "patrol", "patronage", "patronize", "pauper", "pavement", "paver", "pavestone", "pavilion", "paving", "pawing", "payable", "payback", "paycheck", "payday", "payee", "payer", "paying", "payment", "payphone", "payroll", "pebble", "pebbly", "pecan", "pectin", "peculiar", "peddling", "pediatric", "pedicure", "pedigree", "pedometer", "pegboard", "pelican", "pellet", "pelt", "pelvis", "penalize", "penalty", "pencil", "pendant", "pending", "penholder", "penknife", "pennant", "penniless", "penny", "penpal", "pension", "pentagon", "pentagram", "pep", "perceive", "percent", "perch", "percolate", "perennial", "perfected", "perfectly", "perfume", "periscope", "perish", "perjurer", "perjury", "perkiness", "perky", "perm", "peroxide", "perpetual", "perplexed", "persecute", "persevere", "persuaded", "persuader", "pesky", "peso", "pessimism", "pessimist", "pester", "pesticide", "petal", "petite", "petition", "petri", "petroleum", "petted", "petticoat", "pettiness", "petty", "petunia", "phantom", "phobia", "phoenix", "phonebook", "phoney", "phonics", "phoniness", "phony", "phosphate", "photo", "phrase", "phrasing", "placard", "placate", "placidly", "plank", "planner", "plant", "plasma", "plaster", "plastic", "plated", "platform", "plating", "platinum", "platonic", "platter", "platypus", "plausible", "plausibly", "playable", "playback", "player", "playful", "playgroup", "playhouse", "playing", "playlist", "playmaker", "playmate", "playoff", "playpen", "playroom", "playset", "plaything", "playtime", "plaza", "pleading", "pleat", "pledge", "plentiful", "plenty", "plethora", "plexiglas", "pliable", "plod", "plop", "plot", "plow", "ploy", "pluck", "plug", "plunder", "plunging", "plural", "plus", "plutonium", "plywood", "poach", "pod", "poem", "poet", "pogo", "pointed", "pointer", "pointing", "pointless", "pointy", "poise", "poison", "poker", "poking", "polar", "police", "policy", "polio", "polish", "politely", "polka", "polo", "polyester", "polygon", "polygraph", "polymer", "poncho", "pond", "pony", "popcorn", "pope", "poplar", "popper", "poppy", "popsicle", "populace", "popular", "populate", "porcupine", "pork", "porous", "porridge", "portable", "portal", "portfolio", "porthole", "portion", "portly", "portside", "poser", "posh", "posing", "possible", "possibly", "possum", "postage", "postal", "postbox", "postcard", "posted", "poster", "posting", "postnasal", "posture", "postwar", "pouch", "pounce", "pouncing", "pound", "pouring", "pout", "powdered", "powdering", "powdery", "power", "powwow", "pox", "praising", "prance", "prancing", "pranker", "prankish", "prankster", "prayer", "praying", "preacher", "preaching", "preachy", "preamble", "precinct", "precise", "precision", "precook", "precut", "predator", "predefine", "predict", "preface", "prefix", "preflight", "preformed", "pregame", "pregnancy", "pregnant", "preheated", "prelaunch", "prelaw", "prelude", "premiere", "premises", "premium", "prenatal", "preoccupy", "preorder", "prepaid", "prepay", "preplan", "preppy", "preschool", "prescribe", "preseason", "preset", "preshow", "president", "presoak", "press", "presume", "presuming", "preteen", "pretended", "pretender", "pretense", "pretext", "pretty", "pretzel", "prevail", "prevalent", "prevent", "preview", "previous", "prewar", "prewashed", "prideful", "pried", "primal", "primarily", "primary", "primate", "primer", "primp", "princess", "print", "prior", "prism", "prison", "prissy", "pristine", "privacy", "private", "privatize", "prize", "proactive", "probable", "probably", "probation", "probe", "probing", "probiotic", "problem", "procedure", "process", "proclaim", "procreate", "procurer", "prodigal", "prodigy", "produce", "product", "profane", "profanity", "professed", "professor", "profile", "profound", "profusely", "progeny", "prognosis", "program", "progress", "projector", "prologue", "prolonged", "promenade", "prominent", "promoter", "promotion", "prompter", "promptly", "prone", "prong", "pronounce", "pronto", "proofing", "proofread", "proofs", "propeller", "properly", "property", "proponent", "proposal", "propose", "props", "prorate", "protector", "protegee", "proton", "prototype", "protozoan", "protract", "protrude", "proud", "provable", "proved", "proven", "provided", "provider", "providing", "province", "proving", "provoke", "provoking", "provolone", "prowess", "prowler", "prowling", "proximity", "proxy", "prozac", "prude", "prudishly", "prune", "pruning", "pry", "psychic", "public", "publisher", "pucker", "pueblo", "pug", "pull", "pulmonary", "pulp", "pulsate", "pulse", "pulverize", "puma", "pumice", "pummel", "punch", "punctual", "punctuate", "punctured", "pungent", "punisher", "punk", "pupil", "puppet", "puppy", "purchase", "pureblood", "purebred", "purely", "pureness", "purgatory", "purge", "purging", "purifier", "purify", "purist", "puritan", "purity", "purple", "purplish", "purposely", "purr", "purse", "pursuable", "pursuant", "pursuit", "purveyor", "pushcart", "pushchair", "pusher", "pushiness", "pushing", "pushover", "pushpin", "pushup", "pushy", "putdown", "putt", "puzzle", "puzzling", "pyramid", "pyromania", "python", "quack", "quadrant", "quail", "quaintly", "quake", "quaking", "qualified", "qualifier", "qualify", "quality", "qualm", "quantum", "quarrel", "quarry", "quartered", "quarterly", "quarters", "quartet", "quench", "query", "quicken", "quickly", "quickness", "quicksand", "quickstep", "quiet", "quill", "quilt", "quintet", "quintuple", "quirk", "quit", "quiver", "quizzical", "quotable", "quotation", "quote", "rabid", "race", "racing", "racism", "rack", "racoon", "radar", "radial", "radiance", "radiantly", "radiated", "radiation", "radiator", "radio", "radish", "raffle", "raft", "rage", "ragged", "raging", "ragweed", "raider", "railcar", "railing", "railroad", "railway", "raisin", "rake", "raking", "rally", "ramble", "rambling", "ramp", "ramrod", "ranch", "rancidity", "random", "ranged", "ranger", "ranging", "ranked", "ranking", "ransack", "ranting", "rants", "rare", "rarity", "rascal", "rash", "rasping", "ravage", "raven", "ravine", "raving", "ravioli", "ravishing", "reabsorb", "reach", "reacquire", "reaction", "reactive", "reactor", "reaffirm", "ream", "reanalyze", "reappear", "reapply", "reappoint", "reapprove", "rearrange", "rearview", "reason", "reassign", "reassure", "reattach", "reawake", "rebalance", "rebate", "rebel", "rebirth", "reboot", "reborn", "rebound", "rebuff", "rebuild", "rebuilt", "reburial", "rebuttal", "recall", "recant", "recapture", "recast", "recede", "recent", "recess", "recharger", "recipient", "recital", "recite", "reckless", "reclaim", "recliner", "reclining", "recluse", "reclusive", "recognize", "recoil", "recollect", "recolor", "reconcile", "reconfirm", "reconvene", "recopy", "record", "recount", "recoup", "recovery", "recreate", "rectal", "rectangle", "rectified", "rectify", "recycled", "recycler", "recycling", "reemerge", "reenact", "reenter", "reentry", "reexamine", "referable", "referee", "reference", "refill", "refinance", "refined", "refinery", "refining", "refinish", "reflected", "reflector", "reflex", "reflux", "refocus", "refold", "reforest", "reformat", "reformed", "reformer", "reformist", "refract", "refrain", "refreeze", "refresh", "refried", "refueling", "refund", "refurbish", "refurnish", "refusal", "refuse", "refusing", "refutable", "refute", "regain", "regalia", "regally", "reggae", "regime", "region", "register", "registrar", "registry", "regress", "regretful", "regroup", "regular", "regulate", "regulator", "rehab", "reheat", "rehire", "rehydrate", "reimburse", "reissue", "reiterate", "rejoice", "rejoicing", "rejoin", "rekindle", "relapse", "relapsing", "relatable", "related", "relation", "relative", "relax", "relay", "relearn", "release", "relenting", "reliable", "reliably", "reliance", "reliant", "relic", "relieve", "relieving", "relight", "relish", "relive", "reload", "relocate", "relock", "reluctant", "rely", "remake", "remark", "remarry", "rematch", "remedial", "remedy", "remember", "reminder", "remindful", "remission", "remix", "remnant", "remodeler", "remold", "remorse", "remote", "removable", "removal", "removed", "remover", "removing", "rename", "renderer", "rendering", "rendition", "renegade", "renewable", "renewably", "renewal", "renewed", "renounce", "renovate", "renovator", "rentable", "rental", "rented", "renter", "reoccupy", "reoccur", "reopen", "reorder", "repackage", "repacking", "repaint", "repair", "repave", "repaying", "repayment", "repeal", "repeated", "repeater", "repent", "rephrase", "replace", "replay", "replica", "reply", "reporter", "repose", "repossess", "repost", "repressed", "reprimand", "reprint", "reprise", "reproach", "reprocess", "reproduce", "reprogram", "reps", "reptile", "reptilian", "repugnant", "repulsion", "repulsive", "repurpose", "reputable", "reputably", "request", "require", "requisite", "reroute", "rerun", "resale", "resample", "rescuer", "reseal", "research", "reselect", "reseller", "resemble", "resend", "resent", "reset", "reshape", "reshoot", "reshuffle", "residence", "residency", "resident", "residual", "residue", "resigned", "resilient", "resistant", "resisting", "resize", "resolute", "resolved", "resonant", "resonate", "resort", "resource", "respect", "resubmit", "result", "resume", "resupply", "resurface", "resurrect", "retail", "retainer", "retaining", "retake", "retaliate", "retention", "rethink", "retinal", "retired", "retiree", "retiring", "retold", "retool", "retorted", "retouch", "retrace", "retract", "retrain", "retread", "retreat", "retrial", "retrieval", "retriever", "retry", "return", "retying", "retype", "reunion", "reunite", "reusable", "reuse", "reveal", "reveler", "revenge", "revenue", "reverb", "revered", "reverence", "reverend", "reversal", "reverse", "reversing", "reversion", "revert", "revisable", "revise", "revision", "revisit", "revivable", "revival", "reviver", "reviving", "revocable", "revoke", "revolt", "revolver", "revolving", "reward", "rewash", "rewind", "rewire", "reword", "rework", "rewrap", "rewrite", "rhyme", "ribbon", "ribcage", "rice", "riches", "richly", "richness", "rickety", "ricotta", "riddance", "ridden", "ride", "riding", "rifling", "rift", "rigging", "rigid", "rigor", "rimless", "rimmed", "rind", "rink", "rinse", "rinsing", "riot", "ripcord", "ripeness", "ripening", "ripping", "ripple", "rippling", "riptide", "rise", "rising", "risk", "risotto", "ritalin", "ritzy", "rival", "riverbank", "riverbed", "riverboat", "riverside", "riveter", "riveting", "roamer", "roaming", "roast", "robbing", "robe", "robin", "robotics", "robust", "rockband", "rocker", "rocket", "rockfish", "rockiness", "rocking", "rocklike", "rockslide", "rockstar", "rocky", "rogue", "roman", "romp", "rope", "roping", "roster", "rosy", "rotten", "rotting", "rotunda", "roulette", "rounding", "roundish", "roundness", "roundup", "roundworm", "routine", "routing", "rover", "roving", "royal", "rubbed", "rubber", "rubbing", "rubble", "rubdown", "ruby", "ruckus", "rudder", "rug", "ruined", "rule", "rumble", "rumbling", "rummage", "rumor", "runaround", "rundown", "runner", "running", "runny", "runt", "runway", "rupture", "rural", "ruse", "rush", "rust", "rut", "sabbath", "sabotage", "sacrament", "sacred", "sacrifice", "sadden", "saddlebag", "saddled", "saddling", "sadly", "sadness", "safari", "safeguard", "safehouse", "safely", "safeness", "saffron", "saga", "sage", "sagging", "saggy", "said", "saint", "sake", "salad", "salami", "salaried", "salary", "saline", "salon", "saloon", "salsa", "salt", "salutary", "salute", "salvage", "salvaging", "salvation", "same", "sample", "sampling", "sanction", "sanctity", "sanctuary", "sandal", "sandbag", "sandbank", "sandbar", "sandblast", "sandbox", "sanded", "sandfish", "sanding", "sandlot", "sandpaper", "sandpit", "sandstone", "sandstorm", "sandworm", "sandy", "sanitary", "sanitizer", "sank", "santa", "sapling", "sappiness", "sappy", "sarcasm", "sarcastic", "sardine", "sash", "sasquatch", "sassy", "satchel", "satiable", "satin", "satirical", "satisfied", "satisfy", "saturate", "saturday", "sauciness", "saucy", "sauna", "savage", "savanna", "saved", "savings", "savior", "savor", "saxophone", "say", "scabbed", "scabby", "scalded", "scalding", "scale", "scaling", "scallion", "scallop", "scalping", "scam", "scandal", "scanner", "scanning", "scant", "scapegoat", "scarce", "scarcity", "scarecrow", "scared", "scarf", "scarily", "scariness", "scarring", "scary", "scavenger", "scenic", "schedule", "schematic", "scheme", "scheming", "schilling", "schnapps", "scholar", "science", "scientist", "scion", "scoff", "scolding", "scone", "scoop", "scooter", "scope", "scorch", "scorebook", "scorecard", "scored", "scoreless", "scorer", "scoring", "scorn", "scorpion", "scotch", "scoundrel", "scoured", "scouring", "scouting", "scouts", "scowling", "scrabble", "scraggly", "scrambled", "scrambler", "scrap", "scratch", "scrawny", "screen", "scribble", "scribe", "scribing", "scrimmage", "script", "scroll", "scrooge", "scrounger", "scrubbed", "scrubber", "scruffy", "scrunch", "scrutiny", "scuba", "scuff", "sculptor", "sculpture", "scurvy", "scuttle", "secluded", "secluding", "seclusion", "second", "secrecy", "secret", "sectional", "sector", "secular", "securely", "security", "sedan", "sedate", "sedation", "sedative", "sediment", "seduce", "seducing", "segment", "seismic", "seizing", "seldom", "selected", "selection", "selective", "selector", "self", "seltzer", "semantic", "semester", "semicolon", "semifinal", "seminar", "semisoft", "semisweet", "senate", "senator", "send", "senior", "senorita", "sensation", "sensitive", "sensitize", "sensually", "sensuous", "sepia", "september", "septic", "septum", "sequel", "sequence", "sequester", "series", "sermon", "serotonin", "serpent", "serrated", "serve", "service", "serving", "sesame", "sessions", "setback", "setting", "settle", "settling", "setup", "sevenfold", "seventeen", "seventh", "seventy", "severity", "shabby", "shack", "shaded", "shadily", "shadiness", "shading", "shadow", "shady", "shaft", "shakable", "shakily", "shakiness", "shaking", "shaky", "shale", "shallot", "shallow", "shame", "shampoo", "shamrock", "shank", "shanty", "shape", "shaping", "share", "sharpener", "sharper", "sharpie", "sharply", "sharpness", "shawl", "sheath", "shed", "sheep", "sheet", "shelf", "shell", "shelter", "shelve", "shelving", "sherry", "shield", "shifter", "shifting", "shiftless", "shifty", "shimmer", "shimmy", "shindig", "shine", "shingle", "shininess", "shining", "shiny", "ship", "shirt", "shivering", "shock", "shone", "shoplift", "shopper", "shopping", "shoptalk", "shore", "shortage", "shortcake", "shortcut", "shorten", "shorter", "shorthand", "shortlist", "shortly", "shortness", "shorts", "shortwave", "shorty", "shout", "shove", "showbiz", "showcase", "showdown", "shower", "showgirl", "showing", "showman", "shown", "showoff", "showpiece", "showplace", "showroom", "showy", "shrank", "shrapnel", "shredder", "shredding", "shrewdly", "shriek", "shrill", "shrimp", "shrine", "shrink", "shrivel", "shrouded", "shrubbery", "shrubs", "shrug", "shrunk", "shucking", "shudder", "shuffle", "shuffling", "shun", "shush", "shut", "shy", "siamese", "siberian", "sibling", "siding", "sierra", "siesta", "sift", "sighing", "silenced", "silencer", "silent", "silica", "silicon", "silk", "silliness", "silly", "silo", "silt", "silver", "similarly", "simile", "simmering", "simple", "simplify", "simply", "sincere", "sincerity", "singer", "singing", "single", "singular", "sinister", "sinless", "sinner", "sinuous", "sip", "siren", "sister", "sitcom", "sitter", "sitting", "situated", "situation", "sixfold", "sixteen", "sixth", "sixties", "sixtieth", "sixtyfold", "sizable", "sizably", "size", "sizing", "sizzle", "sizzling", "skater", "skating", "skedaddle", "skeletal", "skeleton", "skeptic", "sketch", "skewed", "skewer", "skid", "skied", "skier", "skies", "skiing", "skilled", "skillet", "skillful", "skimmed", "skimmer", "skimming", "skimpily", "skincare", "skinhead", "skinless", "skinning", "skinny", "skintight", "skipper", "skipping", "skirmish", "skirt", "skittle", "skydiver", "skylight", "skyline", "skype", "skyrocket", "skyward", "slab", "slacked", "slacker", "slacking", "slackness", "slacks", "slain", "slam", "slander", "slang", "slapping", "slapstick", "slashed", "slashing", "slate", "slather", "slaw", "sled", "sleek", "sleep", "sleet", "sleeve", "slept", "sliceable", "sliced", "slicer", "slicing", "slick", "slider", "slideshow", "sliding", "slighted", "slighting", "slightly", "slimness", "slimy", "slinging", "slingshot", "slinky", "slip", "slit", "sliver", "slobbery", "slogan", "sloped", "sloping", "sloppily", "sloppy", "slot", "slouching", "slouchy", "sludge", "slug", "slum", "slurp", "slush", "sly", "small", "smartly", "smartness", "smasher", "smashing", "smashup", "smell", "smelting", "smile", "smilingly", "smirk", "smite", "smith", "smitten", "smock", "smog", "smoked", "smokeless", "smokiness", "smoking", "smoky", "smolder", "smooth", "smother", "smudge", "smudgy", "smuggler", "smuggling", "smugly", "smugness", "snack", "snagged", "snaking", "snap", "snare", "snarl", "snazzy", "sneak", "sneer", "sneeze", "sneezing", "snide", "sniff", "snippet", "snipping", "snitch", "snooper", "snooze", "snore", "snoring", "snorkel", "snort", "snout", "snowbird", "snowboard", "snowbound", "snowcap", "snowdrift", "snowdrop", "snowfall", "snowfield", "snowflake", "snowiness", "snowless", "snowman", "snowplow", "snowshoe", "snowstorm", "snowsuit", "snowy", "snub", "snuff", "snuggle", "snugly", "snugness", "speak", "spearfish", "spearhead", "spearman", "spearmint", "species", "specimen", "specked", "speckled", "specks", "spectacle", "spectator", "spectrum", "speculate", "speech", "speed", "spellbind", "speller", "spelling", "spendable", "spender", "spending", "spent", "spew", "sphere", "spherical", "sphinx", "spider", "spied", "spiffy", "spill", "spilt", "spinach", "spinal", "spindle", "spinner", "spinning", "spinout", "spinster", "spiny", "spiral", "spirited", "spiritism", "spirits", "spiritual", "splashed", "splashing", "splashy", "splatter", "spleen", "splendid", "splendor", "splice", "splicing", "splinter", "splotchy", "splurge", "spoilage", "spoiled", "spoiler", "spoiling", "spoils", "spoken", "spokesman", "sponge", "spongy", "sponsor", "spoof", "spookily", "spooky", "spool", "spoon", "spore", "sporting", "sports", "sporty", "spotless", "spotlight", "spotted", "spotter", "spotting", "spotty", "spousal", "spouse", "spout", "sprain", "sprang", "sprawl", "spray", "spree", "sprig", "spring", "sprinkled", "sprinkler", "sprint", "sprite", "sprout", "spruce", "sprung", "spry", "spud", "spur", "sputter", "spyglass", "squabble", "squad", "squall", "squander", "squash", "squatted", "squatter", "squatting", "squeak", "squealer", "squealing", "squeamish", "squeegee", "squeeze", "squeezing", "squid", "squiggle", "squiggly", "squint", "squire", "squirt", "squishier", "squishy", "stability", "stabilize", "stable", "stack", "stadium", "staff", "stage", "staging", "stagnant", "stagnate", "stainable", "stained", "staining", "stainless", "stalemate", "staleness", "stalling", "stallion", "stamina", "stammer", "stamp", "stand", "stank", "staple", "stapling", "starboard", "starch", "stardom", "stardust", "starfish", "stargazer", "staring", "stark", "starless", "starlet", "starlight", "starlit", "starring", "starry", "starship", "starter", "starting", "startle", "startling", "startup", "starved", "starving", "stash", "state", "static", "statistic", "statue", "stature", "status", "statute", "statutory", "staunch", "stays", "steadfast", "steadier", "steadily", "steadying", "steam", "steed", "steep", "steerable", "steering", "steersman", "stegosaur", "stellar", "stem", "stench", "stencil", "step", "stereo", "sterile", "sterility", "sterilize", "sterling", "sternness", "sternum", "stew", "stick", "stiffen", "stiffly", "stiffness", "stifle", "stifling", "stillness", "stilt", "stimulant", "stimulate", "stimuli", "stimulus", "stinger", "stingily", "stinging", "stingray", "stingy", "stinking", "stinky", "stipend", "stipulate", "stir", "stitch", "stock", "stoic", "stoke", "stole", "stomp", "stonewall", "stoneware", "stonework", "stoning", "stony", "stood", "stooge", "stool", "stoop", "stoplight", "stoppable", "stoppage", "stopped", "stopper", "stopping", "stopwatch", "storable", "storage", "storeroom", "storewide", "storm", "stout", "stove", "stowaway", "stowing", "straddle", "straggler", "strained", "strainer", "straining", "strangely", "stranger", "strangle", "strategic", "strategy", "stratus", "straw", "stray", "streak", "stream", "street", "strength", "strenuous", "strep", "stress", "stretch", "strewn", "stricken", "strict", "stride", "strife", "strike", "striking", "strive", "striving", "strobe", "strode", "stroller", "strongbox", "strongly", "strongman", "struck", "structure", "strudel", "struggle", "strum", "strung", "strut", "stubbed", "stubble", "stubbly", "stubborn", "stucco", "stuck", "student", "studied", "studio", "study", "stuffed", "stuffing", "stuffy", "stumble", "stumbling", "stump", "stung", "stunned", "stunner", "stunning", "stunt", "stupor", "sturdily", "sturdy", "styling", "stylishly", "stylist", "stylized", "stylus", "suave", "subarctic", "subatomic", "subdivide", "subdued", "subduing", "subfloor", "subgroup", "subheader", "subject", "sublease", "sublet", "sublevel", "sublime", "submarine", "submerge", "submersed", "submitter", "subpanel", "subpar", "subplot", "subprime", "subscribe", "subscript", "subsector", "subside", "subsiding", "subsidize", "subsidy", "subsoil", "subsonic", "substance", "subsystem", "subtext", "subtitle", "subtly", "subtotal", "subtract", "subtype", "suburb", "subway", "subwoofer", "subzero", "succulent", "such", "suction", "sudden", "sudoku", "suds", "sufferer", "suffering", "suffice", "suffix", "suffocate", "suffrage", "sugar", "suggest", "suing", "suitable", "suitably", "suitcase", "suitor", "sulfate", "sulfide", "sulfite", "sulfur", "sulk", "sullen", "sulphate", "sulphuric", "sultry", "superbowl", "superglue", "superhero", "superior", "superjet", "superman", "supermom", "supernova", "supervise", "supper", "supplier", "supply", "support", "supremacy", "supreme", "surcharge", "surely", "sureness", "surface", "surfacing", "surfboard", "surfer", "surgery", "surgical", "surging", "surname", "surpass", "surplus", "surprise", "surreal", "surrender", "surrogate", "surround", "survey", "survival", "survive", "surviving", "survivor", "sushi", "suspect", "suspend", "suspense", "sustained", "sustainer", "swab", "swaddling", "swagger", "swampland", "swan", "swapping", "swarm", "sway", "swear", "sweat", "sweep", "swell", "swept", "swerve", "swifter", "swiftly", "swiftness", "swimmable", "swimmer", "swimming", "swimsuit", "swimwear", "swinger", "swinging", "swipe", "swirl", "switch", "swivel", "swizzle", "swooned", "swoop", "swoosh", "swore", "sworn", "swung", "sycamore", "sympathy", "symphonic", "symphony", "symptom", "synapse", "syndrome", "synergy", "synopses", "synopsis", "synthesis", "synthetic", "syrup", "system", "t-shirt", "tabasco", "tabby", "tableful", "tables", "tablet", "tableware", "tabloid", "tackiness", "tacking", "tackle", "tackling", "tacky", "taco", "tactful", "tactical", "tactics", "tactile", "tactless", "tadpole", "taekwondo", "tag", "tainted", "take", "taking", "talcum", "talisman", "tall", "talon", "tamale", "tameness", "tamer", "tamper", "tank", "tanned", "tannery", "tanning", "tantrum", "tapeless", "tapered", "tapering", "tapestry", "tapioca", "tapping", "taps", "tarantula", "target", "tarmac", "tarnish", "tarot", "tartar", "tartly", "tartness", "task", "tassel", "taste", "tastiness", "tasting", "tasty", "tattered", "tattle", "tattling", "tattoo", "taunt", "tavern", "thank", "that", "thaw", "theater", "theatrics", "thee", "theft", "theme", "theology", "theorize", "thermal", "thermos", "thesaurus", "these", "thesis", "thespian", "thicken", "thicket", "thickness", "thieving", "thievish", "thigh", "thimble", "thing", "think", "thinly", "thinner", "thinness", "thinning", "thirstily", "thirsting", "thirsty", "thirteen", "thirty", "thong", "thorn", "those", "thousand", "thrash", "thread", "threaten", "threefold", "thrift", "thrill", "thrive", "thriving", "throat", "throbbing", "throng", "throttle", "throwaway", "throwback", "thrower", "throwing", "thud", "thumb", "thumping", "thursday", "thus", "thwarting", "thyself", "tiara", "tibia", "tidal", "tidbit", "tidiness", "tidings", "tidy", "tiger", "tighten", "tightly", "tightness", "tightrope", "tightwad", "tigress", "tile", "tiling", "till", "tilt", "timid", "timing", "timothy", "tinderbox", "tinfoil", "tingle", "tingling", "tingly", "tinker", "tinkling", "tinsel", "tinsmith", "tint", "tinwork", "tiny", "tipoff", "tipped", "tipper", "tipping", "tiptoeing", "tiptop", "tiring", "tissue", "trace", "tracing", "track", "traction", "tractor", "trade", "trading", "tradition", "traffic", "tragedy", "trailing", "trailside", "train", "traitor", "trance", "tranquil", "transfer", "transform", "translate", "transpire", "transport", "transpose", "trapdoor", "trapeze", "trapezoid", "trapped", "trapper", "trapping", "traps", "trash", "travel", "traverse", "travesty", "tray", "treachery", "treading", "treadmill", "treason", "treat", "treble", "tree", "trekker", "tremble", "trembling", "tremor", "trench", "trend", "trespass", "triage", "trial", "triangle", "tribesman", "tribunal", "tribune", "tributary", "tribute", "triceps", "trickery", "trickily", "tricking", "trickle", "trickster", "tricky", "tricolor", "tricycle", "trident", "tried", "trifle", "trifocals", "trillion", "trilogy", "trimester", "trimmer", "trimming", "trimness", "trinity", "trio", "tripod", "tripping", "triumph", "trivial", "trodden", "trolling", "trombone", "trophy", "tropical", "tropics", "trouble", "troubling", "trough", "trousers", "trout", "trowel", "truce", "truck", "truffle", "trump", "trunks", "trustable", "trustee", "trustful", "trusting", "trustless", "truth", "try", "tubby", "tubeless", "tubular", "tucking", "tuesday", "tug", "tuition", "tulip", "tumble", "tumbling", "tummy", "turban", "turbine", "turbofan", "turbojet", "turbulent", "turf", "turkey", "turmoil", "turret", "turtle", "tusk", "tutor", "tutu", "tux", "nigger", "tweed", "tweet", "tweezers", "twelve", "twentieth", "twenty", "twerp", "twice", "twiddle", "twiddling", "twig", "twilight", "twine", "twins", "twirl", "twistable", "twisted", "twister", "twisting", "twisty", "twitch", "twitter", "tycoon", "tying", "tyke", "udder", "ultimate", "ultimatum", "ultra", "umbilical", "umbrella", "umpire", "unabashed", "unable", "unadorned", "unadvised", "unafraid", "unaired", "unaligned", "unaltered", "unarmored", "unashamed", "unaudited", "unawake", "unaware", "unbaked", "unbalance", "unbeaten", "unbend", "unbent", "unbiased", "unbitten", "unblended", "unblessed", "unblock", "unbolted", "unbounded", "unboxed", "unbraided", "unbridle", "unbroken", "unbuckled", "unbundle", "unburned", "unbutton", "uncanny", "uncapped", "uncaring", "uncertain", "unchain", "unchanged", "uncharted", "uncheck", "uncivil", "unclad", "unclaimed", "unclamped", "unclasp", "uncle", "unclip", "uncloak", "unclog", "unclothed", "uncoated", "uncoiled", "uncolored", "uncombed", "uncommon", "uncooked", "uncork", "uncorrupt", "uncounted", "uncouple", "uncouth", "uncover", "uncross", "uncrown", "uncrushed", "uncured", "uncurious", "uncurled", "uncut", "undamaged", "undated", "undaunted", "undead", "undecided", "undefined", "underage", "underarm", "undercoat", "undercook", "undercut", "underdog", "underdone", "underfed", "underfeed", "underfoot", "undergo", "undergrad", "underhand", "underline", "underling", "undermine", "undermost", "underpaid", "underpass", "underpay", "underrate", "undertake", "undertone", "undertook", "undertow", "underuse", "underwear", "underwent", "underwire", "undesired", "undiluted", "undivided", "undocked", "undoing", "undone", "undrafted", "undress", "undrilled", "undusted", "undying", "unearned", "unearth", "unease", "uneasily", "uneasy", "uneatable", "uneaten", "unedited", "unelected", "unending", "unengaged", "unenvied", "unequal", "unethical", "uneven", "unexpired", "unexposed", "unfailing", "unfair", "unfasten", "unfazed", "unfeeling", "unfiled", "unfilled", "unfitted", "unfitting", "unfixable", "unfixed", "unflawed", "unfocused", "unfold", "unfounded", "unframed", "unfreeze", "unfrosted", "unfrozen", "unfunded", "unglazed", "ungloved", "unglue", "ungodly", "ungraded", "ungreased", "unguarded", "unguided", "unhappily", "unhappy", "unharmed", "unhealthy", "unheard", "unhearing", "unheated", "unhelpful", "unhidden", "unhinge", "unhitched", "unholy", "unhook", "unicorn", "unicycle", "unified", "unifier", "uniformed", "uniformly", "unify", "unimpeded", "uninjured", "uninstall", "uninsured", "uninvited", "union", "uniquely", "unisexual", "unison", "unissued", "unit", "universal", "universe", "unjustly", "unkempt", "unkind", "unknotted", "unknowing", "unknown", "unlaced", "unlatch", "unlawful", "unleaded", "unlearned", "unleash", "unless", "unleveled", "unlighted", "unlikable", "unlimited", "unlined", "unlinked", "unlisted", "unlit", "unlivable", "unloaded", "unloader", "unlocked", "unlocking", "unlovable", "unloved", "unlovely", "unloving", "unluckily", "unlucky", "unmade", "unmanaged", "unmanned", "unmapped", "unmarked", "unmasked", "unmasking", "unmatched", "unmindful", "unmixable", "unmixed", "unmolded", "unmoral", "unmovable", "unmoved", "unmoving", "unnamable", "unnamed", "unnatural", "unneeded", "unnerve", "unnerving", "unnoticed", "unopened", "unopposed", "unpack", "unpadded", "unpaid", "unpainted", "unpaired", "unpaved", "unpeeled", "unpicked", "unpiloted", "unpinned", "unplanned", "unplanted", "unpleased", "unpledged", "unplowed", "unplug", "unpopular", "unproven", "unquote", "unranked", "unrated", "unraveled", "unreached", "unread", "unreal", "unreeling", "unrefined", "unrelated", "unrented", "unrest", "unretired", "unrevised", "unrigged", "unripe", "unrivaled", "unroasted", "unrobed", "unroll", "unruffled", "unruly", "unrushed", "unsaddle", "unsafe", "unsaid", "unsalted", "unsaved", "unsavory", "unscathed", "unscented", "unscrew", "unsealed", "unseated", "unsecured", "unseeing", "unseemly", "unseen", "unselect", "unselfish", "unsent", "unsettled", "unshackle", "unshaken", "unshaved", "unshaven", "unsheathe", "unshipped", "unsightly", "unsigned", "unskilled", "unsliced", "unsmooth", "unsnap", "unsocial", "unsoiled", "unsold", "unsolved", "unsorted", "unspoiled", "unspoken", "unstable", "unstaffed", "unstamped", "unsteady", "unsterile", "unstirred", "unstitch", "unstopped", "unstuck", "unstuffed", "unstylish", "unsubtle", "unsubtly", "unsuited", "unsure", "unsworn", "untagged", "untainted", "untaken", "untamed", "untangled", "untapped", "untaxed", "unthawed", "unthread", "untidy", "untie", "until", "untimed", "untimely", "untitled", "untoasted", "untold", "untouched", "untracked", "untrained", "untreated", "untried", "untrimmed", "untrue", "untruth", "unturned", "untwist", "untying", "unusable", "unused", "unusual", "unvalued", "unvaried", "unvarying", "unveiled", "unveiling", "unvented", "unviable", "unvisited", "unvocal", "unwanted", "unwarlike", "unwary", "unwashed", "unwatched", "unweave", "unwed", "unwelcome", "unwell", "unwieldy", "unwilling", "unwind", "unwired", "unwitting", "unwomanly", "unworldly", "unworn", "unworried", "unworthy", "unwound", "unwoven", "unwrapped", "unwritten", "unzip", "upbeat", "upchuck", "upcoming", "upcountry", "update", "upfront", "upgrade", "upheaval", "upheld", "uphill", "uphold", "uplifted", "uplifting", "upload", "upon", "upper", "upright", "uprising", "upriver", "uproar", "uproot", "upscale", "upside", "upstage", "upstairs", "upstart", "upstate", "upstream", "upstroke", "upswing", "uptake", "uptight", "uptown", "upturned", "upward", "upwind", "uranium", "urban", "urchin", "urethane", "urgency", "urgent", "urging", "urologist", "urology", "usable", "usage", "useable", "used", "uselessly", "user", "usher", "usual", "utensil", "utility", "utilize", "utmost", "utopia", "utter", "vacancy", "vacant", "vacate", "vacation", "vagabond", "vagrancy", "vagrantly", "vaguely", "vagueness", "valiant", "valid", "valium", "valley", "valuables", "value", "vanilla", "vanish", "vanity", "vanquish", "vantage", "vaporizer", "variable", "variably", "varied", "variety", "various", "varmint", "varnish", "varsity", "varying", "vascular", "vaseline", "vastly", "vastness", "veal", "vegan", "veggie", "vehicular", "velcro", "velocity", "velvet", "vendetta", "vending", "vendor", "veneering", "vengeful", "venomous", "ventricle", "venture", "venue", "venus", "verbalize", "verbally", "verbose", "verdict", "verify", "verse", "version", "versus", "vertebrae", "vertical", "vertigo", "very", "vessel", "vest", "veteran", "veto", "vexingly", "viability", "viable", "vibes", "vice", "vicinity", "victory", "video", "viewable", "viewer", "viewing", "viewless", "viewpoint", "vigorous", "village", "villain", "vindicate", "vineyard", "vintage", "violate", "violation", "violator", "violet", "violin", "viper", "viral", "virtual", "virtuous", "virus", "visa", "viscosity", "viscous", "viselike", "visible", "visibly", "vision", "visiting", "visitor", "visor", "vista", "vitality", "vitalize", "vitally", "vitamins", "vivacious", "vividly", "vividness", "vixen", "vocalist", "vocalize", "vocally", "vocation", "voice", "voicing", "void", "volatile", "volley", "voltage", "volumes", "voter", "voting", "voucher", "vowed", "vowel", "voyage", "wackiness", "wad", "wafer", "waffle", "waged", "wager", "wages", "waggle", "wagon", "wake", "waking", "walk", "walmart", "walnut", "walrus", "waltz", "wand", "wannabe", "wanted", "wanting", "wasabi", "washable", "washbasin", "washboard", "washbowl", "washcloth", "washday", "washed", "washer", "washhouse", "washing", "washout", "washroom", "washstand", "washtub", "wasp", "wasting", "watch", "water", "waviness", "waving", "wavy", "whacking", "whacky", "wham", "wharf", "wheat", "whenever", "whiff", "whimsical", "whinny", "whiny", "whisking", "whoever", "whole", "whomever", "whoopee", "whooping", "whoops", "why", "wick", "widely", "widen", "widget", "widow", "width", "wieldable", "wielder", "wife", "wifi", "wikipedia", "wildcard", "wildcat", "wilder", "wildfire", "wildfowl", "wildland", "wildlife", "wildly", "wildness", "willed", "willfully", "willing", "willow", "willpower", "wilt", "wimp", "wince", "wincing", "wind", "wing", "winking", "winner", "winnings", "winter", "wipe", "wired", "wireless", "wiring", "wiry", "wisdom", "wise", "wish", "wisplike", "wispy", "wistful", "wizard", "wobble", "wobbling", "wobbly", "wok", "wolf", "wolverine", "womanhood", "womankind", "womanless", "womanlike", "womanly", "womb", "woof", "wooing", "wool", "woozy", "word", "work", "worried", "worrier", "worrisome", "worry", "worsening", "worshiper", "worst", "wound", "woven", "wow", "wrangle", "wrath", "wreath", "wreckage", "wrecker", "wrecking", "wrench", "wriggle", "wriggly", "wrinkle", "wrinkly", "wrist", "writing", "written", "wrongdoer", "wronged", "wrongful", "wrongly", "wrongness", "wrought", "xbox", "xerox", "yahoo", "yam", "yanking", "yapping", "yard", "yarn", "yeah", "yearbook", "yearling", "yearly", "yearning", "yeast", "yelling", "yelp", "yen", "yesterday", "yiddish", "yield", "yin", "yippee", "yo-yo", "yodel", "yoga", "yogurt", "yonder", "yoyo", "yummy", "zap", "zealous", "zebra", "zen", "zeppelin", "zero", "zestfully", "zesty", "zigzagged", "zipfile", "zipping", "zippy", "zips", "zit", "zodiac", "zombie", "zone", "zoning", "zookeeper", "zoologist", "zoology", "zoom"]), bN = Object.freeze(yN.filter((e => !e.includes("-")))); let vN = /[a-z]/, wN = /[A-Z]/, EN = /[0-9]/, xN = "!@#$%^&*()\\-_+.", _N = `a-zA-Z0-9${xN}`, CN = RegExp(`[${xN}]`), AN = RegExp(`[${_N}]`); const SN = RegExp(`^[${_N}]{6,}$`), kN = () => function (e, t, n = "-") { if ("number" !== typeof e || e < 1) throw new Error("Invalid argument: length argument must be a number greater than or equal to 1"); if (!Array.isArray(t) || t.length < 2) throw new Error("Invalid argument: wordlist argument must be an array with length greater than or equal to 2"); if ("string" !== typeof n) throw new Error("Invalid argument: sep argument must be a string"); return gN(e, 0, t.length).reduce(((e, r, i) => { const o = t[r]; return e + (0 === i ? o : n + o) }), "") }(4, bN); function IN(e) { return e > .9 ? "Strong" : e > .5 ? "Medium" : "Weak" } function TN(e = "") { return (.3 * function (e) { if (e.length < 8) return 0; let t = 0; return vN.test(e) && (t += 1), wN.test(e) && (t += 1), EN.test(e) && (t += 1), CN.test(e) && (t += 1), Math.max(0, Math.min(1, t / 3)) }(e) + uN(e) / 95) / 2 } function NN({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99" })) } var PN = Ke.forwardRef(NN); function MN({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z" }), Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" })) } var ON = Ke.forwardRef(MN); function RN({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88" })) } var jN = Ke.forwardRef(RN); let $N = nh(["font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;text-align:left;transition:color 0.1s ease-in;"]); const LN = oh.span.withConfig({ displayName: "StatusText", componentId: "sc-3f6866a9-0" })(["", " transition:color 0.1s ease-in;color:", ";text-transform:", ";&[aria-hidden='true']{visibility:hidden;}"], $N, (({ error: e }) => e ? "var(--privy-color-error)" : "var(--privy-color-foreground-3)"), (({ error: e }) => e ? "" : "capitalize")), DN = oh.div.withConfig({ displayName: "EmbeddedWalletScreenContainer", componentId: "sc-3f6866a9-1" })(["display:flex;flex-direction:column;justify-content:center;flex-grow:1;"]), UN = oh(Sf).withConfig({ displayName: "NoAnimationPrimaryButton", componentId: "sc-3f6866a9-2" })(["", ""], (e => e.hideAnimations && nh(["&&{transition:none;}"]))); let FN = nh(["&&{width:100%;border-width:1px;border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);background:var(--privy-color-background);color:var(--privy-color-foreground);padding:12px;font-size:16px;font-style:normal;font-weight:300;line-height:22px;}"]); const BN = oh.input.withConfig({ displayName: "PasswordInput", componentId: "sc-3f6866a9-3" })(["", " &::placeholder{color:var(--privy-color-foreground-3);font-style:italic;font-size:14px;}overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"], FN), WN = oh.div.withConfig({ displayName: "PasswordDisplay", componentId: "sc-3f6866a9-4" })(["", ""], FN), zN = oh.div.withConfig({ displayName: "PasswordContainer", componentId: "sc-3f6866a9-5" })(["position:relative;width:100%;display:flex;align-items:center;justify-content:", ";"], (({ centered: e }) => e ? "center" : "space-between")), qN = oh.div.withConfig({ displayName: "Header", componentId: "sc-3f6866a9-6" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:32px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]), HN = oh.div.withConfig({ displayName: "Details", componentId: "sc-3f6866a9-7" })(["display:flex;flex-direction:column;gap:10px;padding-bottom:1rem;"]), GN = oh.div.withConfig({ displayName: "DetailItem", componentId: "sc-3f6866a9-8" })(["display:flex;text-align:left;align-items:center;gap:8px;max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;margin:0 8px;color:var(--privy-color-foreground-2);> :first-child{min-width:24px;}"]), VN = oh(Af).withConfig({ displayName: "ExportButton", componentId: "sc-3f6866a9-10" })(["display:flex;flex:1;gap:4px;justify-content:center;&&{background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);border-width:1px;}"]), KN = oh.div.withConfig({ displayName: "InputRightIcons", componentId: "sc-3f6866a9-11" })(["position:absolute;right:0.5rem;display:flex;flex-direction:row;justify-content:space-around;align-items:center;"]), YN = oh(PN).withConfig({ displayName: "RegenerateIcon", componentId: "sc-3f6866a9-12" })(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]), ZN = oh(jN).withConfig({ displayName: "HiddenIcon", componentId: "sc-3f6866a9-13" })(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]), XN = oh(ON).withConfig({ displayName: "ShownIcon", componentId: "sc-3f6866a9-14" })(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]), JN = oh.progress.withConfig({ displayName: "StrengthMeter", componentId: "sc-3f6866a9-15" })(["height:4px;width:100%;margin:8px 0;::-webkit-progress-bar{border-radius:8px;background:var(--privy-color-foreground-4);}::-webkit-progress-value{border-radius:8px;transition:all 0.1s ease-out;background:", ";}"], (({ label: e }) => ("Strong" === e ? "#78dca6" : "Medium" === e && "var(--privy-color-warn)") || "var(--privy-color-error)")), QN = ({ buttonHideAnimations: e, buttonLoading: t, password: n, onSubmit: r, onBack: i }) => { let [o, s] = (0, Ke.useState)(!0), [a, c] = (0, Ke.useState)(!1), [l, u] = (0, Ke.useState)(""), d = n === l; return (0, Ke.useEffect)((() => { l && !a && c(!0) }), [l]), (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { closeable: !1, backFn: i }), (0, y.jsx)(Rm, {}), (0, y.jsxs)(DN, { children: [(0, y.jsxs)(qN, { children: [(0, y.jsx)(mp, { height: 48, width: 48, stroke: "var(--privy-color-background)", fill: "var(--privy-color-accent)" }), (0, y.jsx)("h3", { style: { color: "var(--privy-color-foreground)" }, children: "Confirm your password" }), (0, y.jsx)("p", { style: { color: "var(--privy-color-foreground-2)" }, children: "Please re-enter your password below to continue." })] }), (0, y.jsxs)(zN, { children: [(0, y.jsx)(BN, { value: l, onChange: e => u(e.target.value), onKeyUp: e => { "Enter" === e.key && r() }, onBlur: () => c(!0), placeholder: "confirm your password", type: o ? "password" : "text", style: { paddingRight: "2.3rem" } }), (0, y.jsx)(KN, { style: { right: "0.75rem" }, children: o ? (0, y.jsx)(ZN, { onClick: () => s(!1) }) : (0, y.jsx)(XN, { onClick: () => s(!0) }) })] }), (0, y.jsx)(LN, { "aria-hidden": !a || d, error: !0, children: "Passwords do not match" })] }), (0, y.jsx)(UN, { onClick: r, loading: t, disabled: !d, hideAnimations: e, children: "Continue" }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }) }, eP = ({ className: e, checked: t, color: n = "var(--privy-color-accent)", ...r }) => (0, y.jsx)("label", { children: (0, y.jsxs)(tP, { className: e, children: [(0, y.jsx)(rP, { checked: t, ...r }), (0, y.jsx)(iP, { color: n, checked: t, children: (0, y.jsx)(nP, { viewBox: "0 0 24 24", children: (0, y.jsx)("polyline", { points: "20 6 9 17 4 12" }) }) })] }) }); let tP = oh.div.withConfig({ displayName: "CheckboxContainer", componentId: "sc-db51b935-1" })(["display:inline-block;vertical-align:middle;"]), nP = oh.svg.withConfig({ displayName: "Icon", componentId: "sc-db51b935-2" })(["fill:none;stroke:white;stroke-width:3px;"]), rP = oh.input.attrs({ type: "checkbox" }).withConfig({ displayName: "HiddenCheckbox", componentId: "sc-db51b935-3" })(["border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;"]), iP = oh.div.withConfig({ displayName: "StyledCheckbox", componentId: "sc-db51b935-4" })(["display:inline-block;width:18px;height:18px;transition:all 150ms;cursor:pointer;border-color:", ";border-radius:3px;background:", ";&&{border-width:1px;}", ":focus + &{box-shadow:0 0 0 1px ", ";}", "{visibility:", ";}"], (e => e.color), (e => e.checked ? e.color : "var(--privy-color-background)"), rP, (e => e.color), nP, (e => e.checked ? "visible" : "hidden")); const oP = ({ buttonHideAnimations: e, buttonLoading: t, onSubmit: n, onBack: r, config: i }) => { let [o, s] = (0, Ke.useState)(!1); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { closeable: !1, backFn: r }), (0, y.jsx)(Rm, {}), (0, y.jsxs)(DN, { children: [(0, y.jsxs)(qN, { children: [(0, y.jsx)(mp, { height: 48, width: 48, stroke: "var(--privy-color-background)", fill: "var(--privy-color-error)" }), (0, y.jsx)("h3", { style: { color: "var(--privy-color-foreground)" }, children: "Confirm you have saved" }), (0, y.jsx)("p", { style: { color: "var(--privy-color-foreground-2)" }, children: "Losing access to your password means you will lose access to your account." })] }), (0, y.jsx)(HN, { children: (0, y.jsxs)(GN, { style: { color: "var(--privy-color-error)", cursor: "pointer" }, onClick: e => { e.preventDefault(), s((e => !e)) }, children: [(0, y.jsx)(eP, { color: "var(--privy-color-error)", readOnly: !0, checked: o }), (0, y.jsx)(y.Fragment, { children: "I understand that if I lose my password and device, I will lose access to my account and my assets." })] }) })] }), (0, y.jsxs)(sP, { children: ["user" === i.initiatedBy && (0, y.jsx)(Pf, { onClick: i.onCancel, disabled: t, children: "Cancel" }), (0, y.jsx)(UN, { onClick: n, loading: t, hideAnimations: e, disabled: !o, children: "Set Password" })] }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }) }; let sP = oh.div.withConfig({ displayName: "ButtonsContainer", componentId: "sc-eb601350-0" })(["display:flex;gap:10px;"]); function aP({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z" })) } var cP = Ke.forwardRef(aP); const lP = ({ buttonHideAnimations: e, buttonLoading: t, password: n = "", config: r, isResettingPassword: i, onSubmit: o, onClose: s, onBack: a, onPasswordChange: c, onPasswordGenerate: l }) => { let [u, d] = (0, Ke.useState)(!1), [h, f] = (0, Ke.useState)(!1); (0, Ke.useEffect)((() => { n && !h && f(!0) }), [n]); let p = (0, Ke.useMemo)((() => h ? 6 > (n?.length || 0) ? "Password must be at least 6 characters" : SN.test(n || "") ? null : `Invalid characters used ( ${((e = "") => [...new Set(e.split("").filter((e => !AN.test(e))).map((e => e.replace(" ", "SPACE"))))])(n).join(" ")} )` : null), [n, h]), m = (0, Ke.useMemo)((() => p ? { value: 0, label: "Weak" } : function (e = "") { let t = TN(e); return { value: t, label: IN(t) } }(n)), [n, p]), g = (0, Ke.useMemo)((() => !n?.length || !!p), [p, n]); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: s, closeable: "user" === r.initiatedBy, backFn: a }), (0, y.jsx)(Rm, {}), (0, y.jsxs)(DN, { children: [(0, y.jsxs)(qN, { children: [(0, y.jsx)(cP, { height: 48, width: 48, stroke: "var(--privy-color-accent)" }), (0, y.jsxs)("h3", { style: { color: "var(--privy-color-foreground)" }, children: [i ? "Reset" : "Set", " your password"] }), (0, y.jsx)("p", { style: { color: "var(--privy-color-foreground-2)" }, children: "Select a strong, memorable password to secure your account." })] }), (0, y.jsxs)(zN, { children: [(0, y.jsx)(BN, { value: n, onChange: e => c(e.target.value), onKeyUp: e => { "Enter" === e.key && o() }, placeholder: "enter or generate a strong password", type: u ? "password" : "text", style: { paddingRight: "3.8rem" } }), (0, y.jsxs)(KN, { style: { width: "3.5rem" }, children: [u ? (0, y.jsx)(ZN, { onClick: () => d(!1) }) : (0, y.jsx)(XN, { onClick: () => d(!0) }), (0, y.jsx)(YN, { onClick: l })] })] }), (0, y.jsx)(JN, { value: 0 === m.value ? .01 : m.value, label: m.label }), (0, y.jsx)(LN, { error: !!p, children: p || `Password Strength: ${h ? m.label : "--"}` }), (0, y.jsxs)(dP, { children: [(0, y.jsx)(uP, { children: (0, y.jsxs)(HN, { children: [(0, y.jsxs)(GN, { children: [(0, y.jsx)(rg, { width: 24, height: 24, fill: "var(--privy-color-accent)" }), "This password is used to secure your account."] }), (0, y.jsxs)(GN, { children: [(0, y.jsx)(rg, { width: 24, height: 24, fill: "var(--privy-color-accent)" }), "Use it to log in on a new environment, like another browser or device."] })] }) }), (0, y.jsx)(UN, { onClick: o, loading: t, disabled: g, hideAnimations: e, children: "Continue" })] })] }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }) }; let uP = oh(HN).withConfig({ displayName: "DetailsContainer", componentId: "sc-7b3b7727-0" })(["flex:1;padding-top:1rem;"]), dP = oh.div.withConfig({ displayName: "LowerContainer", componentId: "sc-7b3b7727-1" })(["display:flex;flex-direction:column;height:100%;"]); function hP({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3" })) } var fP = Ke.forwardRef(hP); function pP({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75" })) } var mP = Ke.forwardRef(pP); function gP({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75" })) } var yP = Ke.forwardRef(gP); const bP = ({ buttonHideAnimations: e, buttonLoading: t, appName: n, password: r, onSubmit: i, onBack: o }) => { let [s, a] = (0, Ke.useState)(!1), c = (0, Ke.useCallback)((() => { a(!0), r && navigator.clipboard.writeText(r) }), [r]), l = (0, Ke.useCallback)((() => { let e = document.createElement("a"), t = n.toLowerCase().replace(/[^a-z\s]/g, "").replace(/\s/g, "-"), i = new Blob([vP(n, r)], { type: "text/plain" }), o = URL.createObjectURL(i); e.href = o, e.target = "_blank", e.download = `${t}-privy-wallet-recovery.txt`, document.body.appendChild(e), e.click(), setTimeout((() => { e.remove(), URL.revokeObjectURL(o) }), 5e3) }), [r]); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { backFn: o, closeable: !1 }), (0, y.jsx)(Rm, {}), (0, y.jsxs)(DN, { children: [(0, y.jsxs)(qN, { children: [(0, y.jsx)(mp, { height: 48, width: 48, stroke: "var(--privy-color-background)", fill: "var(--privy-color-accent)" }), (0, y.jsx)("h3", { style: { color: "var(--privy-color-foreground)" }, children: "Save your password" }), (0, y.jsx)("p", { style: { color: "var(--privy-color-foreground-2)" }, children: "For your security, this password cannot be reset, so keep it somewhere safe." })] }), (0, y.jsx)(zN, { centered: !0, children: (0, y.jsx)(WN, { children: r }) }), (0, y.jsxs)("div", { style: { display: "flex", margin: "12px 0", gap: "12px" }, children: [(0, y.jsx)(VN, { onClick: c, children: (0, y.jsxs)(y.Fragment, s ? { children: [(0, y.jsx)(mP, { style: { width: 24, height: 24 }, stroke: "var(--privy-color-accent)" }), "Copied"] } : { children: [(0, y.jsx)(yP, { style: { width: 24, height: 24 }, stroke: "var(--privy-color-accent)" }), "Copy"] }) }), (0, y.jsxs)(VN, { onClick: l, children: [(0, y.jsx)(fP, { style: { width: 24, height: 24 }, stroke: "var(--privy-color-accent)" }), "Download"] })] })] }), (0, y.jsx)(UN, { onClick: i, loading: t, hideAnimations: e, children: "Continue" }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }) }; let vP = (e, t) => `Your wallet recovery password for ${e} is\n\n${t}\n\nYou will need this password to access your ${e} wallet on a new device. Please keep it somewhere safe.`; const wP = ({ error: e, onClose: t }) => (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { closeable: !1 }), (0, y.jsx)(Rm, {}), (0, y.jsxs)(Nm, e ? { children: [(0, y.jsx)(og, { fill: "var(--privy-color-error)", width: "64px", height: "64px" }), (0, y.jsx)(Bm, { title: "Something went wrong", description: e })] } : { children: [(0, y.jsx)(rg, { fill: "var(--privy-color-success)", width: "64px", height: "64px" }), (0, y.jsx)(Bm, { title: "Success" })] }), (0, y.jsx)(Sf, { onClick: t, children: "Close" }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }); let EP = (e, t) => { switch (e) { case "creating": return "back" === t ? e : "saving"; case "saving": return "back" === t ? "creating" : "confirming"; case "confirming": return "back" === t ? "saving" : "finalizing"; case "finalizing": return "back" === t ? "confirming" : "done"; default: return e } }; const xP = ({ onSubmit: e, ...t }) => { let { lastScreen: n, navigate: r } = pf(), { send: i, state: o } = (() => { let [e, t] = (0, Ke.useReducer)(EP, "creating"); return { send: t, state: e } })(), s = (0, Ke.useCallback)((async () => { "finalizing" === o && await e(), i("next") }), [o, i, e]); (0, Ke.useEffect)((() => { let e; return "done" === o && "automatic" === t.config.initiatedBy && (e = setTimeout((() => t.onClose?.()), Hs)), () => { e && clearTimeout(e) } }), [o, t.config.initiatedBy, t.onClose]); let a = (0, Ke.useCallback)((() => { i("back") }), [i]), c = (0, Ke.useCallback)((() => { r(uf.EMBEDDED_WALLET_RECOVERY_SELECTION_SCREEN) }), [n, r]); return "creating" === o ? (0, y.jsx)(lP, { ...t, onSubmit: s, onBack: n === uf.EMBEDDED_WALLET_RECOVERY_SELECTION_SCREEN ? c : void 0 }) : "saving" === o ? (0, y.jsx)(bP, { ...t, onSubmit: s, onBack: a }) : "confirming" === o ? (0, y.jsx)(QN, { ...t, onSubmit: s, onBack: a }) : "finalizing" === o ? (0, y.jsx)(oP, { ...t, onSubmit: s, onBack: a }) : "done" === o ? (0, y.jsx)(wP, { ...t, onSubmit: s }) : null }; function _P({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" })) } var CP = Ke.forwardRef(_P); function AP({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 24 24", fill: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { fillRule: "evenodd", d: "M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z", clipRule: "evenodd" })) } var SP = Ke.forwardRef(AP); const kP = ({ error: e, backFn: t, onClick: n }) => { let { reset: r } = Xa(), { app: i } = pf(), o = ((e, t) => { let n = (0, y.jsx)(mp, { height: 38, width: 38, stroke: "var(--privy-color-error)" }); if (e instanceof bs.dx) switch (e.privyErrorCode) { case bs.sX.CLIENT_REQUEST_TIMEOUT: return { title: "Timed out", detail: e.message, ctaText: "Try again", icon: n }; case bs.sX.INSUFFICIENT_BALANCE: return { title: "Insufficient balance", detail: e.message, ctaText: "Try again", icon: n }; case bs.sX.TRANSACTION_FAILURE: return { title: "Transaction failure", detail: e.message, ctaText: "Try again", icon: n }; default: return { title: "Something went wrong", detail: "Try again later", ctaText: "Try again", icon: n } } else { if (e instanceof DT && "twilio_verification_failed" === e.type) return { title: "Something went wrong", detail: e.message, ctaText: "Try again", icon: (0, y.jsx)(Am, { height: 38, width: 38, stroke: "var(--privy-color-error)" }) }; if (!(e instanceof bs.Bi)) return e instanceof bs.fP && e.status && [400, 422].includes(e.status) ? { title: "Something went wrong", detail: e.message, ctaText: "Try again", icon: n } : { title: "Something went wrong", detail: "Try again later", ctaText: "Try again", icon: n }; switch (e.privyErrorCode) { case bs.sX.INVALID_CAPTCHA: return { title: "Something went wrong", detail: "Please try again.", ctaText: "Try again", icon: n }; case bs.sX.DISALLOWED_LOGIN_METHOD: return { title: "Not allowed", detail: e.message, ctaText: "Try another method", icon: n }; case bs.sX.ALLOWLIST_REJECTED: return { title: t.errorTitle || "You don't have access to this app", detail: t.errorDetail || "Have you been invited?", ctaText: t.errorCtaText || "Try another account", icon: (0, y.jsx)(ym, { style: { width: "38px", height: "38px", strokeWidth: "1", stroke: "var(--privy-color-accent)", fill: "var(--privy-color-accent)" } }) }; case bs.sX.CAPTCHA_FAILURE: return { title: "Something went wrong", detail: "You did not pass CAPTCHA. Please try again.", ctaText: "Try again", icon: (0, y.jsx)("span", {}) }; case bs.sX.CAPTCHA_TIMEOUT: return { title: "Something went wrong", detail: "Something went wrong! Please try again later.", ctaText: "Try again", icon: (0, y.jsx)("span", {}) }; case bs.sX.LINKED_TO_ANOTHER_USER: return { title: "Authentication failed", detail: "This account has already been linked to another user.", ctaText: "Try again", icon: n }; case bs.sX.NOT_SUPPORTED: return { title: "This region is not supported", detail: "SMS authentication from this region is not available", ctaText: "Try another method", icon: n }; case bs.sX.TOO_MANY_REQUESTS: return { title: "Request failed", detail: "Too many attempts.", ctaText: "Try again later", icon: n }; default: return { title: "Something went wrong", detail: "Try again later", ctaText: "Try again", icon: n } } } })(e, i.allowlistConfig); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { backFn: t }), (0, y.jsxs)(IP, { children: [(0, y.jsx)(ep, { children: (0, y.jsxs)("div", { children: [(0, y.jsx)(bp, { color: "var(--privy-color-error)" }), o.icon] }) }), (0, y.jsxs)(TP, { children: [(0, y.jsx)("h3", { children: o.title }), (0, y.jsx)("p", { children: o.detail })] }), (0, y.jsx)(Sf, { color: "var(--privy-color-error)", onClick: () => { e instanceof bs.Bi && (e.privyErrorCode === bs.sX.INVALID_CAPTCHA && r(), e.privyErrorCode === bs.sX.ALLOWLIST_REJECTED && i.allowlistConfig.errorCtaLink) ? window.location.href = i.allowlistConfig.errorCtaLink : n?.() }, children: o.ctaText })] })] }) }; let IP = oh.div.withConfig({ displayName: "ConnectContainer", componentId: "sc-1d84a574-0" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;padding-bottom:16px;"]), TP = oh.div.withConfig({ displayName: "GappedContainer", componentId: "sc-1d84a574-1" })(["display:flex;flex-direction:column;gap:8px;"]); const NP = ({ style: e, color: t, ...n }) => (0, y.jsx)("svg", { xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: "1.5", stroke: t || "currentColor", style: { height: "1.5rem", width: "1.5rem", ...e }, ...n, children: (0, y.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M4.5 12.75l6 6 9-13.5" }) }), PP = ({ color: e, ...t }) => (0, y.jsx)("svg", { version: "1.1", id: "Layer_1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", viewBox: "0 0 115.77 122.88", xmlSpace: "preserve", ...t, children: (0, y.jsx)("g", { children: (0, y.jsx)("path", { fill: e || "currentColor", className: "st0", d: "M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z" }) }) }), MP = e => { let [t, n] = (0, Ke.useState)(!1); return (0, y.jsxs)(OP, { color: e.color, onClick: () => { n(!0), navigator.clipboard.writeText(e.text), setTimeout((() => n(!1)), 1500) }, justCopied: t, children: [t ? (0, y.jsx)(NP, { style: { height: "14px", width: "14px" }, strokeWidth: "2" }) : (0, y.jsx)(PP, { style: { height: "14px", width: "14px" } }), t ? "Copied" : "Copy", " ", e.itemName ? e.itemName : "to Clipboard"] }) }; let OP = oh.button.withConfig({ displayName: "StyledCopytoClipboardButton", componentId: "sc-9c2ee64b-0" })(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:", ";font-weight:", ";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:", ";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"], (e => e.justCopied ? "var(--privy-color-foreground)" : e.color || "var(--privy-color-foreground-3)"), (e => e.justCopied ? "medium" : "normal"), (e => e.justCopied ? "var(--privy-color-foreground)" : "var(--privy-color-foreground-2)")); const RP = e => { let [t, n] = (0, Ke.useState)(!1); return (0, y.jsx)(jP, { color: e.color, href: e.url, target: "_blank", rel: "noreferrer noopener", onClick: () => { n(!0), setTimeout((() => n(!1)), 1500) }, justOpened: t, children: e.text }) }; let jP = oh.a.withConfig({ displayName: "StyledOpenLinkButton", componentId: "sc-4e695c83-0" })(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:", ";font-weight:", ";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:", ";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"], (e => e.justOpened ? "var(--privy-color-foreground)" : e.color || "var(--privy-color-foreground-3)"), (e => e.justOpened ? "medium" : "normal"), (e => e.justOpened ? "var(--privy-color-foreground)" : "var(--privy-color-foreground-2)")); var $P = n(92592); const LP = () => (0, y.jsx)("svg", { width: "200", height: "200", viewBox: "-77 -77 200 200", fill: "none", xmlns: "http://www.w3.org/2000/svg", style: { height: "28px", width: "28px" }, children: (0, y.jsx)("rect", { width: "50", height: "50", fill: "black", rx: 10, ry: 10 }) }); let DP = (e, t, n, r, i) => { for (let o = t; o < t + r; o++)for (let t = n; t < n + i; t++) { let n = e?.[t]; n && n[o] && (n[o] = 0) } return e }, UP = ({ x: e, y: t, cellSize: n, bgColor: r, fgColor: i }) => (0, y.jsx)(y.Fragment, { children: [0, 1, 2].map((o => (0, y.jsx)("circle", { r: n * (7 - 2 * o) / 2, cx: e + 7 * n / 2, cy: t + 7 * n / 2, fill: o % 2 != 0 ? r : i }, `finder-${e}-${t}-${o}`))) }), FP = ({ cellSize: e, matrixSize: t, bgColor: n, fgColor: r }) => (0, y.jsx)(y.Fragment, { children: [[0, 0], [(t - 7) * e, 0], [0, (t - 7) * e]].map((([t, i]) => (0, y.jsx)(UP, { x: t, y: i, cellSize: e, bgColor: n, fgColor: r }, `finder-${t}-${i}`))) }), BP = ({ matrix: e, cellSize: t, color: n }) => (0, y.jsx)(y.Fragment, { children: e.map(((e, r) => e.map(((e, i) => e ? (0, y.jsx)("rect", { height: t - .4, width: t - .4, x: r * t + .1 * t, y: i * t + .1 * t, rx: .5 * t, ry: .5 * t, fill: n }, `cell-${r}-${i}`) : (0, y.jsx)(Ke.Fragment, {}, `circle-${r}-${i}`))))) }), WP = ({ cellSize: e, matrixSize: t, element: n, sizePercentage: r, bgColor: i }) => { if (!n) return (0, y.jsx)(y.Fragment, {}); let o = t * (r || .14), s = Math.floor(t / 2 - o / 2), a = Math.floor(t / 2 + o / 2); (a - s) % 2 != t % 2 && (a += 1); let c = (a - s) * e, l = c - .2 * c, u = s * e; return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)("rect", { x: s * e, y: s * e, width: c, height: c, fill: i }), (0, y.jsx)(n, { x: u + .1 * c, y: u + .1 * c, height: l, width: l })] }) }, zP = e => { let t = e.outputSize, n = ((e, t) => { let n = $P.create(e, { errorCorrectionLevel: t }).modules, r = ((e, t) => { let n = e.slice(0), r = []; for (; n.length;)r.push(n.splice(0, t)); return r })(Array.from(n.data), n.size); return r = DP(r, 0, 0, 7, 7), r = DP(r, r.length - 7, 0, 7, 7), DP(r, 0, r.length - 7, 7, 7) })(e.url, e.errorCorrectionLevel), r = t / n.length, i = function (e, { min: t, max: n }) { return Math.min(Math.max(e, t), n) }(2 * r, { min: .025 * t, max: .036 * t }); return (0, y.jsxs)("svg", { height: e.outputSize, width: e.outputSize, viewBox: `0 0 ${e.outputSize} ${e.outputSize}`, style: { height: "100%", width: "100%", padding: `${i}px` }, children: [(0, y.jsx)(BP, { matrix: n, cellSize: r, color: e.fgColor }), (0, y.jsx)(FP, { cellSize: r, matrixSize: n.length, fgColor: e.fgColor, bgColor: e.bgColor }), (0, y.jsx)(WP, { cellSize: r, element: e.logo?.element, bgColor: e.bgColor, matrixSize: n.length })] }) }, qP = oh.div.withConfig({ displayName: "QrContainer", componentId: "sc-aa6883ae-0" })(["display:flex;justify-content:center;align-items:center;height:", ";width:", ";margin:auto;background-color:", ";&&{border-width:2px;border-color:", ";border-radius:var(--privy-border-radius-md);}"], (e => `${e.$size}px`), (e => `${e.$size}px`), (e => e.$bgColor), (e => e.$borderColor)); const HP = e => { let { appearance: t } = sf(), n = e.bgColor || "#FFFFFF", r = e.fgColor || "#000000", i = e.size || 160, o = "dark" === t.palette.colorScheme ? n : r; return (0, y.jsx)(qP, { $size: i, $bgColor: n, $fgColor: r, $borderColor: o, children: (0, y.jsx)(zP, { url: e.url, logo: { element: e.squareLogoElement ?? LP }, outputSize: i, bgColor: n, fgColor: r, errorCorrectionLevel: e.errorCorrectionLevel || "Q" }) }) }, GP = ({ style: e, ...t }) => (0, y.jsxs)("svg", { width: "1000", height: "1000", viewBox: "0 0 1000 1000", fill: "none", xmlns: "http://www.w3.org/2000/svg", style: { height: "24px", ...e }, ...t, children: [(0, y.jsx)("rect", { width: "1000", height: "1000", rx: "200", fill: "#855DCD" }), (0, y.jsx)("path", { d: "M257.778 155.556H742.222V844.444H671.111V528.889H670.414C662.554 441.677 589.258 373.333 500 373.333C410.742 373.333 337.446 441.677 329.586 528.889H328.889V844.444H257.778V155.556Z", fill: "white" }), (0, y.jsx)("path", { d: "M128.889 253.333L157.778 351.111H182.222V746.667C169.949 746.667 160 756.616 160 768.889V795.556H155.556C143.283 795.556 133.333 805.505 133.333 817.778V844.444H382.222V817.778C382.222 805.505 372.273 795.556 360 795.556H355.556V768.889C355.556 756.616 345.606 746.667 333.333 746.667H306.667V253.333H128.889Z", fill: "white" }), (0, y.jsx)("path", { d: "M675.556 746.667C663.283 746.667 653.333 756.616 653.333 768.889V795.556H648.889C636.616 795.556 626.667 805.505 626.667 817.778V844.444H875.556V817.778C875.556 805.505 865.606 795.556 853.333 795.556H848.889V768.889C848.889 756.616 838.94 746.667 826.667 746.667V351.111H851.111L880 253.333H702.222V746.667H675.556Z", fill: "white" })] }); let VP = "#8a63d2"; let KP = oh.div.withConfig({ displayName: "ConnectContainer", componentId: "sc-5a361367-0" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:27px;margin-right:27px;gap:24px;"]), YP = oh.div.withConfig({ displayName: "ConnectContainerButton", componentId: "sc-5a361367-1" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]), ZP = "#8a63d2"; let XP = oh.div.withConfig({ displayName: "ConnectContainer", componentId: "sc-6e2c96cd-0" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:27px;margin-right:27px;gap:24px;"]), JP = oh.div.withConfig({ displayName: "ConnectContainerButton", componentId: "sc-6e2c96cd-1" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]); var QP = n(79524); var eM = n(30286), tM = n(96128); var nM = n(45141); var rM = n(99238), iM = n(14503), oM = n(8998); var sM = n(33840), aM = n(74688), cM = n(93714), lM = n(35721); var uM = n(57412), dM = n(26087); class hM extends Xt.G { constructor({ domain: e }) { super(`Invalid domain "${(0, en.P)(e)}".`, { metaMessages: ["Must be a valid EIP-712 domain."] }) } } class fM extends Xt.G { constructor({ primaryType: e, types: t }) { super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`, { docsPath: "/api/glossary/Errors#typeddatainvalidprimarytypeerror", metaMessages: ["Check that the primary type is a key in `types`."] }) } } class pM extends Xt.G { constructor({ type: e }) { super(`Struct type "${e}" is invalid.`, { metaMessages: ["Struct type must not be a Solidity type."], name: "InvalidStructTypeError" }) } } var mM = n(49321), gM = n(39135), yM = n(24409); function bM(e) { const { domain: t, message: n, primaryType: r, types: i } = e, o = (e, t) => { for (const n of e) { const { name: e, type: r } = n, s = t[e], a = r.match(yM.lh); if (a && ("number" === typeof s || "bigint" === typeof s)) { const [e, t, n] = a; (0, Mt.eC)(s, { signed: "int" === t, size: Number.parseInt(n) / 8 }) } if ("address" === r && "string" === typeof s && !(0, mM.U)(s)) throw new dM.b({ address: s }); const c = r.match(yM.eL); if (c) { const [e, t] = c; if (t && (0, gM.d)(s) !== Number.parseInt(t)) throw new uM.KY({ expectedSize: Number.parseInt(t), givenSize: (0, gM.d)(s) }) } const l = i[r]; l && (wM(r), o(l, s)) } }; if (i.EIP712Domain && t) { if ("object" !== typeof t) throw new hM({ domain: t }); o(i.EIP712Domain, t) } if ("EIP712Domain" !== r) { if (!i[r]) throw new fM({ primaryType: r, types: i }); o(i[r], n) } } function vM({ domain: e }) { return ["string" === typeof e?.name && { name: "name", type: "string" }, e?.version && { name: "version", type: "string" }, "number" === typeof e?.chainId && { name: "chainId", type: "uint256" }, e?.verifyingContract && { name: "verifyingContract", type: "address" }, e?.salt && { name: "salt", type: "bytes32" }].filter(Boolean) } function wM(e) { if ("address" === e || "bool" === e || "string" === e || e.startsWith("bytes") || e.startsWith("uint") || e.startsWith("int")) throw new pM({ type: e }) } async function EM(e, t) { const { account: n = e.account, domain: r, message: i, primaryType: o } = t; if (!n) throw new oM.o({ docsPath: "/docs/actions/wallet/signTypedData" }); const s = (0, iM.T)(n), a = { EIP712Domain: vM({ domain: r }), ...t.types }; if (bM({ domain: r, message: i, primaryType: o, types: a }), s.signTypedData) return s.signTypedData({ domain: r, message: i, primaryType: o, types: a }); const c = function (e) { const { domain: t, message: n, primaryType: r, types: i } = e, o = (e, t) => { const n = { ...t }; for (const r of e) { const { name: e, type: t } = r; "address" === t && (n[e] = n[e].toLowerCase()) } return n }, s = i.EIP712Domain && t ? o(i.EIP712Domain, t) : {}, a = (() => { if ("EIP712Domain" !== r) return o(i[r], n) })(); return (0, en.P)({ domain: s, message: a, primaryType: r, types: i }) }({ domain: r, message: i, primaryType: o, types: a }); return e.request({ method: "eth_signTypedData_v4", params: [s.address, c] }, { retryCount: 0 }) } var xM = n(61877); function _M(e) { return { addChain: t => async function (e, { chain: t }) { const { id: n, name: r, nativeCurrency: i, rpcUrls: o, blockExplorers: s } = t; await e.request({ method: "wallet_addEthereumChain", params: [{ chainId: (0, Mt.eC)(n), chainName: r, nativeCurrency: i, rpcUrls: o.default.http, blockExplorerUrls: s ? Object.values(s).map((({ url: e }) => e)) : void 0 }] }, { dedupe: !0, retryCount: 0 }) }(e, t), deployContract: t => function (e, t) { const { abi: n, args: r, bytecode: i, ...o } = t, s = (0, eM.w)({ abi: n, args: r, bytecode: i }); return (0, tM.T)(e, { ...o, data: s }) }(e, t), getAddresses: () => async function (e) { return "local" === e.account?.type ? [e.account.address] : (await e.request({ method: "eth_accounts" }, { dedupe: !0 })).map((e => (0, It.x)(e))) }(e), getChainId: () => (0, QP.L)(e), getPermissions: () => async function (e) { return await e.request({ method: "wallet_getPermissions" }, { dedupe: !0 }) }(e), prepareTransactionRequest: t => (0, nM.Z)(e, t), requestAddresses: () => async function (e) { return (await e.request({ method: "eth_requestAccounts" }, { dedupe: !0, retryCount: 0 })).map((e => (0, It.K)(e))) }(e), requestPermissions: t => async function (e, t) { return e.request({ method: "wallet_requestPermissions", params: [t] }, { retryCount: 0 }) }(e, t), sendRawTransaction: t => (0, rM.p)(e, t), sendTransaction: t => (0, tM.T)(e, t), signMessage: t => async function (e, { account: t = e.account, message: n }) { if (!t) throw new oM.o({ docsPath: "/docs/actions/wallet/signMessage" }); const r = (0, iM.T)(t); if (r.signMessage) return r.signMessage({ message: n }); const i = "string" === typeof n ? (0, Mt.$G)(n) : n.raw instanceof Uint8Array ? (0, Mt.NC)(n.raw) : n.raw; return e.request({ method: "personal_sign", params: [i, r.address] }, { retryCount: 0 }) }(e, t), signTransaction: t => async function (e, t) { const { account: n = e.account, chain: r = e.chain, ...i } = t; if (!n) throw new oM.o({ docsPath: "/docs/actions/wallet/signTransaction" }); const o = (0, iM.T)(n); (0, lM.F)({ account: o, ...t }); const s = await (0, cM.s)(e, QP.L, "getChainId")({}); null !== r && (0, sM.q)({ currentChainId: s, chain: r }); const a = (r?.formatters || e.chain?.formatters)?.transactionRequest?.format || aM.tG; return o.signTransaction ? o.signTransaction({ ...i, chainId: s }, { serializer: e.chain?.serializers?.transaction }) : await e.request({ method: "eth_signTransaction", params: [{ ...a(i), chainId: (0, Mt.eC)(s), from: o.address }] }, { retryCount: 0 }) }(e, t), signTypedData: t => EM(e, t), switchChain: t => async function (e, { id: t }) { await e.request({ method: "wallet_switchEthereumChain", params: [{ chainId: (0, Mt.eC)(t) }] }, { retryCount: 0 }) }(e, t), watchAsset: t => async function (e, t) { return await e.request({ method: "wallet_watchAsset", params: t }, { retryCount: 0 }) }(e, t), writeContract: t => (0, xM.n)(e, t) } } function CM(e) { const { key: t = "wallet", name: n = "Wallet Client", transport: r } = e; return (0, Et.e)({ ...e, key: t, name: n, transport: r, type: "walletClient" }).extend(_M) } var AM = n(3980), SM = n(16693), kM = n(7210), IM = n(55629), TM = n(47864), NM = n(61836), PM = n(21746), MM = n(97405); function OM(e, t) { if (!(e instanceof Xt.G)) return !1; const n = e.walk((e => e instanceof MM.Lu)); return n instanceof MM.Lu && ("ResolverNotFound" === n.data?.errorName || ("ResolverWildcardNotSupported" === n.data?.errorName || ("ResolverNotContract" === n.data?.errorName || ("ResolverError" === n.data?.errorName || ("HttpError" === n.data?.errorName || (!!n.reason?.includes("Wildcard on non-extended resolvers is not supported") || "reverse" === t && n.reason === PM.$[50])))))) } var RM = n(57040), jM = n(11187), $M = n(49550); function LM(e) { if (66 !== e.length) return null; if (0 !== e.indexOf("[")) return null; if (65 !== e.indexOf("]")) return null; const t = `0x${e.slice(1, 65)}`; return (0, Ug.v)(t) ? t : null } function DM(e) { let t = new Uint8Array(32).fill(0); if (!e) return (0, Mt.ci)(t); const n = e.split("."); for (let r = n.length - 1; r >= 0; r -= 1) { const e = LM(n[r]), i = e ? (0, jM.O0)(e) : (0, $M.w)((0, jM.qX)(n[r]), "bytes"); t = (0, $M.w)((0, RM.zo)([t, i]), "bytes") } return (0, Mt.ci)(t) } function UM(e) { return `[${e.slice(2)}]` } function FM(e) { const t = new Uint8Array(32).fill(0); return e ? LM(e) || (0, $M.w)((0, jM.qX)(e)) : (0, Mt.ci)(t) } function BM(e) { const t = e.replace(/^\.|\.$/gm, ""); if (0 === t.length) return new Uint8Array(1); const n = new Uint8Array((0, jM.qX)(t).byteLength + 2); let r = 0; const i = t.split("."); for (let o = 0; o < i.length; o++) { let e = (0, jM.qX)(i[o]); e.byteLength > 255 && (e = (0, jM.qX)(UM(FM(i[o])))), n[r] = e.length, n.set(e, r + 1), r += e.length + 1 } return n.byteLength !== r + 1 ? n.slice(0, r + 1) : n } var WM = n(88819); class zM extends Xt.G { constructor({ data: e }) { super("Unable to extract image from metadata. The metadata may be malformed or invalid.", { metaMessages: ["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.", "", `Provided data: ${JSON.stringify(e)}`], name: "EnsAvatarInvalidMetadataError" }) } } class qM extends Xt.G { constructor({ reason: e }) { super(`ENS NFT avatar URI is invalid. ${e}`, { name: "EnsAvatarInvalidNftUriError" }) } } class HM extends Xt.G { constructor({ uri: e }) { super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`, { name: "EnsAvatarUriResolutionError" }) } } class GM extends Xt.G { constructor({ namespace: e }) { super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`, { name: "EnsAvatarUnsupportedNamespaceError" }) } } const VM = /(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/, KM = /^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/, YM = /^data:([a-zA-Z\-/+]*);base64,([^"].*)/, ZM = /^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/; function XM(e, t) { return e ? e.endsWith("/") ? e.slice(0, -1) : e : t } function JM({ uri: e, gatewayUrls: t }) { const n = YM.test(e); if (n) return { uri: e, isOnChain: !0, isEncoded: n }; const r = XM(t?.ipfs, "https://ipfs.io"), i = XM(t?.arweave, "https://arweave.net"), o = e.match(VM), { protocol: s, subpath: a, target: c, subtarget: l = "" } = o?.groups || {}, u = "ipns:/" === s || "ipns/" === a, d = "ipfs:/" === s || "ipfs/" === a || KM.test(e); if (e.startsWith("http") && !u && !d) { let n = e; return t?.arweave && (n = e.replace(/https:\/\/arweave.net/g, t?.arweave)), { uri: n, isOnChain: !1, isEncoded: !1 } } if ((u || d) && c) return { uri: `${r}/${u ? "ipns" : "ipfs"}/${c}${l}`, isOnChain: !1, isEncoded: !1 }; if ("ar:/" === s && c) return { uri: `${i}/${c}${l || ""}`, isOnChain: !1, isEncoded: !1 }; let h = e.replace(ZM, ""); if (h.startsWith("<svg") && (h = `data:image/svg+xml;base64,${btoa(h)}`), h.startsWith("data:") || h.startsWith("{")) return { uri: h, isOnChain: !0, isEncoded: !1 }; throw new HM({ uri: e }) } function QM(e) { if ("object" !== typeof e || !("image" in e) && !("image_url" in e) && !("image_data" in e)) throw new zM({ data: e }); return e.image || e.image_url || e.image_data } async function eO({ gatewayUrls: e, uri: t }) { const { uri: n, isOnChain: r } = JM({ uri: t, gatewayUrls: e }); if (r) return n; if (await async function (e) { try { const t = await fetch(e, { method: "HEAD" }); return 200 === t.status && t.headers.get("content-type")?.startsWith("image/") } catch (t) { return ("object" !== typeof t || "undefined" === typeof t.response) && !!globalThis.hasOwnProperty("Image") && new Promise((t => { const n = new Image; n.onload = () => { t(!0) }, n.onerror = () => { t(!1) }, n.src = e })) } }(n)) return n; throw new HM({ uri: t }) } async function tO(e, { gatewayUrls: t, record: n }) { return /eip155:/i.test(n) ? async function (e, { gatewayUrls: t, record: n }) { const r = function (e) { let t = e; t.startsWith("did:nft:") && (t = t.replace("did:nft:", "").replace(/_/g, "/")); const [n, r, i] = t.split("/"), [o, s] = n.split(":"), [a, c] = r.split(":"); if (!o || "eip155" !== o.toLowerCase()) throw new qM({ reason: "Only EIP-155 supported" }); if (!s) throw new qM({ reason: "Chain ID not found" }); if (!c) throw new qM({ reason: "Contract address not found" }); if (!i) throw new qM({ reason: "Token ID not found" }); if (!a) throw new qM({ reason: "ERC namespace not found" }); return { chainID: Number.parseInt(s), namespace: a.toLowerCase(), contractAddress: c, tokenID: i } }(n), i = await async function (e, { nft: t }) { if ("erc721" === t.namespace) return (0, WM.L)(e, { address: t.contractAddress, abi: [{ name: "tokenURI", type: "function", stateMutability: "view", inputs: [{ name: "tokenId", type: "uint256" }], outputs: [{ name: "", type: "string" }] }], functionName: "tokenURI", args: [BigInt(t.tokenID)] }); if ("erc1155" === t.namespace) return (0, WM.L)(e, { address: t.contractAddress, abi: [{ name: "uri", type: "function", stateMutability: "view", inputs: [{ name: "_id", type: "uint256" }], outputs: [{ name: "", type: "string" }] }], functionName: "uri", args: [BigInt(t.tokenID)] }); throw new GM({ namespace: t.namespace }) }(e, { nft: r }), { uri: o, isOnChain: s, isEncoded: a } = JM({ uri: i, gatewayUrls: t }); if (s && (o.includes("data:application/json;base64,") || o.startsWith("{"))) { const e = a ? atob(o.replace("data:application/json;base64,", "")) : o; return eO({ uri: QM(JSON.parse(e)), gatewayUrls: t }) } let c = r.tokenID; "erc1155" === r.namespace && (c = c.replace("0x", "").padStart(64, "0")); return async function ({ gatewayUrls: e, uri: t }) { try { const n = await fetch(t).then((e => e.json())); return await eO({ gatewayUrls: e, uri: QM(n) }) } catch { throw new HM({ uri: t }) } }({ gatewayUrls: t, uri: o.replace(/(?:0x)?{id}/, c) }) }(e, { gatewayUrls: t, record: n }) : eO({ uri: n, gatewayUrls: t }) } async function nO(e, { blockNumber: t, blockTag: n, name: r, key: i, gatewayUrls: o, strict: s, universalResolverAddress: a }) { let c = a; if (!c) { if (!e.chain) throw new Error("client chain not configured. universalResolverAddress is required."); c = (0, TM.L)({ blockNumber: t, chain: e.chain, contract: "ensUniversalResolver" }) } try { const s = { address: c, abi: SM.k3, functionName: "resolve", args: [(0, Mt.NC)(BM(r)), (0, IM.R)({ abi: SM.nZ, functionName: "text", args: [DM(r), i] })], blockNumber: t, blockTag: n }, a = (0, cM.s)(e, WM.L, "readContract"), l = o ? await a({ ...s, args: [...s.args, o] }) : await a(s); if ("0x" === l[0]) return null; const u = (0, kM.k)({ abi: SM.nZ, functionName: "text", data: l[0] }); return "" === u ? null : u } catch (l) { if (s) throw l; if (OM(l, "resolve")) return null; throw l } } var rO = n(43558); function iO(e, { method: t }) { const n = {}; return "fallback" === e.transport.type && e.transport.onResponse?.((({ method: e, response: r, status: i, transport: o }) => { "success" === i && t === e && (n[r] = o.request) })), t => n[t] || e.request } class oO extends Xt.G { constructor(e) { super(`Filter type "${e}" is not supported.`, { name: "FilterTypeNotSupportedError" }) } } var sO = n(96005), aO = n(45444), cO = n(80522), lO = n(40840); const uO = "/docs/contract/encodeEventTopics"; function dO(e) { const { abi: t, eventName: n, args: r } = e; let i = t[0]; if (n) { const e = (0, lO.mE)({ abi: t, name: n }); if (!e) throw new uM.mv(n, { docsPath: uO }); i = e } if ("event" !== i.type) throw new uM.mv(void 0, { docsPath: uO }); const o = (0, cO.t)(i), s = (0, sO.n)(o); let a = []; if (r && "inputs" in i) { const e = i.inputs?.filter((e => "indexed" in e && e.indexed)), t = Array.isArray(r) ? r : Object.values(r).length > 0 ? e?.map((e => r[e.name])) ?? [] : []; t.length > 0 && (a = e?.map(((e, n) => Array.isArray(t[n]) ? t[n].map(((r, i) => hO({ param: e, value: t[n][i] }))) : t[n] ? hO({ param: e, value: t[n] }) : null)) ?? []) } return [s, ...a] } function hO({ param: e, value: t }) { if ("string" === e.type || "bytes" === e.type) return (0, $M.w)((0, jM.O0)(t)); if ("tuple" === e.type || e.type.match(/^(.*)\[(\d+)?\]$/)) throw new oO(e.type); return (0, aO.E)([e], [t]) } async function fO(e, t) { const { address: n, abi: r, args: i, eventName: o, fromBlock: s, strict: a, toBlock: c } = t, l = iO(e, { method: "eth_newFilter" }), u = o ? dO({ abi: r, args: i, eventName: o }) : void 0, d = await e.request({ method: "eth_newFilter", params: [{ address: n, fromBlock: "bigint" === typeof s ? (0, Mt.eC)(s) : s, toBlock: "bigint" === typeof c ? (0, Mt.eC)(c) : c, topics: u }] }); return { abi: r, args: i, eventName: o, id: d, request: l(d), strict: Boolean(a), type: "event" } } async function pO(e, { address: t, args: n, event: r, events: i, fromBlock: o, strict: s, toBlock: a } = {}) { const c = i ?? (r ? [r] : void 0), l = iO(e, { method: "eth_newFilter" }); let u = []; if (c) { u = [c.flatMap((e => dO({ abi: [e], eventName: e.name, args: n })))], r && (u = u[0]) } const d = await e.request({ method: "eth_newFilter", params: [{ address: t, fromBlock: "bigint" === typeof o ? (0, Mt.eC)(o) : o, toBlock: "bigint" === typeof a ? (0, Mt.eC)(a) : a, ...u.length ? { topics: u } : {} }] }); return { abi: c, args: n, eventName: r ? r.name : void 0, fromBlock: o, id: d, request: l(d), strict: Boolean(s), toBlock: a, type: "event" } } async function mO(e) { const t = iO(e, { method: "eth_newPendingTransactionFilter" }), n = await e.request({ method: "eth_newPendingTransactionFilter" }); return { id: n, request: t(n), type: "transaction" } } var gO = n(72365), yO = n(81841); var bO = n(43861), vO = n(79379), wO = n(88930); var EO = n(68240); const xO = new Map, _O = new Map; async function CO(e, { cacheKey: t, cacheTime: n = Number.POSITIVE_INFINITY }) { const r = function (e) { const t = (e, t) => ({ clear: () => t.delete(e), get: () => t.get(e), set: n => t.set(e, n) }), n = t(e, xO), r = t(e, _O); return { clear: () => { n.clear(), r.clear() }, promise: n, response: r } }(t), i = r.response.get(); if (i && n > 0) { if ((new Date).getTime() - i.created.getTime() < n) return i.data } let o = r.promise.get(); o || (o = e(), r.promise.set(o)); try { const e = await o; return r.response.set({ created: new Date, data: e }), e } finally { r.promise.clear() } } const AO = e => `blockNumber.${e}`; async function SO(e, { cacheTime: t = e.cacheTime } = {}) { const n = await CO((() => e.request({ method: "eth_blockNumber" })), { cacheKey: AO(e.uid), cacheTime: t }); return BigInt(n) } var kO = n(95946); async function IO(e, { address: t, blockNumber: n, blockTag: r = "latest" }) { const i = void 0 !== n ? (0, Mt.eC)(n) : void 0, o = await e.request({ method: "eth_getCode", params: [t, i || r] }, { dedupe: Boolean(i) }); if ("0x" !== o) return o } var TO = n(61228), NO = n(66238), PO = n(78398); const MO = "/docs/contract/decodeEventLog"; function OO(e) { const { abi: t, data: n, strict: r, topics: i } = e, o = r ?? !0, [s, ...a] = i; if (!s) throw new uM.FM({ docsPath: MO }); const c = 1 === t.length ? t[0] : t.find((e => "event" === e.type && s === (0, sO.n)((0, cO.t)(e)))); if (!c || !("name" in c) || "event" !== c.type) throw new uM.lC(s, { docsPath: MO }); const { name: l, inputs: u } = c, d = u?.some((e => !("name" in e && e.name))); let h = d ? [] : {}; const f = u.filter((e => "indexed" in e && e.indexed)); for (let g = 0; g < f.length; g++) { const e = f[g], t = a[g]; if (!t) throw new uM.Gy({ abiItem: c, param: e }); h[d ? g : e.name || g] = RO({ param: e, value: t }) } const p = u.filter((e => !("indexed" in e && e.indexed))); if (p.length > 0) if (n && "0x" !== n) try { const e = (0, PO.r)(p, n); if (e) if (d) h = [...h, ...e]; else for (let t = 0; t < p.length; t++)h[p[t].name] = e[t] } catch (m) { if (o) { if (m instanceof uM.xB || m instanceof NO.lQ) throw new uM.SM({ abiItem: c, data: n, params: p, size: (0, gM.d)(n) }); throw m } } else if (o) throw new uM.SM({ abiItem: c, data: "0x", params: p, size: 0 }); return { eventName: l, args: Object.values(h).length > 0 ? h : void 0 } } function RO({ param: e, value: t }) { if ("string" === e.type || "bytes" === e.type || "tuple" === e.type || e.type.match(/^(.*)\[(\d+)?\]$/)) return t; return ((0, PO.r)([e], t) || [])[0] } function jO(e) { const { abi: t, args: n, logs: r, strict: i = !0 } = e, o = (() => { if (e.eventName) return Array.isArray(e.eventName) ? e.eventName : [e.eventName] })(); return r.map((e => { try { const r = t.find((t => "event" === t.type && e.topics[0] === (0, sO.n)(t))); if (!r) return null; const s = OO({ ...e, abi: [r], strict: i }); return o && !o.includes(s.eventName) ? null : function (e) { const { args: t, inputs: n, matchArgs: r } = e; if (!r) return !0; if (!t) return !1; function i(e, t, n) { try { return "address" === e.type ? (0, TO.E)(t, n) : "string" === e.type || "bytes" === e.type ? (0, $M.w)((0, jM.O0)(t)) === n : t === n } catch { return !1 } } if (Array.isArray(t) && Array.isArray(r)) return r.every(((e, r) => { if (null === e || void 0 === e) return !0; const o = n[r]; if (!o) return !1; return (Array.isArray(e) ? e : [e]).some((e => i(o, e, t[r]))) })); return "object" === typeof t && !Array.isArray(t) && "object" === typeof r && !Array.isArray(r) && Object.entries(r).every((([e, r]) => { if (null === r || void 0 === r) return !0; const o = n.find((t => t.name === e)); if (!o) return !1; return (Array.isArray(r) ? r : [r]).some((n => i(o, n, t[e]))) })) }({ args: s.args, inputs: r.inputs, matchArgs: n }) ? { ...s, ...e } : null } catch (r) { let t, n; if (r instanceof uM.lC) return null; if (r instanceof uM.SM || r instanceof uM.Gy) { if (i) return null; t = r.abiItem.name, n = r.abiItem.inputs?.some((e => !("name" in e && e.name))) } return { ...e, args: n ? [] : {}, eventName: t } } })).filter(Boolean) } function $O(e, { args: t, eventName: n } = {}) { return { ...e, blockHash: e.blockHash ? e.blockHash : null, blockNumber: e.blockNumber ? BigInt(e.blockNumber) : null, logIndex: e.logIndex ? Number(e.logIndex) : null, transactionHash: e.transactionHash ? e.transactionHash : null, transactionIndex: e.transactionIndex ? Number(e.transactionIndex) : null, ...n ? { args: t, eventName: n } : {} } } async function LO(e, { address: t, blockHash: n, fromBlock: r, toBlock: i, event: o, events: s, args: a, strict: c } = {}) { const l = c ?? !1, u = s ?? (o ? [o] : void 0); let d, h = []; if (u) { h = [u.flatMap((e => dO({ abi: [e], eventName: e.name, args: s ? void 0 : a })))], o && (h = h[0]) } d = n ? await e.request({ method: "eth_getLogs", params: [{ address: t, topics: h, blockHash: n }] }) : await e.request({ method: "eth_getLogs", params: [{ address: t, topics: h, fromBlock: "bigint" === typeof r ? (0, Mt.eC)(r) : r, toBlock: "bigint" === typeof i ? (0, Mt.eC)(i) : i }] }); const f = d.map((e => $O(e))); return u ? jO({ abi: u, args: a, logs: f, strict: l }) : f } async function DO(e, t) { const { abi: n, address: r, args: i, blockHash: o, eventName: s, fromBlock: a, toBlock: c, strict: l } = t, u = s ? (0, lO.mE)({ abi: n, name: s }) : void 0, d = u ? void 0 : n.filter((e => "event" === e.type)); return (0, cM.s)(e, LO, "getLogs")({ address: r, args: i, blockHash: o, event: u, events: d, fromBlock: a, toBlock: c, strict: l }) } class UO extends Xt.G { constructor({ address: e }) { super(`No EIP-712 domain found on contract "${e}".`, { metaMessages: ["Ensure that:", `- The contract is deployed at the address "${e}".`, "- `eip712Domain()` function exists on the contract.", "- `eip712Domain()` function matches signature to ERC-5267 specification."], name: "Eip712DomainNotFoundError" }) } } const FO = [{ inputs: [], name: "eip712Domain", outputs: [{ name: "fields", type: "bytes1" }, { name: "name", type: "string" }, { name: "version", type: "string" }, { name: "chainId", type: "uint256" }, { name: "verifyingContract", type: "address" }, { name: "salt", type: "bytes32" }, { name: "extensions", type: "uint256[]" }], stateMutability: "view", type: "function" }]; async function BO(e, { blockCount: t, blockNumber: n, blockTag: r = "latest", rewardPercentiles: i }) { const o = n ? (0, Mt.eC)(n) : void 0; return function (e) { return { baseFeePerGas: e.baseFeePerGas.map((e => BigInt(e))), gasUsedRatio: e.gasUsedRatio, oldestBlock: BigInt(e.oldestBlock), reward: e.reward?.map((e => e.map((e => BigInt(e))))) } }(await e.request({ method: "eth_feeHistory", params: [(0, Mt.eC)(t), o || r, i] }, { dedupe: Boolean(o) })) } async function WO(e, { filter: t }) { const n = "strict" in t && t.strict, r = await t.request({ method: "eth_getFilterChanges", params: [t.id] }); if ("string" === typeof r[0]) return r; const i = r.map((e => $O(e))); return "abi" in t && t.abi ? jO({ abi: t.abi, logs: i, strict: n }) : i } var zO = n(24453); async function qO(e, { address: t, blockNumber: n, blockTag: r, storageKeys: i }) { const o = r ?? "latest", s = void 0 !== n ? (0, Mt.eC)(n) : void 0; return function (e) { return { ...e, balance: e.balance ? BigInt(e.balance) : void 0, nonce: e.nonce ? (0, kO.ly)(e.nonce) : void 0, storageProof: e.storageProof ? (t = e.storageProof, t.map((e => ({ ...e, value: BigInt(e.value) })))) : void 0 }; var t }(await e.request({ method: "eth_getProof", params: [t, i, s || o] })) } var HO = n(33639), GO = n(6073); async function VO(e, { blockHash: t, blockNumber: n, blockTag: r, hash: i, index: o }) { const s = r || "latest", a = void 0 !== n ? (0, Mt.eC)(n) : void 0; let c = null; if (i ? c = await e.request({ method: "eth_getTransactionByHash", params: [i] }, { dedupe: !0 }) : t ? c = await e.request({ method: "eth_getTransactionByBlockHashAndIndex", params: [t, (0, Mt.eC)(o)] }, { dedupe: !0 }) : (a || s) && (c = await e.request({ method: "eth_getTransactionByBlockNumberAndIndex", params: [a || s, (0, Mt.eC)(o)] }, { dedupe: Boolean(a) })), !c) throw new HO.Bh({ blockHash: t, blockNumber: n, blockTag: s, hash: i, index: o }); return (e.chain?.formatters?.transaction?.format || GO.Tr)(c) } var KO = n(86162); const YO = { "0x0": "reverted", "0x1": "success" }; function ZO(e) { const t = { ...e, blockNumber: e.blockNumber ? BigInt(e.blockNumber) : null, contractAddress: e.contractAddress ? e.contractAddress : null, cumulativeGasUsed: e.cumulativeGasUsed ? BigInt(e.cumulativeGasUsed) : null, effectiveGasPrice: e.effectiveGasPrice ? BigInt(e.effectiveGasPrice) : null, gasUsed: e.gasUsed ? BigInt(e.gasUsed) : null, logs: e.logs ? e.logs.map((e => $O(e))) : null, to: e.to ? e.to : null, transactionIndex: e.transactionIndex ? (0, kO.ly)(e.transactionIndex) : null, status: e.status ? YO[e.status] : null, type: e.type ? GO.c8[e.type] || e.type : null }; return e.blobGasPrice && (t.blobGasPrice = BigInt(e.blobGasPrice)), e.blobGasUsed && (t.blobGasUsed = BigInt(e.blobGasUsed)), t } async function XO(e, { hash: t }) { const n = await e.request({ method: "eth_getTransactionReceipt", params: [t] }, { dedupe: !0 }); if (!n) throw new HO.Yb({ hash: t }); return (e.chain?.formatters?.transactionReceipt?.format || ZO)(n) } async function JO(e, { filter: t }) { return t.request({ method: "eth_uninstallFilter", params: [t.id] }) } function QO(e, t) { return (0, $M.w)(function (e) { const t = "string" === typeof e ? (0, Mt.$G)(e) : "string" === typeof e.raw ? e.raw : (0, Mt.ci)(e.raw), n = (0, Mt.$G)(`\x19Ethereum Signed Message:\n${(0, gM.d)(t)}`); return (0, RM.zo)([n, t]) }(e), t) } var eR = n(18590); const tR = "0x6492649264926492649264926492649264926492649264926492649264926492"; var nR = n(3972); var rR = n(40112); var iR = n(84083); async function oR(e, t) { const { address: n, factory: r, factoryData: i, hash: o, signature: s, universalSignatureVerifierAddress: a = e.chain?.contracts?.universalSignatureVerifier?.address, ...c } = t, l = (0, Ug.v)(s) ? s : "object" === typeof s && "r" in s && "s" in s ? function ({ r: e, s: t, to: n = "hex", v: r, yParity: i }) { const o = (() => { if (0 === i || 1 === i) return i; if (r && (27n === r || 28n === r || r >= 35n)) return r % 2n === 0n ? 1 : 0; throw new Error("Invalid `v` or `yParity` value") })(), s = `0x${new iR.secp256k1.Signature((0, kO.y_)(e), (0, kO.y_)(t)).toCompactHex()}${0 === o ? "1b" : "1c"}`; return "hex" === n ? s : (0, jM.nr)(s) }(s) : (0, Mt.ci)(s), u = await (async () => r || i ? function (e) { return (0, nR.p5)(e, -32) === tR }(l) ? l : function (e) { const { address: t, data: n, signature: r, to: i = "hex" } = e, o = (0, RM.SM)([(0, aO.E)([{ type: "address" }, { type: "bytes" }, { type: "bytes" }], [t, n, r]), tR]); return "hex" === i ? o : (0, jM.nr)(o) }({ address: r, data: i, signature: l }) : l)(); try { const t = a ? { to: a, data: (0, IM.R)({ abi: SM.$o, functionName: "isValidSig", args: [n, o, u] }), ...c } : { data: (0, eM.w)({ abi: SM.$o, args: [n, o, u], bytecode: eR.ST }), ...c }, { data: r } = await (0, cM.s)(e, rO.R, "call")(t); return (0, kO.XA)(r ?? "0x0") } catch (d) { try { if ((0, TO.E)((0, It.K)(n), await (0, rR.R)({ hash: o, signature: s }))) return !0 } catch { } if (d instanceof MM.cg) return !1; throw d } } function sR(e) { const { domain: t = {}, message: n, primaryType: r } = e, i = { EIP712Domain: vM({ domain: t }), ...e.types }; bM({ domain: t, message: n, primaryType: r, types: i }); const o = ["0x1901"]; return t && o.push(function ({ domain: e, types: t }) { return aR({ data: e, primaryType: "EIP712Domain", types: t }) }({ domain: t, types: i })), "EIP712Domain" !== r && o.push(aR({ data: n, primaryType: r, types: i })), (0, $M.w)((0, RM.zo)(o)) } function aR({ data: e, primaryType: t, types: n }) { const r = cR({ data: e, primaryType: t, types: n }); return (0, $M.w)(r) } function cR({ data: e, primaryType: t, types: n }) { const r = [{ type: "bytes32" }], i = [lR({ primaryType: t, types: n })]; for (const o of n[t]) { const [t, s] = dR({ types: n, name: o.name, type: o.type, value: e[o.name] }); r.push(t), i.push(s) } return (0, aO.E)(r, i) } function lR({ primaryType: e, types: t }) { const n = (0, Mt.NC)(function ({ primaryType: e, types: t }) { let n = ""; const r = uR({ primaryType: e, types: t }); r.delete(e); const i = [e, ...Array.from(r).sort()]; for (const o of i) n += `${o}(${t[o].map((({ name: e, type: t }) => `${t} ${e}`)).join(",")})`; return n }({ primaryType: e, types: t })); return (0, $M.w)(n) } function uR({ primaryType: e, types: t }, n = new Set) { const r = e.match(/^\w*/u)?.[0]; if (n.has(r) || void 0 === t[r]) return n; n.add(r); for (const i of t[r]) uR({ primaryType: i.type, types: t }, n); return n } function dR({ types: e, name: t, type: n, value: r }) { if (void 0 !== e[n]) return [{ type: "bytes32" }, (0, $M.w)(cR({ data: r, primaryType: n, types: e }))]; if ("bytes" === n) { return r = `0x${(r.length % 2 ? "0" : "") + r.slice(2)}`, [{ type: "bytes32" }, (0, $M.w)(r)] } if ("string" === n) return [{ type: "bytes32" }, (0, $M.w)((0, Mt.NC)(r))]; if (n.lastIndexOf("]") === n.length - 1) { const i = n.slice(0, n.lastIndexOf("[")), o = r.map((n => dR({ name: t, type: i, types: e, value: n }))); return [{ type: "bytes32" }, (0, $M.w)((0, aO.E)(o.map((([e]) => e)), o.map((([, e]) => e))))] } return [{ type: n }, r] } var hR = n(79814); const fR = new Map, pR = new Map; let mR = 0; function gR(e, t, n) { const r = ++mR, i = () => fR.get(e) || [], o = () => { const t = i(); if (!t.some((e => e.id === r))) return; const n = pR.get(e); 1 === t.length && n && n(), (() => { const t = i(); fR.set(e, t.filter((e => e.id !== r))) })() }, s = i(); if (fR.set(e, [...s, { id: r, fns: t }]), s && s.length > 0) return o; const a = {}; for (const l in t) a[l] = (...e) => { const t = i(); if (0 !== t.length) for (const n of t) n.fns[l]?.(...e) }; const c = n(a); return "function" === typeof c && pR.set(e, c), o } var yR = n(15116), bR = n(62914); function vR(e, { emitOnBegin: t, initialWaitTime: n, interval: r }) { let i = !0; const o = () => i = !1; return (async () => { let s; t && (s = await e({ unpoll: o })); const a = await (n?.(s)) ?? r; await (0, bR.D)(a); const c = async () => { i && (await e({ unpoll: o }), await (0, bR.D)(r), c()) }; c() })(), o } function wR(e, { emitOnBegin: t = !1, emitMissed: n = !1, onBlockNumber: r, onError: i, poll: o, pollingInterval: s = e.pollingInterval }) { let a; return ("undefined" !== typeof o ? o : "webSocket" !== e.transport.type && ("fallback" !== e.transport.type || "webSocket" !== e.transport.transports[0].config.type)) ? gR((0, en.P)(["watchBlockNumber", e.uid, t, n, s]), { onBlockNumber: r, onError: i }, (r => vR((async () => { try { const t = await (0, cM.s)(e, SO, "getBlockNumber")({ cacheTime: 0 }); if (a) { if (t === a) return; if (t - a > 1 && n) for (let e = a + 1n; e < t; e++)r.onBlockNumber(e, a), a = e } (!a || t > a) && (r.onBlockNumber(t, a), a = t) } catch (t) { r.onError?.(t) } }), { emitOnBegin: t, interval: s }))) : gR((0, en.P)(["watchBlockNumber", e.uid, t, n]), { onBlockNumber: r, onError: i }, (t => { let n = !0, r = () => n = !1; return (async () => { try { const i = (() => { if ("fallback" === e.transport.type) { const t = e.transport.transports.find((e => "webSocket" === e.config.type)); return t ? t.value : e.transport } return e.transport })(), { unsubscribe: o } = await i.subscribe({ params: ["newHeads"], onData(e) { if (!n) return; const r = (0, kO.y_)(e.result?.number); t.onBlockNumber(r, a), a = r }, onError(e) { t.onError?.(e) } }); r = o, n || r() } catch (o) { i?.(o) } })(), () => r() })) } const ER = /^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/, xR = /(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/; async function _R(e, t) { const { address: n, domain: r, message: i, nonce: o, scheme: s, signature: a, time: c = new Date, ...l } = t, u = function (e) { const { scheme: t, statement: n, ...r } = e.match(ER)?.groups ?? {}, { chainId: i, expirationTime: o, issuedAt: s, notBefore: a, requestId: c, ...l } = e.match(xR)?.groups ?? {}, u = e.split("Resources:")[1]?.split("\n- ").slice(1); return { ...r, ...l, ...i ? { chainId: Number(i) } : {}, ...o ? { expirationTime: new Date(o) } : {}, ...s ? { issuedAt: new Date(s) } : {}, ...a ? { notBefore: new Date(a) } : {}, ...c ? { requestId: c } : {}, ...u ? { resources: u } : {}, ...t ? { scheme: t } : {}, ...n ? { statement: n } : {} } }(i); if (!u.address) return !1; if (!function (e) { const { address: t, domain: n, message: r, nonce: i, scheme: o, time: s = new Date } = e; if (n && r.domain !== n) return !1; if (i && r.nonce !== i) return !1; if (o && r.scheme !== o) return !1; if (r.expirationTime && s >= r.expirationTime) return !1; if (r.notBefore && s < r.notBefore) return !1; try { if (!r.address) return !1; if (t && !(0, TO.E)(r.address, t)) return !1 } catch { return !1 } return !0 }({ address: n, domain: r, message: u, nonce: o, scheme: s, time: c })) return !1; const d = QO(i); return oR(e, { address: u.address, hash: d, signature: a, ...l }) } function CR(e) { return { call: t => (0, rO.R)(e, t), createBlockFilter: () => async function (e) { const t = iO(e, { method: "eth_newBlockFilter" }), n = await e.request({ method: "eth_newBlockFilter" }); return { id: n, request: t(n), type: "block" } }(e), createContractEventFilter: t => fO(e, t), createEventFilter: t => pO(e, t), createPendingTransactionFilter: () => mO(e), estimateContractGas: t => async function (e, t) { const { abi: n, address: r, args: i, functionName: o, dataSuffix: s, ...a } = t, c = (0, IM.R)({ abi: n, args: i, functionName: o }); try { return await (0, cM.s)(e, yO.Q, "estimateGas")({ data: `${c}${s ? s.replace("0x", "") : ""}`, to: r, ...a }) } catch (l) { const e = a.account ? (0, iM.T)(a.account) : void 0; throw (0, gO.S)(l, { abi: n, address: r, args: i, docsPath: "/docs/contract/estimateContractGas", functionName: o, sender: e?.address }) } }(e, t), estimateGas: t => (0, yO.Q)(e, t), getBalance: t => (0, wO.s)(e, t), getBlobBaseFee: () => async function (e) { const t = await e.request({ method: "eth_blobBaseFee" }); return BigInt(t) }(e), getBlock: t => (0, EO.Q)(e, t), getBlockNumber: t => SO(e, t), getBlockTransactionCount: t => async function (e, { blockHash: t, blockNumber: n, blockTag: r = "latest" } = {}) { const i = void 0 !== n ? (0, Mt.eC)(n) : void 0; let o; return o = t ? await e.request({ method: "eth_getBlockTransactionCountByHash", params: [t] }, { dedupe: !0 }) : await e.request({ method: "eth_getBlockTransactionCountByNumber", params: [i || r] }, { dedupe: Boolean(i) }), (0, kO.ly)(o) }(e, t), getBytecode: t => IO(e, t), getChainId: () => (0, QP.L)(e), getCode: t => IO(e, t), getContractEvents: t => DO(e, t), getEip712Domain: t => async function (e, t) { const { address: n, factory: r, factoryData: i } = t; try { const [t, o, s, a, c, l, u] = await (0, cM.s)(e, WM.L, "readContract")({ abi: FO, address: n, functionName: "eip712Domain", factory: r, factoryData: i }); return { domain: { name: o, version: s, chainId: Number(a), verifyingContract: c, salt: l }, extensions: u, fields: t } } catch (t0) { const t = t0; if ("ContractFunctionExecutionError" === t.name && "ContractFunctionZeroDataError" === t.cause.name) throw new UO({ address: n }); throw t } }(e, t), getEnsAddress: t => async function (e, { blockNumber: t, blockTag: n, coinType: r, name: i, gatewayUrls: o, strict: s, universalResolverAddress: a }) { let c = a; if (!c) { if (!e.chain) throw new Error("client chain not configured. universalResolverAddress is required."); c = (0, TM.L)({ blockNumber: t, chain: e.chain, contract: "ensUniversalResolver" }) } try { const s = (0, IM.R)({ abi: SM.X$, functionName: "addr", ...null != r ? { args: [DM(i), BigInt(r)] } : { args: [DM(i)] } }), a = { address: c, abi: SM.k3, functionName: "resolve", args: [(0, Mt.NC)(BM(i)), s], blockNumber: t, blockTag: n }, l = (0, cM.s)(e, WM.L, "readContract"), u = o ? await l({ ...a, args: [...a.args, o] }) : await l(a); if ("0x" === u[0]) return null; const d = (0, kM.k)({ abi: SM.X$, args: null != r ? [DM(i), BigInt(r)] : void 0, functionName: "addr", data: u[0] }); return "0x" === d || "0x00" === (0, NM.f)(d) ? null : d } catch (l) { if (s) throw l; if (OM(l, "resolve")) return null; throw l } }(e, t), getEnsAvatar: t => async function (e, { blockNumber: t, blockTag: n, assetGatewayUrls: r, name: i, gatewayUrls: o, strict: s, universalResolverAddress: a }) { const c = await (0, cM.s)(e, nO, "getEnsText")({ blockNumber: t, blockTag: n, key: "avatar", name: i, universalResolverAddress: a, gatewayUrls: o, strict: s }); if (!c) return null; try { return await tO(e, { record: c, gatewayUrls: r }) } catch { return null } }(e, t), getEnsName: t => async function (e, { address: t, blockNumber: n, blockTag: r, gatewayUrls: i, strict: o, universalResolverAddress: s }) { let a = s; if (!a) { if (!e.chain) throw new Error("client chain not configured. universalResolverAddress is required."); a = (0, TM.L)({ blockNumber: n, chain: e.chain, contract: "ensUniversalResolver" }) } const c = `${t.toLowerCase().substring(2)}.addr.reverse`; try { const o = { address: a, abi: SM.du, functionName: "reverse", args: [(0, Mt.NC)(BM(c))], blockNumber: n, blockTag: r }, s = (0, cM.s)(e, WM.L, "readContract"), [l, u] = i ? await s({ ...o, args: [...o.args, i] }) : await s(o); return t.toLowerCase() !== u.toLowerCase() ? null : l } catch (l) { if (o) throw l; if (OM(l, "reverse")) return null; throw l } }(e, t), getEnsResolver: t => async function (e, { blockNumber: t, blockTag: n, name: r, universalResolverAddress: i }) { let o = i; if (!o) { if (!e.chain) throw new Error("client chain not configured. universalResolverAddress is required."); o = (0, TM.L)({ blockNumber: t, chain: e.chain, contract: "ensUniversalResolver" }) } const [s] = await (0, cM.s)(e, WM.L, "readContract")({ address: o, abi: [{ inputs: [{ type: "bytes" }], name: "findResolver", outputs: [{ type: "address" }, { type: "bytes32" }], stateMutability: "view", type: "function" }], functionName: "findResolver", args: [(0, Mt.NC)(BM(r))], blockNumber: t, blockTag: n }); return s }(e, t), getEnsText: t => nO(e, t), getFeeHistory: t => BO(e, t), estimateFeesPerGas: t => (0, bO.X)(e, t), getFilterChanges: e => WO(0, e), getFilterLogs: e => async function (e, { filter: t }) { const n = t.strict ?? !1, r = (await t.request({ method: "eth_getFilterLogs", params: [t.id] })).map((e => $O(e))); return t.abi ? jO({ abi: t.abi, logs: r, strict: n }) : r }(0, e), getGasPrice: () => (0, zO.o)(e), getLogs: t => LO(e, t), getProof: t => qO(e, t), estimateMaxPriorityFeePerGas: t => (0, vO._)(e, t), getStorageAt: t => async function (e, { address: t, blockNumber: n, blockTag: r = "latest", slot: i }) { const o = void 0 !== n ? (0, Mt.eC)(n) : void 0; return await e.request({ method: "eth_getStorageAt", params: [t, i, o || r] }) }(e, t), getTransaction: t => VO(e, t), getTransactionConfirmations: t => async function (e, { hash: t, transactionReceipt: n }) { const [r, i] = await Promise.all([(0, cM.s)(e, SO, "getBlockNumber")({}), t ? (0, cM.s)(e, VO, "getTransaction")({ hash: t }) : void 0]), o = n?.blockNumber || i?.blockNumber; return o ? r - o + 1n : 0n }(e, t), getTransactionCount: t => (0, KO.K)(e, t), getTransactionReceipt: t => XO(e, t), multicall: t => async function (e, t) { const { allowFailure: n = !0, batchSize: r, blockNumber: i, blockTag: o, multicallAddress: s, stateOverride: a } = t, c = t.contracts, l = r ?? ("object" === typeof e.batch?.multicall && e.batch.multicall.batchSize || 1024); let u = s; if (!u) { if (!e.chain) throw new Error("client chain not configured. multicallAddress is required."); u = (0, TM.L)({ blockNumber: i, chain: e.chain, contract: "multicall3" }) } const d = [[]]; let h = 0, f = 0; for (let y = 0; y < c.length; y++) { const { abi: e, address: t, args: r, functionName: i } = c[y]; try { const n = (0, IM.R)({ abi: e, args: r, functionName: i }); f += (n.length - 2) / 2, l > 0 && f > l && d[h].length > 0 && (h++, f = (n.length - 2) / 2, d[h] = []), d[h] = [...d[h], { allowFailure: !0, callData: n, target: t }] } catch (g) { const o = (0, gO.S)(g, { abi: e, address: t, args: r, docsPath: "/docs/contract/multicall", functionName: i }); if (!n) throw o; d[h] = [...d[h], { allowFailure: !0, callData: "0x", target: t }] } } const p = await Promise.allSettled(d.map((t => (0, cM.s)(e, WM.L, "readContract")({ abi: SM.F8, address: u, args: [t], blockNumber: i, blockTag: o, functionName: "aggregate3", stateOverride: a })))), m = []; for (let y = 0; y < p.length; y++) { const e = p[y]; if ("rejected" === e.status) { if (!n) throw e.reason; for (let t = 0; t < d[y].length; t++)m.push({ status: "failure", error: e.reason, result: void 0 }); continue } const t = e.value; for (let r = 0; r < t.length; r++) { const { returnData: e, success: i } = t[r], { callData: o } = d[y][r], { abi: s, address: a, functionName: l, args: u } = c[m.length]; try { if ("0x" === o) throw new uM.wb; if (!i) throw new MM.VQ({ data: e }); const t = (0, kM.k)({ abi: s, args: u, data: e, functionName: l }); m.push(n ? { result: t, status: "success" } : t) } catch (g) { const e = (0, gO.S)(g, { abi: s, address: a, args: u, docsPath: "/docs/contract/multicall", functionName: l }); if (!n) throw e; m.push({ error: e, result: void 0, status: "failure" }) } } } if (m.length !== c.length) throw new Xt.G("multicall results mismatch"); return m }(e, t), prepareTransactionRequest: t => (0, nM.Z)(e, t), readContract: t => (0, WM.L)(e, t), sendRawTransaction: t => (0, rM.p)(e, t), simulateContract: t => async function (e, t) { const { abi: n, address: r, args: i, dataSuffix: o, functionName: s, ...a } = t, c = a.account ? (0, iM.T)(a.account) : e.account, l = (0, IM.R)({ abi: n, args: i, functionName: s }); try { const { data: u } = await (0, cM.s)(e, rO.R, "call")({ batch: !1, data: `${l}${o ? o.replace("0x", "") : ""}`, to: r, ...a, account: c }); return { result: (0, kM.k)({ abi: n, args: i, functionName: s, data: u || "0x" }), request: { abi: n.filter((e => "name" in e && e.name === t.functionName)), address: r, args: i, dataSuffix: o, functionName: s, ...a, account: c } } } catch (u) { throw (0, gO.S)(u, { abi: n, address: r, args: i, docsPath: "/docs/contract/simulateContract", functionName: s, sender: c?.address }) } }(e, t), verifyMessage: t => async function (e, { address: t, message: n, factory: r, factoryData: i, signature: o, ...s }) { return oR(e, { address: t, factory: r, factoryData: i, hash: QO(n), signature: o, ...s }) }(e, t), verifySiweMessage: t => _R(e, t), verifyTypedData: t => async function (e, t) { const { address: n, factory: r, factoryData: i, signature: o, message: s, primaryType: a, types: c, domain: l, ...u } = t; return oR(e, { address: n, factory: r, factoryData: i, hash: sR({ message: s, primaryType: a, types: c, domain: l }), signature: o, ...u }) }(e, t), uninstallFilter: e => JO(0, e), waitForTransactionReceipt: t => async function (e, { confirmations: t = 1, hash: n, onReplaced: r, pollingInterval: i = e.pollingInterval, retryCount: o = 6, retryDelay: s = (({ count: e }) => 200 * ~~(1 << e)), timeout: a = 18e4 }) { const c = (0, en.P)(["waitForTransactionReceipt", e.uid, n]); let l, u, d, h = !1; const { promise: f, resolve: p, reject: m } = (0, yR.n)(), g = a ? setTimeout((() => m(new HO.mc({ hash: n }))), a) : void 0, y = gR(c, { onReplaced: r, resolve: p, reject: m }, (r => { const a = (0, cM.s)(e, wR, "watchBlockNumber")({ emitMissed: !0, emitOnBegin: !0, poll: !0, pollingInterval: i, async onBlockNumber(i) { const c = e => { clearTimeout(g), a(), e(), y() }; let f = i; if (!h) try { if (d) { if (t > 1 && (!d.blockNumber || f - d.blockNumber + 1n < t)) return; return void c((() => r.resolve(d))) } if (l || (h = !0, await (0, Pt.J)((async () => { l = await (0, cM.s)(e, VO, "getTransaction")({ hash: n }), l.blockNumber && (f = l.blockNumber) }), { delay: s, retryCount: o }), h = !1), d = await (0, cM.s)(e, XO, "getTransactionReceipt")({ hash: n }), t > 1 && (!d.blockNumber || f - d.blockNumber + 1n < t)) return; c((() => r.resolve(d))) } catch (p) { if (p instanceof HO.Bh || p instanceof HO.Yb) { if (!l) return void (h = !1); try { u = l, h = !0; const n = await (0, Pt.J)((() => (0, cM.s)(e, EO.Q, "getBlock")({ blockNumber: f, includeTransactions: !0 })), { delay: s, retryCount: o, shouldRetry: ({ error: e }) => e instanceof hR.f }); h = !1; const i = n.transactions.find((({ from: e, nonce: t }) => e === u.from && t === u.nonce)); if (!i) return; if (d = await (0, cM.s)(e, XO, "getTransactionReceipt")({ hash: i.hash }), t > 1 && (!d.blockNumber || f - d.blockNumber + 1n < t)) return; let a = "replaced"; i.to === u.to && i.value === u.value ? a = "repriced" : i.from === i.to && 0n === i.value && (a = "cancelled"), c((() => { r.onReplaced?.({ reason: a, replacedTransaction: u, transaction: i, transactionReceipt: d }), r.resolve(d) })) } catch (m) { c((() => r.reject(m))) } } else c((() => r.reject(p))) } } }) })); return f }(e, t), watchBlocks: t => function (e, { blockTag: t = "latest", emitMissed: n = !1, emitOnBegin: r = !1, onBlock: i, onError: o, includeTransactions: s, poll: a, pollingInterval: c = e.pollingInterval }) { const l = "undefined" !== typeof a ? a : "webSocket" !== e.transport.type && ("fallback" !== e.transport.type || "webSocket" !== e.transport.transports[0].config.type), u = s ?? !1; let d; return l ? gR((0, en.P)(["watchBlocks", e.uid, t, n, r, u, c]), { onBlock: i, onError: o }, (i => vR((async () => { try { const r = await (0, cM.s)(e, EO.Q, "getBlock")({ blockTag: t, includeTransactions: u }); if (r.number && d?.number) { if (r.number === d.number) return; if (r.number - d.number > 1 && n) for (let t = d?.number + 1n; t < r.number; t++) { const n = await (0, cM.s)(e, EO.Q, "getBlock")({ blockNumber: t, includeTransactions: u }); i.onBlock(n, d), d = n } } (!d?.number || "pending" === t && !r?.number || r.number && r.number > d.number) && (i.onBlock(r, d), d = r) } catch (r) { i.onError?.(r) } }), { emitOnBegin: r, interval: c }))) : (() => { let n = !0, s = !0, a = () => n = !1; return (async () => { try { r && (0, cM.s)(e, EO.Q, "getBlock")({ blockTag: t, includeTransactions: u }).then((e => { n && s && (i(e, void 0), s = !1) })); const c = (() => { if ("fallback" === e.transport.type) { const t = e.transport.transports.find((e => "webSocket" === e.config.type)); return t ? t.value : e.transport } return e.transport })(), { unsubscribe: l } = await c.subscribe({ params: ["newHeads"], async onData(t) { if (!n) return; const r = await (0, cM.s)(e, EO.Q, "getBlock")({ blockNumber: t.blockNumber, includeTransactions: u }).catch((() => { })); n && (i(r, d), s = !1, d = r) }, onError(e) { o?.(e) } }); a = l, n || a() } catch (c) { o?.(c) } })(), () => a() })() }(e, t), watchBlockNumber: t => wR(e, t), watchContractEvent: t => function (e, t) { const { abi: n, address: r, args: i, batch: o = !0, eventName: s, fromBlock: a, onError: c, onLogs: l, poll: u, pollingInterval: d = e.pollingInterval, strict: h } = t; return ("undefined" !== typeof u ? u : "bigint" === typeof a || "webSocket" !== e.transport.type && ("fallback" !== e.transport.type || "webSocket" !== e.transport.transports[0].config.type)) ? (() => { const t = h ?? !1; return gR((0, en.P)(["watchContractEvent", r, i, o, e.uid, s, d, t, a]), { onLogs: l, onError: c }, (c => { let l, u; void 0 !== a && (l = a - 1n); let h = !1; const f = vR((async () => { if (h) try { let a; if (u) a = await (0, cM.s)(e, WO, "getFilterChanges")({ filter: u }); else { const o = await (0, cM.s)(e, SO, "getBlockNumber")({}); a = l && l < o ? await (0, cM.s)(e, DO, "getContractEvents")({ abi: n, address: r, args: i, eventName: s, fromBlock: l + 1n, toBlock: o, strict: t }) : [], l = o } if (0 === a.length) return; if (o) c.onLogs(a); else for (const e of a) c.onLogs([e]) } catch (d) { u && d instanceof Tt.yR && (h = !1), c.onError?.(d) } else { try { u = await (0, cM.s)(e, fO, "createContractEventFilter")({ abi: n, address: r, args: i, eventName: s, strict: t, fromBlock: a }) } catch { } h = !0 } }), { emitOnBegin: !0, interval: d }); return async () => { u && await (0, cM.s)(e, JO, "uninstallFilter")({ filter: u }), f() } })) })() : (() => { const t = h ?? !1, a = (0, en.P)(["watchContractEvent", r, i, o, e.uid, s, d, t]); let u = !0, f = () => u = !1; return gR(a, { onLogs: l, onError: c }, (t => ((async () => { try { const o = (() => { if ("fallback" === e.transport.type) { const t = e.transport.transports.find((e => "webSocket" === e.config.type)); return t ? t.value : e.transport } return e.transport })(), a = s ? dO({ abi: n, eventName: s, args: i }) : [], { unsubscribe: c } = await o.subscribe({ params: ["logs", { address: r, topics: a }], onData(e) { if (!u) return; const r = e.result; try { const { eventName: e, args: i } = OO({ abi: n, data: r.data, topics: r.topics, strict: h }), o = $O(r, { args: i, eventName: e }); t.onLogs([o]) } catch (i) { let e, n; if (i instanceof uM.SM || i instanceof uM.Gy) { if (h) return; e = i.abiItem.name, n = i.abiItem.inputs?.some((e => !("name" in e && e.name))) } const o = $O(r, { args: n ? [] : {}, eventName: e }); t.onLogs([o]) } }, onError(e) { t.onError?.(e) } }); f = c, u || f() } catch (o) { c?.(o) } })(), () => f()))) })() }(e, t), watchEvent: t => function (e, { address: t, args: n, batch: r = !0, event: i, events: o, fromBlock: s, onError: a, onLogs: c, poll: l, pollingInterval: u = e.pollingInterval, strict: d }) { const h = "undefined" !== typeof l ? l : "bigint" === typeof s || "webSocket" !== e.transport.type && ("fallback" !== e.transport.type || "webSocket" !== e.transport.transports[0].config.type), f = d ?? !1; return h ? gR((0, en.P)(["watchEvent", t, n, r, e.uid, i, u, s]), { onLogs: c, onError: a }, (a => { let c, l; void 0 !== s && (c = s - 1n); let d = !1; const h = vR((async () => { if (d) try { let s; if (l) s = await (0, cM.s)(e, WO, "getFilterChanges")({ filter: l }); else { const r = await (0, cM.s)(e, SO, "getBlockNumber")({}); s = c && c !== r ? await (0, cM.s)(e, LO, "getLogs")({ address: t, args: n, event: i, events: o, fromBlock: c + 1n, toBlock: r }) : [], c = r } if (0 === s.length) return; if (r) a.onLogs(s); else for (const e of s) a.onLogs([e]) } catch (u) { l && u instanceof Tt.yR && (d = !1), a.onError?.(u) } else { try { l = await (0, cM.s)(e, pO, "createEventFilter")({ address: t, args: n, event: i, events: o, strict: f, fromBlock: s }) } catch { } d = !0 } }), { emitOnBegin: !0, interval: u }); return async () => { l && await (0, cM.s)(e, JO, "uninstallFilter")({ filter: l }), h() } })) : (() => { let r = !0, s = () => r = !1; return (async () => { try { const l = (() => { if ("fallback" === e.transport.type) { const t = e.transport.transports.find((e => "webSocket" === e.config.type)); return t ? t.value : e.transport } return e.transport })(), u = o ?? (i ? [i] : void 0); let h = []; u && (h = [u.flatMap((e => dO({ abi: [e], eventName: e.name, args: n })))], i && (h = h[0])); const { unsubscribe: p } = await l.subscribe({ params: ["logs", { address: t, topics: h }], onData(e) { if (!r) return; const t = e.result; try { const { eventName: e, args: n } = OO({ abi: u ?? [], data: t.data, topics: t.topics, strict: f }), r = $O(t, { args: n, eventName: e }); c([r]) } catch (n) { let e, r; if (n instanceof uM.SM || n instanceof uM.Gy) { if (d) return; e = n.abiItem.name, r = n.abiItem.inputs?.some((e => !("name" in e && e.name))) } const i = $O(t, { args: r ? [] : {}, eventName: e }); c([i]) } }, onError(e) { a?.(e) } }); s = p, r || s() } catch (l) { a?.(l) } })(), () => s() })() }(e, t), watchPendingTransactions: t => function (e, { batch: t = !0, onError: n, onTransactions: r, poll: i, pollingInterval: o = e.pollingInterval }) { return ("undefined" !== typeof i ? i : "webSocket" !== e.transport.type) ? gR((0, en.P)(["watchPendingTransactions", e.uid, t, o]), { onTransactions: r, onError: n }, (n => { let r; const i = vR((async () => { try { if (!r) try { return void (r = await (0, cM.s)(e, mO, "createPendingTransactionFilter")({})) } catch (o) { throw i(), o } const s = await (0, cM.s)(e, WO, "getFilterChanges")({ filter: r }); if (0 === s.length) return; if (t) n.onTransactions(s); else for (const e of s) n.onTransactions([e]) } catch (o) { n.onError?.(o) } }), { emitOnBegin: !0, interval: o }); return async () => { r && await (0, cM.s)(e, JO, "uninstallFilter")({ filter: r }), i() } })) : (() => { let t = !0, i = () => t = !1; return (async () => { try { const { unsubscribe: o } = await e.transport.subscribe({ params: ["newPendingTransactions"], onData(e) { if (!t) return; const n = e.result; r([n]) }, onError(e) { n?.(e) } }); i = o, t || i() } catch (o) { n?.(o) } })(), () => i() })() }(e, t) } } function AR(e) { const { key: t = "public", name: n = "Public Client" } = e; return (0, Et.e)({ ...e, key: t, name: n, type: "publicClient" }).extend(CR) } function SR({ title: e }) { let { currentScreen: t, navigateBack: n, navigate: r, data: i, setModalData: o } = pf(); return (0, y.jsx)(Vf, { title: e, backFn: t === uf.FUNDING_MANUAL_TRANSFER_SCREEN ? n : t === i?.funding?.methodScreen ? i.funding.comingFromSendTransactionScreen ? () => r(uf.EMBEDDED_WALLET_SEND_TRANSACTION_SCREEN) : void 0 : i?.funding?.methodScreen ? () => { let e = i.funding; e.usingDefaultFundingMethod && (e.usingDefaultFundingMethod = !1), o({ funding: e }), r(e.methodScreen) } : void 0 }) } const kR = ({ size: e }) => (0, y.jsx)(IR, { $size: e, children: (0, y.jsxs)(TR, { children: [(0, y.jsx)(NR, {}), (0, y.jsx)(PR, {})] }) }); let IR = oh.div.withConfig({ displayName: "LoadingContainer", componentId: "sc-3ddaba1c-0" })(["--spinner-size:", ";display:flex;justify-content:center;align-items:center;flex-grow:1;@media all and (display-mode:standalone){margin-bottom:30px;}"], (e => e.$size ? e.$size : "96px")), TR = oh.div.withConfig({ displayName: "SpinnerContainer", componentId: "sc-3ddaba1c-1" })(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]), NR = oh.div.withConfig({ displayName: "CircleFixed", componentId: "sc-3ddaba1c-2" })(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid #f1f2f9;border-radius:50%;}"]), PR = oh.div.withConfig({ displayName: "CircleRotate", componentId: "sc-3ddaba1c-3" })(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:#cbcde1 transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]); const MR = ({ enabled: e = !0 } = {}) => { let { showFiatPrices: t, getUsdPriceForSol: n } = (0, af.u)(), [r, i] = (0, Ke.useState)(!0), [o, s] = (0, Ke.useState)(void 0), [a, c] = (0, Ke.useState)(void 0); return (0, Ke.useEffect)((() => { (async () => { if (t && e) try { i(!0); let e = await n(); e ? c(e) : s(Error("Unable to fetch SOL price")) } catch (r) { s(r) } finally { i(!1) } else i(!1) })() }), []), { solPrice: a, isSolPriceLoading: r, solPriceError: o } }; function OR(e) { let { tokenPrice: t, isTokenPriceLoading: n, tokenPriceError: r } = (e => { let { showFiatPrices: t, getUsdTokenPrice: n, chains: r } = (0, af.u)(), [i, o] = (0, Ke.useState)(!0), [s, a] = (0, Ke.useState)(void 0), [c, l] = (0, Ke.useState)(void 0); return (0, Ke.useEffect)((() => { e ||= 1; let i = fh(r).find((t => t.id === Number(e))); (async () => { if (t) { if (!i) return o(!1), void a(Error(`Unable to fetch token price on chain id ${e}`)); try { o(!0); let e = await n(i); e ? l(e) : a(Error(`Unable to fetch token price on chain id ${i.id}`)) } catch (i) { a(i) } finally { o(!1) } } else o(!1) })() }), [e]), { tokenPrice: c, isTokenPriceLoading: i, tokenPriceError: s } })("solana" === e ? -1 : e), { solPrice: i, isSolPriceLoading: o, solPriceError: s } = MR({ enabled: "solana" === e }); return "solana" === e ? { tokenPrice: i, isTokenPriceLoading: o, tokenPriceError: s } : { tokenPrice: t, isTokenPriceLoading: n, tokenPriceError: r } } var RR = n(5630); const jR = "sdk_fiat_on_ramp_completed_with_status"; var $R = n(48764).Buffer; let LR = "0x0000000000000000000000000000000000000000"; const DR = ({ destinationCurrency: e, ...t }) => ({ tradeType: "EXACT_OUTPUT", originCurrency: LR, destinationCurrency: e ?? LR, ...t }), UR = async ({ input: e, isTestnet: t }) => { let n = await fetch(t ? "https://api.testnets.relay.link/execute/swap" : "https://api.relay.link/execute/swap", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(e) }), r = await n.json(); if (!(n.ok || "string" == typeof r.message && r.message.startsWith("Invalid address"))) throw console.error("Relay error:", r), Error(r.message ?? "Error fetching quote from relay"); return r }, FR = e => { let t = e.steps[0]?.items?.[0]; if (t) return { from: t.data.from, to: t.data.to, value: Number(t.data.value), chainId: Number(t.data.chainId), data: t.data.data } }; var BR = n(48764).Buffer; let WR = new Intl.NumberFormat(void 0, { style: "currency", currency: "USD", maximumFractionDigits: 2 }); function zR(e, t = 6, n = !1, r = !1) { let i = (parseFloat(e.toString()) / 1e9).toFixed(t).replace(/0+$/, "").replace(/\.$/, ""), o = r ? "" : " SOL"; return n ? `${i}${o}` : `${"0" === i ? "<0.001" : i}${o}` } function qR(e, t) { let n = parseFloat(e.toString()) / 1e9, r = WR.format(t * n); return "$0.00" === r ? "<$0.01" : r } function HR({ amount: e, fee: t, tokenPrice: n }) { let r = BigInt(1e9 * parseFloat(e)), i = r + t; return { fundingAmountInBaseUnit: r, fundingAmountInUsd: n ? qR(r, n) : void 0, totalPriceInUsd: n ? qR(i, n) : void 0, totalPriceInNativeCurrency: zR(i), feePriceInNativeCurrency: zR(t), feePriceInUsd: n ? qR(t, n) : void 0 } } function GR(e) { return "version" in e } function VR(e, t, n = 0) { let r = "from" === t ? 0 : "to" === t ? 1 : 2; if (GR(e)) { let t = e.message.getAccountKeys(), i = e.message.compiledInstructions.at(n)?.accountKeyIndexes[r]; return i && t.get(i) || null } let i = e.instructions.at(n)?.keys.at(r)?.pubkey; if (null == i) throw Error(`Transaction does not contain a "${t}" public key`); return i } function KR(e, t = !1, n = 0) { let r = t ? 1 : 4; if (GR(e)) { let t = e.message.compiledInstructions.at(n)?.data; if (!t) return 0n; try { return ((e, t = 0) => { let n = e[t], r = e[t + 7]; if (!n || !r) throw Error(`Buffer offset out of range: first: ${n}, last: ${r}.`); return (BigInt(e[t + 4] + 256 * e[t + 5] + 65536 * e[t + 6] + (r << 24)) << 32n) + BigInt(n + 256 * e[++t] + 65536 * e[++t] + 16777216 * e[++t]) })(BR.from(t), r) } catch (o) { return 0n } } let i = e.instructions.at(n)?.data.readBigInt64LE(r); return null == i ? 0n : i } function YR(e, t = 0) { let n; if (GR(e)) { let r = e.message.compiledInstructions.at(t)?.programIdIndex; if (null == r) throw Error("Transaction does not contain a Program ID"); n = e.message.getAccountKeys().get(r)?.toBase58() } else n = e.instructions.at(t)?.programId.toBase58(); if (!n) throw Error("Transaction does not contain a Program ID"); return "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA" === n ? "approve" : "11111111111111111111111111111111" === n ? "transfer" : "instruction" } function ZR(e, t) { return { signature: e, parsedTransaction: t, fees: BigInt(t?.meta?.fee || 0) } } async function XR(e, t) { let n = [], r = GR(e) ? e.message.compiledInstructions.length : e.instructions.length, i = {}, o = BigInt(await async function (e, t) { return GR(e) ? (await t.getFeeForMessage(e.message)).value : await e.getEstimatedFee(t) }(e, t) || 0); for (let s = 0; s < r; s++) { let r = YR(e, s), o = VR(e, "from", s), a = VR(e, "to", s), c = KR(e, "approve" === r, s), l = "transfer" === r ? null : VR(e, "owner", s), u = 0n; o && (i[o.toBase58()] || (i[o.toBase58()] = BigInt(await t.getBalance(o))), u = i[o.toBase58()] || 0n), n.push({ from: o, to: a, spender: l, action: r, amount: c, balance: u, hasFunds: u >= c }) } return { fees: o, instructions: n } } const JR = ({ chains: e, appId: t, address: n, rpcConfig: r }) => Promise.all(e.map((async e => { let i = AR({ chain: e, transport: on(Ha(e, r, t)) }); return { balance: await i.getBalance({ address: n }).catch((() => 0n)), chain: e } }))), QR = oh.span.withConfig({ displayName: "Rows", componentId: "sc-b764aab6-0" })(["display:flex;flex-direction:column;gap:0.35rem;width:100%;"]), ej = oh.span.withConfig({ displayName: "Row", componentId: "sc-b764aab6-1" })(["display:flex;width:100%;justify-content:space-between;gap:0.5rem;"]), tj = oh.span.withConfig({ displayName: "LabelSm", componentId: "sc-6c002d6-0" })(["color:var(--privy-color-foreground-3);font-size:0.875rem;font-weight:400;line-height:1.375rem;"]), nj = oh(tj).withConfig({ displayName: "LabelSmPrimary", componentId: "sc-6c002d6-1" })(["color:var(--privy-color-accent);"]), rj = oh.span.withConfig({ displayName: "Value", componentId: "sc-72aa026-0" })(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;", ""], hg); function ij({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418" })) } var oj = Ke.forwardRef(ij); const sj = e => (0, y.jsxs)("svg", { xmlns: "http://www.w3.org/2000/svg", version: "1.1", id: "Layer_1", x: "0px", y: "0px", viewBox: "0 0 397.7 311.7", enableBackground: "new 0 0 397.7 311.7", xmlSpace: "preserve", ...e, children: [(0, y.jsxs)("linearGradient", { id: "SVGID_1_", gradientUnits: "userSpaceOnUse", x1: "360.8791", y1: "351.4553", x2: "141.213", y2: "-69.2936", gradientTransform: "matrix(1 0 0 -1 0 314)", children: [(0, y.jsx)("stop", { offset: "0", stopColor: "#00FFA3" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#DC1FFF" })] }), (0, y.jsx)("path", { d: "M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z", fill: "url(#SVGID_1_)" }), (0, y.jsxs)("linearGradient", { id: "SVGID_2_", gradientUnits: "userSpaceOnUse", x1: "264.8291", y1: "401.6014", x2: "45.163", y2: "-19.1475", gradientTransform: "matrix(1 0 0 -1 0 314)", children: [(0, y.jsx)("stop", { offset: "0", stopColor: "#00FFA3" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#DC1FFF" })] }), (0, y.jsx)("path", { d: "M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z", fill: "url(#SVGID_2_)" }), (0, y.jsxs)("linearGradient", { id: "SVGID_3_", gradientUnits: "userSpaceOnUse", x1: "312.5484", y1: "376.688", x2: "92.8822", y2: "-44.061", gradientTransform: "matrix(1 0 0 -1 0 314)", children: [(0, y.jsx)("stop", { offset: "0", stopColor: "#00FFA3" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#DC1FFF" })] }), (0, y.jsx)("path", { d: "M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4  c5.8,0,8.7-7,4.6-11.1L333.1,120.1z", fill: "url(#SVGID_3_)" })] }); let aj = { [yc.id]: e => (0, y.jsx)("svg", { xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", version: "1.1", id: "Layer_1", x: "0px", y: "0px", viewBox: "0 0 2500 2500", xmlSpace: "preserve", ...e, children: (0, y.jsx)("g", { id: "Layer_x0020_1", children: (0, y.jsxs)("g", { id: "_2405588477232", children: [(0, y.jsx)("rect", { fill: "none", width: "2500", height: "2500" }), (0, y.jsx)("g", { children: (0, y.jsxs)("g", { children: [(0, y.jsx)("path", { fill: "#213147", d: "M226,760v980c0,63,33,120,88,152l849,490c54,31,121,31,175,0l849-490c54-31,88-89,88-152V760      c0-63-33-120-88-152l-849-490c-54-31-121-31-175,0L314,608c-54,31-87,89-87,152H226z" }), (0, y.jsx)("g", { children: (0, y.jsxs)("g", { children: [(0, y.jsx)("g", { children: (0, y.jsx)("path", { fill: "#12AAFF", d: "M1435,1440l-121,332c-3,9-3,19,0,29l208,571l241-139l-289-793C1467,1422,1442,1422,1435,1440z" }) }), (0, y.jsx)("g", { children: (0, y.jsx)("path", { fill: "#12AAFF", d: "M1678,882c-7-18-32-18-39,0l-121,332c-3,9-3,19,0,29l341,935l241-139L1678,883V882z" }) })] }) }), (0, y.jsx)("g", { children: (0, y.jsx)("path", { fill: "#9DCCED", d: "M1250,155c6,0,12,2,17,5l918,530c11,6,17,18,17,30v1060c0,12-7,24-17,30l-918,530c-5,3-11,5-17,5       s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12,7-24,17-30l918-530c5-3,11-5,17-5l0,0V155z M1250,0c-33,0-65,8-95,25L237,555       c-59,34-95,96-95,164v1060c0,68,36,130,95,164l918,530c29,17,62,25,95,25s65-8,95-25l918-530c59-34,95-96,95-164V719       c0-68-36-130-95-164L1344,25c-29-17-62-25-95-25l0,0H1250z" }) }), (0, y.jsx)("polygon", { fill: "#213147", points: "642,2179 727,1947 897,2088 738,2234     " }), (0, y.jsxs)("g", { children: [(0, y.jsx)("path", { fill: "#FFFFFF", d: "M1172,644H939c-17,0-33,11-39,27L401,2039l241,139l550-1507c5-14-5-28-19-28L1172,644z" }), (0, y.jsx)("path", { fill: "#FFFFFF", d: "M1580,644h-233c-17,0-33,11-39,27L738,2233l241,139l620-1701c5-14-5-28-19-28V644z" })] })] }) })] }) }) }), [vc.id]: e => (0, y.jsxs)("svg", { width: "1503", height: "1504", viewBox: "0 0 1503 1504", fill: "none", xmlns: "http://www.w3.org/2000/svg", ...e, children: [(0, y.jsx)("rect", { x: "287", y: "258", width: "928", height: "844", fill: "white" }), (0, y.jsx)("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M1502.5 752C1502.5 1166.77 1166.27 1503 751.5 1503C336.734 1503 0.5 1166.77 0.5 752C0.5 337.234 336.734 1 751.5 1C1166.27 1 1502.5 337.234 1502.5 752ZM538.688 1050.86H392.94C362.314 1050.86 347.186 1050.86 337.962 1044.96C327.999 1038.5 321.911 1027.8 321.173 1015.99C320.619 1005.11 328.184 991.822 343.312 965.255L703.182 330.935C718.495 303.999 726.243 290.531 736.021 285.55C746.537 280.2 759.083 280.2 769.599 285.55C779.377 290.531 787.126 303.999 802.438 330.935L876.42 460.079L876.797 460.738C893.336 489.635 901.723 504.289 905.385 519.669C909.443 536.458 909.443 554.169 905.385 570.958C901.695 586.455 893.393 601.215 876.604 630.549L687.573 964.702L687.084 965.558C670.436 994.693 661.999 1009.46 650.306 1020.6C637.576 1032.78 622.263 1041.63 605.474 1046.62C590.161 1050.86 573.004 1050.86 538.688 1050.86ZM906.75 1050.86H1115.59C1146.4 1050.86 1161.9 1050.86 1171.13 1044.78C1181.09 1038.32 1187.36 1027.43 1187.92 1015.63C1188.45 1005.1 1181.05 992.33 1166.55 967.307C1166.05 966.455 1165.55 965.588 1165.04 964.706L1060.43 785.75L1059.24 783.735C1044.54 758.877 1037.12 746.324 1027.59 741.472C1017.08 736.121 1004.71 736.121 994.199 741.472C984.605 746.453 976.857 759.552 961.544 785.934L857.306 964.891L856.949 965.507C841.69 991.847 834.064 1005.01 834.614 1015.81C835.352 1027.62 841.44 1038.5 851.402 1044.96C860.443 1050.86 875.94 1050.86 906.75 1050.86Z", fill: "#E84142" })] }), [Ec.id]: e => (0, y.jsxs)("svg", { width: "146", height: "146", viewBox: "0 0 146 146", fill: "none", xmlns: "http://www.w3.org/2000/svg", ...e, children: [(0, y.jsx)("circle", { cx: "73", cy: "73", r: "73", fill: "#0052FF" }), (0, y.jsx)("path", { d: "M73.323 123.729C101.617 123.729 124.553 100.832 124.553 72.5875C124.553 44.343 101.617 21.4463 73.323 21.4463C46.4795 21.4463 24.4581 42.0558 22.271 68.2887H89.9859V76.8864H22.271C24.4581 103.119 46.4795 123.729 73.323 123.729Z", fill: "white" })] }), [_c.id]: e => (0, y.jsxs)("svg", { fill: "none", height: "400", viewBox: "0 0 400 400", width: "400", xmlns: "http://www.w3.org/2000/svg", ...e, children: [(0, y.jsx)("path", { d: "m0 0h400v400h-400z", fill: "#fcff52" }), (0, y.jsx)("path", { d: "m300 100h-200v200h199.996v-69.813h-33.191c-11.442 25.468-37.194 43.206-66.665 43.206-40.63 0-73.533-33.187-73.533-73.533s32.903-73.249 73.533-73.249c30.043 0 55.795 18.313 67.24 44.349h32.62z", fill: "#000" })] }), [Cc.id]: e => (0, y.jsxs)("svg", { width: "200", height: "208", viewBox: "0 0 200 208", fill: "none", xmlns: "http://www.w3.org/2000/svg", ...e, children: [(0, y.jsx)("rect", { width: "199.4", height: "207.623", fill: "#121212" }), (0, y.jsxs)("g", { "clip-path": "url(#clip0_2303_643)", children: [(0, y.jsx)("path", { d: "M132.369 155.99H49.7001V68.8854H68.6148V139.109H132.369V155.981V155.99Z", fill: "white" }), (0, y.jsx)("path", { d: "M132.369 85.7575C141.687 85.7575 149.241 78.2036 149.241 68.8855C149.241 59.5673 141.687 52.0134 132.369 52.0134C123.05 52.0134 115.497 59.5673 115.497 68.8855C115.497 78.2036 123.05 85.7575 132.369 85.7575Z", fill: "white" })] }), (0, y.jsx)("defs", { children: (0, y.jsx)("clipPath", { id: "clip0_2303_643", children: (0, y.jsx)("rect", { width: "99.5407", height: "103.977", fill: "white", transform: "translate(49.7001 52.0134)" }) }) })] }), [Ac.id]: e => (0, y.jsxs)("svg", { version: "1.1", id: "Layer_1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", viewBox: "0 0 327.5 533.3", enableBackground: "new 0 0 327.5 533.3;", xmlSpace: "preserve", ...e, children: [(0, y.jsx)("path", { fill: "#8492B2", d: "M163.7,197.2V0L0,271.6L163.7,197.2z" }), (0, y.jsx)("path", { fill: "#62688F", d: "M163.7,368.4V197.2L0,271.6L163.7,368.4z M163.7,197.2l163.7,74.4L163.7,0V197.2z" }), (0, y.jsx)("path", { fill: "#454A75", d: "M163.7,197.2v171.2l163.7-96.8L163.7,197.2z" }), (0, y.jsx)("path", { fill: "#8492B2", d: "M163.7,399.4L0,302.7l163.7,230.7V399.4z" }), (0, y.jsx)("path", { fill: "#62688F", d: "M327.5,302.7l-163.8,96.7v134L327.5,302.7z" })] }), [Sc.id]: e => (0, y.jsxs)("svg", { width: "500", height: "500", viewBox: "0 0 500 500", fill: "none", xmlns: "http://www.w3.org/2000/svg", ...e, children: [(0, y.jsx)("circle", { cx: "250", cy: "250", r: "250", fill: "#FF0420" }), (0, y.jsx)("path", { d: "M177.133 316.446C162.247 316.446 150.051 312.943 140.544 305.938C131.162 298.808 126.471 288.676 126.471 275.541C126.471 272.789 126.784 269.411 127.409 265.408C129.036 256.402 131.35 245.581 134.352 232.947C142.858 198.547 164.812 181.347 200.213 181.347C209.845 181.347 218.476 182.973 226.107 186.225C233.738 189.352 239.742 194.106 244.12 200.486C248.498 206.74 250.688 214.246 250.688 223.002C250.688 225.629 250.375 228.944 249.749 232.947C247.873 244.08 245.621 254.901 242.994 265.408C238.616 282.546 231.048 295.368 220.29 303.874C209.532 312.255 195.147 316.446 177.133 316.446ZM179.76 289.426C186.766 289.426 192.707 287.362 197.586 283.234C202.59 279.106 206.155 272.789 208.281 264.283C211.158 252.524 213.348 242.266 214.849 233.51C215.349 230.883 215.599 228.194 215.599 225.441C215.599 214.058 209.657 208.366 197.774 208.366C190.768 208.366 184.764 210.43 179.76 214.558C174.882 218.687 171.379 225.004 169.253 233.51C167.001 241.891 164.749 252.149 162.498 264.283C161.997 266.784 161.747 269.411 161.747 272.163C161.747 283.672 167.752 289.426 179.76 289.426Z", fill: "white" }), (0, y.jsx)("path", { d: "M259.303 314.57C257.927 314.57 256.863 314.132 256.113 313.256C255.487 312.255 255.3 311.13 255.55 309.879L281.444 187.914C281.694 186.538 282.382 185.412 283.508 184.536C284.634 183.661 285.822 183.223 287.073 183.223H336.985C350.87 183.223 362.003 186.1 370.384 191.854C378.891 197.609 383.144 205.927 383.144 216.81C383.144 219.937 382.769 223.19 382.018 226.567C378.891 240.953 372.574 251.586 363.067 258.466C353.685 265.346 340.8 268.786 324.413 268.786H299.082L290.451 309.879C290.2 311.255 289.512 312.38 288.387 313.256C287.261 314.132 286.072 314.57 284.822 314.57H259.303ZM325.727 242.892C330.98 242.892 335.546 241.453 339.424 238.576C343.427 235.699 346.054 231.571 347.305 226.192C347.68 224.065 347.868 222.189 347.868 220.563C347.868 216.935 346.805 214.183 344.678 212.307C342.551 210.305 338.924 209.305 333.795 209.305H311.278L304.148 242.892H325.727Z", fill: "white" })] }), [Ic.id]: e => (0, y.jsxs)("svg", { width: "360", height: "360", viewBox: "0 0 360 360", fill: "none", xmlns: "http://www.w3.org/2000/svg", ...e, children: [(0, y.jsx)("rect", { width: "360", height: "360", rx: "180", fill: "#6C00F6" }), (0, y.jsx)("path", { d: "M157.743 154.241L141.052 144.58L90.9766 173.561V231.519L141.052 260.5L191.13 231.519V141.359L218.948 125.26L246.77 141.359V173.561L218.948 189.66L202.257 180.002V205.759L218.948 215.42L269.024 186.439V128.481L218.948 99.5L168.873 128.481V218.641L141.052 234.74L113.233 218.641V186.439L141.052 170.34L157.743 179.998V154.241Z", fill: "white" })] }), [Pc.id]: e => (0, y.jsxs)("svg", { xmlns: "http://www.w3.org/2000/svg", width: "30", height: "30", viewBox: "0 0 30 30", fill: "none", ...e, children: [(0, y.jsx)("g", { clipPath: "url(#clip0)", children: (0, y.jsx)("g", { clipPath: "url(#clip1)", children: (0, y.jsx)("path", { d: "M14.9188 29.8373C6.67944 29.8373 0.00012207 23.1581 0.00012207 14.9187C0.00012207 6.67931 6.67944 0 14.9188 0C23.1581 0 29.8373 6.67931 29.8373 14.9187C29.8373 23.1581 23.1581 29.8373 14.9188 29.8373Z", fill: "url(#paint0)" }) }) }), (0, y.jsxs)("defs", { children: [(0, y.jsxs)("radialGradient", { id: "paint0", cx: "0", cy: "0", r: "1", gradientUnits: "userSpaceOnUse", gradientTransform: "translate(21.6921 8.02215) rotate(180) scale(25.2008)", children: [(0, y.jsx)("stop", { offset: "0.00682297", stopColor: "#F2CEFE" }), (0, y.jsx)("stop", { offset: "0.1913", stopColor: "#AFBAF1" }), (0, y.jsx)("stop", { offset: "0.4982", stopColor: "#4281D3" }), (0, y.jsx)("stop", { offset: "0.666667", stopColor: "#2E427D" }), (0, y.jsx)("stop", { offset: "0.822917", stopColor: "#230101" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#8F6B40" })] }), (0, y.jsx)("clipPath", { id: "clip0", children: (0, y.jsx)("rect", { width: "30", height: "30", fill: "white" }) }), (0, y.jsx)("clipPath", { id: "clip1", children: (0, y.jsx)("rect", { width: "30", height: "30", fill: "white" }) })] })] }) }; const cj = ({ chainId: e, ...t }) => { if ("solana" === e) return (0, y.jsx)(sj, { ...t }); let n = aj[e]; return (0, y.jsx)(n || oj, { ...t }) }, lj = ({ balance: e, className: t, chain: n }) => (0, y.jsx)(ST, { className: t, $state: void 0, children: (0, y.jsx)(uj, { balance: e, chain: n }) }), uj = ({ balance: e, chain: t }) => (0, y.jsxs)(y.Fragment, { children: [(0, y.jsxs)(dj, { children: [(0, y.jsx)(fj, { chainId: "id" in t ? t.id : "solana" }), (0, y.jsx)(rj, { children: t.name })] }), (0, y.jsxs)(fg, { isLoading: !1, isPulsing: !1, color: "gray", children: [(0, y.jsx)(hj, { children: (0, y.jsx)(yp, {}) }), e] })] }); let dj = oh.div.withConfig({ displayName: "Container", componentId: "sc-6d3c340d-0" })(["display:flex;align-items:center;"]), hj = oh.div.withConfig({ displayName: "IconContainer", componentId: "sc-6d3c340d-1" })(["height:0.75rem;width:0.75rem;margin-right:0.2rem;"]), fj = oh(cj).withConfig({ displayName: "StyledNetworkIcon", componentId: "sc-6d3c340d-2" })(["height:1.25rem;width:1.25rem;display:inline-block;margin-right:0.5rem;border-radius:4px;"]); function pj(e) { var t; return "undefined" !== typeof window && null != window.navigator && ((null === (t = window.navigator.userAgentData) || void 0 === t ? void 0 : t.brands.some((t => e.test(t.brand)))) || e.test(window.navigator.userAgent)) } function mj(e) { var t; return "undefined" !== typeof window && null != window.navigator && e.test((null === (t = window.navigator.userAgentData) || void 0 === t ? void 0 : t.platform) || window.navigator.platform) } function gj(e) { let t = null; return () => (null == t && (t = e()), t) } const yj = gj((function () { return mj(/^Mac/i) })), bj = gj((function () { return mj(/^iPhone/i) })), vj = gj((function () { return mj(/^iPad/i) || yj() && navigator.maxTouchPoints > 1 })), wj = gj((function () { return bj() || vj() })), Ej = (gj((function () { return yj() || wj() })), gj((function () { return pj(/AppleWebKit/i) && !Ej() })), gj((function () { return pj(/Chrome/i) }))), xj = gj((function () { return pj(/Android/i) })); gj((function () { return pj(/Firefox/i) })); function _j(e) { return !(0 !== e.mozInputSource || !e.isTrusted) || (xj() && e.pointerType ? "click" === e.type && 1 === e.buttons : 0 === e.detail && !e.pointerType) } const Cj = e => { var t; return null !== (t = null === e || void 0 === e ? void 0 : e.ownerDocument) && void 0 !== t ? t : document }, Aj = e => { if (e && "window" in e && e.window === e) return e; return Cj(e).defaultView || window }; let Sj = null, kj = new Set, Ij = new Map, Tj = !1, Nj = !1; const Pj = { Tab: !0, Escape: !0 }; function Mj(e, t) { for (let n of kj) n(e, t) } function Oj(e) { Tj = !0, function (e) { return !(e.metaKey || !yj() && e.altKey || e.ctrlKey || "Control" === e.key || "Shift" === e.key || "Meta" === e.key) }(e) && (Sj = "keyboard", Mj("keyboard", e)) } function Rj(e) { Sj = "pointer", "mousedown" !== e.type && "pointerdown" !== e.type || (Tj = !0, Mj("pointer", e)) } function jj(e) { _j(e) && (Tj = !0, Sj = "virtual") } function $j(e) { e.target !== window && e.target !== document && (Tj || Nj || (Sj = "virtual", Mj("virtual", e)), Tj = !1, Nj = !1) } function Lj() { Tj = !1, Nj = !0 } function Dj(e) { if ("undefined" === typeof window || Ij.get(Aj(e))) return; const t = Aj(e), n = Cj(e); let r = t.HTMLElement.prototype.focus; t.HTMLElement.prototype.focus = function () { Tj = !0, r.apply(this, arguments) }, n.addEventListener("keydown", Oj, !0), n.addEventListener("keyup", Oj, !0), n.addEventListener("click", jj, !0), t.addEventListener("focus", $j, !0), t.addEventListener("blur", Lj, !1), "undefined" !== typeof PointerEvent ? (n.addEventListener("pointerdown", Rj, !0), n.addEventListener("pointermove", Rj, !0), n.addEventListener("pointerup", Rj, !0)) : (n.addEventListener("mousedown", Rj, !0), n.addEventListener("mousemove", Rj, !0), n.addEventListener("mouseup", Rj, !0)), t.addEventListener("beforeunload", (() => { Uj(e) }), { once: !0 }), Ij.set(t, { focus: r }) } const Uj = (e, t) => { const n = Aj(e), r = Cj(e); t && r.removeEventListener("DOMContentLoaded", t), Ij.has(n) && (n.HTMLElement.prototype.focus = Ij.get(n).focus, r.removeEventListener("keydown", Oj, !0), r.removeEventListener("keyup", Oj, !0), r.removeEventListener("click", jj, !0), n.removeEventListener("focus", $j, !0), n.removeEventListener("blur", Lj, !1), "undefined" !== typeof PointerEvent ? (r.removeEventListener("pointerdown", Rj, !0), r.removeEventListener("pointermove", Rj, !0), r.removeEventListener("pointerup", Rj, !0)) : (r.removeEventListener("mousedown", Rj, !0), r.removeEventListener("mousemove", Rj, !0), r.removeEventListener("mouseup", Rj, !0)), Ij.delete(n)) }; function Fj() { return "pointer" !== Sj } "undefined" !== typeof document && function (e) { const t = Cj(e); let n; "loading" !== t.readyState ? Dj(e) : (n = () => { Dj(e) }, t.addEventListener("DOMContentLoaded", n)) }(); const Bj = new Set(["checkbox", "radio", "range", "color", "file", "image", "button", "submit", "reset"]); function Wj(e, t, n) { Dj(), (0, Ke.useEffect)((() => { let t = (t, r) => { (function (e, t, n) { var r; const i = "undefined" !== typeof window ? Aj(null === n || void 0 === n ? void 0 : n.target).HTMLInputElement : HTMLInputElement, o = "undefined" !== typeof window ? Aj(null === n || void 0 === n ? void 0 : n.target).HTMLTextAreaElement : HTMLTextAreaElement, s = "undefined" !== typeof window ? Aj(null === n || void 0 === n ? void 0 : n.target).HTMLElement : HTMLElement, a = "undefined" !== typeof window ? Aj(null === n || void 0 === n ? void 0 : n.target).KeyboardEvent : KeyboardEvent; return !((e = e || (null === n || void 0 === n ? void 0 : n.target) instanceof i && !Bj.has(null === n || void 0 === n || null === (r = n.target) || void 0 === r ? void 0 : r.type) || (null === n || void 0 === n ? void 0 : n.target) instanceof o || (null === n || void 0 === n ? void 0 : n.target) instanceof s && (null === n || void 0 === n ? void 0 : n.target.isContentEditable)) && "keyboard" === t && n instanceof a && !Pj[n.key]) })(!!(null === n || void 0 === n ? void 0 : n.isTextInput), t, r) && e(Fj()) }; return kj.add(t), () => { kj.delete(t) } }), t) } const zj = "undefined" !== typeof document ? Ke.useLayoutEffect : () => { }; function qj(e) { const t = (0, Ke.useRef)(null); return zj((() => { t.current = e }), [e]), (0, Ke.useCallback)(((...e) => { const n = t.current; return null === n || void 0 === n ? void 0 : n(...e) }), []) } class Hj { isDefaultPrevented() { return this.nativeEvent.defaultPrevented } preventDefault() { this.defaultPrevented = !0, this.nativeEvent.preventDefault() } stopPropagation() { this.nativeEvent.stopPropagation(), this.isPropagationStopped = () => !0 } isPropagationStopped() { return !1 } persist() { } constructor(e, t) { this.nativeEvent = t, this.target = t.target, this.currentTarget = t.currentTarget, this.relatedTarget = t.relatedTarget, this.bubbles = t.bubbles, this.cancelable = t.cancelable, this.defaultPrevented = t.defaultPrevented, this.eventPhase = t.eventPhase, this.isTrusted = t.isTrusted, this.timeStamp = t.timeStamp, this.type = e } } function Gj(e) { let t = (0, Ke.useRef)({ isFocused: !1, observer: null }); zj((() => { const e = t.current; return () => { e.observer && (e.observer.disconnect(), e.observer = null) } }), []); let n = qj((t => { null === e || void 0 === e || e(t) })); return (0, Ke.useCallback)((e => { if (e.target instanceof HTMLButtonElement || e.target instanceof HTMLInputElement || e.target instanceof HTMLTextAreaElement || e.target instanceof HTMLSelectElement) { t.current.isFocused = !0; let r = e.target, i = e => { t.current.isFocused = !1, r.disabled && n(new Hj("blur", e)), t.current.observer && (t.current.observer.disconnect(), t.current.observer = null) }; r.addEventListener("focusout", i, { once: !0 }), t.current.observer = new MutationObserver((() => { if (t.current.isFocused && r.disabled) { var e; null === (e = t.current.observer) || void 0 === e || e.disconnect(); let n = r === document.activeElement ? null : document.activeElement; r.dispatchEvent(new FocusEvent("blur", { relatedTarget: n })), r.dispatchEvent(new FocusEvent("focusout", { bubbles: !0, relatedTarget: n })) } })), t.current.observer.observe(r, { attributes: !0, attributeFilter: ["disabled"] }) } }), [n]) } function Vj(e) { let { isDisabled: t, onFocus: n, onBlur: r, onFocusChange: i } = e; const o = (0, Ke.useCallback)((e => { if (e.target === e.currentTarget) return r && r(e), i && i(!1), !0 }), [r, i]), s = Gj(o), a = (0, Ke.useCallback)((e => { const t = Cj(e.target); e.target === e.currentTarget && t.activeElement === e.target && (n && n(e), i && i(!0), s(e)) }), [i, n, s]); return { focusProps: { onFocus: !t && (n || i || r) ? a : void 0, onBlur: t || !r && !i ? void 0 : o } } } function Kj(e) { let { isDisabled: t, onBlurWithin: n, onFocusWithin: r, onFocusWithinChange: i } = e, o = (0, Ke.useRef)({ isFocusWithin: !1 }), s = (0, Ke.useCallback)((e => { o.current.isFocusWithin && !e.currentTarget.contains(e.relatedTarget) && (o.current.isFocusWithin = !1, n && n(e), i && i(!1)) }), [n, i, o]), a = Gj(s), c = (0, Ke.useCallback)((e => { o.current.isFocusWithin || document.activeElement !== e.target || (r && r(e), i && i(!0), o.current.isFocusWithin = !0, a(e)) }), [r, i, a]); return t ? { focusWithinProps: { onFocus: void 0, onBlur: void 0 } } : { focusWithinProps: { onFocus: c, onBlur: s } } } function Yj(e = {}) { let { autoFocus: t = !1, isTextInput: n, within: r } = e, i = (0, Ke.useRef)({ isFocused: !1, isFocusVisible: t || Fj() }), [o, s] = (0, Ke.useState)(!1), [a, c] = (0, Ke.useState)((() => i.current.isFocused && i.current.isFocusVisible)), l = (0, Ke.useCallback)((() => c(i.current.isFocused && i.current.isFocusVisible)), []), u = (0, Ke.useCallback)((e => { i.current.isFocused = e, s(e), l() }), [l]); Wj((e => { i.current.isFocusVisible = e, l() }), [], { isTextInput: n }); let { focusProps: d } = Vj({ isDisabled: r, onFocusChange: u }), { focusWithinProps: h } = Kj({ isDisabled: !r, onFocusWithinChange: u }); return { isFocused: o, isFocusVisible: a, focusProps: r ? h : d } } let Zj = !1, Xj = 0; function Jj() { Zj = !0, setTimeout((() => { Zj = !1 }), 50) } function Qj(e) { "touch" === e.pointerType && Jj() } function e$() { if ("undefined" !== typeof document) return "undefined" !== typeof PointerEvent ? document.addEventListener("pointerup", Qj) : document.addEventListener("touchend", Jj), Xj++, () => { Xj--, Xj > 0 || ("undefined" !== typeof PointerEvent ? document.removeEventListener("pointerup", Qj) : document.removeEventListener("touchend", Jj)) } } var t$ = n(73935), n$ = Object.defineProperty, r$ = (e, t, n) => (((e, t, n) => { t in e ? n$(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n })(e, "symbol" != typeof t ? t + "" : t, n), n); let i$ = new class { constructor() { r$(this, "current", this.detect()), r$(this, "handoffState", "pending"), r$(this, "currentId", 0) } set(e) { this.current !== e && (this.handoffState = "pending", this.currentId = 0, this.current = e) } reset() { this.set(this.detect()) } nextId() { return ++this.currentId } get isServer() { return "server" === this.current } get isClient() { return "client" === this.current } detect() { return "undefined" == typeof window || "undefined" == typeof document ? "server" : "client" } handoff() { "pending" === this.handoffState && (this.handoffState = "complete") } get isHandoffComplete() { return "complete" === this.handoffState } }; function o$(e) { return i$.isServer ? null : e instanceof Node ? e.ownerDocument : null != e && e.hasOwnProperty("current") && e.current instanceof Node ? e.current.ownerDocument : document } function s$(e) { "function" == typeof queueMicrotask ? queueMicrotask(e) : Promise.resolve().then(e).catch((e => setTimeout((() => { throw e })))) } function a$() { let e = [], t = { addEventListener: (e, n, r, i) => (e.addEventListener(n, r, i), t.add((() => e.removeEventListener(n, r, i)))), requestAnimationFrame(...e) { let n = requestAnimationFrame(...e); return t.add((() => cancelAnimationFrame(n))) }, nextFrame: (...e) => t.requestAnimationFrame((() => t.requestAnimationFrame(...e))), setTimeout(...e) { let n = setTimeout(...e); return t.add((() => clearTimeout(n))) }, microTask(...e) { let n = { current: !0 }; return s$((() => { n.current && e[0]() })), t.add((() => { n.current = !1 })) }, style(e, t, n) { let r = e.style.getPropertyValue(t); return Object.assign(e.style, { [t]: n }), this.add((() => { Object.assign(e.style, { [t]: r }) })) }, group(e) { let t = a$(); return e(t), this.add((() => t.dispose())) }, add: t => (e.includes(t) || e.push(t), () => { let n = e.indexOf(t); if (n >= 0) for (let t of e.splice(n, 1)) t() }), dispose() { for (let t of e.splice(0)) t() } }; return t } function c$() { let [e] = (0, Ke.useState)(a$); return (0, Ke.useEffect)((() => () => e.dispose()), [e]), e } let l$ = (e, t) => { i$.isServer ? (0, Ke.useEffect)(e, t) : (0, Ke.useLayoutEffect)(e, t) }; function u$(e) { let t = (0, Ke.useRef)(e); return l$((() => { t.current = e }), [e]), t } let d$ = function (e) { let t = u$(e); return Ke.useCallback(((...e) => t.current(...e)), [t]) }; function h$(e, t = !1) { let [n, r] = (0, Ke.useReducer)((() => ({})), {}), i = (0, Ke.useMemo)((() => function (e) { if (null === e) return { width: 0, height: 0 }; let { width: t, height: n } = e.getBoundingClientRect(); return { width: t, height: n } }(e)), [e, n]); return l$((() => { if (!e) return; let t = new ResizeObserver(r); return t.observe(e), () => { t.disconnect() } }), [e]), t ? { width: `${i.width}px`, height: `${i.height}px` } : i } class f$ extends Map { constructor(e) { super(), this.factory = e } get(e) { let t = super.get(e); return void 0 === t && (t = this.factory(e), this.set(e, t)), t } } function p$(e, t) { let n = e(), r = new Set; return { getSnapshot: () => n, subscribe: e => (r.add(e), () => r.delete(e)), dispatch(e, ...i) { let o = t[e].call(n, ...i); o && (n = o, r.forEach((e => e()))) } } } function m$(e) { return (0, Ke.useSyncExternalStore)(e.subscribe, e.getSnapshot, e.getSnapshot) } let g$ = new f$((() => p$((() => []), { ADD(e) { return this.includes(e) ? this : [...this, e] }, REMOVE(e) { let t = this.indexOf(e); if (-1 === t) return this; let n = this.slice(); return n.splice(t, 1), n } }))); function y$(e, t) { let n = g$.get(t), r = (0, Ke.useId)(), i = m$(n); if (l$((() => { if (e) return n.dispatch("ADD", r), () => n.dispatch("REMOVE", r) }), [n, e]), !e) return !1; let o = i.indexOf(r), s = i.length; return -1 === o && (o = s, s += 1), o === s - 1 } let b$ = new Map, v$ = new Map; function w$(e) { var t; let n = null != (t = v$.get(e)) ? t : 0; return v$.set(e, n + 1), 0 !== n || (b$.set(e, { "aria-hidden": e.getAttribute("aria-hidden"), inert: e.inert }), e.setAttribute("aria-hidden", "true"), e.inert = !0), () => E$(e) } function E$(e) { var t; let n = null != (t = v$.get(e)) ? t : 1; if (1 === n ? v$.delete(e) : v$.set(e, n - 1), 1 !== n) return; let r = b$.get(e); r && (null === r["aria-hidden"] ? e.removeAttribute("aria-hidden") : e.setAttribute("aria-hidden", r["aria-hidden"]), e.inert = r.inert, b$.delete(e)) } function x$(e, { allowed: t, disallowed: n } = {}) { let r = y$(e, "inert-others"); l$((() => { var e, i; if (!r) return; let o = a$(); for (let t of null != (e = null == n ? void 0 : n()) ? e : []) t && o.add(w$(t)); let s = null != (i = null == t ? void 0 : t()) ? i : []; for (let t of s) { if (!t) continue; let e = o$(t); if (!e) continue; let n = t.parentElement; for (; n && n !== e.body;) { for (let e of n.children) s.some((t => e.contains(t))) || o.add(w$(e)); n = n.parentElement } } return o.dispose }), [r, t, n]) } function _$(e, t, n) { let r = u$((e => { let t = e.getBoundingClientRect(); 0 === t.x && 0 === t.y && 0 === t.width && 0 === t.height && n() })); (0, Ke.useEffect)((() => { if (!e) return; let n = null === t ? null : t instanceof HTMLElement ? t : t.current; if (!n) return; let i = a$(); if ("undefined" != typeof ResizeObserver) { let e = new ResizeObserver((() => r.current(n))); e.observe(n), i.add((() => e.disconnect())) } if ("undefined" != typeof IntersectionObserver) { let e = new IntersectionObserver((() => r.current(n))); e.observe(n), i.add((() => e.disconnect())) } return () => i.dispose() }), [t, r, e]) } function C$(e, t, ...n) { if (e in t) { let r = t[e]; return "function" == typeof r ? r(...n) : r } let r = new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e => `"${e}"`)).join(", ")}.`); throw Error.captureStackTrace && Error.captureStackTrace(r, C$), r } let A$ = ["[contentEditable=true]", "[tabindex]", "a[href]", "area[href]", "button:not([disabled])", "iframe", "input:not([disabled])", "select:not([disabled])", "textarea:not([disabled])"].map((e => `${e}:not([tabindex='-1'])`)).join(","), S$ = ["[data-autofocus]"].map((e => `${e}:not([tabindex='-1'])`)).join(","); var k$ = (e => (e[e.First = 1] = "First", e[e.Previous = 2] = "Previous", e[e.Next = 4] = "Next", e[e.Last = 8] = "Last", e[e.WrapAround = 16] = "WrapAround", e[e.NoScroll = 32] = "NoScroll", e[e.AutoFocus = 64] = "AutoFocus", e))(k$ || {}), I$ = (e => (e[e.Error = 0] = "Error", e[e.Overflow = 1] = "Overflow", e[e.Success = 2] = "Success", e[e.Underflow = 3] = "Underflow", e))(I$ || {}), T$ = (e => (e[e.Previous = -1] = "Previous", e[e.Next = 1] = "Next", e))(T$ || {}); function N$(e = document.body) { return null == e ? [] : Array.from(e.querySelectorAll(A$)).sort(((e, t) => Math.sign((e.tabIndex || Number.MAX_SAFE_INTEGER) - (t.tabIndex || Number.MAX_SAFE_INTEGER)))) } var P$ = (e => (e[e.Strict = 0] = "Strict", e[e.Loose = 1] = "Loose", e))(P$ || {}); function M$(e, t = 0) { var n; return e !== (null == (n = o$(e)) ? void 0 : n.body) && C$(t, { 0: () => e.matches(A$), 1() { let t = e; for (; null !== t;) { if (t.matches(A$)) return !0; t = t.parentElement } return !1 } }) } function O$(e) { let t = o$(e); a$().nextFrame((() => { t && !M$(t.activeElement, 0) && j$(e) })) } var R$ = (e => (e[e.Keyboard = 0] = "Keyboard", e[e.Mouse = 1] = "Mouse", e))(R$ || {}); function j$(e) { null == e || e.focus({ preventScroll: !0 }) } "undefined" != typeof window && "undefined" != typeof document && (document.addEventListener("keydown", (e => { e.metaKey || e.altKey || e.ctrlKey || (document.documentElement.dataset.headlessuiFocusVisible = "") }), !0), document.addEventListener("click", (e => { 1 === e.detail ? delete document.documentElement.dataset.headlessuiFocusVisible : 0 === e.detail && (document.documentElement.dataset.headlessuiFocusVisible = "") }), !0)); let $$ = ["textarea", "input"].join(","); function L$(e, t = (e => e)) { return e.slice().sort(((e, n) => { let r = t(e), i = t(n); if (null === r || null === i) return 0; let o = r.compareDocumentPosition(i); return o & Node.DOCUMENT_POSITION_FOLLOWING ? -1 : o & Node.DOCUMENT_POSITION_PRECEDING ? 1 : 0 })) } function D$(e, t, { sorted: n = !0, relativeTo: r = null, skipElements: i = [] } = {}) { let o = Array.isArray(e) ? e.length > 0 ? e[0].ownerDocument : document : e.ownerDocument, s = Array.isArray(e) ? n ? L$(e) : e : 64 & t ? function (e = document.body) { return null == e ? [] : Array.from(e.querySelectorAll(S$)).sort(((e, t) => Math.sign((e.tabIndex || Number.MAX_SAFE_INTEGER) - (t.tabIndex || Number.MAX_SAFE_INTEGER)))) }(e) : N$(e); i.length > 0 && s.length > 1 && (s = s.filter((e => !i.some((t => null != t && "current" in t ? (null == t ? void 0 : t.current) === e : t === e))))), r = null != r ? r : o.activeElement; let a, c = (() => { if (5 & t) return 1; if (10 & t) return -1; throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last") })(), l = (() => { if (1 & t) return 0; if (2 & t) return Math.max(0, s.indexOf(r)) - 1; if (4 & t) return Math.max(0, s.indexOf(r)) + 1; if (8 & t) return s.length - 1; throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last") })(), u = 32 & t ? { preventScroll: !0 } : {}, d = 0, h = s.length; do { if (d >= h || d + h <= 0) return 0; let e = l + d; if (16 & t) e = (e + h) % h; else { if (e < 0) return 3; if (e >= h) return 1 } a = s[e], null == a || a.focus(u), d += c } while (a !== o.activeElement); return 6 & t && function (e) { var t, n; return null != (n = null == (t = null == e ? void 0 : e.matches) ? void 0 : t.call(e, $$)) && n }(a) && a.select(), 2 } function U$() { return /iPhone/gi.test(window.navigator.platform) || /Mac/gi.test(window.navigator.platform) && window.navigator.maxTouchPoints > 0 } function F$() { return U$() || /Android/gi.test(window.navigator.userAgent) } function B$(e, t, n, r) { let i = u$(n); (0, Ke.useEffect)((() => { if (e) return document.addEventListener(t, n, r), () => document.removeEventListener(t, n, r); function n(e) { i.current(e) } }), [e, t, r]) } function W$(e, t, n, r) { let i = u$(n); (0, Ke.useEffect)((() => { if (e) return window.addEventListener(t, n, r), () => window.removeEventListener(t, n, r); function n(e) { i.current(e) } }), [e, t, r]) } function z$(e, t, n) { let r = y$(e, "outside-click"), i = u$(n), o = (0, Ke.useCallback)((function (e, n) { if (e.defaultPrevented) return; let r = n(e); if (null === r || !r.getRootNode().contains(r) || !r.isConnected) return; let o = function e(t) { return "function" == typeof t ? e(t()) : Array.isArray(t) || t instanceof Set ? t : [t] }(t); for (let t of o) if (null !== t && (t.contains(r) || e.composed && e.composedPath().includes(t))) return; return !M$(r, P$.Loose) && -1 !== r.tabIndex && e.preventDefault(), i.current(e, r) }), [i, t]), s = (0, Ke.useRef)(null); B$(r, "pointerdown", (e => { var t, n; s.current = (null == (n = null == (t = e.composedPath) ? void 0 : t.call(e)) ? void 0 : n[0]) || e.target }), !0), B$(r, "mousedown", (e => { var t, n; s.current = (null == (n = null == (t = e.composedPath) ? void 0 : t.call(e)) ? void 0 : n[0]) || e.target }), !0), B$(r, "click", (e => { F$() || s.current && (o(e, (() => s.current)), s.current = null) }), !0); let a = (0, Ke.useRef)({ x: 0, y: 0 }); B$(r, "touchstart", (e => { a.current.x = e.touches[0].clientX, a.current.y = e.touches[0].clientY }), !0), B$(r, "touchend", (e => { let t = e.changedTouches[0].clientX, n = e.changedTouches[0].clientY; if (!(Math.abs(t - a.current.x) >= 30 || Math.abs(n - a.current.y) >= 30)) return o(e, (() => e.target instanceof HTMLElement ? e.target : null)) }), !0), W$(r, "blur", (e => o(e, (() => window.document.activeElement instanceof HTMLIFrameElement ? window.document.activeElement : null))), !0) } function q$(...e) { return (0, Ke.useMemo)((() => o$(...e)), [...e]) } function H$(e, t) { return (0, Ke.useMemo)((() => { var n; if (e.type) return e.type; let r = null != (n = e.as) ? n : "button"; return "string" == typeof r && "button" === r.toLowerCase() || "BUTTON" === (null == t ? void 0 : t.tagName) && !t.hasAttribute("type") ? "button" : void 0 }), [e.type, e.as, t]) } function G$() { let e; return { before({ doc: t }) { var n; let r = t.documentElement, i = null != (n = t.defaultView) ? n : window; e = Math.max(0, i.innerWidth - r.clientWidth) }, after({ doc: t, d: n }) { let r = t.documentElement, i = Math.max(0, r.clientWidth - r.offsetWidth), o = Math.max(0, e - i); n.style(r, "paddingRight", `${o}px`) } } } function V$(e) { let t = {}; for (let n of e) Object.assign(t, n(t)); return t } let K$ = p$((() => new Map), { PUSH(e, t) { var n; let r = null != (n = this.get(e)) ? n : { doc: e, count: 0, d: a$(), meta: new Set }; return r.count++, r.meta.add(t), this.set(e, r), this }, POP(e, t) { let n = this.get(e); return n && (n.count--, n.meta.delete(t)), this }, SCROLL_PREVENT({ doc: e, d: t, meta: n }) { let r = { doc: e, d: t, meta: V$(n) }, i = [U$() ? { before({ doc: e, d: t, meta: n }) { function r(e) { return n.containers.flatMap((e => e())).some((t => t.contains(e))) } t.microTask((() => { var n; if ("auto" !== window.getComputedStyle(e.documentElement).scrollBehavior) { let n = a$(); n.style(e.documentElement, "scrollBehavior", "auto"), t.add((() => t.microTask((() => n.dispose())))) } let i = null != (n = window.scrollY) ? n : window.pageYOffset, o = null; t.addEventListener(e, "click", (t => { if (t.target instanceof HTMLElement) try { let n = t.target.closest("a"); if (!n) return; let { hash: i } = new URL(n.href), s = e.querySelector(i); s && !r(s) && (o = s) } catch { } }), !0), t.addEventListener(e, "touchstart", (e => { if (e.target instanceof HTMLElement) if (r(e.target)) { let n = e.target; for (; n.parentElement && r(n.parentElement);)n = n.parentElement; t.style(n, "overscrollBehavior", "contain") } else t.style(e.target, "touchAction", "none") })), t.addEventListener(e, "touchmove", (e => { if (e.target instanceof HTMLElement) { if ("INPUT" === e.target.tagName) return; if (r(e.target)) { let t = e.target; for (; t.parentElement && "" !== t.dataset.headlessuiPortal && !(t.scrollHeight > t.clientHeight || t.scrollWidth > t.clientWidth);)t = t.parentElement; "" === t.dataset.headlessuiPortal && e.preventDefault() } else e.preventDefault() } }), { passive: !1 }), t.add((() => { var e; let t = null != (e = window.scrollY) ? e : window.pageYOffset; i !== t && window.scrollTo(0, i), o && o.isConnected && (o.scrollIntoView({ block: "nearest" }), o = null) })) })) } } : {}, G$(), { before({ doc: e, d: t }) { t.style(e.documentElement, "overflow", "hidden") } }]; i.forEach((({ before: e }) => null == e ? void 0 : e(r))), i.forEach((({ after: e }) => null == e ? void 0 : e(r))) }, SCROLL_ALLOW({ d: e }) { e.dispose() }, TEARDOWN({ doc: e }) { this.delete(e) } }); function Y$(e, t, n = (() => [document.body])) { !function (e, t, n = (() => ({ containers: [] }))) { let r = m$(K$), i = t ? r.get(t) : void 0, o = !!i && i.count > 0; l$((() => { if (t && e) return K$.dispatch("PUSH", t, n), () => K$.dispatch("POP", t, n) }), [e, t]) }(y$(e, "scroll-lock"), t, (e => { var t; return { containers: [...null != (t = e.containers) ? t : [], n] } })) } K$.subscribe((() => { let e = K$.getSnapshot(), t = new Map; for (let [n] of e) t.set(n, n.documentElement.style.overflow); for (let n of e.values()) { let e = "hidden" === t.get(n.doc), r = 0 !== n.count; (r && !e || !r && e) && K$.dispatch(n.count > 0 ? "SCROLL_PREVENT" : "SCROLL_ALLOW", n), 0 === n.count && K$.dispatch("TEARDOWN", n) } })); let Z$ = Symbol(); function X$(...e) { let t = (0, Ke.useRef)(e); (0, Ke.useEffect)((() => { t.current = e }), [e]); let n = d$((e => { for (let n of t.current) null != n && ("function" == typeof n ? n(e) : n.current = e) })); return e.every((e => null == e || (null == e ? void 0 : e[Z$]))) ? void 0 : n } let J$ = /([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g; function Q$(e) { var t, n; let r = null != (t = e.innerText) ? t : "", i = e.cloneNode(!0); if (!(i instanceof HTMLElement)) return r; let o = !1; for (let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]')) a.remove(), o = !0; let s = o ? null != (n = i.innerText) ? n : "" : r; return J$.test(s) && (s = s.replace(J$, "")), s } function eL(e) { let t = (0, Ke.useRef)(""), n = (0, Ke.useRef)(""); return d$((() => { let r = e.current; if (!r) return ""; let i = r.innerText; if (t.current === i) return n.current; let o = function (e) { let t = e.getAttribute("aria-label"); if ("string" == typeof t) return t.trim(); let n = e.getAttribute("aria-labelledby"); if (n) { let e = n.split(" ").map((e => { let t = document.getElementById(e); if (t) { let e = t.getAttribute("aria-label"); return "string" == typeof e ? e.trim() : Q$(t).trim() } return null })).filter(Boolean); if (e.length > 0) return e.join(", ") } return Q$(e).trim() }(r).trim().toLowerCase(); return t.current = i, n.current = o, o })) } function tL(e) { return [e.screenX, e.screenY] } var nL, rL, iL = n(34155); "undefined" != typeof iL && "undefined" != typeof globalThis && "undefined" != typeof Element && "test" === (null == (nL = null == iL ? void 0 : iL.env) ? void 0 : nL.NODE_ENV) && "undefined" == typeof (null == (rL = null == Element ? void 0 : Element.prototype) ? void 0 : rL.getAnimations) && (Element.prototype.getAnimations = function () { return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.", "Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.", "", "Example usage:", "```js", "import { mockAnimationsApi } from 'jsdom-testing-mocks'", "mockAnimationsApi()", "```"].join("\n")), [] }); var oL = (e => (e[e.None = 0] = "None", e[e.Closed = 1] = "Closed", e[e.Enter = 2] = "Enter", e[e.Leave = 4] = "Leave", e))(oL || {}); function sL(e) { let t = {}; for (let n in e) !0 === e[n] && (t[`data-${n}`] = ""); return t } function aL(e, t, n, r) { let [i, o] = (0, Ke.useState)(n), { hasFlag: s, addFlag: a, removeFlag: c } = function (e = 0) { let [t, n] = (0, Ke.useState)(e), r = (0, Ke.useCallback)((e => n(e)), [t]), i = (0, Ke.useCallback)((e => n((t => t | e))), [t]), o = (0, Ke.useCallback)((e => (t & e) === e), [t]), s = (0, Ke.useCallback)((e => n((t => t & ~e))), [n]), a = (0, Ke.useCallback)((e => n((t => t ^ e))), [n]); return { flags: t, setFlag: r, addFlag: i, hasFlag: o, removeFlag: s, toggleFlag: a } }(e && i ? 3 : 0), l = (0, Ke.useRef)(!1), u = (0, Ke.useRef)(!1), d = c$(); return l$((() => { var i; if (e) return n && o(!0), t ? (null == (i = null == r ? void 0 : r.start) || i.call(r, n), function (e, { prepare: t, run: n, done: r, inFlight: i }) { let o = a$(); return function (e, { inFlight: t, prepare: n }) { if (null != t && t.current) return void n(); let r = e.style.transition; e.style.transition = "none", n(), e.offsetHeight, e.style.transition = r }(e, { prepare: t, inFlight: i }), o.nextFrame((() => { n(), o.requestAnimationFrame((() => { o.add(function (e, t) { var n, r; let i = a$(); if (!e) return i.dispose; let o = !1; i.add((() => { o = !0 })); let s = null != (r = null == (n = e.getAnimations) ? void 0 : n.call(e).filter((e => e instanceof CSSTransition))) ? r : []; return 0 === s.length ? (t(), i.dispose) : (Promise.allSettled(s.map((e => e.finished))).then((() => { o || t() })), i.dispose) }(e, r)) })) })), o.dispose }(t, { inFlight: l, prepare() { u.current ? u.current = !1 : u.current = l.current, l.current = !0, !u.current && (n ? (a(3), c(4)) : (a(4), c(2))) }, run() { u.current ? n ? (c(3), a(4)) : (c(4), a(3)) : n ? c(1) : a(1) }, done() { var e; u.current && "function" == typeof t.getAnimations && t.getAnimations().length > 0 || (l.current = !1, c(7), n || o(!1), null == (e = null == r ? void 0 : r.end) || e.call(r, n)) } })) : void (n && a(3)) }), [e, n, t, d]), e ? [i, { closed: s(1), enter: s(2), leave: s(4), transition: s(2) || s(4) }] : [n, { closed: void 0, enter: void 0, leave: void 0, transition: void 0 }] } function cL() { const e = navigator.userAgentData; return e && Array.isArray(e.brands) ? e.brands.map((e => { let { brand: t, version: n } = e; return t + "/" + n })).join(" ") : navigator.userAgent } const lL = Math.min, uL = Math.max, dL = Math.round, hL = Math.floor, fL = e => ({ x: e, y: e }), pL = { left: "right", right: "left", bottom: "top", top: "bottom" }, mL = { start: "end", end: "start" }; function gL(e, t, n) { return uL(e, lL(t, n)) } function yL(e, t) { return "function" === typeof e ? e(t) : e } function bL(e) { return e.split("-")[0] } function vL(e) { return e.split("-")[1] } function wL(e) { return "x" === e ? "y" : "x" } function EL(e) { return "y" === e ? "height" : "width" } function xL(e) { return ["top", "bottom"].includes(bL(e)) ? "y" : "x" } function _L(e) { return wL(xL(e)) } function CL(e) { return e.replace(/start|end/g, (e => mL[e])) } function AL(e) { return e.replace(/left|right|bottom|top/g, (e => pL[e])) } function SL(e) { const { x: t, y: n, width: r, height: i } = e; return { width: r, height: i, top: n, left: t, right: t + r, bottom: n + i, x: t, y: n } } function kL() { return "undefined" !== typeof window } function IL(e) { return PL(e) ? (e.nodeName || "").toLowerCase() : "#document" } function TL(e) { var t; return (null == e || null == (t = e.ownerDocument) ? void 0 : t.defaultView) || window } function NL(e) { var t; return null == (t = (PL(e) ? e.ownerDocument : e.document) || window.document) ? void 0 : t.documentElement } function PL(e) { return !!kL() && (e instanceof Node || e instanceof TL(e).Node) } function ML(e) { return !!kL() && (e instanceof Element || e instanceof TL(e).Element) } function OL(e) { return !!kL() && (e instanceof HTMLElement || e instanceof TL(e).HTMLElement) } function RL(e) { return !(!kL() || "undefined" === typeof ShadowRoot) && (e instanceof ShadowRoot || e instanceof TL(e).ShadowRoot) } function jL(e) { const { overflow: t, overflowX: n, overflowY: r, display: i } = BL(e); return /auto|scroll|overlay|hidden|clip/.test(t + r + n) && !["inline", "contents"].includes(i) } function $L(e) { return ["table", "td", "th"].includes(IL(e)) } function LL(e) { return [":popover-open", ":modal"].some((t => { try { return e.matches(t) } catch (t0) { return !1 } })) } function DL(e) { const t = UL(), n = ML(e) ? BL(e) : e; return "none" !== n.transform || "none" !== n.perspective || !!n.containerType && "normal" !== n.containerType || !t && !!n.backdropFilter && "none" !== n.backdropFilter || !t && !!n.filter && "none" !== n.filter || ["transform", "perspective", "filter"].some((e => (n.willChange || "").includes(e))) || ["paint", "layout", "strict", "content"].some((e => (n.contain || "").includes(e))) } function UL() { return !("undefined" === typeof CSS || !CSS.supports) && CSS.supports("-webkit-backdrop-filter", "none") } function FL(e) { return ["html", "body", "#document"].includes(IL(e)) } function BL(e) { return TL(e).getComputedStyle(e) } function WL(e) { return ML(e) ? { scrollLeft: e.scrollLeft, scrollTop: e.scrollTop } : { scrollLeft: e.scrollX, scrollTop: e.scrollY } } function zL(e) { if ("html" === IL(e)) return e; const t = e.assignedSlot || e.parentNode || RL(e) && e.host || NL(e); return RL(t) ? t.host : t } function qL(e) { const t = zL(e); return FL(t) ? e.ownerDocument ? e.ownerDocument.body : e.body : OL(t) && jL(t) ? t : qL(t) } function HL(e, t, n) { var r; void 0 === t && (t = []), void 0 === n && (n = !0); const i = qL(e), o = i === (null == (r = e.ownerDocument) ? void 0 : r.body), s = TL(i); if (o) { const e = GL(s); return t.concat(s, s.visualViewport || [], jL(i) ? i : [], e && n ? HL(e) : []) } return t.concat(i, HL(i, [], n)) } function GL(e) { return e.parent && Object.getPrototypeOf(e.parent) ? e.frameElement : null } function VL(e, t, n) { let { reference: r, floating: i } = e; const o = xL(t), s = _L(t), a = EL(s), c = bL(t), l = "y" === o, u = r.x + r.width / 2 - i.width / 2, d = r.y + r.height / 2 - i.height / 2, h = r[a] / 2 - i[a] / 2; let f; switch (c) { case "top": f = { x: u, y: r.y - i.height }; break; case "bottom": f = { x: u, y: r.y + r.height }; break; case "right": f = { x: r.x + r.width, y: d }; break; case "left": f = { x: r.x - i.width, y: d }; break; default: f = { x: r.x, y: r.y } }switch (vL(t)) { case "start": f[s] -= h * (n && l ? -1 : 1); break; case "end": f[s] += h * (n && l ? -1 : 1) }return f } async function KL(e, t) { var n; void 0 === t && (t = {}); const { x: r, y: i, platform: o, rects: s, elements: a, strategy: c } = e, { boundary: l = "clippingAncestors", rootBoundary: u = "viewport", elementContext: d = "floating", altBoundary: h = !1, padding: f = 0 } = yL(t, e), p = function (e) { return "number" !== typeof e ? function (e) { return { top: 0, right: 0, bottom: 0, left: 0, ...e } }(e) : { top: e, right: e, bottom: e, left: e } }(f), m = a[h ? "floating" === d ? "reference" : "floating" : d], g = SL(await o.getClippingRect({ element: null == (n = await (null == o.isElement ? void 0 : o.isElement(m))) || n ? m : m.contextElement || await (null == o.getDocumentElement ? void 0 : o.getDocumentElement(a.floating)), boundary: l, rootBoundary: u, strategy: c })), y = "floating" === d ? { x: r, y: i, width: s.floating.width, height: s.floating.height } : s.reference, b = await (null == o.getOffsetParent ? void 0 : o.getOffsetParent(a.floating)), v = await (null == o.isElement ? void 0 : o.isElement(b)) && await (null == o.getScale ? void 0 : o.getScale(b)) || { x: 1, y: 1 }, w = SL(o.convertOffsetParentRelativeRectToViewportRelativeRect ? await o.convertOffsetParentRelativeRectToViewportRelativeRect({ elements: a, rect: y, offsetParent: b, strategy: c }) : y); return { top: (g.top - w.top + p.top) / v.y, bottom: (w.bottom - g.bottom + p.bottom) / v.y, left: (g.left - w.left + p.left) / v.x, right: (w.right - g.right + p.right) / v.x } } function YL(e) { const t = BL(e); let n = parseFloat(t.width) || 0, r = parseFloat(t.height) || 0; const i = OL(e), o = i ? e.offsetWidth : n, s = i ? e.offsetHeight : r, a = dL(n) !== o || dL(r) !== s; return a && (n = o, r = s), { width: n, height: r, $: a } } function ZL(e) { return ML(e) ? e : e.contextElement } function XL(e) { const t = ZL(e); if (!OL(t)) return fL(1); const n = t.getBoundingClientRect(), { width: r, height: i, $: o } = YL(t); let s = (o ? dL(n.width) : n.width) / r, a = (o ? dL(n.height) : n.height) / i; return s && Number.isFinite(s) || (s = 1), a && Number.isFinite(a) || (a = 1), { x: s, y: a } } const JL = fL(0); function QL(e) { const t = TL(e); return UL() && t.visualViewport ? { x: t.visualViewport.offsetLeft, y: t.visualViewport.offsetTop } : JL } function eD(e, t, n, r) { void 0 === t && (t = !1), void 0 === n && (n = !1); const i = e.getBoundingClientRect(), o = ZL(e); let s = fL(1); t && (r ? ML(r) && (s = XL(r)) : s = XL(e)); const a = function (e, t, n) { return void 0 === t && (t = !1), !(!n || t && n !== TL(e)) && t }(o, n, r) ? QL(o) : fL(0); let c = (i.left + a.x) / s.x, l = (i.top + a.y) / s.y, u = i.width / s.x, d = i.height / s.y; if (o) { const e = TL(o), t = r && ML(r) ? TL(r) : r; let n = e, i = GL(n); for (; i && r && t !== n;) { const e = XL(i), t = i.getBoundingClientRect(), r = BL(i), o = t.left + (i.clientLeft + parseFloat(r.paddingLeft)) * e.x, s = t.top + (i.clientTop + parseFloat(r.paddingTop)) * e.y; c *= e.x, l *= e.y, u *= e.x, d *= e.y, c += o, l += s, n = TL(i), i = GL(n) } } return SL({ width: u, height: d, x: c, y: l }) } function tD(e, t) { const n = WL(e).scrollLeft; return t ? t.left + n : eD(NL(e)).left + n } function nD(e, t, n) { void 0 === n && (n = !1); const r = e.getBoundingClientRect(); return { x: r.left + t.scrollLeft - (n ? 0 : tD(e, r)), y: r.top + t.scrollTop } } function rD(e, t, n) { let r; if ("viewport" === t) r = function (e, t) { const n = TL(e), r = NL(e), i = n.visualViewport; let o = r.clientWidth, s = r.clientHeight, a = 0, c = 0; if (i) { o = i.width, s = i.height; const e = UL(); (!e || e && "fixed" === t) && (a = i.offsetLeft, c = i.offsetTop) } return { width: o, height: s, x: a, y: c } }(e, n); else if ("document" === t) r = function (e) { const t = NL(e), n = WL(e), r = e.ownerDocument.body, i = uL(t.scrollWidth, t.clientWidth, r.scrollWidth, r.clientWidth), o = uL(t.scrollHeight, t.clientHeight, r.scrollHeight, r.clientHeight); let s = -n.scrollLeft + tD(e); const a = -n.scrollTop; return "rtl" === BL(r).direction && (s += uL(t.clientWidth, r.clientWidth) - i), { width: i, height: o, x: s, y: a } }(NL(e)); else if (ML(t)) r = function (e, t) { const n = eD(e, !0, "fixed" === t), r = n.top + e.clientTop, i = n.left + e.clientLeft, o = OL(e) ? XL(e) : fL(1); return { width: e.clientWidth * o.x, height: e.clientHeight * o.y, x: i * o.x, y: r * o.y } }(t, n); else { const n = QL(e); r = { x: t.x - n.x, y: t.y - n.y, width: t.width, height: t.height } } return SL(r) } function iD(e, t) { const n = zL(e); return !(n === t || !ML(n) || FL(n)) && ("fixed" === BL(n).position || iD(n, t)) } function oD(e, t, n) { const r = OL(t), i = NL(t), o = "fixed" === n, s = eD(e, !0, o, t); let a = { scrollLeft: 0, scrollTop: 0 }; const c = fL(0); if (r || !r && !o) if (("body" !== IL(t) || jL(i)) && (a = WL(t)), r) { const e = eD(t, !0, o, t); c.x = e.x + t.clientLeft, c.y = e.y + t.clientTop } else i && (c.x = tD(i)); const l = !i || r || o ? fL(0) : nD(i, a); return { x: s.left + a.scrollLeft - c.x - l.x, y: s.top + a.scrollTop - c.y - l.y, width: s.width, height: s.height } } function sD(e) { return "static" === BL(e).position } function aD(e, t) { if (!OL(e) || "fixed" === BL(e).position) return null; if (t) return t(e); let n = e.offsetParent; return NL(e) === n && (n = n.ownerDocument.body), n } function cD(e, t) { const n = TL(e); if (LL(e)) return n; if (!OL(e)) { let t = zL(e); for (; t && !FL(t);) { if (ML(t) && !sD(t)) return t; t = zL(t) } return n } let r = aD(e, t); for (; r && $L(r) && sD(r);)r = aD(r, t); return r && FL(r) && sD(r) && !DL(r) ? n : r || function (e) { let t = zL(e); for (; OL(t) && !FL(t);) { if (DL(t)) return t; if (LL(t)) return null; t = zL(t) } return null }(e) || n } const lD = { convertOffsetParentRelativeRectToViewportRelativeRect: function (e) { let { elements: t, rect: n, offsetParent: r, strategy: i } = e; const o = "fixed" === i, s = NL(r), a = !!t && LL(t.floating); if (r === s || a && o) return n; let c = { scrollLeft: 0, scrollTop: 0 }, l = fL(1); const u = fL(0), d = OL(r); if ((d || !d && !o) && (("body" !== IL(r) || jL(s)) && (c = WL(r)), OL(r))) { const e = eD(r); l = XL(r), u.x = e.x + r.clientLeft, u.y = e.y + r.clientTop } const h = !s || d || o ? fL(0) : nD(s, c, !0); return { width: n.width * l.x, height: n.height * l.y, x: n.x * l.x - c.scrollLeft * l.x + u.x + h.x, y: n.y * l.y - c.scrollTop * l.y + u.y + h.y } }, getDocumentElement: NL, getClippingRect: function (e) { let { element: t, boundary: n, rootBoundary: r, strategy: i } = e; const o = [..."clippingAncestors" === n ? LL(t) ? [] : function (e, t) { const n = t.get(e); if (n) return n; let r = HL(e, [], !1).filter((e => ML(e) && "body" !== IL(e))), i = null; const o = "fixed" === BL(e).position; let s = o ? zL(e) : e; for (; ML(s) && !FL(s);) { const t = BL(s), n = DL(s); n || "fixed" !== t.position || (i = null), (o ? !n && !i : !n && "static" === t.position && i && ["absolute", "fixed"].includes(i.position) || jL(s) && !n && iD(e, s)) ? r = r.filter((e => e !== s)) : i = t, s = zL(s) } return t.set(e, r), r }(t, this._c) : [].concat(n), r], s = o[0], a = o.reduce(((e, n) => { const r = rD(t, n, i); return e.top = uL(r.top, e.top), e.right = lL(r.right, e.right), e.bottom = lL(r.bottom, e.bottom), e.left = uL(r.left, e.left), e }), rD(t, s, i)); return { width: a.right - a.left, height: a.bottom - a.top, x: a.left, y: a.top } }, getOffsetParent: cD, getElementRects: async function (e) { const t = this.getOffsetParent || cD, n = this.getDimensions, r = await n(e.floating); return { reference: oD(e.reference, await t(e.floating), e.strategy), floating: { x: 0, y: 0, width: r.width, height: r.height } } }, getClientRects: function (e) { return Array.from(e.getClientRects()) }, getDimensions: function (e) { const { width: t, height: n } = YL(e); return { width: t, height: n } }, getScale: XL, isElement: ML, isRTL: function (e) { return "rtl" === BL(e).direction } }; function uD(e, t, n, r) { void 0 === r && (r = {}); const { ancestorScroll: i = !0, ancestorResize: o = !0, elementResize: s = "function" === typeof ResizeObserver, layoutShift: a = "function" === typeof IntersectionObserver, animationFrame: c = !1 } = r, l = ZL(e), u = i || o ? [...l ? HL(l) : [], ...HL(t)] : []; u.forEach((e => { i && e.addEventListener("scroll", n, { passive: !0 }), o && e.addEventListener("resize", n) })); const d = l && a ? function (e, t) { let n, r = null; const i = NL(e); function o() { var e; clearTimeout(n), null == (e = r) || e.disconnect(), r = null } return function s(a, c) { void 0 === a && (a = !1), void 0 === c && (c = 1), o(); const { left: l, top: u, width: d, height: h } = e.getBoundingClientRect(); if (a || t(), !d || !h) return; const f = { rootMargin: -hL(u) + "px " + -hL(i.clientWidth - (l + d)) + "px " + -hL(i.clientHeight - (u + h)) + "px " + -hL(l) + "px", threshold: uL(0, lL(1, c)) || 1 }; let p = !0; function m(e) { const t = e[0].intersectionRatio; if (t !== c) { if (!p) return s(); t ? s(!1, t) : n = setTimeout((() => { s(!1, 1e-7) }), 1e3) } p = !1 } try { r = new IntersectionObserver(m, { ...f, root: i.ownerDocument }) } catch (t0) { r = new IntersectionObserver(m, f) } r.observe(e) }(!0), o }(l, n) : null; let h, f = -1, p = null; s && (p = new ResizeObserver((e => { let [r] = e; r && r.target === l && p && (p.unobserve(t), cancelAnimationFrame(f), f = requestAnimationFrame((() => { var e; null == (e = p) || e.observe(t) }))), n() })), l && !c && p.observe(l), p.observe(t)); let m = c ? eD(e) : null; return c && function t() { const r = eD(e); !m || r.x === m.x && r.y === m.y && r.width === m.width && r.height === m.height || n(); m = r, h = requestAnimationFrame(t) }(), n(), () => { var e; u.forEach((e => { i && e.removeEventListener("scroll", n), o && e.removeEventListener("resize", n) })), null == d || d(), null == (e = p) || e.disconnect(), p = null, c && cancelAnimationFrame(h) } } const dD = KL, hD = function (e) { return void 0 === e && (e = 0), { name: "offset", options: e, async fn(t) { var n, r; const { x: i, y: o, placement: s, middlewareData: a } = t, c = await async function (e, t) { const { placement: n, platform: r, elements: i } = e, o = await (null == r.isRTL ? void 0 : r.isRTL(i.floating)), s = bL(n), a = vL(n), c = "y" === xL(n), l = ["left", "top"].includes(s) ? -1 : 1, u = o && c ? -1 : 1, d = yL(t, e); let { mainAxis: h, crossAxis: f, alignmentAxis: p } = "number" === typeof d ? { mainAxis: d, crossAxis: 0, alignmentAxis: null } : { mainAxis: d.mainAxis || 0, crossAxis: d.crossAxis || 0, alignmentAxis: d.alignmentAxis }; return a && "number" === typeof p && (f = "end" === a ? -1 * p : p), c ? { x: f * u, y: h * l } : { x: h * l, y: f * u } }(t, e); return s === (null == (n = a.offset) ? void 0 : n.placement) && null != (r = a.arrow) && r.alignmentOffset ? {} : { x: i + c.x, y: o + c.y, data: { ...c, placement: s } } } } }, fD = function (e) { return void 0 === e && (e = {}), { name: "shift", options: e, async fn(t) { const { x: n, y: r, placement: i } = t, { mainAxis: o = !0, crossAxis: s = !1, limiter: a = { fn: e => { let { x: t, y: n } = e; return { x: t, y: n } } }, ...c } = yL(e, t), l = { x: n, y: r }, u = await KL(t, c), d = xL(bL(i)), h = wL(d); let f = l[h], p = l[d]; if (o) { const e = "y" === h ? "bottom" : "right"; f = gL(f + u["y" === h ? "top" : "left"], f, f - u[e]) } if (s) { const e = "y" === d ? "bottom" : "right"; p = gL(p + u["y" === d ? "top" : "left"], p, p - u[e]) } const m = a.fn({ ...t, [h]: f, [d]: p }); return { ...m, data: { x: m.x - n, y: m.y - r, enabled: { [h]: o, [d]: s } } } } } }, pD = function (e) { return void 0 === e && (e = {}), { name: "flip", options: e, async fn(t) { var n, r; const { placement: i, middlewareData: o, rects: s, initialPlacement: a, platform: c, elements: l } = t, { mainAxis: u = !0, crossAxis: d = !0, fallbackPlacements: h, fallbackStrategy: f = "bestFit", fallbackAxisSideDirection: p = "none", flipAlignment: m = !0, ...g } = yL(e, t); if (null != (n = o.arrow) && n.alignmentOffset) return {}; const y = bL(i), b = xL(a), v = bL(a) === a, w = await (null == c.isRTL ? void 0 : c.isRTL(l.floating)), E = h || (v || !m ? [AL(a)] : function (e) { const t = AL(e); return [CL(e), t, CL(t)] }(a)), x = "none" !== p; !h && x && E.push(...function (e, t, n, r) { const i = vL(e); let o = function (e, t, n) { const r = ["left", "right"], i = ["right", "left"], o = ["top", "bottom"], s = ["bottom", "top"]; switch (e) { case "top": case "bottom": return n ? t ? i : r : t ? r : i; case "left": case "right": return t ? o : s; default: return [] } }(bL(e), "start" === n, r); return i && (o = o.map((e => e + "-" + i)), t && (o = o.concat(o.map(CL)))), o }(a, m, p, w)); const _ = [a, ...E], C = await KL(t, g), A = []; let S = (null == (r = o.flip) ? void 0 : r.overflows) || []; if (u && A.push(C[y]), d) { const e = function (e, t, n) { void 0 === n && (n = !1); const r = vL(e), i = _L(e), o = EL(i); let s = "x" === i ? r === (n ? "end" : "start") ? "right" : "left" : "start" === r ? "bottom" : "top"; return t.reference[o] > t.floating[o] && (s = AL(s)), [s, AL(s)] }(i, s, w); A.push(C[e[0]], C[e[1]]) } if (S = [...S, { placement: i, overflows: A }], !A.every((e => e <= 0))) { var k, I; const e = ((null == (k = o.flip) ? void 0 : k.index) || 0) + 1, t = _[e]; if (t) return { data: { index: e, overflows: S }, reset: { placement: t } }; let n = null == (I = S.filter((e => e.overflows[0] <= 0)).sort(((e, t) => e.overflows[1] - t.overflows[1]))[0]) ? void 0 : I.placement; if (!n) switch (f) { case "bestFit": { var T; const e = null == (T = S.filter((e => { if (x) { const t = xL(e.placement); return t === b || "y" === t } return !0 })).map((e => [e.placement, e.overflows.filter((e => e > 0)).reduce(((e, t) => e + t), 0)])).sort(((e, t) => e[1] - t[1]))[0]) ? void 0 : T[0]; e && (n = e); break } case "initialPlacement": n = a }if (i !== n) return { reset: { placement: n } } } return {} } } }, mD = function (e) { return void 0 === e && (e = {}), { name: "size", options: e, async fn(t) { var n, r; const { placement: i, rects: o, platform: s, elements: a } = t, { apply: c = (() => { }), ...l } = yL(e, t), u = await KL(t, l), d = bL(i), h = vL(i), f = "y" === xL(i), { width: p, height: m } = o.floating; let g, y; "top" === d || "bottom" === d ? (g = d, y = h === (await (null == s.isRTL ? void 0 : s.isRTL(a.floating)) ? "start" : "end") ? "left" : "right") : (y = d, g = "end" === h ? "top" : "bottom"); const b = m - u.top - u.bottom, v = p - u.left - u.right, w = lL(m - u[g], b), E = lL(p - u[y], v), x = !t.middlewareData.shift; let _ = w, C = E; if (null != (n = t.middlewareData.shift) && n.enabled.x && (C = v), null != (r = t.middlewareData.shift) && r.enabled.y && (_ = b), x && !h) { const e = uL(u.left, 0), t = uL(u.right, 0), n = uL(u.top, 0), r = uL(u.bottom, 0); f ? C = p - 2 * (0 !== e || 0 !== t ? e + t : uL(u.left, u.right)) : _ = m - 2 * (0 !== n || 0 !== r ? n + r : uL(u.top, u.bottom)) } await c({ ...t, availableWidth: C, availableHeight: _ }); const A = await s.getDimensions(a.floating); return p !== A.width || m !== A.height ? { reset: { rects: !0 } } : {} } } }, gD = (e, t, n) => { const r = new Map, i = { platform: lD, ...n }, o = { ...i.platform, _c: r }; return (async (e, t, n) => { const { placement: r = "bottom", strategy: i = "absolute", middleware: o = [], platform: s } = n, a = o.filter(Boolean), c = await (null == s.isRTL ? void 0 : s.isRTL(t)); let l = await s.getElementRects({ reference: e, floating: t, strategy: i }), { x: u, y: d } = VL(l, r, c), h = r, f = {}, p = 0; for (let m = 0; m < a.length; m++) { const { name: n, fn: o } = a[m], { x: g, y: y, data: b, reset: v } = await o({ x: u, y: d, initialPlacement: r, placement: h, strategy: i, middlewareData: f, rects: l, platform: s, elements: { reference: e, floating: t } }); u = null != g ? g : u, d = null != y ? y : d, f = { ...f, [n]: { ...f[n], ...b } }, v && p <= 50 && (p++, "object" === typeof v && (v.placement && (h = v.placement), v.rects && (l = !0 === v.rects ? await s.getElementRects({ reference: e, floating: t, strategy: i }) : v.rects), ({ x: u, y: d } = VL(l, h, c))), m = -1) } return { x: u, y: d, placement: h, strategy: i, middlewareData: f } })(e, t, { ...i, platform: o }) }; var yD = "undefined" !== typeof document ? Ke.useLayoutEffect : Ke.useEffect; function bD(e, t) { if (e === t) return !0; if (typeof e !== typeof t) return !1; if ("function" === typeof e && e.toString() === t.toString()) return !0; let n, r, i; if (e && t && "object" === typeof e) { if (Array.isArray(e)) { if (n = e.length, n !== t.length) return !1; for (r = n; 0 !== r--;)if (!bD(e[r], t[r])) return !1; return !0 } if (i = Object.keys(e), n = i.length, n !== Object.keys(t).length) return !1; for (r = n; 0 !== r--;)if (!{}.hasOwnProperty.call(t, i[r])) return !1; for (r = n; 0 !== r--;) { const n = i[r]; if (("_owner" !== n || !e.$$typeof) && !bD(e[n], t[n])) return !1 } return !0 } return e !== e && t !== t } function vD(e) { if ("undefined" === typeof window) return 1; return (e.ownerDocument.defaultView || window).devicePixelRatio || 1 } function wD(e, t) { const n = vD(e); return Math.round(t * n) / n } function ED(e) { const t = Ke.useRef(e); return yD((() => { t.current = e })), t } const xD = (e, t) => ({ ...hD(e), options: [e, t] }), _D = (e, t) => ({ ...pD(e), options: [e, t] }), CD = (e, t) => ({ ...mD(e), options: [e, t] }); const AD = { ...Ye }, SD = AD.useInsertionEffect || (e => e()); function kD(e) { const t = Ke.useRef((() => { 0 })); return SD((() => { t.current = e })), Ke.useCallback((function () { for (var e = arguments.length, n = new Array(e), r = 0; r < e; r++)n[r] = arguments[r]; return null == t.current ? void 0 : t.current(...n) }), []) } const ID = "ArrowUp", TD = "ArrowDown", ND = "ArrowLeft", PD = "ArrowRight"; var MD = "undefined" !== typeof document ? Ke.useLayoutEffect : Ke.useEffect; const OD = [ND, PD], RD = [ID, TD]; let jD = !1, $D = 0; const LD = () => "floating-ui-" + Math.random().toString(36).slice(2, 6) + $D++; const DD = AD.useId || function () { const [e, t] = Ke.useState((() => jD ? LD() : void 0)); return MD((() => { null == e && t(LD()) }), []), Ke.useEffect((() => { jD = !0 }), []), e }; function UD() { const e = new Map; return { emit(t, n) { var r; null == (r = e.get(t)) || r.forEach((e => e(n))) }, on(t, n) { e.set(t, [...e.get(t) || [], n]) }, off(t, n) { var r; e.set(t, (null == (r = e.get(t)) ? void 0 : r.filter((e => e !== n))) || []) } } } const FD = Ke.createContext(null), BD = Ke.createContext(null), WD = () => { var e; return (null == (e = Ke.useContext(FD)) ? void 0 : e.id) || null }, zD = () => Ke.useContext(BD); const qD = "data-floating-ui-focusable"; function HD(e) { void 0 === e && (e = {}); const { nodeId: t } = e, n = function (e) { const { open: t = !1, onOpenChange: n, elements: r } = e, i = DD(), o = Ke.useRef({}), [s] = Ke.useState((() => UD())), a = null != WD(), [c, l] = Ke.useState(r.reference), u = kD(((e, t, r) => { o.current.openEvent = e ? t : void 0, s.emit("openchange", { open: e, event: t, reason: r, nested: a }), null == n || n(e, t, r) })), d = Ke.useMemo((() => ({ setPositionReference: l })), []), h = Ke.useMemo((() => ({ reference: c || r.reference || null, floating: r.floating || null, domReference: r.reference })), [c, r.reference, r.floating]); return Ke.useMemo((() => ({ dataRef: o, open: t, onOpenChange: u, elements: h, events: s, floatingId: i, refs: d })), [t, u, h, s, i, d]) }({ ...e, elements: { reference: null, floating: null, ...e.elements } }), r = e.rootContext || n, i = r.elements, [o, s] = Ke.useState(null), [a, c] = Ke.useState(null), l = (null == i ? void 0 : i.domReference) || o, u = Ke.useRef(null), d = zD(); MD((() => { l && (u.current = l) }), [l]); const h = function (e) { void 0 === e && (e = {}); const { placement: t = "bottom", strategy: n = "absolute", middleware: r = [], platform: i, elements: { reference: o, floating: s } = {}, transform: a = !0, whileElementsMounted: c, open: l } = e, [u, d] = Ke.useState({ x: 0, y: 0, strategy: n, placement: t, middlewareData: {}, isPositioned: !1 }), [h, f] = Ke.useState(r); bD(h, r) || f(r); const [p, m] = Ke.useState(null), [g, y] = Ke.useState(null), b = Ke.useCallback((e => { e !== x.current && (x.current = e, m(e)) }), []), v = Ke.useCallback((e => { e !== _.current && (_.current = e, y(e)) }), []), w = o || p, E = s || g, x = Ke.useRef(null), _ = Ke.useRef(null), C = Ke.useRef(u), A = null != c, S = ED(c), k = ED(i), I = ED(l), T = Ke.useCallback((() => { if (!x.current || !_.current) return; const e = { placement: t, strategy: n, middleware: h }; k.current && (e.platform = k.current), gD(x.current, _.current, e).then((e => { const t = { ...e, isPositioned: !1 !== I.current }; N.current && !bD(C.current, t) && (C.current = t, t$.flushSync((() => { d(t) }))) })) }), [h, t, n, k, I]); yD((() => { !1 === l && C.current.isPositioned && (C.current.isPositioned = !1, d((e => ({ ...e, isPositioned: !1 })))) }), [l]); const N = Ke.useRef(!1); yD((() => (N.current = !0, () => { N.current = !1 })), []), yD((() => { if (w && (x.current = w), E && (_.current = E), w && E) { if (S.current) return S.current(w, E, T); T() } }), [w, E, T, S, A]); const P = Ke.useMemo((() => ({ reference: x, floating: _, setReference: b, setFloating: v })), [b, v]), M = Ke.useMemo((() => ({ reference: w, floating: E })), [w, E]), O = Ke.useMemo((() => { const e = { position: n, left: 0, top: 0 }; if (!M.floating) return e; const t = wD(M.floating, u.x), r = wD(M.floating, u.y); return a ? { ...e, transform: "translate(" + t + "px, " + r + "px)", ...vD(M.floating) >= 1.5 && { willChange: "transform" } } : { position: n, left: t, top: r } }), [n, a, M.floating, u.x, u.y]); return Ke.useMemo((() => ({ ...u, update: T, refs: P, elements: M, floatingStyles: O })), [u, T, P, M, O]) }({ ...e, elements: { ...i, ...a && { reference: a } } }), f = Ke.useCallback((e => { const t = ML(e) ? { getBoundingClientRect: () => e.getBoundingClientRect(), contextElement: e } : e; c(t), h.refs.setReference(t) }), [h.refs]), p = Ke.useCallback((e => { (ML(e) || null === e) && (u.current = e, s(e)), (ML(h.refs.reference.current) || null === h.refs.reference.current || null !== e && !ML(e)) && h.refs.setReference(e) }), [h.refs]), m = Ke.useMemo((() => ({ ...h.refs, setReference: p, setPositionReference: f, domReference: u })), [h.refs, p, f]), g = Ke.useMemo((() => ({ ...h.elements, domReference: l })), [h.elements, l]), y = Ke.useMemo((() => ({ ...h, ...r, refs: m, elements: g, nodeId: t })), [h, m, g, t, r]); return MD((() => { r.dataRef.current.floatingContext = y; const e = null == d ? void 0 : d.nodesRef.current.find((e => e.id === t)); e && (e.context = y) })), Ke.useMemo((() => ({ ...h, context: y, refs: m, elements: g })), [h, m, g, y]) } const GD = "active", VD = "selected"; function KD(e, t, n) { const r = new Map, i = "item" === n; let o = e; if (i && e) { const { [GD]: t, [VD]: n, ...r } = e; o = r } return { ..."floating" === n && { tabIndex: -1, [qD]: "" }, ...o, ...t.map((t => { const r = t ? t[n] : null; return "function" === typeof r ? e ? r(e) : null : r })).concat(e).reduce(((e, t) => t ? (Object.entries(t).forEach((t => { let [n, o] = t; var s; i && [GD, VD].includes(n) || (0 === n.indexOf("on") ? (r.has(n) || r.set(n, []), "function" === typeof o && (null == (s = r.get(n)) || s.push(o), e[n] = function () { for (var e, t = arguments.length, i = new Array(t), o = 0; o < t; o++)i[o] = arguments[o]; return null == (e = r.get(n)) ? void 0 : e.map((e => e(...i))).find((e => void 0 !== e)) })) : e[n] = o) })), e) : e), {}) } } function YD(e, t) { return { ...e, rects: { ...e.rects, floating: { ...e.rects.floating, height: t } } } } let ZD = (0, Ke.createContext)({ styles: void 0, setReference: () => { }, setFloating: () => { }, getReferenceProps: () => ({}), getFloatingProps: () => ({}), slot: {} }); ZD.displayName = "FloatingContext"; let XD = (0, Ke.createContext)(null); XD.displayName = "PlacementContext"; function JD({ children: e, enabled: t = !0 }) { let [n, r] = (0, Ke.useState)(null), [i, o] = (0, Ke.useState)(0), s = (0, Ke.useRef)(null), [a, c] = (0, Ke.useState)(null); !function (e) { l$((() => { if (!e) return; let t = new MutationObserver((() => { let t = window.getComputedStyle(e).maxHeight, n = parseFloat(t); if (isNaN(n)) return; let r = parseInt(t); isNaN(r) || n !== r && (e.style.maxHeight = `${Math.ceil(n)}px`) })); return t.observe(e, { attributes: !0, attributeFilter: ["style"] }), () => { t.disconnect() } }), [e]) }(a); let l = t && null !== n && null !== a, { to: u = "bottom", gap: d = 0, offset: h = 0, padding: f = 0, inner: p } = function (e, t) { var n, r, i; let o = QD(null != (n = null == e ? void 0 : e.gap) ? n : "var(--anchor-gap, 0)", t), s = QD(null != (r = null == e ? void 0 : e.offset) ? r : "var(--anchor-offset, 0)", t), a = QD(null != (i = null == e ? void 0 : e.padding) ? i : "var(--anchor-padding, 0)", t); return { ...e, gap: o, offset: s, padding: a } }(n, a), [m, g = "center"] = u.split(" "); l$((() => { l && o(0) }), [l]); let { refs: y, floatingStyles: b, context: v } = HD({ open: l, placement: "selection" === m ? "center" === g ? "bottom" : `bottom-${g}` : "center" === g ? `${m}` : `${m}-${g}`, strategy: "absolute", transform: !1, middleware: [xD({ mainAxis: "selection" === m ? 0 : d, crossAxis: h }), (_ = { padding: f }, { ...fD(_), options: [_, C] }), "selection" !== m && _D({ padding: f }), "selection" === m && p ? (x = { ...p, padding: f, overflowRef: s, offset: i, minItemsVisible: 4, referenceOverflowThreshold: f, onFallbackChange(e) { var t, n; if (!e) return; let r = v.elements.floating; if (!r) return; let i = parseFloat(getComputedStyle(r).scrollPaddingBottom) || 0, s = Math.min(4, r.childElementCount), a = 0, c = 0; for (let o of null != (n = null == (t = v.elements.floating) ? void 0 : t.childNodes) ? n : []) if (o instanceof HTMLElement) { let e = o.offsetTop, t = e + o.clientHeight + i, n = r.scrollTop, l = n + r.clientHeight; if (!(e >= n && t <= l)) { c = Math.max(0, Math.min(t, l) - Math.max(e, n)), a = o.clientHeight; break } s-- } s >= 1 && o((e => { let t = a * s - c + i; return e >= t ? e : t })) } }, { name: "inner", options: x, async fn(e) { const { listRef: t, overflowRef: n, onFallbackChange: r, offset: i = 0, index: o = 0, minItemsVisible: s = 4, referenceOverflowThreshold: a = 0, scrollRef: c, ...l } = yL(x, e), { rects: u, elements: { floating: d } } = e, h = t.current[o], f = (null == c ? void 0 : c.current) || d, p = d.clientTop || f.clientTop, m = 0 !== d.clientTop, g = 0 !== f.clientTop, y = d === f; if (!h) return {}; const b = { ...e, ...await xD(-h.offsetTop - d.clientTop - u.reference.height / 2 - h.offsetHeight / 2 - i).fn(e) }, v = await dD(YD(b, f.scrollHeight + p + d.clientTop), l), w = await dD(b, { ...l, elementContext: "reference" }), E = uL(0, v.top), _ = b.y + E, C = (f.scrollHeight > f.clientHeight ? e => e : dL)(uL(0, f.scrollHeight + (m && y || g ? 2 * p : 0) - E - uL(0, v.bottom))); if (f.style.maxHeight = C + "px", f.scrollTop = E, r) { const e = f.offsetHeight < h.offsetHeight * lL(s, t.current.length) - 1 || w.top >= -a || w.bottom >= -a; t$.flushSync((() => r(e))) } return n && (n.current = await dD(YD({ ...b, y: _ }, f.offsetHeight + p + d.clientTop), l)), { y: _ } } }) : null, CD({ padding: f, apply({ availableWidth: e, availableHeight: t, elements: n }) { Object.assign(n.floating.style, { overflow: "auto", maxWidth: `${e}px`, maxHeight: `min(var(--anchor-max-height, 100vh), ${t}px)` }) } })].filter(Boolean), whileElementsMounted: uD }), [w = m, E = g] = v.placement.split("-"); var x, _, C; "selection" === m && (w = "selection"); let A = (0, Ke.useMemo)((() => ({ anchor: [w, E].filter(Boolean).join(" ") })), [w, E]), S = function (e, t) { const { open: n, elements: r } = e, { enabled: i = !0, overflowRef: o, scrollRef: s, onChange: a } = t, c = kD(a), l = Ke.useRef(!1), u = Ke.useRef(null), d = Ke.useRef(null); Ke.useEffect((() => { if (!i) return; function e(e) { if (e.ctrlKey || !t || null == o.current) return; const n = e.deltaY, r = o.current.top >= -.5, i = o.current.bottom >= -.5, s = t.scrollHeight - t.clientHeight, a = n < 0 ? -1 : 1, l = n < 0 ? "max" : "min"; t.scrollHeight <= t.clientHeight || (!r && n > 0 || !i && n < 0 ? (e.preventDefault(), t$.flushSync((() => { c((e => e + Math[l](n, s * a))) }))) : /firefox/i.test(cL()) && (t.scrollTop += n)) } const t = (null == s ? void 0 : s.current) || r.floating; return n && t ? (t.addEventListener("wheel", e), requestAnimationFrame((() => { u.current = t.scrollTop, null != o.current && (d.current = { ...o.current }) })), () => { u.current = null, d.current = null, t.removeEventListener("wheel", e) }) : void 0 }), [i, n, r.floating, o, s, c]); const h = Ke.useMemo((() => ({ onKeyDown() { l.current = !0 }, onWheel() { l.current = !1 }, onPointerMove() { l.current = !1 }, onScroll() { const e = (null == s ? void 0 : s.current) || r.floating; if (o.current && e && l.current) { if (null !== u.current) { const t = e.scrollTop - u.current; (o.current.bottom < -.5 && t < -1 || o.current.top < -.5 && t > 1) && t$.flushSync((() => c((e => e + t)))) } requestAnimationFrame((() => { u.current = e.scrollTop })) } } })), [r.floating, c, o, s]); return Ke.useMemo((() => i ? { floating: h } : {}), [i, h]) }(v, { overflowRef: s, onChange: o }), { getReferenceProps: k, getFloatingProps: I } = function (e) { void 0 === e && (e = []); const t = e.map((e => null == e ? void 0 : e.reference)), n = e.map((e => null == e ? void 0 : e.floating)), r = e.map((e => null == e ? void 0 : e.item)), i = Ke.useCallback((t => KD(t, e, "reference")), t), o = Ke.useCallback((t => KD(t, e, "floating")), n), s = Ke.useCallback((t => KD(t, e, "item")), r); return Ke.useMemo((() => ({ getReferenceProps: i, getFloatingProps: o, getItemProps: s })), [i, o, s]) }([S]), T = d$((e => { c(e), y.setFloating(e) })); return Ke.createElement(XD.Provider, { value: r }, Ke.createElement(ZD.Provider, { value: { setFloating: T, setReference: y.setReference, styles: b, getReferenceProps: k, getFloatingProps: I, slot: A } }, e)) } function QD(e, t, n) { let r = c$(), i = d$(((e, t) => { if (null == e) return [n, null]; if ("number" == typeof e) return [e, null]; if ("string" == typeof e) { if (!t) return [n, null]; let i = tU(e, t); return [i, n => { let o = eU(e); { let s = o.map((e => window.getComputedStyle(t).getPropertyValue(e))); r.requestAnimationFrame((function a() { r.nextFrame(a); let c = !1; for (let [e, n] of o.entries()) { let r = window.getComputedStyle(t).getPropertyValue(n); if (s[e] !== r) { s[e] = r, c = !0; break } } if (!c) return; let l = tU(e, t); i !== l && (n(l), i = l) })) } return r.dispose }] } return [n, null] })), o = (0, Ke.useMemo)((() => i(e, t)[0]), [e, t]), [s = o, a] = (0, Ke.useState)(); return l$((() => { let [n, r] = i(e, t); if (a(n), r) return r(a) }), [e, t]), s } function eU(e) { let t = /var\((.*)\)/.exec(e); if (t) { let e = t[1].indexOf(","); if (-1 === e) return [t[1]]; let n = t[1].slice(0, e).trim(), r = t[1].slice(e + 1).trim(); return r ? [n, ...eU(r)] : [n] } return [] } function tU(e, t) { let n = document.createElement("div"); t.appendChild(n), n.style.setProperty("margin-top", "0px", "important"), n.style.setProperty("margin-top", e, "important"); let r = parseFloat(window.getComputedStyle(n).marginTop) || 0; return t.removeChild(n), r } let nU = (0, Ke.createContext)(null); nU.displayName = "OpenClosedContext"; var rU = (e => (e[e.Open = 1] = "Open", e[e.Closed = 2] = "Closed", e[e.Closing = 4] = "Closing", e[e.Opening = 8] = "Opening", e))(rU || {}); function iU() { return (0, Ke.useContext)(nU) } function oU({ value: e, children: t }) { return Ke.createElement(nU.Provider, { value: e }, t) } function sU({ children: e }) { return Ke.createElement(nU.Provider, { value: null }, e) } function aU(e) { let t = e.parentElement, n = null; for (; t && !(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement && (n = t), t = t.parentElement; let r = "" === (null == t ? void 0 : t.getAttribute("disabled")); return (!r || !function (e) { if (!e) return !1; let t = e.previousElementSibling; for (; null !== t;) { if (t instanceof HTMLLegendElement) return !1; t = t.previousElementSibling } return !0 }(n)) && r } var cU = (e => (e[e.First = 0] = "First", e[e.Previous = 1] = "Previous", e[e.Next = 2] = "Next", e[e.Last = 3] = "Last", e[e.Specific = 4] = "Specific", e[e.Nothing = 5] = "Nothing", e))(cU || {}); function lU(e, t) { let n = t.resolveItems(); if (n.length <= 0) return null; let r = t.resolveActiveIndex(), i = null != r ? r : -1; switch (e.focus) { case 0: for (let e = 0; e < n.length; ++e)if (!t.resolveDisabled(n[e], e, n)) return e; return r; case 1: -1 === i && (i = n.length); for (let e = i - 1; e >= 0; --e)if (!t.resolveDisabled(n[e], e, n)) return e; return r; case 2: for (let e = i + 1; e < n.length; ++e)if (!t.resolveDisabled(n[e], e, n)) return e; return r; case 3: for (let e = n.length - 1; e >= 0; --e)if (!t.resolveDisabled(n[e], e, n)) return e; return r; case 4: for (let r = 0; r < n.length; ++r)if (t.resolveId(n[r], r, n) === e.id) return r; return r; case 5: return null; default: !function (e) { throw new Error("Unexpected object: " + e) }(e) } } function uU(...e) { return Array.from(new Set(e.flatMap((e => "string" == typeof e ? e.split(" ") : [])))).filter(Boolean).join(" ") } var dU = (e => (e[e.None = 0] = "None", e[e.RenderStrategy = 1] = "RenderStrategy", e[e.Static = 2] = "Static", e))(dU || {}), hU = (e => (e[e.Unmount = 0] = "Unmount", e[e.Hidden = 1] = "Hidden", e))(hU || {}); function fU() { let e = function () { let e = (0, Ke.useRef)([]), t = (0, Ke.useCallback)((t => { for (let n of e.current) null != n && ("function" == typeof n ? n(t) : n.current = t) }), []); return (...n) => { if (!n.every((e => null == e))) return e.current = n, t } }(); return (0, Ke.useCallback)((t => function ({ ourProps: e, theirProps: t, slot: n, defaultTag: r, features: i, visible: o = !0, name: s, mergeRefs: a }) { a = null != a ? a : mU; let c = gU(t, e); if (o) return pU(c, n, r, s, a); let l = null != i ? i : 0; if (2 & l) { let { static: e = !1, ...t } = c; if (e) return pU(t, n, r, s, a) } if (1 & l) { let { unmount: e = !0, ...t } = c; return C$(e ? 0 : 1, { 0: () => null, 1: () => pU({ ...t, hidden: !0, style: { display: "none" } }, n, r, s, a) }) } return pU(c, n, r, s, a) }({ mergeRefs: e, ...t })), [e]) } function pU(e, t = {}, n, r, i) { let { as: o = n, children: s, refName: a = "ref", ...c } = wU(e, ["unmount", "static"]), l = void 0 !== e.ref ? { [a]: e.ref } : {}, u = "function" == typeof s ? s(t) : s; "className" in c && c.className && "function" == typeof c.className && (c.className = c.className(t)), c["aria-labelledby"] && c["aria-labelledby"] === c.id && (c["aria-labelledby"] = void 0); let d = {}; if (t) { let e = !1, n = []; for (let [r, i] of Object.entries(t)) "boolean" == typeof i && (e = !0), !0 === i && n.push(r.replace(/([A-Z])/g, (e => `-${e.toLowerCase()}`))); if (e) { d["data-headlessui-state"] = n.join(" "); for (let e of n) d[`data-${e}`] = "" } } if (o === Ke.Fragment && (Object.keys(vU(c)).length > 0 || Object.keys(vU(d)).length > 0)) { if ((0, Ke.isValidElement)(u) && !(Array.isArray(u) && u.length > 1)) { let e = u.props, t = null == e ? void 0 : e.className, n = "function" == typeof t ? (...e) => uU(t(...e), c.className) : uU(t, c.className), r = n ? { className: n } : {}, o = gU(u.props, vU(wU(c, ["ref"]))); for (let i in d) i in o && delete d[i]; return (0, Ke.cloneElement)(u, Object.assign({}, o, d, l, { ref: i(EU(u), l.ref) }, r)) } if (Object.keys(vU(c)).length > 0) throw new Error(['Passing props on "Fragment"!', "", `The current component <${r} /> is rendering a "Fragment".`, "However we need to passthrough the following props:", Object.keys(vU(c)).concat(Object.keys(vU(d))).map((e => `  - ${e}`)).join("\n"), "", "You can apply a few solutions:", ['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".', "Render a single element as the child so that we can forward the props onto that element."].map((e => `  - ${e}`)).join("\n")].join("\n")) } return (0, Ke.createElement)(o, Object.assign({}, wU(c, ["ref"]), o !== Ke.Fragment && l, o !== Ke.Fragment && d), u) } function mU(...e) { return e.every((e => null == e)) ? void 0 : t => { for (let n of e) null != n && ("function" == typeof n ? n(t) : n.current = t) } } function gU(...e) { if (0 === e.length) return {}; if (1 === e.length) return e[0]; let t = {}, n = {}; for (let r of e) for (let e in r) e.startsWith("on") && "function" == typeof r[e] ? (null != n[e] || (n[e] = []), n[e].push(r[e])) : t[e] = r[e]; if (t.disabled || t["aria-disabled"]) for (let r in n) /^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r) && (n[r] = [e => { var t; return null == (t = null == e ? void 0 : e.preventDefault) ? void 0 : t.call(e) }]); for (let r in n) Object.assign(t, { [r](e, ...t) { let i = n[r]; for (let n of i) { if ((e instanceof Event || (null == e ? void 0 : e.nativeEvent) instanceof Event) && e.defaultPrevented) return; n(e, ...t) } } }); return t } function yU(...e) { if (0 === e.length) return {}; if (1 === e.length) return e[0]; let t = {}, n = {}; for (let r of e) for (let e in r) e.startsWith("on") && "function" == typeof r[e] ? (null != n[e] || (n[e] = []), n[e].push(r[e])) : t[e] = r[e]; for (let r in n) Object.assign(t, { [r](...e) { let t = n[r]; for (let n of t) null == n || n(...e) } }); return t } function bU(e) { var t; return Object.assign((0, Ke.forwardRef)(e), { displayName: null != (t = e.displayName) ? t : e.name }) } function vU(e) { let t = Object.assign({}, e); for (let n in t) void 0 === t[n] && delete t[n]; return t } function wU(e, t = []) { let n = Object.assign({}, e); for (let r of t) r in n && delete n[r]; return n } function EU(e) { return Ke.version.split(".")[0] >= "19" ? e.props.ref : e.ref } let xU = (0, Ke.createContext)(void 0); function _U() { return (0, Ke.useContext)(xU) } let CU = (0, Ke.createContext)(null); function AU() { let e = (0, Ke.useContext)(CU); if (null === e) { let e = new Error("You used a <Description /> component, but it is not inside a relevant parent."); throw Error.captureStackTrace && Error.captureStackTrace(e, AU), e } return e } function SU() { let [e, t] = (0, Ke.useState)([]); return [e.length > 0 ? e.join(" ") : void 0, (0, Ke.useMemo)((() => function (e) { let n = d$((e => (t((t => [...t, e])), () => t((t => { let n = t.slice(), r = n.indexOf(e); return -1 !== r && n.splice(r, 1), n }))))), r = (0, Ke.useMemo)((() => ({ register: n, slot: e.slot, name: e.name, props: e.props, value: e.value })), [n, e.slot, e.name, e.props, e.value]); return Ke.createElement(CU.Provider, { value: r }, e.children) }), [t])] } CU.displayName = "DescriptionContext"; let kU = bU((function (e, t) { let n = (0, Ke.useId)(), r = _U(), { id: i = `headlessui-description-${n}`, ...o } = e, s = AU(), a = X$(t); l$((() => s.register(i)), [i, s.register]); let c = r || !1, l = (0, Ke.useMemo)((() => ({ ...s.slot, disabled: c })), [s.slot, c]), u = { ref: a, ...s.props, id: i }; return fU()({ ourProps: u, theirProps: o, slot: l, defaultTag: "p", name: s.name || "Description" }) })), IU = Object.assign(kU, {}); var TU = (e => (e.Space = " ", e.Enter = "Enter", e.Escape = "Escape", e.Backspace = "Backspace", e.Delete = "Delete", e.ArrowLeft = "ArrowLeft", e.ArrowUp = "ArrowUp", e.ArrowRight = "ArrowRight", e.ArrowDown = "ArrowDown", e.Home = "Home", e.End = "End", e.PageUp = "PageUp", e.PageDown = "PageDown", e.Tab = "Tab", e))(TU || {}); let NU = (0, Ke.createContext)(void 0); let PU = (0, Ke.createContext)(null); function MU() { let e = (0, Ke.useContext)(PU); if (null === e) { let e = new Error("You used a <Label /> component, but it is not inside a relevant parent."); throw Error.captureStackTrace && Error.captureStackTrace(e, MU), e } return e } function OU({ inherit: e = !1 } = {}) { let t = function (e) { var t, n, r; let i = null != (n = null == (t = (0, Ke.useContext)(PU)) ? void 0 : t.value) ? n : void 0; return (null != (r = null == e ? void 0 : e.length) ? r : 0) > 0 ? [i, ...e].filter(Boolean).join(" ") : i }(), [n, r] = (0, Ke.useState)([]), i = e ? [t, ...n].filter(Boolean) : n; return [i.length > 0 ? i.join(" ") : void 0, (0, Ke.useMemo)((() => function (e) { let t = d$((e => (r((t => [...t, e])), () => r((t => { let n = t.slice(), r = n.indexOf(e); return -1 !== r && n.splice(r, 1), n }))))), n = (0, Ke.useMemo)((() => ({ register: t, slot: e.slot, name: e.name, props: e.props, value: e.value })), [t, e.slot, e.name, e.props, e.value]); return Ke.createElement(PU.Provider, { value: n }, e.children) }), [r])] } PU.displayName = "LabelContext"; let RU = bU((function (e, t) { var n; let r = (0, Ke.useId)(), i = MU(), o = (0, Ke.useContext)(NU), s = _U(), { id: a = `headlessui-label-${r}`, htmlFor: c = (null != o ? o : null == (n = i.props) ? void 0 : n.htmlFor), passive: l = !1, ...u } = e, d = X$(t); l$((() => i.register(a)), [a, i.register]); let h = d$((e => { let t = e.currentTarget; if (t instanceof HTMLLabelElement && e.preventDefault(), i.props && "onClick" in i.props && "function" == typeof i.props.onClick && i.props.onClick(e), t instanceof HTMLLabelElement) { let e = document.getElementById(t.htmlFor); if (e) { let t = e.getAttribute("disabled"); if ("true" === t || "" === t) return; let n = e.getAttribute("aria-disabled"); if ("true" === n || "" === n) return; (e instanceof HTMLInputElement && ("radio" === e.type || "checkbox" === e.type) || "radio" === e.role || "checkbox" === e.role || "switch" === e.role) && e.click(), e.focus({ preventScroll: !0 }) } } })), f = s || !1, p = (0, Ke.useMemo)((() => ({ ...i.slot, disabled: f })), [i.slot, f]), m = { ref: d, ...i.props, id: a, htmlFor: c, onClick: h }; return l && ("onClick" in m && (delete m.htmlFor, delete m.onClick), "onClick" in u && delete u.onClick), fU()({ ourProps: m, theirProps: u, slot: p, defaultTag: c ? "label" : "div", name: i.name || "Label" }) })); Object.assign(RU, {}); function jU(e) { let t = d$(e), n = (0, Ke.useRef)(!1); (0, Ke.useEffect)((() => (n.current = !1, () => { n.current = !0, s$((() => { n.current && t() })) })), [t]) } function $U() { let e = function () { let e = "undefined" == typeof document; return "useSyncExternalStore" in Ye && (e => e.useSyncExternalStore)(Ye)((() => () => { }), (() => !1), (() => !e)) }(), [t, n] = Ke.useState(i$.isHandoffComplete); return t && !1 === i$.isHandoffComplete && n(!1), Ke.useEffect((() => { !0 !== t && n(!0) }), [t]), Ke.useEffect((() => i$.handoff()), []), !e && t } let LU = (0, Ke.createContext)(!1); function DU(e) { return Ke.createElement(LU.Provider, { value: e.force }, e.children) } function UU(e) { let t = (0, Ke.useContext)(LU), n = (0, Ke.useContext)(zU), r = q$(e), [i, o] = (0, Ke.useState)((() => { var e; if (!t && null !== n) return null != (e = n.current) ? e : null; if (i$.isServer) return null; let i = null == r ? void 0 : r.getElementById("headlessui-portal-root"); if (i) return i; if (null === r) return null; let o = r.createElement("div"); return o.setAttribute("id", "headlessui-portal-root"), r.body.appendChild(o) })); return (0, Ke.useEffect)((() => { null !== i && (null != r && r.body.contains(i) || null == r || r.body.appendChild(i)) }), [i, r]), (0, Ke.useEffect)((() => { t || null !== n && o(n.current) }), [n, o, t]), i } let FU = Ke.Fragment, BU = bU((function (e, t) { let n = e, r = (0, Ke.useRef)(null), i = X$(function (e, t = !0) { return Object.assign(e, { [Z$]: t }) }((e => { r.current = e })), t), o = q$(r), s = UU(r), [a] = (0, Ke.useState)((() => { var e; return i$.isServer ? null : null != (e = null == o ? void 0 : o.createElement("div")) ? e : null })), c = (0, Ke.useContext)(qU), l = $U(); l$((() => { !s || !a || s.contains(a) || (a.setAttribute("data-headlessui-portal", ""), s.appendChild(a)) }), [s, a]), l$((() => { if (a && c) return c.register(a) }), [c, a]), jU((() => { var e; !s || !a || (a instanceof Node && s.contains(a) && s.removeChild(a), s.childNodes.length <= 0 && (null == (e = s.parentElement) || e.removeChild(s))) })); let u = fU(); return l && s && a ? (0, t$.createPortal)(u({ ourProps: { ref: i }, theirProps: n, slot: {}, defaultTag: FU, name: "Portal" }), a) : null })); let WU = Ke.Fragment, zU = (0, Ke.createContext)(null); let qU = (0, Ke.createContext)(null); let HU = bU((function (e, t) { let n = X$(t), { enabled: r = !0, ...i } = e, o = fU(); return r ? Ke.createElement(BU, { ...i, ref: n }) : o({ ourProps: { ref: n }, theirProps: i, slot: {}, defaultTag: FU, name: "Portal" }) })), GU = bU((function (e, t) { let { target: n, ...r } = e, i = { ref: X$(t) }, o = fU(); return Ke.createElement(zU.Provider, { value: n }, o({ ourProps: i, theirProps: r, defaultTag: WU, name: "Popover.Group" })) })), VU = Object.assign(HU, { Group: GU }); var KU = (e => (e[e.Open = 0] = "Open", e[e.Closed = 1] = "Closed", e))(KU || {}), YU = (e => (e[e.Pointer = 0] = "Pointer", e[e.Other = 1] = "Other", e))(YU || {}), ZU = (e => (e[e.OpenMenu = 0] = "OpenMenu", e[e.CloseMenu = 1] = "CloseMenu", e[e.GoToItem = 2] = "GoToItem", e[e.Search = 3] = "Search", e[e.ClearSearch = 4] = "ClearSearch", e[e.RegisterItem = 5] = "RegisterItem", e[e.UnregisterItem = 6] = "UnregisterItem", e[e.SetButtonElement = 7] = "SetButtonElement", e[e.SetItemsElement = 8] = "SetItemsElement", e))(ZU || {}); function XU(e, t = (e => e)) { let n = null !== e.activeItemIndex ? e.items[e.activeItemIndex] : null, r = L$(t(e.items.slice()), (e => e.dataRef.current.domRef.current)), i = n ? r.indexOf(n) : null; return -1 === i && (i = null), { items: r, activeItemIndex: i } } let JU = { 1: e => 1 === e.menuState ? e : { ...e, activeItemIndex: null, menuState: 1 }, 0: e => 0 === e.menuState ? e : { ...e, __demoMode: !1, menuState: 0 }, 2: (e, t) => { var n, r, i, o, s; if (1 === e.menuState) return e; let a = { ...e, searchQuery: "", activationTrigger: null != (n = t.trigger) ? n : 1, __demoMode: !1 }; if (t.focus === cU.Nothing) return { ...a, activeItemIndex: null }; if (t.focus === cU.Specific) return { ...a, activeItemIndex: e.items.findIndex((e => e.id === t.id)) }; if (t.focus === cU.Previous) { let n = e.activeItemIndex; if (null !== n) { let o = e.items[n].dataRef.current.domRef, s = lU(t, { resolveItems: () => e.items, resolveActiveIndex: () => e.activeItemIndex, resolveId: e => e.id, resolveDisabled: e => e.dataRef.current.disabled }); if (null !== s) { let t = e.items[s].dataRef.current.domRef; if ((null == (r = o.current) ? void 0 : r.previousElementSibling) === t.current || null === (null == (i = t.current) ? void 0 : i.previousElementSibling)) return { ...a, activeItemIndex: s } } } } else if (t.focus === cU.Next) { let n = e.activeItemIndex; if (null !== n) { let r = e.items[n].dataRef.current.domRef, i = lU(t, { resolveItems: () => e.items, resolveActiveIndex: () => e.activeItemIndex, resolveId: e => e.id, resolveDisabled: e => e.dataRef.current.disabled }); if (null !== i) { let t = e.items[i].dataRef.current.domRef; if ((null == (o = r.current) ? void 0 : o.nextElementSibling) === t.current || null === (null == (s = t.current) ? void 0 : s.nextElementSibling)) return { ...a, activeItemIndex: i } } } } let c = XU(e), l = lU(t, { resolveItems: () => c.items, resolveActiveIndex: () => c.activeItemIndex, resolveId: e => e.id, resolveDisabled: e => e.dataRef.current.disabled }); return { ...a, ...c, activeItemIndex: l } }, 3: (e, t) => { let n = "" !== e.searchQuery ? 0 : 1, r = e.searchQuery + t.value.toLowerCase(), i = (null !== e.activeItemIndex ? e.items.slice(e.activeItemIndex + n).concat(e.items.slice(0, e.activeItemIndex + n)) : e.items).find((e => { var t; return (null == (t = e.dataRef.current.textValue) ? void 0 : t.startsWith(r)) && !e.dataRef.current.disabled })), o = i ? e.items.indexOf(i) : -1; return -1 === o || o === e.activeItemIndex ? { ...e, searchQuery: r } : { ...e, searchQuery: r, activeItemIndex: o, activationTrigger: 1 } }, 4: e => "" === e.searchQuery ? e : { ...e, searchQuery: "", searchActiveItemIndex: null }, 5: (e, t) => { let n = XU(e, (e => [...e, { id: t.id, dataRef: t.dataRef }])); return { ...e, ...n } }, 6: (e, t) => { let n = XU(e, (e => { let n = e.findIndex((e => e.id === t.id)); return -1 !== n && e.splice(n, 1), e })); return { ...e, ...n, activationTrigger: 1 } }, 7: (e, t) => e.buttonElement === t.element ? e : { ...e, buttonElement: t.element }, 8: (e, t) => e.itemsElement === t.element ? e : { ...e, itemsElement: t.element } }, QU = (0, Ke.createContext)(null); function eF(e) { let t = (0, Ke.useContext)(QU); if (null === t) { let t = new Error(`<${e} /> is missing a parent <Menu /> component.`); throw Error.captureStackTrace && Error.captureStackTrace(t, eF), t } return t } function tF(e, t) { return C$(t.type, JU, e, t) } QU.displayName = "MenuContext"; let nF = Ke.Fragment; let rF = dU.RenderStrategy | dU.Static; let iF = Ke.Fragment; let oF = bU((function (e, t) { let { __demoMode: n = !1, ...r } = e, i = (0, Ke.useReducer)(tF, { __demoMode: n, menuState: n ? 0 : 1, buttonElement: null, itemsElement: null, items: [], searchQuery: "", activeItemIndex: null, activationTrigger: 1 }), [{ menuState: o, itemsElement: s, buttonElement: a }, c] = i, l = X$(t); z$(0 === o, [a, s], ((e, t) => { c({ type: 1 }), M$(t, P$.Loose) || (e.preventDefault(), null == a || a.focus()) })); let u = d$((() => { c({ type: 1 }) })), d = (0, Ke.useMemo)((() => ({ open: 0 === o, close: u })), [o, u]), h = { ref: l }, f = fU(); return Ke.createElement(JD, null, Ke.createElement(QU.Provider, { value: i }, Ke.createElement(oU, { value: C$(o, { 0: rU.Open, 1: rU.Closed }) }, f({ ourProps: h, theirProps: r, slot: d, defaultTag: nF, name: "Menu" })))) })), sF = bU((function (e, t) { var n; let r = (0, Ke.useId)(), { id: i = `headlessui-menu-button-${r}`, disabled: o = !1, autoFocus: s = !1, ...a } = e, [c, l] = eF("Menu.Button"), u = (0, Ke.useContext)(ZD).getReferenceProps, d = X$(t, (0, Ke.useContext)(ZD).setReference, d$((e => l({ type: 7, element: e })))), h = d$((e => { switch (e.key) { case TU.Space: case TU.Enter: case TU.ArrowDown: e.preventDefault(), e.stopPropagation(), (0, t$.flushSync)((() => l({ type: 0 }))), l({ type: 2, focus: cU.First }); break; case TU.ArrowUp: e.preventDefault(), e.stopPropagation(), (0, t$.flushSync)((() => l({ type: 0 }))), l({ type: 2, focus: cU.Last }) } })), f = d$((e => { switch (e.key) { case TU.Space: e.preventDefault() } })), p = d$((e => { var t; if (aU(e.currentTarget)) return e.preventDefault(); o || (0 === c.menuState ? ((0, t$.flushSync)((() => l({ type: 1 }))), null == (t = c.buttonElement) || t.focus({ preventScroll: !0 })) : (e.preventDefault(), l({ type: 0 }))) })), { isFocusVisible: m, focusProps: g } = Yj({ autoFocus: s }), { isHovered: y, hoverProps: b } = function (e) { let { onHoverStart: t, onHoverChange: n, onHoverEnd: r, isDisabled: i } = e, [o, s] = (0, Ke.useState)(!1), a = (0, Ke.useRef)({ isHovered: !1, ignoreEmulatedMouseEvents: !1, pointerType: "", target: null }).current; (0, Ke.useEffect)(e$, []); let { hoverProps: c, triggerHoverEnd: l } = (0, Ke.useMemo)((() => { let e = (e, r) => { if (a.pointerType = r, i || "touch" === r || a.isHovered || !e.currentTarget.contains(e.target)) return; a.isHovered = !0; let o = e.currentTarget; a.target = o, t && t({ type: "hoverstart", target: o, pointerType: r }), n && n(!0), s(!0) }, o = (e, t) => { if (a.pointerType = "", a.target = null, "touch" === t || !a.isHovered) return; a.isHovered = !1; let i = e.currentTarget; r && r({ type: "hoverend", target: i, pointerType: t }), n && n(!1), s(!1) }, c = {}; return "undefined" !== typeof PointerEvent ? (c.onPointerEnter = t => { Zj && "mouse" === t.pointerType || e(t, t.pointerType) }, c.onPointerLeave = e => { !i && e.currentTarget.contains(e.target) && o(e, e.pointerType) }) : (c.onTouchStart = () => { a.ignoreEmulatedMouseEvents = !0 }, c.onMouseEnter = t => { a.ignoreEmulatedMouseEvents || Zj || e(t, "mouse"), a.ignoreEmulatedMouseEvents = !1 }, c.onMouseLeave = e => { !i && e.currentTarget.contains(e.target) && o(e, "mouse") }), { hoverProps: c, triggerHoverEnd: o } }), [t, n, r, i, a]); return (0, Ke.useEffect)((() => { i && l({ currentTarget: a.target }, a.pointerType) }), [i]), { hoverProps: c, isHovered: o } }({ isDisabled: o }), { pressed: v, pressProps: w } = function ({ disabled: e = !1 } = {}) { let t = (0, Ke.useRef)(null), [n, r] = (0, Ke.useState)(!1), i = c$(), o = d$((() => { t.current = null, r(!1), i.dispose() })), s = d$((e => { if (i.dispose(), null === t.current) { t.current = e.currentTarget, r(!0); { let n = o$(e.currentTarget); i.addEventListener(n, "pointerup", o, !1), i.addEventListener(n, "pointermove", (e => { if (t.current) { let n = function (e) { let t = e.width / 2, n = e.height / 2; return { top: e.clientY - n, right: e.clientX + t, bottom: e.clientY + n, left: e.clientX - t } }(e); r(function (e, t) { return !(!e || !t || e.right < t.left || e.left > t.right || e.bottom < t.top || e.top > t.bottom) }(n, t.current.getBoundingClientRect())) } }), !1), i.addEventListener(n, "pointercancel", o, !1) } } })); return { pressed: n, pressProps: e ? {} : { onPointerDown: s, onPointerUp: o, onClick: o } } }({ disabled: o }), E = (0, Ke.useMemo)((() => ({ open: 0 === c.menuState, active: v || 0 === c.menuState, disabled: o, hover: y, focus: m, autofocus: s })), [c, y, m, v, o, s]), x = yU(u(), { ref: d, id: i, type: H$(e, c.buttonElement), "aria-haspopup": "menu", "aria-controls": null == (n = c.itemsElement) ? void 0 : n.id, "aria-expanded": 0 === c.menuState, disabled: o || void 0, autoFocus: s, onKeyDown: h, onKeyUp: f, onClick: p }, g, b, w); return fU()({ ourProps: x, theirProps: a, slot: E, defaultTag: "button", name: "Menu.Button" }) })), aF = bU((function (e, t) { var n, r; let i = (0, Ke.useId)(), { id: o = `headlessui-menu-items-${i}`, anchor: s, portal: a = !1, modal: c = !0, transition: l = !1, ...u } = e, d = function (e) { return (0, Ke.useMemo)((() => e ? "string" == typeof e ? { to: e } : e : null), [e]) }(s), [h, f] = eF("Menu.Items"), [p, m] = function (e = null) { !1 === e && (e = null), "string" == typeof e && (e = { to: e }); let t = (0, Ke.useContext)(XD), n = (0, Ke.useMemo)((() => e), [JSON.stringify(e, ((e, t) => { var n; return null != (n = null == t ? void 0 : t.outerHTML) ? n : t }))]); l$((() => { null == t || t(null != n ? n : null) }), [t, n]); let r = (0, Ke.useContext)(ZD); return (0, Ke.useMemo)((() => [r.setFloating, e ? r.styles : {}]), [r.setFloating, e, r.styles]) }(d), g = function () { let { getFloatingProps: e, slot: t } = (0, Ke.useContext)(ZD); return (0, Ke.useCallback)(((...n) => Object.assign({}, e(...n), { "data-anchor": t.anchor })), [e, t]) }(), [y, b] = (0, Ke.useState)(null), v = X$(t, d ? p : null, d$((e => f({ type: 8, element: e }))), b), w = q$(h.itemsElement); d && (a = !0); let E = iU(), [x, _] = aL(l, y, null !== E ? (E & rU.Open) === rU.Open : 0 === h.menuState); _$(x, h.buttonElement, (() => { f({ type: 1 }) })), Y$(!h.__demoMode && (c && 0 === h.menuState), w), x$(!h.__demoMode && (c && 0 === h.menuState), { allowed: (0, Ke.useCallback)((() => [h.buttonElement, h.itemsElement]), [h.buttonElement, h.itemsElement]) }); let C = !function (e, t) { let n = (0, Ke.useRef)({ left: 0, top: 0 }); if (l$((() => { if (!t) return; let e = t.getBoundingClientRect(); e && (n.current = e) }), [e, t]), null == t || !e || t === document.activeElement) return !1; let r = t.getBoundingClientRect(); return r.top !== n.current.top || r.left !== n.current.left }(0 !== h.menuState, h.buttonElement) && x; (0, Ke.useEffect)((() => { let e = h.itemsElement; e && 0 === h.menuState && e !== (null == w ? void 0 : w.activeElement) && e.focus({ preventScroll: !0 }) }), [h.menuState, h.itemsElement, w]), function (e, { container: t, accept: n, walk: r }) { let i = (0, Ke.useRef)(n), o = (0, Ke.useRef)(r); (0, Ke.useEffect)((() => { i.current = n, o.current = r }), [n, r]), l$((() => { if (!t || !e) return; let n = o$(t); if (!n) return; let r = i.current, s = o.current, a = Object.assign((e => r(e)), { acceptNode: r }), c = n.createTreeWalker(t, NodeFilter.SHOW_ELEMENT, a, !1); for (; c.nextNode();)s(c.currentNode) }), [t, e, i, o]) }(0 === h.menuState, { container: h.itemsElement, accept: e => "menuitem" === e.getAttribute("role") ? NodeFilter.FILTER_REJECT : e.hasAttribute("role") ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT, walk(e) { e.setAttribute("role", "none") } }); let A = c$(), S = d$((e => { var t, n, r; switch (A.dispose(), e.key) { case TU.Space: if ("" !== h.searchQuery) return e.preventDefault(), e.stopPropagation(), f({ type: 3, value: e.key }); case TU.Enter: if (e.preventDefault(), e.stopPropagation(), f({ type: 1 }), null !== h.activeItemIndex) { let { dataRef: e } = h.items[h.activeItemIndex]; null == (n = null == (t = e.current) ? void 0 : t.domRef.current) || n.click() } O$(h.buttonElement); break; case TU.ArrowDown: return e.preventDefault(), e.stopPropagation(), f({ type: 2, focus: cU.Next }); case TU.ArrowUp: return e.preventDefault(), e.stopPropagation(), f({ type: 2, focus: cU.Previous }); case TU.Home: case TU.PageUp: return e.preventDefault(), e.stopPropagation(), f({ type: 2, focus: cU.First }); case TU.End: case TU.PageDown: return e.preventDefault(), e.stopPropagation(), f({ type: 2, focus: cU.Last }); case TU.Escape: e.preventDefault(), e.stopPropagation(), (0, t$.flushSync)((() => f({ type: 1 }))), null == (r = h.buttonElement) || r.focus({ preventScroll: !0 }); break; case TU.Tab: e.preventDefault(), e.stopPropagation(), (0, t$.flushSync)((() => f({ type: 1 }))), function (e, t) { D$(N$(), t, { relativeTo: e }) }(h.buttonElement, e.shiftKey ? k$.Previous : k$.Next); break; default: 1 === e.key.length && (f({ type: 3, value: e.key }), A.setTimeout((() => f({ type: 4 })), 350)) } })), k = d$((e => { switch (e.key) { case TU.Space: e.preventDefault() } })), I = (0, Ke.useMemo)((() => ({ open: 0 === h.menuState })), [h.menuState]), T = yU(d ? g() : {}, { "aria-activedescendant": null === h.activeItemIndex || null == (n = h.items[h.activeItemIndex]) ? void 0 : n.id, "aria-labelledby": null == (r = h.buttonElement) ? void 0 : r.id, id: o, onKeyDown: S, onKeyUp: k, role: "menu", tabIndex: 0 === h.menuState ? 0 : void 0, ref: v, style: { ...u.style, ...m, "--button-width": h$(h.buttonElement, !0).width }, ...sL(_) }), N = fU(); return Ke.createElement(VU, { enabled: !!a && (e.static || x) }, N({ ourProps: T, theirProps: u, slot: I, defaultTag: "div", features: rF, visible: C, name: "Menu.Items" })) })), cF = bU((function (e, t) { let n = (0, Ke.useId)(), { id: r = `headlessui-menu-item-${n}`, disabled: i = !1, ...o } = e, [s, a] = eF("Menu.Item"), c = null !== s.activeItemIndex && s.items[s.activeItemIndex].id === r, l = (0, Ke.useRef)(null), u = X$(t, l); l$((() => { if (!s.__demoMode && 0 === s.menuState && c && 0 !== s.activationTrigger) return a$().requestAnimationFrame((() => { var e, t; null == (t = null == (e = l.current) ? void 0 : e.scrollIntoView) || t.call(e, { block: "nearest" }) })) }), [s.__demoMode, l, c, s.menuState, s.activationTrigger, s.activeItemIndex]); let d = eL(l), h = (0, Ke.useRef)({ disabled: i, domRef: l, get textValue() { return d() } }); l$((() => { h.current.disabled = i }), [h, i]), l$((() => (a({ type: 5, id: r, dataRef: h }), () => a({ type: 6, id: r }))), [h, r]); let f = d$((() => { a({ type: 1 }) })), p = d$((e => { if (i) return e.preventDefault(); a({ type: 1 }), O$(s.buttonElement) })), m = d$((() => { if (i) return a({ type: 2, focus: cU.Nothing }); a({ type: 2, focus: cU.Specific, id: r }) })), g = function () { let e = (0, Ke.useRef)([-1, -1]); return { wasMoved(t) { let n = tL(t); return (e.current[0] !== n[0] || e.current[1] !== n[1]) && (e.current = n, !0) }, update(t) { e.current = tL(t) } } }(), y = d$((e => { g.update(e), !i && (c || a({ type: 2, focus: cU.Specific, id: r, trigger: 0 })) })), b = d$((e => { g.wasMoved(e) && (i || c || a({ type: 2, focus: cU.Specific, id: r, trigger: 0 })) })), v = d$((e => { g.wasMoved(e) && (i || c && a({ type: 2, focus: cU.Nothing })) })), [w, E] = OU(), [x, _] = SU(), C = (0, Ke.useMemo)((() => ({ active: c, focus: c, disabled: i, close: f })), [c, i, f]), A = { id: r, ref: u, role: "menuitem", tabIndex: !0 === i ? void 0 : -1, "aria-disabled": !0 === i || void 0, "aria-labelledby": w, "aria-describedby": x, disabled: void 0, onClick: p, onFocus: m, onPointerEnter: y, onMouseEnter: y, onPointerMove: b, onMouseMove: b, onPointerLeave: v, onMouseLeave: v }, S = fU(); return Ke.createElement(E, null, Ke.createElement(_, null, S({ ourProps: A, theirProps: o, slot: C, defaultTag: iF, name: "Menu.Item" }))) })), lF = bU((function (e, t) { let [n, r] = OU(), i = e, o = { ref: t, "aria-labelledby": n, role: "group" }, s = fU(); return Ke.createElement(r, null, s({ ourProps: o, theirProps: i, slot: {}, defaultTag: "div", name: "Menu.Section" })) })), uF = bU((function (e, t) { let n = (0, Ke.useId)(), { id: r = `headlessui-menu-heading-${n}`, ...i } = e, o = MU(); l$((() => o.register(r)), [r, o.register]); let s = { id: r, ref: t, role: "presentation", ...o.props }; return fU()({ ourProps: s, theirProps: i, slot: {}, defaultTag: "header", name: "Menu.Heading" }) })), dF = bU((function (e, t) { let n = e, r = { ref: t, role: "separator" }; return fU()({ ourProps: r, theirProps: n, slot: {}, defaultTag: "div", name: "Menu.Separator" }) })), hF = Object.assign(oF, { Button: sF, Items: aF, Item: cF, Section: lF, Heading: uF, Separator: dF }); function fF({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "m19.5 8.25-7.5 7.5-7.5-7.5" })) } var pF = Ke.forwardRef(fF); const mF = ({ options: e, onSelect: t, selected: n, className: r }) => (0, y.jsxs)(hF, { as: gF, children: [(0, y.jsxs)(sF, { as: wF, children: [(0, y.jsx)(uj, { balance: n.balance, chain: n.chain }), (0, y.jsx)(vF, { height: 16 })] }), (0, y.jsx)(aF, { as: yF, className: r, children: e.map(((e, n) => (0, y.jsx)(cF, { as: bF, onClick: () => t(n), children: (0, y.jsx)(uj, { balance: e.balance, chain: e.chain }) }, n))) })] }); let gF = oh.div.withConfig({ displayName: "Wrapper", componentId: "sc-7924b61-0" })(["width:100%;position:relative;"]), yF = oh.div.withConfig({ displayName: "Popover", componentId: "sc-7924b61-1" })(["width:100%;margin-top:0.5rem;position:absolute;background-color:var(--privy-color-background);border-radius:var(--privy-border-radius-md);overflow-x:hidden;overflow-y:auto;box-shadow:0px 1px 2px 0px rgba(16,24,40,0.05);max-height:11.75rem;&&{border:solid 1px var(--privy-color-foreground-4);}z-index:1;"]), bF = oh.button.withConfig({ displayName: "Button", componentId: "sc-7924b61-2" })(["width:100%;display:flex;justify-content:space-between;&&{padding:1rem;}:not(:last-child){border-bottom:solid 1px var(--privy-color-foreground-4);}:hover{background:var(--privy-color-background-2);}"]), vF = oh(pF).withConfig({ displayName: "StyledChevronIcon", componentId: "sc-7924b61-3" })(["height:1rem;margin-left:0.5rem;"]), wF = oh.button.withConfig({ displayName: "StyledMenuButton", componentId: "sc-7924b61-4" })(["", " span{margin-left:auto;}", "{transition:rotate 100ms ease-in;}&[aria-expanded='true']{", "{rotate:-180deg;}}"], AT, vF, vF); var EF = n(48794); const xF = new Cn.Yd(EF.i), _F = {}, CF = qn.O$.from(0), AF = qn.O$.from(-1); function SF(e, t, n, r) { const i = { fault: t, operation: n }; return void 0 !== r && (i.value = r), xF.throwError(e, Cn.Yd.errors.NUMERIC_FAULT, i) } let kF = "0"; for (; kF.length < 256;)kF += kF; function IF(e) { if ("number" !== typeof e) try { e = qn.O$.from(e).toNumber() } catch (t0) { } return "number" === typeof e && e >= 0 && e <= 256 && !(e % 1) ? "1" + kF.substring(0, e) : xF.throwArgumentError("invalid decimal size", "decimals", e) } function TF(e, t) { null == t && (t = 0); const n = IF(t), r = (e = qn.O$.from(e)).lt(CF); r && (e = e.mul(AF)); let i = e.mod(n).toString(); for (; i.length < n.length - 1;)i = "0" + i; i = i.match(/^([0-9]*[1-9]|0)(0*)/)[1]; const o = e.div(n).toString(); return e = 1 === n.length ? o : o + "." + i, r && (e = "-" + e), e } function NF(e, t) { null == t && (t = 0); const n = IF(t); "string" === typeof e && e.match(/^-?[0-9.]+$/) || xF.throwArgumentError("invalid decimal value", "value", e); const r = "-" === e.substring(0, 1); r && (e = e.substring(1)), "." === e && xF.throwArgumentError("missing value", "value", e); const i = e.split("."); i.length > 2 && xF.throwArgumentError("too many decimal points", "value", e); let o = i[0], s = i[1]; for (o || (o = "0"), s || (s = "0"); "0" === s[s.length - 1];)s = s.substring(0, s.length - 1); for (s.length > n.length - 1 && SF("fractional component exceeds decimals", "underflow", "parseFixed"), "" === s && (s = "0"); s.length < n.length - 1;)s += "0"; const a = qn.O$.from(o), c = qn.O$.from(s); let l = a.mul(n).add(c); return r && (l = l.mul(AF)), l } class PF { constructor(e, t, n, r) { e !== _F && xF.throwError("cannot use FixedFormat constructor; use FixedFormat.from", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "new FixedFormat" }), this.signed = t, this.width = n, this.decimals = r, this.name = (t ? "" : "u") + "fixed" + String(n) + "x" + String(r), this._multiplier = IF(r), Object.freeze(this) } static from(e) { if (e instanceof PF) return e; "number" === typeof e && (e = `fixed128x${e}`); let t = !0, n = 128, r = 18; if ("string" === typeof e) if ("fixed" === e); else if ("ufixed" === e) t = !1; else { const i = e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/); i || xF.throwArgumentError("invalid fixed format", "format", e), t = "u" !== i[1], n = parseInt(i[2]), r = parseInt(i[3]) } else if (e) { const i = (t, n, r) => null == e[t] ? r : (typeof e[t] !== n && xF.throwArgumentError("invalid fixed format (" + t + " not " + n + ")", "format." + t, e[t]), e[t]); t = i("signed", "boolean", t), n = i("width", "number", n), r = i("decimals", "number", r) } return n % 8 && xF.throwArgumentError("invalid fixed format width (not byte aligned)", "format.width", n), r > 80 && xF.throwArgumentError("invalid fixed format (decimals too large)", "format.decimals", r), new PF(_F, t, n, r) } } class MF { constructor(e, t, n, r) { e !== _F && xF.throwError("cannot use FixedNumber constructor; use FixedNumber.from", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "new FixedFormat" }), this.format = r, this._hex = t, this._value = n, this._isFixedNumber = !0, Object.freeze(this) } _checkFormat(e) { this.format.name !== e.format.name && xF.throwArgumentError("incompatible format; use fixedNumber.toFormat", "other", e) } addUnsafe(e) { this._checkFormat(e); const t = NF(this._value, this.format.decimals), n = NF(e._value, e.format.decimals); return MF.fromValue(t.add(n), this.format.decimals, this.format) } subUnsafe(e) { this._checkFormat(e); const t = NF(this._value, this.format.decimals), n = NF(e._value, e.format.decimals); return MF.fromValue(t.sub(n), this.format.decimals, this.format) } mulUnsafe(e) { this._checkFormat(e); const t = NF(this._value, this.format.decimals), n = NF(e._value, e.format.decimals); return MF.fromValue(t.mul(n).div(this.format._multiplier), this.format.decimals, this.format) } divUnsafe(e) { this._checkFormat(e); const t = NF(this._value, this.format.decimals), n = NF(e._value, e.format.decimals); return MF.fromValue(t.mul(this.format._multiplier).div(n), this.format.decimals, this.format) } floor() { const e = this.toString().split("."); 1 === e.length && e.push("0"); let t = MF.from(e[0], this.format); const n = !e[1].match(/^(0*)$/); return this.isNegative() && n && (t = t.subUnsafe(OF.toFormat(t.format))), t } ceiling() { const e = this.toString().split("."); 1 === e.length && e.push("0"); let t = MF.from(e[0], this.format); const n = !e[1].match(/^(0*)$/); return !this.isNegative() && n && (t = t.addUnsafe(OF.toFormat(t.format))), t } round(e) { null == e && (e = 0); const t = this.toString().split("."); if (1 === t.length && t.push("0"), (e < 0 || e > 80 || e % 1) && xF.throwArgumentError("invalid decimal count", "decimals", e), t[1].length <= e) return this; const n = MF.from("1" + kF.substring(0, e), this.format), r = RF.toFormat(this.format); return this.mulUnsafe(n).addUnsafe(r).floor().divUnsafe(n) } isZero() { return "0.0" === this._value || "0" === this._value } isNegative() { return "-" === this._value[0] } toString() { return this._value } toHexString(e) { if (null == e) return this._hex; e % 8 && xF.throwArgumentError("invalid byte width", "width", e); const t = qn.O$.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString(); return (0, Hn.$m)(t, e / 8) } toUnsafeFloat() { return parseFloat(this.toString()) } toFormat(e) { return MF.fromString(this._value, e) } static fromValue(e, t, n) { return null != n || null == t || (0, qn.Zm)(t) || (n = t, t = null), null == t && (t = 0), null == n && (n = "fixed"), MF.fromString(TF(e, t), PF.from(n)) } static fromString(e, t) { null == t && (t = "fixed"); const n = PF.from(t), r = NF(e, n.decimals); !n.signed && r.lt(CF) && SF("unsigned value cannot be negative", "overflow", "value", e); let i = null; n.signed ? i = r.toTwos(n.width).toHexString() : (i = r.toHexString(), i = (0, Hn.$m)(i, n.width / 8)); const o = TF(r, n.decimals); return new MF(_F, i, o, n) } static fromBytes(e, t) { null == t && (t = "fixed"); const n = PF.from(t); if ((0, Hn.lE)(e).length > n.width / 8) throw new Error("overflow"); let r = qn.O$.from(e); n.signed && (r = r.fromTwos(n.width)); const i = r.toTwos((n.signed ? 0 : 1) + n.width).toHexString(), o = TF(r, n.decimals); return new MF(_F, i, o, n) } static from(e, t) { if ("string" === typeof e) return MF.fromString(e, t); if ((0, Hn._t)(e)) return MF.fromBytes(e, t); try { return MF.fromValue(e, 0, t) } catch (n) { if (n.code !== Cn.Yd.errors.INVALID_ARGUMENT) throw n } return xF.throwArgumentError("invalid FixedNumber value", "value", e) } static isFixedNumber(e) { return !(!e || !e._isFixedNumber) } } const OF = MF.from(1), RF = MF.from("0.5"), jF = new Cn.Yd("units/5.7.0"), $F = ["wei", "kwei", "mwei", "gwei", "szabo", "finney", "ether"]; function LF(e, t) { if ("string" !== typeof e && jF.throwArgumentError("value must be a string", "value", e), "string" === typeof t) { const e = $F.indexOf(t); -1 !== e && (t = 3 * e) } return NF(e, null != t ? t : 18) } function DF(e) { return function (e, t) { if ("string" === typeof t) { const e = $F.indexOf(t); -1 !== e && (t = 3 * e) } return TF(e, null != t ? t : 18) }(e, 18) } let UF = e => qn.O$.from(e); function FF(e) { if ("number" == typeof e || "bigint" == typeof e || "string" == typeof e) return e; if ("function" == typeof e.toHexString) return e.toHexString(); throw Error(`Expected numeric value but received ${e}`) } let BF = new Intl.NumberFormat(void 0, { style: "currency", currency: "USD", maximumFractionDigits: 2 }), WF = e => BF.format(e); const zF = (e, t) => { let n = WF(t * parseFloat(e)); return "$0.00" !== n ? n : "<$0.01" }, qF = (e, t) => { let n = WF(t * parseFloat(DF(e))); return "$0.00" === n ? "<$0.01" : n }, HF = (e, t, n = 6, r = !1) => { let i = parseFloat(DF(e)).toFixed(n).replace(/0+$/, "").replace(/\.$/, ""); return r ? `${i} ${t}` : `${"0" === i ? "<0.001" : i} ${t}` }, GF = e => e.map(UF).reduce(((e, t) => e.add(t)), qn.O$.from(0)).toHexString(), VF = (e, t) => { let { chains: n } = (0, af.u)(), r = `https://etherscan.io/address/${t}`, i = `${((e, t) => { let n = Number(e), r = t.find((e => e.id === n)); if (!r) throw new bs.M9(`Unsupported chainId ${e}`, 4901); return r.blockExplorers?.default.url })(e, n)}/address/${t}`; if (!i) return r; try { new URL(i) } catch { return r } return i }, KF = oh.div.withConfig({ displayName: "FundingMethodContainer", componentId: "sc-7f48ac23-0" })(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]), YF = oh.div.withConfig({ displayName: "IconContainer", componentId: "sc-7f48ac23-1" })(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;svg{border-radius:var(--privy-border-radius-sm);}"]), ZF = oh.div.withConfig({ displayName: "FundingQuantityWrapper", componentId: "sc-7f48ac23-2" })(["display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px;"]), XF = oh.div.withConfig({ displayName: "FundingQuantity", componentId: "sc-7f48ac23-3" })(["display:flex;align-items:baseline;gap:4px;"]), JF = oh.div.withConfig({ displayName: "FundingAmount", componentId: "sc-7f48ac23-4" })(["font-size:42px !important;"]), QF = oh.input.withConfig({ displayName: "FundingAmountInput", componentId: "sc-7f48ac23-5" })(["font-size:42px !important;text-align:right;background-color:var(--privy-color-background);width:calc(1ch * var(--funding-input-length));&:focus{outline:none !important;border:none !important;box-shadow:none !important;}"]), eB = oh.button.withConfig({ displayName: "FundingAmountEditButton", componentId: "sc-7f48ac23-6" })(["cursor:pointer;padding-left:4px;"]), tB = oh.div.withConfig({ displayName: "FundingCurrency", componentId: "sc-7f48ac23-7" })(["font-size:18px;"]), nB = oh.div.withConfig({ displayName: "FundingDollars", componentId: "sc-7f48ac23-8" })(["font-size:12px;color:var(--privy-color-foreground-3);height:20px;"]); const rB = oh.div.withConfig({ displayName: "InfoButtonText", componentId: "sc-7f48ac23-12" })([""]), iB = oh.a.withConfig({ displayName: "InfoButtonLink", componentId: "sc-7f48ac23-13" })(["&&{color:var(--privy-color-accent);}cursor:pointer;"]), oB = ({ displayName: e, errorMessage: t, configuredFundingChain: n, formattedBalance: r, fundingAmount: i, fundingCurrency: o, fundingAmountInUsd: s, options: a, selectedOption: c, isPreparing: l, isSubmitting: u, onSubmit: d, onSelect: h }) => (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(SR, {}), (0, y.jsx)(Rm, {}), (0, y.jsx)(rN, { children: "Transfer from another network" }), (0, y.jsxs)(nN, { children: ["You need more funds on the ", n.name, " network. Bridge from another blockchain network."] }), (0, y.jsxs)(ZF, { style: { marginTop: "2rem" }, children: [(0, y.jsxs)(XF, { children: [(0, y.jsx)(JF, { children: i }), (0, y.jsx)(tB, { children: o })] }), s && (0, y.jsx)(nB, { children: s })] }), (0, y.jsx)(ej, { style: { marginTop: "1.5rem" }, children: (0, y.jsx)(tj, { children: "From" }) }), (0, y.jsx)(mF, { selected: { chain: c.chain, balance: HF(c.balance, c.chain.nativeCurrency.symbol, 3, !0) }, options: a.map((({ chain: e, balance: t }) => ({ chain: e, balance: HF(t, e.nativeCurrency.symbol, 3, !0) }))), onSelect: h }), (0, y.jsx)(ej, { children: (0, y.jsx)(tj, { style: { marginTop: "1.5rem" }, children: "To" }) }), (0, y.jsx)(lj, { chain: n, balance: r }), (0, y.jsx)(_T, { style: { marginTop: "1rem" }, children: t }), (0, y.jsxs)(kf, { style: { marginTop: "1rem" }, loading: u || l, disabled: l || u, onClick: d, children: ["Confirm with ", e] }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }), sB = ({ wallet: e, displayName: t, addressToFund: n, chainId: r, chainName: i, isBridging: o, isErc20Flow: s, totalPriceInNativeCurrency: a, totalPriceInUsd: c, gasPriceInNativeCurrency: l, gasPriceInUsd: u }) => (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(SR, {}), (0, y.jsx)(kR, {}), (0, y.jsx)(km, { style: { marginTop: "16px" }, children: (0, y.jsx)(ug, { icon: wg(e.walletClientType, e.connectorType, e.walletClientType), name: e.walletClientType }) }), (0, y.jsx)(Bm, { style: { marginTop: "8px", marginBottom: "12px" }, title: `${o ? "Bridging" : "Confirming"} with ${t}` }), !o && !s && (0, y.jsxs)(QR, { children: [(0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Total" }), (0, y.jsx)(rj, { children: c || a })] }), (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "To" }), (0, y.jsx)(rj, { children: (0, y.jsx)(Ip, { address: n, showCopyIcon: !1 }) })] }), (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Network" }), (0, y.jsx)(rj, { children: (0, y.jsxs)(aB, { children: [(0, y.jsx)(cj, { chainId: r, height: 16, width: 16 }), " ", i] }) })] }), l && (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Estimated fee" }), (0, y.jsx)(rj, { children: u || l })] })] }), (0, y.jsx)(Lm, { height: 24 }), (0, y.jsx)(xp, {})] }); let aB = oh.div.withConfig({ displayName: "NetworkColumn", componentId: "sc-67160e5-0" })(["display:flex;flex-direction:row;align-items:center;gap:4px;"]); const cB = () => { let { embeddedSolanaWallet: e, exportSolanaWallet: t, createEmbeddedSolanaWallet: n, solanaWallets: r, delegateWallet: i } = (0, af.u)(), { ready: o } = (0, RR.r)(), { user: s } = (0, mf.b)(); return { ready: o, createWallet: n, exportWallet: t, delegateWalletAction: async () => { let e = (0, fc.ys)(s); if (!e) throw new bs.dx("User must have a solana wallet in order to delegate actions"); return await i({ address: e.address, chainType: "solana" }) }, wallets: r.concat(e ? [e] : []) } }; var lB = n(84192); class uB extends Xt.G { constructor({ value: e }) { super(`Number \`${e}\` is not a valid decimal number.`, { name: "InvalidDecimalNumberError" }) } } function dB(e, t = "wei") { return function (e, t) { if (!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e)) throw new uB({ value: e }); let [n, r = "0"] = e.split("."); const i = n.startsWith("-"); if (i && (n = n.slice(1)), r = r.replace(/(0+)$/, ""), 0 === t) 1 === Math.round(Number(`.${r}`)) && (n = `${BigInt(n) + 1n}`), r = ""; else if (r.length > t) { const [e, i, o] = [r.slice(0, t - 1), r.slice(t - 1, t), r.slice(t)], s = Math.round(Number(`${i}.${o}`)); r = s > 9 ? `${BigInt(e) + BigInt(1)}0`.padStart(e.length + 1, "0") : `${e}${s}`, r.length > t && (r = r.slice(1), n = `${BigInt(n) + 1n}`), r = r.slice(0, t) } else r = r.padEnd(t, "0"); return BigInt(`${i ? "-" : ""}${n}${r}`) }(e, lB.ez[t]) } const hB = [{ constant: !1, inputs: [{ name: "_to", type: "address" }, { name: "_value", type: "uint256" }], name: "transfer", outputs: [{ name: "", type: "bool" }], payable: !1, stateMutability: "nonpayable", type: "function" }]; let fB = 2n ** 256n - 1n; const pB = ({ amount: e, decimals: t }) => e === fB ? "Maximum" : Intl.NumberFormat(void 0, { maximumFractionDigits: t }).format(Number(e) / 10 ** t), mB = async ({ chain: e, address: t, appId: n, rpcConfig: r, erc20Address: i }) => { let o = AR({ chain: e, transport: on(Ha(e, r, n)) }); return { balance: await o.readContract({ address: i, abi: gB, functionName: "balanceOf", args: [t] }).catch((() => 0n)), chain: e } }; let gB = [{ constant: !0, inputs: [{ name: "_owner", type: "address" }], name: "balanceOf", outputs: [{ name: "balance", type: "uint256" }], payable: !1, stateMutability: "view", type: "function" }]; function yB({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 24 24", fill: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { fillRule: "evenodd", d: "M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z", clipRule: "evenodd" })) } var bB = Ke.forwardRef(yB); let vB = ({ status: e, onClickCta: t }) => { let { title: n, body: r, cta: i } = (0, Ke.useMemo)((() => (e => { switch (e) { case "success": return { title: "You've funded your account!", body: "It may take a few minutes for the assets to appear.", cta: "Continue" }; case "pending-after-flow": return { title: "In Progress", body: "Almost done. Retrieving transaction status from Coinbase", cta: "" }; case "error": case "pending-in-flow": return { title: "In Progress", body: "Go back to Coinbase Onramp to finish funding your account.", cta: "" } } })(e)), [e]); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsxs)(xB, { children: [(0, y.jsx)(wB, { isSucccess: "success" === e }), (0, y.jsxs)(Mm, { children: [(0, y.jsx)("h3", { children: n }), (0, y.jsx)(EB, { children: r })] })] }), i && (0, y.jsx)(Sf, { onClick: t, children: i })] }) }, wB = ({ isSucccess: e }) => { if (!e) { let e = "var(--privy-color-foreground-4)"; return (0, y.jsxs)("div", { style: { position: "relative" }, children: [(0, y.jsx)(Ef, { color: e, style: { position: "absolute" } }), (0, y.jsx)(xf, { color: e }), (0, y.jsx)(gc, { style: { position: "absolute", width: "2.8rem", height: "2.8rem", top: "1.2rem", left: "1.2rem" } })] }) } let t = (e => e ? rg : () => (0, y.jsx)(bB, { width: "3rem", height: "3rem", style: { backgroundColor: "var(--privy-color-foreground-4)", color: "var(--privy-color-background)", borderRadius: "100%", padding: "0.5rem", margin: "0.5rem" } }))(e), n = e ? "var(--privy-color-success)" : "var(--privy-color-foreground-4)"; return (0, y.jsx)("div", { style: { borderColor: n, display: "flex", justifyContent: "center", alignItems: "center", borderRadius: "100%", borderWidth: 2, padding: "0.5rem", marginBottom: "0.5rem" }, children: t && (0, y.jsx)(t, { width: "4rem", height: "4rem", color: n }) }) }, EB = oh.p.withConfig({ displayName: "StatusBody", componentId: "sc-96ef1540-0" })(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]), xB = oh.div.withConfig({ displayName: "ConnectContainer", componentId: "sc-96ef1540-1" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]); function _B({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125" })) } var CB = Ke.forwardRef(_B); function AB({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" })) } var SB = Ke.forwardRef(AB); function kB({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0" })) } var IB = Ke.forwardRef(kB); function TB({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 24 24", fill: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { fillRule: "evenodd", d: "M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z", clipRule: "evenodd" })) } var NB = Ke.forwardRef(TB); const PB = ({ style: e, ...t }) => (0, y.jsx)("svg", { x: 0, y: 0, width: "65", height: "64", viewBox: "0 0 65 64", style: { height: "64px", width: "65px", ...e }, fill: "currentColor", xmlns: "http://www.w3.org/2000/svg", ...t, children: (0, y.jsx)("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M3.71369 17.5625V10.375C3.71369 6.44625 6.85845 3.25 10.7238 3.25H17.7953C18.6783 3.25 19.3941 2.52244 19.3941 1.625C19.3941 0.727562 18.6783 0 17.7953 0H10.7238C5.09529 0 0.516113 4.65419 0.516113 10.375V17.5625C0.516113 18.4599 1.23194 19.1875 2.1149 19.1875C2.99787 19.1875 3.71369 18.4599 3.71369 17.5625ZM17.7953 60.7501C18.6783 60.7501 19.3941 61.4777 19.3941 62.3751C19.3941 63.2726 18.6783 64.0001 17.7953 64.0001H10.7238C5.09529 64.0001 0.516113 59.3459 0.516113 53.6251V46.4376C0.516113 45.5402 1.23194 44.8126 2.1149 44.8126C2.99787 44.8126 3.71369 45.5402 3.71369 46.4376V53.6251C3.71369 57.5538 6.85845 60.7501 10.7238 60.7501H17.7953ZM63.4839 46.4376V53.6251C63.4839 59.3459 58.9048 64.0001 53.2763 64.0001H46.2047C45.3217 64.0001 44.6059 63.2726 44.6059 62.3751C44.6059 61.4777 45.3217 60.7501 46.2047 60.7501H53.2763C57.1416 60.7501 60.2864 57.5538 60.2864 53.6251V46.4376C60.2864 45.5402 61.0022 44.8126 61.8851 44.8126C62.7681 44.8126 63.4839 45.5402 63.4839 46.4376ZM63.4839 10.375V17.5625C63.4839 18.4599 62.7681 19.1875 61.8851 19.1875C61.0022 19.1875 60.2864 18.4599 60.2864 17.5625V10.375C60.2864 6.44625 57.1416 3.25 53.2763 3.25H46.2047C45.3217 3.25 44.6059 2.52244 44.6059 1.625C44.6059 0.727562 45.3217 0 46.2047 0H53.2763C58.9048 0 63.4839 4.65419 63.4839 10.375ZM43.0331 47.3022C43.7067 46.6698 43.7483 45.6022 43.1262 44.9176C42.5039 44.233 41.4536 44.1906 40.78 44.823C38.3832 47.0732 35.265 48.3125 31.9997 48.3125C28.7344 48.3125 25.6162 47.0732 23.2194 44.823C22.5457 44.1906 21.4955 44.233 20.8732 44.9176C20.251 45.6022 20.2927 46.6698 20.9663 47.3022C23.9784 50.1301 27.8968 51.6875 31.9997 51.6875C36.1026 51.6875 40.021 50.1301 43.0331 47.3022ZM35.3207 24.1249V36.1249C35.3207 38.5029 33.4173 40.4374 31.0777 40.4374H29.7249C28.8079 40.4374 28.0646 39.6819 28.0646 38.7499C28.0646 37.8179 28.8079 37.0624 29.7249 37.0624H31.0777C31.5863 37.0624 32.0001 36.6419 32.0001 36.1249V24.1249C32.0001 23.1929 32.7434 22.4374 33.6604 22.4374C34.5774 22.4374 35.3207 23.1929 35.3207 24.1249ZM46.7581 28.8437V24.0312C46.7581 23.151 46.056 22.4374 45.19 22.4374C44.324 22.4374 43.622 23.151 43.622 24.0312V28.8437C43.622 29.7239 44.324 30.4374 45.19 30.4374C46.056 30.4374 46.7581 29.7239 46.7581 28.8437ZM17.6109 28.8437C17.6109 29.7239 18.313 30.4374 19.1789 30.4374C20.0449 30.4374 20.747 29.7239 20.747 28.8437V24.0312C20.747 23.151 20.0449 22.4374 19.1789 22.4374C18.313 22.4374 17.6109 23.151 17.6109 24.0312V28.8437Z" }) }), MB = ({ style: e, ...t }) => (0, y.jsxs)("svg", { x: 0, y: 0, width: "65", height: "64", viewBox: "0 0 65 64", style: { height: "64px", width: "65px", ...e }, xmlns: "http://www.w3.org/2000/svg", ...t, children: [(0, y.jsxs)("g", { clipPath: "url(#clip0_113_33841)", children: [(0, y.jsx)("path", { d: "M39.1193 0.943398C34.636 -0.174912 29.9185 -0.334713 25.328 0.656273C24.9732 0.732859 24.7477 1.08253 24.8243 1.43729C24.9009 1.79205 25.2506 2.01756 25.6053 1.94097C30.0015 0.991934 34.53 1.14842 38.8375 2.22802C49.1385 4.80983 57.7129 12.5548 60.9786 22.6718C62.2416 26.5843 62.7781 30.7505 62.8855 35.1167C62.8945 35.4795 63.1958 35.7664 63.5586 35.7575C63.9215 35.7485 64.2083 35.4472 64.1994 35.0843C64.0905 30.6582 63.5477 26.3849 62.2536 22.3432C58.8621 11.7515 49.9005 3.63265 39.1193 0.943398Z" }), (0, y.jsx)("path", { d: "M21.9931 2.93163C22.343 2.83511 22.5484 2.47325 22.4518 2.12339C22.3553 1.77352 21.9935 1.56815 21.6436 1.66466C16.8429 2.98903 10.0898 7.56519 5.91628 13.6786C5.91465 13.681 5.91304 13.6834 5.91145 13.6858C2.24684 19.2083 -0.0503572 26.1484 0.591012 32.8828C0.591623 32.8892 0.592328 32.8956 0.593127 32.902C0.746837 34.1317 1.00488 35.3591 1.26323 36.5879C1.80735 39.1761 2.35282 41.7706 1.92765 44.4064C1.86986 44.7647 2.11347 45.102 2.47177 45.1598C2.83007 45.2176 3.16738 44.974 3.22518 44.6157C3.66961 41.8605 3.11776 39.173 2.56581 36.4851C2.31054 35.2419 2.05525 33.9987 1.89847 32.7486C1.29525 26.3851 3.46802 19.7466 7.00418 14.416C11.0189 8.5373 17.5201 4.16562 21.9931 2.93163Z" }), (0, y.jsx)("path", { d: "M30.6166 4.39985C38.8671 3.89603 47.1159 7.26314 52.6556 13.7139C52.8921 13.9893 52.8605 14.4042 52.5852 14.6406C52.3099 14.8771 51.895 14.8455 51.6585 14.5702C46.3904 8.43576 38.541 5.23144 30.6927 5.71195C30.6899 5.71212 30.6871 5.71227 30.6843 5.71241C20.7592 6.19265 11.4643 12.9257 8.04547 22.3603C7.92183 22.7016 7.54498 22.8779 7.20375 22.7543C6.86253 22.6306 6.68616 22.2538 6.80981 21.9126C10.4114 11.9735 20.1717 4.90702 30.6166 4.39985Z" }), (0, y.jsx)("path", { d: "M54.6576 16.5848C54.4553 16.2836 54.047 16.2033 53.7457 16.4057C53.4444 16.608 53.3642 17.0163 53.5665 17.3176C56.6376 21.8904 57.9074 26.8665 58.4094 32.7717C58.4401 33.1333 58.7582 33.4016 59.1199 33.3708C59.4815 33.3401 59.7497 33.022 59.719 32.6604C59.206 26.6261 57.8965 21.4076 54.6576 16.5848Z" }), (0, y.jsx)("path", { d: "M59.2796 35.4504C59.6419 35.4277 59.9539 35.703 59.9765 36.0653C60.2242 40.0279 60.2265 44.5112 59.7881 47.8243C59.7405 48.1841 59.4102 48.4372 59.0504 48.3896C58.6906 48.342 58.4376 48.0117 58.4852 47.6519C58.9077 44.4586 58.91 40.0704 58.6648 36.1473C58.6421 35.785 58.9174 35.473 59.2796 35.4504Z" }), (0, y.jsx)("path", { d: "M7.05311 25.5432C7.13829 25.1904 6.92135 24.8354 6.56855 24.7502C6.21576 24.665 5.86071 24.882 5.77553 25.2348C5.2932 27.2325 5.0428 29.2847 5.03288 31.3388C5.02266 33.4559 5.41742 35.5225 5.81234 37.5899C6.1354 39.2811 6.45855 40.9728 6.5602 42.6932C6.69373 44.9531 6.21839 47.2163 5.39698 49.3703C5.26766 49.7094 5.43774 50.0891 5.77685 50.2184C6.11596 50.3477 6.4957 50.1777 6.62502 49.8386C7.49325 47.5617 8.01954 45.1092 7.87221 42.6157C7.77126 40.9071 7.44813 39.2252 7.12512 37.5439C6.73099 35.4925 6.33704 33.442 6.34716 31.3451C6.35659 29.3933 6.59455 27.4425 7.05311 25.5432Z" }), (0, y.jsx)("path", { d: "M24.2964 10.94C24.4317 11.2768 24.2683 11.6595 23.9315 11.7947C17.1187 14.5307 12.0027 20.7047 10.959 27.9852C10.523 31.0269 10.9941 34.0398 11.465 37.052C11.7303 38.7483 11.9954 40.4443 12.0985 42.1451C12.3221 45.833 11.902 49.8839 9.50192 53.5696C9.30387 53.8737 8.89677 53.9597 8.59264 53.7617C8.28851 53.5636 8.20251 53.1565 8.40056 52.8524C10.5873 49.4944 11.0012 45.7644 10.7867 42.2246C10.6821 40.499 10.4185 38.7833 10.1552 37.0686C9.68265 33.9923 9.21067 30.9195 9.65804 27.7987C10.7724 20.025 16.221 13.4748 23.4417 10.5751C23.7785 10.4399 24.1612 10.6032 24.2964 10.94Z" }), (0, y.jsx)("path", { d: "M47.3662 14.6814C41.9915 9.64741 34.2017 7.89046 27.122 9.4433C26.7675 9.52105 26.5432 9.87147 26.6209 10.226C26.6987 10.5805 27.0491 10.8048 27.4036 10.7271C34.1075 9.25665 41.4426 10.934 46.4677 15.6406C50.7033 19.6077 53.1628 25.38 53.8066 31.6779C53.8435 32.0389 54.1661 32.3017 54.5272 32.2648C54.8883 32.2279 55.151 31.9053 55.1141 31.5442C54.4456 25.0047 51.8822 18.9111 47.3662 14.6814Z" }), (0, y.jsx)("path", { d: "M54.9766 34.6738C55.3376 34.6368 55.6604 34.8994 55.6975 35.2604C56.3216 41.337 56.0526 47.9003 55.1104 54.2496C55.0571 54.6086 54.7229 54.8565 54.3639 54.8032C54.0049 54.7499 53.7571 54.4157 53.8103 54.0567C54.7394 47.7957 55.001 41.3439 54.39 35.3947C54.353 35.0336 54.6156 34.7109 54.9766 34.6738Z" }), (0, y.jsx)("path", { d: "M32.0659 13.3553C21.9959 13.3553 13.814 21.3892 13.814 31.3219C13.814 32.3829 13.9081 33.4225 14.0876 34.4334C14.1511 34.7907 14.4922 35.029 14.8495 34.9655C15.2069 34.9021 15.4451 34.561 15.3817 34.2036C15.2155 33.2677 15.1283 32.305 15.1283 31.3219C15.1283 22.1352 22.7014 14.6696 32.0659 14.6696C36.2978 14.6696 40.1642 16.1949 43.1319 18.7152C43.4086 18.9501 43.8233 18.9163 44.0582 18.6396C44.2931 18.363 44.2593 17.9483 43.9827 17.7134C40.7847 14.9975 36.6188 13.3553 32.0659 13.3553Z" }), (0, y.jsx)("path", { d: "M45.455 20.1635C45.717 19.9123 46.133 19.921 46.3842 20.183C49.2843 23.2072 50.2126 27.9605 50.8269 31.9494C51.5188 36.4426 51.6244 40.826 51.6244 42.8585C51.6244 43.2214 51.3302 43.5156 50.9673 43.5156C50.6044 43.5156 50.3101 43.2214 50.3101 42.8585C50.3101 40.8589 50.2055 36.5497 49.5279 32.1494C48.9577 28.4462 48.1356 23.9082 45.4356 21.0927C45.1844 20.8307 45.1931 20.4147 45.455 20.1635Z" }), (0, y.jsx)("path", { d: "M51.4576 46.6219C51.4864 46.2601 51.2165 45.9435 50.8547 45.9146C50.493 45.8858 50.1763 46.1557 50.1474 46.5175C49.8247 50.5654 49.403 54.6088 48.5474 58.3439C48.4663 58.6977 48.6874 59.0502 49.0412 59.1312C49.3949 59.2123 49.7474 58.9912 49.8285 58.6374C50.7067 54.8039 51.134 50.6806 51.4576 46.6219Z" }), (0, y.jsx)("path", { d: "M15.1454 36.852C15.5015 36.7819 15.847 37.0137 15.9171 37.3698C17.3066 44.4257 16.3467 50.8355 12.6672 56.4502C12.4682 56.7537 12.0609 56.8385 11.7573 56.6396C11.4538 56.4407 11.369 56.0333 11.5679 55.7298C15.0299 50.4469 15.9617 44.3985 14.6276 37.6238C14.5575 37.2677 14.7893 36.9221 15.1454 36.852Z" }), (0, y.jsx)("path", { d: "M32.0659 17.631C25.5291 17.631 19.1165 22.691 18.462 29.0504C18.1754 31.8345 18.578 34.5769 18.9807 37.3204C19.3323 39.7159 19.684 42.1124 19.5772 44.5381C19.3328 50.0898 17.7039 54.6726 14.905 58.4471C14.6888 58.7386 14.7499 59.1502 15.0414 59.3663C15.333 59.5825 15.7445 59.5214 15.9607 59.2299C18.9293 55.2266 20.6354 50.386 20.8903 44.5959C20.9966 42.1811 20.6438 39.7923 20.2912 37.4051C19.888 34.6752 19.4851 31.9473 19.7694 29.1849C20.3444 23.5983 26.0946 18.9453 32.0659 18.9453C34.851 18.9453 42.057 20.4534 44.3492 27.9205C45.7856 32.5998 46.1774 38.9326 45.8295 45.0849C45.4816 51.2364 44.3994 57.12 42.9442 60.8928C42.8136 61.2314 42.9822 61.6118 43.3208 61.7424C43.6594 61.873 44.0398 61.7044 44.1704 61.3658C45.6929 57.4186 46.7895 51.386 47.1417 45.1591C47.4938 38.9329 47.1068 32.4249 45.6056 27.5348C43.0612 19.2461 35.0851 17.631 32.0659 17.631Z" }), (0, y.jsx)("path", { d: "M21.9529 56.4512C22.2569 56.6494 22.3426 57.0566 22.1444 57.3606C21.7369 57.9854 21.3784 58.6391 21.0199 59.2928C20.6614 59.9465 20.3028 60.6004 19.8953 61.2253C19.697 61.5293 19.2898 61.615 18.9858 61.4167C18.6819 61.2184 18.5962 60.8113 18.7944 60.5073C19.2019 59.8825 19.5604 59.2288 19.9189 58.5751C20.2774 57.9213 20.636 57.2675 21.0435 56.6426C21.2418 56.3386 21.649 56.2529 21.9529 56.4512Z" }), (0, y.jsx)("path", { d: "M27.5799 24.4525C27.8816 24.2508 27.9625 23.8426 27.7608 23.541C27.559 23.2393 27.1509 23.1583 26.8492 23.3601C24.247 25.1006 22.6505 27.494 22.6505 31.0002C22.6505 33.088 23.0203 34.7946 23.3997 36.5449C23.9674 39.1641 24.3524 41.7777 24.2832 44.468C24.1992 47.7349 23.56 50.7201 22.3313 53.564C22.1873 53.8971 22.3407 54.2839 22.6739 54.4278C23.0071 54.5718 23.3938 54.4184 23.5378 54.0852C24.8369 51.0784 25.509 47.9266 25.5971 44.5018C25.6689 41.7062 25.2732 38.9892 24.6845 36.267C24.3042 34.509 23.9648 32.9394 23.9648 31.0002C23.9648 27.9961 25.2863 25.9866 27.5799 24.4525Z" }), (0, y.jsx)("path", { d: "M30.1447 22.1436C32.8717 21.5877 35.8061 22.2746 37.966 24.0228C41.8241 27.1455 42.3372 32.8403 42.753 37.4549L42.7742 37.69C43.3115 43.6385 42.6964 49.4163 41.4575 55.2186C41.3817 55.5736 41.0326 55.7999 40.6776 55.7241C40.3227 55.6483 40.0964 55.2991 40.1722 54.9442C41.3926 49.2288 41.9873 43.5885 41.4652 37.8082C41.4479 37.6169 41.4307 37.4228 41.4133 37.2264L41.4131 37.2235C41.0438 33.0534 40.5812 27.8304 37.1392 25.0444C35.2926 23.5498 32.7599 22.9518 30.4073 23.4314C30.0517 23.5039 29.7046 23.2744 29.6321 22.9188C29.5596 22.5632 29.7891 22.2161 30.1447 22.1436Z" }), (0, y.jsx)("path", { d: "M40.5287 58.4885C40.6183 58.1368 40.4057 57.7791 40.054 57.6896C39.7023 57.6 39.3446 57.8126 39.2551 58.1643C38.8578 59.7247 38.2456 61.1333 37.4695 62.4301C37.2831 62.7415 37.3844 63.145 37.6958 63.3314C38.0072 63.5178 38.4108 63.4165 38.5972 63.1051C39.4336 61.7075 40.0977 60.1816 40.5287 58.4885Z" }), (0, y.jsx)("path", { d: "M37.3152 48.9521C37.6756 48.9948 37.9332 49.3215 37.8906 49.682C37.2699 54.9267 35.8688 59.6042 33.6205 63.6613C33.4446 63.9787 33.0446 64.0934 32.7272 63.9175C32.4097 63.7416 32.295 63.3417 32.4709 63.0242C34.6226 59.1416 35.9811 54.6339 36.5854 49.5275C36.6281 49.1671 36.9548 48.9095 37.3152 48.9521Z" }), (0, y.jsx)("path", { d: "M37.1798 30.6556C36.7242 28.2212 34.6349 26.3591 32.0985 26.3591C28.6638 26.3591 26.254 29.8212 27.1032 33.0422C28.54 38.7279 28.7759 44.2077 27.8032 49.4855L27.8025 49.4893C26.9584 54.228 25.3374 58.4908 23.1263 62.1031C22.9368 62.4127 23.0342 62.8172 23.3437 63.0067C23.6533 63.1962 24.0578 63.0988 24.2473 62.7893C26.5488 59.0292 28.2249 54.6109 29.0961 49.7218C30.106 44.2403 29.8558 38.5684 28.3765 32.7168L28.3748 32.7099C27.7378 30.3005 29.5133 27.6734 32.0985 27.6734C33.9641 27.6734 35.5393 29.0459 35.8871 30.8929C36.8436 36.4411 37.3418 41.5862 36.9871 46.016C36.9581 46.3778 37.2279 46.6945 37.5897 46.7235C37.9515 46.7525 38.2682 46.4827 38.2972 46.1209C38.6649 41.5294 38.1459 36.2576 37.1815 30.6648C37.1809 30.6617 37.1804 30.6586 37.1798 30.6556Z" }), (0, y.jsx)("path", { d: "M30.1376 59.1171C30.4604 59.283 30.5876 59.6792 30.4217 60.002L28.6804 63.3906C28.5145 63.7134 28.1184 63.8406 27.7956 63.6747C27.4728 63.5088 27.3456 63.1127 27.5114 62.7899L29.2527 59.4013C29.4186 59.0785 29.8147 58.9513 30.1376 59.1171Z" }), (0, y.jsx)("path", { d: "M32.5872 31.2892C32.5042 30.9359 32.1505 30.7168 31.7972 30.7998C31.4439 30.8828 31.2247 31.2365 31.3077 31.5898C33.5238 41.0232 33.2194 49.3066 30.5201 56.363C30.3905 56.702 30.5602 57.0819 30.8991 57.2115C31.2381 57.3412 31.618 57.1715 31.7477 56.8326C34.5622 49.475 34.8483 40.9141 32.5872 31.2892Z" })] }), (0, y.jsx)("defs", { children: (0, y.jsx)("clipPath", { id: "clip0_113_33841", children: (0, y.jsx)("rect", { width: "64", height: "64", fill: "white", transform: "translate(0.483887)" }) }) })] }); let OB = ({ passkeys: e, expanded: t, onUnlink: n, onExpand: r }) => { let [i, o] = (0, Ke.useState)([]), s = t ? e.length : 2; return (0, y.jsxs)("div", { children: [(0, y.jsx)(zB, { children: "Your passkeys" }), (0, y.jsxs)(UB, { children: [e.slice(0, s).map((e => { return (0, y.jsxs)(GB, { children: [(0, y.jsxs)("div", { children: [(0, y.jsx)(qB, { children: (t = e, t.authenticatorName ? t.createdWithBrowser ? `${t.authenticatorName} on ${t.createdWithBrowser}` : t.authenticatorName : t.createdWithBrowser ? t.createdWithOs ? `${t.createdWithBrowser} on ${t.createdWithOs}` : `${t.createdWithBrowser}` : "Unknown device") }), (0, y.jsxs)(HB, { children: ["Last used: ", (e.latestVerifiedAt ?? e.verifiedAt).toLocaleString()] })] }), (0, y.jsx)(KB, { disabled: i.includes(e.credentialId), onClick: () => (async e => { o((t => t.concat([e]))), await n(e), o((t => t.filter((t => t !== e)))) })(e.credentialId), children: i.includes(e.credentialId) ? (0, y.jsx)(_f, {}) : (0, y.jsx)(IB, { height: "1.6em" }) })] }, e.credentialId); var t })), e.length > 2 && !t && (0, y.jsx)(DB, { onClick: r, children: "View all" })] })] }) }, RB = () => (0, y.jsxs)(UB, { children: [(0, y.jsxs)(rm, { children: [(0, y.jsx)(nm, { children: (0, y.jsx)(NB, {}) }), "Log in with Touch ID, Face ID, or a security key."] }), (0, y.jsxs)(rm, { children: [(0, y.jsx)(nm, { children: (0, y.jsx)(SP, {}) }), "More secure than a password."] }), (0, y.jsxs)(rm, { children: [(0, y.jsx)(nm, { children: (0, y.jsx)(SB, {}) }), "Takes seconds to set up and use."] })] }); const jB = oh.div.withConfig({ displayName: "DoubleIconWrapper", componentId: "sc-302702bc-0" })(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent) !important;stroke:var(--privy-color-accent) !important;fill:var(--privy-color-accent) !important;}"]); let $B = oh.div.withConfig({ displayName: "InputHelp", componentId: "sc-302702bc-1" })(["line-height:20px;height:20px;font-size:13px;color:", ";display:flex;justify-content:flex-beginngin;width:100%;"], (e => e.$fail ? "var(--privy-color-error)" : "var(--privy-color-foreground-3)")), LB = nh(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]); const DB = oh.button.withConfig({ displayName: "LinkButton", componentId: "sc-302702bc-2" })(["", ""], LB); let UB = oh.div.withConfig({ displayName: "List", componentId: "sc-302702bc-3" })(["display:flex;flex-direction:column;align-items:stretch;gap:0.8rem;padding:0.5rem 0rem 0rem;flex-grow:1;width:100%;"]), FB = oh.div.withConfig({ displayName: "ModalTitle", componentId: "sc-302702bc-4" })(["font-size:18px;line-height:18px;text-align:center;font-weight:600;"]), BB = oh.div.withConfig({ displayName: "ModalSubTitle", componentId: "sc-302702bc-5" })(["font-size:0.875rem;text-align:center;margin-top:10px;"]), WB = oh.div.withConfig({ displayName: "SectionSpacer", componentId: "sc-302702bc-6" })(["height:32px;"]), zB = oh.div.withConfig({ displayName: "PasskeyListTitle", componentId: "sc-302702bc-7" })(["line-height:20px;height:20px;font-size:1em;font-weight:450;display:flex;justify-content:flex-beginning;width:100%;"]), qB = oh.div.withConfig({ displayName: "PasskeyItemTitle", componentId: "sc-302702bc-8" })(["font-size:1em;line-height:1.3em;font-weight:500;color:var(--privy-color-foreground-2);padding:0.2em 0;"]), HB = oh.div.withConfig({ displayName: "PasskeyItemSubtitle", componentId: "sc-302702bc-9" })(["font-size:0.875rem;line-height:1rem;color:#64668b;padding:0.2em 0;"]), GB = oh.div.withConfig({ displayName: "PasskeyListItem", componentId: "sc-302702bc-10" })(["display:flex;align-items:center;justify-content:space-between;padding:1em;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;border-radius:8px;border:1px solid #e2e3f0 !important;width:100%;height:5em;"]), VB = nh([":focus,:hover,:active{outline:none;}display:flex;width:2em;height:2em;justify-content:center;align-items:center;svg{color:var(--privy-color-error);}svg:hover{color:var(--privy-color-foreground-3);}"]), KB = oh.button.withConfig({ displayName: "PasskeyItemUnlinkButton", componentId: "sc-302702bc-11" })(["", ""], VB); function YB({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z" })) } var ZB = Ke.forwardRef(YB); function XB({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z" }), Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z" })) } var JB = Ke.forwardRef(XB); const QB = ({ children: e, theme: t }) => (0, y.jsxs)(eW, { $theme: t, children: [(0, y.jsx)(mp, { width: "3rem", color: "var(--privy-color-error)" }), e] }); let eW = oh.div.withConfig({ displayName: "Container", componentId: "sc-5400b18f-0" })(["display:flex;gap:0.5rem;", " align-items:flex-start;text-align:left;padding:0.5rem 0.75rem;font-size:0.75rem;font-weight:400;line-height:1.125rem;padding:0.5rem 0.75rem;&&{border:1px solid var(--privy-color-error);border-radius:var(--privy-border-radius-sm);}"], (e => "dark" === e.$theme ? "color: var(--privy-color-error);" : "background-color: var(--privy-color-error-light);")); function tW({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" })) } var nW = Ke.forwardRef(tW); const rW = ({ children: e, theme: t }) => (0, y.jsxs)(iW, { $theme: t, children: [(0, y.jsx)(nW, { width: "1.25rem", color: "dark" === t ? "var(--privy-color-accent-light)" : "var(--privy-color-accent-dark)", style: { minWidth: "1.25rem" } }), e] }); let iW = oh.div.withConfig({ displayName: "Container", componentId: "sc-dc8a0871-0" })(["display:flex;gap:0.5rem;background-color:", ";color:var(--privy-color-foreground);align-items:flex-start;text-align:left;font-size:0.8125rem;font-weight:400;line-height:1.125rem;padding:0.75rem;&&{border-radius:var(--privy-border-radius-sm);border:1px solid var(--privy-color-accent);}"], (e => "dark" === e.$theme ? "var(--privy-color-accent-darkest)" : "var(--privy-color-accent-lightest)")); const oW = e => (0, y.jsx)("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 512 210.2", xmlSpace: "preserve", ...e, children: (0, y.jsx)("path", { d: "M93.6,27.1C87.6,34.2,78,39.8,68.4,39c-1.2-9.6,3.5-19.8,9-26.1c6-7.3,16.5-12.5,25-12.9  C103.4,10,99.5,19.8,93.6,27.1 M102.3,40.9c-13.9-0.8-25.8,7.9-32.4,7.9c-6.7,0-16.8-7.5-27.8-7.3c-14.3,0.2-27.6,8.3-34.9,21.2  c-15,25.8-3.9,64,10.6,85c7.1,10.4,15.6,21.8,26.8,21.4c10.6-0.4,14.8-6.9,27.6-6.9c12.9,0,16.6,6.9,27.8,6.7  c11.6-0.2,18.9-10.4,26-20.8c8.1-11.8,11.4-23.3,11.6-23.9c-0.2-0.2-22.4-8.7-22.6-34.3c-0.2-21.4,17.5-31.6,18.3-32.2  C123.3,42.9,107.7,41.3,102.3,40.9 M182.6,11.9v155.9h24.2v-53.3h33.5c30.6,0,52.1-21,52.1-51.4c0-30.4-21.1-51.2-51.3-51.2H182.6z   M206.8,32.3h27.9c21,0,33,11.2,33,30.9c0,19.7-12,31-33.1,31h-27.8V32.3z M336.6,169c15.2,0,29.3-7.7,35.7-19.9h0.5v18.7h22.4V90.2  c0-22.5-18-37-45.7-37c-25.7,0-44.7,14.7-45.4,34.9h21.8c1.8-9.6,10.7-15.9,22.9-15.9c14.8,0,23.1,6.9,23.1,19.6v8.6l-30.2,1.8  c-28.1,1.7-43.3,13.2-43.3,33.2C298.4,155.6,314.1,169,336.6,169z M343.1,150.5c-12.9,0-21.1-6.2-21.1-15.7c0-9.8,7.9-15.5,23-16.4  l26.9-1.7v8.8C371.9,140.1,359.5,150.5,343.1,150.5z M425.1,210.2c23.6,0,34.7-9,44.4-36.3L512,54.7h-24.6l-28.5,92.1h-0.5  l-28.5-92.1h-25.3l41,113.5l-2.2,6.9c-3.7,11.7-9.7,16.2-20.4,16.2c-1.9,0-5.6-0.2-7.1-0.4v18.7C417.3,210,423.3,210.2,425.1,210.2z" }) }), sW = e => (0, y.jsxs)("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 80 38.1", xmlSpace: "preserve", ...e, children: [(0, y.jsx)("path", { style: { fill: "#5F6368" }, d: "M37.8,19.7V29h-3V6h7.8c1.9,0,3.7,0.7,5.1,2c1.4,1.2,2.1,3,2.1,4.9c0,1.9-0.7,3.6-2.1,4.9c-1.4,1.3-3.1,2-5.1,2  L37.8,19.7L37.8,19.7z M37.8,8.8v8h5c1.1,0,2.2-0.4,2.9-1.2c1.6-1.5,1.6-4,0.1-5.5c0,0-0.1-0.1-0.1-0.1c-0.8-0.8-1.8-1.3-2.9-1.2  L37.8,8.8L37.8,8.8z" }), (0, y.jsx)("path", { style: { fill: "#5F6368" }, d: "M56.7,12.8c2.2,0,3.9,0.6,5.2,1.8s1.9,2.8,1.9,4.8V29H61v-2.2h-0.1c-1.2,1.8-2.9,2.7-4.9,2.7  c-1.7,0-3.2-0.5-4.4-1.5c-1.1-1-1.8-2.4-1.8-3.9c0-1.6,0.6-2.9,1.8-3.9c1.2-1,2.9-1.4,4.9-1.4c1.8,0,3.2,0.3,4.3,1v-0.7  c0-1-0.4-2-1.2-2.6c-0.8-0.7-1.8-1.1-2.9-1.1c-1.7,0-3,0.7-3.9,2.1l-2.6-1.6C51.8,13.8,53.9,12.8,56.7,12.8z M52.9,24.2  c0,0.8,0.4,1.5,1,1.9c0.7,0.5,1.5,0.8,2.3,0.8c1.2,0,2.4-0.5,3.3-1.4c1-0.9,1.5-2,1.5-3.2c-0.9-0.7-2.2-1.1-3.9-1.1  c-1.2,0-2.2,0.3-3,0.9C53.3,22.6,52.9,23.3,52.9,24.2z" }), (0, y.jsx)("path", { style: { fill: "#5F6368" }, d: "M80,13.3l-9.9,22.7h-3l3.7-7.9l-6.5-14.7h3.2l4.7,11.3h0.1l4.6-11.3H80z" }), (0, y.jsx)("path", { style: { fill: "#4285F4" }, d: "M25.9,17.7c0-0.9-0.1-1.8-0.2-2.7H13.2v5.1h7.1c-0.3,1.6-1.2,3.1-2.6,4v3.3H22C24.5,25.1,25.9,21.7,25.9,17.7z" }), (0, y.jsx)("path", { style: { fill: "#34A853" }, d: "M13.2,30.6c3.6,0,6.6-1.2,8.8-3.2l-4.3-3.3c-1.2,0.8-2.7,1.3-4.5,1.3c-3.4,0-6.4-2.3-7.4-5.5H1.4v3.4  C3.7,27.8,8.2,30.6,13.2,30.6z" }), (0, y.jsx)("path", { style: { fill: "#FBBC04" }, d: "M5.8,19.9c-0.6-1.6-0.6-3.4,0-5.1v-3.4H1.4c-1.9,3.7-1.9,8.1,0,11.9L5.8,19.9z" }), (0, y.jsx)("path", { style: { fill: "#EA4335" }, d: "M13.2,9.4c1.9,0,3.7,0.7,5.1,2l0,0l3.8-3.8c-2.4-2.2-5.6-3.5-8.8-3.4c-5,0-9.6,2.8-11.8,7.3l4.4,3.4  C6.8,11.7,9.8,9.4,13.2,9.4z" })] }), aW = e => { let [t, n] = (0, Ke.useState)(); return (0, Ke.useEffect)((() => { e().then((e => { n(e) })).catch((() => { })) }), []), t }, cW = ({ ...e }) => (0, y.jsxs)("svg", { xmlns: "http://www.w3.org/2000/svg", width: "16", height: "16", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", ...e, children: [(0, y.jsx)("rect", { width: "18", height: "18", x: "3", y: "3", rx: "2" }), (0, y.jsx)("path", { d: "M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2" }), (0, y.jsx)("path", { d: "M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21" })] }), lW = async ({ address: e, chain: t, rpcConfig: n, privyAppId: r }) => { try { let i = AR({ chain: t, transport: on(Ha(t, n, r)) }), [o, s] = await Promise.all([i.readContract({ abi: uW, address: e, functionName: "symbol" }), i.readContract({ abi: uW, address: e, functionName: "decimals" })]); return { decimals: s, symbol: o } } catch (i) { return console.log(i), null } }; let uW = [{ inputs: [], name: "decimals", outputs: [{ internalType: "uint8", name: "", type: "uint8" }], stateMutability: "view", type: "function" }, { inputs: [], name: "symbol", outputs: [{ internalType: "string", name: "", type: "string" }], stateMutability: "view", type: "function" }], dW = new Set([Ac.id, Ec.id, Sc.id, Ic.id, yc.id]), hW = new Set([Ac.id, Ec.id, Ic.id, Sc.id]); const fW = () => window.open(void 0, void 0, pW({ w: 440, h: 680 })); let pW = ({ w: e, h: t }) => { let n = void 0 !== window.screenLeft ? window.screenLeft : window.screenX, r = void 0 !== window.screenTop ? window.screenTop : window.screenY, i = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width, o = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height; return `toolbar=0,location=0,menubar=0,height=${t},width=${e},popup=1,left=${(i - e) / 2 / (i / window.screen.availWidth) + n},top=${(o - t) / 2 / (o / window.screen.availHeight) + r}` }; let mW = { [Ac.id]: "ethereum", [Ec.id]: "base", [Sc.id]: "optimism", [Ic.id]: "polygon", [yc.id]: "arbitrum" }, gW = { buy: "CARD", send: "CRYPTO_ACCOUNT" }, yW = { USDC: "2b92315d-eab7-5bef-84fa-089a131333f5", ETH: "d85dce9b-5b73-5c3c-8978-522ce1d1c1b4", BTC: "5b71fc48-3dd3-540c-809b-f8c94d0e68b5", SOL: "4f039497-3af8-5bb3-951c-6df9afa9be1c", POL: "026bcc1e-9163-591c-a709-34dd18b2e7a1" }; const bW = (e, t, n, r, i, o) => new Promise((async (s, a) => { let c = fW(); if (!c) return void a(Error("Unable to initialize flow")); let l = "ethereum" === t.chainType ? function (e) { let t = mW[e]; if (!t) throw new bs.dx(`Unsupported chainId: ${e} for Coinbase Onramp`); return t }(t.chain.id) : "solana", u = t.isUSDC ? "USDC" : "ethereum" === t.chainType ? "ETH" : "SOL", d = await e.initCoinbaseOnRamp({ addresses: [{ address: t.address, blockchains: [l] }], assets: [u] }), { url: h } = function ({ input: e, amount: t, blockchain: n, asset: r, experience: i }) { let o = new URL("https://pay.coinbase.com/buy/select-asset"); return o.searchParams.set("appId", e.app_id), o.searchParams.set("sessionToken", e.session_token), o.searchParams.set("defaultExperience", i), o.searchParams.set("presetCryptoAmount", t.startsWith(".") ? `0${t}` : t), o.searchParams.set("defaultNetwork", n), o.searchParams.set("defaultPaymentMethod", gW[i]), o.searchParams.set("defaultAsset", yW[r]), o.searchParams.set("partnerUserId", e.partner_user_id), { url: o } }({ input: d, amount: t.amount, blockchain: l, asset: u, experience: o }); c.location = h.toString(); let f = { ...i?.funding, showAlternateFundingMethod: !0 }; t.usingDefaultFundingMethod && (f.usingDefaultFundingMethod = !1), n({ funding: f, coinbaseOnrampStatus: { popup: c } }), r(uf.COINBASE_ONRAMP_STATUS_SCREEN), e.createAnalyticsEvent({ eventName: "sdk_fiat_on_ramp_started", payload: { provider: "buy" === o ? "coinbase-onramp" : "coinbase-exchange", value: t.amount, chainType: t.chainType, chainId: "ethereum" === t.chainType ? t.chain.id : t.cluster.name } }), setTimeout((() => { n({ funding: f, coinbaseOnrampStatus: { partnerUserId: d.partner_user_id, popup: c } }) }), 5e3), s() })); var vW = n(21031); const wW = function () { if ("undefined" !== typeof globalThis) return globalThis; if ("undefined" !== typeof self) return self; if ("undefined" !== typeof window) return window; if ("undefined" !== typeof global) return global; throw new Error("unable to locate global object") }(), EW = wW.fetch ? (...e) => wW.fetch(...e) : () => Promise.reject(new Error("[ofetch] global.fetch is not supported!")), xW = wW.Headers, _W = wW.AbortController, CW = (0, vW.c)({ fetch: EW, Headers: xW, AbortController: _W }), AW = "moonpay"; let SW = new Set([Ac.id, yc.id, Ec.id, Ic.id]), kW = new Set([Ac.id, yc.id, Sc.id, Ec.id, Ic.id]); function IW(e) { return parseFloat(e) } function TW(e) { return !!e && void 0 !== e.config && void 0 !== e.provider } function NW(e) { return !!e && (void 0 !== e.chain || void 0 !== e.amount) } function PW(e, t = !1) { let [n, r] = (0, Ke.useState)(null), { createAnalyticsEvent: i } = (0, af.u)(), { data: o, navigate: s, setModalData: a } = pf(), c = o?.funding, l = (0, Ke.useRef)(0); return (0, Ke.useEffect)((() => { let n = setInterval((async () => { if (e) try { let [o] = await async function (e, t) { return CW(`https://api.moonpay.com/v1/transactions/ext/${e}`, { query: { apiKey: t ? "pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI" : "pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL" } }) }(e, t), l = "waitingAuthorization" === o.status && "credit_debit_card" === o.paymentMethod ? "pending" : o.status; if (["failed", "completed", "awaitingAuthorization"].includes(l) && (i({ eventName: jR, payload: { status: l, provider: AW, paymentMethod: o.paymentMethod, cardPaymentType: o.cardPaymentType, currency: o.currency?.code, baseCurrencyAmount: o.baseCurrencyAmount, quoteCurrencyAmount: o.quoteCurrencyAmount, feeAmount: o.feeAmount, extraFeeAmount: o.extraFeeAmount, networkFeeAmount: o.networkFeeAmount, isSandbox: t } }), clearInterval(n)), "failed" === l || "serviceFailure" === l) return a({ funding: { ...c, errorMessage: "Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet." } }), void s(uf.FUNDING_METHOD_SELECTION_SCREEN); r(l) } catch (e) { 404 !== e.response?.status && (l.current += 1), l.current >= 3 && (i({ eventName: jR, payload: { status: "serviceFailure", provider: AW } }), clearInterval(n), a({ funding: { ...c, errorMessage: "Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet." } }), s(uf.FUNDING_METHOD_SELECTION_SCREEN)) } }), 3e3); return () => clearInterval(n) }), [e, l]), n } const MW = async (e, t, n, r, i, o, s, a) => { let c = fW(); if (!c) throw Error("Unable to initialize flow"); let l = "ethereum" === t.chainType ? t.moonpayConfigOverride?.currencyCode ?? function (e, t) { switch (e) { case yc.id: return "native-currency" === t ? "ETH_ARBITRUM" : "USDC_ARBITRUM"; case 43114: return "AVAX_CCHAIN"; case Ec.id: return "native-currency" === t ? "ETH_BASE" : "USDC_BASE"; case _c.id: return "CELO_CELO"; case Ic.id: return "native-currency" === t ? "MATIC_POLYGON" : "USDC_POLYGON"; case Ac.id: return "native-currency" === t ? "ETH_ETHEREUM" : "USDC_ETHEREUM"; default: return console.warn(`Chain ${e} not supported by Moonpay, defaulting to Ethereum mainnet`), "ETH_ETHEREUM" } }(t.chain.id, r) : "SOL", { signedUrl: u, externalTransactionId: d } = await e.signMoonpayOnRampUrl({ address: t.address, useSandbox: n.fundingMethodConfig.moonpay.useSandbox ?? !1, config: { uiConfig: { accentColor: n.appearance.palette.accent, theme: n.appearance.palette.colorScheme }, ...t.moonpayConfigOverride, paymentMethod: a ?? n.fundingMethodConfig.moonpay.paymentMethod, currencyCode: l, quoteCurrencyAmount: t.moonpayConfigOverride?.quoteCurrencyAmount ?? IW(t.amount) } }); e.createAnalyticsEvent({ eventName: "sdk_fiat_on_ramp_started", payload: { provider: "moonpay", value: t.amount, chainType: t.chainType, chainId: "ethereum" === t.chainType ? t.chain.id : t.cluster.name } }), c.location = u; let h = { ...s?.funding, showAlternateFundingMethod: !0 }; t.usingDefaultFundingMethod && (h.usingDefaultFundingMethod = !1), i({ moonpayStatus: {}, funding: h }), o(uf.MOONPAY_STATUS_SCREEN), setTimeout((() => { i({ moonpayStatus: { externalTransactionId: d }, funding: h }) }), 8e3) }, OW = (e, t, n, r, i, o) => { let s, a, c = "solana" === n.chainType, l = c ? void 0 : n, u = n.isUSDC ? "USDC" : l?.erc20Address ? void 0 : "native-currency", d = !!c || u && ((e, t) => { switch (t) { case "native-currency": return SW.has(e); case "USDC": return kW.has(e); default: return console.warn("Unknown asset passed to MoonPay Onramp"), !1 } })(Number(n.chain.id), u), h = !!c || u && ((e, t) => { switch (t) { case "native-currency": return dW.has(e); case "USDC": return hW.has(e); default: return console.warn("Unknown asset passed to Coinbase Onramp"), !1 } })(Number(n.chain.id), u), f = []; for (let p of (n.preferredCardProvider && n.supportedOptions.sort((e => e.provider === n.preferredCardProvider ? -1 : 1)), n.supportedOptions)) "card" === p.method && "coinbase" === p.provider && h && f.push((() => bW(t, n, r, i, o, "buy"))), "card" === p.method && "moonpay" === p.provider && d && u && f.push((() => MW(t, n, e, u, r, i, o, "credit_debit_card"))); for (let p of n.supportedOptions) "exchange" === p.method && "coinbase" === p.provider && h && (s = () => bW(t, n, r, i, o, "buy")); for (let p of o?.funding?.supportedOptions ?? []) "wallets" === p.method && (a = () => i(uf.FUNDING_TRANSFER_FROM_WALLET_SCREEN)); return { onFundWithCard: f, onFundWithExchange: s, onFundWithWallet: a } }; let RW = async e => "undefined" != typeof window && "PaymentRequest" in window && await new window.PaymentRequest([{ supportedMethods: e }], { id: "0", total: { label: "Item", amount: { currency: "USD", value: "1.00" } } }).canMakePayment(); const jW = () => RW("https://apple.com/apple-pay"), $W = () => RW("https://google.com/pay"); var LW = n(15229), DW = n(39625); function UW({ amount: e, decimals: t }) { return (0, LW.b)(BigInt(e), t) } let FW = ({ ...e }) => (0, y.jsx)(ol, { color: "black", ...e }), BW = { devnet: "Devnet", "mainnet-beta": "Solana", testnet: "Testnet" }; const WW = ({ size: e = 61, ...t }) => (0, y.jsx)("svg", { width: e, height: e, viewBox: "0 0 61 61", fill: "none", xmlns: "http://www.w3.org/2000/svg", ...t, children: (0, y.jsxs)("g", { id: "moonpay_symbol_wht 2", children: [(0, y.jsx)("rect", { x: "1.3374", y: "1", width: "59", height: "59", rx: "11.5", fill: "#7715F5" }), (0, y.jsx)("path", { id: "Vector", d: "M43.8884 23.3258C45.0203 23.3258 46.1268 22.9901 47.068 22.3613C48.0091 21.7324 48.7427 20.8386 49.1759 19.7928C49.6091 18.747 49.7224 17.5962 49.5016 16.4861C49.2807 15.3759 48.7357 14.3561 47.9353 13.5557C47.1349 12.7553 46.1151 12.2102 45.0049 11.9893C43.8947 11.7685 42.7439 11.8819 41.6982 12.3151C40.6524 12.7482 39.7585 13.4818 39.1297 14.423C38.5008 15.3641 38.1651 16.4707 38.1651 17.6026C38.165 18.3542 38.3131 19.0985 38.6007 19.7929C38.8883 20.4873 39.3098 21.1182 39.8413 21.6496C40.3728 22.1811 41.0037 22.6027 41.6981 22.8903C42.3925 23.1778 43.1367 23.3259 43.8884 23.3258ZM26.3395 49.1017C23.5804 49.1017 20.8832 48.2836 18.5891 46.7507C16.295 45.2178 14.5069 43.039 13.4511 40.49C12.3952 37.9409 12.1189 35.1359 12.6572 32.4298C13.1955 29.7237 14.5241 27.238 16.4751 25.287C18.4262 23.336 20.9118 22.0074 23.6179 21.4691C26.324 20.9308 29.129 21.2071 31.6781 22.2629C34.2272 23.3189 36.406 25.1069 37.9389 27.401C39.4717 29.6952 40.2899 32.3923 40.2899 35.1514C40.2899 36.9835 39.9291 38.7975 39.2281 40.49C38.527 42.1826 37.4994 43.7205 36.204 45.0159C34.9086 46.3113 33.3707 47.3389 31.6781 48.04C29.9856 48.741 28.1715 49.1018 26.3395 49.1017Z", fill: "white" })] }) }); let zW = ({ status: e, onClickCta: t }) => { let { title: n, body: r, cta: i } = (0, Ke.useMemo)((() => (e => { switch (e) { case "completed": return { title: "You've funded your account!", body: "It may take a few minutes for the assets to appear.", cta: "Continue" }; case "waitingAuthorization": return { title: "Processing payment", body: "This may take up to a few hours. You will receive an email when the purchase is complete.", cta: "Continue" }; default: return { title: "In Progress", body: "Go back to MoonPay to finish funding your account.", cta: "" } } })(e)), [e]); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsxs)(GW, { children: [(0, y.jsx)(qW, { status: e }), (0, y.jsxs)(Mm, { children: [(0, y.jsx)("h3", { children: n }), (0, y.jsx)(HW, { children: r })] })] }), i && (0, y.jsx)(Sf, { onClick: t, children: i })] }) }, qW = ({ status: e }) => { if (!e || "pending" === e) { let e = "var(--privy-color-foreground-4)"; return (0, y.jsxs)("div", { style: { position: "relative" }, children: [(0, y.jsx)(Ef, { color: e, style: { position: "absolute" } }), (0, y.jsx)(xf, { color: e }), (0, y.jsx)(WW, { size: "3rem", style: { position: "absolute", top: "1rem", left: "1rem" } })] }) } let t = (e => { switch (e) { case "completed": return rg; case "waitingAuthorization": return () => (0, y.jsx)(bB, { width: "3rem", height: "3rem", style: { backgroundColor: "var(--privy-color-foreground-4)", color: "var(--privy-color-background)", borderRadius: "100%", padding: "0.5rem", margin: "0.5rem" } }); default: return } })(e), n = (r = e) ? { completed: "var(--privy-color-success)", failed: "var(--privy-color-error)", serviceFailure: "var(--privy-color-error)", waitingAuthorization: "var(--privy-color-accent)", pending: "var(--privy-color-foreground-4)" }[r] : "var(--privy-color-foreground-4)"; var r; return (0, y.jsx)("div", { style: { borderColor: n, display: "flex", justifyContent: "center", alignItems: "center", borderRadius: "100%", borderWidth: 2, padding: "0.5rem", marginBottom: "0.5rem" }, children: t && (0, y.jsx)(t, { width: "4rem", height: "4rem", color: n }) }) }, HW = oh.p.withConfig({ displayName: "StatusBody", componentId: "sc-56bea42a-0" })(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]), GW = oh.div.withConfig({ displayName: "ConnectContainer", componentId: "sc-56bea42a-1" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]); function VW({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "m8.25 4.5 7.5 7.5-7.5 7.5" })) } var KW = Ke.forwardRef(VW); const YW = ({ onClick: e, text: t }) => (0, y.jsxs)(ap, { onClick: e, children: [(0, y.jsx)(yp, {}), (0, y.jsx)(tp, { children: t }), (0, y.jsx)(KW, {})] }); let ZW = ({ onClick: e, icon: t, name: n }) => (0, y.jsxs)(ap, { onClick: e, children: [(0, y.jsx)(YF, { style: { width: 20 }, children: (0, y.jsx)("img", { src: t }) }), n, (0, y.jsx)(fg, { color: "gray", style: { marginLeft: "auto" }, children: "Connected" })] }); let XW = oh.div.withConfig({ displayName: "StyledCircle", componentId: "sc-30eca48b-0" })(["border-radius:50%;height:68px;width:68px;display:flex;align-items:center;justify-content:center;background-color:var(--privy-color-accent);color:white;margin:0 auto 24px auto;"]); const JW = ({ style: e, ...t }) => (0, y.jsx)("svg", { xmlns: "http://www.w3.org/2000/svg", fill: "none", width: "17", height: "17", viewBox: "0 0 17 17", style: { height: "1.25rem", width: "1.25rem", ...e }, ...t, children: (0, y.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", fillRule: "evenodd", clipRule: "evenodd", d: "M16.5 8.67993C16.5 9.82986 15.853 10.8287 14.9032 11.3322C15.2188 12.3599 14.97 13.5237 14.1569 14.3368C13.3437 15.1499 12.18 15.3987 11.1523 15.0831C10.6488 16.0329 9.64993 16.6799 8.5 16.6799C7.35007 16.6799 6.35126 16.0329 5.84771 15.0831C4.82003 15.3987 3.65627 15.1499 2.84314 14.3368C2.03001 13.5237 1.78124 12.3599 2.09681 11.3322C1.14699 10.8287 0.5 9.82986 0.5 8.67993C0.5 7.53 1.14699 6.53119 2.0968 6.02764C1.78125 4.99996 2.03003 3.83621 2.84315 3.02309C3.65627 2.20997 4.82002 1.96119 5.8477 2.27675C6.35125 1.32692 7.35007 0.679932 8.5 0.679932C9.64992 0.679932 10.6487 1.32691 11.1523 2.27672C12.18 1.96115 13.3437 2.20993 14.1569 3.02305C14.97 3.83618 15.2188 4.99996 14.9032 6.02764C15.853 6.53119 16.5 7.53 16.5 8.67993ZM12.2659 6.68856C12.5654 6.40238 12.5761 5.92763 12.29 5.62818C12.0038 5.32873 11.529 5.31797 11.2296 5.60416C9.73022 7.03711 8.40877 8.65489 7.3018 10.4211L5.78033 8.89963C5.48744 8.60673 5.01256 8.60673 4.71967 8.89963C4.42678 9.19252 4.42678 9.66739 4.71967 9.96029L6.92031 12.1609C7.08544 12.3261 7.31807 12.4048 7.54957 12.374C7.78106 12.3432 7.98499 12.2064 8.1012 12.0038C9.23027 10.0356 10.6362 8.24613 12.2659 6.68856Z", fill: "var(--privy-color-accent)" }) }), QW = oh.div.withConfig({ displayName: "TodoList", componentId: "sc-491785d-0" })(["display:flex;flex-direction:column;justify-content:flex-start;gap:4px;"]), ez = oh.div.withConfig({ displayName: "TodoSpacer", componentId: "sc-491785d-1" })(["&&&{margin-left:7px;border-left:2px solid var(--privy-color-foreground-4);height:12px;}"]), tz = ({ children: e }) => (0, y.jsxs)(nz, { children: [(0, y.jsx)(JW, { style: { width: "16px", height: "16px" } }), e] }); let nz = oh.div.withConfig({ displayName: "TodoItemWrapper", componentId: "sc-491785d-2" })(["display:flex;justify-content:flex-start;justify-items:center;text-align:left;gap:8px;&&{a{text-decoration:underline;color:var(--privy-color-accent);}svg{margin-top:auto;margin-bottom:auto;}}"]), rz = () => { let e = ys.vU ? "https://addons.mozilla.org/en-US/firefox/addon/phantom-app/" : "https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en"; return (0, y.jsxs)(iz, { children: [(0, y.jsx)(Um, { title: "Create a Phantom wallet", description: "Follow the instructions below to get started." }), (0, y.jsx)(km, { children: (0, y.jsx)(gg, { style: { width: "152px", height: "152px" } }) }), (0, y.jsxs)(QW, { children: [(0, y.jsx)(tz, { children: (0, y.jsxs)("div", { children: [(0, y.jsx)("span", { children: "Install the " }), (0, y.jsx)("a", { href: e, target: "_blank", children: "Phantom browser extension" })] }) }), (0, y.jsx)(ez, {}), (0, y.jsx)(tz, { children: "Set up your first wallet" }), (0, y.jsx)(ez, {}), (0, y.jsx)(tz, { children: "Store your recovery phrase in a safe place!" })] }), (0, y.jsx)(Of, { onClick: () => window.location.reload(), children: "Reload the page to use your wallet" })] }) }; let iz = oh(km).withConfig({ displayName: "CreateWalletContainer", componentId: "sc-8f484e26-0" })(["gap:30px;> :first-child > svg{margin-top:20px;}"]), oz = { apple_oauth: "apple", custom_auth: "custom", discord_oauth: "discord", email: "email", farcaster: "farcaster", github_oauth: "github", google_oauth: "google", instagram_oauth: "instagram", linkedin_oauth: "linkedin", passkey: "passkey", phone: "sms", spotify_oauth: "spotify", telegram: "telegram", tiktok_oauth: "tiktok", twitter_oauth: "twitter", wallet: "siwe", smart_wallet: "siwe", cross_app: "privy:", guest: "guest" }; const sz = e => { let t = oz[e]; return "wallet" === e || "phone" === e ? { displayName: e, loginMethod: t } : { displayName: t, loginMethod: t } }, az = () => { let { app: e } = pf(), t = e?.appearance?.logo, n = `${e?.name} logo`, r = { maxHeight: "90px", maxWidth: "180px" }; return t ? "string" == typeof t ? (0, y.jsx)("img", { src: t, alt: n, style: r }) : "svg" === t.type || "img" === t.type ? Ke.cloneElement(t, { alt: n, style: r }) : (console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."), null) : null }, cz = e => { let { app: t } = pf(); return t?.appearance.logo ? (0, y.jsx)(lz, { ...e, children: (0, y.jsx)(az, {}) }) : null }, lz = oh.div.withConfig({ displayName: "AppLogoContainer", componentId: "sc-a206bd44-0" })(["display:flex;flex-direction:column;align-items:center;padding:24px 0;flex-grow:1;justify-content:center;"]), uz = ({ appId: e }) => { let [t, n] = (0, Ke.useState)(void 0), { startCrossAppAuthFlow: r, authenticated: i } = (0, mf.b)(), { client: o } = (0, af.u)(); return (0, Ke.useEffect)((() => { (async () => { o && n(await o.getCrossAppProviderDetails(e)) })() }), [o]), (0, y.jsx)(ap, { onClick: () => r({ appId: e, action: i ? "link" : "login" }), disabled: !t, children: t ? (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(bT, { name: t.name, logoUrl: t.icon_url || void 0, size: "24px" }), " ", t.name] }) : (0, y.jsx)(_f, {}) }) }; let dz = oh.label.withConfig({ displayName: "BaseEmailForm", componentId: "sc-d081b0e2-0" })(["display:block;position:relative;width:100%;> svg{position:absolute;margin:13px 17px;height:24px;width:24px;color:var(--privy-color-foreground-3);}&& > input{background-color:#f00;font-size:16px;line-height:24px;padding:12px 88px 12px 52px;flex-grow:1;background:var(--privy-color-background);border:1px solid ", ";border-radius:var(--privy-border-radius-mdlg);width:100%;@media (min-width:441px){font-size:14px;padding-right:78px;}:focus{outline:none;border-color:", ";box-shadow:", ";}:autofill,:-webkit-autofill{background:var(--privy-color-background);}&& > input::placeholder{color:var(--privy-color-foreground-3);}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}"], (({ $error: e }) => e ? "var(--privy-color-error) !important" : "var(--privy-color-foreground-4)"), (({ $error: e }) => e ? "var(--privy-color-error) !important" : "var(--privy-color-accent-light)"), (({ $error: e }) => e ? "none" : "0 0 0 1px var(--privy-color-accent-light)")); const hz = oh(dz).withConfig({ displayName: "EmailUpdateForm", componentId: "sc-d081b0e2-1" })(["background-color:var(--privy-color-background);transition:background-color 200ms ease;&& > button{right:0;line-height:24px;position:absolute;padding:13px 17px;background-color:#090;:focus{outline:none;border-color:var(--privy-color-accent);}}"]), fz = oh(dz).withConfig({ displayName: "EmailInputForm", componentId: "sc-d081b0e2-2" })(["&& > input{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:", ";border:1px solid ", ";&& > input::placeholder{color:var(--privy-color-foreground-3);}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}}"], (e => e.stacked ? "16px" : "88px"), (({ $error: e }) => e ? "var(--privy-color-error) !important" : "var(--privy-color-foreground-4)")), pz = oh.div.withConfig({ displayName: "InputContainerForm", componentId: "sc-d081b0e2-3" })(["width:100%;&& > ", "{display:block;text-align:left;padding-left:var(--privy-border-radius-mdlg);padding-bottom:5px;}"], _T), mz = (0, Ke.forwardRef)(((e, t) => { let [n, r] = (0, Ke.useState)(e.defaultValue || ""), [i, o] = (0, Ke.useState)(""), [s, a] = (0, Ke.useState)(!1), { authenticated: c } = (0, mf.b)(), { initLoginWithEmail: l } = (0, af.u)(), { navigate: u, setModalData: d, currentScreen: h, data: f } = pf(), { enabled: p, token: m } = Xa(), [g, b] = (0, Ke.useState)(!1), { accountType: v } = kg(), w = sf(); (0, Ke.useEffect)((() => { !n && w.disablePlusEmails && f?.inlineError?.error instanceof bs.Bi && f?.inlineError?.error.privyErrorCode === bs.sX.DISALLOWED_PLUS_EMAIL && !i && o("Please enter a valid email address without a '+'."), i && o("") }), [n]); let E = Ra(n), x = s || !E, _ = () => { var e; d({ inlineError: void 0 }), !p || m || c ? (e = m, a(!0), l({ email: n, captchaToken: e, disableSignup: f?.login?.disableSignup, withPrivyUi: !0 }).then((() => { u(uf.AWAITING_PASSWORDLESS_CODE) })).catch((e => { d({ errorModalData: { error: e, previousScreen: h || uf.LANDING } }), u(uf.ERROR_SCREEN) })).finally((() => { a(!1) }))) : (d({ captchaModalData: { callback: e => l({ email: n, captchaToken: e, withPrivyUi: !0 }), userIntentRequired: !1, onSuccessNavigateTo: uf.AWAITING_PASSWORDLESS_CODE, onErrorNavigateTo: uf.ERROR_SCREEN } }), u(uf.CAPTCHA_SCREEN)) }; return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsxs)(gz, { children: [i && (0, y.jsx)(_T, { style: { display: "block", marginTop: "0.25rem", textAlign: "left" }, children: i }), (0, y.jsxs)(yz, { stacked: e.stacked, $error: !!i, children: [(0, y.jsx)(_m, {}), (0, y.jsx)("input", { ref: t, id: "email-input", className: "login-method-button", type: "email", placeholder: "your@email.com", onFocus: () => b(!0), onChange: e => r(e.target.value), onKeyUp: e => { "Enter" === e.key && _() }, value: n, autoComplete: "email" }), "email" !== v || g ? e.stacked ? (0, y.jsx)("span", {}) : (0, y.jsx)(Rf, { isSubmitting: s, onClick: _, disabled: x, children: "Submit" }) : (0, y.jsx)(fg, { color: "gray", children: "Recent" })] })] }), e.stacked ? (0, y.jsx)(Sf, { loadingText: null, loading: s, disabled: x, onClick: _, children: "Submit" }) : null] }) })); let gz = pz, yz = fz; const bz = ({ isEditable: e, setIsEditable: t, defaultValue: n }) => { let r = (0, Ke.useRef)(null); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(lp, { $if: !e, children: (0, y.jsx)(mz, { ref: r, defaultValue: n }) }), (0, y.jsx)(lp, { $if: e, children: (0, y.jsxs)(ap, { onClick: () => { t(), setTimeout((() => { r.current?.focus() }), 0) }, children: [(0, y.jsx)(_m, {}), " Continue with Email"] }) })] }) }, vz = () => { let [e, t] = (0, Ke.useState)(!1), { currentScreen: n, navigate: r, setModalData: i, data: o } = pf(), { enabled: s, token: a } = Xa(), { initLoginWithFarcaster: c } = (0, af.u)(), { accountType: l } = kg(); return (0, y.jsxs)(ap, { onClick: async () => { t(!0); try { s && !a ? (i({ captchaModalData: { callback: e => c(e, o?.login?.disableSignup), userIntentRequired: !0, onSuccessNavigateTo: uf.AWAITING_FARCASTER_CONNECTION, onErrorNavigateTo: uf.ERROR_SCREEN } }), r(uf.CAPTCHA_SCREEN)) : (await c(a, o?.login?.disableSignup), r(uf.AWAITING_FARCASTER_CONNECTION)) } catch (e) { i({ errorModalData: { error: e, previousScreen: n || uf.LANDING } }), r(uf.ERROR_SCREEN) } finally { t(!1) } }, disabled: !1, children: [(0, y.jsx)(GP, {}), " Farcaster", e && (0, y.jsx)(_f, {}), "farcaster" === l && (0, y.jsx)(wz, { color: "gray", children: "Recent" })] }) }; let wz = oh(fg).withConfig({ displayName: "StyledChip", componentId: "sc-19f52850-0" })(["margin-left:auto;"]); const Ez = () => { let { enabled: e, token: t } = Xa(), { navigate: n, setModalData: r } = pf(), { initLoginWithPasskey: i } = (0, af.u)(); return (0, y.jsx)(_z, { onClick: async () => { e && !t ? (r({ captchaModalData: { callback: e => i({ captchaToken: e, withPrivyUi: !0 }), userIntentRequired: !1, onSuccessNavigateTo: uf.AWAITING_PASSKEY_SYSTEM_DIALOGUE, onErrorNavigateTo: uf.ERROR_SCREEN } }), n(uf.CAPTCHA_SCREEN)) : (await i({ withPrivyUi: !0 }), n(uf.AWAITING_PASSKEY_SYSTEM_DIALOGUE)) }, children: "I have a passkey" }) }; let xz = nh(["&&{width:100%;font-size:0.875rem;line-height:1rem;display:flex;gap:0.5rem;justify-content:center;align-items:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]); const _z = oh.button.withConfig({ displayName: "StyledLink", componentId: "sc-acf2a340-0" })(["", ""], xz); var Cz = { AC: "40123", AD: "312345", AE: "501234567", AF: "701234567", AG: "2684641234", AI: "2642351234", AL: "672123456", AM: "77123456", AO: "923123456", AR: "91123456789", AS: "6847331234", AT: "664123456", AU: "412345678", AW: "5601234", AX: "412345678", AZ: "401234567", BA: "61123456", BB: "2462501234", BD: "1812345678", BE: "470123456", BF: "70123456", BG: "43012345", BH: "36001234", BI: "79561234", BJ: "90011234", BL: "690001234", BM: "4413701234", BN: "7123456", BO: "71234567", BQ: "3181234", BR: "11961234567", BS: "2423591234", BT: "17123456", BW: "71123456", BY: "294911911", BZ: "6221234", CA: "5062345678", CC: "412345678", CD: "991234567", CF: "70012345", CG: "061234567", CH: "781234567", CI: "0123456789", CK: "71234", CL: "221234567", CM: "671234567", CN: "13123456789", CO: "3211234567", CR: "83123456", CU: "51234567", CV: "9911234", CW: "95181234", CX: "412345678", CY: "96123456", CZ: "601123456", DE: "15123456789", DJ: "77831001", DK: "32123456", DM: "7672251234", DO: "8092345678", DZ: "551234567", EC: "991234567", EE: "51234567", EG: "1001234567", EH: "650123456", ER: "7123456", ES: "612345678", ET: "911234567", FI: "412345678", FJ: "7012345", FK: "51234", FM: "3501234", FO: "211234", FR: "612345678", GA: "06031234", GB: "7400123456", GD: "4734031234", GE: "555123456", GF: "694201234", GG: "7781123456", GH: "231234567", GI: "57123456", GL: "221234", GM: "3012345", GN: "601123456", GP: "690001234", GQ: "222123456", GR: "6912345678", GT: "51234567", GU: "6713001234", GW: "955012345", GY: "6091234", HK: "51234567", HN: "91234567", HR: "921234567", HT: "34101234", HU: "201234567", ID: "812345678", IE: "850123456", IL: "502345678", IM: "7924123456", IN: "8123456789", IO: "3801234", IQ: "7912345678", IR: "9123456789", IS: "6111234", IT: "3123456789", JE: "7797712345", JM: "8762101234", JO: "790123456", JP: "9012345678", KE: "712123456", KG: "700123456", KH: "91234567", KI: "72001234", KM: "3212345", KN: "8697652917", KP: "1921234567", KR: "1020000000", KW: "50012345", KY: "3453231234", KZ: "7710009998", LA: "2023123456", LB: "71123456", LC: "7582845678", LI: "660234567", LK: "712345678", LR: "770123456", LS: "50123456", LT: "61234567", LU: "628123456", LV: "21234567", LY: "912345678", MA: "650123456", MC: "612345678", MD: "62112345", ME: "67622901", MF: "690001234", MG: "321234567", MH: "2351234", MK: "72345678", ML: "65012345", MM: "92123456", MN: "88123456", MO: "66123456", MP: "6702345678", MQ: "696201234", MR: "22123456", MS: "6644923456", MT: "96961234", MU: "52512345", MV: "7712345", MW: "991234567", MX: "12221234567", MY: "123456789", MZ: "821234567", NA: "811234567", NC: "751234", NE: "93123456", NF: "381234", NG: "8021234567", NI: "81234567", NL: "612345678", NO: "40612345", NP: "9841234567", NR: "5551234", NU: "8884012", NZ: "211234567", OM: "92123456", PA: "61234567", PE: "912345678", PF: "87123456", PG: "70123456", PH: "9051234567", PK: "3012345678", PL: "512345678", PM: "551234", PR: "7872345678", PS: "599123456", PT: "912345678", PW: "6201234", PY: "961456789", QA: "33123456", RE: "692123456", RO: "712034567", RS: "601234567", RU: "9123456789", RW: "720123456", SA: "512345678", SB: "7421234", SC: "2510123", SD: "911231234", SE: "701234567", SG: "81234567", SH: "51234", SI: "31234567", SJ: "41234567", SK: "912123456", SL: "25123456", SM: "66661212", SN: "701234567", SO: "71123456", SR: "7412345", SS: "977123456", ST: "9812345", SV: "70123456", SX: "7215205678", SY: "944567890", SZ: "76123456", TA: "8999", TC: "6492311234", TD: "63012345", TG: "90112345", TH: "812345678", TJ: "917123456", TK: "7290", TL: "77212345", TM: "66123456", TN: "20123456", TO: "7715123", TR: "5012345678", TT: "8682911234", TV: "901234", TW: "912345678", TZ: "621234567", UA: "501234567", UG: "712345678", US: "2015550123", UY: "94231234", UZ: "912345678", VA: "3123456789", VC: "7844301234", VE: "4121234567", VG: "2843001234", VI: "3406421234", VN: "912345678", VU: "5912345", WF: "821234", WS: "7212345", XK: "43201234", YE: "712345678", YT: "639012345", ZA: "711234567", ZM: "955123456", ZW: "712345678" }, Az = { version: 4, country_calling_codes: { 1: ["US", "AG", "AI", "AS", "BB", "BM", "BS", "CA", "DM", "DO", "GD", "GU", "JM", "KN", "KY", "LC", "MP", "MS", "PR", "SX", "TC", "TT", "VC", "VG", "VI"], 7: ["RU", "KZ"], 20: ["EG"], 27: ["ZA"], 30: ["GR"], 31: ["NL"], 32: ["BE"], 33: ["FR"], 34: ["ES"], 36: ["HU"], 39: ["IT", "VA"], 40: ["RO"], 41: ["CH"], 43: ["AT"], 44: ["GB", "GG", "IM", "JE"], 45: ["DK"], 46: ["SE"], 47: ["NO", "SJ"], 48: ["PL"], 49: ["DE"], 51: ["PE"], 52: ["MX"], 53: ["CU"], 54: ["AR"], 55: ["BR"], 56: ["CL"], 57: ["CO"], 58: ["VE"], 60: ["MY"], 61: ["AU", "CC", "CX"], 62: ["ID"], 63: ["PH"], 64: ["NZ"], 65: ["SG"], 66: ["TH"], 81: ["JP"], 82: ["KR"], 84: ["VN"], 86: ["CN"], 90: ["TR"], 91: ["IN"], 92: ["PK"], 93: ["AF"], 94: ["LK"], 95: ["MM"], 98: ["IR"], 211: ["SS"], 212: ["MA", "EH"], 213: ["DZ"], 216: ["TN"], 218: ["LY"], 220: ["GM"], 221: ["SN"], 222: ["MR"], 223: ["ML"], 224: ["GN"], 225: ["CI"], 226: ["BF"], 227: ["NE"], 228: ["TG"], 229: ["BJ"], 230: ["MU"], 231: ["LR"], 232: ["SL"], 233: ["GH"], 234: ["NG"], 235: ["TD"], 236: ["CF"], 237: ["CM"], 238: ["CV"], 239: ["ST"], 240: ["GQ"], 241: ["GA"], 242: ["CG"], 243: ["CD"], 244: ["AO"], 245: ["GW"], 246: ["IO"], 247: ["AC"], 248: ["SC"], 249: ["SD"], 250: ["RW"], 251: ["ET"], 252: ["SO"], 253: ["DJ"], 254: ["KE"], 255: ["TZ"], 256: ["UG"], 257: ["BI"], 258: ["MZ"], 260: ["ZM"], 261: ["MG"], 262: ["RE", "YT"], 263: ["ZW"], 264: ["NA"], 265: ["MW"], 266: ["LS"], 267: ["BW"], 268: ["SZ"], 269: ["KM"], 290: ["SH", "TA"], 291: ["ER"], 297: ["AW"], 298: ["FO"], 299: ["GL"], 350: ["GI"], 351: ["PT"], 352: ["LU"], 353: ["IE"], 354: ["IS"], 355: ["AL"], 356: ["MT"], 357: ["CY"], 358: ["FI", "AX"], 359: ["BG"], 370: ["LT"], 371: ["LV"], 372: ["EE"], 373: ["MD"], 374: ["AM"], 375: ["BY"], 376: ["AD"], 377: ["MC"], 378: ["SM"], 380: ["UA"], 381: ["RS"], 382: ["ME"], 383: ["XK"], 385: ["HR"], 386: ["SI"], 387: ["BA"], 389: ["MK"], 420: ["CZ"], 421: ["SK"], 423: ["LI"], 500: ["FK"], 501: ["BZ"], 502: ["GT"], 503: ["SV"], 504: ["HN"], 505: ["NI"], 506: ["CR"], 507: ["PA"], 508: ["PM"], 509: ["HT"], 590: ["GP", "BL", "MF"], 591: ["BO"], 592: ["GY"], 593: ["EC"], 594: ["GF"], 595: ["PY"], 596: ["MQ"], 597: ["SR"], 598: ["UY"], 599: ["CW", "BQ"], 670: ["TL"], 672: ["NF"], 673: ["BN"], 674: ["NR"], 675: ["PG"], 676: ["TO"], 677: ["SB"], 678: ["VU"], 679: ["FJ"], 680: ["PW"], 681: ["WF"], 682: ["CK"], 683: ["NU"], 685: ["WS"], 686: ["KI"], 687: ["NC"], 688: ["TV"], 689: ["PF"], 690: ["TK"], 691: ["FM"], 692: ["MH"], 850: ["KP"], 852: ["HK"], 853: ["MO"], 855: ["KH"], 856: ["LA"], 880: ["BD"], 886: ["TW"], 960: ["MV"], 961: ["LB"], 962: ["JO"], 963: ["SY"], 964: ["IQ"], 965: ["KW"], 966: ["SA"], 967: ["YE"], 968: ["OM"], 970: ["PS"], 971: ["AE"], 972: ["IL"], 973: ["BH"], 974: ["QA"], 975: ["BT"], 976: ["MN"], 977: ["NP"], 992: ["TJ"], 993: ["TM"], 994: ["AZ"], 995: ["GE"], 996: ["KG"], 998: ["UZ"] }, countries: { AC: ["247", "00", "(?:[01589]\\d|[46])\\d{4}", [5, 6]], AD: ["376", "00", "(?:1|6\\d)\\d{7}|[135-9]\\d{5}", [6, 8, 9], [["(\\d{3})(\\d{3})", "$1 $2", ["[135-9]"]], ["(\\d{4})(\\d{4})", "$1 $2", ["1"]], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["6"]]]], AE: ["971", "00", "(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}", [5, 6, 7, 8, 9, 10, 11, 12], [["(\\d{3})(\\d{2,9})", "$1 $2", ["60|8"]], ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["[236]|[479][2-8]"], "0$1"], ["(\\d{3})(\\d)(\\d{5})", "$1 $2 $3", ["[479]"]], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["5"], "0$1"]], "0"], AF: ["93", "00", "[2-7]\\d{8}", [9], [["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[2-7]"], "0$1"]], "0"], AG: ["1", "011", "(?:268|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "([457]\\d{6})$|1", "268$1", 0, "268"], AI: ["1", "011", "(?:264|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "([2457]\\d{6})$|1", "264$1", 0, "264"], AL: ["355", "00", "(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}", [6, 7, 8, 9], [["(\\d{3})(\\d{3,4})", "$1 $2", ["80|9"], "0$1"], ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["4[2-6]"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[2358][2-5]|4"], "0$1"], ["(\\d{3})(\\d{5})", "$1 $2", ["[23578]"], "0$1"], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["6"], "0$1"]], "0"], AM: ["374", "00", "(?:[1-489]\\d|55|60|77)\\d{6}", [8], [["(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3", ["[89]0"], "0 $1"], ["(\\d{3})(\\d{5})", "$1 $2", ["2|3[12]"], "(0$1)"], ["(\\d{2})(\\d{6})", "$1 $2", ["1|47"], "(0$1)"], ["(\\d{2})(\\d{6})", "$1 $2", ["[3-9]"], "0$1"]], "0"], AO: ["244", "00", "[29]\\d{8}", [9], [["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[29]"]]]], AR: ["54", "00", "(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}", [10, 11], [["(\\d{4})(\\d{2})(\\d{4})", "$1 $2-$3", ["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])", "2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)", "2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]", "2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"], "0$1", 1], ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2-$3", ["1"], "0$1", 1], ["(\\d{3})(\\d{3})(\\d{4})", "$1-$2-$3", ["[68]"], "0$1"], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2-$3", ["[23]"], "0$1", 1], ["(\\d)(\\d{4})(\\d{2})(\\d{4})", "$2 15-$3-$4", ["9(?:2[2-469]|3[3-578])", "9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))", "9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)", "9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]", "9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"], "0$1", 0, "$1 $2 $3-$4"], ["(\\d)(\\d{2})(\\d{4})(\\d{4})", "$2 15-$3-$4", ["91"], "0$1", 0, "$1 $2 $3-$4"], ["(\\d{3})(\\d{3})(\\d{5})", "$1-$2-$3", ["8"], "0$1"], ["(\\d)(\\d{3})(\\d{3})(\\d{4})", "$2 15-$3-$4", ["9"], "0$1", 0, "$1 $2 $3-$4"]], "0", 0, "0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?", "9$1"], AS: ["1", "011", "(?:[58]\\d\\d|684|900)\\d{7}", [10], 0, "1", 0, "([267]\\d{6})$|1", "684$1", 0, "684"], AT: ["43", "00", "1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}", [4, 5, 6, 7, 8, 9, 10, 11, 12, 13], [["(\\d)(\\d{3,12})", "$1 $2", ["1(?:11|[2-9])"], "0$1"], ["(\\d{3})(\\d{2})", "$1 $2", ["517"], "0$1"], ["(\\d{2})(\\d{3,5})", "$1 $2", ["5[079]"], "0$1"], ["(\\d{3})(\\d{3,10})", "$1 $2", ["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:20|32|8)|[89]"], "0$1"], ["(\\d{4})(\\d{3,9})", "$1 $2", ["[2-467]|5[2-6]"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["5"], "0$1"], ["(\\d{2})(\\d{4})(\\d{4,7})", "$1 $2 $3", ["5"], "0$1"]], "0"], AU: ["61", "001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011", "1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}", [5, 6, 7, 8, 9, 10, 12], [["(\\d{2})(\\d{3,4})", "$1 $2", ["16"], "0$1"], ["(\\d{2})(\\d{3})(\\d{2,4})", "$1 $2 $3", ["16"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["14|4"], "0$1"], ["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["[2378]"], "(0$1)"], ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["1(?:30|[89])"]]], "0", 0, "(183[12])|0", 0, 0, 0, [["(?:(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8]))\\d{3}|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4]))|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}", [9]], ["4(?:(?:79|94)[01]|83[0-389])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[016-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}", [9]], ["180(?:0\\d{3}|2)\\d{3}", [7, 10]], ["190[0-26]\\d{6}", [10]], 0, 0, 0, ["163\\d{2,6}", [5, 6, 7, 8, 9]], ["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}", [9]], ["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}", [6, 8, 10, 12]]], "0011"], AW: ["297", "00", "(?:[25-79]\\d\\d|800)\\d{4}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[25-9]"]]]], AX: ["358", "00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))", "2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}", [5, 6, 7, 8, 9, 10, 11, 12], 0, "0", 0, 0, 0, 0, "18", 0, "00"], AZ: ["994", "00", "365\\d{6}|(?:[124579]\\d|60|88)\\d{7}", [9], [["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["90"], "0$1"], ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["1[28]|2|365|46", "1[28]|2|365[45]|46", "1[28]|2|365(?:4|5[02])|46"], "(0$1)"], ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[13-9]"], "0$1"]], "0"], BA: ["387", "00", "6\\d{8}|(?:[35689]\\d|49|70)\\d{6}", [8, 9], [["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["6[1-3]|[7-9]"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2-$3", ["[3-5]|6[56]"], "0$1"], ["(\\d{2})(\\d{2})(\\d{2})(\\d{3})", "$1 $2 $3 $4", ["6"], "0$1"]], "0"], BB: ["1", "011", "(?:246|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "([2-9]\\d{6})$|1", "246$1", 0, "246"], BD: ["880", "00", "[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}", [6, 7, 8, 9, 10], [["(\\d{2})(\\d{4,6})", "$1-$2", ["31[5-8]|[459]1"], "0$1"], ["(\\d{3})(\\d{3,7})", "$1-$2", ["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"], "0$1"], ["(\\d{4})(\\d{3,6})", "$1-$2", ["[13-9]|22"], "0$1"], ["(\\d)(\\d{7,8})", "$1-$2", ["2"], "0$1"]], "0"], BE: ["32", "00", "4\\d{8}|[1-9]\\d{7}", [8, 9], [["(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3", ["(?:80|9)0"], "0$1"], ["(\\d)(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[239]|4[23]"], "0$1"], ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[15-8]"], "0$1"], ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["4"], "0$1"]], "0"], BF: ["226", "00", "[025-7]\\d{7}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[025-7]"]]]], BG: ["359", "00", "00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}", [6, 7, 8, 9, 12], [["(\\d)(\\d)(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["2"], "0$1"], ["(\\d{3})(\\d{4})", "$1 $2", ["43[1-6]|70[1-9]"], "0$1"], ["(\\d)(\\d{3})(\\d{3,4})", "$1 $2 $3", ["2"], "0$1"], ["(\\d{2})(\\d{3})(\\d{2,3})", "$1 $2 $3", ["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"], "0$1"], ["(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3", ["(?:70|8)0"], "0$1"], ["(\\d{3})(\\d{3})(\\d{2})", "$1 $2 $3", ["43[1-7]|7"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[48]|9[08]"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["9"], "0$1"]], "0"], BH: ["973", "00", "[136-9]\\d{7}", [8], [["(\\d{4})(\\d{4})", "$1 $2", ["[13679]|8[02-4679]"]]]], BI: ["257", "00", "(?:[267]\\d|31)\\d{6}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2367]"]]]], BJ: ["229", "00", "[24-689]\\d{7}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[24-689]"]]]], BL: ["590", "00", "590\\d{6}|(?:69|80|9\\d)\\d{7}", [9], 0, "0", 0, 0, 0, 0, 0, [["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"], ["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"], ["80[0-5]\\d{6}"], 0, 0, 0, 0, 0, ["9(?:(?:395|76[018])\\d|475[0-5])\\d{4}"]]], BM: ["1", "011", "(?:441|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "([2-9]\\d{6})$|1", "441$1", 0, "441"], BN: ["673", "00", "[2-578]\\d{6}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[2-578]"]]]], BO: ["591", "00(?:1\\d)?", "(?:[2-467]\\d\\d|8001)\\d{5}", [8, 9], [["(\\d)(\\d{7})", "$1 $2", ["[23]|4[46]"]], ["(\\d{8})", "$1", ["[67]"]], ["(\\d{3})(\\d{2})(\\d{4})", "$1 $2 $3", ["8"]]], "0", 0, "0(1\\d)?"], BQ: ["599", "00", "(?:[34]1|7\\d)\\d{5}", [7], 0, 0, 0, 0, 0, 0, "[347]"], BR: ["55", "00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)", "(?:[1-46-9]\\d\\d|5(?:[0-46-9]\\d|5[0-46-9]))\\d{8}|[1-9]\\d{9}|[3589]\\d{8}|[34]\\d{7}", [8, 9, 10, 11], [["(\\d{4})(\\d{4})", "$1-$2", ["300|4(?:0[02]|37)", "4(?:02|37)0|[34]00"]], ["(\\d{3})(\\d{2,3})(\\d{4})", "$1 $2 $3", ["(?:[358]|90)0"], "0$1"], ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2-$3", ["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"], "($1)"], ["(\\d{2})(\\d{5})(\\d{4})", "$1 $2-$3", ["[16][1-9]|[2-57-9]"], "($1)"]], "0", 0, "(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?", "$2"], BS: ["1", "011", "(?:242|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "([3-8]\\d{6})$|1", "242$1", 0, "242"], BT: ["975", "00", "[17]\\d{7}|[2-8]\\d{6}", [7, 8], [["(\\d)(\\d{3})(\\d{3})", "$1 $2 $3", ["[2-68]|7[246]"]], ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["1[67]|7"]]]], BW: ["267", "00", "(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}", [7, 8, 10], [["(\\d{2})(\\d{5})", "$1 $2", ["90"]], ["(\\d{3})(\\d{4})", "$1 $2", ["[24-6]|3[15-9]"]], ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[37]"]], ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["0"]], ["(\\d{3})(\\d{4})(\\d{3})", "$1 $2 $3", ["8"]]]], BY: ["375", "810", "(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}", [6, 7, 8, 9, 10, 11], [["(\\d{3})(\\d{3})", "$1 $2", ["800"], "8 $1"], ["(\\d{3})(\\d{2})(\\d{2,4})", "$1 $2 $3", ["800"], "8 $1"], ["(\\d{4})(\\d{2})(\\d{3})", "$1 $2-$3", ["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])", "1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"], "8 0$1"], ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2-$3-$4", ["1(?:[56]|7[467])|2[1-3]"], "8 0$1"], ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2-$3-$4", ["[1-4]"], "8 0$1"], ["(\\d{3})(\\d{3,4})(\\d{4})", "$1 $2 $3", ["[89]"], "8 $1"]], "8", 0, "0|80?", 0, 0, 0, 0, "8~10"], BZ: ["501", "00", "(?:0800\\d|[2-8])\\d{6}", [7, 11], [["(\\d{3})(\\d{4})", "$1-$2", ["[2-8]"]], ["(\\d)(\\d{3})(\\d{4})(\\d{3})", "$1-$2-$3-$4", ["0"]]]], CA: ["1", "011", "(?:[2-8]\\d|90)\\d{8}|3\\d{6}", [7, 10], 0, "1", 0, 0, 0, 0, 0, [["(?:2(?:04|[23]6|[48]9|50|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\d{6}", [10]], ["", [10]], ["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}", [10]], ["900[2-9]\\d{6}", [10]], ["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:00|2[125-9]|33|44|66|77|88)|622)[2-9]\\d{6}", [10]], 0, ["310\\d{4}", [7]], 0, ["600[2-9]\\d{6}", [10]]]], CC: ["61", "001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011", "1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}", [6, 7, 8, 9, 10, 12], 0, "0", 0, "([59]\\d{7})$|0", "8$1", 0, 0, [["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}", [9]], ["4(?:(?:79|94)[01]|83[0-389])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[016-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}", [9]], ["180(?:0\\d{3}|2)\\d{3}", [7, 10]], ["190[0-26]\\d{6}", [10]], 0, 0, 0, 0, ["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}", [9]], ["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}", [6, 8, 10, 12]]], "0011"], CD: ["243", "00", "[189]\\d{8}|[1-68]\\d{6}", [7, 9], [["(\\d{2})(\\d{2})(\\d{3})", "$1 $2 $3", ["88"], "0$1"], ["(\\d{2})(\\d{5})", "$1 $2", ["[1-6]"], "0$1"], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["1"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[89]"], "0$1"]], "0"], CF: ["236", "00", "(?:[27]\\d{3}|8776)\\d{4}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[278]"]]]], CG: ["242", "00", "222\\d{6}|(?:0\\d|80)\\d{7}", [9], [["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["8"]], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[02]"]]]], CH: ["41", "00", "8\\d{11}|[2-9]\\d{8}", [9], [["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["8[047]|90"], "0$1"], ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2-79]|81"], "0$1"], ["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4 $5", ["8"], "0$1"]], "0"], CI: ["225", "00", "[02]\\d{9}", [10], [["(\\d{2})(\\d{2})(\\d)(\\d{5})", "$1 $2 $3 $4", ["2"]], ["(\\d{2})(\\d{2})(\\d{2})(\\d{4})", "$1 $2 $3 $4", ["0"]]]], CK: ["682", "00", "[2-578]\\d{4}", [5], [["(\\d{2})(\\d{3})", "$1 $2", ["[2-578]"]]]], CL: ["56", "(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0", "12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}", [9, 10, 11], [["(\\d{5})(\\d{4})", "$1 $2", ["219", "2196"], "($1)"], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["44"]], ["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["2[1-36]"], "($1)"], ["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["9[2-9]"]], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"], "($1)"], ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["60|8"]], ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["1"]], ["(\\d{3})(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3 $4", ["60"]]]], CM: ["237", "00", "[26]\\d{8}|88\\d{6,7}", [8, 9], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["88"]], ["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4 $5", ["[26]|88"]]]], CN: ["86", "00|1(?:[12]\\d|79)\\d\\d00", "1[127]\\d{8,9}|2\\d{9}(?:\\d{2})?|[12]\\d{6,7}|86\\d{6}|(?:1[03-689]\\d|6)\\d{7,9}|(?:[3-579]\\d|8[0-57-9])\\d{6,9}", [7, 8, 9, 10, 11, 12], [["(\\d{2})(\\d{5,6})", "$1 $2", ["(?:10|2[0-57-9])[19]", "(?:10|2[0-57-9])(?:10|9[56])", "10(?:10|9[56])|2[0-57-9](?:100|9[56])"], "0$1"], ["(\\d{3})(\\d{5,6})", "$1 $2", ["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]", "(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]", "85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])", "85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"], "0$1"], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["(?:4|80)0"]], ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["10|2(?:[02-57-9]|1[1-9])", "10|2(?:[02-57-9]|1[1-9])", "10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"], "0$1", 1], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"], "0$1", 1], ["(\\d{3})(\\d{7,8})", "$1 $2", ["9"]], ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["80"], "0$1", 1], ["(\\d{3})(\\d{4})(\\d{4})", "$1 $2 $3", ["[3-578]"], "0$1", 1], ["(\\d{3})(\\d{4})(\\d{4})", "$1 $2 $3", ["1[3-9]"]], ["(\\d{2})(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3 $4", ["[12]"], "0$1", 1]], "0", 0, "(1(?:[12]\\d|79)\\d\\d)|0", 0, 0, 0, 0, "00"], CO: ["57", "00(?:4(?:[14]4|56)|[579])", "(?:60\\d\\d|9101)\\d{6}|(?:1\\d|3)\\d{9}", [10, 11], [["(\\d{3})(\\d{7})", "$1 $2", ["6"], "($1)"], ["(\\d{3})(\\d{7})", "$1 $2", ["3[0-357]|91"]], ["(\\d)(\\d{3})(\\d{7})", "$1-$2-$3", ["1"], "0$1", 0, "$1 $2 $3"]], "0", 0, "0(4(?:[14]4|56)|[579])?"], CR: ["506", "00", "(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}", [8, 10], [["(\\d{4})(\\d{4})", "$1 $2", ["[2-7]|8[3-9]"]], ["(\\d{3})(\\d{3})(\\d{4})", "$1-$2-$3", ["[89]"]]], 0, 0, "(19(?:0[0-2468]|1[09]|20|66|77|99))"], CU: ["53", "119", "[27]\\d{6,7}|[34]\\d{5,7}|63\\d{6}|(?:5|8\\d\\d)\\d{7}", [6, 7, 8, 10], [["(\\d{2})(\\d{4,6})", "$1 $2", ["2[1-4]|[34]"], "(0$1)"], ["(\\d)(\\d{6,7})", "$1 $2", ["7"], "(0$1)"], ["(\\d)(\\d{7})", "$1 $2", ["[56]"], "0$1"], ["(\\d{3})(\\d{7})", "$1 $2", ["8"], "0$1"]], "0"], CV: ["238", "0", "(?:[2-59]\\d\\d|800)\\d{4}", [7], [["(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3", ["[2-589]"]]]], CW: ["599", "00", "(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}", [7, 8], [["(\\d{3})(\\d{4})", "$1 $2", ["[3467]"]], ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["9[4-8]"]]], 0, 0, 0, 0, 0, "[69]"], CX: ["61", "001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011", "1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}", [6, 7, 8, 9, 10, 12], 0, "0", 0, "([59]\\d{7})$|0", "8$1", 0, 0, [["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}", [9]], ["4(?:(?:79|94)[01]|83[0-389])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[016-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}", [9]], ["180(?:0\\d{3}|2)\\d{3}", [7, 10]], ["190[0-26]\\d{6}", [10]], 0, 0, 0, 0, ["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}", [9]], ["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}", [6, 8, 10, 12]]], "0011"], CY: ["357", "00", "(?:[279]\\d|[58]0)\\d{6}", [8], [["(\\d{2})(\\d{6})", "$1 $2", ["[257-9]"]]]], CZ: ["420", "00", "(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}", [9], [["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[2-8]|9[015-7]"]], ["(\\d{2})(\\d{3})(\\d{3})(\\d{2})", "$1 $2 $3 $4", ["96"]], ["(\\d{2})(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["9"]], ["(\\d{3})(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["9"]]]], DE: ["49", "00", "[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}", [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], [["(\\d{2})(\\d{3,13})", "$1 $2", ["3[02]|40|[68]9"], "0$1"], ["(\\d{3})(\\d{3,12})", "$1 $2", ["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1", "2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"], "0$1"], ["(\\d{4})(\\d{2,11})", "$1 $2", ["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]", "[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"], "0$1"], ["(\\d{3})(\\d{4})", "$1 $2", ["138"], "0$1"], ["(\\d{5})(\\d{2,10})", "$1 $2", ["3"], "0$1"], ["(\\d{3})(\\d{5,11})", "$1 $2", ["181"], "0$1"], ["(\\d{3})(\\d)(\\d{4,10})", "$1 $2 $3", ["1(?:3|80)|9"], "0$1"], ["(\\d{3})(\\d{7,8})", "$1 $2", ["1[67]"], "0$1"], ["(\\d{3})(\\d{7,12})", "$1 $2", ["8"], "0$1"], ["(\\d{5})(\\d{6})", "$1 $2", ["185", "1850", "18500"], "0$1"], ["(\\d{3})(\\d{4})(\\d{4})", "$1 $2 $3", ["7"], "0$1"], ["(\\d{4})(\\d{7})", "$1 $2", ["18[68]"], "0$1"], ["(\\d{5})(\\d{6})", "$1 $2", ["15[0568]"], "0$1"], ["(\\d{4})(\\d{7})", "$1 $2", ["15[1279]"], "0$1"], ["(\\d{3})(\\d{8})", "$1 $2", ["18"], "0$1"], ["(\\d{3})(\\d{2})(\\d{7,8})", "$1 $2 $3", ["1(?:6[023]|7)"], "0$1"], ["(\\d{4})(\\d{2})(\\d{7})", "$1 $2 $3", ["15[279]"], "0$1"], ["(\\d{3})(\\d{2})(\\d{8})", "$1 $2 $3", ["15"], "0$1"]], "0"], DJ: ["253", "00", "(?:2\\d|77)\\d{6}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[27]"]]]], DK: ["45", "00", "[2-9]\\d{7}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2-9]"]]]], DM: ["1", "011", "(?:[58]\\d\\d|767|900)\\d{7}", [10], 0, "1", 0, "([2-7]\\d{6})$|1", "767$1", 0, "767"], DO: ["1", "011", "(?:[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, 0, 0, 0, "8001|8[024]9"], DZ: ["213", "00", "(?:[1-4]|[5-79]\\d|80)\\d{7}", [8, 9], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[1-4]"], "0$1"], ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["9"], "0$1"], ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[5-8]"], "0$1"]], "0"], EC: ["593", "00", "1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}", [8, 9, 10, 11], [["(\\d)(\\d{3})(\\d{4})", "$1 $2-$3", ["[2-7]"], "(0$1)", 0, "$1-$2-$3"], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["9"], "0$1"], ["(\\d{4})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["1"]]], "0"], EE: ["372", "00", "8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}", [7, 8, 10], [["(\\d{3})(\\d{4})", "$1 $2", ["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88", "[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]], ["(\\d{4})(\\d{3,4})", "$1 $2", ["[45]|8(?:00|[1-49])", "[45]|8(?:00[1-9]|[1-49])"]], ["(\\d{2})(\\d{2})(\\d{4})", "$1 $2 $3", ["7"]], ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["8"]]]], EG: ["20", "00", "[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}", [8, 9, 10], [["(\\d)(\\d{7,8})", "$1 $2", ["[23]"], "0$1"], ["(\\d{2})(\\d{6,7})", "$1 $2", ["1[35]|[4-6]|8[2468]|9[235-7]"], "0$1"], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["[89]"], "0$1"], ["(\\d{2})(\\d{8})", "$1 $2", ["1"], "0$1"]], "0"], EH: ["212", "00", "[5-8]\\d{8}", [9], 0, "0", 0, 0, 0, 0, "528[89]"], ER: ["291", "00", "[178]\\d{6}", [7], [["(\\d)(\\d{3})(\\d{3})", "$1 $2 $3", ["[178]"], "0$1"]], "0"], ES: ["34", "00", "[5-9]\\d{8}", [9], [["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[89]00"]], ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[5-9]"]]]], ET: ["251", "00", "(?:11|[2-579]\\d)\\d{7}", [9], [["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[1-579]"], "0$1"]], "0"], FI: ["358", "00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))", "[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}", [5, 6, 7, 8, 9, 10, 11, 12], [["(\\d)(\\d{4,9})", "$1 $2", ["[2568][1-8]|3(?:0[1-9]|[1-9])|9"], "0$1"], ["(\\d{3})(\\d{3,7})", "$1 $2", ["[12]00|[368]|70[07-9]"], "0$1"], ["(\\d{2})(\\d{4,8})", "$1 $2", ["[1245]|7[135]"], "0$1"], ["(\\d{2})(\\d{6,10})", "$1 $2", ["7"], "0$1"]], "0", 0, 0, 0, 0, "1[03-79]|[2-9]", 0, "00"], FJ: ["679", "0(?:0|52)", "45\\d{5}|(?:0800\\d|[235-9])\\d{6}", [7, 11], [["(\\d{3})(\\d{4})", "$1 $2", ["[235-9]|45"]], ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["0"]]], 0, 0, 0, 0, 0, 0, 0, "00"], FK: ["500", "00", "[2-7]\\d{4}", [5]], FM: ["691", "00", "(?:[39]\\d\\d|820)\\d{4}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[389]"]]]], FO: ["298", "00", "[2-9]\\d{5}", [6], [["(\\d{6})", "$1", ["[2-9]"]]], 0, 0, "(10(?:01|[12]0|88))"], FR: ["33", "00", "[1-9]\\d{8}", [9], [["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"], "0 $1"], ["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4 $5", ["[1-79]"], "0$1"]], "0"], GA: ["241", "00", "(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}", [7, 8], [["(\\d)(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2-7]"], "0$1"], ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["0"]], ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["11|[67]"], "0$1"]], 0, 0, "0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})", "$1"], GB: ["44", "00", "[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}", [7, 9, 10], [["(\\d{3})(\\d{4})", "$1 $2", ["800", "8001", "80011", "800111", "8001111"], "0$1"], ["(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3", ["845", "8454", "84546", "845464"], "0$1"], ["(\\d{3})(\\d{6})", "$1 $2", ["800"], "0$1"], ["(\\d{5})(\\d{4,5})", "$1 $2", ["1(?:38|5[23]|69|76|94)", "1(?:(?:38|69)7|5(?:24|39)|768|946)", "1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"], "0$1"], ["(\\d{4})(\\d{5,6})", "$1 $2", ["1(?:[2-69][02-9]|[78])"], "0$1"], ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["[25]|7(?:0|6[02-9])", "[25]|7(?:0|6(?:[03-9]|2[356]))"], "0$1"], ["(\\d{4})(\\d{6})", "$1 $2", ["7"], "0$1"], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["[1389]"], "0$1"]], "0", 0, 0, 0, 0, 0, [["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0235])|4(?:[0-5]\\d\\d|69[7-9]|70[0-79])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-2]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}", [9, 10]], ["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}", [10]], ["80[08]\\d{7}|800\\d{6}|8001111"], ["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d", [7, 10]], ["70\\d{8}", [10]], 0, ["(?:3[0347]|55)\\d{8}", [10]], ["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}", [10]], ["56\\d{8}", [10]]], 0, " x"], GD: ["1", "011", "(?:473|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "([2-9]\\d{6})$|1", "473$1", 0, "473"], GE: ["995", "00", "(?:[3-57]\\d\\d|800)\\d{6}", [9], [["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["70"], "0$1"], ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["32"], "0$1"], ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[57]"]], ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[348]"], "0$1"]], "0"], GF: ["594", "00", "[56]94\\d{6}|(?:80|9\\d)\\d{7}", [9], [["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[56]|9[47]"], "0$1"], ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[89]"], "0$1"]], "0"], GG: ["44", "00", "(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?", [7, 9, 10], 0, "0", 0, "([25-9]\\d{5})$|0", "1481$1", 0, 0, [["1481[25-9]\\d{5}", [10]], ["7(?:(?:781|839)\\d|911[17])\\d{5}", [10]], ["80[08]\\d{7}|800\\d{6}|8001111"], ["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d", [7, 10]], ["70\\d{8}", [10]], 0, ["(?:3[0347]|55)\\d{8}", [10]], ["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}", [10]], ["56\\d{8}", [10]]]], GH: ["233", "00", "(?:[235]\\d{3}|800)\\d{5}", [8, 9], [["(\\d{3})(\\d{5})", "$1 $2", ["8"], "0$1"], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[235]"], "0$1"]], "0"], GI: ["350", "00", "(?:[25]\\d|60)\\d{6}", [8], [["(\\d{3})(\\d{5})", "$1 $2", ["2"]]]], GL: ["299", "00", "(?:19|[2-689]\\d|70)\\d{4}", [6], [["(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3", ["19|[2-9]"]]]], GM: ["220", "00", "[2-9]\\d{6}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[2-9]"]]]], GN: ["224", "00", "722\\d{6}|(?:3|6\\d)\\d{7}", [8, 9], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["3"]], ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[67]"]]]], GP: ["590", "00", "590\\d{6}|(?:69|80|9\\d)\\d{7}", [9], [["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[569]"], "0$1"], ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"], "0$1"]], "0", 0, 0, 0, 0, 0, [["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"], ["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"], ["80[0-5]\\d{6}"], 0, 0, 0, 0, 0, ["9(?:(?:395|76[018])\\d|475[0-5])\\d{4}"]]], GQ: ["240", "00", "222\\d{6}|(?:3\\d|55|[89]0)\\d{7}", [9], [["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[235]"]], ["(\\d{3})(\\d{6})", "$1 $2", ["[89]"]]]], GR: ["30", "00", "5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}", [10, 11, 12], [["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["21|7"]], ["(\\d{4})(\\d{6})", "$1 $2", ["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["[2689]"]], ["(\\d{3})(\\d{3,4})(\\d{5})", "$1 $2 $3", ["8"]]]], GT: ["502", "00", "(?:1\\d{3}|[2-7])\\d{7}", [8, 11], [["(\\d{4})(\\d{4})", "$1 $2", ["[2-7]"]], ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["1"]]]], GU: ["1", "011", "(?:[58]\\d\\d|671|900)\\d{7}", [10], 0, "1", 0, "([3-9]\\d{6})$|1", "671$1", 0, "671"], GW: ["245", "00", "[49]\\d{8}|4\\d{6}", [7, 9], [["(\\d{3})(\\d{4})", "$1 $2", ["40"]], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[49]"]]]], GY: ["592", "001", "9008\\d{3}|(?:[2-467]\\d\\d|510|862)\\d{4}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[2-9]"]]]], HK: ["852", "00(?:30|5[09]|[126-9]?)", "8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}", [5, 6, 7, 8, 9, 11], [["(\\d{3})(\\d{2,5})", "$1 $2", ["900", "9003"]], ["(\\d{4})(\\d{4})", "$1 $2", ["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["8"]], ["(\\d{3})(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["9"]]], 0, 0, 0, 0, 0, 0, 0, "00"], HN: ["504", "00", "8\\d{10}|[237-9]\\d{7}", [8, 11], [["(\\d{4})(\\d{4})", "$1-$2", ["[237-9]"]]]], HR: ["385", "00", "(?:[24-69]\\d|3[0-79])\\d{7}|80\\d{5,7}|[1-79]\\d{7}|6\\d{5,6}", [6, 7, 8, 9], [["(\\d{2})(\\d{2})(\\d{2,3})", "$1 $2 $3", ["6[01]"], "0$1"], ["(\\d{3})(\\d{2})(\\d{2,3})", "$1 $2 $3", ["8"], "0$1"], ["(\\d)(\\d{4})(\\d{3})", "$1 $2 $3", ["1"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[67]"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["9"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[2-5]"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["8"], "0$1"]], "0"], HT: ["509", "00", "(?:[2-489]\\d|55)\\d{6}", [8], [["(\\d{2})(\\d{2})(\\d{4})", "$1 $2 $3", ["[2-589]"]]]], HU: ["36", "00", "[235-7]\\d{8}|[1-9]\\d{7}", [8, 9], [["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["1"], "(06 $1)"], ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"], "(06 $1)"], ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[2-9]"], "06 $1"]], "06"], ID: ["62", "00[89]", "(?:(?:00[1-9]|8\\d)\\d{4}|[1-36])\\d{6}|00\\d{10}|[1-9]\\d{8,10}|[2-9]\\d{7}", [7, 8, 9, 10, 11, 12, 13], [["(\\d)(\\d{3})(\\d{3})", "$1 $2 $3", ["15"]], ["(\\d{2})(\\d{5,9})", "$1 $2", ["2[124]|[36]1"], "(0$1)"], ["(\\d{3})(\\d{5,7})", "$1 $2", ["800"], "0$1"], ["(\\d{3})(\\d{5,8})", "$1 $2", ["[2-79]"], "(0$1)"], ["(\\d{3})(\\d{3,4})(\\d{3})", "$1-$2-$3", ["8[1-35-9]"], "0$1"], ["(\\d{3})(\\d{6,8})", "$1 $2", ["1"], "0$1"], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["804"], "0$1"], ["(\\d{3})(\\d)(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["80"], "0$1"], ["(\\d{3})(\\d{4})(\\d{4,5})", "$1-$2-$3", ["8"], "0$1"]], "0"], IE: ["353", "00", "(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}", [7, 8, 9, 10], [["(\\d{2})(\\d{5})", "$1 $2", ["2[24-9]|47|58|6[237-9]|9[35-9]"], "(0$1)"], ["(\\d{3})(\\d{5})", "$1 $2", ["[45]0"], "(0$1)"], ["(\\d)(\\d{3,4})(\\d{4})", "$1 $2 $3", ["1"], "(0$1)"], ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[2569]|4[1-69]|7[14]"], "(0$1)"], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["70"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["81"], "(0$1)"], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[78]"], "0$1"], ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["1"]], ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["4"], "(0$1)"], ["(\\d{2})(\\d)(\\d{3})(\\d{4})", "$1 $2 $3 $4", ["8"], "0$1"]], "0"], IL: ["972", "0(?:0|1[2-9])", "1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}", [7, 8, 9, 10, 11, 12], [["(\\d{4})(\\d{3})", "$1-$2", ["125"]], ["(\\d{4})(\\d{2})(\\d{2})", "$1-$2-$3", ["121"]], ["(\\d)(\\d{3})(\\d{4})", "$1-$2-$3", ["[2-489]"], "0$1"], ["(\\d{2})(\\d{3})(\\d{4})", "$1-$2-$3", ["[57]"], "0$1"], ["(\\d{4})(\\d{3})(\\d{3})", "$1-$2-$3", ["12"]], ["(\\d{4})(\\d{6})", "$1-$2", ["159"]], ["(\\d)(\\d{3})(\\d{3})(\\d{3})", "$1-$2-$3-$4", ["1[7-9]"]], ["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})", "$1-$2 $3-$4", ["15"]]], "0"], IM: ["44", "00", "1624\\d{6}|(?:[3578]\\d|90)\\d{8}", [10], 0, "0", 0, "([25-8]\\d{5})$|0", "1624$1", 0, "74576|(?:16|7[56])24"], IN: ["91", "00", "(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}", [8, 9, 10, 11, 12, 13], [["(\\d{8})", "$1", ["5(?:0|2[23]|3[03]|[67]1|88)", "5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)", "5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"], 0, 1], ["(\\d{4})(\\d{4,5})", "$1 $2", ["180", "1800"], 0, 1], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["140"], 0, 1], ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["11|2[02]|33|4[04]|79[1-7]|80[2-46]", "11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])", "11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"], "0$1", 1], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]", "1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]", "1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"], "0$1", 1], ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807", "1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]", "1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"], "0$1", 1], ["(\\d{5})(\\d{5})", "$1 $2", ["[6-9]"], "0$1", 1], ["(\\d{4})(\\d{2,4})(\\d{4})", "$1 $2 $3", ["1(?:6|8[06])", "1(?:6|8[06]0)"], 0, 1], ["(\\d{4})(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["18"], 0, 1]], "0"], IO: ["246", "00", "3\\d{6}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["3"]]]], IQ: ["964", "00", "(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}", [8, 9, 10], [["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["1"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[2-6]"], "0$1"], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["7"], "0$1"]], "0"], IR: ["98", "00", "[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}", [4, 5, 6, 7, 10], [["(\\d{4,5})", "$1", ["96"], "0$1"], ["(\\d{2})(\\d{4,5})", "$1 $2", ["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["9"], "0$1"], ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["[1-8]"], "0$1"]], "0"], IS: ["354", "00|1(?:0(?:01|[12]0)|100)", "(?:38\\d|[4-9])\\d{6}", [7, 9], [["(\\d{3})(\\d{4})", "$1 $2", ["[4-9]"]], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["3"]]], 0, 0, 0, 0, 0, 0, 0, "00"], IT: ["39", "00", "0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?", [6, 7, 8, 9, 10, 11], [["(\\d{2})(\\d{4,6})", "$1 $2", ["0[26]"]], ["(\\d{3})(\\d{3,6})", "$1 $2", ["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])", "0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]], ["(\\d{4})(\\d{2,6})", "$1 $2", ["0(?:[13-579][2-46-8]|8[236-8])"]], ["(\\d{4})(\\d{4})", "$1 $2", ["894"]], ["(\\d{2})(\\d{3,4})(\\d{4})", "$1 $2 $3", ["0[26]|5"]], ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["1(?:44|[679])|[378]"]], ["(\\d{3})(\\d{3,4})(\\d{4})", "$1 $2 $3", ["0[13-57-9][0159]|14"]], ["(\\d{2})(\\d{4})(\\d{5})", "$1 $2 $3", ["0[26]"]], ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["0"]], ["(\\d{3})(\\d{4})(\\d{4,5})", "$1 $2 $3", ["3"]]], 0, 0, 0, 0, 0, 0, [["0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"], ["3[1-9]\\d{8}|3[2-9]\\d{7}", [9, 10]], ["80(?:0\\d{3}|3)\\d{3}", [6, 9]], ["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}", [6, 8, 9, 10]], ["1(?:78\\d|99)\\d{6}", [9, 10]], 0, 0, 0, ["55\\d{8}", [10]], ["84(?:[08]\\d{3}|[17])\\d{3}", [6, 9]]]], JE: ["44", "00", "1534\\d{6}|(?:[3578]\\d|90)\\d{8}", [10], 0, "0", 0, "([0-24-8]\\d{5})$|0", "1534$1", 0, 0, [["1534[0-24-8]\\d{5}"], ["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97[7-9]))\\d{5}"], ["80(?:07(?:35|81)|8901)\\d{4}"], ["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"], ["701511\\d{4}"], 0, ["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"], ["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"], ["56\\d{8}"]]], JM: ["1", "011", "(?:[58]\\d\\d|658|900)\\d{7}", [10], 0, "1", 0, 0, 0, 0, "658|876"], JO: ["962", "00", "(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}", [8, 9], [["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["[2356]|87"], "(0$1)"], ["(\\d{3})(\\d{5,6})", "$1 $2", ["[89]"], "0$1"], ["(\\d{2})(\\d{7})", "$1 $2", ["70"], "0$1"], ["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["7"], "0$1"]], "0"], JP: ["81", "010", "00[1-9]\\d{6,14}|[257-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}", [8, 9, 10, 11, 12, 13, 14, 15, 16, 17], [["(\\d{3})(\\d{3})(\\d{3})", "$1-$2-$3", ["(?:12|57|99)0"], "0$1"], ["(\\d{4})(\\d)(\\d{4})", "$1-$2-$3", ["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])", "1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]", "1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"], "0$1"], ["(\\d{2})(\\d{3})(\\d{4})", "$1-$2-$3", ["60"], "0$1"], ["(\\d)(\\d{4})(\\d{4})", "$1-$2-$3", ["[36]|4(?:2[09]|7[01])", "[36]|4(?:2(?:0|9[02-69])|7(?:0[019]|1))"], "0$1"], ["(\\d{2})(\\d{3})(\\d{4})", "$1-$2-$3", ["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])", "1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]", "1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"], "0$1"], ["(\\d{3})(\\d{2})(\\d{4})", "$1-$2-$3", ["[14]|[289][2-9]|5[3-9]|7[2-4679]"], "0$1"], ["(\\d{3})(\\d{3})(\\d{4})", "$1-$2-$3", ["800"], "0$1"], ["(\\d{2})(\\d{4})(\\d{4})", "$1-$2-$3", ["[257-9]"], "0$1"]], "0", 0, "(000[259]\\d{6})$|(?:(?:003768)0?)|0", "$1"], KE: ["254", "000", "(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}", [7, 8, 9, 10], [["(\\d{2})(\\d{5,7})", "$1 $2", ["[24-6]"], "0$1"], ["(\\d{3})(\\d{6})", "$1 $2", ["[17]"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[89]"], "0$1"]], "0"], KG: ["996", "00", "8\\d{9}|[235-9]\\d{8}", [9, 10], [["(\\d{4})(\\d{5})", "$1 $2", ["3(?:1[346]|[24-79])"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[235-79]|88"], "0$1"], ["(\\d{3})(\\d{3})(\\d)(\\d{2,3})", "$1 $2 $3 $4", ["8"], "0$1"]], "0"], KH: ["855", "00[14-9]", "1\\d{9}|[1-9]\\d{7,8}", [8, 9, 10], [["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[1-9]"], "0$1"], ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["1"]]], "0"], KI: ["686", "00", "(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}", [5, 8], 0, "0"], KM: ["269", "00", "[3478]\\d{6}", [7], [["(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3", ["[3478]"]]]], KN: ["1", "011", "(?:[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "([2-7]\\d{6})$|1", "869$1", 0, "869"], KP: ["850", "00|99", "85\\d{6}|(?:19\\d|[2-7])\\d{7}", [8, 10], [["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["8"], "0$1"], ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["[2-7]"], "0$1"], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["1"], "0$1"]], "0"], KR: ["82", "00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))", "00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}", [5, 6, 8, 9, 10, 11, 12, 13, 14], [["(\\d{2})(\\d{3,4})", "$1-$2", ["(?:3[1-3]|[46][1-4]|5[1-5])1"], "0$1"], ["(\\d{4})(\\d{4})", "$1-$2", ["1"]], ["(\\d)(\\d{3,4})(\\d{4})", "$1-$2-$3", ["2"], "0$1"], ["(\\d{2})(\\d{3})(\\d{4})", "$1-$2-$3", ["60|8"], "0$1"], ["(\\d{2})(\\d{3,4})(\\d{4})", "$1-$2-$3", ["[1346]|5[1-5]"], "0$1"], ["(\\d{2})(\\d{4})(\\d{4})", "$1-$2-$3", ["[57]"], "0$1"], ["(\\d{2})(\\d{5})(\\d{4})", "$1-$2-$3", ["5"], "0$1"]], "0", 0, "0(8(?:[1-46-8]|5\\d\\d))?"], KW: ["965", "00", "18\\d{5}|(?:[2569]\\d|41)\\d{6}", [7, 8], [["(\\d{4})(\\d{3,4})", "$1 $2", ["[169]|2(?:[235]|4[1-35-9])|52"]], ["(\\d{3})(\\d{5})", "$1 $2", ["[245]"]]]], KY: ["1", "011", "(?:345|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "([2-9]\\d{6})$|1", "345$1", 0, "345"], KZ: ["7", "810", "(?:33622|8\\d{8})\\d{5}|[78]\\d{9}", [10, 14], 0, "8", 0, 0, 0, 0, "33|7", 0, "8~10"], LA: ["856", "00", "[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}", [8, 9, 10], [["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["2[13]|3[14]|[4-8]"], "0$1"], ["(\\d{2})(\\d{2})(\\d{2})(\\d{3})", "$1 $2 $3 $4", ["30[013-9]"], "0$1"], ["(\\d{2})(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["[23]"], "0$1"]], "0"], LB: ["961", "00", "[27-9]\\d{7}|[13-9]\\d{6}", [7, 8], [["(\\d)(\\d{3})(\\d{3})", "$1 $2 $3", ["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[27-9]"]]], "0"], LC: ["1", "011", "(?:[58]\\d\\d|758|900)\\d{7}", [10], 0, "1", 0, "([2-8]\\d{6})$|1", "758$1", 0, "758"], LI: ["423", "00", "[68]\\d{8}|(?:[2378]\\d|90)\\d{5}", [7, 9], [["(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3", ["[2379]|8(?:0[09]|7)", "[2379]|8(?:0(?:02|9)|7)"]], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["8"]], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["69"]], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["6"]]], "0", 0, "(1001)|0"], LK: ["94", "00", "[1-9]\\d{8}", [9], [["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["7"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[1-689]"], "0$1"]], "0"], LR: ["231", "00", "(?:[25]\\d|33|77|88)\\d{7}|(?:2\\d|[4-6])\\d{6}", [7, 8, 9], [["(\\d)(\\d{3})(\\d{3})", "$1 $2 $3", ["[4-6]"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["2"], "0$1"], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[23578]"], "0$1"]], "0"], LS: ["266", "00", "(?:[256]\\d\\d|800)\\d{5}", [8], [["(\\d{4})(\\d{4})", "$1 $2", ["[2568]"]]]], LT: ["370", "00", "(?:[3469]\\d|52|[78]0)\\d{6}", [8], [["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["52[0-7]"], "(8-$1)", 1], ["(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3", ["[7-9]"], "8 $1", 1], ["(\\d{2})(\\d{6})", "$1 $2", ["37|4(?:[15]|6[1-8])"], "(8-$1)", 1], ["(\\d{3})(\\d{5})", "$1 $2", ["[3-6]"], "(8-$1)", 1]], "8", 0, "[08]"], LU: ["352", "00", "35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}", [4, 5, 6, 7, 8, 9, 10, 11], [["(\\d{2})(\\d{3})", "$1 $2", ["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]], ["(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3", ["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]], ["(\\d{2})(\\d{2})(\\d{3})", "$1 $2 $3", ["20[2-689]"]], ["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})", "$1 $2 $3 $4", ["2(?:[0367]|4[3-8])"]], ["(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3", ["80[01]|90[015]"]], ["(\\d{2})(\\d{2})(\\d{2})(\\d{3})", "$1 $2 $3 $4", ["20"]], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["6"]], ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})", "$1 $2 $3 $4 $5", ["2(?:[0367]|4[3-8])"]], ["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})", "$1 $2 $3 $4", ["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]], 0, 0, "(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"], LV: ["371", "00", "(?:[268]\\d|90)\\d{6}", [8], [["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[269]|8[01]"]]]], LY: ["218", "00", "[2-9]\\d{8}", [9], [["(\\d{2})(\\d{7})", "$1-$2", ["[2-9]"], "0$1"]], "0"], MA: ["212", "00", "[5-8]\\d{8}", [9], [["(\\d{5})(\\d{4})", "$1-$2", ["5(?:29|38)", "5(?:29[1289]|389)", "529(?:1[1-46-9]|2[013-8]|90)|5(?:298|389)[0-46-9]"], "0$1"], ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["5[45]"], "0$1"], ["(\\d{4})(\\d{5})", "$1-$2", ["5(?:2[2-489]|3[5-9]|9)|892", "5(?:2(?:[2-49]|8[235-9])|3[5-9]|9)|892"], "0$1"], ["(\\d{2})(\\d{7})", "$1-$2", ["8"], "0$1"], ["(\\d{3})(\\d{6})", "$1-$2", ["[5-7]"], "0$1"]], "0", 0, 0, 0, 0, 0, [["5293[01]\\d{4}|5(?:2(?:[0-25-7]\\d|3[1-578]|4[02-46-8]|8[0235-7]|9[0-289])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[0189]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"], ["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[017]\\d|2[0-2]|6[0-8]|8[0-3]))\\d{6}"], ["80\\d{7}"], ["89\\d{7}"], 0, 0, 0, 0, ["592(?:4[0-2]|93)\\d{4}"]]], MC: ["377", "00", "(?:[3489]|6\\d)\\d{7}", [8, 9], [["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["4"], "0$1"], ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[389]"]], ["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4 $5", ["6"], "0$1"]], "0"], MD: ["373", "00", "(?:[235-7]\\d|[89]0)\\d{6}", [8], [["(\\d{3})(\\d{5})", "$1 $2", ["[89]"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["22|3"], "0$1"], ["(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3", ["[25-7]"], "0$1"]], "0"], ME: ["382", "00", "(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}", [8, 9], [["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[2-9]"], "0$1"]], "0"], MF: ["590", "00", "590\\d{6}|(?:69|80|9\\d)\\d{7}", [9], 0, "0", 0, 0, 0, 0, 0, [["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"], ["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"], ["80[0-5]\\d{6}"], 0, 0, 0, 0, 0, ["9(?:(?:395|76[018])\\d|475[0-5])\\d{4}"]]], MG: ["261", "00", "[23]\\d{8}", [9], [["(\\d{2})(\\d{2})(\\d{3})(\\d{2})", "$1 $2 $3 $4", ["[23]"], "0$1"]], "0", 0, "([24-9]\\d{6})$|0", "20$1"], MH: ["692", "011", "329\\d{4}|(?:[256]\\d|45)\\d{5}", [7], [["(\\d{3})(\\d{4})", "$1-$2", ["[2-6]"]]], "1"], MK: ["389", "00", "[2-578]\\d{7}", [8], [["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["2|34[47]|4(?:[37]7|5[47]|64)"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[347]"], "0$1"], ["(\\d{3})(\\d)(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[58]"], "0$1"]], "0"], ML: ["223", "00", "[24-9]\\d{7}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[24-9]"]]]], MM: ["95", "00", "1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}", [6, 7, 8, 9, 10], [["(\\d)(\\d{2})(\\d{3})", "$1 $2 $3", ["16|2"], "0$1"], ["(\\d{2})(\\d{2})(\\d{3})", "$1 $2 $3", ["[45]|6(?:0[23]|[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-6]"], "0$1"], ["(\\d)(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[12]"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[4-7]|8[1-35]"], "0$1"], ["(\\d)(\\d{3})(\\d{4,6})", "$1 $2 $3", ["9(?:2[0-4]|[35-9]|4[137-9])"], "0$1"], ["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["2"], "0$1"], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["8"], "0$1"], ["(\\d)(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["92"], "0$1"], ["(\\d)(\\d{5})(\\d{4})", "$1 $2 $3", ["9"], "0$1"]], "0"], MN: ["976", "001", "[12]\\d{7,9}|[5-9]\\d{7}", [8, 9, 10], [["(\\d{2})(\\d{2})(\\d{4})", "$1 $2 $3", ["[12]1"], "0$1"], ["(\\d{4})(\\d{4})", "$1 $2", ["[5-9]"]], ["(\\d{3})(\\d{5,6})", "$1 $2", ["[12]2[1-3]"], "0$1"], ["(\\d{4})(\\d{5,6})", "$1 $2", ["[12](?:27|3[2-8]|4[2-68]|5[1-4689])", "[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"], "0$1"], ["(\\d{5})(\\d{4,5})", "$1 $2", ["[12]"], "0$1"]], "0"], MO: ["853", "00", "0800\\d{3}|(?:28|[68]\\d)\\d{6}", [7, 8], [["(\\d{4})(\\d{3})", "$1 $2", ["0"]], ["(\\d{4})(\\d{4})", "$1 $2", ["[268]"]]]], MP: ["1", "011", "[58]\\d{9}|(?:67|90)0\\d{7}", [10], 0, "1", 0, "([2-9]\\d{6})$|1", "670$1", 0, "670"], MQ: ["596", "00", "596\\d{6}|(?:69|80|9\\d)\\d{7}", [9], [["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[569]"], "0$1"], ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"], "0$1"]], "0"], MR: ["222", "00", "(?:[2-4]\\d\\d|800)\\d{5}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2-48]"]]]], MS: ["1", "011", "(?:[58]\\d\\d|664|900)\\d{7}", [10], 0, "1", 0, "([34]\\d{6})$|1", "664$1", 0, "664"], MT: ["356", "00", "3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}", [8], [["(\\d{4})(\\d{4})", "$1 $2", ["[2357-9]"]]]], MU: ["230", "0(?:0|[24-7]0|3[03])", "(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}", [7, 8, 10], [["(\\d{3})(\\d{4})", "$1 $2", ["[2-46]|8[013]"]], ["(\\d{4})(\\d{4})", "$1 $2", ["[57]"]], ["(\\d{5})(\\d{5})", "$1 $2", ["8"]]], 0, 0, 0, 0, 0, 0, 0, "020"], MV: ["960", "0(?:0|19)", "(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}", [7, 10], [["(\\d{3})(\\d{4})", "$1-$2", ["[34679]"]], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["[89]"]]], 0, 0, 0, 0, 0, 0, 0, "00"], MW: ["265", "00", "(?:[1289]\\d|31|77)\\d{7}|1\\d{6}", [7, 9], [["(\\d)(\\d{3})(\\d{3})", "$1 $2 $3", ["1[2-9]"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["2"], "0$1"], ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[137-9]"], "0$1"]], "0"], MX: ["52", "0[09]", "1(?:(?:[27]2|44|99)[1-9]|65[0-689])\\d{7}|(?:1(?:[01]\\d|2[13-9]|[35][1-9]|4[0-35-9]|6[0-46-9]|7[013-9]|8[1-79]|9[1-8])|[2-9]\\d)\\d{8}", [10, 11], [["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["33|5[56]|81"], 0, 1], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["[2-9]"], 0, 1], ["(\\d)(\\d{2})(\\d{4})(\\d{4})", "$2 $3 $4", ["1(?:33|5[56]|81)"], 0, 1], ["(\\d)(\\d{3})(\\d{3})(\\d{4})", "$2 $3 $4", ["1"], 0, 1]], "01", 0, "0(?:[12]|4[45])|1", 0, 0, 0, 0, "00"], MY: ["60", "00", "1\\d{8,9}|(?:3\\d|[4-9])\\d{7}", [8, 9, 10], [["(\\d)(\\d{3})(\\d{4})", "$1-$2 $3", ["[4-79]"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3,4})", "$1-$2 $3", ["1(?:[02469]|[378][1-9]|53)|8", "1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"], "0$1"], ["(\\d)(\\d{4})(\\d{4})", "$1-$2 $3", ["3"], "0$1"], ["(\\d)(\\d{3})(\\d{2})(\\d{4})", "$1-$2-$3-$4", ["1(?:[367]|80)"]], ["(\\d{3})(\\d{3})(\\d{4})", "$1-$2 $3", ["15"], "0$1"], ["(\\d{2})(\\d{4})(\\d{4})", "$1-$2 $3", ["1"], "0$1"]], "0"], MZ: ["258", "00", "(?:2|8\\d)\\d{7}", [8, 9], [["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["2|8[2-79]"]], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["8"]]]], NA: ["264", "00", "[68]\\d{7,8}", [8, 9], [["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["88"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["6"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["87"], "0$1"], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["8"], "0$1"]], "0"], NC: ["687", "00", "(?:050|[2-57-9]\\d\\d)\\d{3}", [6], [["(\\d{2})(\\d{2})(\\d{2})", "$1.$2.$3", ["[02-57-9]"]]]], NE: ["227", "00", "[027-9]\\d{7}", [8], [["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["08"]], ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[089]|2[013]|7[047]"]]]], NF: ["672", "00", "[13]\\d{5}", [6], [["(\\d{2})(\\d{4})", "$1 $2", ["1[0-3]"]], ["(\\d)(\\d{5})", "$1 $2", ["[13]"]]], 0, 0, "([0-258]\\d{4})$", "3$1"], NG: ["234", "009", "(?:[124-7]|9\\d{3})\\d{6}|[1-9]\\d{7}|[78]\\d{9,13}", [7, 8, 10, 11, 12, 13, 14], [["(\\d{2})(\\d{2})(\\d{3})", "$1 $2 $3", ["78"], "0$1"], ["(\\d)(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[12]|9(?:0[3-9]|[1-9])"], "0$1"], ["(\\d{2})(\\d{3})(\\d{2,3})", "$1 $2 $3", ["[3-7]|8[2-9]"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[7-9]"], "0$1"], ["(\\d{3})(\\d{4})(\\d{4,5})", "$1 $2 $3", ["[78]"], "0$1"], ["(\\d{3})(\\d{5})(\\d{5,6})", "$1 $2 $3", ["[78]"], "0$1"]], "0"], NI: ["505", "00", "(?:1800|[25-8]\\d{3})\\d{4}", [8], [["(\\d{4})(\\d{4})", "$1 $2", ["[125-8]"]]]], NL: ["31", "00", "(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}", [5, 6, 7, 8, 9, 10, 11], [["(\\d{3})(\\d{4,7})", "$1 $2", ["[89]0"], "0$1"], ["(\\d{2})(\\d{7})", "$1 $2", ["66"], "0$1"], ["(\\d)(\\d{8})", "$1 $2", ["6"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"], "0$1"], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[1-578]|91"], "0$1"], ["(\\d{3})(\\d{3})(\\d{5})", "$1 $2 $3", ["9"], "0$1"]], "0"], NO: ["47", "00", "(?:0|[2-9]\\d{3})\\d{4}", [5, 8], [["(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3", ["8"]], ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2-79]"]]], 0, 0, 0, 0, 0, "[02-689]|7[0-8]"], NP: ["977", "00", "(?:1\\d|9)\\d{9}|[1-9]\\d{7}", [8, 10, 11], [["(\\d)(\\d{7})", "$1-$2", ["1[2-6]"], "0$1"], ["(\\d{2})(\\d{6})", "$1-$2", ["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"], "0$1"], ["(\\d{3})(\\d{7})", "$1-$2", ["9"]]], "0"], NR: ["674", "00", "(?:444|(?:55|8\\d)\\d|666)\\d{4}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[4-68]"]]]], NU: ["683", "00", "(?:[47]|888\\d)\\d{3}", [4, 7], [["(\\d{3})(\\d{4})", "$1 $2", ["8"]]]], NZ: ["64", "0(?:0|161)", "[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}", [5, 6, 7, 8, 9, 10], [["(\\d{2})(\\d{3,8})", "$1 $2", ["8[1-79]"], "0$1"], ["(\\d{3})(\\d{2})(\\d{2,3})", "$1 $2 $3", ["50[036-8]|8|90", "50(?:[0367]|88)|8|90"], "0$1"], ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["24|[346]|7[2-57-9]|9[2-9]"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["2(?:10|74)|[589]"], "0$1"], ["(\\d{2})(\\d{3,4})(\\d{4})", "$1 $2 $3", ["1|2[028]"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3,5})", "$1 $2 $3", ["2(?:[169]|7[0-35-9])|7"], "0$1"]], "0", 0, 0, 0, 0, 0, 0, "00"], OM: ["968", "00", "(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}", [7, 8, 9], [["(\\d{3})(\\d{4,6})", "$1 $2", ["[58]"]], ["(\\d{2})(\\d{6})", "$1 $2", ["2"]], ["(\\d{4})(\\d{4})", "$1 $2", ["[179]"]]]], PA: ["507", "00", "(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}", [7, 8, 10, 11], [["(\\d{3})(\\d{4})", "$1-$2", ["[1-57-9]"]], ["(\\d{4})(\\d{4})", "$1-$2", ["[68]"]], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["8"]]]], PE: ["51", "00|19(?:1[124]|77|90)00", "(?:[14-8]|9\\d)\\d{7}", [8, 9], [["(\\d{3})(\\d{5})", "$1 $2", ["80"], "(0$1)"], ["(\\d)(\\d{7})", "$1 $2", ["1"], "(0$1)"], ["(\\d{2})(\\d{6})", "$1 $2", ["[4-8]"], "(0$1)"], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["9"]]], "0", 0, 0, 0, 0, 0, 0, "00", " Anexo "], PF: ["689", "00", "4\\d{5}(?:\\d{2})?|8\\d{7,8}", [6, 8, 9], [["(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3", ["44"]], ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["4|8[7-9]"]], ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"]]]], PG: ["675", "00|140[1-3]", "(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}", [7, 8], [["(\\d{3})(\\d{4})", "$1 $2", ["18|[2-69]|85"]], ["(\\d{4})(\\d{4})", "$1 $2", ["[78]"]]], 0, 0, 0, 0, 0, 0, 0, "00"], PH: ["63", "00", "(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}", [6, 8, 9, 10, 11, 12, 13], [["(\\d)(\\d{5})", "$1 $2", ["2"], "(0$1)"], ["(\\d{4})(\\d{4,6})", "$1 $2", ["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2", "3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"], "(0$1)"], ["(\\d{5})(\\d{4})", "$1 $2", ["346|4(?:27|9[35])|883", "3469|4(?:279|9(?:30|56))|8834"], "(0$1)"], ["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["2"], "(0$1)"], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[3-7]|8[2-8]"], "(0$1)"], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["[89]"], "0$1"], ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["1"]], ["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})", "$1 $2 $3 $4", ["1"]]], "0"], PK: ["92", "00", "122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}", [8, 9, 10, 11, 12], [["(\\d{3})(\\d{3})(\\d{2,7})", "$1 $2 $3", ["[89]0"], "0$1"], ["(\\d{4})(\\d{5})", "$1 $2", ["1"]], ["(\\d{3})(\\d{6,7})", "$1 $2", ["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])", "9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"], "(0$1)"], ["(\\d{2})(\\d{7,8})", "$1 $2", ["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"], "(0$1)"], ["(\\d{5})(\\d{5})", "$1 $2", ["58"], "(0$1)"], ["(\\d{3})(\\d{7})", "$1 $2", ["3"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"], "(0$1)"], ["(\\d{3})(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["[24-9]"], "(0$1)"]], "0"], PL: ["48", "00", "(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}", [6, 7, 8, 9, 10], [["(\\d{5})", "$1", ["19"]], ["(\\d{3})(\\d{3})", "$1 $2", ["11|20|64"]], ["(\\d{2})(\\d{2})(\\d{3})", "$1 $2 $3", ["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1", "(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]], ["(\\d{3})(\\d{2})(\\d{2,3})", "$1 $2 $3", ["64"]], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]], ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["1[2-8]|[2-7]|8[1-79]|9[145]"]], ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["8"]]]], PM: ["508", "00", "[45]\\d{5}|(?:708|80\\d)\\d{6}", [6, 9], [["(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3", ["[45]"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["7"]], ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"], "0$1"]], "0"], PR: ["1", "011", "(?:[589]\\d\\d|787)\\d{7}", [10], 0, "1", 0, 0, 0, 0, "787|939"], PS: ["970", "00", "[2489]2\\d{6}|(?:1\\d|5)\\d{8}", [8, 9, 10], [["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["[2489]"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["5"], "0$1"], ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["1"]]], "0"], PT: ["351", "00", "1693\\d{5}|(?:[26-9]\\d|30)\\d{7}", [9], [["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["2[12]"]], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["16|[236-9]"]]]], PW: ["680", "01[12]", "(?:[24-8]\\d\\d|345|900)\\d{4}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[2-9]"]]]], PY: ["595", "00", "59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}", [6, 7, 8, 9, 10, 11], [["(\\d{3})(\\d{3,6})", "$1 $2", ["[2-9]0"], "0$1"], ["(\\d{2})(\\d{5})", "$1 $2", ["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"], "(0$1)"], ["(\\d{3})(\\d{4,5})", "$1 $2", ["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"], "(0$1)"], ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"], "(0$1)"], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["87"]], ["(\\d{3})(\\d{6})", "$1 $2", ["9(?:[5-79]|8[1-6])"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[2-8]"], "0$1"], ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["9"]]], "0"], QA: ["974", "00", "800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}", [7, 8, 9, 11], [["(\\d{3})(\\d{4})", "$1 $2", ["2[16]|8"]], ["(\\d{4})(\\d{4})", "$1 $2", ["[3-7]"]]]], RE: ["262", "00", "(?:26|[689]\\d)\\d{7}", [9], [["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2689]"], "0$1"]], "0", 0, 0, 0, 0, 0, [["26(?:2\\d\\d|3(?:0\\d|1[0-5]))\\d{4}"], ["69(?:2\\d\\d|3(?:[06][0-6]|1[013]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-27]|8[0-8]|9[0-479]))\\d{4}"], ["80\\d{7}"], ["89[1-37-9]\\d{6}"], 0, 0, 0, 0, ["9(?:399[0-3]|479[0-5]|76(?:2[27]|3[0-37]))\\d{4}"], ["8(?:1[019]|2[0156]|84|90)\\d{6}"]]], RO: ["40", "00", "(?:[2378]\\d|90)\\d{7}|[23]\\d{5}", [6, 9], [["(\\d{3})(\\d{3})", "$1 $2", ["2[3-6]", "2[3-6]\\d9"], "0$1"], ["(\\d{2})(\\d{4})", "$1 $2", ["219|31"], "0$1"], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[23]1"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[237-9]"], "0$1"]], "0", 0, 0, 0, 0, 0, 0, 0, " int "], RS: ["381", "00", "38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}", [6, 7, 8, 9, 10, 11, 12], [["(\\d{3})(\\d{3,9})", "$1 $2", ["(?:2[389]|39)0|[7-9]"], "0$1"], ["(\\d{2})(\\d{5,10})", "$1 $2", ["[1-36]"], "0$1"]], "0"], RU: ["7", "810", "8\\d{13}|[347-9]\\d{9}", [10, 14], [["(\\d{4})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["7(?:1[0-8]|2[1-9])", "7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))", "7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"], "8 ($1)", 1], ["(\\d{5})(\\d)(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["7(?:1[0-68]|2[1-9])", "7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))", "7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"], "8 ($1)", 1], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["7"], "8 ($1)", 1], ["(\\d{3})(\\d{3})(\\d{2})(\\d{2})", "$1 $2-$3-$4", ["[349]|8(?:[02-7]|1[1-8])"], "8 ($1)", 1], ["(\\d{4})(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["8"], "8 ($1)"]], "8", 0, 0, 0, 0, "3[04-689]|[489]", 0, "8~10"], RW: ["250", "00", "(?:06|[27]\\d\\d|[89]00)\\d{6}", [8, 9], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["0"]], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["2"]], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[7-9]"], "0$1"]], "0"], SA: ["966", "00", "92\\d{7}|(?:[15]|8\\d)\\d{8}", [9, 10], [["(\\d{4})(\\d{5})", "$1 $2", ["9"]], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["1"], "0$1"], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["5"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["81"], "0$1"], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["8"]]], "0"], SB: ["677", "0[01]", "(?:[1-6]|[7-9]\\d\\d)\\d{4}", [5, 7], [["(\\d{2})(\\d{5})", "$1 $2", ["7|8[4-9]|9(?:[1-8]|9[0-8])"]]]], SC: ["248", "010|0[0-2]", "800\\d{4}|(?:[249]\\d|64)\\d{5}", [7], [["(\\d)(\\d{3})(\\d{3})", "$1 $2 $3", ["[246]|9[57]"]]], 0, 0, 0, 0, 0, 0, 0, "00"], SD: ["249", "00", "[19]\\d{8}", [9], [["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[19]"], "0$1"]], "0"], SE: ["46", "00", "(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}", [6, 7, 8, 9, 10], [["(\\d{2})(\\d{2,3})(\\d{2})", "$1-$2 $3", ["20"], "0$1", 0, "$1 $2 $3"], ["(\\d{3})(\\d{4})", "$1-$2", ["9(?:00|39|44|9)"], "0$1", 0, "$1 $2"], ["(\\d{2})(\\d{3})(\\d{2})", "$1-$2 $3", ["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"], "0$1", 0, "$1 $2 $3"], ["(\\d)(\\d{2,3})(\\d{2})(\\d{2})", "$1-$2 $3 $4", ["8"], "0$1", 0, "$1 $2 $3 $4"], ["(\\d{3})(\\d{2,3})(\\d{2})", "$1-$2 $3", ["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"], "0$1", 0, "$1 $2 $3"], ["(\\d{3})(\\d{2,3})(\\d{3})", "$1-$2 $3", ["9(?:00|39|44)"], "0$1", 0, "$1 $2 $3"], ["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})", "$1-$2 $3 $4", ["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"], "0$1", 0, "$1 $2 $3 $4"], ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1-$2 $3 $4", ["10|7"], "0$1", 0, "$1 $2 $3 $4"], ["(\\d)(\\d{3})(\\d{3})(\\d{2})", "$1-$2 $3 $4", ["8"], "0$1", 0, "$1 $2 $3 $4"], ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1-$2 $3 $4", ["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"], "0$1", 0, "$1 $2 $3 $4"], ["(\\d{3})(\\d{2})(\\d{2})(\\d{3})", "$1-$2 $3 $4", ["9"], "0$1", 0, "$1 $2 $3 $4"], ["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1-$2 $3 $4 $5", ["[26]"], "0$1", 0, "$1 $2 $3 $4 $5"]], "0"], SG: ["65", "0[0-3]\\d", "(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}", [8, 10, 11], [["(\\d{4})(\\d{4})", "$1 $2", ["[369]|8(?:0[1-8]|[1-9])"]], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["8"]], ["(\\d{4})(\\d{4})(\\d{3})", "$1 $2 $3", ["7"]], ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["1"]]]], SH: ["290", "00", "(?:[256]\\d|8)\\d{3}", [4, 5], 0, 0, 0, 0, 0, 0, "[256]"], SI: ["386", "00|10(?:22|66|88|99)", "[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}", [5, 6, 7, 8], [["(\\d{2})(\\d{3,6})", "$1 $2", ["8[09]|9"], "0$1"], ["(\\d{3})(\\d{5})", "$1 $2", ["59|8"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[37][01]|4[0139]|51|6"], "0$1"], ["(\\d)(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[1-57]"], "(0$1)"]], "0", 0, 0, 0, 0, 0, 0, "00"], SJ: ["47", "00", "0\\d{4}|(?:[489]\\d|79)\\d{6}", [5, 8], 0, 0, 0, 0, 0, 0, "79"], SK: ["421", "00", "[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}", [6, 7, 9], [["(\\d)(\\d{2})(\\d{3,4})", "$1 $2 $3", ["21"], "0$1"], ["(\\d{2})(\\d{2})(\\d{2,3})", "$1 $2 $3", ["[3-5][1-8]1", "[3-5][1-8]1[67]"], "0$1"], ["(\\d)(\\d{3})(\\d{3})(\\d{2})", "$1/$2 $3 $4", ["2"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[689]"], "0$1"], ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1/$2 $3 $4", ["[3-5]"], "0$1"]], "0"], SL: ["232", "00", "(?:[237-9]\\d|66)\\d{6}", [8], [["(\\d{2})(\\d{6})", "$1 $2", ["[236-9]"], "(0$1)"]], "0"], SM: ["378", "00", "(?:0549|[5-7]\\d)\\d{6}", [8, 10], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[5-7]"]], ["(\\d{4})(\\d{6})", "$1 $2", ["0"]]], 0, 0, "([89]\\d{5})$", "0549$1"], SN: ["221", "00", "(?:[378]\\d|93)\\d{7}", [9], [["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"]], ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[379]"]]]], SO: ["252", "00", "[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}", [6, 7, 8, 9], [["(\\d{2})(\\d{4})", "$1 $2", ["8[125]"]], ["(\\d{6})", "$1", ["[134]"]], ["(\\d)(\\d{6})", "$1 $2", ["[15]|2[0-79]|3[0-46-8]|4[0-7]"]], ["(\\d)(\\d{7})", "$1 $2", ["(?:2|90)4|[67]"]], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[348]|64|79|90"]], ["(\\d{2})(\\d{5,7})", "$1 $2", ["1|28|6[0-35-9]|77|9[2-9]"]]], "0"], SR: ["597", "00", "(?:[2-5]|68|[78]\\d)\\d{5}", [6, 7], [["(\\d{2})(\\d{2})(\\d{2})", "$1-$2-$3", ["56"]], ["(\\d{3})(\\d{3})", "$1-$2", ["[2-5]"]], ["(\\d{3})(\\d{4})", "$1-$2", ["[6-8]"]]]], SS: ["211", "00", "[19]\\d{8}", [9], [["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[19]"], "0$1"]], "0"], ST: ["239", "00", "(?:22|9\\d)\\d{5}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[29]"]]]], SV: ["503", "00", "[267]\\d{7}|[89]00\\d{4}(?:\\d{4})?", [7, 8, 11], [["(\\d{3})(\\d{4})", "$1 $2", ["[89]"]], ["(\\d{4})(\\d{4})", "$1 $2", ["[267]"]], ["(\\d{3})(\\d{4})(\\d{4})", "$1 $2 $3", ["[89]"]]]], SX: ["1", "011", "7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "(5\\d{6})$|1", "721$1", 0, "721"], SY: ["963", "00", "[1-39]\\d{8}|[1-5]\\d{7}", [8, 9], [["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[1-5]"], "0$1", 1], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["9"], "0$1", 1]], "0"], SZ: ["268", "00", "0800\\d{4}|(?:[237]\\d|900)\\d{6}", [8, 9], [["(\\d{4})(\\d{4})", "$1 $2", ["[0237]"]], ["(\\d{5})(\\d{4})", "$1 $2", ["9"]]]], TA: ["290", "00", "8\\d{3}", [4], 0, 0, 0, 0, 0, 0, "8"], TC: ["1", "011", "(?:[58]\\d\\d|649|900)\\d{7}", [10], 0, "1", 0, "([2-479]\\d{6})$|1", "649$1", 0, "649"], TD: ["235", "00|16", "(?:22|[69]\\d|77)\\d{6}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2679]"]]], 0, 0, 0, 0, 0, 0, 0, "00"], TG: ["228", "00", "[279]\\d{7}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[279]"]]]], TH: ["66", "00[1-9]", "(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}", [8, 9, 10, 13], [["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["2"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[13-9]"], "0$1"], ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["1"]]], "0"], TJ: ["992", "810", "[0-57-9]\\d{8}", [9], [["(\\d{6})(\\d)(\\d{2})", "$1 $2 $3", ["331", "3317"]], ["(\\d{3})(\\d{2})(\\d{4})", "$1 $2 $3", ["44[04]|[34]7"]], ["(\\d{4})(\\d)(\\d{4})", "$1 $2 $3", ["3[1-5]"]], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[0-57-9]"]]], 0, 0, 0, 0, 0, 0, 0, "8~10"], TK: ["690", "00", "[2-47]\\d{3,6}", [4, 5, 6, 7]], TL: ["670", "00", "7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}", [7, 8], [["(\\d{3})(\\d{4})", "$1 $2", ["[2-489]|70"]], ["(\\d{4})(\\d{4})", "$1 $2", ["7"]]]], TM: ["993", "810", "[1-6]\\d{7}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2-$3-$4", ["12"], "(8 $1)"], ["(\\d{3})(\\d)(\\d{2})(\\d{2})", "$1 $2-$3-$4", ["[1-5]"], "(8 $1)"], ["(\\d{2})(\\d{6})", "$1 $2", ["6"], "8 $1"]], "8", 0, 0, 0, 0, 0, 0, "8~10"], TN: ["216", "00", "[2-57-9]\\d{7}", [8], [["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[2-57-9]"]]]], TO: ["676", "00", "(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}", [5, 7], [["(\\d{2})(\\d{3})", "$1-$2", ["[2-4]|50|6[09]|7[0-24-69]|8[05]"]], ["(\\d{4})(\\d{3})", "$1 $2", ["0"]], ["(\\d{3})(\\d{4})", "$1 $2", ["[5-9]"]]]], TR: ["90", "00", "4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}", [7, 10, 12, 13], [["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["512|8[01589]|90"], "0$1", 1], ["(\\d{3})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["5(?:[0-59]|61)", "5(?:[0-59]|616)", "5(?:[0-59]|6161)"], "0$1", 1], ["(\\d{3})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[24][1-8]|3[1-9]"], "(0$1)", 1], ["(\\d{3})(\\d{3})(\\d{6,7})", "$1 $2 $3", ["80"], "0$1", 1]], "0"], TT: ["1", "011", "(?:[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "([2-46-8]\\d{6})$|1", "868$1", 0, "868"], TV: ["688", "00", "(?:2|7\\d\\d|90)\\d{4}", [5, 6, 7], [["(\\d{2})(\\d{3})", "$1 $2", ["2"]], ["(\\d{2})(\\d{4})", "$1 $2", ["90"]], ["(\\d{2})(\\d{5})", "$1 $2", ["7"]]]], TW: ["886", "0(?:0[25-79]|19)", "[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}", [7, 8, 9, 10, 11], [["(\\d{2})(\\d)(\\d{4})", "$1 $2 $3", ["202"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[258]0"], "0$1"], ["(\\d)(\\d{3,4})(\\d{4})", "$1 $2 $3", ["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]", "[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[49]"], "0$1"], ["(\\d{2})(\\d{4})(\\d{4,5})", "$1 $2 $3", ["7"], "0$1"]], "0", 0, 0, 0, 0, 0, 0, 0, "#"], TZ: ["255", "00[056]", "(?:[25-8]\\d|41|90)\\d{7}", [9], [["(\\d{3})(\\d{2})(\\d{4})", "$1 $2 $3", ["[89]"], "0$1"], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[24]"], "0$1"], ["(\\d{2})(\\d{7})", "$1 $2", ["5"]], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[67]"], "0$1"]], "0"], UA: ["380", "00", "[89]\\d{9}|[3-9]\\d{8}", [9, 10], [["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]", "6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"], "0$1"], ["(\\d{4})(\\d{5})", "$1 $2", ["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])", "3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"], "0$1"], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[3-7]|89|9[1-9]"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[89]"], "0$1"]], "0", 0, 0, 0, 0, 0, 0, "0~0"], UG: ["256", "00[057]", "800\\d{6}|(?:[29]0|[347]\\d)\\d{7}", [9], [["(\\d{4})(\\d{5})", "$1 $2", ["202", "2024"], "0$1"], ["(\\d{3})(\\d{6})", "$1 $2", ["[27-9]|4(?:6[45]|[7-9])"], "0$1"], ["(\\d{2})(\\d{7})", "$1 $2", ["[34]"], "0$1"]], "0"], US: ["1", "011", "[2-9]\\d{9}|3\\d{6}", [10], [["(\\d{3})(\\d{4})", "$1-$2", ["310"], 0, 1], ["(\\d{3})(\\d{3})(\\d{4})", "($1) $2-$3", ["[2-9]"], 0, 1, "$1-$2-$3"]], "1", 0, 0, 0, 0, 0, [["5056(?:[0-35-9]\\d|4[46])\\d{4}|(?:4722|505[2-57-9]|983[29])\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[01356]|3[0-24679]|4[167]|5[0-2]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|[34][016]|5[01679]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[068]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}"], [""], ["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"], ["900[2-9]\\d{6}"], ["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"]]], UY: ["598", "0(?:0|1[3-9]\\d)", "(?:0004|4)\\d{9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}", [7, 8, 10, 13], [["(\\d{3})(\\d{4})", "$1 $2", ["405|8|90"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["9"], "0$1"], ["(\\d{4})(\\d{4})", "$1 $2", ["[124]"]], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["4"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3 $4", ["0"]]], "0", 0, 0, 0, 0, 0, 0, "00", " int. "], UZ: ["998", "810", "200\\d{6}|(?:33|[5-79]\\d|88)\\d{7}", [9], [["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[235-9]"], "8 $1"]], "8", 0, 0, 0, 0, 0, 0, "8~10"], VA: ["39", "00", "0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}", [6, 7, 8, 9, 10, 11], 0, 0, 0, 0, 0, 0, "06698"], VC: ["1", "011", "(?:[58]\\d\\d|784|900)\\d{7}", [10], 0, "1", 0, "([2-7]\\d{6})$|1", "784$1", 0, "784"], VE: ["58", "00", "[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}", [10], [["(\\d{3})(\\d{7})", "$1-$2", ["[24-689]"], "0$1"]], "0"], VG: ["1", "011", "(?:284|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "([2-578]\\d{6})$|1", "284$1", 0, "284"], VI: ["1", "011", "[58]\\d{9}|(?:34|90)0\\d{7}", [10], 0, "1", 0, "([2-9]\\d{6})$|1", "340$1", 0, "340"], VN: ["84", "00", "[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}", [7, 8, 9, 10], [["(\\d{2})(\\d{5})", "$1 $2", ["80"], "0$1", 1], ["(\\d{4})(\\d{4,6})", "$1 $2", ["1"], 0, 1], ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["6"], "0$1", 1], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[357-9]"], "0$1", 1], ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["2[48]"], "0$1", 1], ["(\\d{3})(\\d{4})(\\d{3})", "$1 $2 $3", ["2"], "0$1", 1]], "0"], VU: ["678", "00", "[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}", [5, 7], [["(\\d{3})(\\d{4})", "$1 $2", ["[57-9]"]]]], WF: ["681", "00", "(?:40|72)\\d{4}|8\\d{5}(?:\\d{3})?", [6, 9], [["(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3", ["[478]"]], ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"]]]], WS: ["685", "0", "(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}", [5, 6, 7, 10], [["(\\d{5})", "$1", ["[2-5]|6[1-9]"]], ["(\\d{3})(\\d{3,7})", "$1 $2", ["[68]"]], ["(\\d{2})(\\d{5})", "$1 $2", ["7"]]]], XK: ["383", "00", "[23]\\d{7,8}|(?:4\\d\\d|[89]00)\\d{5}", [8, 9], [["(\\d{3})(\\d{5})", "$1 $2", ["[89]"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[2-4]"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[23]"], "0$1"]], "0"], YE: ["967", "00", "(?:1|7\\d)\\d{7}|[1-7]\\d{6}", [7, 8, 9], [["(\\d)(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[1-6]|7(?:[24-6]|8[0-7])"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["7"], "0$1"]], "0"], YT: ["262", "00", "(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}", [9], 0, "0", 0, 0, 0, 0, 0, [["269(?:0[0-467]|5[0-4]|6\\d|[78]0)\\d{4}"], ["639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])\\d{4}"], ["80\\d{7}"], 0, 0, 0, 0, 0, ["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]], ZA: ["27", "00", "[1-79]\\d{8}|8\\d{4,9}", [5, 6, 7, 8, 9, 10], [["(\\d{2})(\\d{3,4})", "$1 $2", ["8[1-4]"], "0$1"], ["(\\d{2})(\\d{3})(\\d{2,3})", "$1 $2 $3", ["8[1-4]"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["860"], "0$1"], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[1-9]"], "0$1"], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["8"], "0$1"]], "0"], ZM: ["260", "00", "800\\d{6}|(?:21|63|[79]\\d)\\d{7}", [9], [["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[28]"], "0$1"], ["(\\d{2})(\\d{7})", "$1 $2", ["[79]"], "0$1"]], "0"], ZW: ["263", "00", "2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}", [5, 6, 7, 8, 9, 10], [["(\\d{3})(\\d{3,5})", "$1 $2", ["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"], "0$1"], ["(\\d)(\\d{3})(\\d{2,4})", "$1 $2 $3", ["[49]"], "0$1"], ["(\\d{3})(\\d{4})", "$1 $2", ["80"], "0$1"], ["(\\d{2})(\\d{7})", "$1 $2", ["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2", "2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"], "(0$1)"], ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["7"], "0$1"], ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)", "2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"], "0$1"], ["(\\d{4})(\\d{6})", "$1 $2", ["8"], "0$1"], ["(\\d{2})(\\d{3,5})", "$1 $2", ["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"], "0$1"], ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["29[013-9]|39|54"], "0$1"], ["(\\d{4})(\\d{3,5})", "$1 $2", ["(?:25|54)8", "258|5483"], "0$1"]], "0"] }, nonGeographic: { 800: ["800", 0, "(?:00|[1-9]\\d)\\d{6}", [8], [["(\\d{4})(\\d{4})", "$1 $2", ["\\d"]]], 0, 0, 0, 0, 0, 0, [0, 0, ["(?:00|[1-9]\\d)\\d{6}"]]], 808: ["808", 0, "[1-9]\\d{7}", [8], [["(\\d{4})(\\d{4})", "$1 $2", ["[1-9]"]]], 0, 0, 0, 0, 0, 0, [0, 0, 0, 0, 0, 0, 0, 0, 0, ["[1-9]\\d{7}"]]], 870: ["870", 0, "7\\d{11}|[35-7]\\d{8}", [9, 12], [["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[35-7]"]]], 0, 0, 0, 0, 0, 0, [0, ["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"]]], 878: ["878", 0, "10\\d{10}", [12], [["(\\d{2})(\\d{5})(\\d{5})", "$1 $2 $3", ["1"]]], 0, 0, 0, 0, 0, 0, [0, 0, 0, 0, 0, 0, 0, 0, ["10\\d{10}"]]], 881: ["881", 0, "[0-36-9]\\d{8}", [9], [["(\\d)(\\d{3})(\\d{5})", "$1 $2 $3", ["[0-36-9]"]]], 0, 0, 0, 0, 0, 0, [0, ["[0-36-9]\\d{8}"]]], 882: ["882", 0, "[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?", [7, 8, 9, 10, 11, 12], [["(\\d{2})(\\d{5})", "$1 $2", ["16|342"]], ["(\\d{2})(\\d{6})", "$1 $2", ["49"]], ["(\\d{2})(\\d{2})(\\d{4})", "$1 $2 $3", ["1[36]|9"]], ["(\\d{2})(\\d{4})(\\d{3})", "$1 $2 $3", ["3[23]"]], ["(\\d{2})(\\d{3,4})(\\d{4})", "$1 $2 $3", ["16"]], ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["10|23|3(?:[15]|4[57])|4|51"]], ["(\\d{3})(\\d{4})(\\d{4})", "$1 $2 $3", ["34"]], ["(\\d{2})(\\d{4,5})(\\d{5})", "$1 $2 $3", ["[1-35]"]]], 0, 0, 0, 0, 0, 0, [0, ["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}", [7, 8, 9, 10, 12]], 0, 0, 0, 0, 0, 0, ["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]], 883: ["883", 0, "(?:[1-4]\\d|51)\\d{6,10}", [8, 9, 10, 11, 12], [["(\\d{3})(\\d{3})(\\d{2,8})", "$1 $2 $3", ["[14]|2[24-689]|3[02-689]|51[24-9]"]], ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["510"]], ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["21"]], ["(\\d{4})(\\d{4})(\\d{4})", "$1 $2 $3", ["51[13]"]], ["(\\d{3})(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["[235]"]]], 0, 0, 0, 0, 0, 0, [0, 0, 0, 0, 0, 0, 0, 0, ["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[013-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]], 888: ["888", 0, "\\d{11}", [11], [["(\\d{3})(\\d{3})(\\d{5})", "$1 $2 $3"]], 0, 0, 0, 0, 0, 0, [0, 0, 0, 0, 0, 0, ["\\d{11}"]]], 979: ["979", 0, "[1359]\\d{8}", [9], [["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["[1359]"]]], 0, 0, 0, 0, 0, 0, [0, 0, 0, ["[1359]\\d{8}"]]] } }; function Sz(e, t) { var n = Array.prototype.slice.call(t); return n.push(Az), e.apply(this, n) } function kz(e) { return (kz = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function Iz(e) { if (void 0 === e) throw ReferenceError("this hasn't been initialised - super() hasn't been called"); return e } function Tz(e) { var t = "function" == typeof Map ? new Map : void 0; return (Tz = function (e) { if (null === e || -1 === Function.toString.call(e).indexOf("[native code]")) return e; if ("function" != typeof e) throw TypeError("Super expression must either be null or a function"); if (void 0 !== t) { if (t.has(e)) return t.get(e); t.set(e, n) } function n() { return Nz(e, arguments, Oz(this).constructor) } return n.prototype = Object.create(e.prototype, { constructor: { value: n, enumerable: !1, writable: !0, configurable: !0 } }), Mz(n, e) })(e) } function Nz(e, t, n) { return (Nz = Pz() ? Reflect.construct : function (e, t, n) { var r = [null]; r.push.apply(r, t); var i = new (Function.bind.apply(e, r)); return n && Mz(i, n.prototype), i }).apply(null, arguments) } function Pz() { if ("undefined" == typeof Reflect || !Reflect.construct || Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }))), !0 } catch (e) { return !1 } } function Mz(e, t) { return (Mz = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } function Oz(e) { return (Oz = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } var Rz = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), Object.defineProperty(e, "prototype", { writable: !1 }), t && Mz(e, t) }(r, Tz(Error)); var t, n = (t = Pz(), function () { var e = Oz(r); return function (e, t) { if (t && ("object" === kz(t) || "function" == typeof t)) return t; if (void 0 !== t) throw TypeError("Derived constructors may only return object or undefined"); return Iz(e) }(this, t ? Reflect.construct(e, arguments, Oz(this).constructor) : e.apply(this, arguments)) }); function r(e) { var t; return function (e, t) { if (!(e instanceof t)) throw TypeError("Cannot call a class as a function") }(this, r), Object.setPrototypeOf(Iz(t = n.call(this, e)), r.prototype), t.name = t.constructor.name, t } return Object.defineProperty(r, "prototype", { writable: !1 }), r }(), jz = "0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9", $z = "".concat("-\u2010-\u2015\u2212\u30fc\uff0d").concat("\uff0f/").concat("\uff0e.").concat(" \xa0\xad\u200b\u2060\u3000").concat("()\uff08\uff09\uff3b\uff3d\\[\\]").concat("~\u2053\u223c\uff5e"); function Lz(e, t) { e = e.split("-"), t = t.split("-"); for (var n = e[0].split("."), r = t[0].split("."), i = 0; i < 3; i++) { var o = Number(n[i]), s = Number(r[i]); if (o > s) return 1; if (s > o) return -1; if (!isNaN(o) && isNaN(s)) return 1; if (isNaN(o) && !isNaN(s)) return -1 } return e[1] && t[1] ? e[1] > t[1] ? 1 : e[1] < t[1] ? -1 : 0 : !e[1] && t[1] ? 1 : e[1] && !t[1] ? -1 : 0 } function Dz(e) { return (Dz = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function Uz(e, t) { if (!(e instanceof t)) throw TypeError("Cannot call a class as a function") } function Fz(e, t, n) { return t && function (e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } }(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), e } var Bz = " ext. ", Wz = /^\d+$/, zz = function () { function e(t) { Uz(this, e), function (e) { if (!e) throw Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments."); if (!Yz(e) || !Yz(e.countries)) throw Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(Yz(e) ? "an object of shape: { " + Object.keys(e).join(", ") + " }" : "a " + Zz(e) + ": " + e, ".")) }(t), this.metadata = t, Jz.call(this, t) } return Fz(e, [{ key: "getCountries", value: function () { return Object.keys(this.metadata.countries).filter((function (e) { return "001" !== e })) } }, { key: "getCountryMetadata", value: function (e) { return this.metadata.countries[e] } }, { key: "nonGeographic", value: function () { if (!(this.v1 || this.v2 || this.v3)) return this.metadata.nonGeographic || this.metadata.nonGeographical } }, { key: "hasCountry", value: function (e) { return void 0 !== this.getCountryMetadata(e) } }, { key: "hasCallingCode", value: function (e) { if (this.getCountryCodesForCallingCode(e)) return !0; if (this.nonGeographic()) { if (this.nonGeographic()[e]) return !0 } else { var t = this.countryCallingCodes()[e]; if (t && 1 === t.length && "001" === t[0]) return !0 } } }, { key: "isNonGeographicCallingCode", value: function (e) { return this.nonGeographic() ? !!this.nonGeographic()[e] : !this.getCountryCodesForCallingCode(e) } }, { key: "country", value: function (e) { return this.selectNumberingPlan(e) } }, { key: "selectNumberingPlan", value: function (e, t) { if (e && Wz.test(e) && (t = e, e = null), e && "001" !== e) { if (!this.hasCountry(e)) throw Error("Unknown country: ".concat(e)); this.numberingPlan = new qz(this.getCountryMetadata(e), this) } else if (t) { if (!this.hasCallingCode(t)) throw Error("Unknown calling code: ".concat(t)); this.numberingPlan = new qz(this.getNumberingPlanMetadata(t), this) } else this.numberingPlan = void 0; return this } }, { key: "getCountryCodesForCallingCode", value: function (e) { var t = this.countryCallingCodes()[e]; if (t) { if (1 === t.length && 3 === t[0].length) return; return t } } }, { key: "getCountryCodeForCallingCode", value: function (e) { var t = this.getCountryCodesForCallingCode(e); if (t) return t[0] } }, { key: "getNumberingPlanMetadata", value: function (e) { var t = this.getCountryCodeForCallingCode(e); if (t) return this.getCountryMetadata(t); if (this.nonGeographic()) { var n = this.nonGeographic()[e]; if (n) return n } else { var r = this.countryCallingCodes()[e]; if (r && 1 === r.length && "001" === r[0]) return this.metadata.countries["001"] } } }, { key: "countryCallingCode", value: function () { return this.numberingPlan.callingCode() } }, { key: "IDDPrefix", value: function () { return this.numberingPlan.IDDPrefix() } }, { key: "defaultIDDPrefix", value: function () { return this.numberingPlan.defaultIDDPrefix() } }, { key: "nationalNumberPattern", value: function () { return this.numberingPlan.nationalNumberPattern() } }, { key: "possibleLengths", value: function () { return this.numberingPlan.possibleLengths() } }, { key: "formats", value: function () { return this.numberingPlan.formats() } }, { key: "nationalPrefixForParsing", value: function () { return this.numberingPlan.nationalPrefixForParsing() } }, { key: "nationalPrefixTransformRule", value: function () { return this.numberingPlan.nationalPrefixTransformRule() } }, { key: "leadingDigits", value: function () { return this.numberingPlan.leadingDigits() } }, { key: "hasTypes", value: function () { return this.numberingPlan.hasTypes() } }, { key: "type", value: function (e) { return this.numberingPlan.type(e) } }, { key: "ext", value: function () { return this.numberingPlan.ext() } }, { key: "countryCallingCodes", value: function () { return this.v1 ? this.metadata.country_phone_code_to_countries : this.metadata.country_calling_codes } }, { key: "chooseCountryByCountryCallingCode", value: function (e) { return this.selectNumberingPlan(e) } }, { key: "hasSelectedNumberingPlan", value: function () { return void 0 !== this.numberingPlan } }]), e }(), qz = function () { function e(t, n) { Uz(this, e), this.globalMetadataObject = n, this.metadata = t, Jz.call(this, n.metadata) } return Fz(e, [{ key: "callingCode", value: function () { return this.metadata[0] } }, { key: "getDefaultCountryMetadataForRegion", value: function () { return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode()) } }, { key: "IDDPrefix", value: function () { if (!this.v1 && !this.v2) return this.metadata[1] } }, { key: "defaultIDDPrefix", value: function () { if (!this.v1 && !this.v2) return this.metadata[12] } }, { key: "nationalNumberPattern", value: function () { return this.v1 || this.v2 ? this.metadata[1] : this.metadata[2] } }, { key: "possibleLengths", value: function () { if (!this.v1) return this.metadata[this.v2 ? 2 : 3] } }, { key: "_getFormats", value: function (e) { return e[this.v1 ? 2 : this.v2 ? 3 : 4] } }, { key: "formats", value: function () { var e = this; return (this._getFormats(this.metadata) || this._getFormats(this.getDefaultCountryMetadataForRegion()) || []).map((function (t) { return new Hz(t, e) })) } }, { key: "nationalPrefix", value: function () { return this.metadata[this.v1 ? 3 : this.v2 ? 4 : 5] } }, { key: "_getNationalPrefixFormattingRule", value: function (e) { return e[this.v1 ? 4 : this.v2 ? 5 : 6] } }, { key: "nationalPrefixFormattingRule", value: function () { return this._getNationalPrefixFormattingRule(this.metadata) || this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion()) } }, { key: "_nationalPrefixForParsing", value: function () { return this.metadata[this.v1 ? 5 : this.v2 ? 6 : 7] } }, { key: "nationalPrefixForParsing", value: function () { return this._nationalPrefixForParsing() || this.nationalPrefix() } }, { key: "nationalPrefixTransformRule", value: function () { return this.metadata[this.v1 ? 6 : this.v2 ? 7 : 8] } }, { key: "_getNationalPrefixIsOptionalWhenFormatting", value: function () { return !!this.metadata[this.v1 ? 7 : this.v2 ? 8 : 9] } }, { key: "nationalPrefixIsOptionalWhenFormattingInNationalFormat", value: function () { return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata) || this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion()) } }, { key: "leadingDigits", value: function () { return this.metadata[this.v1 ? 8 : this.v2 ? 9 : 10] } }, { key: "types", value: function () { return this.metadata[this.v1 ? 9 : this.v2 ? 10 : 11] } }, { key: "hasTypes", value: function () { return !(this.types() && 0 === this.types().length || !this.types()) } }, { key: "type", value: function (e) { if (this.hasTypes() && Kz(this.types(), e)) return new Vz(Kz(this.types(), e), this) } }, { key: "ext", value: function () { return this.v1 || this.v2 ? Bz : this.metadata[13] || Bz } }]), e }(), Hz = function () { function e(t, n) { Uz(this, e), this._format = t, this.metadata = n } return Fz(e, [{ key: "pattern", value: function () { return this._format[0] } }, { key: "format", value: function () { return this._format[1] } }, { key: "leadingDigitsPatterns", value: function () { return this._format[2] || [] } }, { key: "nationalPrefixFormattingRule", value: function () { return this._format[3] || this.metadata.nationalPrefixFormattingRule() } }, { key: "nationalPrefixIsOptionalWhenFormattingInNationalFormat", value: function () { return !!this._format[4] || this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat() } }, { key: "nationalPrefixIsMandatoryWhenFormattingInNationalFormat", value: function () { return this.usesNationalPrefix() && !this.nationalPrefixIsOptionalWhenFormattingInNationalFormat() } }, { key: "usesNationalPrefix", value: function () { return !(!this.nationalPrefixFormattingRule() || Gz.test(this.nationalPrefixFormattingRule())) } }, { key: "internationalFormat", value: function () { return this._format[5] || this.format() } }]), e }(), Gz = /^\(?\$1\)?$/, Vz = function () { function e(t, n) { Uz(this, e), this.type = t, this.metadata = n } return Fz(e, [{ key: "pattern", value: function () { return this.metadata.v1 ? this.type : this.type[0] } }, { key: "possibleLengths", value: function () { if (!this.metadata.v1) return this.type[1] || this.metadata.possibleLengths() } }]), e }(); function Kz(e, t) { switch (t) { case "FIXED_LINE": return e[0]; case "MOBILE": return e[1]; case "TOLL_FREE": return e[2]; case "PREMIUM_RATE": return e[3]; case "PERSONAL_NUMBER": return e[4]; case "VOICEMAIL": return e[5]; case "UAN": return e[6]; case "PAGER": return e[7]; case "VOIP": return e[8]; case "SHARED_COST": return e[9] } } var Yz = function (e) { return "object" === Dz(e) }, Zz = function (e) { return Dz(e) }; function Xz(e, t) { if ((t = new zz(t)).hasCountry(e)) return t.country(e).countryCallingCode(); throw Error("Unknown country: ".concat(e)) } function Jz(e) { var t = e.version; "number" == typeof t ? (this.v1 = 1 === t, this.v2 = 2 === t, this.v3 = 3 === t, this.v4 = 4 === t) : t ? -1 === Lz(t, "1.2.0") ? this.v2 = !0 : -1 === Lz(t, "1.7.35") ? this.v3 = !0 : this.v4 = !0 : this.v1 = !0 } var Qz = function (e) { return "([".concat(jz, "]{1,").concat(e, "})") }; function eq(e) { var t = "[ \xa0\\t,]*", n = "[:\\.\uff0e]?[ \xa0\\t,-]*", r = "[ \xa0\\t]*"; return ";ext=" + Qz("20") + "|" + t + "(?:e?xt(?:ensi(?:o\u0301?|\xf3))?n?|\uff45?\uff58\uff54\uff4e?|\u0434\u043e\u0431|anexo)" + n + Qz("20") + "#?|" + t + "(?:[x\uff58#\uff03~\uff5e]|int|\uff49\uff4e\uff54)" + n + Qz("9") + "#?|[- ]+" + Qz("6") + "#|" + r + "(?:,{2}|;)" + n + Qz("15") + "#?|" + r + "(?:,)+" + n + Qz("9") + "#?" } var tq = RegExp("^[+\uff0b]{0,1}(?:[" + $z + "]*[" + "0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]){1,2}$", "i"), nq = "[+\uff0b]{0,1}(?:[" + $z + "]*[" + "0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]){3,}[" + $z + "0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]*(?:" + eq() + ")?", rq = RegExp("^[0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{2}$|^" + nq + "$", "i"), iq = RegExp("(?:" + eq() + ")$", "i"); function oq(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = Array(t); n < t; n++)r[n] = e[n]; return r } var sq = { 0: "0", 1: "1", 2: "2", 3: "3", 4: "4", 5: "5", 6: "6", 7: "7", 8: "8", 9: "9", "\uff10": "0", "\uff11": "1", "\uff12": "2", "\uff13": "3", "\uff14": "4", "\uff15": "5", "\uff16": "6", "\uff17": "7", "\uff18": "8", "\uff19": "9", "\u0660": "0", "\u0661": "1", "\u0662": "2", "\u0663": "3", "\u0664": "4", "\u0665": "5", "\u0666": "6", "\u0667": "7", "\u0668": "8", "\u0669": "9", "\u06f0": "0", "\u06f1": "1", "\u06f2": "2", "\u06f3": "3", "\u06f4": "4", "\u06f5": "5", "\u06f6": "6", "\u06f7": "7", "\u06f8": "8", "\u06f9": "9" }; function aq(e) { for (var t, n = "", r = function (e, t) { var n = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (n) return (n = n.call(e)).next.bind(n); if (Array.isArray(e) || (n = function (e, t) { if (e) { if ("string" == typeof e) return oq(e, void 0); var n = Object.prototype.toString.call(e).slice(8, -1); if ("Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return oq(e, void 0) } }(e))) { n && (e = n); var r = 0; return function () { return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] } } } throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }(e.split("")); !(t = r()).done;) { var i = sq[t.value]; i && (n += i) } return n } function cq(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = Array(t); n < t; n++)r[n] = e[n]; return r } function lq(e) { for (var t, n = "", r = function (e, t) { var n = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (n) return (n = n.call(e)).next.bind(n); if (Array.isArray(e) || (n = function (e, t) { if (e) { if ("string" == typeof e) return cq(e, void 0); var n = Object.prototype.toString.call(e).slice(8, -1); if ("Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return cq(e, void 0) } }(e))) { n && (e = n); var r = 0; return function () { return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] } } } throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }(e.split("")); !(t = r()).done;)n += function (e, t) { if ("+" === e) { if (t) return; return "+" } return sq[e] }(t.value, n) || ""; return n } function uq(e, t) { return function (e, t, n) { var r = n.type(void 0), i = r && r.possibleLengths() || n.possibleLengths(); if (!i) return "IS_POSSIBLE"; var o = e.length, s = i[0]; return s === o ? "IS_POSSIBLE" : s > o ? "TOO_SHORT" : i[i.length - 1] < o ? "TOO_LONG" : i.indexOf(o, 1) >= 0 ? "IS_POSSIBLE" : "INVALID_LENGTH" }(e, 0, t) } function dq(e, t) { return "IS_POSSIBLE" === uq(e, t) } function hq(e, t) { return e = e || "", RegExp("^(?:" + t + ")$").test(e) } function fq(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = Array(t); n < t; n++)r[n] = e[n]; return r } var pq = ["MOBILE", "PREMIUM_RATE", "TOLL_FREE", "SHARED_COST", "VOIP", "PERSONAL_NUMBER", "PAGER", "UAN", "VOICEMAIL"]; function mq(e, t, n) { if (t = t || {}, e.country) { (n = new zz(n)).selectNumberingPlan(e.country, e.countryCallingCode); var r = t.v2 ? e.nationalNumber : e.phone; if (hq(r, n.nationalNumberPattern())) { if (gq(r, "FIXED_LINE", n)) return n.type("MOBILE") && "" === n.type("MOBILE").pattern() ? "FIXED_LINE_OR_MOBILE" : n.type("MOBILE") ? gq(r, "MOBILE", n) ? "FIXED_LINE_OR_MOBILE" : "FIXED_LINE" : "FIXED_LINE_OR_MOBILE"; for (var i, o = function (e, t) { var n = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (n) return (n = n.call(e)).next.bind(n); if (Array.isArray(e) || (n = function (e, t) { if (e) { if ("string" == typeof e) return fq(e, void 0); var n = Object.prototype.toString.call(e).slice(8, -1); if ("Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return fq(e, void 0) } }(e))) { n && (e = n); var r = 0; return function () { return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] } } } throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }(pq); !(i = o()).done;) { var s = i.value; if (gq(r, s, n)) return s } } } } function gq(e, t, n) { return !(!(t = n.type(t)) || !t.pattern()) && !(t.possibleLengths() && 0 > t.possibleLengths().indexOf(e.length)) && hq(e, t.pattern()) } function yq(e) { return e.replace(RegExp("[".concat($z, "]+"), "g"), " ").trim() } var bq = /(\$\d)/; function vq(e, t, n) { var r = n.useInternationalFormat, i = n.withNationalPrefix; n.carrierCode, n.metadata; var o = e.replace(new RegExp(t.pattern()), r ? t.internationalFormat() : i && t.nationalPrefixFormattingRule() ? t.format().replace(bq, t.nationalPrefixFormattingRule()) : t.format()); return r ? yq(o) : o } var wq = /^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/; function Eq(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = Array(t); n < t; n++)r[n] = e[n]; return r } function xq(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function _q(e) { for (var t = 1; t < arguments.length; t++) { var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? xq(Object(n), !0).forEach((function (t) { var r; r = n[t], t in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : xq(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } var Cq = { formatExtension: function (e, t, n) { return "".concat(e).concat(n.ext()).concat(t) } }; function Aq(e, t, n, r, i) { var o = function (e, t) { for (var n, r = function (e, t) { var n = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (n) return (n = n.call(e)).next.bind(n); if (Array.isArray(e) || (n = function (e, t) { if (e) { if ("string" == typeof e) return Eq(e, void 0); var n = Object.prototype.toString.call(e).slice(8, -1); if ("Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Eq(e, void 0) } }(e))) { n && (e = n); var r = 0; return function () { return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] } } } throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }(e); !(n = r()).done;) { var i = n.value; if (i.leadingDigitsPatterns().length > 0) { var o = i.leadingDigitsPatterns()[i.leadingDigitsPatterns().length - 1]; if (0 !== t.search(o)) continue } if (hq(t, i.pattern())) return i } }(r.formats(), e); return o ? vq(e, o, { useInternationalFormat: "INTERNATIONAL" === n, withNationalPrefix: !o.nationalPrefixIsOptionalWhenFormattingInNationalFormat() || !i || !1 !== i.nationalPrefix, carrierCode: t, metadata: r }) : e } function Sq(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function kq(e) { for (var t = 1; t < arguments.length; t++) { var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? Sq(Object(n), !0).forEach((function (t) { var r; r = n[t], t in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Sq(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } var Iq = function () { var e; function t(e, n, r) { if (function (e, t) { if (!(e instanceof t)) throw TypeError("Cannot call a class as a function") }(this, t), !e) throw TypeError("`country` or `countryCallingCode` not passed"); if (!n) throw TypeError("`nationalNumber` not passed"); if (!r) throw TypeError("`metadata` not passed"); var i, o, s, a = (s = new zz(r), Tq(e) ? (i = e, s.selectNumberingPlan(i), o = s.countryCallingCode()) : o = e, { country: i, countryCallingCode: o }), c = a.country, l = a.countryCallingCode; this.country = c, this.countryCallingCode = l, this.nationalNumber = n, this.number = "+" + this.countryCallingCode + this.nationalNumber, this.getMetadata = function () { return r } } return e = [{ key: "setExt", value: function (e) { this.ext = e } }, { key: "getPossibleCountries", value: function () { var e, t, n, r; return this.country ? [this.country] : (e = this.countryCallingCode, t = this.nationalNumber, (r = new zz(n = this.getMetadata()).getCountryCodesForCallingCode(e)) ? r.filter((function (e) { var r; return (r = new zz(n)).selectNumberingPlan(e), r.numberingPlan.possibleLengths().indexOf(t.length) >= 0 })) : []) } }, { key: "isPossible", value: function () { return function (e, t, n) { if (void 0 === t && (t = {}), n = new zz(n), t.v2) { if (!e.countryCallingCode) throw Error("Invalid phone number object passed"); n.selectNumberingPlan(e.countryCallingCode) } else { if (!e.phone) return !1; if (e.country) { if (!n.hasCountry(e.country)) throw Error("Unknown country: ".concat(e.country)); n.country(e.country) } else { if (!e.countryCallingCode) throw Error("Invalid phone number object passed"); n.selectNumberingPlan(e.countryCallingCode) } } if (n.possibleLengths()) return dq(e.phone || e.nationalNumber, n); if (e.countryCallingCode && n.isNonGeographicCallingCode(e.countryCallingCode)) return !0; throw Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.') }(this, { v2: !0 }, this.getMetadata()) } }, { key: "isValid", value: function () { var e, t; return e = { v2: !0 }, t = this.getMetadata(), e = e || {}, (t = new zz(t)).selectNumberingPlan(this.country, this.countryCallingCode), t.hasTypes() ? void 0 !== mq(this, e, t.metadata) : hq(e.v2 ? this.nationalNumber : this.phone, t.nationalNumberPattern()) } }, { key: "isNonGeographic", value: function () { return new zz(this.getMetadata()).isNonGeographicCallingCode(this.countryCallingCode) } }, { key: "isEqual", value: function (e) { return this.number === e.number && this.ext === e.ext } }, { key: "getType", value: function () { return mq(this, { v2: !0 }, this.getMetadata()) } }, { key: "format", value: function (e, t) { return function (e, t, n, r) { if (n = n ? _q(_q({}, Cq), n) : Cq, r = new zz(r), e.country && "001" !== e.country) { if (!r.hasCountry(e.country)) throw Error("Unknown country: ".concat(e.country)); r.country(e.country) } else { if (!e.countryCallingCode) return e.phone || ""; r.selectNumberingPlan(e.countryCallingCode) } var i, o, s, a, c, l, u, d, h, f, p, m, g, y = r.countryCallingCode(), b = n.v2 ? e.nationalNumber : e.phone; switch (t) { case "NATIONAL": return b ? (i = g = Aq(b, e.carrierCode, "NATIONAL", r, n), o = e.ext, s = r, a = n.formatExtension, o ? a(i, o, s) : i) : ""; case "INTERNATIONAL": return b ? (g = Aq(b, null, "INTERNATIONAL", r, n), c = g = "+".concat(y, " ").concat(g), l = e.ext, u = r, d = n.formatExtension, l ? d(c, l, u) : c) : "+".concat(y); case "E.164": return "+".concat(y).concat(b); case "RFC3966": return function (e) { var t = e.number, n = e.ext; if (!t) return ""; if ("+" !== t[0]) throw Error('"formatRFC3966()" expects "number" to be in E.164 format.'); return "tel:".concat(t).concat(n ? ";ext=" + n : "") }({ number: "+".concat(y).concat(b), ext: e.ext }); case "IDD": if (!n.fromCountry) return; return h = function (e, t, n, r, i) { if (Xz(r, i.metadata) === n) { var o, s = Aq(e, t, "NATIONAL", i); return "1" === n ? n + " " + s : s } var a = ((o = new zz(i.metadata)).selectNumberingPlan(r, void 0), o.defaultIDDPrefix() ? o.defaultIDDPrefix() : wq.test(o.IDDPrefix()) ? o.IDDPrefix() : void 0); if (a) return "".concat(a, " ").concat(n, " ").concat(Aq(e, null, "INTERNATIONAL", i)) }(b, e.carrierCode, y, n.fromCountry, r), f = e.ext, p = r, m = n.formatExtension, f ? m(h, f, p) : h; default: throw Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t, '"')) } }(this, e, t ? kq(kq({}, t), {}, { v2: !0 }) : { v2: !0 }, this.getMetadata()) } }, { key: "formatNational", value: function (e) { return this.format("NATIONAL", e) } }, { key: "formatInternational", value: function (e) { return this.format("INTERNATIONAL", e) } }, { key: "getURI", value: function (e) { return this.format("RFC3966", e) } }], function (e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } }(t.prototype, e), Object.defineProperty(t, "prototype", { writable: !1 }), t }(), Tq = function (e) { return /^[A-Z]{2}$/.test(e) }, Nq = RegExp("([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9])"); function Pq(e, t, n, r) { if (t) { var i = new zz(r); i.selectNumberingPlan(t, n); var o = new RegExp(i.IDDPrefix()); if (0 === e.search(o)) { var s = (e = e.slice(e.match(o)[0].length)).match(Nq); if (!(s && null != s[1] && s[1].length > 0 && "0" === s[1])) return e } } } function Mq(e, t) { if (e && t.numberingPlan.nationalPrefixForParsing()) { var n = RegExp("^(?:" + t.numberingPlan.nationalPrefixForParsing() + ")"), r = n.exec(e); if (r) { var i, o, s, a = r.length - 1, c = a > 0 && r[a]; if (t.nationalPrefixTransformRule() && c) i = e.replace(n, t.nationalPrefixTransformRule()), a > 1 && (o = r[1]); else { var l = r[0]; i = e.slice(l.length), c && (o = r[1]) } if (c) { var u = e.indexOf(r[1]); e.slice(0, u) === t.numberingPlan.nationalPrefix() && (s = t.numberingPlan.nationalPrefix()) } else s = r[0]; return { nationalNumber: i, nationalPrefix: s, carrierCode: o } } } return { nationalNumber: e } } function Oq(e, t) { var n = Mq(e, t), r = n.carrierCode, i = n.nationalNumber; return i !== e && (hq(e, t.nationalNumberPattern()) && !hq(i, t.nationalNumberPattern()) || t.possibleLengths() && !function (e, t) { switch (uq(e, t)) { case "TOO_SHORT": case "INVALID_LENGTH": return !1; default: return !0 } }(i, t)) ? { nationalNumber: e } : { nationalNumber: i, carrierCode: r } } function Rq(e, t, n, r) { var i = t ? Xz(t, r) : n; if (0 === e.indexOf(i)) { (r = new zz(r)).selectNumberingPlan(t, n); var o = e.slice(i.length), s = Oq(o, r).nationalNumber, a = Oq(e, r).nationalNumber; if (!hq(a, r.nationalNumberPattern()) && hq(s, r.nationalNumberPattern()) || "TOO_LONG" === uq(a, r)) return { countryCallingCode: i, number: o } } return { number: e } } function jq(e, t, n, r) { if (!e) return {}; if ("+" !== e[0]) { var i, o = Pq(e, t, n, r); if (!o || o === e) { if (t || n) { var s = Rq(e, t, n, r), a = s.countryCallingCode, c = s.number; if (a) return { countryCallingCodeSource: "FROM_NUMBER_WITHOUT_PLUS_SIGN", countryCallingCode: a, number: c } } return { number: e } } i = !0, e = "+" + o } if ("0" === e[1]) return {}; r = new zz(r); for (var l = 2; l - 1 <= 3 && l <= e.length;) { var u = e.slice(1, l); if (r.hasCallingCode(u)) return r.selectNumberingPlan(u), { countryCallingCodeSource: i ? "FROM_NUMBER_WITH_IDD" : "FROM_NUMBER_WITH_PLUS_SIGN", countryCallingCode: u, number: e.slice(l) }; l++ } return {} } function $q(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = Array(t); n < t; n++)r[n] = e[n]; return r } function Lq(e, t) { var n = t.countries, r = t.defaultCountry, i = t.metadata; i = new zz(i); for (var o, s = [], a = function (e, t) { var n = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (n) return (n = n.call(e)).next.bind(n); if (Array.isArray(e) || (n = function (e, t) { if (e) { if ("string" == typeof e) return $q(e, void 0); var n = Object.prototype.toString.call(e).slice(8, -1); if ("Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return $q(e, void 0) } }(e))) { n && (e = n); var r = 0; return function () { return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] } } } throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }(n); !(o = a()).done;) { var c = o.value; if (i.country(c), i.leadingDigits()) { if (e && 0 === e.search(i.leadingDigits())) return c } else if (mq({ phone: e, country: c }, void 0, i.metadata)) { if (!r || c === r) return c; s.push(c) } } if (s.length > 0) return s[0] } function Dq(e, t) { var n = t.nationalNumber, r = t.defaultCountry, i = t.metadata, o = i.getCountryCodesForCallingCode(e); if (o) return 1 === o.length ? o[0] : Lq(n, { countries: o, defaultCountry: r, metadata: i.metadata }) } var Uq = RegExp("^\\+([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]|[\\-\\.\\(\\)]?)*[0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]|[\\-\\.\\(\\)]?)*$", "g"), Fq = RegExp("^([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]+((\\-)*[0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9])*\\.)*[a-zA-Z]+((\\-)*[0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9])*\\.?$", "g"), Bq = "tel:", Wq = ";phone-context=", zq = RegExp("[+\uff0b0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]"), qq = RegExp("[^0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9#]+$"); function Hq(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function Gq(e) { for (var t = 1; t < arguments.length; t++) { var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? Hq(Object(n), !0).forEach((function (t) { var r; r = n[t], t in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Hq(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function Vq(e) { return (Vq = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function Kq(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function Yq(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = Array(t); n < t; n++)r[n] = e[n]; return r } function Zq(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function Xq(e) { for (var t = 1; t < arguments.length; t++) { var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? Zq(Object(n), !0).forEach((function (t) { var r; r = n[t], t in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Zq(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function Jq(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function Qq(e) { for (var t = 1; t < arguments.length; t++) { var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? Jq(Object(n), !0).forEach((function (t) { var r; r = n[t], t in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Jq(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function eH() { var e = function (e) { var t, n, r, i = function (e) { if (Array.isArray(e)) return e }(t = Array.prototype.slice.call(e)) || function (e, t) { var n = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (null != n) { var r, i, o = [], s = !0, a = !1; try { for (n = n.call(e); !(s = (r = n.next()).done) && (o.push(r.value), 4 !== o.length); s = !0); } catch (e) { a = !0, i = e } finally { try { s || null == n.return || n.return() } finally { if (a) throw i } } return o } }(t) || function (e, t) { if (e) { if ("string" == typeof e) return Yq(e, 4); var n = Object.prototype.toString.call(e).slice(8, -1); if ("Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Yq(e, 4) } }(t) || function () { throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }(), o = i[0], s = i[1], a = i[2], c = i[3]; if ("string" != typeof o) throw TypeError("A text for parsing must be a string."); if (s && "string" != typeof s) { if ("object" !== Vq(s)) throw Error("Invalid second argument: ".concat(s)); a ? (n = s, r = a) : r = s } else c ? (n = a, r = c) : (n = void 0, r = a), s && (n = function (e) { for (var t = 1; t < arguments.length; t++) { var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? Kq(Object(n), !0).forEach((function (t) { var r; r = n[t], t in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Kq(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e }({ defaultCountry: s }, n)); return { text: o, options: n, metadata: r } }(arguments), t = e.text, n = e.options, r = e.metadata, i = function (e, t, n) { var r; t && t.defaultCountry && (r = t.defaultCountry, !n.countries.hasOwnProperty(r)) && (t = Xq(Xq({}, t), {}, { defaultCountry: void 0 })); try { return function (e, t, n) { if (t = t || {}, n = new zz(n), t.defaultCountry && !n.hasCountry(t.defaultCountry)) { if (t.v2) throw new Rz("INVALID_COUNTRY"); throw Error("Unknown country: ".concat(t.defaultCountry)) } var r, i = function (e, t, n) { var r = function (e, t) { var n, r = t.extractFormattedPhoneNumber, i = function (e) { var t = e.indexOf(Wq); if (t < 0) return null; var n = t + 15; if (n >= e.length) return ""; var r = e.indexOf(";", n); return r >= 0 ? e.substring(n, r) : e.substring(n) }(e); if (null !== i && (0 === i.length || !Uq.test(i) && !Fq.test(i))) throw new Rz("NOT_A_NUMBER"); if (null === i) n = r(e) || ""; else { n = "", "+" === i.charAt(0) && (n += i); var o, s = e.indexOf(Bq); o = s >= 0 ? s + 4 : 0; var a = e.indexOf(Wq); n += e.substring(o, a) } var c = n.indexOf(";isub="); if (c > 0 && (n = n.substring(0, c)), "" !== n) return n }(e, { extractFormattedPhoneNumber: function (e) { return function (e, t, n) { if (e) { if (e.length > 250) { if (n) throw new Rz("TOO_LONG"); return } if (!1 === t) return e; var r = e.search(zq); if (!(r < 0)) return e.slice(r).replace(qq, "") } }(e, n, t) } }); if (!r) return {}; if (!(r.length >= 2 && rq.test(r))) return tq.test(r) ? { error: "TOO_SHORT" } : {}; var i = function (e) { var t = e.search(iq); if (t < 0) return {}; for (var n = e.slice(0, t), r = e.match(iq), i = 1; i < r.length;) { if (r[i]) return { number: n, ext: r[i] }; i++ } }(r); return i.ext ? i : { number: r } }(e, t.v2, t.extract), o = i.number, s = i.ext, a = i.error; if (!o) { if (t.v2) { if ("TOO_SHORT" === a) throw new Rz("TOO_SHORT"); throw new Rz("NOT_A_NUMBER") } return {} } var c = function (e, t, n, r) { var i, o = jq(lq(e), t, n, r.metadata), s = o.countryCallingCodeSource, a = o.countryCallingCode, c = o.number; if (a) r.selectNumberingPlan(a); else { if (!c || !t && !n) return {}; r.selectNumberingPlan(t, n), t && (i = t), a = n || Xz(t, r.metadata) } if (!c) return { countryCallingCodeSource: s, countryCallingCode: a }; var l = Oq(lq(c), r), u = l.nationalNumber, d = l.carrierCode, h = Dq(a, { nationalNumber: u, defaultCountry: t, metadata: r }); return h && (i = h, "001" === h || r.country(i)), { country: i, countryCallingCode: a, countryCallingCodeSource: s, nationalNumber: u, carrierCode: d } }(o, t.defaultCountry, t.defaultCallingCode, n), l = c.country, u = c.nationalNumber, d = c.countryCallingCode, h = c.countryCallingCodeSource, f = c.carrierCode; if (!n.hasSelectedNumberingPlan()) { if (t.v2) throw new Rz("INVALID_COUNTRY"); return {} } if (!u || u.length < 2) { if (t.v2) throw new Rz("TOO_SHORT"); return {} } if (u.length > 17) { if (t.v2) throw new Rz("TOO_LONG"); return {} } if (t.v2) { var p = new Iq(d, u, n.metadata); return l && (p.country = l), f && (p.carrierCode = f), s && (p.ext = s), p.__countryCallingCodeSource = h, p } var m = !!(t.extended ? n.hasSelectedNumberingPlan() : l) && hq(u, n.nationalNumberPattern()); return t.extended ? { country: l, countryCallingCode: d, carrierCode: f, valid: m, possible: !!m || !(!0 !== t.extended || !n.possibleLengths() || !dq(u, n)), phone: u, ext: s } : m ? (r = { country: l, phone: u }, s && (r.ext = s), r) : {} }(e, Gq(Gq({}, t), {}, { v2: !0 }), n) } catch (e) { if (!(e instanceof Rz)) throw e } }(t, n = Qq(Qq({}, n), {}, { extract: !1 }), r); return i && i.isPossible() || !1 } var tH = function () { var e; function t(e) { var n = e.onCountryChange, r = e.onCallingCodeChange; !function (e, t) { if (!(e instanceof t)) throw TypeError("Cannot call a class as a function") }(this, t), this.onCountryChange = n, this.onCallingCodeChange = r } return e = [{ key: "reset", value: function (e) { var t = e.country, n = e.callingCode; this.international = !1, this.missingPlus = !1, this.IDDPrefix = void 0, this.callingCode = void 0, this.digits = "", this.resetNationalSignificantNumber(), this.initCountryAndCallingCode(t, n) } }, { key: "resetNationalSignificantNumber", value: function () { this.nationalSignificantNumber = this.getNationalDigits(), this.nationalSignificantNumberMatchesInput = !0, this.nationalPrefix = void 0, this.carrierCode = void 0, this.complexPrefixBeforeNationalSignificantNumber = void 0 } }, { key: "update", value: function (e) { for (var t = 0, n = Object.keys(e); t < n.length; t++) { var r = n[t]; this[r] = e[r] } } }, { key: "initCountryAndCallingCode", value: function (e, t) { this.setCountry(e), this.setCallingCode(t) } }, { key: "setCountry", value: function (e) { this.country = e, this.onCountryChange(e) } }, { key: "setCallingCode", value: function (e) { this.callingCode = e, this.onCallingCodeChange(e, this.country) } }, { key: "startInternationalNumber", value: function (e, t) { this.international = !0, this.initCountryAndCallingCode(e, t) } }, { key: "appendDigits", value: function (e) { this.digits += e } }, { key: "appendNationalSignificantNumberDigits", value: function (e) { this.nationalSignificantNumber += e } }, { key: "getNationalDigits", value: function () { return this.international ? this.digits.slice((this.IDDPrefix ? this.IDDPrefix.length : 0) + (this.callingCode ? this.callingCode.length : 0)) : this.digits } }, { key: "getDigitsWithoutInternationalPrefix", value: function () { return this.international && this.IDDPrefix ? this.digits.slice(this.IDDPrefix.length) : this.digits } }], function (e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } }(t.prototype, e), Object.defineProperty(t, "prototype", { writable: !1 }), t }(); function nH(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = Array(t); n < t; n++)r[n] = e[n]; return r } var rH = /x/; function iH(e, t) { if (t < 1) return ""; for (var n = ""; t > 1;)1 & t && (n += e), t >>= 1, e += e; return n + e } function oH(e, t) { return ")" === e[t] && t++, function (e) { for (var t = [], n = 0; n < e.length;)"(" === e[n] ? t.push(n) : ")" === e[n] && t.pop(), n++; var r = 0, i = ""; t.push(e.length); for (var o = 0; o < t.length; o++) { var s = t[o]; i += e.slice(r, s), r = s + 1 } return i }(e.slice(0, t)) } function sH(e, t, n) { var r = n.metadata, i = n.useNationalPrefixFormattingRule, o = n.getSeparatorAfterNationalPrefix, s = vq(e.nationalSignificantNumber, t, { carrierCode: e.carrierCode, useInternationalFormat: e.international, withNationalPrefix: i, metadata: r }); if (i || (e.nationalPrefix ? s = e.nationalPrefix + o(t) + s : e.complexPrefixBeforeNationalSignificantNumber && (s = e.complexPrefixBeforeNationalSignificantNumber + " " + s)), aq(s) === e.getNationalDigits()) return s } var aH = function () { var e; function t() { !function (e, t) { if (!(e instanceof t)) throw TypeError("Cannot call a class as a function") }(this, t) } return e = [{ key: "parse", value: function (e) { if (this.context = [{ or: !0, instructions: [] }], this.parsePattern(e), 1 !== this.context.length) throw Error("Non-finalized contexts left when pattern parse ended"); var t = this.context[0], n = t.branches, r = t.instructions; if (n) return { op: "|", args: n.concat([uH(r)]) }; if (0 === r.length) throw Error("Pattern is required"); return 1 === r.length ? r[0] : r } }, { key: "startContext", value: function (e) { this.context.push(e) } }, { key: "endContext", value: function () { this.context.pop() } }, { key: "getContext", value: function () { return this.context[this.context.length - 1] } }, { key: "parsePattern", value: function (e) { if (!e) throw Error("Pattern is required"); var t = e.match(lH); if (t) { var n = t[1], r = e.slice(0, t.index), i = e.slice(t.index + n.length); switch (n) { case "(?:": r && this.parsePattern(r), this.startContext({ or: !0, instructions: [], branches: [] }); break; case ")": if (!this.getContext().or) throw Error('")" operator must be preceded by "(?:" operator'); if (r && this.parsePattern(r), 0 === this.getContext().instructions.length) throw Error('No instructions found after "|" operator in an "or" group'); var o = this.getContext().branches; o.push(uH(this.getContext().instructions)), this.endContext(), this.getContext().instructions.push({ op: "|", args: o }); break; case "|": if (!this.getContext().or) throw Error('"|" operator can only be used inside "or" groups'); if (r && this.parsePattern(r), !this.getContext().branches) { if (1 !== this.context.length) throw Error('"branches" not found in an "or" group context'); this.getContext().branches = [] } this.getContext().branches.push(uH(this.getContext().instructions)), this.getContext().instructions = []; break; case "[": r && this.parsePattern(r), this.startContext({ oneOfSet: !0 }); break; case "]": if (!this.getContext().oneOfSet) throw Error('"]" operator must be preceded by "[" operator'); this.endContext(), this.getContext().instructions.push({ op: "[]", args: function (e) { for (var t = [], n = 0; n < e.length;) { if ("-" === e[n]) { if (0 === n || n === e.length - 1) throw Error("Couldn't parse a one-of set pattern: ".concat(e)); for (var r = e[n - 1].charCodeAt(0) + 1, i = e[n + 1].charCodeAt(0) - 1, o = r; o <= i;)t.push(String.fromCharCode(o)), o++ } else t.push(e[n]); n++ } return t }(r) }); break; default: throw Error("Unknown operator: ".concat(n)) }i && this.parsePattern(i) } else { if (cH.test(e)) throw Error("Illegal characters found in a pattern: ".concat(e)); this.getContext().instructions = this.getContext().instructions.concat(e.split("")) } } }], function (e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } }(t.prototype, e), Object.defineProperty(t, "prototype", { writable: !1 }), t }(), cH = /[\(\)\[\]\?\:\|]/, lH = RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])"); function uH(e) { return 1 === e.length ? e[0] : e } function dH(e, t) { var n = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (n) return (n = n.call(e)).next.bind(n); if (Array.isArray(e) || (n = function (e, t) { if (e) { if ("string" == typeof e) return hH(e, void 0); var n = Object.prototype.toString.call(e).slice(8, -1); if ("Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return hH(e, void 0) } }(e)) || t) { n && (e = n); var r = 0; return function () { return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] } } } throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } function hH(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = Array(t); n < t; n++)r[n] = e[n]; return r } var fH = function () { var e; function t(e) { !function (e, t) { if (!(e instanceof t)) throw TypeError("Cannot call a class as a function") }(this, t), this.matchTree = (new aH).parse(e) } return e = [{ key: "match", value: function (e) { var t = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}).allowOverflow; if (!e) throw Error("String is required"); var n = function e(t, n, r) { if ("string" == typeof n) { var i = t.join(""); return 0 === n.indexOf(i) ? t.length === n.length ? { match: !0, matchedChars: t } : { partialMatch: !0 } : 0 === i.indexOf(n) ? r && t.length > n.length ? { overflow: !0 } : { match: !0, matchedChars: t.slice(0, n.length) } : void 0 } if (Array.isArray(n)) { for (var o = t.slice(), s = 0; s < n.length;) { var a = e(o, n[s], r && s === n.length - 1); if (!a) return; if (a.overflow) return a; if (!a.match) { if (a.partialMatch) return { partialMatch: !0 }; throw Error("Unsupported match result:\n".concat(JSON.stringify(a, null, 2))) } if (0 === (o = o.slice(a.matchedChars.length)).length) return s === n.length - 1 ? { match: !0, matchedChars: t } : { partialMatch: !0 }; s++ } return r ? { overflow: !0 } : { match: !0, matchedChars: t.slice(0, t.length - o.length) } } switch (n.op) { case "|": for (var c, l, u = dH(n.args); !(l = u()).done;) { var d = e(t, l.value, r); if (d) { if (d.overflow) return d; if (d.match) return { match: !0, matchedChars: d.matchedChars }; if (!d.partialMatch) throw Error("Unsupported match result:\n".concat(JSON.stringify(d, null, 2))); c = !0 } } return c ? { partialMatch: !0 } : void 0; case "[]": for (var h, f = dH(n.args); !(h = f()).done;) { var p = h.value; if (t[0] === p) return 1 === t.length ? { match: !0, matchedChars: t } : r ? { overflow: !0 } : { match: !0, matchedChars: [p] } } return; default: throw Error("Unsupported instruction tree: ".concat(n)) } }(e.split(""), this.matchTree, !0); if (n && n.match && delete n.matchedChars, !n || !n.overflow || t) return n } }], function (e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } }(t.prototype, e), Object.defineProperty(t, "prototype", { writable: !1 }), t }(); function pH(e, t) { var n = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (n) return (n = n.call(e)).next.bind(n); if (Array.isArray(e) || (n = function (e, t) { if (e) { if ("string" == typeof e) return mH(e, void 0); var n = Object.prototype.toString.call(e).slice(8, -1); if ("Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return mH(e, void 0) } }(e)) || t) { n && (e = n); var r = 0; return function () { return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] } } } throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } function mH(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = Array(t); n < t; n++)r[n] = e[n]; return r } var gH = iH("9", 15), yH = /[- ]/, bH = RegExp("[" + $z + "]*\\$1[" + $z + "]*(\\$\\d[" + $z + "]*)*$"), vH = function () { var e; function t(e) { e.state; var n = e.metadata; !function (e, t) { if (!(e instanceof t)) throw TypeError("Cannot call a class as a function") }(this, t), this.metadata = n, this.resetFormat() } return e = [{ key: "resetFormat", value: function () { this.chosenFormat = void 0, this.template = void 0, this.nationalNumberTemplate = void 0, this.populatedNationalNumberTemplate = void 0, this.populatedNationalNumberTemplatePosition = -1 } }, { key: "reset", value: function (e, t) { this.resetFormat(), e ? (this.isNANP = "1" === e.callingCode(), this.matchingFormats = e.formats(), t.nationalSignificantNumber && this.narrowDownMatchingFormats(t)) : (this.isNANP = void 0, this.matchingFormats = []) } }, { key: "format", value: function (e, t) { var n = this; if ("IS_POSSIBLE" === uq(t.nationalSignificantNumber, this.metadata)) for (var r, i = pH(this.matchingFormats); !(r = i()).done;) { var o = r.value, s = function (e, t, n) { var r = n.metadata, i = n.shouldTryNationalPrefixFormattingRule, o = n.getSeparatorAfterNationalPrefix; if (new RegExp("^(?:".concat(t.pattern(), ")$")).test(e.nationalSignificantNumber)) return function (e, t, n) { var r = n.metadata, i = n.shouldTryNationalPrefixFormattingRule, o = n.getSeparatorAfterNationalPrefix; if (e.nationalSignificantNumber, e.international, e.nationalPrefix, e.carrierCode, i(t)) { var s = sH(e, t, { useNationalPrefixFormattingRule: !0, getSeparatorAfterNationalPrefix: o, metadata: r }); if (s) return s } return sH(e, t, { useNationalPrefixFormattingRule: !1, getSeparatorAfterNationalPrefix: o, metadata: r }) }(e, t, { metadata: r, shouldTryNationalPrefixFormattingRule: i, getSeparatorAfterNationalPrefix: o }) }(t, o, { metadata: this.metadata, shouldTryNationalPrefixFormattingRule: function (e) { return n.shouldTryNationalPrefixFormattingRule(e, { international: t.international, nationalPrefix: t.nationalPrefix }) }, getSeparatorAfterNationalPrefix: function (e) { return n.getSeparatorAfterNationalPrefix(e) } }); if (s) return this.resetFormat(), this.chosenFormat = o, this.setNationalNumberTemplate(s.replace(/\d/g, "x"), t), this.populatedNationalNumberTemplate = s, this.populatedNationalNumberTemplatePosition = this.template.lastIndexOf("x"), s } return this.formatNationalNumberWithNextDigits(e, t) } }, { key: "formatNationalNumberWithNextDigits", value: function (e, t) { var n = this.chosenFormat, r = this.chooseFormat(t); if (r) return r === n ? this.formatNextNationalNumberDigits(e) : this.formatNextNationalNumberDigits(t.getNationalDigits()) } }, { key: "narrowDownMatchingFormats", value: function (e) { var t = this, n = e.nationalSignificantNumber, r = e.nationalPrefix, i = e.international, o = n.length - 3; o < 0 && (o = 0), this.matchingFormats = this.matchingFormats.filter((function (e) { return t.formatSuits(e, i, r) && t.formatMatches(e, n, o) })), this.chosenFormat && -1 === this.matchingFormats.indexOf(this.chosenFormat) && this.resetFormat() } }, { key: "formatSuits", value: function (e, t, n) { return !(n && !e.usesNationalPrefix() && !e.nationalPrefixIsOptionalWhenFormattingInNationalFormat() || !t && !n && e.nationalPrefixIsMandatoryWhenFormattingInNationalFormat()) } }, { key: "formatMatches", value: function (e, t, n) { var r = e.leadingDigitsPatterns().length; if (0 === r) return !0; n = Math.min(n, r - 1); var i = e.leadingDigitsPatterns()[n]; if (t.length < 3) try { return void 0 !== new fH(i).match(t, { allowOverflow: !0 }) } catch (e) { return console.error(e), !0 } return new RegExp("^(".concat(i, ")")).test(t) } }, { key: "getFormatFormat", value: function (e, t) { return t ? e.internationalFormat() : e.format() } }, { key: "chooseFormat", value: function (e) { for (var t, n, r = pH(this.matchingFormats.slice()); !(n = r()).done && "break" != (t = n.value, this.chosenFormat === t ? "break" : bH.test(this.getFormatFormat(t, e.international)) ? this.createTemplateForFormat(t, e) ? (this.chosenFormat = t, "break") : (this.matchingFormats = this.matchingFormats.filter((function (e) { return e !== t })), "continue") : "continue");); return this.chosenFormat || this.resetFormat(), this.chosenFormat } }, { key: "createTemplateForFormat", value: function (e, t) { if (!(e.pattern().indexOf("|") >= 0)) { var n = this.getTemplateForFormat(e, t); return n ? (this.setNationalNumberTemplate(n, t), !0) : void 0 } } }, { key: "getSeparatorAfterNationalPrefix", value: function (e) { return this.isNANP || e && e.nationalPrefixFormattingRule() && yH.test(e.nationalPrefixFormattingRule()) ? " " : "" } }, { key: "getInternationalPrefixBeforeCountryCallingCode", value: function (e, t) { var n = e.IDDPrefix, r = e.missingPlus; return n ? t && !1 === t.spacing ? n : n + " " : r ? "" : "+" } }, { key: "getTemplate", value: function (e) { if (this.template) { for (var t = -1, n = 0, r = e.international ? this.getInternationalPrefixBeforeCountryCallingCode(e, { spacing: !1 }) : ""; n < r.length + e.getDigitsWithoutInternationalPrefix().length;)t = this.template.indexOf("x", t + 1), n++; return oH(this.template, t + 1) } } }, { key: "setNationalNumberTemplate", value: function (e, t) { this.nationalNumberTemplate = e, this.populatedNationalNumberTemplate = e, this.populatedNationalNumberTemplatePosition = -1, t.international ? this.template = this.getInternationalPrefixBeforeCountryCallingCode(t).replace(/[\d\+]/g, "x") + iH("x", t.callingCode.length) + " " + e : this.template = e } }, { key: "getTemplateForFormat", value: function (e, t) { var n = t.nationalSignificantNumber, r = t.international, i = t.nationalPrefix, o = t.complexPrefixBeforeNationalSignificantNumber, s = e.pattern(); s = s.replace(/\[([^\[\]])*\]/g, "\\d").replace(/\d(?=[^,}][^,}])/g, "\\d"); var a = gH.match(s)[0]; if (!(n.length > a.length)) { var c = RegExp("^" + s + "$"), l = n.replace(/\d/g, "9"); c.test(l) && (a = l); var u, d = this.getFormatFormat(e, r); if (this.shouldTryNationalPrefixFormattingRule(e, { international: r, nationalPrefix: i })) { var h = d.replace(bq, e.nationalPrefixFormattingRule()); if (aq(e.nationalPrefixFormattingRule()) === (i || "") + aq("$1") && (d = h, u = !0, i)) for (var f = i.length; f > 0;)d = d.replace(/\d/, "x"), f-- } var p = a.replace(new RegExp(s), d).replace(/9/g, "x"); return u || (o ? p = iH("x", o.length) + " " + p : i && (p = iH("x", i.length) + this.getSeparatorAfterNationalPrefix(e) + p)), r && (p = yq(p)), p } } }, { key: "formatNextNationalNumberDigits", value: function (e) { var t = function (e, t, n) { for (var r, i = function (e, t) { var n = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (n) return (n = n.call(e)).next.bind(n); if (Array.isArray(e) || (n = function (e, t) { if (e) { if ("string" == typeof e) return nH(e, void 0); var n = Object.prototype.toString.call(e).slice(8, -1); if ("Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return nH(e, void 0) } }(e))) { n && (e = n); var r = 0; return function () { return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] } } } throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }(n.split("")); !(r = i()).done;) { var o = r.value; if (0 > e.slice(t + 1).search(rH)) return; t = e.search(rH), e = e.replace(rH, o) } return [e, t] }(this.populatedNationalNumberTemplate, this.populatedNationalNumberTemplatePosition, e); if (t) return this.populatedNationalNumberTemplate = t[0], this.populatedNationalNumberTemplatePosition = t[1], oH(this.populatedNationalNumberTemplate, this.populatedNationalNumberTemplatePosition + 1); this.resetFormat() } }, { key: "shouldTryNationalPrefixFormattingRule", value: function (e, t) { var n = t.international, r = t.nationalPrefix; if (e.nationalPrefixFormattingRule()) { var i = e.usesNationalPrefix(); if (i && r || !i && !n) return !0 } } }], function (e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } }(t.prototype, e), Object.defineProperty(t, "prototype", { writable: !1 }), t }(); function wH(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { var n = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (null != n) { var r, i, o = [], s = !0, a = !1; try { for (n = n.call(e); !(s = (r = n.next()).done) && (o.push(r.value), !t || o.length !== t); s = !0); } catch (e) { a = !0, i = e } finally { try { s || null == n.return || n.return() } finally { if (a) throw i } } return o } }(e, t) || function (e, t) { if (e) { if ("string" == typeof e) return EH(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); if ("Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return EH(e, t) } }(e, t) || function () { throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function EH(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = Array(t); n < t; n++)r[n] = e[n]; return r } var xH = RegExp("^[" + $z + "0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]+$", "i"), _H = "(?:[+\uff0b][" + $z + "0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]*|[" + $z + "0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]+)", CH = RegExp("[^" + $z + "0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]+.*$"), AH = /[^\d\[\]]/, SH = function () { var e; function t(e) { var n = e.defaultCountry, r = e.defaultCallingCode, i = e.metadata, o = e.onNationalSignificantNumberChange; !function (e, t) { if (!(e instanceof t)) throw TypeError("Cannot call a class as a function") }(this, t), this.defaultCountry = n, this.defaultCallingCode = r, this.metadata = i, this.onNationalSignificantNumberChange = o } return e = [{ key: "input", value: function (e, t) { var n, r, i, o, s, a = (i = (r = wH("+" === (n = function (e) { var t, n = e.search(_H); if (!(n < 0)) return "+" === (e = e.slice(n))[0] && (t = !0, e = e.slice(1)), e = e.replace(CH, ""), t && (e = "+" + e), e }(e) || "")[0] ? [n.slice(1), !0] : [n], 2))[0], o = r[1], xH.test(i) || (i = ""), [i, o]), c = wH(a, 2), l = c[0], u = c[1], d = aq(l); return u && (t.digits || (t.startInternationalNumber(), d || (s = !0))), d && this.inputDigits(d, t), { digits: d, justLeadingPlus: s } } }, { key: "inputDigits", value: function (e, t) { var n = t.digits, r = n.length < 3 && n.length + e.length >= 3; if (t.appendDigits(e), r && this.extractIddPrefix(t), this.isWaitingForCountryCallingCode(t)) { if (!this.extractCountryCallingCode(t)) return } else t.appendNationalSignificantNumberDigits(e); t.international || this.hasExtractedNationalSignificantNumber || this.extractNationalSignificantNumber(t.getNationalDigits(), (function (e) { return t.update(e) })) } }, { key: "isWaitingForCountryCallingCode", value: function (e) { var t = e.international, n = e.callingCode; return t && !n } }, { key: "extractCountryCallingCode", value: function (e) { var t = jq("+" + e.getDigitsWithoutInternationalPrefix(), this.defaultCountry, this.defaultCallingCode, this.metadata.metadata), n = t.countryCallingCode, r = t.number; if (n) return e.setCallingCode(n), e.update({ nationalSignificantNumber: r }), !0 } }, { key: "reset", value: function (e) { if (e) { this.hasSelectedNumberingPlan = !0; var t = e._nationalPrefixForParsing(); this.couldPossiblyExtractAnotherNationalSignificantNumber = t && AH.test(t) } else this.hasSelectedNumberingPlan = void 0, this.couldPossiblyExtractAnotherNationalSignificantNumber = void 0 } }, { key: "extractNationalSignificantNumber", value: function (e, t) { if (this.hasSelectedNumberingPlan) { var n = Mq(e, this.metadata), r = n.nationalPrefix, i = n.nationalNumber, o = n.carrierCode; if (i !== e) return this.onExtractedNationalNumber(r, o, i, e, t), !0 } } }, { key: "extractAnotherNationalSignificantNumber", value: function (e, t, n) { if (!this.hasExtractedNationalSignificantNumber) return this.extractNationalSignificantNumber(e, n); if (this.couldPossiblyExtractAnotherNationalSignificantNumber) { var r = Mq(e, this.metadata), i = r.nationalPrefix, o = r.nationalNumber, s = r.carrierCode; if (o !== t) return this.onExtractedNationalNumber(i, s, o, e, n), !0 } } }, { key: "onExtractedNationalNumber", value: function (e, t, n, r, i) { var o, s, a = r.lastIndexOf(n); if (a >= 0 && a === r.length - n.length) { s = !0; var c = r.slice(0, a); c !== e && (o = c) } i({ nationalPrefix: e, carrierCode: t, nationalSignificantNumber: n, nationalSignificantNumberMatchesInput: s, complexPrefixBeforeNationalSignificantNumber: o }), this.hasExtractedNationalSignificantNumber = !0, this.onNationalSignificantNumberChange() } }, { key: "reExtractNationalSignificantNumber", value: function (e) { return !!this.extractAnotherNationalSignificantNumber(e.getNationalDigits(), e.nationalSignificantNumber, (function (t) { return e.update(t) })) || (this.extractIddPrefix(e) || this.fixMissingPlus(e) ? (this.extractCallingCodeAndNationalSignificantNumber(e), !0) : void 0) } }, { key: "extractIddPrefix", value: function (e) { var t = e.international, n = e.IDDPrefix, r = e.digits; if (e.nationalSignificantNumber, !t && !n) { var i = Pq(r, this.defaultCountry, this.defaultCallingCode, this.metadata.metadata); return void 0 !== i && i !== r ? (e.update({ IDDPrefix: r.slice(0, r.length - i.length) }), this.startInternationalNumber(e, { country: void 0, callingCode: void 0 }), !0) : void 0 } } }, { key: "fixMissingPlus", value: function (e) { if (!e.international) { var t = Rq(e.digits, this.defaultCountry, this.defaultCallingCode, this.metadata.metadata), n = t.countryCallingCode; if (t.number, n) return e.update({ missingPlus: !0 }), this.startInternationalNumber(e, { country: e.country, callingCode: n }), !0 } } }, { key: "startInternationalNumber", value: function (e, t) { var n = t.country, r = t.callingCode; e.startInternationalNumber(n, r), e.nationalSignificantNumber && (e.resetNationalSignificantNumber(), this.onNationalSignificantNumberChange(), this.hasExtractedNationalSignificantNumber = void 0) } }, { key: "extractCallingCodeAndNationalSignificantNumber", value: function (e) { this.extractCountryCallingCode(e) && this.extractNationalSignificantNumber(e.getNationalDigits(), (function (t) { return e.update(t) })) } }], function (e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } }(t.prototype, e), Object.defineProperty(t, "prototype", { writable: !1 }), t }(); function kH(e) { return (kH = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function IH(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = Array(t); n < t; n++)r[n] = e[n]; return r } var TH = function () { var e; function t(e, n) { !function (e, t) { if (!(e instanceof t)) throw TypeError("Cannot call a class as a function") }(this, t), this.metadata = new zz(n); var r, i = function (e) { if (Array.isArray(e)) return e }(r = this.getCountryAndCallingCode(e)) || function (e, t) { var n = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (null != n) { var r, i, o = [], s = !0, a = !1; try { for (n = n.call(e); !(s = (r = n.next()).done) && (o.push(r.value), 2 !== o.length); s = !0); } catch (e) { a = !0, i = e } finally { try { s || null == n.return || n.return() } finally { if (a) throw i } } return o } }(r) || function (e, t) { if (e) { if ("string" == typeof e) return IH(e, 2); var n = Object.prototype.toString.call(e).slice(8, -1); if ("Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return IH(e, 2) } }(r) || function () { throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }(), o = i[0], s = i[1]; this.defaultCountry = o, this.defaultCallingCode = s, this.reset() } return e = [{ key: "getCountryAndCallingCode", value: function (e) { var t, n; return e && ("object" === kH(e) ? (t = e.defaultCountry, n = e.defaultCallingCode) : t = e), t && !this.metadata.hasCountry(t) && (t = void 0), [t, n] } }, { key: "input", value: function (e) { var t, n = this.parser.input(e, this.state), r = n.digits; if (n.justLeadingPlus) this.formattedOutput = "+"; else if (r) { if (this.determineTheCountryIfNeeded(), this.state.nationalSignificantNumber && this.formatter.narrowDownMatchingFormats(this.state), this.metadata.hasSelectedNumberingPlan() && (t = this.formatter.format(r, this.state)), void 0 === t && this.parser.reExtractNationalSignificantNumber(this.state)) { this.determineTheCountryIfNeeded(); var i = this.state.getNationalDigits(); i && (t = this.formatter.format(i, this.state)) } this.formattedOutput = t ? this.getFullNumber(t) : this.getNonFormattedNumber() } return this.formattedOutput } }, { key: "reset", value: function () { var e = this; return this.state = new tH({ onCountryChange: function (t) { e.country = t }, onCallingCodeChange: function (t, n) { e.metadata.selectNumberingPlan(n, t), e.formatter.reset(e.metadata.numberingPlan, e.state), e.parser.reset(e.metadata.numberingPlan) } }), this.formatter = new vH({ state: this.state, metadata: this.metadata }), this.parser = new SH({ defaultCountry: this.defaultCountry, defaultCallingCode: this.defaultCallingCode, metadata: this.metadata, state: this.state, onNationalSignificantNumberChange: function () { e.determineTheCountryIfNeeded(), e.formatter.reset(e.metadata.numberingPlan, e.state) } }), this.state.reset({ country: this.defaultCountry, callingCode: this.defaultCallingCode }), this.formattedOutput = "", this } }, { key: "isInternational", value: function () { return this.state.international } }, { key: "getCallingCode", value: function () { if (this.isInternational()) return this.state.callingCode } }, { key: "getCountryCallingCode", value: function () { return this.getCallingCode() } }, { key: "getCountry", value: function () { if (this.state.digits) return this._getCountry() } }, { key: "_getCountry", value: function () { return this.state.country } }, { key: "determineTheCountryIfNeeded", value: function () { this.state.country && !this.isCountryCallingCodeAmbiguous() || this.determineTheCountry() } }, { key: "getFullNumber", value: function (e) { if (this.isInternational()) { var t, n = this.state.callingCode; return t = n ? e ? "".concat(n, " ").concat(e) : n : "".concat(this.state.getDigitsWithoutInternationalPrefix()), this.formatter.getInternationalPrefixBeforeCountryCallingCode(this.state, { spacing: !!t }) + t } return e } }, { key: "getNonFormattedNationalNumberWithPrefix", value: function () { var e = this.state, t = e.nationalSignificantNumber, n = e.complexPrefixBeforeNationalSignificantNumber, r = e.nationalPrefix, i = t, o = n || r; return o && (i = o + i), i } }, { key: "getNonFormattedNumber", value: function () { var e = this.state.nationalSignificantNumberMatchesInput; return this.getFullNumber(e ? this.getNonFormattedNationalNumberWithPrefix() : this.state.getNationalDigits()) } }, { key: "getNonFormattedTemplate", value: function () { var e = this.getNonFormattedNumber(); if (e) return e.replace(/[\+\d]/g, "x") } }, { key: "isCountryCallingCodeAmbiguous", value: function () { var e = this.state.callingCode, t = this.metadata.getCountryCodesForCallingCode(e); return t && t.length > 1 } }, { key: "determineTheCountry", value: function () { this.state.setCountry(Dq(this.isInternational() ? this.state.callingCode : this.defaultCallingCode, { nationalNumber: this.state.nationalSignificantNumber, defaultCountry: this.defaultCountry, metadata: this.metadata })) } }, { key: "getNumberValue", value: function () { var e = this.state, t = e.digits, n = e.callingCode, r = e.country, i = e.nationalSignificantNumber; if (t) return this.isInternational() ? n ? "+" + n + i : "+" + t : r || n ? "+" + (r ? this.metadata.countryCallingCode() : n) + i : void 0 } }, { key: "getNumber", value: function () { var e = this.state, t = e.nationalSignificantNumber, n = e.carrierCode, r = e.callingCode, i = this._getCountry(); if (t && (i || r)) { if (i && i === this.defaultCountry) { var o = new zz(this.metadata.metadata); o.selectNumberingPlan(i); var s = o.numberingPlan.callingCode(), a = this.metadata.getCountryCodesForCallingCode(s); if (a.length > 1) { var c = Lq(t, { countries: a, defaultCountry: this.defaultCountry, metadata: this.metadata.metadata }); c && (i = c) } } var l = new Iq(i || r, t, this.metadata.metadata); return n && (l.carrierCode = n), l } } }, { key: "isPossible", value: function () { var e = this.getNumber(); return !!e && e.isPossible() } }, { key: "isValid", value: function () { var e = this.getNumber(); return !!e && e.isValid() } }, { key: "getNationalNumber", value: function () { return this.state.nationalSignificantNumber } }, { key: "getChars", value: function () { return (this.state.international ? "+" : "") + this.state.digits } }, { key: "getTemplate", value: function () { return this.formatter.getTemplate(this.state) || this.getNonFormattedTemplate() || "" } }], function (e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } }(t.prototype, e), Object.defineProperty(t, "prototype", { writable: !1 }), t }(); function NH(e) { return new zz(e).getCountries() } function PH(e, t, n) { if (t[e]) return new Iq(e, t[e], n) } function MH(e) { return TH.call(this, e, Az) } function OH() { return Sz(Xz, arguments) } MH.prototype = Object.create(TH.prototype, {}), MH.prototype.constructor = MH; let RH = (e, t) => function () { return Sz(eH, arguments) }(String(e), t), jH = (e, t) => `+${OH(t)} ${e}`, $H = e => `*${e.replaceAll("-", "").slice(-4)}`, LH = function () { return Sz(NH, arguments) }().map((e => ({ code: e, callCode: OH(e) }))); const DH = ({ value: e, onChange: t }) => (0, y.jsx)("select", { value: e, onChange: t, children: LH.map((e => (0, y.jsxs)("option", { value: e.code, children: [e.code, " +", e.callCode] }, e.code))) }), UH = (0, Ke.forwardRef)(((e, t) => { let { app: n } = pf(), [r, i] = (0, Ke.useState)(!1), { accountType: o } = kg(), [s, a] = (0, Ke.useState)(""), [c, l] = (0, Ke.useState)(n?.intl.defaultCountry ?? "US"), u = RH(s, c), d = (e => new MH(e))(c), h = (e => { let t = function () { return Sz(PH, arguments) }(e, Cz)?.formatInternational(); return t?.substring(t.indexOf(" ") + 1) })(c), f = OH(c), p = !u, [m, g] = (0, Ke.useState)(!1), b = f.length, v = t => { let n = t.target.value; l(n), a(""), e.onChange && e.onChange({ rawPhoneNumber: s, qualifiedPhoneNumber: jH(s, n), countryCode: n, isValid: RH(s, c) }) }, w = (t, n) => { try { let r = t.replace(/\D/g, "") === s.replace(/\D/g, "") ? t : d.input(t); a(r), e.onChange && e.onChange({ rawPhoneNumber: r, qualifiedPhoneNumber: jH(t, n), countryCode: n, isValid: RH(t, n) }) } catch (t) { console.error("Error processing phone number:", t) } }, E = () => { g(!0); let t = jH(s, c); e.onSubmit({ rawPhoneNumber: s, qualifiedPhoneNumber: t, countryCode: c, isValid: RH(s, c) }).finally((() => g(!1))) }; return (0, Ke.useEffect)((() => { if (e.defaultValue) { let t = (e => { let t = new MH; t.input(e); let n = t.getCountry() || "US", r = t.getCallingCode() || "1"; return { countryCode: n, phone: e.replace("+" + r, "") } })(e.defaultValue); d.reset(), v({ target: { value: t.countryCode } }), w(t.phone, t.countryCode) } }), [e.defaultValue]), (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(FH, { children: (0, y.jsxs)(BH, { $callingCodeLength: b, $stacked: e.stacked, children: [(0, y.jsx)(DH, { value: c, onChange: v }), (0, y.jsx)("input", { ref: t, id: "phone-number-input", className: "login-method-button", type: "tel", placeholder: h, onFocus: () => i(!0), onChange: e => { w(e.target.value, c) }, onKeyUp: e => { "Enter" === e.key && E() }, value: s, autoComplete: "tel" }), "phone" !== o || r || e.hideRecent ? e.stacked || e.noIncludeSubmitButton ? (0, y.jsx)("span", {}) : (0, y.jsx)(Rf, { isSubmitting: m, onClick: E, disabled: p, children: "Submit" }) : (0, y.jsx)(fg, { color: "gray", children: "Recent" })] }) }), e.stacked && !e.noIncludeSubmitButton ? (0, y.jsx)(Sf, { loading: m, loadingText: null, onClick: E, disabled: p, children: "Submit" }) : null] }) })); let FH = oh.div.withConfig({ displayName: "InputContainer", componentId: "sc-2a729487-0" })(["width:100%;"]), BH = oh.label.withConfig({ displayName: "PhoneNumberInput", componentId: "sc-2a729487-1" })(["--country-code-dropdown-width:calc(54px + calc(12 * ", "px));--phone-input-extra-padding-left:calc(12px + calc(3 * ", "px));display:block;position:relative;width:100%;@media (min-width:441px){--country-code-dropdown-width:calc(52px + calc(10 * ", "px));}&& > select{font-size:16px;height:24px;position:absolute;margin:13px calc(var(--country-code-dropdown-width) / 4);line-height:24px;width:var(--country-code-dropdown-width);background-color:var(--privy-color-background);background-size:auto;background-position-x:right;cursor:pointer;@media (min-width:441px){font-size:14px;width:var(--country-code-dropdown-width);}:focus{outline:none;box-shadow:none;}}&& > input{font-size:16px;line-height:24px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - var(--country-code-dropdown-width));padding:12px 88px 12px calc(var(--country-code-dropdown-width) + var(--phone-input-extra-padding-left));padding-right:", ";flex-grow:1;background:var(--privy-color-background);border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-mdlg);width:100%;:focus{outline:none;border-color:var(--privy-color-accent);}:autofill,:-webkit-autofill{background:var(--privy-color-background);}@media (min-width:441px){font-size:14px;padding-right:78px;}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;border-color:var(--privy-color-accent);}}&& > input::placeholder{color:var(--privy-color-foreground-3);}"], (e => e.$callingCodeLength), (e => e.$callingCodeLength), (e => e.$callingCodeLength), (e => e.$stacked ? "16px" : "88px")); const WH = ({ isEditable: e, setIsEditable: t, defaultValue: n }) => { let r = (0, Ke.useRef)(null), { authenticated: i } = (0, mf.b)(), { navigate: o, setModalData: s, currentScreen: a, data: c } = pf(), { initLoginWithSms: l } = (0, af.u)(), { enabled: u, token: d } = Xa(); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(lp, { $if: !e, children: (0, y.jsx)(UH, { ref: r, onSubmit: async function ({ qualifiedPhoneNumber: e }) { if (!u || d || i) try { await l({ phoneNumber: e, captchaToken: d, withPrivyUi: !0, disableSignup: c?.login?.disableSignup }), o(uf.AWAITING_PASSWORDLESS_CODE) } catch (e) { s({ errorModalData: { error: e, previousScreen: a || uf.LANDING } }), o(uf.ERROR_SCREEN) } else s({ captchaModalData: { callback: t => l({ phoneNumber: e, captchaToken: t, withPrivyUi: !0, disableSignup: c?.login?.disableSignup }), userIntentRequired: !1, onSuccessNavigateTo: uf.AWAITING_PASSWORDLESS_CODE, onErrorNavigateTo: uf.ERROR_SCREEN } }), o(uf.CAPTCHA_SCREEN) }, defaultValue: n }) }), (0, y.jsx)(lp, { $if: e, children: (0, y.jsxs)(ap, { onClick: () => { t(), setTimeout((() => { r.current?.focus() }), 0) }, children: [(0, y.jsx)(Am, {}), " Continue with SMS"] }) })] }) }, zH = ({ style: e, ...t }) => (0, y.jsxs)("svg", { version: "1.1", xmlns: "http://www.w3.org/2000/svg", x: "0px", y: "0px", viewBox: "0 0 24 24", style: { height: "24px", ...e }, ...t, children: [(0, y.jsx)("path", { d: "M17.0722 11.6888C17.0471 8.90571 19.3263 7.56847 19.429 7.50274C18.1466 5.60938 16.153 5.35154 15.4417 5.3212C13.7461 5.14678 12.1306 6.32982 11.269 6.32982C10.4074 6.32982 9.08004 5.34648 7.67246 5.37429C5.82158 5.40209 4.11595 6.45874 3.16171 8.13218C1.24068 11.4942 2.6708 16.4817 4.54423 19.2143C5.46091 20.549 6.55041 22.0531 7.98554 21.9975C9.36803 21.9419 9.88905 21.095 11.5571 21.095C13.2251 21.095 13.696 21.9975 15.1537 21.9697C16.6389 21.9393 17.5806 20.6046 18.4897 19.2648C19.5392 17.7153 19.9725 16.2137 19.9975 16.1354C19.965 16.1228 17.1022 15.0155 17.0722 11.6888Z", fill: "currentColor" }), (0, y.jsx)("path", { d: "M14.3295 3.51373C15.0909 2.58347 15.6043 1.28921 15.4641 0C14.3671 0.0455014 13.0396 0.738135 12.2532 1.66838C11.5494 2.48994 10.9307 3.80695 11.0986 5.07089C12.3183 5.16694 13.5681 4.44145 14.3295 3.51373Z", fill: "currentColor" })] }), qH = ({ style: e, ...t }) => (0, y.jsxs)("svg", { version: "1.1", xmlns: "http://www.w3.org/2000/svg", x: "0px", y: "0px", viewBox: "0 0 71 55", style: { height: "24px", ...e }, ...t, children: [(0, y.jsx)("g", { clipPath: "url(#clip0)", children: (0, y.jsx)("path", { d: "M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527 0.41542C45.5603 0.39851 45.468 0.440769 45.4204 0.525289C44.7963 1.6353 44.105 3.0834 43.6209 4.2216C38.1637 3.4046 32.7345 3.4046 27.3892 4.2216C26.905 3.0581 26.1886 1.6353 25.5617 0.525289C25.5141 0.443589 25.4218 0.40133 25.3294 0.41542C20.2584 1.2888 15.4057 2.8186 10.8776 4.8978C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795C1.57795 18.7309 -0.943561 32.1443 0.293408 45.3914C0.299005 45.4562 0.335386 45.5182 0.385761 45.5576C6.45866 50.0174 12.3413 52.7249 18.1147 54.5195C18.2071 54.5477 18.305 54.5139 18.3638 54.4378C19.7295 52.5728 20.9469 50.6063 21.9907 48.5383C22.0523 48.4172 21.9935 48.2735 21.8676 48.2256C19.9366 47.4931 18.0979 46.6 16.3292 45.5858C16.1893 45.5041 16.1781 45.304 16.3068 45.2082C16.679 44.9293 17.0513 44.6391 17.4067 44.3461C17.471 44.2926 17.5606 44.2813 17.6362 44.3151C29.2558 49.6202 41.8354 49.6202 53.3179 44.3151C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433C53.9057 44.6363 54.2779 44.9293 54.6529 45.2082C54.7816 45.304 54.7732 45.5041 54.6333 45.5858C52.8646 46.6197 51.0259 47.4931 49.0921 48.2228C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383C50.038 50.6034 51.2554 52.5699 52.5959 54.435C52.6519 54.5139 52.7526 54.5477 52.845 54.5195C58.6464 52.7249 64.529 50.0174 70.6019 45.5576C70.6551 45.5182 70.6887 45.459 70.6943 45.3942C72.1747 30.0791 68.2147 16.7757 60.1968 4.9823C60.1772 4.9429 60.1437 4.9147 60.1045 4.8978ZM23.7259 37.3253C20.2276 37.3253 17.3451 34.1136 17.3451 30.1693C17.3451 26.225 20.1717 23.0133 23.7259 23.0133C27.308 23.0133 30.1626 26.2532 30.1066 30.1693C30.1066 34.1136 27.28 37.3253 23.7259 37.3253ZM47.3178 37.3253C43.8196 37.3253 40.9371 34.1136 40.9371 30.1693C40.9371 26.225 43.7636 23.0133 47.3178 23.0133C50.9 23.0133 53.7545 26.2532 53.6986 30.1693C53.6986 34.1136 50.9 37.3253 47.3178 37.3253Z", fill: "#5865F2" }) }), (0, y.jsx)("defs", { children: (0, y.jsx)("clipPath", { id: "clip0", children: (0, y.jsx)("rect", { width: "71", height: "55", fill: "white" }) }) })] }), HH = ({ style: e, ...t }) => (0, y.jsx)("svg", { version: "1.1", xmlns: "http://www.w3.org/2000/svg", x: "24", y: "24", viewBox: "0 0 98 96", style: { height: "24px", ...e }, ...t, children: (0, y.jsx)("path", { d: "M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z", fill: "currentColor" }) }), GH = ({ style: e, ...t }) => (0, y.jsxs)("svg", { width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg", style: { height: "26px", width: "26px", ...e }, ...t, children: [(0, y.jsx)("path", { d: "M22.56 12.25C22.56 11.47 22.49 10.72 22.36 10H12V14.255H17.92C17.665 15.63 16.89 16.795 15.725 17.575V20.335H19.28C21.36 18.42 22.56 15.6 22.56 12.25Z", fill: "#4285F4" }), (0, y.jsx)("path", { d: "M12 23C14.97 23 17.46 22.015 19.28 20.335L15.725 17.575C14.74 18.235 13.48 18.625 12 18.625C9.13504 18.625 6.71004 16.69 5.84504 14.09H2.17004V16.94C3.98004 20.535 7.70004 23 12 23Z", fill: "#34A853" }), (0, y.jsx)("path", { d: "M5.845 14.09C5.625 13.43 5.5 12.725 5.5 12C5.5 11.275 5.625 10.57 5.845 9.91V7.06H2.17C1.4 8.59286 0.999321 10.2846 1 12C1 13.775 1.425 15.455 2.17 16.94L5.845 14.09Z", fill: "#FBBC05" }), (0, y.jsx)("path", { d: "M12 5.375C13.615 5.375 15.065 5.93 16.205 7.02L19.36 3.865C17.455 2.09 14.965 1 12 1C7.70004 1 3.98004 3.465 2.17004 7.06L5.84504 9.91C6.71004 7.31 9.13504 5.375 12 5.375Z", fill: "#EA4335" })] }); function VH(e) { return (0, y.jsxs)("svg", { xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", width: 26, height: 26, viewBox: "0 0 140 140", x: "0px", y: "0px", fill: "none", ...e, children: [(0, y.jsxs)("defs", { children: [(0, y.jsxs)("linearGradient", { id: "b", children: [(0, y.jsx)("stop", { offset: "0", stopColor: "#3771c8" }), (0, y.jsx)("stop", { stopColor: "#3771c8", offset: ".128" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#60f", stopOpacity: "0" })] }), (0, y.jsxs)("linearGradient", { id: "a", children: [(0, y.jsx)("stop", { offset: "0", stopColor: "#fd5" }), (0, y.jsx)("stop", { offset: ".1", stopColor: "#fd5" }), (0, y.jsx)("stop", { offset: ".5", stopColor: "#ff543e" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#c837ab" })] }), (0, y.jsx)("radialGradient", { id: "c", cx: "158.429", cy: "578.088", r: "65", xlinkHref: "#a", gradientUnits: "userSpaceOnUse", gradientTransform: "matrix(0 -1.98198 1.8439 0 -1031.402 454.004)", fx: "158.429", fy: "578.088" }), (0, y.jsx)("radialGradient", { id: "d", cx: "147.694", cy: "473.455", r: "65", xlinkHref: "#b", gradientUnits: "userSpaceOnUse", gradientTransform: "matrix(.17394 .86872 -3.5818 .71718 1648.348 -458.493)", fx: "147.694", fy: "473.455" })] }), (0, y.jsx)("path", { fill: "url(#c)", d: "M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z", transform: "translate(1.004 1)" }), (0, y.jsx)("path", { fill: "url(#d)", d: "M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z", transform: "translate(1.004 1)" }), (0, y.jsx)("path", { fill: "#fff", d: "M66.004 18c-13.036 0-14.672.057-19.792.29-5.11.234-8.598 1.043-11.65 2.23-3.157 1.226-5.835 2.866-8.503 5.535-2.67 2.668-4.31 5.346-5.54 8.502-1.19 3.053-2 6.542-2.23 11.65C18.06 51.327 18 52.964 18 66s.058 14.667.29 19.787c.235 5.11 1.044 8.598 2.23 11.65 1.227 3.157 2.867 5.835 5.536 8.503 2.667 2.67 5.345 4.314 8.5 5.54 3.054 1.187 6.543 1.996 11.652 2.23 5.12.233 6.755.29 19.79.29 13.037 0 14.668-.057 19.788-.29 5.11-.234 8.602-1.043 11.656-2.23 3.156-1.226 5.83-2.87 8.497-5.54 2.67-2.668 4.31-5.346 5.54-8.502 1.18-3.053 1.99-6.542 2.23-11.65.23-5.12.29-6.752.29-19.788 0-13.036-.06-14.672-.29-19.792-.24-5.11-1.05-8.598-2.23-11.65-1.23-3.157-2.87-5.835-5.54-8.503-2.67-2.67-5.34-4.31-8.5-5.535-3.06-1.187-6.55-1.996-11.66-2.23-5.12-.233-6.75-.29-19.79-.29zm-4.306 8.65c1.278-.002 2.704 0 4.306 0 12.816 0 14.335.046 19.396.276 4.68.214 7.22.996 8.912 1.653 2.24.87 3.837 1.91 5.516 3.59 1.68 1.68 2.72 3.28 3.592 5.52.657 1.69 1.44 4.23 1.653 8.91.23 5.06.28 6.58.28 19.39s-.05 14.33-.28 19.39c-.214 4.68-.996 7.22-1.653 8.91-.87 2.24-1.912 3.835-3.592 5.514-1.68 1.68-3.275 2.72-5.516 3.59-1.69.66-4.232 1.44-8.912 1.654-5.06.23-6.58.28-19.396.28-12.817 0-14.336-.05-19.396-.28-4.68-.216-7.22-.998-8.913-1.655-2.24-.87-3.84-1.91-5.52-3.59-1.68-1.68-2.72-3.276-3.592-5.517-.657-1.69-1.44-4.23-1.653-8.91-.23-5.06-.276-6.58-.276-19.398s.046-14.33.276-19.39c.214-4.68.996-7.22 1.653-8.912.87-2.24 1.912-3.84 3.592-5.52 1.68-1.68 3.28-2.72 5.52-3.592 1.692-.66 4.233-1.44 8.913-1.655 4.428-.2 6.144-.26 15.09-.27zm29.928 7.97c-3.18 0-5.76 2.577-5.76 5.758 0 3.18 2.58 5.76 5.76 5.76 3.18 0 5.76-2.58 5.76-5.76 0-3.18-2.58-5.76-5.76-5.76zm-25.622 6.73c-13.613 0-24.65 11.037-24.65 24.65 0 13.613 11.037 24.645 24.65 24.645C79.617 90.645 90.65 79.613 90.65 66S79.616 41.35 66.003 41.35zm0 8.65c8.836 0 16 7.163 16 16 0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16z" })] }) } function KH({ style: e, ...t }) { return (0, y.jsx)("svg", { xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", viewBox: "0,0,256,256", style: { height: "26px", width: "26px", ...e }, ...t, children: (0, y.jsx)("g", { fill: "#0077b5", strokeWidth: "1", strokeLinecap: "butt", strokeLinejoin: "miter", strokeMiterlimit: "10", style: { mixBlendMode: "normal" }, children: (0, y.jsx)("g", { transform: "scale(5.12,5.12)", children: (0, y.jsx)("path", { d: "M41,4h-32c-2.76,0 -5,2.24 -5,5v32c0,2.76 2.24,5 5,5h32c2.76,0 5,-2.24 5,-5v-32c0,-2.76 -2.24,-5 -5,-5zM17,20v19h-6v-19zM11,14.47c0,-1.4 1.2,-2.47 3,-2.47c1.8,0 2.93,1.07 3,2.47c0,1.4 -1.12,2.53 -3,2.53c-1.8,0 -3,-1.13 -3,-2.53zM39,39h-6c0,0 0,-9.26 0,-10c0,-2 -1,-4 -3.5,-4.04h-0.08c-2.42,0 -3.42,2.06 -3.42,4.04c0,0.91 0,10 0,10h-6v-19h6v2.56c0,0 1.93,-2.56 5.81,-2.56c3.97,0 7.19,2.73 7.19,8.26z" }) }) }) }) } function YH(e) { return (0, y.jsxs)("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 496 512", ...e, children: [(0, y.jsx)("path", { fill: "#1ed760", d: "M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z" }), (0, y.jsx)("path", { d: "M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z" })] }) } function ZH(e) { return (0, y.jsxs)("svg", { xmlns: "http://www.w3.org/2000/svg", fillRule: "evenodd", clipRule: "evenodd", imageRendering: "optimizeQuality", shapeRendering: "geometricPrecision", textRendering: "geometricPrecision", viewBox: "0 0 293768 333327", width: 24, height: 24, ...e, children: [(0, y.jsx)("path", { fill: "#26f4ee", d: "M204958 0c5369 45832 32829 78170 77253 81022v43471l-287 27V87593c-44424-2850-69965-30183-75333-76015l-47060-1v192819c6791 86790-60835 89368-86703 56462 30342 18977 79608 6642 73766-68039V0h58365zM78515 319644c-26591-5471-50770-21358-64969-44588-34496-56437-3401-148418 96651-157884v54345l-164 27v-40773C17274 145544 7961 245185 33650 286633c9906 15984 26169 27227 44864 33011z" }), (0, y.jsx)("path", { fill: "#fb2c53", d: "M218434 11587c3505 29920 15609 55386 35948 70259-27522-10602-43651-34934-47791-70262l11843 3zm63489 82463c3786 804 7734 1348 11844 1611v51530c-25770 2537-48321-5946-74600-21749l4034 88251c0 28460 106 41467-15166 67648-34260 58734-95927 63376-137628 35401 54529 22502 137077-4810 136916-103049v-96320c26279 15803 48830 24286 74600 21748V94050zm-171890 37247c5390-1122 11048-1985 16998-2548v54345c-21666 3569-35427 10222-41862 22528-20267 38754 5827 69491 35017 74111-33931 5638-73721-28750-49999-74111 6434-12304 18180-18959 39846-22528v-51797zm64479-119719h1808-1808z" }), (0, y.jsx)("path", { d: "M206590 11578c5369 45832 30910 73164 75333 76015v51528c-25770 2539-48321-5945-74600-21748v96320c206 125717-135035 135283-173673 72939-25688-41449-16376-141089 76383-155862v52323c-21666 3569-33412 10224-39846 22528-39762 76035 98926 121273 89342-1225V11577l47060 1z", fill: "#000000" })] }) } const XH = ({ style: e, ...t }) => (0, y.jsx)("svg", { width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg", style: { height: "24px", width: "24px", ...e }, ...t, children: (0, y.jsx)("path", { d: "M 14.285156 10.171875 L 23.222656 0 L 21.105469 0 L 13.34375 8.832031 L 7.148438 0 L 0 0 L 9.371094 13.355469 L 0 24.019531 L 2.117188 24.019531 L 10.308594 14.691406 L 16.851562 24.019531 L 24 24.019531 M 2.878906 1.5625 L 6.132812 1.5625 L 21.101562 22.535156 L 17.851562 22.535156", fill: "currentColor" }) }); let JH = { apple: { logo: (0, y.jsx)(zH, {}), displayName: "Apple" }, discord: { logo: (0, y.jsx)(qH, {}), displayName: "Discord" }, github: { logo: (0, y.jsx)(HH, {}), displayName: "GitHub" }, google: { logo: (0, y.jsx)(GH, {}), displayName: "Google" }, linkedin: { logo: (0, y.jsx)(KH, {}), displayName: "LinkedIn" }, spotify: { logo: (0, y.jsx)(YH, {}), displayName: "Spotify" }, instagram: { logo: (0, y.jsx)(VH, {}), displayName: "Instagram" }, twitter: { logo: (0, y.jsx)(XH, {}), displayName: "Twitter" }, tiktok: { logo: (0, y.jsx)(ZH, {}), displayName: "TikTok" } }; const QH = ({ provider: e }) => { let { enabled: t, token: n } = Xa(), { navigate: r, setModalData: i, data: o } = pf(), [s, a] = (0, Ke.useState)(!1), { initLoginWithOAuth: c } = (0, af.u)(), { accountType: l } = kg(), u = l ? sz(l) : null, { displayName: d, logo: h } = JH[e]; return (0, y.jsxs)(ap, { onClick: () => { a(!0), t && !n ? (i({ captchaModalData: { callback: t => c(e, t, o?.login?.disableSignup), userIntentRequired: !0, onSuccessNavigateTo: null, onErrorNavigateTo: uf.ERROR_SCREEN } }), r(uf.CAPTCHA_SCREEN)) : c(e, void 0, o?.login?.disableSignup) }, disabled: s, children: [h, " ", d, u?.loginMethod === e && (0, y.jsx)(eG, { color: "gray", children: "Recent" })] }) }; let eG = oh(fg).withConfig({ displayName: "StyledChip", componentId: "sc-7d3bb993-0" })(["margin-left:auto;"]); function tG(e) { return (0, y.jsxs)("svg", { xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", viewBox: "0 0 240 240", ...e, children: [(0, y.jsx)("defs", { children: (0, y.jsxs)("linearGradient", { x1: "120", y1: "240", x2: "120", gradientUnits: "userSpaceOnUse", id: "telegram-linear-gradient", children: [(0, y.jsx)("stop", { offset: "0", stopColor: "#1d93d2" }), (0, y.jsx)("stop", { offset: "1", stopColor: "#38b0e3" })] }) }), (0, y.jsx)("title", { children: "Telegram_logo" }), (0, y.jsx)("circle", { cx: "120", cy: "120", r: "120", fill: "url(#telegram-linear-gradient)" }), (0, y.jsx)("path", { d: "M81.229,128.772l14.237,39.406s1.78,3.687,3.686,3.687,30.255-29.492,30.255-29.492l31.525-60.89L81.737,118.6Z", fill: "#c8daea" }), (0, y.jsx)("path", { d: "M100.106,138.878l-2.733,29.046s-1.144,8.9,7.754,0,17.415-15.763,17.415-15.763", fill: "#a9c6d8" }), (0, y.jsx)("path", { d: "M81.486,130.178,52.2,120.636s-3.5-1.42-2.373-4.64c.232-.664.7-1.229,2.1-2.2,6.489-4.523,120.106-45.36,120.106-45.36s3.208-1.081,5.1-.362a2.766,2.766,0,0,1,1.885,2.055,9.357,9.357,0,0,1,.254,2.585c-.009.752-.1,1.449-.169,2.542-.692,11.165-21.4,94.493-21.4,94.493s-1.239,4.876-5.678,5.043A8.13,8.13,0,0,1,146.1,172.5c-8.711-7.493-38.819-27.727-45.472-32.177a1.27,1.27,0,0,1-.546-.9c-.093-.469.417-1.05.417-1.05s52.426-46.6,53.821-51.492c.108-.379-.3-.566-.848-.4-3.482,1.281-63.844,39.4-70.506,43.607A3.21,3.21,0,0,1,81.486,130.178Z", fill: "#fff" })] }) } const nG = () => { let { enabled: e, token: t } = Xa(), { navigate: n, setModalData: r, data: i } = pf(), [o, s] = (0, Ke.useState)(!1), { initLoginWithTelegram: a } = (0, af.u)(), { accountType: c } = kg(); async function l(e) { try { await a(e, i?.login?.disableSignup), r({ telegramAuthModalData: { seamlessAuth: !1 } }), n(uf.TELEGRAM_AUTH_SCREEN) } catch (e) { console.error(e), s(!1) } } return (0, y.jsxs)(ap, { onClick: async function () { if (s(!0), e && !t) return r({ captchaModalData: { callback: l, userIntentRequired: !0, onSuccessNavigateTo: null, onErrorNavigateTo: uf.ERROR_SCREEN } }), void n(uf.CAPTCHA_SCREEN); await l(t) }, disabled: o, children: [(0, y.jsx)(tG, {}), "Telegram", "telegram" === c && (0, y.jsx)(rG, { color: "gray", children: "Recent" })] }) }; let rG = oh(fg).withConfig({ displayName: "StyledChip", componentId: "sc-f716a3a1-0" })(["margin-left:auto;"]); const iG = ({ onClick: e, text: t, icon: n }) => (0, y.jsxs)(ap, { onClick: e, children: [n, (0, y.jsx)(tp, { children: t }), (0, y.jsx)(KW, {})] }), oG = ({ connectOnly: e }) => { let { closePrivyModal: t, connectors: n } = (0, af.u)(), { app: r, onUserCloseViaDialogOrKeybindRef: i, data: o } = pf(), { appearance: { palette: { colorScheme: s } } } = sf(), { accountType: a, walletClientType: c, chainType: l } = kg(), u = a ? sz(a) : null, d = r.loginMethodsAndOrder?.primary ?? [], h = r.loginMethodsAndOrder?.overflow ?? [], f = [...d, ...h], p = r.loginMethods.passkey, m = o?.login, g = []; c && f.includes(c) ? g.push(c) : a && f.includes(u?.loginMethod) && g.push(u?.loginMethod); let [b, v] = (0, Ke.useState)("default"), [w, E] = (0, Ke.useState)("phone" === a ? "sms" : "email"); (0, Ke.useEffect)((() => { "phone" === a && E("sms"); let e = f.indexOf("sms"), t = f.indexOf("email"); e > -1 && e < t && E("sms") }), [a, d, h]); let x = () => { t({ shouldCallAuthOnSuccess: !0 }), setTimeout((() => { v("default") }), 150) }; i.current = x; let _ = t => "email" === t ? (0, y.jsx)(bz, { isEditable: "email" === w, setIsEditable: () => { E("email") }, defaultValue: "email" === m?.prefill?.type ? m.prefill.value : void 0 }, t) : "sms" === t ? (0, y.jsx)(WH, { isEditable: "sms" === w, setIsEditable: () => { E("sms") }, defaultValue: "phone" === m?.prefill?.type ? m.prefill.value : void 0 }, t) : "apple" === t ? (0, y.jsx)(QH, { provider: "apple" }, t) : "discord" === t ? (0, y.jsx)(QH, { provider: "discord" }, t) : "farcaster" === t ? (0, y.jsx)(vz, {}, t) : "github" === t ? (0, y.jsx)(QH, { provider: "github" }, t) : "google" === t ? (0, y.jsx)(QH, { provider: "google" }, t) : "linkedin" === t ? (0, y.jsx)(QH, { provider: "linkedin" }, t) : "spotify" === t ? (0, y.jsx)(QH, { provider: "spotify" }, t) : "instagram" === t ? (0, y.jsx)(QH, { provider: "instagram" }, t) : "tiktok" === t ? (0, y.jsx)(QH, { provider: "tiktok" }, t) : "twitter" === t ? (0, y.jsx)(QH, { provider: "twitter" }, t) : "telegram" === t ? (0, y.jsx)(nG, {}, t) : t.startsWith("privy:") ? (0, y.jsx)(uz, { appId: t.replace("privy:", "") }, t) : Lg({ walletList: r.appearance.walletList, walletChainType: r.appearance.walletChainType, connectors: n, connectOnly: e, ignore: f, walletConnectEnabled: r.externalWallets.walletConnect.enabled, forceWallet: { wallet: t, chainType: l ?? "ethereum" } }), C = g.flatMap(_), A = d.filter((e => e !== c && e !== u?.loginMethod)).flatMap(_), S = h.filter((e => e !== c && e !== u?.loginMethod)).flatMap(_), [k, I] = ((e, t) => { let n = [], r = []; for (let [i, o] of e.entries()) i < t ? n.push(o) : r.push(o); return [n, r] })([...C, ...A, ...S], sG({ primary: A.length + C.length, overflow: S.length })); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { title: r.appearance.landingHeader, onClose: x, backFn: "default" === b ? void 0 : () => { v("default") } }), "default" === b && (0, y.jsx)(aG, {}), "default" === b && ("string" == typeof r.appearance.loginMessage ? (0, y.jsx)(sp, { children: r.appearance.loginMessage }) : r.appearance.loginMessage), (0, y.jsx)(np, { style: { overflow: "hidden" }, children: (0, y.jsxs)(ip, { $colorScheme: s, style: { maxHeight: 400, overflowY: "scroll", padding: 2 }, children: ["default" === b && (0, y.jsxs)(y.Fragment, { children: [k, I.length > 0 && (0, y.jsx)(iG, { text: "More options", icon: (0, y.jsx)(CP, {}), onClick: () => v("overflow") })] }), "overflow" === b && (0, y.jsx)(y.Fragment, { children: I }), p && "default" === b && (0, y.jsx)(Ez, {})] }) }), r && (0, y.jsx)(Ep, { app: r }), (0, y.jsx)(xp, {})] }) }; let sG = ({ primary: e, overflow: t }) => e < 5 ? e : 5 === e && 0 === t ? 5 : 4, aG = oh(cz).withConfig({ displayName: "StyledAppLogoHeader", componentId: "sc-39bad2d4-0" })(["margin-bottom:16px;"]); const cG = ({ ...e }) => (0, y.jsxs)("svg", { xmlns: "http://www.w3.org/2000/svg", width: "25", height: "25", viewBox: "0 0 25 25", fill: "none", ...e, children: [(0, y.jsxs)("g", { clipPath: "url(#clip0_2856_1743)", children: [(0, y.jsx)("path", { d: "M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401", stroke: "currentColor", strokeWidth: "1.5", strokeLinecap: "round", strokeLinejoin: "round" }), (0, y.jsx)("path", { d: "M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z", stroke: "currentColor", strokeWidth: "1.5", strokeLinecap: "round", strokeLinejoin: "round" })] }), (0, y.jsx)("defs", { children: (0, y.jsx)("clipPath", { id: "clip0_2856_1743", children: (0, y.jsx)("rect", { x: "0.5", y: "0.5", width: "24", height: "24", rx: "6", fill: "white" }) }) })] }), lG = ({ connectOnly: e }) => { let { closePrivyModal: t, connectors: n } = (0, af.u)(), { data: r, onUserCloseViaDialogOrKeybindRef: i } = pf(), o = sf(), { accountType: s, walletClientType: a, chainType: c } = kg(), l = s ? sz(s) : null, u = r?.login, { email: d, sms: h, google: f, twitter: p, discord: m, github: g, spotify: b, instagram: v, tiktok: w, linkedin: E, apple: x, wallet: _, farcaster: C, telegram: A } = (0, Ke.useMemo)((() => u?.loginMethods ? ((e, t = !0) => e.reduce(((e, n) => ({ ...e, [n]: t })), {}))(u.loginMethods, !0) : null), [u]) ?? o.loginMethods, { passkey: S } = o.loginMethods, k = [d && "email", h && "sms", f && "google", p && "twitter", m && "discord", g && "github", b && "spotify", v && "instagram", w && "tiktok", E && "linkedin", x && "apple", C && "farcaster", A && "telegram"].filter((e => !!e)), I = k.length > 0, T = (0, Ke.useMemo)((() => _ && !I ? "web3-first" : _ && o?.appearance.loginGroupPriority || "web2-first"), [_, I, o?.appearance.loginGroupPriority]), N = o?.appearance.hideDirectWeb2Inputs, [P, M] = (0, Ke.useState)("default"), [O, R] = (0, Ke.useState)(pG({ mostRecentlyUsedAccountType: s, smsAvailable: h, emailAvailable: d, prefilledType: u?.prefill?.type })); (0, Ke.useEffect)((() => { R(pG({ mostRecentlyUsedAccountType: s, smsAvailable: h, emailAvailable: d, prefilledType: u?.prefill?.type })) }), [d, h, s]); let j = () => { t({ shouldCallAuthOnSuccess: !0 }), setTimeout((() => { M("default") }), 150) }; i.current = j; let $ = []; a && _ ? $.push(a) : l?.loginMethod && k.includes(l.loginMethod) && $.push(l.loginMethod); let L = t => "email" === t ? (0, y.jsx)(bz, { isEditable: "email" === O, setIsEditable: () => { R("email") }, defaultValue: "email" === u?.prefill?.type ? u.prefill.value : void 0 }, t) : "sms" === t ? (0, y.jsx)(WH, { isEditable: "sms" === O, setIsEditable: () => { R("sms") }, defaultValue: "phone" === u?.prefill?.type ? u.prefill.value : void 0 }, t) : "apple" === t ? (0, y.jsx)(QH, { provider: "apple" }, t) : "discord" === t ? (0, y.jsx)(QH, { provider: "discord" }, t) : "farcaster" === t ? (0, y.jsx)(vz, {}, t) : "github" === t ? (0, y.jsx)(QH, { provider: "github" }, t) : "google" === t ? (0, y.jsx)(QH, { provider: "google" }, t) : "linkedin" === t ? (0, y.jsx)(QH, { provider: "linkedin" }, t) : "tiktok" === t ? (0, y.jsx)(QH, { provider: "tiktok" }, t) : "spotify" === t ? (0, y.jsx)(QH, { provider: "spotify" }, t) : "instagram" === t ? (0, y.jsx)(QH, { provider: "instagram" }, t) : "twitter" === t ? (0, y.jsx)(QH, { provider: "twitter" }, t) : "telegram" === t ? (0, y.jsx)(nG, {}, t) : Lg({ walletList: o.appearance.walletList, walletChainType: o.appearance.walletChainType, connectors: n, connectOnly: e, ignore: [], walletConnectEnabled: o.externalWallets.walletConnect.enabled, forceWallet: { wallet: t, chainType: c ?? "ethereum" } }), D = Lg({ walletList: o.appearance.walletList.filter((e => e !== a)), walletChainType: o.appearance.walletChainType, connectors: n, connectOnly: e, ignore: [...o.appearance.walletList, a], recentlyUsedWallet: a, walletConnectEnabled: o.externalWallets.walletConnect.enabled }), U = k.filter((e => e !== l?.loginMethod)).flatMap(L), F = $.flatMap(L); "web3-first" === T && "default" === P ? D.unshift(...F) : "web2-first" === T && U.unshift(...F); let B = k.filter((e => "email" !== e && "sms" !== e)), W = dG({ priority: T, email: d, sms: h, social: B }), z = hG({ priority: T, email: d, sms: h, social: B }), q = (0, y.jsx)(YW, { text: fG({ priority: T }), onClick: () => M("web3-overflow") }), H = (0, y.jsx)(iG, { text: W, icon: z, onClick: () => M("web2-overflow") }), G = N ? 0 : 1, V = _ && D.length > 0, K = 0 === U.length && _ && 0 === D.length, Y = 5 - (V ? 1 : 0), Z = D.length > 0 ? D : (0, y.jsx)(lg, { chainType: o.appearance.walletChainType, withPadding: !0 }); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { title: o.appearance.landingHeader, onClose: j, backFn: "default" === P ? void 0 : () => { M("default") } }), "default" === P && (0, y.jsx)(uG, {}), "default" === P && ("string" == typeof o.appearance.loginMessage ? (0, y.jsx)(sp, { children: o.appearance.loginMessage }) : o.appearance.loginMessage), (0, y.jsx)(np, { style: { overflow: "hidden", padding: 2 }, children: (0, y.jsxs)(rp, { children: ["default" === P && "web2-first" === T && (0, y.jsxs)(y.Fragment, { children: [U.length > Y ? U.slice(0, Y - 1) : U, U.length > Y && H, V && q, K && (0, y.jsx)(lg, { chainType: o.appearance.walletChainType })] }), "default" === P && "web3-first" === T && (0, y.jsxs)(y.Fragment, { children: [_ && (0, y.jsxs)(y.Fragment, { children: [D.length > Y ? D.slice(0, Y - 1) : D, D.length > Y && q] }), U.length > G && H, U.length === G && U[0], K && (0, y.jsx)(lg, { chainType: o.appearance.walletChainType })] }), "web2-overflow" === P && (0, y.jsx)(y.Fragment, { children: "web3-first" === T ? U : U.slice(3) }), "web3-overflow" === P ? Z : [], S && "default" === P && (0, y.jsx)(Ez, {})] }) }), o && (0, y.jsx)(Ep, { app: o }), (0, y.jsx)(xp, {})] }) }; let uG = oh(cz).withConfig({ displayName: "StyledAppLogoHeader", componentId: "sc-94645e92-0" })(["margin-bottom:16px;"]), dG = ({ priority: e, email: t, sms: n, social: r }) => "web2-first" === e ? "Other socials" : t && n && r.length > 0 || t && r.length > 0 ? "Log in with email or socials" : n && r.length > 0 ? "Log in with sms or socials" : t && n ? "Continue with email or sms" : t ? "Continue with email" : n ? "Continue with sms" : "Log in with a social account", hG = ({ priority: e, email: t, sms: n, social: r }) => "web2-first" === e || r.length > 0 ? (0, y.jsx)(CP, {}) : t && n ? (0, y.jsx)(cG, {}) : t ? (0, y.jsx)(_m, {}) : n ? (0, y.jsx)(Am, {}) : null, fG = ({ priority: e }) => "web2-first" === e ? "Continue with a wallet" : "Other wallets", pG = ({ mostRecentlyUsedAccountType: e, smsAvailable: t, emailAvailable: n, prefilledType: r }) => n && ("email" === e && "phone" !== r || "email" === r) || !t || "phone" !== e && "phone" !== r ? "email" : "sms"; const mG = ({ style: e, ...t }) => (0, y.jsxs)("svg", { width: "164", height: "164", viewBox: "0 0 164 164", fill: "none", xmlns: "http://www.w3.org/2000/svg", style: { height: "26px", width: "26px", ...e }, ...t, children: [(0, y.jsx)("circle", { cx: "82", cy: "82", r: "80", stroke: "#EC6351", "stroke-width": "4", "stroke-linecap": "round" }), (0, y.jsx)("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M81.9999 100.788C93.3288 100.788 102.513 91.6043 102.513 80.2754C102.513 68.9465 93.3288 59.7626 81.9999 59.7626C70.671 59.7626 61.4871 68.9465 61.4871 80.2754C61.4871 91.6043 70.671 100.788 81.9999 100.788ZM88.3236 71.8304C88.9093 71.2446 89.8591 71.2446 90.4449 71.8304C91.0307 72.4161 91.0307 73.3659 90.4449 73.9517L84.121 80.2756L90.445 86.5996C91.0308 87.1854 91.0308 88.1351 90.445 88.7209C89.8592 89.3067 88.9095 89.3067 88.3237 88.7209L81.9997 82.3969L75.6756 88.7209C75.0899 89.3067 74.1401 89.3067 73.5543 88.7209C72.9685 88.1351 72.9685 87.1854 73.5543 86.5996L79.8783 80.2756L73.5544 73.9517C72.9686 73.3659 72.9686 72.4161 73.5544 71.8304C74.1402 71.2446 75.09 71.2446 75.6758 71.8304L81.9997 78.1543L88.3236 71.8304Z", fill: "#EC6351" })] }); function gG({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z" })) } var yG = Ke.forwardRef(gG); function bG({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 24 24", fill: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { fillRule: "evenodd", d: "M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z", clipRule: "evenodd" })) } var vG = Ke.forwardRef(bG); function wG() { let { promptMfa: e, init: t, submit: n, cancel: r, mfaMethods: i } = (0, Ke.useContext)(mf.N); return { promptMfa: e, init: t, submit: n, cancel: r, mfaMethods: i } } function EG() { let { initEnrollmentWithSms: e, initEnrollmentWithTotp: t, initEnrollmentWithPasskey: n, submitEnrollmentWithSms: r, submitEnrollmentWithTotp: i, submitEnrollmentWithPasskey: o, unenroll: s, enrollInMfa: a } = (0, Ke.useContext)(mf.N); return { initEnrollmentWithSms: e, initEnrollmentWithTotp: t, initEnrollmentWithPasskey: n, submitEnrollmentWithSms: r, submitEnrollmentWithTotp: i, submitEnrollmentWithPasskey: o, unenrollWithSms: () => s("sms"), unenrollWithTotp: () => s("totp"), unenrollWithPasskey: () => s("passkey"), showMfaEnrollmentModal: () => a(!0), closeMfaEnrollmentModal: () => a(!1) } } const xG = e => (0, y.jsxs)(_G, { xmlns: "http://www.w3.org/2000/svg", fill: "none", width: "88", height: "89", viewBox: "0 0 88 89", ...e, children: [(0, y.jsx)("rect", { y: "0.666016", width: "88", height: "88", rx: "44" }), (0, y.jsx)("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M45.2463 20.9106C44.5473 20.2486 43.4527 20.2486 42.7537 20.9106C37.8798 25.5263 31.3034 28.3546 24.0625 28.3546C23.9473 28.3546 23.8323 28.3539 23.7174 28.3525C22.9263 28.3427 22.2202 28.8471 21.9731 29.5987C20.9761 32.6311 20.4375 35.8693 20.4375 39.2297C20.4375 53.5896 30.259 65.651 43.5482 69.0714C43.8446 69.1477 44.1554 69.1477 44.4518 69.0714C57.741 65.651 67.5625 53.5896 67.5625 39.2297C67.5625 35.8693 67.0239 32.6311 66.0269 29.5987C65.7798 28.8471 65.0737 28.3427 64.2826 28.3525C64.1677 28.3539 64.0527 28.3546 63.9375 28.3546C56.6966 28.3546 50.1202 25.5263 45.2463 20.9106ZM52.7249 40.2829C53.3067 39.4683 53.1181 38.3363 52.3035 37.7545C51.4889 37.1726 50.3569 37.3613 49.7751 38.1759L41.9562 49.1223L38.0316 45.1977C37.3238 44.4899 36.1762 44.4899 35.4684 45.1977C34.7605 45.9056 34.7605 47.0532 35.4684 47.761L40.9059 53.1985C41.2826 53.5752 41.806 53.7671 42.337 53.7232C42.868 53.6792 43.3527 53.4039 43.6624 52.9704L52.7249 40.2829Z" })] }); let _G = oh.svg.withConfig({ displayName: "StyledSvg", componentId: "sc-59fa943f-0" })(["height:90px;width:90px;> rect{", "}> path{fill:white;}"], (e => "success" === e.color ? "fill: var(--privy-color-success);" : "fill: var(--privy-color-accent);")); function CG({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3" })) } var AG = Ke.forwardRef(CG); function SG({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33" })) } var kG = Ke.forwardRef(SG); function IG({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" })) } var TG = Ke.forwardRef(IG); const NG = ({ showIntro: e, userMfaMethods: t, appMfaMethods: n, userHasAuthSms: r, isTotpLoading: i, isPasskeyLoading: o, error: s, onClose: a, onBackToIntro: c, handleSelectMethod: l, setRemovingMfaMethod: u }) => { let d = t.reduce(((e, t) => ({ ...e, [t]: !0 })), {}), h = n.reduce(((e, t) => ({ ...e, [t]: !0 })), {}); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { backFn: e ? c : void 0, onClose: a }, "header"), (0, y.jsx)(fm, { style: { marginBottom: "1.5rem" }, children: (0, y.jsx)(yG, {}) }), (0, y.jsx)(Jp, { children: "Choose a verification method" }), t.length > 0 ? (0, y.jsx)(Qp, { children: "To add or delete verification methods, verification is required." }) : (0, y.jsx)(Qp, { children: "How would you like to verify your identity? You can change this later." }), s && (0, y.jsx)(pm, { style: { marginTop: "1.25rem" }, children: s.message }), (0, y.jsxs)(om, { children: [(h.totp || d.totp) && (0, y.jsxs)(sm, { children: [(0, y.jsx)(ap, { style: { justifyContent: "center" }, disabled: d.totp || i, onClick: () => l("totp"), children: i ? (0, y.jsx)(Ef, { style: { height: 24, width: 24, borderWidth: 2 }, color: "var(--privy-color-foreground-3)" }) : (0, y.jsxs)(um, { children: [(0, y.jsxs)(cm, { children: [(0, y.jsx)(AG, {}), "Authenticator app"] }), d.totp ? (0, y.jsx)(PG, { color: "green", children: "Enabled" }) : (0, y.jsx)(lm, { children: "Recommended" })] }) }), d.totp && (0, y.jsx)(am, { style: { position: "absolute", right: 0 }, onClick: () => u("totp"), children: (0, y.jsx)(TG, {}) })] }, "totp"), (h.sms || d.sms) && (0, y.jsxs)(sm, { children: [(0, y.jsx)(ap, { disabled: d.sms || r, onClick: () => l("sms"), children: (0, y.jsxs)(um, { children: [(0, y.jsxs)(cm, { children: [(0, y.jsx)(Am, {}), "SMS"] }), d.sms && (0, y.jsx)(PG, { color: "green", children: "Enabled" }), r && (0, y.jsx)(lm, { children: "Disabled" })] }) }), d.sms && (0, y.jsx)(am, { style: { position: "absolute", right: 0 }, onClick: () => u("sms"), children: (0, y.jsx)(TG, {}) })] }, "sms"), (h.passkey || d.passkey) && (0, y.jsxs)(sm, { children: [(0, y.jsx)(ap, { style: { justifyContent: "center" }, onClick: () => l("passkey"), disabled: d.passkey || o, children: o ? (0, y.jsx)(Ef, { style: { height: 24, width: 24, borderWidth: 2 }, color: "var(--privy-color-foreground-3)" }) : (0, y.jsxs)(um, { children: [(0, y.jsxs)(cm, { children: [(0, y.jsx)(kG, {}), "Passkey"] }), d.passkey ? (0, y.jsx)(PG, { color: "green", children: "Enabled" }) : (0, y.jsx)(lm, { isAccent: !0, children: (0, y.jsx)(KW, {}) })] }) }), d.passkey && (0, y.jsx)(am, { style: { position: "absolute", right: 0 }, onClick: () => u("passkey"), children: (0, y.jsx)(TG, {}) })] }, "passkey")] }), (0, y.jsx)(_p, {})] }) }; let PG = oh(fg).withConfig({ displayName: "StyledChip", componentId: "sc-998ca5bc-0" })(["margin-right:1.5rem;"]); function MG({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25" })) } var OG = Ke.forwardRef(MG); const RG = ({ onComplete: e, onClose: t, onReset: n }) => { let { user: r } = (0, mf.b)(), { data: i } = pf(), { initLinkWithPasskey: o, linkWithPasskey: s } = (0, af.u)(), { initEnrollmentWithPasskey: a, submitEnrollmentWithPasskey: c } = EG(), [l, u] = (0, Ke.useState)(!1), [d, h] = (0, Ke.useState)(!1), [f, p] = (0, Ke.useState)(!1), [m, g] = (0, Ke.useState)(null), b = (0, Ke.useMemo)((() => r?.linkedAccounts.filter((e => "passkey" === e.type)) ?? []), [r]), v = () => { i?.mfaEnrollmentFlow?.onSuccess(), e() }, w = async e => { u(!0); try { await a(), await c({ credentialIds: e }), p(!0) } catch (e) { g(e) } finally { u(!1) } }, E = async () => { h(!0), g(null); try { await o(); let e = (await s())?.linkedAccounts.filter((e => "passkey" === e.type)).map((e => e.credentialId)) ?? []; await w(e) } catch (e) { g(e) } finally { h(!1) } }; return 0 === b.length || d ? (0, y.jsx)(jG, { onReset: n, onClose: t, onClick: E, isCreating: d }) : f ? (0, y.jsx)(LG, { onClick: v, onClose: v }) : m ? (0, y.jsx)(kP, { error: m, backFn: () => g(null), onClick: () => g(null) }) : (0, y.jsx)($G, { passkeys: b, isSubmitting: l, isCreating: d, onReset: n, onClose: t, onSubmitEnrollment: () => w(b.map((e => e.credentialId))), onAddPasskey: E }) }; let jG = ({ onReset: e, onClose: t, onClick: n, isCreating: r }) => (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { backFn: e, onClose: t }, "header"), (0, y.jsx)(Xp, { children: (0, y.jsxs)(jB, { children: [(0, y.jsx)(PB, {}), (0, y.jsx)(MB, {})] }) }), (0, y.jsx)(Jp, { children: "Set up passkey verification" }), (0, y.jsxs)(tm, { children: [(0, y.jsxs)(rm, { children: [(0, y.jsx)(nm, { children: (0, y.jsx)(yG, {}) }), "Verify with Touch ID, Face ID, PIN, or hardware key"] }), (0, y.jsxs)(rm, { children: [(0, y.jsx)(nm, { children: (0, y.jsx)(SB, {}) }), "Takes seconds to set up and use"] }), (0, y.jsxs)(rm, { children: [(0, y.jsx)(nm, { children: (0, y.jsx)(OG, {}) }), "Use your passkey to verify transactions and login to your account"] })] }), (0, y.jsx)(Sf, { style: { marginTop: "2.25rem" }, onClick: n, loading: r, children: "Add a new passkey" }), (0, y.jsx)(_p, {})] }), $G = ({ onReset: e, onClose: t, onAddPasskey: n, onSubmitEnrollment: r, passkeys: i, isSubmitting: o, isCreating: s }) => { let [a, c] = (0, Ke.useState)(!1), l = a ? i.length : i.length > 3 ? 2 : 3; return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { backFn: a ? () => c(!1) : e, onClose: t }, "header"), !a && (0, y.jsx)(Xp, { children: (0, y.jsxs)(jB, { children: [(0, y.jsx)(PB, {}), (0, y.jsx)(MB, {})] }) }), (0, y.jsx)(Jp, { children: "Enable your passkeys for verification" }), (0, y.jsxs)(tm, { children: [i.slice(0, l).map((e => (0, y.jsxs)(DG, { children: [(0, y.jsx)(UG, { children: BG(e) }), (0, y.jsxs)(FG, { children: ["Last used: ", e.latestVerifiedAt?.toLocaleString()] })] }, e.credentialId))), !a && i.length > 3 && (0, y.jsx)(WG, { onClick: () => c(!0), children: "View All" })] }), (0, y.jsx)(Sf, { style: { marginTop: "1.5rem" }, onClick: r, loading: o, children: "Enable passkeys" }), i.length < 5 && (0, y.jsx)(WG, { style: { marginTop: "0.5rem" }, onClick: n, disabled: s, children: s ? (0, y.jsx)(Ef, { style: { height: "1rem", width: "1rem", borderWidth: 2 } }) : "Add new passkey" }), (0, y.jsx)(_p, {})] }) }, LG = ({ onClick: e, onClose: t }) => (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: t }, "header"), (0, y.jsx)(fm, { style: { marginBottom: "1.5rem" }, children: (0, y.jsx)(ET, {}) }), (0, y.jsx)(Jp, { children: "Passkey verification added" }), (0, y.jsx)(Qp, { children: "From now on, you'll use the passkey whenever you use your Privy wallet." }), (0, y.jsx)(im, { children: (0, y.jsx)(Sf, { onClick: e, children: "Done" }) }), (0, y.jsx)(_p, {})] }), DG = oh.div.withConfig({ displayName: "PasskeyItem", componentId: "sc-926c6706-0" })(["&&{padding:0.75rem 1rem;text-align:left;border-radius:0.5rem;border:1px solid var(--privy-color-foreground-4);width:100%;}"]), UG = oh.div.withConfig({ displayName: "PasskeyItemTitle", componentId: "sc-926c6706-1" })(["font-size:0.875rem;line-height:1.375rem;font-weight:500;color:var(--privy-color-foreground-1);"]), FG = oh.div.withConfig({ displayName: "PasskeyItemSubtitle", componentId: "sc-926c6706-2" })(["font-size:0.75rem;font-weight:400;line-height:1.125rem;color:var(--privy-color-foreground-2);"]), BG = e => e.authenticatorName ? e.createdWithBrowser ? `${e.authenticatorName} on ${e.createdWithBrowser}` : e.authenticatorName : e.createdWithBrowser ? e.createdWithOs ? `${e.createdWithBrowser} on ${e.createdWithOs}` : `${e.createdWithBrowser}` : "Unknown device"; const WG = oh.button.withConfig({ displayName: "StyledLink", componentId: "sc-926c6706-3" })(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:0.75rem 1rem;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent);:focus{outline:none;box-shadow:none;}}"]); let zG = Array(6).fill(""); var qG, HG = ((qG = HG || {})[qG.RESET_AFTER_DELAY = 0] = "RESET_AFTER_DELAY", qG[qG.CLEAR_ON_NEXT_VALID_INPUT = 1] = "CLEAR_ON_NEXT_VALID_INPUT", qG); function GG(e) { return /^[0-9]{1}$/.test(e) } function VG(e) { return 6 === e.length && e.every(GG) } const KG = ({ onChange: e, disabled: t, errorReasonOverride: n, success: r }) => { let [i, o] = (0, Ke.useState)(zG), [s, a] = (0, Ke.useState)(null), [c, l] = (0, Ke.useState)(null), u = async t => { t.preventDefault(); let n = t.currentTarget.value.replace(/\s+/g, ""); if ("" === n) return; let r = i.reduce(((e, t) => e + Number(GG(t))), 0), s = n.split(""), c = !s.every(GG), u = s.length + r > 6; if (c) return a("Passcode can only be numbers"), void l(1); if (u) return a("Passcode must be exactly 6 numbers"), void l(1); a(null), l(null); let d = Number(t.currentTarget.name?.charAt(4)), h = [...n || [""]].slice(0, 6 - d), f = [...i.slice(0, d), ...h, ...i.slice(d + h.length)]; o(f); let p = Math.min(Math.max(d + h.length, 0), 5); if (document.querySelector(`input[name=pin-${p}]`)?.focus(), VG(f)) try { await e(f.join("")), document.querySelector(`input[name=pin-${p}]`)?.blur() } catch (t) { l(1), a(t.message) } else try { await e(null) } catch (t) { l(1), a(t.message) } }, d = r ? "success" : n || s ? "fail" : ""; return (0, y.jsx)(y.Fragment, { children: (0, y.jsxs)(YG, { children: [(0, y.jsx)("div", { children: i.map(((n, r) => (0, y.jsx)("input", { name: `pin-${r}`, type: "text", value: i[r], onChange: u, onKeyUp: t => { "Backspace" === t.key && (t => { 1 === c && (a(null), l(null)); let n = [...i.slice(0, t), "", ...i.slice(t + 1)]; if (o(n), t > 0) { document.querySelector(`input[name=pin-${t - 1}]`)?.focus() } VG(n) ? e(n.join("")) : e(null) })(r) }, inputMode: "numeric", autoFocus: 0 === r, pattern: "[0-9]", className: d, autoComplete: ys.tq ? "one-time-code" : "off", disabled: t }, r))) }), (0, y.jsx)("div", { children: (0, y.jsx)(ZG, { $fail: !!n || !!s, children: n || s }) })] }) }) }; let YG = oh.div.withConfig({ displayName: "PinInputContainer", componentId: "sc-7a171f6-0" })(["display:flex;flex-direction:column;width:100%;gap:8px;@media (max-width:440px){margin-top:8px;margin-bottom:8px;}> div:nth-child(1){display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:disabled{background:var(--privy-color-background-2);}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]), ZG = oh.div.withConfig({ displayName: "InputHelp", componentId: "sc-7a171f6-1" })(["line-height:20px;font-size:13px;display:flex;justify-content:flex-start;width:100%;color:", ";"], (e => e.$fail ? "var(--privy-color-error)" : "var(--privy-color-foreground-3)")); const XG = ({ onComplete: e, onReset: t, onClose: n }) => { let [r, i] = (0, Ke.useState)(""), [o, s] = (0, Ke.useState)(!1), [a, c] = (0, Ke.useState)(null), [l, u] = (0, Ke.useState)("enroll"), { initEnrollmentWithSms: d, submitEnrollmentWithSms: h } = EG(), { app: f, data: p } = pf(); function m() { p?.mfaEnrollmentFlow?.onSuccess(), e() } return a ? (0, y.jsx)(kP, { error: a, backFn: () => c(null), onClick: () => c(null) }) : (0, y.jsxs)(y.Fragment, "enroll" === l ? { children: [(0, y.jsx)(Vf, { backFn: t, onClose: n }, "header"), (0, y.jsx)(fm, { style: { marginBottom: "1.5rem" }, children: (0, y.jsx)(Am, {}) }), (0, y.jsx)(Jp, { children: "Set up SMS verification" }), (0, y.jsx)(Qp, { children: "We'll text a verification code to this mobile device whenever you use your Privy wallet." }), (0, y.jsxs)(em, { children: [(0, y.jsx)(UH, { onSubmit: async function ({ qualifiedPhoneNumber: e }) { try { await d({ phoneNumber: e }), i(e), u("verify") } catch (e) { c(e) } }, hideRecent: !0 }), (0, y.jsxs)(dm, { children: ["By providing your mobile number, you agree to receive text messages from ", f?.name, ". Some carrier charges may apply"] })] }), (0, y.jsx)(_p, {})] } : o ? { children: [(0, y.jsx)(Vf, { onClose: m }, "header"), (0, y.jsx)(fm, { style: { marginBottom: "1.5rem" }, children: (0, y.jsx)(ET, {}) }), (0, y.jsx)(Jp, { children: "SMS verification added" }), (0, y.jsx)(Qp, { children: "From now on, you'll enter the verification code sent to your mobile device whenever you use your Privy wallet." }), (0, y.jsx)(im, { children: (0, y.jsx)(Sf, { onClick: m, children: "Done" }) }), (0, y.jsx)(_p, {})] } : { children: [(0, y.jsx)(Vf, { backFn: function () { "verify" === l ? u("enroll") : t() }, onClose: n }, "header"), (0, y.jsx)(fm, { style: { marginBottom: "1.5rem" }, children: (0, y.jsx)(Am, {}) }), (0, y.jsx)(Jp, { children: "Enter enrollment code" }), (0, y.jsxs)(em, { children: [(0, y.jsx)(KG, { onChange: async function (e) { try { if (!e) return; await h({ phoneNumber: r, mfaCode: e }), s(!0) } catch (e) { if (zT(e)) throw Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."); if (WT(e)) throw Error("The code you entered is not valid"); if (BT(e)) throw Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."); throw qT(e) ? Error("Verification canceled") : Error("Unknown error") } } }), (0, y.jsxs)(Qp, { children: ["To continue, enter the 6-digit code sent to ", (0, y.jsx)("strong", { children: $H(r) })] })] }), (0, y.jsx)(_p, {})] }) }; function JG({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 24 24", fill: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { fillRule: "evenodd", d: "M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z", clipRule: "evenodd" })) } var QG = Ke.forwardRef(JG); const eV = ({ size: e, authUrl: t }) => (0, y.jsx)(HP, { url: t, squareLogoElement: QG, size: e, fgColor: "#1F1F1F" }), tV = ({ onComplete: e, onClose: t, onReset: n, totpInfo: r }) => { let [i, o] = (0, Ke.useState)("enroll"), [s, a] = (0, Ke.useState)(!1), { submitEnrollmentWithTotp: c } = EG(), { data: l } = pf(); function u() { l?.mfaEnrollmentFlow?.onSuccess(), e() } return (0, y.jsxs)(y.Fragment, "enroll" === i ? { children: [(0, y.jsx)(Vf, { backFn: n, onClose: t }, "header"), (0, y.jsx)(Jp, { children: "Scan QR code" }), (0, y.jsx)(Qp, { children: "Open your authenticator app and scan the QR code to continue." }), (0, y.jsx)(Tm, { children: (0, y.jsx)(eV, { authUrl: r.authUrl, size: 200 }) }), (0, y.jsxs)(im, { children: [(0, y.jsx)(km, { children: (0, y.jsx)(MP, { itemName: "secret", text: r.secret }) }), (0, y.jsx)(Sf, { onClick: function () { o("verify") }, children: "Continue" })] }), (0, y.jsx)(_p, {})] } : s ? { children: [(0, y.jsx)(Vf, { onClose: u }, "header"), (0, y.jsx)(fm, { style: { marginBottom: "1.5rem" }, children: (0, y.jsx)(ET, {}) }), (0, y.jsx)(Jp, { children: "Authenticator app verification added" }), (0, y.jsx)(Qp, { children: "From now on, you'll enter the verification code generated by your authenticator app whenever you use your Privy wallet." }), (0, y.jsx)(im, { children: (0, y.jsx)(Sf, { onClick: u, children: "Done" }) }), (0, y.jsx)(_p, {})] } : { children: [(0, y.jsx)(Vf, { backFn: function () { "verify" === i ? o("enroll") : n() }, onClose: t }, "header"), (0, y.jsx)(fm, { style: { marginBottom: "1.5rem" }, children: (0, y.jsx)(AG, {}) }), (0, y.jsx)(Jp, { children: "Enter enrollment code" }), (0, y.jsx)(em, { children: (0, y.jsx)(KG, { onChange: async function (e) { try { if (!e) return; await c({ mfaCode: e }), a(!0) } catch (e) { if (zT(e)) throw Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."); if (WT(e)) throw Error("The code you entered is not valid"); if (BT(e)) throw Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."); throw qT(e) ? Error("Verification canceled") : Error("Unknown error") } } }) }), (0, y.jsxs)(Qp, { children: ["To continue, enter the 6-digit code generated from your ", (0, y.jsx)("strong", { children: "authenticator app" })] }), (0, y.jsx)(_p, {})] }) }, nV = "abi/5.7.0", rV = new Cn.Yd(nV); class iV { constructor(e, t, n, r) { this.name = e, this.type = t, this.localName = n, this.dynamic = r } _throwError(e, t) { rV.throwArgumentError(e, this.localName, t) } } class oV { constructor(e) { kn(this, "wordSize", e || 32), this._data = [], this._dataLength = 0, this._padding = new Uint8Array(e) } get data() { return (0, Hn.xs)(this._data) } get length() { return this._dataLength } _writeData(e) { return this._data.push(e), this._dataLength += e.length, e.length } appendWriter(e) { return this._writeData((0, Hn.zo)(e._data)) } writeBytes(e) { let t = (0, Hn.lE)(e); const n = t.length % this.wordSize; return n && (t = (0, Hn.zo)([t, this._padding.slice(n)])), this._writeData(t) } _getValue(e) { let t = (0, Hn.lE)(qn.O$.from(e)); return t.length > this.wordSize && rV.throwError("value out-of-bounds", Cn.Yd.errors.BUFFER_OVERRUN, { length: this.wordSize, offset: t.length }), t.length % this.wordSize && (t = (0, Hn.zo)([this._padding.slice(t.length % this.wordSize), t])), t } writeValue(e) { return this._writeData(this._getValue(e)) } writeUpdatableValue() { const e = this._data.length; return this._data.push(this._padding), this._dataLength += this.wordSize, t => { this._data[e] = this._getValue(t) } } } class sV { constructor(e, t, n, r) { kn(this, "_data", (0, Hn.lE)(e)), kn(this, "wordSize", t || 32), kn(this, "_coerceFunc", n), kn(this, "allowLoose", r), this._offset = 0 } get data() { return (0, Hn.Dv)(this._data) } get consumed() { return this._offset } static coerce(e, t) { let n = e.match("^u?int([0-9]+)$"); return n && parseInt(n[1]) <= 48 && (t = t.toNumber()), t } coerce(e, t) { return this._coerceFunc ? this._coerceFunc(e, t) : sV.coerce(e, t) } _peekBytes(e, t, n) { let r = Math.ceil(t / this.wordSize) * this.wordSize; return this._offset + r > this._data.length && (this.allowLoose && n && this._offset + t <= this._data.length ? r = t : rV.throwError("data out-of-bounds", Cn.Yd.errors.BUFFER_OVERRUN, { length: this._data.length, offset: this._offset + r })), this._data.slice(this._offset, this._offset + r) } subReader(e) { return new sV(this._data.slice(this._offset + e), this.wordSize, this._coerceFunc, this.allowLoose) } readBytes(e, t) { let n = this._peekBytes(0, e, !!t); return this._offset += n.length, n.slice(0, e) } readValue() { return qn.O$.from(this.readBytes(this.wordSize)) } } class aV extends iV { constructor(e) { super("address", "address", e, !1) } defaultValue() { return "0x0000000000000000000000000000000000000000" } encode(e, t) { try { t = (0, _n.Kn)(t) } catch (n) { this._throwError(n.message, t) } return e.writeValue(t) } decode(e) { return (0, _n.Kn)((0, Hn.$m)(e.readValue().toHexString(), 20)) } } class cV extends iV { constructor(e) { super(e.name, e.type, void 0, e.dynamic), this.coder = e } defaultValue() { return this.coder.defaultValue() } encode(e, t) { return this.coder.encode(e, t) } decode(e) { return this.coder.decode(e) } } const lV = new Cn.Yd(nV); function uV(e, t, n) { let r = null; if (Array.isArray(n)) r = n; else if (n && "object" === typeof n) { let e = {}; r = t.map((t => { const r = t.localName; return r || lV.throwError("cannot encode object for signature with missing names", Cn.Yd.errors.INVALID_ARGUMENT, { argument: "values", coder: t, value: n }), e[r] && lV.throwError("cannot encode object for signature with duplicate names", Cn.Yd.errors.INVALID_ARGUMENT, { argument: "values", coder: t, value: n }), e[r] = !0, n[r] })) } else lV.throwArgumentError("invalid tuple value", "tuple", n); t.length !== r.length && lV.throwArgumentError("types/value length mismatch", "tuple", n); let i = new oV(e.wordSize), o = new oV(e.wordSize), s = []; t.forEach(((e, t) => { let n = r[t]; if (e.dynamic) { let t = o.length; e.encode(o, n); let r = i.writeUpdatableValue(); s.push((e => { r(e + t) })) } else e.encode(i, n) })), s.forEach((e => { e(i.length) })); let a = e.appendWriter(i); return a += e.appendWriter(o), a } function dV(e, t) { let n = [], r = e.subReader(0); t.forEach((t => { let i = null; if (t.dynamic) { let n = e.readValue(), s = r.subReader(n.toNumber()); try { i = t.decode(s) } catch (o) { if (o.code === Cn.Yd.errors.BUFFER_OVERRUN) throw o; i = o, i.baseType = t.name, i.name = t.localName, i.type = t.type } } else try { i = t.decode(e) } catch (o) { if (o.code === Cn.Yd.errors.BUFFER_OVERRUN) throw o; i = o, i.baseType = t.name, i.name = t.localName, i.type = t.type } void 0 != i && n.push(i) })); const i = t.reduce(((e, t) => { const n = t.localName; return n && (e[n] || (e[n] = 0), e[n]++), e }), {}); t.forEach(((e, t) => { let r = e.localName; if (!r || 1 !== i[r]) return; if ("length" === r && (r = "_length"), null != n[r]) return; const o = n[t]; o instanceof Error ? Object.defineProperty(n, r, { enumerable: !0, get: () => { throw o } }) : n[r] = o })); for (let o = 0; o < n.length; o++) { const e = n[o]; e instanceof Error && Object.defineProperty(n, o, { enumerable: !0, get: () => { throw e } }) } return Object.freeze(n) } class hV extends iV { constructor(e, t, n) { super("array", e.type + "[" + (t >= 0 ? t : "") + "]", n, -1 === t || e.dynamic), this.coder = e, this.length = t } defaultValue() { const e = this.coder.defaultValue(), t = []; for (let n = 0; n < this.length; n++)t.push(e); return t } encode(e, t) { Array.isArray(t) || this._throwError("expected array value", t); let n = this.length; -1 === n && (n = t.length, e.writeValue(t.length)), lV.checkArgumentCount(t.length, n, "coder array" + (this.localName ? " " + this.localName : "")); let r = []; for (let i = 0; i < t.length; i++)r.push(this.coder); return uV(e, r, t) } decode(e) { let t = this.length; -1 === t && (t = e.readValue().toNumber(), 32 * t > e._data.length && lV.throwError("insufficient data length", Cn.Yd.errors.BUFFER_OVERRUN, { length: e._data.length, count: t })); let n = []; for (let r = 0; r < t; r++)n.push(new cV(this.coder)); return e.coerce(this.name, dV(e, n)) } } class fV extends iV { constructor(e) { super("bool", "bool", e, !1) } defaultValue() { return !1 } encode(e, t) { return e.writeValue(t ? 1 : 0) } decode(e) { return e.coerce(this.type, !e.readValue().isZero()) } } class pV extends iV { constructor(e, t) { super(e, e, t, !0) } defaultValue() { return "0x" } encode(e, t) { t = (0, Hn.lE)(t); let n = e.writeValue(t.length); return n += e.writeBytes(t), n } decode(e) { return e.readBytes(e.readValue().toNumber(), !0) } } class mV extends pV { constructor(e) { super("bytes", e) } decode(e) { return e.coerce(this.name, (0, Hn.Dv)(super.decode(e))) } } class gV extends iV { constructor(e, t) { let n = "bytes" + String(e); super(n, n, t, !1), this.size = e } defaultValue() { return "0x0000000000000000000000000000000000000000000000000000000000000000".substring(0, 2 + 2 * this.size) } encode(e, t) { let n = (0, Hn.lE)(t); return n.length !== this.size && this._throwError("incorrect data length", t), e.writeBytes(n) } decode(e) { return e.coerce(this.name, (0, Hn.Dv)(e.readBytes(this.size))) } } class yV extends iV { constructor(e) { super("null", "", e, !1) } defaultValue() { return null } encode(e, t) { return null != t && this._throwError("not null", t), e.writeBytes([]) } decode(e) { return e.readBytes(0), e.coerce(this.name, null) } } class bV extends iV { constructor(e, t, n) { const r = (t ? "int" : "uint") + 8 * e; super(r, r, n, !1), this.size = e, this.signed = t } defaultValue() { return 0 } encode(e, t) { let n = qn.O$.from(t), r = xr.mask(8 * e.wordSize); if (this.signed) { let e = r.mask(8 * this.size - 1); (n.gt(e) || n.lt(e.add(Er).mul(vr))) && this._throwError("value out-of-bounds", t) } else (n.lt(wr) || n.gt(r.mask(8 * this.size))) && this._throwError("value out-of-bounds", t); return n = n.toTwos(8 * this.size).mask(8 * this.size), this.signed && (n = n.fromTwos(8 * this.size).toTwos(8 * e.wordSize)), e.writeValue(n) } decode(e) { let t = e.readValue().mask(8 * this.size); return this.signed && (t = t.fromTwos(8 * this.size)), e.coerce(this.name, t) } } class vV extends pV { constructor(e) { super("string", e) } defaultValue() { return "" } encode(e, t) { return super.encode(e, er(t)) } decode(e) { return tr(super.decode(e)) } } class wV extends iV { constructor(e, t) { let n = !1; const r = []; e.forEach((e => { e.dynamic && (n = !0), r.push(e.type) })); super("tuple", "tuple(" + r.join(",") + ")", t, n), this.coders = e } defaultValue() { const e = []; this.coders.forEach((t => { e.push(t.defaultValue()) })); const t = this.coders.reduce(((e, t) => { const n = t.localName; return n && (e[n] || (e[n] = 0), e[n]++), e }), {}); return this.coders.forEach(((n, r) => { let i = n.localName; i && 1 === t[i] && ("length" === i && (i = "_length"), null == e[i] && (e[i] = e[r])) })), Object.freeze(e) } encode(e, t) { return uV(e, this.coders, t) } decode(e) { return e.coerce(this.name, dV(e, this.coders)) } } const EV = new Cn.Yd(nV), xV = {}; let _V = { calldata: !0, memory: !0, storage: !0 }, CV = { calldata: !0, memory: !0 }; function AV(e, t) { if ("bytes" === e || "string" === e) { if (_V[t]) return !0 } else if ("address" === e) { if ("payable" === t) return !0 } else if ((e.indexOf("[") >= 0 || "tuple" === e) && CV[t]) return !0; return (_V[t] || "payable" === t) && EV.throwArgumentError("invalid modifier", "name", t), !1 } function SV(e, t) { for (let n in t) kn(e, n, t[n]) } const kV = Object.freeze({ sighash: "sighash", minimal: "minimal", full: "full", json: "json" }), IV = new RegExp(/^(.*)\[([0-9]*)\]$/); class TV { constructor(e, t) { e !== xV && EV.throwError("use fromString", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "new ParamType()" }), SV(this, t); let n = this.type.match(IV); SV(this, n ? { arrayLength: parseInt(n[2] || "-1"), arrayChildren: TV.fromObject({ type: n[1], components: this.components }), baseType: "array" } : { arrayLength: null, arrayChildren: null, baseType: null != this.components ? "tuple" : this.type }), this._isParamType = !0, Object.freeze(this) } format(e) { if (e || (e = kV.sighash), kV[e] || EV.throwArgumentError("invalid format type", "format", e), e === kV.json) { let t = { type: "tuple" === this.baseType ? "tuple" : this.type, name: this.name || void 0 }; return "boolean" === typeof this.indexed && (t.indexed = this.indexed), this.components && (t.components = this.components.map((t => JSON.parse(t.format(e))))), JSON.stringify(t) } let t = ""; return "array" === this.baseType ? (t += this.arrayChildren.format(e), t += "[" + (this.arrayLength < 0 ? "" : String(this.arrayLength)) + "]") : "tuple" === this.baseType ? (e !== kV.sighash && (t += this.type), t += "(" + this.components.map((t => t.format(e))).join(e === kV.full ? ", " : ",") + ")") : t += this.type, e !== kV.sighash && (!0 === this.indexed && (t += " indexed"), e === kV.full && this.name && (t += " " + this.name)), t } static from(e, t) { return "string" === typeof e ? TV.fromString(e, t) : TV.fromObject(e) } static fromObject(e) { return TV.isParamType(e) ? e : new TV(xV, { name: e.name || null, type: FV(e.type), indexed: null == e.indexed ? null : !!e.indexed, components: e.components ? e.components.map(TV.fromObject) : null }) } static fromString(e, t) { return function (e) { return TV.fromObject({ name: e.name, type: e.type, indexed: e.indexed, components: e.components }) }(function (e, t) { let n = e; function r(t) { EV.throwArgumentError(`unexpected character at position ${t}`, "param", e) } function i(e) { let n = { type: "", name: "", parent: e, state: { allowType: !0 } }; return t && (n.indexed = !1), n } e = e.replace(/\s/g, " "); let o = { type: "", name: "", state: { allowType: !0 } }, s = o; for (let a = 0; a < e.length; a++) { let n = e[a]; switch (n) { case "(": s.state.allowType && "" === s.type ? s.type = "tuple" : s.state.allowParams || r(a), s.state.allowType = !1, s.type = FV(s.type), s.components = [i(s)], s = s.components[0]; break; case ")": delete s.state, "indexed" === s.name && (t || r(a), s.indexed = !0, s.name = ""), AV(s.type, s.name) && (s.name = ""), s.type = FV(s.type); let e = s; s = s.parent, s || r(a), delete e.parent, s.state.allowParams = !1, s.state.allowName = !0, s.state.allowArray = !0; break; case ",": delete s.state, "indexed" === s.name && (t || r(a), s.indexed = !0, s.name = ""), AV(s.type, s.name) && (s.name = ""), s.type = FV(s.type); let o = i(s.parent); s.parent.components.push(o), delete s.parent, s = o; break; case " ": s.state.allowType && "" !== s.type && (s.type = FV(s.type), delete s.state.allowType, s.state.allowName = !0, s.state.allowParams = !0), s.state.allowName && "" !== s.name && ("indexed" === s.name ? (t || r(a), s.indexed && r(a), s.indexed = !0, s.name = "") : AV(s.type, s.name) ? s.name = "" : s.state.allowName = !1); break; case "[": s.state.allowArray || r(a), s.type += n, s.state.allowArray = !1, s.state.allowName = !1, s.state.readArray = !0; break; case "]": s.state.readArray || r(a), s.type += n, s.state.readArray = !1, s.state.allowArray = !0, s.state.allowName = !0; break; default: s.state.allowType ? (s.type += n, s.state.allowParams = !0, s.state.allowArray = !0) : s.state.allowName ? (s.name += n, delete s.state.allowArray) : s.state.readArray ? s.type += n : r(a) } } return s.parent && EV.throwArgumentError("unexpected eof", "param", e), delete o.state, "indexed" === s.name ? (t || r(n.length - 7), s.indexed && r(n.length - 7), s.indexed = !0, s.name = "") : AV(s.type, s.name) && (s.name = ""), o.type = FV(o.type), o }(e, !!t)) } static isParamType(e) { return !(null == e || !e._isParamType) } } function NV(e, t) { return function (e) { e = e.trim(); let t = [], n = "", r = 0; for (let i = 0; i < e.length; i++) { let o = e[i]; "," === o && 0 === r ? (t.push(n), n = "") : (n += o, "(" === o ? r++ : ")" === o && (r--, -1 === r && EV.throwArgumentError("unbalanced parenthesis", "value", e))) } n && t.push(n); return t }(e).map((e => TV.fromString(e, t))) } class PV { constructor(e, t) { e !== xV && EV.throwError("use a static from method", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "new Fragment()" }), SV(this, t), this._isFragment = !0, Object.freeze(this) } static from(e) { return PV.isFragment(e) ? e : "string" === typeof e ? PV.fromString(e) : PV.fromObject(e) } static fromObject(e) { if (PV.isFragment(e)) return e; switch (e.type) { case "function": return LV.fromObject(e); case "event": return MV.fromObject(e); case "constructor": return $V.fromObject(e); case "error": return UV.fromObject(e); case "fallback": case "receive": return null }return EV.throwArgumentError("invalid fragment object", "value", e) } static fromString(e) { return "event" === (e = (e = (e = e.replace(/\s/g, " ")).replace(/\(/g, " (").replace(/\)/g, ") ").replace(/\s+/g, " ")).trim()).split(" ")[0] ? MV.fromString(e.substring(5).trim()) : "function" === e.split(" ")[0] ? LV.fromString(e.substring(8).trim()) : "constructor" === e.split("(")[0].trim() ? $V.fromString(e.trim()) : "error" === e.split(" ")[0] ? UV.fromString(e.substring(5).trim()) : EV.throwArgumentError("unsupported fragment", "value", e) } static isFragment(e) { return !(!e || !e._isFragment) } } class MV extends PV { format(e) { if (e || (e = kV.sighash), kV[e] || EV.throwArgumentError("invalid format type", "format", e), e === kV.json) return JSON.stringify({ type: "event", anonymous: this.anonymous, name: this.name, inputs: this.inputs.map((t => JSON.parse(t.format(e)))) }); let t = ""; return e !== kV.sighash && (t += "event "), t += this.name + "(" + this.inputs.map((t => t.format(e))).join(e === kV.full ? ", " : ",") + ") ", e !== kV.sighash && this.anonymous && (t += "anonymous "), t.trim() } static from(e) { return "string" === typeof e ? MV.fromString(e) : MV.fromObject(e) } static fromObject(e) { if (MV.isEventFragment(e)) return e; "event" !== e.type && EV.throwArgumentError("invalid event object", "value", e); const t = { name: WV(e.name), anonymous: e.anonymous, inputs: e.inputs ? e.inputs.map(TV.fromObject) : [], type: "event" }; return new MV(xV, t) } static fromString(e) { let t = e.match(zV); t || EV.throwArgumentError("invalid event string", "value", e); let n = !1; return t[3].split(" ").forEach((e => { switch (e.trim()) { case "anonymous": n = !0; break; case "": break; default: EV.warn("unknown modifier: " + e) } })), MV.fromObject({ name: t[1].trim(), anonymous: n, inputs: NV(t[2], !0), type: "event" }) } static isEventFragment(e) { return e && e._isFragment && "event" === e.type } } function OV(e, t) { t.gas = null; let n = e.split("@"); return 1 !== n.length ? (n.length > 2 && EV.throwArgumentError("invalid human-readable ABI signature", "value", e), n[1].match(/^[0-9]+$/) || EV.throwArgumentError("invalid human-readable ABI signature gas", "value", e), t.gas = qn.O$.from(n[1]), n[0]) : e } function RV(e, t) { t.constant = !1, t.payable = !1, t.stateMutability = "nonpayable", e.split(" ").forEach((e => { switch (e.trim()) { case "constant": t.constant = !0; break; case "payable": t.payable = !0, t.stateMutability = "payable"; break; case "nonpayable": t.payable = !1, t.stateMutability = "nonpayable"; break; case "pure": t.constant = !0, t.stateMutability = "pure"; break; case "view": t.constant = !0, t.stateMutability = "view"; break; case "external": case "public": case "": break; default: console.log("unknown modifier: " + e) } })) } function jV(e) { let t = { constant: !1, payable: !0, stateMutability: "payable" }; return null != e.stateMutability ? (t.stateMutability = e.stateMutability, t.constant = "view" === t.stateMutability || "pure" === t.stateMutability, null != e.constant && !!e.constant !== t.constant && EV.throwArgumentError("cannot have constant function with mutability " + t.stateMutability, "value", e), t.payable = "payable" === t.stateMutability, null != e.payable && !!e.payable !== t.payable && EV.throwArgumentError("cannot have payable function with mutability " + t.stateMutability, "value", e)) : null != e.payable ? (t.payable = !!e.payable, null != e.constant || t.payable || "constructor" === e.type || EV.throwArgumentError("unable to determine stateMutability", "value", e), t.constant = !!e.constant, t.constant ? t.stateMutability = "view" : t.stateMutability = t.payable ? "payable" : "nonpayable", t.payable && t.constant && EV.throwArgumentError("cannot have constant payable function", "value", e)) : null != e.constant ? (t.constant = !!e.constant, t.payable = !t.constant, t.stateMutability = t.constant ? "view" : "payable") : "constructor" !== e.type && EV.throwArgumentError("unable to determine stateMutability", "value", e), t } class $V extends PV { format(e) { if (e || (e = kV.sighash), kV[e] || EV.throwArgumentError("invalid format type", "format", e), e === kV.json) return JSON.stringify({ type: "constructor", stateMutability: "nonpayable" !== this.stateMutability ? this.stateMutability : void 0, payable: this.payable, gas: this.gas ? this.gas.toNumber() : void 0, inputs: this.inputs.map((t => JSON.parse(t.format(e)))) }); e === kV.sighash && EV.throwError("cannot format a constructor for sighash", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "format(sighash)" }); let t = "constructor(" + this.inputs.map((t => t.format(e))).join(e === kV.full ? ", " : ",") + ") "; return this.stateMutability && "nonpayable" !== this.stateMutability && (t += this.stateMutability + " "), t.trim() } static from(e) { return "string" === typeof e ? $V.fromString(e) : $V.fromObject(e) } static fromObject(e) { if ($V.isConstructorFragment(e)) return e; "constructor" !== e.type && EV.throwArgumentError("invalid constructor object", "value", e); let t = jV(e); t.constant && EV.throwArgumentError("constructor cannot be constant", "value", e); const n = { name: null, type: e.type, inputs: e.inputs ? e.inputs.map(TV.fromObject) : [], payable: t.payable, stateMutability: t.stateMutability, gas: e.gas ? qn.O$.from(e.gas) : null }; return new $V(xV, n) } static fromString(e) { let t = { type: "constructor" }, n = (e = OV(e, t)).match(zV); return n && "constructor" === n[1].trim() || EV.throwArgumentError("invalid constructor string", "value", e), t.inputs = NV(n[2].trim(), !1), RV(n[3].trim(), t), $V.fromObject(t) } static isConstructorFragment(e) { return e && e._isFragment && "constructor" === e.type } } class LV extends $V { format(e) { if (e || (e = kV.sighash), kV[e] || EV.throwArgumentError("invalid format type", "format", e), e === kV.json) return JSON.stringify({ type: "function", name: this.name, constant: this.constant, stateMutability: "nonpayable" !== this.stateMutability ? this.stateMutability : void 0, payable: this.payable, gas: this.gas ? this.gas.toNumber() : void 0, inputs: this.inputs.map((t => JSON.parse(t.format(e)))), outputs: this.outputs.map((t => JSON.parse(t.format(e)))) }); let t = ""; return e !== kV.sighash && (t += "function "), t += this.name + "(" + this.inputs.map((t => t.format(e))).join(e === kV.full ? ", " : ",") + ") ", e !== kV.sighash && (this.stateMutability ? "nonpayable" !== this.stateMutability && (t += this.stateMutability + " ") : this.constant && (t += "view "), this.outputs && this.outputs.length && (t += "returns (" + this.outputs.map((t => t.format(e))).join(", ") + ") "), null != this.gas && (t += "@" + this.gas.toString() + " ")), t.trim() } static from(e) { return "string" === typeof e ? LV.fromString(e) : LV.fromObject(e) } static fromObject(e) { if (LV.isFunctionFragment(e)) return e; "function" !== e.type && EV.throwArgumentError("invalid function object", "value", e); let t = jV(e); const n = { type: e.type, name: WV(e.name), constant: t.constant, inputs: e.inputs ? e.inputs.map(TV.fromObject) : [], outputs: e.outputs ? e.outputs.map(TV.fromObject) : [], payable: t.payable, stateMutability: t.stateMutability, gas: e.gas ? qn.O$.from(e.gas) : null }; return new LV(xV, n) } static fromString(e) { let t = { type: "function" }, n = (e = OV(e, t)).split(" returns "); n.length > 2 && EV.throwArgumentError("invalid function string", "value", e); let r = n[0].match(zV); if (r || EV.throwArgumentError("invalid function signature", "value", e), t.name = r[1].trim(), t.name && WV(t.name), t.inputs = NV(r[2], !1), RV(r[3].trim(), t), n.length > 1) { let r = n[1].match(zV); "" == r[1].trim() && "" == r[3].trim() || EV.throwArgumentError("unexpected tokens", "value", e), t.outputs = NV(r[2], !1) } else t.outputs = []; return LV.fromObject(t) } static isFunctionFragment(e) { return e && e._isFragment && "function" === e.type } } function DV(e) { const t = e.format(); return "Error(string)" !== t && "Panic(uint256)" !== t || EV.throwArgumentError(`cannot specify user defined ${t} error`, "fragment", e), e } class UV extends PV { format(e) { if (e || (e = kV.sighash), kV[e] || EV.throwArgumentError("invalid format type", "format", e), e === kV.json) return JSON.stringify({ type: "error", name: this.name, inputs: this.inputs.map((t => JSON.parse(t.format(e)))) }); let t = ""; return e !== kV.sighash && (t += "error "), t += this.name + "(" + this.inputs.map((t => t.format(e))).join(e === kV.full ? ", " : ",") + ") ", t.trim() } static from(e) { return "string" === typeof e ? UV.fromString(e) : UV.fromObject(e) } static fromObject(e) { if (UV.isErrorFragment(e)) return e; "error" !== e.type && EV.throwArgumentError("invalid error object", "value", e); const t = { type: e.type, name: WV(e.name), inputs: e.inputs ? e.inputs.map(TV.fromObject) : [] }; return DV(new UV(xV, t)) } static fromString(e) { let t = { type: "error" }, n = e.match(zV); return n || EV.throwArgumentError("invalid error signature", "value", e), t.name = n[1].trim(), t.name && WV(t.name), t.inputs = NV(n[2], !1), DV(UV.fromObject(t)) } static isErrorFragment(e) { return e && e._isFragment && "error" === e.type } } function FV(e) { return e.match(/^uint($|[^1-9])/) ? e = "uint256" + e.substring(4) : e.match(/^int($|[^1-9])/) && (e = "int256" + e.substring(3)), e } const BV = new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$"); function WV(e) { return e && e.match(BV) || EV.throwArgumentError(`invalid identifier "${e}"`, "value", e), e } const zV = new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$"); const qV = new Cn.Yd(nV), HV = new RegExp(/^bytes([0-9]*)$/), GV = new RegExp(/^(u?int)([0-9]*)$/); const VV = new class { constructor(e) { kn(this, "coerceFunc", e || null) } _getCoder(e) { switch (e.baseType) { case "address": return new aV(e.name); case "bool": return new fV(e.name); case "string": return new vV(e.name); case "bytes": return new mV(e.name); case "array": return new hV(this._getCoder(e.arrayChildren), e.arrayLength, e.name); case "tuple": return new wV((e.components || []).map((e => this._getCoder(e))), e.name); case "": return new yV(e.name) }let t = e.type.match(GV); if (t) { let n = parseInt(t[2] || "256"); return (0 === n || n > 256 || n % 8 !== 0) && qV.throwArgumentError("invalid " + t[1] + " bit length", "param", e), new bV(n / 8, "int" === t[1], e.name) } if (t = e.type.match(HV), t) { let n = parseInt(t[1]); return (0 === n || n > 32) && qV.throwArgumentError("invalid bytes length", "param", e), new gV(n, e.name) } return qV.throwArgumentError("invalid type", "type", e.type) } _getWordSize() { return 32 } _getReader(e, t) { return new sV(e, this._getWordSize(), this.coerceFunc, t) } _getWriter() { return new oV(this._getWordSize()) } getDefaultValue(e) { const t = e.map((e => this._getCoder(TV.from(e)))); return new wV(t, "_").defaultValue() } encode(e, t) { e.length !== t.length && qV.throwError("types/values length mismatch", Cn.Yd.errors.INVALID_ARGUMENT, { count: { types: e.length, values: t.length }, value: { types: e, values: t } }); const n = e.map((e => this._getCoder(TV.from(e)))), r = new wV(n, "_"), i = this._getWriter(); return r.encode(i, t), i.data } decode(e, t, n) { const r = e.map((e => this._getCoder(TV.from(e)))); return new wV(r, "_").decode(this._getReader((0, Hn.lE)(t), n)) } }, KV = new Cn.Yd(nV); class YV extends $n { } class ZV extends $n { } class XV extends $n { } class JV extends $n { static isIndexed(e) { return !(!e || !e._isIndexed) } } const QV = { "0x08c379a0": { signature: "Error(string)", name: "Error", inputs: ["string"], reason: !0 }, "0x4e487b71": { signature: "Panic(uint256)", name: "Panic", inputs: ["uint256"] } }; function eK(e, t) { const n = new Error(`deferred error during ABI decoding triggered accessing ${e}`); return n.error = t, n } class tK { constructor(e) { let t = []; t = "string" === typeof e ? JSON.parse(e) : e, kn(this, "fragments", t.map((e => PV.from(e))).filter((e => null != e))), kn(this, "_abiCoder", In(new.target, "getAbiCoder")()), kn(this, "functions", {}), kn(this, "errors", {}), kn(this, "events", {}), kn(this, "structs", {}), this.fragments.forEach((e => { let t = null; switch (e.type) { case "constructor": return this.deploy ? void KV.warn("duplicate definition - constructor") : void kn(this, "deploy", e); case "function": t = this.functions; break; case "event": t = this.events; break; case "error": t = this.errors; break; default: return }let n = e.format(); t[n] ? KV.warn("duplicate definition - " + n) : t[n] = e })), this.deploy || kn(this, "deploy", $V.from({ payable: !1, type: "constructor" })), kn(this, "_isInterface", !0) } format(e) { e || (e = kV.full), e === kV.sighash && KV.throwArgumentError("interface does not support formatting sighash", "format", e); const t = this.fragments.map((t => t.format(e))); return e === kV.json ? JSON.stringify(t.map((e => JSON.parse(e)))) : t } static getAbiCoder() { return VV } static getAddress(e) { return (0, _n.Kn)(e) } static getSighash(e) { return (0, Hn.p3)(nr(e.format()), 0, 4) } static getEventTopic(e) { return nr(e.format()) } getFunction(e) { if ((0, Hn.A7)(e)) { for (const t in this.functions) if (e === this.getSighash(t)) return this.functions[t]; KV.throwArgumentError("no matching function", "sighash", e) } if (-1 === e.indexOf("(")) { const t = e.trim(), n = Object.keys(this.functions).filter((e => e.split("(")[0] === t)); return 0 === n.length ? KV.throwArgumentError("no matching function", "name", t) : n.length > 1 && KV.throwArgumentError("multiple matching functions", "name", t), this.functions[n[0]] } const t = this.functions[LV.fromString(e).format()]; return t || KV.throwArgumentError("no matching function", "signature", e), t } getEvent(e) { if ((0, Hn.A7)(e)) { const t = e.toLowerCase(); for (const e in this.events) if (t === this.getEventTopic(e)) return this.events[e]; KV.throwArgumentError("no matching event", "topichash", t) } if (-1 === e.indexOf("(")) { const t = e.trim(), n = Object.keys(this.events).filter((e => e.split("(")[0] === t)); return 0 === n.length ? KV.throwArgumentError("no matching event", "name", t) : n.length > 1 && KV.throwArgumentError("multiple matching events", "name", t), this.events[n[0]] } const t = this.events[MV.fromString(e).format()]; return t || KV.throwArgumentError("no matching event", "signature", e), t } getError(e) { if ((0, Hn.A7)(e)) { const t = In(this.constructor, "getSighash"); for (const n in this.errors) { if (e === t(this.errors[n])) return this.errors[n] } KV.throwArgumentError("no matching error", "sighash", e) } if (-1 === e.indexOf("(")) { const t = e.trim(), n = Object.keys(this.errors).filter((e => e.split("(")[0] === t)); return 0 === n.length ? KV.throwArgumentError("no matching error", "name", t) : n.length > 1 && KV.throwArgumentError("multiple matching errors", "name", t), this.errors[n[0]] } const t = this.errors[LV.fromString(e).format()]; return t || KV.throwArgumentError("no matching error", "signature", e), t } getSighash(e) { if ("string" === typeof e) try { e = this.getFunction(e) } catch (t) { try { e = this.getError(e) } catch (n) { throw t } } return In(this.constructor, "getSighash")(e) } getEventTopic(e) { return "string" === typeof e && (e = this.getEvent(e)), In(this.constructor, "getEventTopic")(e) } _decodeParams(e, t) { return this._abiCoder.decode(e, t) } _encodeParams(e, t) { return this._abiCoder.encode(e, t) } encodeDeploy(e) { return this._encodeParams(this.deploy.inputs, e || []) } decodeErrorResult(e, t) { "string" === typeof e && (e = this.getError(e)); const n = (0, Hn.lE)(t); return (0, Hn.Dv)(n.slice(0, 4)) !== this.getSighash(e) && KV.throwArgumentError(`data signature does not match error ${e.name}.`, "data", (0, Hn.Dv)(n)), this._decodeParams(e.inputs, n.slice(4)) } encodeErrorResult(e, t) { return "string" === typeof e && (e = this.getError(e)), (0, Hn.Dv)((0, Hn.zo)([this.getSighash(e), this._encodeParams(e.inputs, t || [])])) } decodeFunctionData(e, t) { "string" === typeof e && (e = this.getFunction(e)); const n = (0, Hn.lE)(t); return (0, Hn.Dv)(n.slice(0, 4)) !== this.getSighash(e) && KV.throwArgumentError(`data signature does not match function ${e.name}.`, "data", (0, Hn.Dv)(n)), this._decodeParams(e.inputs, n.slice(4)) } encodeFunctionData(e, t) { return "string" === typeof e && (e = this.getFunction(e)), (0, Hn.Dv)((0, Hn.zo)([this.getSighash(e), this._encodeParams(e.inputs, t || [])])) } decodeFunctionResult(e, t) { "string" === typeof e && (e = this.getFunction(e)); let n = (0, Hn.lE)(t), r = null, i = "", o = null, s = null, a = null; switch (n.length % this._abiCoder._getWordSize()) { case 0: try { return this._abiCoder.decode(e.outputs, n) } catch (c) { } break; case 4: { const e = (0, Hn.Dv)(n.slice(0, 4)), t = QV[e]; if (t) o = this._abiCoder.decode(t.inputs, n.slice(4)), s = t.name, a = t.signature, t.reason && (r = o[0]), "Error" === s ? i = `; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}` : "Panic" === s && (i = `; VM Exception while processing transaction: reverted with panic code ${o[0]}`); else try { const t = this.getError(e); o = this._abiCoder.decode(t.inputs, n.slice(4)), s = t.name, a = t.format() } catch (c) { } break } }return KV.throwError("call revert exception" + i, Cn.Yd.errors.CALL_EXCEPTION, { method: e.format(), data: (0, Hn.Dv)(t), errorArgs: o, errorName: s, errorSignature: a, reason: r }) } encodeFunctionResult(e, t) { return "string" === typeof e && (e = this.getFunction(e)), (0, Hn.Dv)(this._abiCoder.encode(e.outputs, t || [])) } encodeFilterTopics(e, t) { "string" === typeof e && (e = this.getEvent(e)), t.length > e.inputs.length && KV.throwError("too many arguments for " + e.format(), Cn.Yd.errors.UNEXPECTED_ARGUMENT, { argument: "values", value: t }); let n = []; e.anonymous || n.push(this.getEventTopic(e)); const r = (e, t) => "string" === e.type ? nr(t) : "bytes" === e.type ? (0, Gn.w)((0, Hn.Dv)(t)) : ("bool" === e.type && "boolean" === typeof t && (t = t ? "0x01" : "0x00"), e.type.match(/^u?int/) && (t = qn.O$.from(t).toHexString()), "address" === e.type && this._abiCoder.encode(["address"], [t]), (0, Hn.$m)((0, Hn.Dv)(t), 32)); for (t.forEach(((t, i) => { let o = e.inputs[i]; o.indexed ? null == t ? n.push(null) : "array" === o.baseType || "tuple" === o.baseType ? KV.throwArgumentError("filtering with tuples or arrays not supported", "contract." + o.name, t) : Array.isArray(t) ? n.push(t.map((e => r(o, e)))) : n.push(r(o, t)) : null != t && KV.throwArgumentError("cannot filter non-indexed parameters; must be null", "contract." + o.name, t) })); n.length && null === n[n.length - 1];)n.pop(); return n } encodeEventLog(e, t) { "string" === typeof e && (e = this.getEvent(e)); const n = [], r = [], i = []; return e.anonymous || n.push(this.getEventTopic(e)), t.length !== e.inputs.length && KV.throwArgumentError("event arguments/values mismatch", "values", t), e.inputs.forEach(((e, o) => { const s = t[o]; if (e.indexed) if ("string" === e.type) n.push(nr(s)); else if ("bytes" === e.type) n.push((0, Gn.w)(s)); else { if ("tuple" === e.baseType || "array" === e.baseType) throw new Error("not implemented"); n.push(this._abiCoder.encode([e.type], [s])) } else r.push(e), i.push(s) })), { data: this._abiCoder.encode(r, i), topics: n } } decodeEventLog(e, t, n) { if ("string" === typeof e && (e = this.getEvent(e)), null != n && !e.anonymous) { let t = this.getEventTopic(e); (0, Hn.A7)(n[0], 32) && n[0].toLowerCase() === t || KV.throwError("fragment/topic mismatch", Cn.Yd.errors.INVALID_ARGUMENT, { argument: "topics[0]", expected: t, value: n[0] }), n = n.slice(1) } let r = [], i = [], o = []; e.inputs.forEach(((e, t) => { e.indexed ? "string" === e.type || "bytes" === e.type || "tuple" === e.baseType || "array" === e.baseType ? (r.push(TV.fromObject({ type: "bytes32", name: e.name })), o.push(!0)) : (r.push(e), o.push(!1)) : (i.push(e), o.push(!1)) })); let s = null != n ? this._abiCoder.decode(r, (0, Hn.zo)(n)) : null, a = this._abiCoder.decode(i, t, !0), c = [], l = 0, u = 0; e.inputs.forEach(((e, t) => { if (e.indexed) if (null == s) c[t] = new JV({ _isIndexed: !0, hash: null }); else if (o[t]) c[t] = new JV({ _isIndexed: !0, hash: s[u++] }); else try { c[t] = s[u++] } catch (n) { c[t] = n } else try { c[t] = a[l++] } catch (n) { c[t] = n } if (e.name && null == c[e.name]) { const n = c[t]; n instanceof Error ? Object.defineProperty(c, e.name, { enumerable: !0, get: () => { throw eK(`property ${JSON.stringify(e.name)}`, n) } }) : c[e.name] = n } })); for (let d = 0; d < c.length; d++) { const e = c[d]; e instanceof Error && Object.defineProperty(c, d, { enumerable: !0, get: () => { throw eK(`index ${d}`, e) } }) } return Object.freeze(c) } parseTransaction(e) { let t = this.getFunction(e.data.substring(0, 10).toLowerCase()); return t ? new ZV({ args: this._abiCoder.decode(t.inputs, "0x" + e.data.substring(10)), functionFragment: t, name: t.name, signature: t.format(), sighash: this.getSighash(t), value: qn.O$.from(e.value || "0") }) : null } parseLog(e) { let t = this.getEvent(e.topics[0]); return !t || t.anonymous ? null : new YV({ eventFragment: t, name: t.name, signature: t.format(), topic: this.getEventTopic(t), args: this.decodeEventLog(t, e.data, e.topics) }) } parseError(e) { const t = (0, Hn.Dv)(e); let n = this.getError(t.substring(0, 10).toLowerCase()); return n ? new XV({ args: this._abiCoder.decode(n.inputs, "0x" + t.substring(10)), errorFragment: n, name: n.name, signature: n.format(), sighash: this.getSighash(n) }) : null } static isInterface(e) { return !(!e || !e._isInterface) } } var nK = function (e, t, n, r) { return new (n || (n = Promise))((function (i, o) { function s(e) { try { c(r.next(e)) } catch (t0) { o(t0) } } function a(e) { try { c(r.throw(e)) } catch (t0) { o(t0) } } function c(e) { var t; e.done ? i(e.value) : (t = e.value, t instanceof n ? t : new n((function (e) { e(t) }))).then(s, a) } c((r = r.apply(e, t || [])).next()) })) }; const rK = new Cn.Yd("contracts/5.7.0"); function iK(e, t) { return nK(this, void 0, void 0, (function* () { const n = yield t; "string" !== typeof n && rK.throwArgumentError("invalid address or ENS name", "name", n); try { return (0, _n.Kn)(n) } catch (i) { } e || rK.throwError("a provider or signer is needed to resolve ENS names", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "resolveName" }); const r = yield e.resolveName(n); return null == r && rK.throwArgumentError("resolver or addr is not configured for ENS name", "name", n), r })) } function oK(e, t, n) { return nK(this, void 0, void 0, (function* () { return Array.isArray(n) ? yield Promise.all(n.map(((n, r) => oK(e, Array.isArray(t) ? t[r] : t[n.name], n)))) : "address" === n.type ? yield iK(e, t) : "tuple" === n.type ? yield oK(e, t, n.components) : "array" === n.baseType ? Array.isArray(t) ? yield Promise.all(t.map((t => oK(e, t, n.arrayChildren)))) : Promise.reject(rK.makeError("invalid value for array", Cn.Yd.errors.INVALID_ARGUMENT, { argument: "value", value: t })) : t })) } function sK(e, t, n) { return nK(this, void 0, void 0, (function* () { let r = {}; n.length === t.inputs.length + 1 && "object" === typeof n[n.length - 1] && (r = Pn(n.pop())), rK.checkArgumentCount(n.length, t.inputs.length, "passed to contract"), e.signer ? r.from ? r.from = Tn({ override: iK(e.signer, r.from), signer: e.signer.getAddress() }).then((e => nK(this, void 0, void 0, (function* () { return (0, _n.Kn)(e.signer) !== e.override && rK.throwError("Contract with a Signer cannot override from", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "overrides.from" }), e.override })))) : r.from = e.signer.getAddress() : r.from && (r.from = iK(e.provider, r.from)); const i = yield Tn({ args: oK(e.signer || e.provider, n, t.inputs), address: e.resolvedAddress, overrides: Tn(r) || {} }), o = e.interface.encodeFunctionData(t, i.args), s = { data: o, to: i.address }, a = i.overrides; if (null != a.nonce && (s.nonce = qn.O$.from(a.nonce).toNumber()), null != a.gasLimit && (s.gasLimit = qn.O$.from(a.gasLimit)), null != a.gasPrice && (s.gasPrice = qn.O$.from(a.gasPrice)), null != a.maxFeePerGas && (s.maxFeePerGas = qn.O$.from(a.maxFeePerGas)), null != a.maxPriorityFeePerGas && (s.maxPriorityFeePerGas = qn.O$.from(a.maxPriorityFeePerGas)), null != a.from && (s.from = a.from), null != a.type && (s.type = a.type), null != a.accessList && (s.accessList = Ci(a.accessList)), null == s.gasLimit && null != t.gas) { let e = 21e3; const n = (0, Hn.lE)(o); for (let t = 0; t < n.length; t++)e += 4, n[t] && (e += 64); s.gasLimit = qn.O$.from(t.gas).add(e) } if (a.value) { const e = qn.O$.from(a.value); e.isZero() || t.payable || rK.throwError("non-payable method cannot override value", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "overrides.value", value: r.value }), s.value = e } a.customData && (s.customData = Pn(a.customData)), a.ccipReadEnabled && (s.ccipReadEnabled = !!a.ccipReadEnabled), delete r.nonce, delete r.gasLimit, delete r.gasPrice, delete r.from, delete r.value, delete r.type, delete r.accessList, delete r.maxFeePerGas, delete r.maxPriorityFeePerGas, delete r.customData, delete r.ccipReadEnabled; const c = Object.keys(r).filter((e => null != r[e])); return c.length && rK.throwError(`cannot override ${c.map((e => JSON.stringify(e))).join(",")}`, Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "overrides", overrides: c }), s })) } function aK(e, t) { const n = t.wait.bind(t); t.wait = t => n(t).then((t => (t.events = t.logs.map((n => { let r = jn(n), i = null; try { i = e.interface.parseLog(n) } catch (t0) { } return i && (r.args = i.args, r.decode = (t, n) => e.interface.decodeEventLog(i.eventFragment, t, n), r.event = i.name, r.eventSignature = i.signature), r.removeListener = () => e.provider, r.getBlock = () => e.provider.getBlock(t.blockHash), r.getTransaction = () => e.provider.getTransaction(t.transactionHash), r.getTransactionReceipt = () => Promise.resolve(t), r })), t))) } function cK(e, t, n) { const r = e.signer || e.provider; return function (...i) { return nK(this, void 0, void 0, (function* () { let o; if (i.length === t.inputs.length + 1 && "object" === typeof i[i.length - 1]) { const e = Pn(i.pop()); null != e.blockTag && (o = yield e.blockTag), delete e.blockTag, i.push(e) } null != e.deployTransaction && (yield e._deployed(o)); const s = yield sK(e, t, i), a = yield r.call(s, o); try { let r = e.interface.decodeFunctionResult(t, a); return n && 1 === t.outputs.length && (r = r[0]), r } catch (c) { throw c.code === Cn.Yd.errors.CALL_EXCEPTION && (c.address = e.address, c.args = i, c.transaction = s), c } })) } } function lK(e, t, n) { return t.constant ? cK(e, t, n) : function (e, t) { return function (...n) { return nK(this, void 0, void 0, (function* () { e.signer || rK.throwError("sending a transaction requires a signer", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "sendTransaction" }), null != e.deployTransaction && (yield e._deployed()); const r = yield sK(e, t, n), i = yield e.signer.sendTransaction(r); return aK(e, i), i })) } }(e, t) } function uK(e) { return !e.address || null != e.topics && 0 !== e.topics.length ? (e.address || "*") + "@" + (e.topics ? e.topics.map((e => Array.isArray(e) ? e.join("|") : e)).join(":") : "") : "*" } class dK { constructor(e, t) { kn(this, "tag", e), kn(this, "filter", t), this._listeners = [] } addListener(e, t) { this._listeners.push({ listener: e, once: t }) } removeListener(e) { let t = !1; this._listeners = this._listeners.filter((n => !(!t && n.listener === e) || (t = !0, !1))) } removeAllListeners() { this._listeners = [] } listeners() { return this._listeners.map((e => e.listener)) } listenerCount() { return this._listeners.length } run(e) { const t = this.listenerCount(); return this._listeners = this._listeners.filter((t => { const n = e.slice(); return setTimeout((() => { t.listener.apply(this, n) }), 0), !t.once })), t } prepareEvent(e) { } getEmit(e) { return [e] } } class hK extends dK { constructor() { super("error", null) } } class fK extends dK { constructor(e, t, n, r) { const i = { address: e }; let o = t.getEventTopic(n); r ? (o !== r[0] && rK.throwArgumentError("topic mismatch", "topics", r), i.topics = r.slice()) : i.topics = [o], super(uK(i), i), kn(this, "address", e), kn(this, "interface", t), kn(this, "fragment", n) } prepareEvent(e) { super.prepareEvent(e), e.event = this.fragment.name, e.eventSignature = this.fragment.format(), e.decode = (e, t) => this.interface.decodeEventLog(this.fragment, e, t); try { e.args = this.interface.decodeEventLog(this.fragment, e.data, e.topics) } catch (t) { e.args = null, e.decodeError = t } } getEmit(e) { const t = function (e) { const t = [], n = function (e, r) { if (Array.isArray(r)) for (let o in r) { const s = e.slice(); s.push(o); try { n(s, r[o]) } catch (i) { t.push({ path: s, error: i }) } } }; return n([], e), t }(e.args); if (t.length) throw t[0].error; const n = (e.args || []).slice(); return n.push(e), n } } class pK extends dK { constructor(e, t) { super("*", { address: e }), kn(this, "address", e), kn(this, "interface", t) } prepareEvent(e) { super.prepareEvent(e); try { const t = this.interface.parseLog(e); e.event = t.name, e.eventSignature = t.signature, e.decode = (e, n) => this.interface.decodeEventLog(t.eventFragment, e, n), e.args = t.args } catch (t) { } } } class mK extends class { constructor(e, t, n) { kn(this, "interface", In(new.target, "getInterface")(t)), null == n ? (kn(this, "provider", null), kn(this, "signer", null)) : Wn.isSigner(n) ? (kn(this, "provider", n.provider || null), kn(this, "signer", n)) : qi.isProvider(n) ? (kn(this, "provider", n), kn(this, "signer", null)) : rK.throwArgumentError("invalid signer or provider", "signerOrProvider", n), kn(this, "callStatic", {}), kn(this, "estimateGas", {}), kn(this, "functions", {}), kn(this, "populateTransaction", {}), kn(this, "filters", {}); { const e = {}; Object.keys(this.interface.events).forEach((t => { const n = this.interface.events[t]; kn(this.filters, t, ((...e) => ({ address: this.address, topics: this.interface.encodeFilterTopics(n, e) }))), e[n.name] || (e[n.name] = []), e[n.name].push(t) })), Object.keys(e).forEach((t => { const n = e[t]; 1 === n.length ? kn(this.filters, t, this.filters[n[0]]) : rK.warn(`Duplicate definition of ${t} (${n.join(", ")})`) })) } if (kn(this, "_runningEvents", {}), kn(this, "_wrappedEmits", {}), null == e && rK.throwArgumentError("invalid contract address or ENS name", "addressOrName", e), kn(this, "address", e), this.provider) kn(this, "resolvedAddress", iK(this.provider, e)); else try { kn(this, "resolvedAddress", Promise.resolve((0, _n.Kn)(e))) } catch (o) { rK.throwError("provider is required to use ENS name as contract address", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "new Contract" }) } this.resolvedAddress.catch((e => { })); const r = {}, i = {}; Object.keys(this.interface.functions).forEach((e => { const t = this.interface.functions[e]; if (i[e]) rK.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`); else { i[e] = !0; { const n = t.name; r[`%${n}`] || (r[`%${n}`] = []), r[`%${n}`].push(e) } null == this[e] && kn(this, e, lK(this, t, !0)), null == this.functions[e] && kn(this.functions, e, lK(this, t, !1)), null == this.callStatic[e] && kn(this.callStatic, e, cK(this, t, !0)), null == this.populateTransaction[e] && kn(this.populateTransaction, e, function (e, t) { return function (...n) { return sK(e, t, n) } }(this, t)), null == this.estimateGas[e] && kn(this.estimateGas, e, function (e, t) { const n = e.signer || e.provider; return function (...r) { return nK(this, void 0, void 0, (function* () { n || rK.throwError("estimate require a provider or signer", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "estimateGas" }); const i = yield sK(e, t, r); return yield n.estimateGas(i) })) } }(this, t)) } })), Object.keys(r).forEach((e => { const t = r[e]; if (t.length > 1) return; e = e.substring(1); const n = t[0]; try { null == this[e] && kn(this, e, this[n]) } catch (t0) { } null == this.functions[e] && kn(this.functions, e, this.functions[n]), null == this.callStatic[e] && kn(this.callStatic, e, this.callStatic[n]), null == this.populateTransaction[e] && kn(this.populateTransaction, e, this.populateTransaction[n]), null == this.estimateGas[e] && kn(this.estimateGas, e, this.estimateGas[n]) })) } static getContractAddress(e) { return (0, _n.CR)(e) } static getInterface(e) { return tK.isInterface(e) ? e : new tK(e) } deployed() { return this._deployed() } _deployed(e) { return this._deployedPromise || (this.deployTransaction ? this._deployedPromise = this.deployTransaction.wait().then((() => this)) : this._deployedPromise = this.provider.getCode(this.address, e).then((e => ("0x" === e && rK.throwError("contract not deployed", Cn.Yd.errors.UNSUPPORTED_OPERATION, { contractAddress: this.address, operation: "getDeployed" }), this)))), this._deployedPromise } fallback(e) { this.signer || rK.throwError("sending a transactions require a signer", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "sendTransaction(fallback)" }); const t = Pn(e || {}); return ["from", "to"].forEach((function (e) { null != t[e] && rK.throwError("cannot override " + e, Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: e }) })), t.to = this.resolvedAddress, this.deployed().then((() => this.signer.sendTransaction(t))) } connect(e) { "string" === typeof e && (e = new zn(e, this.provider)); const t = new this.constructor(this.address, this.interface, e); return this.deployTransaction && kn(t, "deployTransaction", this.deployTransaction), t } attach(e) { return new this.constructor(e, this.interface, this.signer || this.provider) } static isIndexed(e) { return JV.isIndexed(e) } _normalizeRunningEvent(e) { return this._runningEvents[e.tag] ? this._runningEvents[e.tag] : e } _getRunningEvent(e) { if ("string" === typeof e) { if ("error" === e) return this._normalizeRunningEvent(new hK); if ("event" === e) return this._normalizeRunningEvent(new dK("event", null)); if ("*" === e) return this._normalizeRunningEvent(new pK(this.address, this.interface)); const t = this.interface.getEvent(e); return this._normalizeRunningEvent(new fK(this.address, this.interface, t)) } if (e.topics && e.topics.length > 0) { try { const t = e.topics[0]; if ("string" !== typeof t) throw new Error("invalid topic"); const n = this.interface.getEvent(t); return this._normalizeRunningEvent(new fK(this.address, this.interface, n, e.topics)) } catch (t) { } const n = { address: this.address, topics: e.topics }; return this._normalizeRunningEvent(new dK(uK(n), n)) } return this._normalizeRunningEvent(new pK(this.address, this.interface)) } _checkRunningEvents(e) { if (0 === e.listenerCount()) { delete this._runningEvents[e.tag]; const t = this._wrappedEmits[e.tag]; t && e.filter && (this.provider.off(e.filter, t), delete this._wrappedEmits[e.tag]) } } _wrapEvent(e, t, n) { const r = jn(t); return r.removeListener = () => { n && (e.removeListener(n), this._checkRunningEvents(e)) }, r.getBlock = () => this.provider.getBlock(t.blockHash), r.getTransaction = () => this.provider.getTransaction(t.transactionHash), r.getTransactionReceipt = () => this.provider.getTransactionReceipt(t.transactionHash), e.prepareEvent(r), r } _addEventListener(e, t, n) { if (this.provider || rK.throwError("events require a provider or a signer with a provider", Cn.Yd.errors.UNSUPPORTED_OPERATION, { operation: "once" }), e.addListener(t, n), this._runningEvents[e.tag] = e, !this._wrappedEmits[e.tag]) { const n = n => { let r = this._wrapEvent(e, n, t); if (null == r.decodeError) try { const t = e.getEmit(r); this.emit(e.filter, ...t) } catch (i) { r.decodeError = i.error } null != e.filter && this.emit("event", r), null != r.decodeError && this.emit("error", r.decodeError, r) }; this._wrappedEmits[e.tag] = n, null != e.filter && this.provider.on(e.filter, n) } } queryFilter(e, t, n) { const r = this._getRunningEvent(e), i = Pn(r.filter); return "string" === typeof t && (0, Hn.A7)(t, 32) ? (null != n && rK.throwArgumentError("cannot specify toBlock with blockhash", "toBlock", n), i.blockHash = t) : (i.fromBlock = null != t ? t : 0, i.toBlock = null != n ? n : "latest"), this.provider.getLogs(i).then((e => e.map((e => this._wrapEvent(r, e, null))))) } on(e, t) { return this._addEventListener(this._getRunningEvent(e), t, !1), this } once(e, t) { return this._addEventListener(this._getRunningEvent(e), t, !0), this } emit(e, ...t) { if (!this.provider) return !1; const n = this._getRunningEvent(e), r = n.run(t) > 0; return this._checkRunningEvents(n), r } listenerCount(e) { return this.provider ? null == e ? Object.keys(this._runningEvents).reduce(((e, t) => e + this._runningEvents[t].listenerCount()), 0) : this._getRunningEvent(e).listenerCount() : 0 } listeners(e) { if (!this.provider) return []; if (null == e) { const e = []; for (let t in this._runningEvents) this._runningEvents[t].listeners().forEach((t => { e.push(t) })); return e } return this._getRunningEvent(e).listeners() } removeAllListeners(e) { if (!this.provider) return this; if (null == e) { for (const e in this._runningEvents) { const t = this._runningEvents[e]; t.removeAllListeners(), this._checkRunningEvents(t) } return this } const t = this._getRunningEvent(e); return t.removeAllListeners(), this._checkRunningEvents(t), this } off(e, t) { if (!this.provider) return this; const n = this._getRunningEvent(e); return n.removeListener(t), this._checkRunningEvents(n), this } removeListener(e, t) { return this.off(e, t) } }{ } var gK = n(34139); let yK = { id: 42161, name: "Arbitrum One", network: "arbitrum", nativeCurrency: { name: "Ether", symbol: "ETH", decimals: 18 }, rpcUrls: { privy: { http: ["https://arbitrum-mainnet.rpc.privy.systems"] }, alchemy: { http: ["https://arb-mainnet.g.alchemy.com/v2"], webSocket: ["wss://arb-mainnet.g.alchemy.com/v2"] }, infura: { http: ["https://arbitrum-mainnet.infura.io/v3"], webSocket: ["wss://arbitrum-mainnet.infura.io/ws/v3"] }, default: { http: ["https://arb1.arbitrum.io/rpc"] }, public: { http: ["https://arb1.arbitrum.io/rpc"] } }, blockExplorers: { etherscan: { name: "Arbiscan", url: "https://arbiscan.io" }, default: { name: "Arbiscan", url: "https://arbiscan.io" } } }, bK = { id: 421613, name: "Arbitrum Goerli", network: "arbitrum-goerli", nativeCurrency: { name: "Goerli Ether", symbol: "AGOR", decimals: 18 }, rpcUrls: { default: { http: ["https://goerli-rollup.arbitrum.io/rpc"] } }, blockExplorers: { default: { name: "Arbiscan", url: "https://goerli.arbiscan.io/" } }, testnet: !0 }, vK = { id: 421614, name: "Arbitrum Sepolia", network: "arbitrum-sepolia", nativeCurrency: { name: "Arbitrum Sepolia Ether", symbol: "ETH", decimals: 18 }, rpcUrls: { privy: { http: ["https://arbitrum-sepolia.rpc.privy.systems"] }, default: { http: ["https://sepolia-rollup.arbitrum.io/rpc"] }, public: { http: ["https://sepolia-rollup.arbitrum.io/rpc"] } }, blockExplorers: { default: { name: "Blockscout", url: "https://sepolia-explorer.arbitrum.io" } }, testnet: !0 }, wK = { id: 8453, network: "base", name: "Base", nativeCurrency: { name: "Ether", symbol: "ETH", decimals: 18 }, rpcUrls: { privy: { http: ["https://base-mainnet.rpc.privy.systems"] }, blast: { http: ["https://base-mainnet.blastapi.io"], webSocket: ["wss://base-mainnet.blastapi.io"] }, default: { http: ["https://mainnet.base.org"] }, public: { http: ["https://mainnet.base.org"] } }, blockExplorers: { etherscan: { name: "Basescan", url: "https://basescan.org" }, default: { name: "Basescan", url: "https://basescan.org" } } }, EK = { id: 84531, network: "base-goerli", name: "Base Goerli Testnet", nativeCurrency: { name: "Goerli Ether", symbol: "ETH", decimals: 18 }, rpcUrls: { default: { http: ["https://goerli.base.org"] } }, blockExplorers: { default: { name: "Basescan", url: "https://goerli.basescan.org" } }, testnet: !0 }, xK = { id: 84532, network: "base-sepolia", name: "Base Sepolia", nativeCurrency: { name: "Sepolia Ether", symbol: "ETH", decimals: 18 }, rpcUrls: { privy: { http: ["https://base-sepolia.rpc.privy.systems"] }, default: { http: ["https://sepolia.base.org"] }, public: { http: ["https://sepolia.base.org"] } }, blockExplorers: { default: { name: "Blockscout", url: "https://base-sepolia.blockscout.com" } }, testnet: !0 }, _K = { id: 10, name: "OP Mainnet", network: "optimism", nativeCurrency: { name: "Ether", symbol: "ETH", decimals: 18 }, rpcUrls: { privy: { http: ["https://optimism-mainnet.rpc.privy.systems"] }, alchemy: { http: ["https://opt-mainnet.g.alchemy.com/v2"], webSocket: ["wss://opt-mainnet.g.alchemy.com/v2"] }, infura: { http: ["https://optimism-mainnet.infura.io/v3"], webSocket: ["wss://optimism-mainnet.infura.io/ws/v3"] }, default: { http: ["https://mainnet.optimism.io"] }, public: { http: ["https://mainnet.optimism.io"] } }, blockExplorers: { etherscan: { name: "Etherscan", url: "https://optimistic.etherscan.io" }, default: { name: "Optimism Explorer", url: "https://explorer.optimism.io" } } }, CK = { id: 420, name: "Optimism Goerli Testnet", network: "optimism-goerli", nativeCurrency: { name: "Goerli Ether", symbol: "ETH", decimals: 18 }, rpcUrls: { default: { http: ["https://goerli.optimism.io"] } }, blockExplorers: { default: { name: "Etherscan", url: "https://goerli-optimism.etherscan.io" } }, testnet: !0 }, AK = { id: 11155420, name: "Optimism Sepolia", network: "optimism-sepolia", nativeCurrency: { name: "Sepolia Ether", symbol: "ETH", decimals: 18 }, rpcUrls: { privy: { http: ["https://optimism-sepolia.rpc.privy.systems"] }, default: { http: ["https://sepolia.optimism.io"] }, public: { http: ["https://sepolia.optimism.io"] }, infura: { http: ["https://optimism-sepolia.infura.io/v3"] } }, blockExplorers: { default: { name: "Blockscout", url: "https://optimism-sepolia.blockscout.com" } }, testnet: !0 }, SK = { id: 137, name: "Polygon Mainnet", network: "polygon", nativeCurrency: { name: "POL", symbol: "POL", decimals: 18 }, rpcUrls: { privy: { http: ["https://polygon-mainnet.rpc.privy.systems"] }, alchemy: { http: ["https://polygon-mainnet.g.alchemy.com/v2"], webSocket: ["wss://polygon-mainnet.g.alchemy.com/v2"] }, infura: { http: ["https://polygon-mainnet.infura.io/v3"], webSocket: ["wss://polygon-mainnet.infura.io/ws/v3"] }, default: { http: ["https://polygon-rpc.com"] }, public: { http: ["https://polygon-rpc.com"] } }, blockExplorers: { etherscan: { name: "PolygonScan", url: "https://polygonscan.com" }, default: { name: "PolygonScan", url: "https://polygonscan.com" } } }, kK = { id: 80001, name: "Mumbai", network: "maticmum", nativeCurrency: { name: "MATIC", symbol: "MATIC", decimals: 18 }, rpcUrls: { default: { http: ["https://matic-mumbai.chainstacklabs.com"] } }, blockExplorers: { default: { name: "PolygonScan", url: "https://mumbai.polygonscan.com" } }, testnet: !0 }, IK = { id: 7777777, name: "Zora", network: "zora", nativeCurrency: { decimals: 18, name: "Ether", symbol: "ETH" }, rpcUrls: { default: { http: ["https://rpc.zora.energy"], webSocket: ["wss://rpc.zora.energy"] }, public: { http: ["https://rpc.zora.energy"], webSocket: ["wss://rpc.zora.energy"] } }, blockExplorers: { default: { name: "Explorer", url: "https://explorer.zora.energy" } } }, TK = { id: 999999999, name: "Zora Sepolia", network: "zora-sepolia", nativeCurrency: { decimals: 18, name: "Zora Sepolia", symbol: "ETH" }, rpcUrls: { default: { http: ["https://sepolia.rpc.zora.energy"], webSocket: ["wss://sepolia.rpc.zora.energy"] }, public: { http: ["https://sepolia.rpc.zora.energy"], webSocket: ["wss://sepolia.rpc.zora.energy"] } }, blockExplorers: { default: { name: "Zora Sepolia Explorer", url: "https://sepolia.explorer.zora.energy/" } }, testnet: !0 }, NK = { id: 999, name: "Zora Goerli Testnet", network: "zora-testnet", nativeCurrency: { decimals: 18, name: "Zora Goerli", symbol: "ETH" }, rpcUrls: { default: { http: ["https://testnet.rpc.zora.energy"], webSocket: ["wss://testnet.rpc.zora.energy"] }, public: { http: ["https://testnet.rpc.zora.energy"], webSocket: ["wss://testnet.rpc.zora.energy"] } }, blockExplorers: { default: { name: "Explorer", url: "https://testnet.explorer.zora.energy" } }, testnet: !0 }, PK = e => [yK.id, bK.id, vK.id].includes(e), MK = e => [56, 97].includes(e), OK = ["function getL1Fee(bytes memory _data) external view returns (uint256)"], RK = e => [wK.id, EK.id, xK.id, _K.id, CK.id, AK.id, IK.id, NK.id, TK.id, 81457, 168587773].includes(e), jK = { id: 80002, name: "Polygon Amoy", network: "polygon-amoy", nativeCurrency: { name: "POL", symbol: "POL", decimals: 18 }, rpcUrls: { privy: { http: ["https://polygon-amoy.rpc.privy.systems"] }, infura: { http: ["https://polygon-amoy.infura.io/v3"], webSocket: ["wss://polygon-amoy.infura.io/ws/v3"] }, default: { http: ["https://rpc-amoy.polygon.technology"] } }, blockExplorers: { default: { name: "OK LINK", url: "https://www.oklink.com/amoy" } }, testnet: !0 }, $K = gK(fetch, { retries: 3, retryDelay: 500 }), LK = e => [SK.id, kK.id, jK.id].includes(e), DK = e => ({ maxPriorityFee: LF(e.maxPriorityFee.toFixed(9), "gwei").toHexString(), maxFee: LF(e.maxFee.toFixed(9), "gwei").toHexString() }); async function UK(e, t) { if (!e.gasLimit) throw new Uc("gasLimit was not successfully set for transaction."); let n = UF(e.gasLimit), r = qn.O$.from(0); if (2 == e.type) { if (!e.maxFeePerGas) throw new Uc("maxFeePerGas was not successfully set for transaction of type 2."); r = UF(e.maxFeePerGas) } else { if (!e.gasPrice) throw new Uc("gasPrice was not successfully set for transaction of type 0 or 1."); r = UF(e.gasPrice) } let i = n.mul(r), o = qn.O$.from(0); if (e.chainId && RK(e.chainId)) try { o = await async function (e, t) { if (!e.chainId || e.chainId && !RK(e.chainId)) return qn.O$.from(0); let n = qn.O$.from(0); try { let r = new mK("0x420000000000000000000000000000000000000F", OK, t), i = Ii(function (e) { let t = {}; return void 0 !== e.to && (t.to = e.to), void 0 !== e.data && (t.data = e.data), void 0 !== e.chainId && (t.chainId = e.chainId), void 0 !== e.type && (t.type = e.type), void 0 !== e.accessList && (t.accessList = e.accessList), void 0 !== e.nonce && (t.nonce = UF(e.nonce).toNumber()), void 0 !== e.gasLimit && (t.gasLimit = UF(e.gasLimit)), void 0 !== e.gasPrice && (t.gasPrice = UF(e.gasPrice)), void 0 !== e.value && (t.value = UF(e.value)), void 0 !== e.maxFeePerGas && (t.maxFeePerGas = UF(e.maxFeePerGas)), void 0 !== e.maxPriorityFeePerGas && (t.maxPriorityFeePerGas = UF(e.maxPriorityFeePerGas)), t }(e)); n = await r.getL1Fee(i) } catch (e) { } return n }(e, t), i = i.add(o) } catch (e) { } return { totalGasEstimate: i, l1ExecutionFeeEstimate: o } } function FK(e) { return /^-?0x[a-f0-9]+$/i.test(e) } async function BK(e, t, n) { if (t.chainId = Number(t.chainId), function (e) { for (let t of ["gasLimit", "gasPrice", "value", "maxPriorityFeePerGas", "maxFeePerGas"]) { let n = e[t]; if (void 0 !== n && !function (e) { let t = "number" == typeof e, n = "bigint" == typeof e, r = "string" == typeof e && FK(e); return t || n || r }(n)) throw Error(`Transaction request property '${t}' must be a valid number, bigint, or hex string representing a quantity`) } if ("number" != typeof e.chainId) throw Error("Transaction request property 'chainId' must be a number") }(t), t.from || (t.from = e), !t.nonce) { let r = new zn(e, n); t.nonce = await r.getTransactionCount("pending") } return t.gasLimit || (t.gas ? (t.gasLimit = t.gas, delete t.gas) : t.gasLimit = await async function (e, t) { try { return (await t.estimateGas(e)).toHexString() } catch (n) { let r; if ("message" in n && n.message.includes("insufficient funds") && (console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'value'`), r = await async function ({ txRequest: e, provider: t }) { try { let n = { ...e, value: void 0 }; return (await t.estimateGas(n)).toHexString() } catch (e) { return console.warn(`Gas estimation failed with error: ${e} when omitting the 'value'`), null } }({ txRequest: e, provider: t })), r || (console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'from'`), r = await async function ({ txRequest: e, provider: t }) { try { let n = { ...e, from: void 0 }; return (await t.estimateGas(n)).toHexString() } catch (e) { return console.warn(`Gas estimation failed with error: ${e} when omitting the 'from' address`), null } }({ txRequest: e, provider: t })), !r) throw n; return r } }(t, n)), "string" == typeof t.type && FK(t.type) && (t.type = Number(t.type)), [23294, 23295].includes(t.chainId) && (t.type = 0), 0 === (t = LK(t.chainId) ? await async function (e) { if (!LK(e.chainId)) throw Error("Invalid chain ID for Polygon gas estimation."); if (void 0 === e.type && (e.type = 2), e.maxPriorityFeePerGas && e.maxFeePerGas) return e; try { let { standard: t } = await (async e => { let t = ""; switch (e) { case SK.id: t = "https://gasstation.polygon.technology/v2"; break; case kK.id: t = "https://gasstation-testnet.polygon.technology/v2"; break; case jK.id: t = "https://gasstation.polygon.technology/amoy"; break; default: throw Error(`chainId ${e} does not support polygon gas stations`) }let n = await $K(t), r = await n.json(); if (n.status > 399) throw r; return { safeLow: DK(r.safeLow), standard: DK(r.standard), fast: DK(r.fast) } })(e.chainId); e.maxPriorityFeePerGas || (e.maxPriorityFeePerGas = t.maxPriorityFee), e.maxFeePerGas || (e.maxFeePerGas = t.maxFee), e.gasPrice && (console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."), delete e.gasPrice) } catch (e) { throw Error(`Failed to set gas prices from Polygon gas station with error: ${e}.`) } return e }(t) : PK(t.chainId) ? await (async (e, t) => { if (!PK(e.chainId)) throw Error("Invalid chain ID for Arbitrum gas estimation."); if (void 0 === e.type && (e.type = 2), e.maxFeePerGas) return e; try { let { lastBaseFeePerGas: n } = await t.getFeeData(); if (n) { let t = n.mul(qn.O$.from(120)).div(qn.O$.from(100)); e.maxFeePerGas = FF(t), e.maxPriorityFeePerGas = FF(qn.O$.from(0)) } } catch (e) { throw Error(`Failed to set gas price for Arbitrum transaction: ${e}.`) } return e })(t, n) : RK(t.chainId) ? await (async (e, t) => { if (!RK(e.chainId)) throw Error("Invalid chain ID for OP Stack gas estimation."); if (void 0 === e.type && (e.type = 2), e.gasPrice && (console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."), delete e.gasPrice), e.maxPriorityFeePerGas && e.maxFeePerGas) return e; try { if (!e.maxPriorityFeePerGas) { let n = await t.send("eth_maxPriorityFeePerGas", []); e.maxPriorityFeePerGas = n } if (e.maxFeePerGas && (console.warn("maxFeePerGas is specified without maxPriorityFeePerGas - this can result in hung transactions."), e.maxPriorityFeePerGas >= e.maxFeePerGas)) throw Error("Overridden maxFeePerGas is less than or equal to the calculated maxPriorityFeePerGas. Please set both values or maxPriorityFeePerGas alone for correct gas estimation."); if (!e.maxFeePerGas) { let { lastBaseFeePerGas: n } = await t.getFeeData(); if (!n) throw Error("Unable to fetch baseFee for last block."); let r = qn.O$.from(n).mul(qn.O$.from(126)).div(qn.O$.from(100)).add(qn.O$.from(e.maxPriorityFeePerGas)); e.maxFeePerGas = FF(r) } } catch (e) { throw Error(`Failed to set gas price for OP stack transaction: ${e}.`) } return e })(t, n) : MK(t.chainId) ? await (async (e, t) => { if (!MK(e.chainId)) throw Error("Invalid chain ID for BSC gas estimation."); if (void 0 === e.type ? e.type = 0 : 1 != e.type && 2 != e.type || console.warn("Transaction request type specified is incompatible for chain and will result in undefined behavior.  Please use transaction type 0."), !e.gasPrice) { let n = await t.getFeeData(); e.gasPrice = n.gasPrice?.toHexString() } return e })(t, n) : await (async (e, t) => { if (void 0 === e.type && (e.type = 2), 2 === e.type) { if (!e.maxFeePerGas || !e.maxPriorityFeePerGas) { let n = await t.getFeeData(); e.maxFeePerGas || (e.maxFeePerGas = n.maxFeePerGas?.toHexString()), e.maxPriorityFeePerGas || (e.maxPriorityFeePerGas = n.maxPriorityFeePerGas?.toHexString()) } } else if (!e.gasPrice) { let n = await t.getFeeData(); e.gasPrice = n.gasPrice?.toHexString() } return e })(t, n)).type && delete t.accessList, 2 !== t.type && (delete t.maxPriorityFeePerGas, delete t.maxFeePerGas), t } const WK = ({ label: e, children: t, valueStyles: n }) => (0, y.jsxs)(zK, { children: [(0, y.jsx)("div", { children: e }), (0, y.jsx)(qK, { style: { ...n }, children: t })] }); let zK = oh.div.withConfig({ displayName: "StyledDetailsRow", componentId: "sc-4ebfdd45-0" })(["display:flex;align-items:center;justify-content:space-between;width:100%;> :first-child{color:var(--privy-color-foreground-3);text-align:left;}> :last-child{color:var(--privy-color-foreground-2);text-align:right;}"]), qK = oh.div.withConfig({ displayName: "ValueWrapper", componentId: "sc-4ebfdd45-1" })(["font-size:14px;line-height:100%;display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-full);background-color:var(--privy-color-background-2);padding:4px 8px;"]); const HK = ({ weiQuantities: e, tokenPrice: t, tokenSymbol: n }) => { let r = GF(e), i = t ? qF(r, t) : void 0, o = HF(r, n); return (0, y.jsx)(KK, { children: i || o }) }, GK = ({ weiQuantities: e, tokenPrice: t, tokenSymbol: n }) => { let r = GF(e), i = t ? qF(r, t) : void 0, o = HF(r, n); return (0, y.jsx)(KK, { children: i ? (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(YK, { children: "USD" }), "<$0.01" === i ? (0, y.jsxs)(XK, { children: [(0, y.jsx)(ZK, { children: "<" }), "$0.01"] }) : i] }) : o }) }, VK = ({ quantities: e, tokenPrice: t }) => { let n = e.reduce(((e, t) => e + t), 0n), r = t ? qR(n, t) : void 0, i = zR(n); return (0, y.jsx)(KK, { children: r ? (0, y.jsx)(y.Fragment, { children: "<$0.01" === r ? (0, y.jsxs)(XK, { children: [(0, y.jsx)(ZK, { children: "<" }), "$0.01"] }) : r }) : i }) }; let KK = oh.span.withConfig({ displayName: "StyledPriceDisplay", componentId: "sc-baca4d48-0" })(["font-size:14px;line-height:140%;display:flex;gap:4px;align-items:center;"]), YK = oh.span.withConfig({ displayName: "StyledPriceUnit", componentId: "sc-baca4d48-1" })(["font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);"]), ZK = oh.span.withConfig({ displayName: "TinyLessThan", componentId: "sc-baca4d48-2" })(["font-size:10px;"]), XK = oh.span.withConfig({ displayName: "FlexCenter", componentId: "sc-baca4d48-3" })(["display:flex;align-items:center;"]); const JK = ({ gas: e, tokenPrice: t, tokenSymbol: n }) => (0, y.jsxs)(Pm, { style: { paddingBottom: "12px" }, children: [(0, y.jsxs)(eY, { children: [(0, y.jsx)(nY, { children: "Est. Fees" }), (0, y.jsx)("div", { children: (0, y.jsx)(GK, { weiQuantities: [e], tokenPrice: t, tokenSymbol: n }) })] }), t && (0, y.jsx)(tY, { children: `${HF(e, n)}` })] }), QK = ({ transactionData: e, gas: t, tokenPrice: n, tokenSymbol: r }) => { let i = UF(e.value || 0).add(UF(t)).toHexString(); return (0, y.jsxs)(Pm, { children: [(0, y.jsxs)(eY, { children: [(0, y.jsx)(nY, { children: "Total (including fees)" }), (0, y.jsx)("div", { children: (0, y.jsx)(GK, { weiQuantities: [e.value || 0, t], tokenPrice: n, tokenSymbol: r }) })] }), n && (0, y.jsx)(tY, { children: HF(i, r) })] }) }; let eY = oh.div.withConfig({ displayName: "TransactionTotalRow", componentId: "sc-57dfeccd-0" })(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:4px;"]), tY = oh.div.withConfig({ displayName: "ValueConversionRow", componentId: "sc-57dfeccd-1" })(["display:flex;flex-direction:row;height:12px;font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);font-weight:400;"]), nY = oh.div.withConfig({ displayName: "TotalText", componentId: "sc-57dfeccd-2" })(["font-size:14px;line-height:22.4px;font-weight:400;"]); const rY = (0, Ke.createContext)(void 0), iY = (0, Ke.createContext)(void 0), oY = ({ defaultValue: e, children: t }) => { let [n, r] = (0, Ke.useState)(e || null); return (0, y.jsx)(rY.Provider, { value: { activePanel: n, togglePanel: e => { r(n === e ? null : e) } }, children: (0, y.jsx)(uY, { children: t }) }) }, sY = ({ value: e, children: t }) => { let { activePanel: n, togglePanel: r } = (0, Ke.useContext)(rY), i = n === e; return (0, y.jsx)(iY.Provider, { value: { onToggle: () => r(e), value: e }, children: (0, y.jsx)(pY, { isActive: i, "data-open": i, children: t }) }) }, aY = ({ children: e }) => { let { activePanel: t } = (0, Ke.useContext)(rY), { onToggle: n, value: r } = (0, Ke.useContext)(iY), i = t === r; return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsxs)(dY, { onClick: n, "data-open": i, children: [(0, y.jsx)(fY, { children: e }), (0, y.jsx)(yY, { isactive: i, children: (0, y.jsx)(pF, { height: "16px", width: "16px", strokeWidth: "2" }) })] }), (0, y.jsx)(hY, {})] }) }, cY = ({ children: e }) => { let { activePanel: t } = (0, Ke.useContext)(rY), { value: n } = (0, Ke.useContext)(iY); return (0, y.jsx)(mY, { "data-open": t === n, children: (0, y.jsx)(gY, { children: e }) }) }, lY = ({ children: e }) => { let { activePanel: t } = (0, Ke.useContext)(rY), { value: n } = (0, Ke.useContext)(iY); return (0, y.jsx)(gY, { children: "function" == typeof e ? e({ isActive: t === n }) : e }) }; let uY = oh.div.withConfig({ displayName: "AccordionRoot", componentId: "sc-281bf545-0" })(["display:flex;flex-direction:column;width:100%;gap:8px;"]), dY = oh.div.withConfig({ displayName: "AccordionTriggerContainer", componentId: "sc-281bf545-1" })(["display:flex;justify-content:space-between;align-items:center;width:100%;cursor:pointer;padding-bottom:8px;"]), hY = oh.div.withConfig({ displayName: "AccordionDivider", componentId: "sc-281bf545-2" })(["width:100%;&&{border-top:1px solid;border-color:var(--privy-color-foreground-4);}padding-bottom:12px;"]), fY = oh.div.withConfig({ displayName: "AccordionTriggerContent", componentId: "sc-281bf545-3" })(["font-size:14px;font-weight:500;line-height:19.6px;width:100%;padding-right:8px;"]), pY = oh.div.withConfig({ displayName: "AccordionPanelContainer", componentId: "sc-281bf545-4" })(["display:flex;flex-direction:column;width:100%;overflow:hidden;padding:12px;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]), mY = oh.div.withConfig({ displayName: "AccordionContentContainer", componentId: "sc-281bf545-5" })(["position:relative;overflow:hidden;transition:max-height 25ms ease-out;&[data-open='true']{max-height:700px;}&[data-open='false']{max-height:0;}"]), gY = oh.div.withConfig({ displayName: "ContentWrapper", componentId: "sc-281bf545-6" })(["display:flex;flex-direction:column;gap:12px;flex:1 1 auto;min-height:1px;"]), yY = oh.div.withConfig({ displayName: "IconWrapper", componentId: "sc-281bf545-7" })(["transform:", ";"], (e => e.isactive ? "rotate(180deg)" : "rotate(0deg)")); const bY = ({ walletAddress: e, chainId: t = 1, network: n, rpcEndpoint: r }) => (0, y.jsx)(vY, { href: "ethereum" === n ? VF(t, e) : yh(e, gh(r || "")), target: "_blank", children: ja(e) }); let vY = oh.a.withConfig({ displayName: "StyledLink", componentId: "sc-adda23e5-0" })(["&:hover{text-decoration:underline;}"]); const wY = ({ from: e, to: t, txn: n, transactionInfo: r, tokenPrice: i, gas: o, tokenSymbol: s }) => { let a = n?.value || 0; return (0, y.jsx)(oY, { ...sf().render.standalone ? { defaultValue: "details" } : {}, children: (0, y.jsxs)(sY, { value: "details", children: [(0, y.jsx)(aY, { children: (0, y.jsxs)(EY, { children: [(0, y.jsx)("div", { children: r?.title || r?.actionDescription || "Details" }), (0, y.jsx)(xY, { children: (0, y.jsx)(HK, { weiQuantities: [a], tokenPrice: i, tokenSymbol: s }) })] }) }), (0, y.jsxs)(cY, { children: [(0, y.jsx)(WK, { label: "From", children: (0, y.jsx)(bY, { walletAddress: e, chainId: n.chainId || 1, network: "ethereum" }) }), (0, y.jsx)(WK, { label: "To", children: (0, y.jsx)(bY, { walletAddress: t, chainId: n.chainId || 1, network: "ethereum" }) }), r && r.action && (0, y.jsx)(WK, { label: "Action", children: r.action }), o && (0, y.jsx)(JK, { transactionData: n, gas: o, tokenPrice: i, tokenSymbol: s })] }), (0, y.jsx)(lY, { children: ({ isActive: e }) => (0, y.jsx)(QK, { transactionData: n, displayFee: e, gas: o || "0x0", tokenPrice: i, tokenSymbol: s }) })] }) }) }; let EY = oh.div.withConfig({ displayName: "AccordionTriggerContent", componentId: "sc-f5e43b51-0" })(["display:flex;flex-direction:row;justify-content:space-between;"]), xY = oh.div.withConfig({ displayName: "TotalText", componentId: "sc-f5e43b51-1" })(["flex-shrink:0;padding-left:8px;"]); const _Y = ({ pendingTransaction: e }) => { let { getAccessToken: t } = (0, mf.b)(), { wallets: n } = (0, RR.r)(), { walletProxy: r, rpcConfig: i, chains: o, appId: s, nativeTokenSymbolForChainId: a } = (0, af.u)(), [c, l] = (0, Ke.useState)(null), [u, d] = (0, Ke.useState)(e), { tokenPrice: h } = OR(u.chainId), f = a(e.chainId) || "ETH", p = (0, Ke.useMemo)((() => n.find((e => "privy" === e.walletClientType))), [n]); return (0, Ke.useEffect)((() => { (async function () { if (!(await t()) || !r || !p) return u; let e = Ga(u.chainId, o, i, { appId: s }), n = await BK(p.address, u, e), { totalGasEstimate: a } = await UK(n, e); return l(a.toHexString()), n })().then(d).catch(console.error) }), [r]), p ? (0, y.jsx)(CY, { children: (0, y.jsx)(wY, { from: p.address, to: u.to, txn: u, gas: c ?? void 0, tokenPrice: h, tokenSymbol: f }) }) : null }; let CY = oh.div.withConfig({ displayName: "TransactionInfoWrapper", componentId: "sc-d00f06ba-0" })(["width:100%;padding:1rem 0;"]); function AY({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5" })) } var SY = Ke.forwardRef(AY); const kY = ({ hasBlockingError: e, error: t, onClose: n, onBack: r, handleSubmit: i, account: o, submitSuccess: s }) => { let { pendingTransaction: a } = (0, af.u)(); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: n }, "header"), (0, y.jsx)(ep, { children: (0, y.jsxs)("div", { children: [(0, y.jsx)(wf, { success: s, fail: !!t }), (0, y.jsx)(t ? mp : PB, { style: { width: "38px", height: "38px" } })] }) }), (0, y.jsx)(Jp, { style: { marginTop: "1rem" }, children: "Verifying with passkey" }), (0, y.jsxs)(tm, { children: [(0, y.jsxs)(rm, { children: [(0, y.jsx)(nm, { children: (0, y.jsx)(yG, {}) }), "Approve this action using your touch, face, PIN, or hardware key."] }), (0, y.jsxs)(rm, { children: [(0, y.jsx)(nm, { children: (0, y.jsx)(SY, {}) }), "You last added a passkey on", " ", o?.firstVerifiedAt?.toLocaleDateString(void 0, { month: "short", day: "numeric", year: "numeric" }), "."] })] }), a && (0, y.jsx)(em, { children: (0, y.jsx)(_Y, { pendingTransaction: a }) }), t && (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(pm, { style: { marginTop: "1.25rem" }, children: t.message }), (0, y.jsx)(Sf, { disabled: e, onClick: i, style: { marginTop: "1.25rem" }, children: "Try again" })] }), r && (0, y.jsx)(hm, { style: { marginTop: "1rem" }, onClick: r, children: "Choose another method" }), (0, y.jsx)(_p, {})] }) }, IY = ({ open: e, onClose: t }) => { let { user: n } = (0, mf.b)(), [r, i] = (0, Ke.useState)(n?.mfaMethods[0] ?? null), { init: o, cancel: s, submit: a } = wG(), [c, l] = (0, Ke.useState)(!1), [u, d] = (0, Ke.useState)(!1), [h, f] = (0, Ke.useState)(null), [p, m] = (0, Ke.useState)(null); (0, Ke.useEffect)((() => { i(n?.mfaMethods[0] ?? null) }), [n?.mfaMethods]); let g = (0, Ke.useRef)(!1); (0, Ke.useEffect)((() => { !g.current && r && e && (g.current = !0, w(r).finally((() => { g.current = !1 }))) }), [e]); let b = e => function (e) { return !!UT(e) && "mfa_verification_max_attempts_reached" === e.type }(e) ? (l(!0), Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.")) : WT(e) ? (l(!1), Error("The code you entered is not valid")) : BT(e) ? (l(!0), Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.")) : (console.error(e), l(!1), Error("Something went wrong.")); async function v(e) { m(null); try { if (!e || !r) return; await a(r, e), d(!0), l(!1), t() } catch (e) { throw b(e) } } async function w(e) { if ("passkey" !== e) try { i(e), await o(e) } catch (e) { console.error(e) } else try { i(e); let n = await o(e); if (!n) throw Error("something went wrong"); f(n), await a(e, n), d(!0), l(!1), t() } catch (e) { m(b(e)) } } let E = () => { i(null), m(null), s(), t() }; return e && n ? "passkey" === r ? (0, y.jsx)(kY, { account: n.linkedAccounts.filter((e => "passkey" === e.type && e.enrolledInMfa)).sort(((e, t) => t.firstVerifiedAt.valueOf() - e.firstVerifiedAt.valueOf()))[0], selectedMethod: r, submitSuccess: u, hasBlockingError: c, error: p, onClose: E, onBack: () => { i(null), m(null) }, handleSubmit: () => v(h).catch(m) }) : r ? (0, y.jsx)(TY, { submitSuccess: u, hasBlockingError: c, handleSubmitCode: v, selectedMethod: r, onClose: E, onBack: n.mfaMethods.length > 1 ? () => i(null) : void 0 }) : (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: E }, "header"), (0, y.jsx)(fm, { style: { marginBottom: "1.5rem" }, children: (0, y.jsx)(yG, {}) }), (0, y.jsx)(Jp, { children: "Verify your identity" }), (0, y.jsx)(Qp, { children: "Choose a verification method" }), (0, y.jsxs)(om, { children: [n.mfaMethods.includes("totp") && (0, y.jsxs)(ap, { onClick: () => w("totp"), children: [(0, y.jsx)(AG, {}), "Authenticator App"] }, "totp"), n.mfaMethods.includes("sms") && (0, y.jsxs)(ap, { onClick: () => w("sms"), children: [(0, y.jsx)(Am, {}), "SMS"] }, "sms"), n.mfaMethods.includes("passkey") && (0, y.jsxs)(ap, { onClick: () => w("passkey"), children: [(0, y.jsx)(kG, {}), "Passkey"] }, "passkey")] }), (0, y.jsx)(_p, {})] }) : null }; let TY = ({ selectedMethod: e, submitSuccess: t, hasBlockingError: n, onClose: r, onBack: i, handleSubmitCode: o }) => { let { app: s } = pf(), { pendingTransaction: a } = (0, af.u)(); switch (e) { case "sms": return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: r }, "header"), (0, y.jsx)(fm, { style: { marginBottom: "1.5rem" }, children: (0, y.jsx)(Am, {}) }), (0, y.jsx)(Jp, { children: "Enter verification code" }), (0, y.jsxs)(em, { children: [(0, y.jsx)(KG, { success: t, disabled: n, onChange: o }), (0, y.jsxs)(Qp, { children: ["To continue, please enter the 6-digit code sent to your ", (0, y.jsx)("strong", { children: "mobile device" })] }), a && (0, y.jsx)(_Y, { pendingTransaction: a })] }), i && (0, y.jsx)(hm, { theme: s?.appearance.palette.colorScheme, onClick: i, children: "Choose another method" }), (0, y.jsx)(Pf, { onClick: r, children: "Not now" }), (0, y.jsx)(_p, {})] }); case "totp": return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: r }, "header"), (0, y.jsx)(fm, { style: { marginBottom: "1.5rem" }, children: (0, y.jsx)(AG, {}) }), (0, y.jsx)(Jp, { children: "Enter verification code" }), (0, y.jsxs)(em, { children: [(0, y.jsx)(KG, { success: t, disabled: n, onChange: o }), (0, y.jsxs)(Qp, { children: ["To continue, please enter the 6-digit code generated from your", " ", (0, y.jsx)("strong", { children: "authenticator app" })] }), a && (0, y.jsx)(_Y, { pendingTransaction: a })] }), i && (0, y.jsx)(hm, { theme: s?.appearance.palette.colorScheme, onClick: i, children: "Choose another method" }), (0, y.jsx)(Pf, { onClick: r, children: "Not now" }), (0, y.jsx)(_p, {})] }); default: return null } }; const NY = ({ style: e }) => (0, y.jsx)(oj, { style: { color: "var(--privy-color-error)", ...e } }); let PY = { google: { name: "Google", component: GH }, discord: { name: "Discord", component: qH }, github: { name: "Github", component: HH }, linkedin: { name: "LinkedIn", component: KH }, twitter: { name: "Twitter", component: XH }, spotify: { name: "Spotify", component: YH }, instagram: { name: "Instagram", component: VH }, tiktok: { name: "Tiktok", component: ZH }, apple: { name: "Apple", component: zH } }; const MY = e => e in PY ? PY[e] : { name: "Unknown", component: NY }; function OY() { let e = new URL(window.location.href); e.searchParams.delete("privy_oauth_code"), e.searchParams.delete("privy_oauth_provider"), e.searchParams.delete("privy_oauth_state"), ya.del(oa), window.history.replaceState({}, "", e) } let RY = oh.div.withConfig({ displayName: "ConnectContainer", componentId: "sc-83de42aa-0" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:27px;margin-right:27px;gap:24px;"]); let jY = oh.div.withConfig({ displayName: "Container", componentId: "sc-8944c255-0" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]); let $Y = oh(km).withConfig({ displayName: "LogoContainer", componentId: "sc-18369828-0" })(["margin:16px auto;"]); const LY = oh.div.withConfig({ displayName: "Header", componentId: "sc-858d1103-0" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:20px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]); let DY = oh.div.withConfig({ displayName: "Content", componentId: "sc-858d1103-1" })(["display:flex;flex-direction:column;justify-content:space-between;"]), UY = oh.div.withConfig({ displayName: "ErrorMessage", componentId: "sc-858d1103-2" })(["line-height:20px;height:20px;font-size:13px;color:var(--privy-color-error);text-align:left;margin-top:0.5rem;"]), FY = oh(Sf).withConfig({ displayName: "NoAnimationPrimaryButton", componentId: "sc-858d1103-3" })(["", ""], (e => e.hideAnimations && nh(["&&{transition:none;}"]))); const BY = e => (0, y.jsxs)("svg", { xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 21 20", ...e, children: [(0, y.jsx)("path", { fill: "url(#icloud-gradient)", d: "M12.34 7.315a4.26 4.26 0 0 0-3.707 2.18 2.336 2.336 0 0 0-1.02-.236 2.336 2.336 0 0 0-2.3 1.963 3.217 3.217 0 0 0 1.244 6.181c.135-.001.27-.01.404-.029h8.943c.047.004.094.006.141.007.045-.001.09-.004.135-.007h.214v-.016a2.99 2.99 0 0 0 1.887-.988c.487-.55.757-1.261.757-1.998v-.006a3.017 3.017 0 0 0-.69-1.915 2.992 2.992 0 0 0-1.748-1.034 4.26 4.26 0 0 0-4.26-4.102Z" }), (0, y.jsx)("defs", { children: (0, y.jsxs)("linearGradient", { id: "icloud-gradient", x1: 19.086, x2: 3.333, y1: 14.38, y2: 14.163, gradientUnits: "userSpaceOnUse", children: [(0, y.jsx)("stop", { stopColor: "#3E82F4" }), (0, y.jsx)("stop", { offset: 1, stopColor: "#93DCF7" })] }) })] }), WY = ({ style: e, ...t }) => (0, y.jsxs)("svg", { width: "16", height: "14", style: e, viewBox: "0 0 16 14", fill: "none", xmlns: "http://www.w3.org/2000/svg", ...t, children: [(0, y.jsxs)("g", { clipPath: "url(#clip0_2115_829)", children: [(0, y.jsx)("path", { d: "M2.34709 12.9404L2.3471 12.9404L2.34565 12.938L1.64031 11.7448L1.64004 11.7444L0.651257 10.0677C0.640723 10.0496 0.630746 10.0314 0.621325 10.0129H4.16461L2.39424 13.0139C2.3775 12.9901 2.36178 12.9656 2.34709 12.9404Z", fill: "#0066DA", stroke: "#6366F1" }), (0, y.jsx)("path", { d: "M8 4.48713L5.47995 0.215332C5.23253 0.358922 5.02176 0.556358 4.87514 0.80764L0.219931 8.70508C0.076007 8.95094 0.000191627 9.22937 0 9.51277H5.04009L8 4.48713Z", fill: "#00AC47" }), (0, y.jsx)("path", { d: "M13.48 13.7847C13.7274 13.6411 13.9382 13.4437 14.0848 13.1924L14.3781 12.6988L15.7801 10.3206C15.9267 10.0693 16.0001 9.79114 16.0001 9.51294H10.9596L12.0321 11.577L13.48 13.7847Z", fill: "#EA4335" }), (0, y.jsx)("path", { d: "M8.00003 4.48718L10.5201 0.215385C10.2726 0.0717949 9.98857 0 9.69533 0H6.30472C6.01148 0 5.7274 0.0807692 5.47998 0.215385L8.00003 4.48718Z", fill: "#00832D" }), (0, y.jsx)("path", { d: "M10.9599 9.51294H5.04007L2.52002 13.7847C2.76744 13.9283 3.05152 14.0001 3.34476 14.0001H12.6552C12.9484 14.0001 13.2325 13.9194 13.4799 13.7847L10.9599 9.51294Z", fill: "#2684FC" }), (0, y.jsx)("path", { d: "M13.4525 4.75636L11.1249 0.80764C10.9782 0.556358 10.7675 0.358922 10.52 0.215332L8 4.48713L10.9599 9.51277H15.9908C15.9908 9.23456 15.9175 8.95636 15.7709 8.70508L13.4525 4.75636Z", fill: "#FFBA00" })] }), (0, y.jsx)("defs", { children: (0, y.jsx)("clipPath", { id: "clip0_2115_829", children: (0, y.jsx)("rect", { width: "16", height: "14", fill: "white" }) }) })] }), zY = oh.div.withConfig({ displayName: "RecoveryContainer", componentId: "sc-12b46968-0" })(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]), qY = oh.div.withConfig({ displayName: "RecoveryExplainerContainer", componentId: "sc-12b46968-1" })(["padding-bottom:24px;"]); let HY = { "google-drive": { name: "Google Drive", component: WY }, icloud: { name: "iCloud", component: BY } }; function GY({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z" })) } var VY = Ke.forwardRef(GY); function KY({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" })) } var YY = Ke.forwardRef(KY); let ZY = oh.div.withConfig({ displayName: "IconContainer", componentId: "sc-6716a2fa-0" })(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;"]), XY = { "google-drive": "Google Drive", icloud: "iCloud", "user-passcode": "password", privy: "Privy" }, JY = ({ onClose: e }) => (0, y.jsxs)(qY, { children: [(0, y.jsx)(Bm, { title: "Why do I need to secure my account?", icon: (0, y.jsx)(vf, { width: 48 }), description: (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)("p", { children: "Your app uses cryptography to secure your account. App secrets are split and encrypted so only you can access them." }), (0, y.jsx)("p", { children: "To use this app on new devices, secure account secrets using a password, your Google or your Apple account. It\u2019s important you don\u2019t lose access to the method you choose." })] }) }), (0, y.jsx)(Sf, { onClick: e, children: "Select backup method" })] }); const QY = oh.div.withConfig({ displayName: "WithCircleBorder", componentId: "sc-e4fc5563-0" })(["&&{border-width:4px;}display:flex;justify-content:center;align-items:center;padding:1rem;aspect-ratio:1;border-style:solid;border-color:", ";border-radius:50%;"], (e => e.$color ?? "var(--privy-color-accent)")); var eZ = n(48764).Buffer; async function tZ({ tx: e, accessToken: t, walletProxy: n, entropyId: r, entropyIdVerifier: i, transactingWalletAddress: o, transactingWalletIndex: s }) { let a = function (e, t) { if (GR(e)) { let n = e.message.staticAccountKeys.find((e => e.toBase58() === t)); if (!n) throw Error(`Transaction does not contain public key ${t}`); return n } let n = e.compileMessage().accountKeys.find((e => e.toBase58() === t)); if (!n) throw Error(`Transaction does not contain public key ${t}`); return n }(e, o), c = GR(e) ? eZ.from(e.message.serialize()) : e.serializeMessage(), { response: l } = await n.rpc({ accessToken: t, entropyId: r, entropyIdVerifier: i, chainType: "solana", hdWalletIndex: s, request: { method: "signMessage", params: { message: c.toString("base64") } } }), u = l.data.signature; e.addSignature(a, eZ.from(u, "base64")) } async function nZ({ tx: e, connection: t, accessToken: n, walletProxy: r, entropyId: i, entropyIdVerifier: o, transactingWalletAddress: s, transactingWalletIndex: a, transactionOptions: c }) { let l; try { await tZ({ tx: e, accessToken: n, walletProxy: r, entropyId: i, entropyIdVerifier: o, transactingWalletAddress: s, transactingWalletIndex: a }); let u = e.serialize(); l = await t.sendRawTransaction(u, c); let d = await t.confirmTransaction(l); if (d.value.err || d.value.err) { let e = d.value.err || d.value.err; if ("string" == typeof e) throw Error(e); throw e } return { signature: l, receipt: await t.getParsedTransaction(l, { maxSupportedTransactionVersion: 0 }) } } catch (e) { throw e.txSignature = l, e } } const rZ = e => { let { chain: t, transactionDetails: n, isTokenContractInfoLoading: r, symbol: i } = e, { action: o, functionName: s } = n; return (0, y.jsx)(ST, { children: (0, y.jsxs)(QR, { children: ["transaction" !== o && (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Action" }), (0, y.jsx)(rj, { children: s })] }), "mint" === s && "args" in n && n.args.filter((e => e)).map(((e, n) => (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: `Param ${n}` }), (0, y.jsx)(rj, { children: "string" == typeof e && (0, _n.UJ)(e) ? (0, y.jsx)(Ip, { address: e, url: t?.blockExplorers?.default?.url, showCopyIcon: !1 }) : e?.toString() })] }, n))), "setApprovalForAll" === s && n.operator && (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Operator" }), (0, y.jsx)(rj, { children: (0, y.jsx)(Ip, { address: n.operator, url: t?.blockExplorers?.default?.url, showCopyIcon: !1 }) })] }), "setApprovalForAll" === s && void 0 !== n.approved && (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Set approval to" }), (0, y.jsx)(rj, { children: n.approved ? "true" : "false" })] }), "transfer" === s || "transferFrom" === s || "safeTransferFrom" === s || "approve" === s ? (0, y.jsxs)(y.Fragment, { children: ["formattedAmount" in n && n.formattedAmount && (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Amount" }), (0, y.jsxs)(rj, { $isLoading: r, children: [n.formattedAmount, " ", i] })] }), "tokenId" in n && n.tokenId && (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Token ID" }), (0, y.jsx)(rj, { children: n.tokenId.toString() })] })] }) : null, "safeBatchTransferFrom" === s && (0, y.jsxs)(y.Fragment, { children: ["amounts" in n && n.amounts && (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Amounts" }), (0, y.jsx)(rj, { children: n.amounts.join(", ") })] }), "tokenIds" in n && n.tokenIds && (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Token IDs" }), (0, y.jsx)(rj, { children: n.tokenIds.join(", ") })] })] }), "approve" === s && n.spender && (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Spender" }), (0, y.jsx)(rj, { children: (0, y.jsx)(Ip, { address: n.spender, url: t?.blockExplorers?.default?.url, showCopyIcon: !1 }) })] }), ("transferFrom" === s || "safeTransferFrom" === s || "safeBatchTransferFrom" === s) && n.transferFrom && (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Transferring from" }), (0, y.jsx)(rj, { children: (0, y.jsx)(Ip, { address: n.transferFrom, url: t?.blockExplorers?.default?.url, showCopyIcon: !1 }) })] }), ("transferFrom" === s || "safeTransferFrom" === s || "safeBatchTransferFrom" === s) && n.transferTo && (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Transferring to" }), (0, y.jsx)(rj, { children: (0, y.jsx)(Ip, { address: n.transferTo, url: t?.blockExplorers?.default?.url, showCopyIcon: !1 }) })] })] }) }) }, iZ = ({ transactionIndex: e, maxIndex: t }) => "number" != typeof e || 0 === t ? "" : ` (${e + 1} / ${t + 1})`, oZ = ({ img: e, submitError: t, prepareError: n, onClose: r, action: i, title: o, subtitle: s, total: a, txValue: c, to: l, network: u, missingFunds: d, fee: h, from: f, cta: p, disabled: m, chain: g, isSubmitting: b, isPreparing: v, isTokenPriceLoading: w, isTokenContractInfoLoading: E, isSponsored: x, symbol: _, balance: C, onClick: A, transactionDetails: S, transactionIndex: k, maxIndex: I, onBack: T, chainName: N }) => { let { showTransactionDetails: P, setShowTransactionDetails: M, hasMoreDetails: O, isErc20Ish: R } = (e => { let [t, n] = (0, Ke.useState)(!1), r = !0, i = !1; return (!e || e.isErc20Ish || "transaction" === e.action) && (r = !1), r && (i = Object.entries(e || {}).some((([e, t]) => t && !["action", "isErc20Ish", "isNFTIsh"].includes(e)))), { showTransactionDetails: t, setShowTransactionDetails: n, hasMoreDetails: r && i, isErc20Ish: e?.isErc20Ish } })(S); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: r, backFn: T }), e && (0, y.jsx)(cZ, { children: e }), (0, y.jsxs)(rN, { style: { marginTop: e ? "1.5rem" : 0 }, children: [o, (0, y.jsx)(iZ, { maxIndex: I, transactionIndex: k })] }), (0, y.jsx)(nN, { children: s }), (0, y.jsxs)(QR, { style: { marginTop: "2rem" }, children: [R && (0, y.jsxs)(y.Fragment, { children: ["approve" === i && (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Action" }), (0, y.jsx)(rj, { children: S?.action })] }), (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Amount" }), (0, y.jsxs)(rj, { $isLoading: R && E, children: [S?.formattedAmount, " ", _] })] })] }), a && (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Total" }), (0, y.jsx)(rj, { $isLoading: v || w, children: a })] }), S && "spender" in S && S?.spender ? (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Spender" }), (0, y.jsx)(rj, { children: (0, y.jsx)(Ip, { address: S.spender, url: g?.blockExplorers?.default?.url, showCopyIcon: !1 }) })] }) : null, l && (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "To" }), (0, y.jsx)(rj, { children: (0, y.jsx)(Ip, { address: l, url: g?.blockExplorers?.default?.url, showCopyIcon: !1 }) })] }), (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Network" }), (0, y.jsx)(rj, { children: u })] }), (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Estimated fee" }), (0, y.jsx)(rj, { $isLoading: v || w || void 0 === x, children: x ? "Sponsored" : h })] }), O && (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(ej, { className: "cursor-pointer", onClick: () => M(!P), children: (0, y.jsxs)(nj, { className: "flex items-center gap-x-1", children: ["Details", " ", (0, y.jsx)(pF, { style: { width: "0.75rem", marginLeft: "0.25rem", transform: P ? "rotate(180deg)" : void 0 } })] }) }), P && S && (0, y.jsx)(rZ, { action: i, chain: g, transactionDetails: S, isTokenContractInfoLoading: E, symbol: _ })] })] }), (0, y.jsx)(tp, {}), t ? (0, y.jsx)(_T, { style: { marginTop: "2rem" }, children: t.message }) : n ? (0, y.jsx)(_T, { style: { marginTop: "2rem" }, children: aZ }) : null, (0, y.jsx)(sZ, { $useSmallMargins: !(!n && !t), title: Number(c) > 0 ? void 0 : !1 !== x ? "Your wallet" : void 0, address: f, balance: C, isLoading: v || w, errMsg: v || n || t || !d ? void 0 : `Add funds on ${g?.name ?? N} to complete transaction.` }), (0, y.jsx)(Sf, { style: { marginTop: "1rem" }, loading: b, disabled: m || v, onClick: A, children: p }), (0, y.jsx)(xp, {})] }) }; let sZ = oh(kT).withConfig({ displayName: "StyledWalletInfoCard", componentId: "sc-3f0b455d-0" })(["", ""], (e => e.$useSmallMargins ? "margin-top: 0.5rem;" : "margin-top: 2rem;")), aZ = "There was an error preparing your transaction. Your transaction request will likely fail.", cZ = oh.div.withConfig({ displayName: "ImageContainer", componentId: "sc-3f0b455d-1" })(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]); function lZ({ title: e, titleId: t, ...n }, r) { return Ke.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", "aria-hidden": "true", "data-slot": "icon", ref: r, "aria-labelledby": t }, n), e ? Ke.createElement("title", { id: t }, e) : null, Ke.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z" })) } var uZ = Ke.forwardRef(lZ); let dZ = new Set([Cn.jK.CALL_EXCEPTION, Cn.jK.NONCE_EXPIRED, Cn.jK.REPLACEMENT_UNDERPRICED, Cn.jK.TRANSACTION_REPLACED]); const hZ = e => { let t; return e.code && -32e3 !== e.code && dZ.has(e.code) && (t = e.transactionHash), t }, fZ = e => "SERVER_ERROR" === e.code ? e.error?.message ?? e.reason ?? e.message ?? "unknown error" : "SERVER_ERROR" === e.error?.code ? e.error?.error?.message ?? e.reason ?? e.message ?? "unknown error" : e.reason ?? e.message ?? "unknown error"; let pZ = () => (0, y.jsxs)(vZ, { children: [(0, y.jsx)(EZ, {}), (0, y.jsx)(wZ, {})] }); const mZ = ({ transactionError: e, chainId: t, onClose: n, onRetry: r, network: i, connection: o }) => { let { chains: s } = (0, af.u)(), [a, c] = (0, Ke.useState)(!1), { errorCode: l, transactionHash: u, errorMessage: d } = ((e, t) => { if ("ethereum" === t) return { errorCode: e.code ? e.code?.toString().charAt(0) + e.code?.toString().slice(1).replace("_", " ").toLowerCase() : "Something went wrong.", transactionHash: hZ(e), errorMessage: fZ(e) }; let n = e.txSignature, r = e?.transactionMessage || "Something went wrong."; if (Array.isArray(e.logs)) { let t = e.logs.find((e => /insufficient (lamports|funds)/gi.test(e))); t && (r = t) } return { transactionHash: n, errorMessage: r } })(e, i), h = (({ chains: e, chainId: t, network: n, connection: r, transactionHash: i }) => "ethereum" === n ? e.find((e => e.id === t))?.blockExplorers?.default.url ?? "https://etherscan.io" : function (e, t) { return `https://explorer.solana.com/tx/${e}?cluster=${t}` }(i || "", gh(r?.rpcEndpoint || "")))({ chains: s, chainId: t, network: i, connection: o, transactionHash: u }); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: n }), (0, y.jsxs)(gZ, { children: [(0, y.jsx)(pZ, {}), (0, y.jsx)(yZ, { children: l }), (0, y.jsx)(bZ, { children: "Please try again." }), (0, y.jsxs)(CZ, { children: [(0, y.jsx)(_Z, { children: "Error message" }), (0, y.jsx)(SZ, { $clickable: !1, children: d })] }), u && (0, y.jsxs)(CZ, { children: [(0, y.jsx)(_Z, { children: "Transaction hash" }), (0, y.jsxs)(AZ, { children: ["Copy this hash to view details about the transaction on a", " ", (0, y.jsx)("u", { children: (0, y.jsx)("a", { href: h, children: "block explorer" }) }), "."] }), (0, y.jsxs)(SZ, { $clickable: !0, onClick: async () => { await navigator.clipboard.writeText(u), c(!0) }, children: [u, (0, y.jsx)(TZ, { clicked: a })] })] }), (0, y.jsx)(xZ, { onClick: () => r({ resetNonce: !!u }), children: "Retry transaction" })] }), (0, y.jsx)(_p, {})] }) }; let gZ = oh.div.withConfig({ displayName: "TransactionErrorScreenContainer", componentId: "sc-6f98d2f2-0" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]), yZ = oh.span.withConfig({ displayName: "ErrorCode", componentId: "sc-6f98d2f2-1" })(["color:var(--privy-color-foreground);text-align:center;font-size:1.125rem;font-weight:500;line-height:1.25rem;text-align:center;margin:10px;"]), bZ = oh.span.withConfig({ displayName: "Subtitle", componentId: "sc-6f98d2f2-2" })(["margin-top:4px;margin-bottom:10px;color:var(--privy-color-foreground-3);text-align:center;font-size:0.875rem;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;"]), vZ = oh.div.withConfig({ displayName: "CircleContainer", componentId: "sc-6f98d2f2-3" })(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]), wZ = oh(Rp).withConfig({ displayName: "StyledExclamationCircleIcon", componentId: "sc-6f98d2f2-4" })(["position:absolute;width:35px;height:35px;color:var(--privy-color-error);"]), EZ = oh.div.withConfig({ displayName: "StyledRedCircle", componentId: "sc-6f98d2f2-5" })(["position:absolute;width:60px;height:60px;border-radius:50%;background-color:var(--privy-color-error);opacity:0.1;"]), xZ = oh(Sf).withConfig({ displayName: "RetryButton", componentId: "sc-6f98d2f2-6" })(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]), _Z = oh.span.withConfig({ displayName: "TextBoxTitle", componentId: "sc-6f98d2f2-7" })(["width:100%;text-align:left;font-size:0.825rem;color:var(--privy-color-foreground);padding:4px;"]), CZ = oh.div.withConfig({ displayName: "TextBoxContainer", componentId: "sc-6f98d2f2-8" })(["width:100%;margin:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;"]), AZ = oh.text.withConfig({ displayName: "HelperText", componentId: "sc-6f98d2f2-9" })(["position:relative;width:100%;padding:5px;font-size:0.8rem;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;"]), SZ = oh.span.withConfig({ displayName: "TextBox", componentId: "sc-6f98d2f2-10" })(["position:relative;width:100%;background-color:var(--privy-color-background-2);padding:8px 12px;border-radius:10px;margin-top:5px;font-size:14px;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;", ""], (e => e.$clickable && "cursor: pointer;\n  transition: background-color 0.3s;\n  padding-right: 45px;\n\n  &:hover {\n    background-color: var(--privy-color-foreground-4);\n  }")), kZ = oh(uZ).withConfig({ displayName: "StyledClipboardIcon", componentId: "sc-6f98d2f2-11" })(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]), IZ = oh(mP).withConfig({ displayName: "StyledClipboardCheckIcon", componentId: "sc-6f98d2f2-12" })(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]), TZ = ({ clicked: e }) => (0, y.jsx)(e ? IZ : kZ, {}); const NZ = ({ instructions: e, fees: t, transactionInfo: n, solPrice: r, rpcEndpoint: i }) => { let o = e.reduce(((e, { amount: t }) => t ? e + t : e), 0n), [s, a] = (0, Ke.useState)(0), [c, l] = (0, Ke.useState)(!1), u = e[s]; return (0, Ke.useEffect)((() => { a(0) }), [e]), (0, y.jsxs)(QR, { children: [(0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Total" }), (0, y.jsx)(rj, { children: (0, y.jsx)(VK, { quantities: [o, t], tokenPrice: r }) })] }), n && n.action && (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Action" }), (0, y.jsx)(rj, { children: n.action })] }), (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Fees" }), (0, y.jsx)(rj, { children: (0, y.jsx)(VK, { quantities: [t || 0n], tokenPrice: r }) })] }), e.length > 1 ? (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(ej, { children: (0, y.jsxs)(LZ, { onClick: () => l((e => !e)), children: [(0, y.jsx)("span", { children: "Details" }), (0, y.jsx)(pF, { height: "16px", width: "16px", strokeWidth: "2", style: { transition: "all 300ms", transform: c ? "rotate(180deg)" : void 0 } })] }) }), c && (0, y.jsx)(ej, { children: (0, y.jsxs)(MZ, { children: [(0, y.jsxs)(OZ, { children: [(0, y.jsxs)(RZ, { children: [s + 1, " of ", e.length, " instructions"] }), (0, y.jsxs)($Z, { children: [s > 0 && (0, y.jsx)(zf, { backFn: () => a((e => e - 1)) }), s < e.length - 1 && (0, y.jsx)(qf, { nextFn: () => a((e => e + 1)) })] })] }), (0, y.jsx)(jZ, { children: (0, y.jsx)(PZ, { instruction: u, rpcEndpoint: i, solPrice: r }) })] }) })] }) : (0, y.jsx)(PZ, { instruction: u, rpcEndpoint: i, solPrice: r, hideAmount: !0 })] }) }; function PZ({ instruction: e, rpcEndpoint: t, solPrice: n, hideAmount: r }) { return e ? (0, y.jsxs)(QR, { children: [!r && !!e.amount && (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "Amount" }), (0, y.jsx)(rj, { children: (0, y.jsx)(VK, { quantities: [e.amount], tokenPrice: n }) })] }), e.to && (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "To" }), (0, y.jsx)(rj, { children: (0, y.jsx)(bY, { walletAddress: e.to, rpcEndpoint: t, network: "solana" }) })] }), e.from && (0, y.jsxs)(ej, { children: [(0, y.jsx)(tj, { children: "From" }), (0, y.jsx)(rj, { children: (0, y.jsx)(bY, { walletAddress: e.from, rpcEndpoint: t, network: "solana" }) })] })] }) : null } let MZ = oh.div.withConfig({ displayName: "InstructionsBox", componentId: "sc-d21e256c-0" })(["display:flex;flex-direction:column;width:100%;overflow:hidden;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]), OZ = oh.header.withConfig({ displayName: "InstructionsBoxHeader", componentId: "sc-d21e256c-1" })(["display:flex;justify-content:space-between;align-items:center;padding:12px;background-color:var(--privy-color-background-2);"]), RZ = oh.h4.withConfig({ displayName: "HeaderTitle", componentId: "sc-d21e256c-2" })(["font-size:14px;font-weight:500;line-height:19.6px;"]), jZ = oh.div.withConfig({ displayName: "InstructionsBoxContent", componentId: "sc-d21e256c-3" })(["padding:12px;"]), $Z = oh.div.withConfig({ displayName: "NavigationButtonsConatiner", componentId: "sc-d21e256c-4" })(["display:flex;gap:8px;align-items:center;"]), LZ = oh(tj).withConfig({ displayName: "InteractiveLabel", componentId: "sc-d21e256c-5" })(["cursor:pointer;display:inline-flex;gap:8px;align-items:center;"]); const DZ = ({ instructions: e, fees: t, onClose: n, receiptHeader: r, receiptDescription: i, transactionInfo: o, solPrice: s, rpcEndpoint: a }) => (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: n }), (0, y.jsx)(ep, { style: { marginBottom: "16px" }, children: (0, y.jsxs)("div", { children: [(0, y.jsx)($f, { color: "var(--privy-color-success-light)" }), (0, y.jsx)(ET, { height: 38, width: 38, strokeWidth: 2, stroke: "var(--privy-color-success)" })] }) }), (0, y.jsx)(Bm, { title: r ?? "Transaction completed successfully.", description: i ?? "" }), (0, y.jsx)(NZ, { solPrice: s, instructions: e, fees: t, transactionInfo: o, rpcEndpoint: a }), (0, y.jsx)(tp, {}), (0, y.jsx)(UZ, { loading: !1, onClick: n, children: "Close" }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }); let UZ = oh(Sf).withConfig({ displayName: "SubmitButton", componentId: "sc-cb684d8d-0" })(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]); async function FZ({ accessToken: e, entropyId: t, entropyIdVerifier: n, transactingWallet: r, walletProxy: i, transactionRequest: o, provider: s, requesterAppId: a }) { !function (e) { for (let t of ["gasLimit", "gasPrice", "value", "maxPriorityFeePerGas", "maxFeePerGas"]) { let n = e[t]; if (void 0 !== n && !function (e) { let t = "number" == typeof e, n = "bigint" == typeof e, r = "string" == typeof e && /^-?0x[a-f0-9]+$/i.test(e); return t || n || r }(n)) throw Error(`Transaction request property '${t}' must be a valid number, bigint, or hex string representing a quantity`) } if ("number" != typeof e.chainId) throw Error("Transaction request property 'chainId' must be a number") }(o = Object.assign({ chainId: 1 }, o)); let c = (await i.rpc({ entropyId: t, entropyIdVerifier: n, hdWalletIndex: r.walletIndex ?? 0, chainType: "ethereum", accessToken: e, requesterAppId: a, request: { method: "eth_signTransaction", params: [o] } })).response.data; return await s.sendTransaction(c) } async function BZ(e, t, n, r) { let i = await r.getBalance(e), o = t.value || 0, s = !i.sub(UF(o)).sub(n).isNegative(); return { balance: i, hasSufficientFunds: s } } function WZ(e) { return { to: e.to, from: e.from, contractAddress: e.contractAddress, transactionIndex: e.transactionIndex, root: e.root, logsBloom: e.logsBloom, blockHash: e.blockHash, transactionHash: e.transactionHash, logs: e.logs, blockNumber: e.blockNumber, confirmations: e.confirmations, byzantium: e.byzantium, type: e.type, status: e.status, gasUsed: e.gasUsed.toHexString(), cumulativeGasUsed: e.cumulativeGasUsed.toHexString(), effectiveGasPrice: e.effectiveGasPrice ? e.effectiveGasPrice.toHexString() : void 0 } } let zZ = (e, t) => { if (e.gasUsed && e.effectiveGasPrice) try { let n = qn.O$.from(e.gasUsed), r = qn.O$.from(e.effectiveGasPrice), i = n.mul(r); if (t) { let e = qn.O$.from(t); i = i.add(e) } return i.toString() } catch (e) { return } }; const qZ = ({ txn: e, receipt: t, transactionInfo: n, onClose: r, tokenPrice: i, tokenSymbol: o, l1GasEstimate: s, receiptHeader: a, receiptDescription: c }) => (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: r }), (0, y.jsx)(Um, { title: a ?? "Transaction complete!", description: c ?? "You're all set." }), (0, y.jsx)(wY, { tokenPrice: i, from: t.from, to: t.to, gas: zZ(t, s), txn: e, transactionInfo: n, tokenSymbol: o }), (0, y.jsx)(tp, {}), (0, y.jsx)(HZ, { loading: !1, onClick: r, children: "All Done" }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }); let HZ = oh(Sf).withConfig({ displayName: "SubmitButton", componentId: "sc-12af0541-0" })(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]); var GZ = n(58034); const VZ = [{ constant: !1, inputs: [{ name: "_salt", type: "bytes32" }, { name: "_initializer", type: "bytes" }], name: "deployAccount", outputs: [{ name: "", type: "bool" }], payable: !1, stateMutability: "nonpayable", type: "function" }], KZ = [{ name: "from", type: "address" }, { name: "param2", type: "address" }, { name: "param3", type: "bytes" }, { name: "param4", type: "tuple", components: [] }, { type: "tuple", components: [{ name: "param5", type: "address" }, { name: "param6", type: "uint256" }, { name: "param7", type: "uint256" }, { name: "encodedInitData", type: "bytes" }] }], YZ = [{ constant: !1, inputs: [{ name: "spender", type: "address" }, { name: "value", type: "uint256" }], name: "approve", outputs: [{ name: "", type: "bool" }], payable: !1, stateMutability: "nonpayable", type: "function" }], ZZ = [{ inputs: [{ internalType: "address", name: "to", type: "address" }, { internalType: "uint256", name: "amount", type: "uint256" }], name: "mint", outputs: [], stateMutability: "nonpayable", type: "function" }, { inputs: [{ internalType: "address", name: "to", type: "address" }, { internalType: "uint256", name: "amount", type: "uint256" }], name: "mint", outputs: [], stateMutability: "payable", type: "function" }, { inputs: [{ internalType: "address", name: "to", type: "address" }], name: "mint", outputs: [], stateMutability: "nonpayable", type: "function" }, { inputs: [{ internalType: "address", name: "to", type: "address" }], name: "mint", outputs: [], stateMutability: "payable", type: "function" }, { inputs: [{ internalType: "address", name: "to", type: "address" }, { internalType: "uint256", name: "tokenId", type: "uint256" }, { internalType: "uint256", name: "quantity", type: "uint256" }, { internalType: "bytes", name: "data", type: "bytes" }], name: "mint", outputs: [{ internalType: "bool", name: "", type: "bool" }], stateMutability: "nonpayable", type: "function" }, { inputs: [{ internalType: "address", name: "to", type: "address" }, { internalType: "uint256", name: "tokenId", type: "uint256" }, { internalType: "uint256", name: "quantity", type: "uint256" }, { internalType: "bytes", name: "data", type: "bytes" }], name: "mint", outputs: [{ internalType: "bool", name: "", type: "bool" }], stateMutability: "payable", type: "function" }, { inputs: [{ internalType: "address", name: "to", type: "address" }, { internalType: "uint256[]", name: "tokenIds", type: "uint256[]" }, { internalType: "uint256[]", name: "quantities", type: "uint256[]" }, { internalType: "bytes", name: "data", type: "bytes" }], name: "mintBatch", outputs: [{ internalType: "bool", name: "", type: "bool" }], stateMutability: "nonpayable", type: "function" }, { inputs: [{ internalType: "address", name: "to", type: "address" }, { internalType: "uint256[]", name: "tokenIds", type: "uint256[]" }, { internalType: "uint256[]", name: "quantities", type: "uint256[]" }, { internalType: "bytes", name: "data", type: "bytes" }], name: "mintBatch", outputs: [{ internalType: "bool", name: "", type: "bool" }], stateMutability: "payable", type: "function" }, { inputs: [{ internalType: "uint256", name: "quantity", type: "uint256" }], name: "mint", outputs: [{ internalType: "bool", name: "", type: "bool" }], stateMutability: "nonpayable", type: "function" }, { inputs: [{ internalType: "uint256", name: "quantity", type: "uint256" }], name: "mint", outputs: [{ internalType: "bool", name: "", type: "bool" }], stateMutability: "payable", type: "function" }, { inputs: [{ internalType: "address", name: "to", type: "address" }], name: "safeMint", outputs: [], stateMutability: "nonpayable", type: "function" }, { inputs: [{ internalType: "address", name: "to", type: "address" }], name: "safeMint", outputs: [], stateMutability: "payable", type: "function" }, { inputs: [{ internalType: "address", name: "to", type: "address" }, { internalType: "string", name: "uri", type: "string" }], name: "safeMint", outputs: [], stateMutability: "nonpayable", type: "function" }, { inputs: [{ internalType: "address", name: "to", type: "address" }, { internalType: "string", name: "uri", type: "string" }], name: "safeMint", outputs: [], stateMutability: "payable", type: "function" }, { inputs: [{ internalType: "address", name: "to", type: "address" }, { internalType: "uint256", name: "tokenId", type: "uint256" }], name: "safeMint", outputs: [], stateMutability: "nonpayable", type: "function" }, { inputs: [{ internalType: "address", name: "to", type: "address" }, { internalType: "uint256", name: "tokenId", type: "uint256" }], name: "safeMint", outputs: [], stateMutability: "payable", type: "function" }, { inputs: [{ internalType: "address", name: "to", type: "address" }, { internalType: "uint256", name: "tokenId", type: "uint256" }, { internalType: "string", name: "uri", type: "string" }], name: "safeMint", outputs: [], stateMutability: "nonpayable", type: "function" }, { inputs: [{ internalType: "address", name: "to", type: "address" }, { internalType: "uint256", name: "tokenId", type: "uint256" }, { internalType: "string", name: "uri", type: "string" }], name: "safeMint", outputs: [], stateMutability: "payable", type: "function" }, { inputs: [{ internalType: "address", name: "to", type: "address" }, { internalType: "uint256", name: "amount", type: "uint256" }], name: "batchMint", outputs: [], stateMutability: "nonpayable", type: "function" }, { inputs: [{ internalType: "address", name: "to", type: "address" }, { internalType: "uint256", name: "amount", type: "uint256" }], name: "batchMint", outputs: [], stateMutability: "payable", type: "function" }], XZ = [{ constant: !1, inputs: [{ name: "_from", type: "address" }, { name: "_to", type: "address" }, { name: "_tokenId", type: "uint256" }], name: "safeTransferFrom", outputs: [{ name: "", type: "bool" }], payable: !1, stateMutability: "nonpayable", type: "function" }], JZ = [{ constant: !1, inputs: [{ name: "_operator", type: "address" }, { name: "_approved", type: "bool" }], name: "setApprovalForAll", outputs: [{ name: "", type: "bool" }], payable: !1, stateMutability: "nonpayable", type: "function" }], QZ = [{ constant: !1, inputs: [{ name: "_from", type: "address" }, { name: "_to", type: "address" }, { name: "_tokenId", type: "uint256" }], name: "transferFrom", outputs: [{ name: "", type: "bool" }], payable: !1, stateMutability: "nonpayable", type: "function" }], eX = [{ constant: !1, inputs: [{ name: "_from", type: "address" }, { name: "_to", type: "address" }, { name: "_tokenIds", type: "uint256[]" }, { name: "_amounts", type: "uint256[]" }, { name: "_data", type: "bytes" }], name: "safeBatchTransferFrom", outputs: [{ name: "", type: "bool" }], payable: !1, stateMutability: "nonpayable", type: "function" }], tX = [{ constant: !1, inputs: [{ name: "_from", type: "address" }, { name: "_to", type: "address" }, { name: "_tokenId", type: "uint256" }, { name: "_amount", type: "uint256" }, { name: "_data", type: "bytes" }], name: "safeTransferFrom", outputs: [{ name: "", type: "bool" }], payable: !1, stateMutability: "nonpayable", type: "function" }], nX = (e, t) => { let n = rX(YZ, e); if (n) return { action: "approve", functionName: "approve", isErc20Ish: !0, isNFTIsh: !1, spender: n.args[0], amount: n.args[1] }; let r = rX(hB, e); if (r) return { action: "transfer", functionName: "transfer", isErc20Ish: !0, isNFTIsh: !1, amount: r.args[1] }; if (!t) return { action: "transaction", functionName: "", isErc20Ish: !1, isNFTIsh: !1 }; let i = rX(VZ, e); if (i && "string" == typeof i.args[1]) { let e = iX(i.args[1]); if (e && e[4].encodedInitData) return nX(e[4].encodedInitData, t) } let o = rX(JZ, e); if (o) return { action: "approve", functionName: "setApprovalForAll", isNFTIsh: !0, isErc20Ish: !1, operator: o.args[0], approved: o.args[1] }; let s = rX(QZ, e); if (s) return { action: "transfer", functionName: "transferFrom", isNFTIsh: !0, isErc20Ish: !1, transferFrom: s.args[0], transferTo: s.args[1], tokenId: s.args[2] }; let a = rX(XZ, e); if (a) return { action: "transfer", functionName: "safeTransferFrom", isNFTIsh: !0, isErc20Ish: !1, transferFrom: a.args[0], transferTo: a.args[1], tokenId: a.args[2] }; let c = rX(tX, e); if (c) return { action: "transfer", functionName: "safeTransferFrom", isNFTIsh: !0, isErc20Ish: !1, transferFrom: c.args[0], transferTo: c.args[1], tokenId: c.args[2], amount: c.args[3] }; let l = rX(eX, e); if (l) return { action: "batch transfer", functionName: "safeBatchTransferFrom", isNFTIsh: !0, isErc20Ish: !1, transferFrom: l.args[0], transferTo: l.args[1], tokenIds: l.args[2], amounts: l.args[3] }; let u = rX(ZZ, e); return u ? { action: "mint", functionName: u.functionName, isNFTIsh: !0, isErc20Ish: !1, args: u.args } : { action: "transaction", isErc20Ish: !1, isNFTIsh: !1 } }; let rX = (e, t) => { try { let n = function (e) { const { abi: t, data: n } = e, r = (0, nR.tP)(n, 0, 4), i = t.find((e => "function" === e.type && r === (0, GZ.C)((0, cO.t)(e)))); if (!i) throw new uM.eF(r, { docsPath: "/docs/contract/decodeFunctionData" }); return { functionName: i.name, args: "inputs" in i && i.inputs && i.inputs.length > 0 ? (0, PO.r)(i.inputs, (0, nR.tP)(n, 4)) : void 0 } }({ abi: e, data: t }); return { functionName: n.functionName, args: n.args || [] } } catch (e) { return null } }, iX = e => { try { if ("string" == typeof e) return (0, PO.r)(KZ, `0x${e.slice(10)}`) } catch (e) { return null } }; let oX = new qc(new zc("There was an issue preparing your transaction", Dc.E32603_DEFAULT_INTERNAL_ERROR.eipCode)), sX = (e, t) => e?.sendTransaction ? "transactionRequest" in e.sendTransaction ? e.sendTransaction.transactionRequest : e.sendTransaction.transactionRequests[t] : void 0; const aX = oh.img.withConfig({ displayName: "StyledLogo", componentId: "sc-68c1b1ea-0" })(["&&{height:", ";width:", ";border-radius:16px;margin-bottom:12px;}"], (e => "sm" === e.size ? "65px" : "140px"), (e => "sm" === e.size ? "65px" : "140px")); let cX = e => { if (!(0, Hn.A7)(e)) return e; try { return tr(e) } catch { return e } }, lX = ({ data: e }) => { let t = e => "object" == typeof e && null !== e ? (0, y.jsx)(hX, { children: Object.entries(e).map((([e, n]) => (0, y.jsxs)("li", { children: [(0, y.jsxs)("strong", { children: [e, ":"] }), " ", t(n)] }, e))) }) : (0, y.jsx)("span", { children: String(e) }); return (0, y.jsx)("div", { children: t(e) }) }, uX = e => { let { types: t, primaryType: n, ...r } = e.typedData; return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(dX, { children: (0, y.jsx)(lX, { data: r }) }), (0, y.jsx)(MP, { text: (i = e.typedData, JSON.stringify(i, null, 2)), itemName: "full payload to clipboard" }), " "] }); var i }; let dX = oh.div.withConfig({ displayName: "Message", componentId: "sc-8f49c712-0" })(["margin-top:1.5rem;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);padding:12px;text-align:left;max-height:310px;overflow:scroll;white-space:pre-wrap;width:100%;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}}"]), hX = oh.ul.withConfig({ displayName: "MessageList", componentId: "sc-8f49c712-1" })(["margin-left:12px !important;white-space:nowrap;&:first-child{margin-left:0 !important;}strong{font-weight:500 !important;}}"]), fX = oh.div.withConfig({ displayName: "InputHelp", componentId: "sc-8f49c712-2" })(["line-height:20px;height:20px;font-size:13px;color:", ";display:flex;justify-content:flex-start;width:100%;margin-top:16px;margin-bottom:4px;"], (e => e.$fail ? "var(--privy-color-error)" : "var(--privy-color-foreground-3)")), pX = oh.span.withConfig({ displayName: "ContentWithIcon", componentId: "sc-8f49c712-3" })(["display:flex;align-items:center;gap:8px;"]), mX = oh.div.withConfig({ displayName: "IconContainer", componentId: "sc-8f49c712-4" })(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;"]), gX = oh.div.withConfig({ displayName: "Grow", componentId: "sc-8f49c712-5" })(["flex-grow:1;"]); let yX = oh.div.withConfig({ displayName: "ConnectContainer", componentId: "sc-a5951819-0" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:27px;margin-right:27px;gap:24px;"]); const bX = (0, Ke.forwardRef)(((e, t) => { let [n, r] = (0, Ke.useState)(""), [i, o] = (0, Ke.useState)(""), [s, a] = (0, Ke.useState)(!1), { authenticated: c, user: l } = (0, mf.b)(), { initUpdateEmail: u } = (0, af.u)(), { navigate: d, setModalData: h, currentScreen: f } = pf(), { enabled: p, token: m } = Xa(), g = sf(), b = Ra(n) && (g.disablePlusEmails && n.includes("+") ? (i || o("Please enter a valid email address without a '+'."), !1) : (i && o(""), !0)), v = s || !b, w = () => { !p || m || c ? (async e => { if (!l?.email) throw Error("User is required to have an email address to update it."); a(!0); try { await u(l.email.address, n, e), d(uf.AWAITING_PASSWORDLESS_CODE) } catch (e) { h({ errorModalData: { error: e, previousScreen: f || uf.LANDING } }) } a(!1) })(m) : (h({ captchaModalData: { callback: e => { if (!l?.email) throw Error("User is required to have an email address to update it."); return u(l.email.address, n, e) }, userIntentRequired: !1, onSuccessNavigateTo: uf.AWAITING_PASSWORDLESS_CODE, onErrorNavigateTo: uf.ERROR_SCREEN } }), d(uf.CAPTCHA_SCREEN)) }; return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsxs)(vX, { children: [i && (0, y.jsx)(_T, { style: { marginTop: "0.25rem", textAlign: "left" }, children: i }), (0, y.jsxs)(wX, { $error: !!i, children: [(0, y.jsx)(_m, {}), (0, y.jsx)("input", { ref: t, id: "email-input", type: "email", placeholder: "your@email.com", onChange: e => r(e.target.value), onKeyUp: e => { "Enter" === e.key && w() }, value: n, autoComplete: "email" }), e.stacked ? null : (0, y.jsx)(Rf, { isSubmitting: s, onClick: w, disabled: v, children: "Submit" })] })] }), e.stacked ? (0, y.jsx)(Sf, { loadingText: null, loading: s, disabled: v, onClick: w, children: "Submit" }) : null] }) })); let vX = pz, wX = hz; const EX = ({ style: e, ...t }) => (0, y.jsx)("svg", { width: "40", height: "40", viewBox: "0 0 40 40", fill: "none", xmlns: "http://www.w3.org/2000/svg", style: { height: "38px", width: "38px", ...e }, ...t, children: (0, y.jsx)("path", { d: "M20 13.6V20M20 26.4H20.016M36 20C36 28.8365 28.8366 36 20 36C11.1635 36 4.00001 28.8365 4.00001 20C4.00001 11.1634 11.1635 3.99999 20 3.99999C28.8366 3.99999 36 11.1634 36 20Z", stroke: "currentColor", strokeWidth: "3.2", strokeLinecap: "round", strokeLinejoin: "round" }) }); let xX = oh.div.withConfig({ displayName: "ConnectContainer", componentId: "sc-fc448c87-0" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;padding-top:8px;padding-bottom:32px;"]), _X = oh.div.withConfig({ displayName: "IconContainer", componentId: "sc-fc448c87-1" })(["display:flex;align-items:center;justify-content:center;height:72px;aspect-ratio:1;color:var(--privy-color-error);background-color:var(--privy-color-error-light);border-radius:50%;"]), CX = oh.div.withConfig({ displayName: "GappedContainer", componentId: "sc-fc448c87-2" })(["display:flex;flex-direction:column;gap:8px;"]); const AX = ah([":root{--privy-border-radius-sm:6px;--privy-border-radius-md:12px;--privy-border-radius-mdlg:16px;--privy-border-radius-lg:24px;--privy-border-radius-full:9999px;--privy-color-background:", ";--privy-color-background-2:", ";--privy-color-background-3:", ";--privy-color-foreground:", ";--privy-color-foreground-2:", ";--privy-color-foreground-3:", ";--privy-color-foreground-4:", ";--privy-color-foreground-accent:", ";--privy-color-accent:", ";--privy-color-accent-light:", ";--privy-color-accent-lightest:", ";--privy-color-accent-dark:", ";--privy-color-accent-darkest:", ";--privy-color-success:", ";--privy-color-success-dark:", ";--privy-color-success-light:", ";--privy-color-error:", ";--privy-color-error-light:", ";--privy-color-warn:", ";--privy-color-warn-light:", ";--privy-height-modal-full:620px;--privy-height-modal-compact:480px;};"], (e => e.theme.background), (e => e.theme.background2), (e => e.theme.background3), (e => e.theme.foreground), (e => e.theme.foreground2), (e => e.theme.foreground3), (e => e.theme.foreground4), (e => e.theme.foregroundAccent), (e => e.theme.accent), (e => e.theme.accentLight), (e => e.theme.accentLightest), (e => e.theme.accentDark), (e => e.theme.accentDarkest), (e => e.theme.success), (e => e.theme.successDark), (e => e.theme.successLight), (e => e.theme.error), (e => e.theme.errorLight), (e => e.theme.warn), (e => e.theme.warnLight)), SX = oh.div.withConfig({ displayName: "StylesWrapper", componentId: "sc-bc1e45b4-0" })(["", " color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 1px var(--privy-color-accent-light);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"], "\n  *,\n  ::before,\n  ::after {\n    box-sizing: border-box;\n    border-width: 0;\n    border-style: solid;\n  }\n\n  line-height: 1.15;\n  -webkit-text-size-adjust: 100%;\n  -moz-tab-size: 4;\n  tab-size: 4;\n  font-feature-settings: normal;\n\n  margin: 0;\n  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,\n    'Apple Color Emoji', 'Segoe UI Emoji';\n\n  hr {\n    height: 0;\n    color: inherit;\n    border-top-width: 1px;\n  }\n\n  abbr:where([title]) {\n    text-decoration: underline dotted;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    font-size: inherit;\n    font-weight: inherit;\n    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,\n    'Apple Color Emoji', 'Segoe UI Emoji';\n    display: inline;\n  }\n\n  a {\n    color: inherit;\n    text-decoration: inherit;\n  }\n\n  b,\n  strong {\n    font-weight: bolder;\n  }\n\n  code,\n  kbd,\n  samp,\n  pre {\n    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;\n    font-size: 1em;\n  }\n\n  small {\n    font-size: 80%;\n  }\n\n  sub,\n  sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n\n  sub {\n    bottom: -0.25em;\n  }\n\n  sup {\n    top: -0.5em;\n  }\n\n  table {\n    text-indent: 0;\n    border-color: inherit;\n    border-collapse: collapse;\n  }\n\n  button,\n  input,\n  optgroup,\n  select,\n  textarea {\n    font-family: inherit;\n    font-size: 100%;\n    font-weight: inherit;\n    line-height: inherit;\n    color: inherit;\n    margin: 0;\n    padding: 0;\n  }\n\n  button,\n  select {\n    text-transform: none;\n  }\n\n  button,\n  [type='button'],\n  [type='reset'],\n  [type='submit'] {\n    -webkit-appearance: button;\n    background-color: transparent;\n    background-image: none;\n  }\n\n  ::-moz-focus-inner {\n    border-style: none;\n    padding: 0;\n  }\n\n  :-moz-focusring {\n    outline: 1px dotted ButtonText;\n  }\n\n  :-moz-ui-invalid {\n    box-shadow: none;\n  }\n\n  legend {\n    padding: 0;\n  }\n\n  progress {\n    vertical-align: baseline;\n  }\n\n  ::-webkit-inner-spin-button,\n  ::-webkit-outer-spin-button {\n    height: auto;\n  }\n\n  [type='search'] {\n    -webkit-appearance: textfield;\n    outline-offset: -2px;\n  }\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  ::-webkit-file-upload-button {\n    -webkit-appearance: button;\n    font: inherit;\n  }\n\n  summary {\n    display: list-item;\n  }\n\n  blockquote,\n  dl,\n  dd,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  hr,\n  figure,\n  p,\n  pre {\n    margin: 0;\n  }\n\n  fieldset {\n    margin: 0;\n    padding: 0;\n  }\n\n  legend {\n    padding: 0;\n  }\n\n  ol,\n  ul,\n  menu {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n\n  textarea {\n    resize: vertical;\n  }\n\n  input::placeholder,\n  textarea::placeholder {\n    opacity: 1;\n    color: #9ca3af;\n  }\n\n  button,\n  [role='button'] {\n    cursor: pointer;\n  }\n\n  :disabled {\n    cursor: default;\n  }\n\n  img,\n  svg,\n  video,\n  canvas,\n  audio,\n  iframe,\n  embed,\n  object {\n    display: block;\n  }\n\n  img,\n  video {\n    max-width: 100%;\n    height: auto;\n  }\n\n  [hidden] {\n    display: none;\n  }\n"); function kX() { let e = (0, Ke.useRef)(!1); return l$((() => (e.current = !0, () => { e.current = !1 })), []), e } function IX(e) { var t; return !!(e.enter || e.enterFrom || e.enterTo || e.leave || e.leaveFrom || e.leaveTo) || (null != (t = e.as) ? t : RX) !== Ke.Fragment || 1 === Ke.Children.count(e.children) } let TX = (0, Ke.createContext)(null); TX.displayName = "TransitionContext"; var NX = (e => (e.Visible = "visible", e.Hidden = "hidden", e))(NX || {}); let PX = (0, Ke.createContext)(null); function MX(e) { return "children" in e ? MX(e.children) : e.current.filter((({ el: e }) => null !== e.current)).filter((({ state: e }) => "visible" === e)).length > 0 } function OX(e, t) { let n = u$(e), r = (0, Ke.useRef)([]), i = kX(), o = c$(), s = d$(((e, t = hU.Hidden) => { let s = r.current.findIndex((({ el: t }) => t === e)); -1 !== s && (C$(t, { [hU.Unmount]() { r.current.splice(s, 1) }, [hU.Hidden]() { r.current[s].state = "hidden" } }), o.microTask((() => { var e; !MX(r) && i.current && (null == (e = n.current) || e.call(n)) }))) })), a = d$((e => { let t = r.current.find((({ el: t }) => t === e)); return t ? "visible" !== t.state && (t.state = "visible") : r.current.push({ el: e, state: "visible" }), () => s(e, hU.Unmount) })), c = (0, Ke.useRef)([]), l = (0, Ke.useRef)(Promise.resolve()), u = (0, Ke.useRef)({ enter: [], leave: [] }), d = d$(((e, n, r) => { c.current.splice(0), t && (t.chains.current[n] = t.chains.current[n].filter((([t]) => t !== e))), null == t || t.chains.current[n].push([e, new Promise((e => { c.current.push(e) }))]), null == t || t.chains.current[n].push([e, new Promise((e => { Promise.all(u.current[n].map((([e, t]) => t))).then((() => e())) }))]), "enter" === n ? l.current = l.current.then((() => null == t ? void 0 : t.wait.current)).then((() => r(n))) : r(n) })), h = d$(((e, t, n) => { Promise.all(u.current[t].splice(0).map((([e, t]) => t))).then((() => { var e; null == (e = c.current.shift()) || e() })).then((() => n(t))) })); return (0, Ke.useMemo)((() => ({ children: r, register: a, unregister: s, onStart: d, onStop: h, wait: l, chains: u })), [a, s, r, d, h, u, l]) } PX.displayName = "NestingContext"; let RX = Ke.Fragment, jX = dU.RenderStrategy; let $X = bU((function (e, t) { let { show: n, appear: r = !1, unmount: i = !0, ...o } = e, s = (0, Ke.useRef)(null), a = X$(...IX(e) ? [s, t] : null === t ? [] : [t]); $U(); let c = iU(); if (void 0 === n && null !== c && (n = (c & rU.Open) === rU.Open), void 0 === n) throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop."); let [l, u] = (0, Ke.useState)(n ? "visible" : "hidden"), d = OX((() => { n || u("hidden") })), [h, f] = (0, Ke.useState)(!0), p = (0, Ke.useRef)([n]); l$((() => { !1 !== h && p.current[p.current.length - 1] !== n && (p.current.push(n), f(!1)) }), [p, n]); let m = (0, Ke.useMemo)((() => ({ show: n, appear: r, initial: h })), [n, r, h]); l$((() => { n ? u("visible") : !MX(d) && null !== s.current && u("hidden") }), [n, d]); let g = { unmount: i }, y = d$((() => { var t; h && f(!1), null == (t = e.beforeEnter) || t.call(e) })), b = d$((() => { var t; h && f(!1), null == (t = e.beforeLeave) || t.call(e) })), v = fU(); return Ke.createElement(PX.Provider, { value: d }, Ke.createElement(TX.Provider, { value: m }, v({ ourProps: { ...g, as: Ke.Fragment, children: Ke.createElement(LX, { ref: a, ...g, ...o, beforeEnter: y, beforeLeave: b }) }, theirProps: {}, defaultTag: Ke.Fragment, features: jX, visible: "visible" === l, name: "Transition" }))) })), LX = bU((function (e, t) { var n, r; let { transition: i = !0, beforeEnter: o, afterEnter: s, beforeLeave: a, afterLeave: c, enter: l, enterFrom: u, enterTo: d, entered: h, leave: f, leaveFrom: p, leaveTo: m, ...g } = e, [y, b] = (0, Ke.useState)(null), v = (0, Ke.useRef)(null), w = IX(e), E = X$(...w ? [v, t, b] : null === t ? [] : [t]), x = null == (n = g.unmount) || n ? hU.Unmount : hU.Hidden, { show: _, appear: C, initial: A } = function () { let e = (0, Ke.useContext)(TX); if (null === e) throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />."); return e }(), [S, k] = (0, Ke.useState)(_ ? "visible" : "hidden"), I = function () { let e = (0, Ke.useContext)(PX); if (null === e) throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />."); return e }(), { register: T, unregister: N } = I; l$((() => T(v)), [T, v]), l$((() => { if (x === hU.Hidden && v.current) return _ && "visible" !== S ? void k("visible") : C$(S, { hidden: () => N(v), visible: () => T(v) }) }), [S, v, T, N, _, x]); let P = $U(); l$((() => { if (w && P && "visible" === S && null === v.current) throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?") }), [v, S, P, w]); let M = A && !C, O = C && _ && A, R = (0, Ke.useRef)(!1), j = OX((() => { R.current || (k("hidden"), N(v)) }), I), $ = d$((e => { R.current = !0; let t = e ? "enter" : "leave"; j.onStart(v, t, (e => { "enter" === e ? null == o || o() : "leave" === e && (null == a || a()) })) })), L = d$((e => { let t = e ? "enter" : "leave"; R.current = !1, j.onStop(v, t, (e => { "enter" === e ? null == s || s() : "leave" === e && (null == c || c()) })), "leave" === t && !MX(j) && (k("hidden"), N(v)) })); (0, Ke.useEffect)((() => { w && i || ($(_), L(_)) }), [_, w, i]); let D = !(!i || !w || !P || M), [, U] = aL(D, y, _, { start: $, end: L }), F = vU({ ref: E, className: (null == (r = uU(g.className, O && l, O && u, U.enter && l, U.enter && U.closed && u, U.enter && !U.closed && d, U.leave && f, U.leave && !U.closed && p, U.leave && U.closed && m, !U.transition && _ && h)) ? void 0 : r.trim()) || void 0, ...sL(U) }), B = 0; "visible" === S && (B |= rU.Open), "hidden" === S && (B |= rU.Closed), U.enter && (B |= rU.Opening), U.leave && (B |= rU.Closing); let W = fU(); return Ke.createElement(PX.Provider, { value: j }, Ke.createElement(oU, { value: B }, W({ ourProps: F, theirProps: g, defaultTag: RX, features: jX, visible: "visible" === S, name: "Transition.Child" }))) })), DX = bU((function (e, t) { let n = null !== (0, Ke.useContext)(TX), r = null !== iU(); return Ke.createElement(Ke.Fragment, null, !n && r ? Ke.createElement($X, { ref: t, ...e }) : Ke.createElement(LX, { ref: t, ...e })) })), UX = Object.assign($X, { Child: DX, Root: $X }); function FX(e, t, n, r) { let i = u$(n); (0, Ke.useEffect)((() => { function n(e) { i.current(e) } return (e = null != e ? e : window).addEventListener(t, n, r), () => e.removeEventListener(t, n, r) }), [e, t, r]) } var BX = (e => (e[e.None = 1] = "None", e[e.Focusable = 2] = "Focusable", e[e.Hidden = 4] = "Hidden", e))(BX || {}); let WX = bU((function (e, t) { var n; let { features: r = 1, ...i } = e, o = { ref: t, "aria-hidden": 2 === (2 & r) || (null != (n = i["aria-hidden"]) ? n : void 0), hidden: 4 === (4 & r) || void 0, style: { position: "fixed", top: 1, left: 1, width: 1, height: 0, padding: 0, margin: -1, overflow: "hidden", clip: "rect(0, 0, 0, 0)", whiteSpace: "nowrap", borderWidth: "0", ...4 === (4 & r) && 2 !== (2 & r) && { display: "none" } } }; return fU()({ ourProps: o, theirProps: i, slot: {}, defaultTag: "span", name: "Hidden" }) })); let zX = (0, Ke.createContext)(null); function qX({ children: e, node: t }) { let [n, r] = (0, Ke.useState)(null), i = HX(null != t ? t : n); return Ke.createElement(zX.Provider, { value: i }, e, null === i && Ke.createElement(WX, { features: BX.Hidden, ref: e => { var t, n; if (e) for (let i of null != (n = null == (t = o$(e)) ? void 0 : t.querySelectorAll("html > *, body > *")) ? n : []) if (i !== document.body && i !== document.head && i instanceof HTMLElement && null != i && i.contains(e)) { r(i); break } } })) } function HX(e = null) { var t; return null != (t = (0, Ke.useContext)(zX)) ? t : e } let GX = (0, Ke.createContext)((() => { })); function VX({ value: e, children: t }) { return Ke.createElement(GX.Provider, { value: e }, t) } var KX = (e => (e[e.Forwards = 0] = "Forwards", e[e.Backwards = 1] = "Backwards", e))(KX || {}); function YX(e, t) { let n = (0, Ke.useRef)([]), r = d$(e); (0, Ke.useEffect)((() => { let e = [...n.current]; for (let [i, o] of t.entries()) if (n.current[i] !== o) { let i = r(t, e); return n.current = t, i } }), [r, ...t]) } let ZX = []; function XX(e) { if (!e) return new Set; if ("function" == typeof e) return new Set(e()); let t = new Set; for (let n of e.current) n.current instanceof HTMLElement && t.add(n.current); return t } !function (e) { function t() { "loading" !== document.readyState && (e(), document.removeEventListener("DOMContentLoaded", t)) } "undefined" != typeof window && "undefined" != typeof document && (document.addEventListener("DOMContentLoaded", t), t()) }((() => { function e(e) { if (!(e.target instanceof HTMLElement) || e.target === document.body || ZX[0] === e.target) return; let t = e.target; t = t.closest(A$), ZX.unshift(null != t ? t : e.target), ZX = ZX.filter((e => null != e && e.isConnected)), ZX.splice(10) } window.addEventListener("click", e, { capture: !0 }), window.addEventListener("mousedown", e, { capture: !0 }), window.addEventListener("focus", e, { capture: !0 }), document.body.addEventListener("click", e, { capture: !0 }), document.body.addEventListener("mousedown", e, { capture: !0 }), document.body.addEventListener("focus", e, { capture: !0 }) })); var JX = (e => (e[e.None = 0] = "None", e[e.InitialFocus = 1] = "InitialFocus", e[e.TabLock = 2] = "TabLock", e[e.FocusLock = 4] = "FocusLock", e[e.RestoreFocus = 8] = "RestoreFocus", e[e.AutoFocus = 16] = "AutoFocus", e))(JX || {}); let QX = bU((function (e, t) { let n = (0, Ke.useRef)(null), r = X$(n, t), { initialFocus: i, initialFocusFallback: o, containers: s, features: a = 15, ...c } = e; $U() || (a = 0); let l = q$(n); !function (e, { ownerDocument: t }) { let n = !!(8 & e), r = function (e = !0) { let t = (0, Ke.useRef)(ZX.slice()); return YX((([e], [n]) => { !0 === n && !1 === e && s$((() => { t.current.splice(0) })), !1 === n && !0 === e && (t.current = ZX.slice()) }), [e, ZX, t]), d$((() => { var e; return null != (e = t.current.find((e => null != e && e.isConnected))) ? e : null })) }(n); YX((() => { n || (null == t ? void 0 : t.activeElement) === (null == t ? void 0 : t.body) && j$(r()) }), [n]), jU((() => { n && j$(r()) })) }(a, { ownerDocument: l }); let u = function (e, { ownerDocument: t, container: n, initialFocus: r, initialFocusFallback: i }) { let o = (0, Ke.useRef)(null), s = y$(!!(1 & e), "focus-trap#initial-focus"), a = kX(); return YX((() => { if (0 === e) return; if (!s) return void (null != i && i.current && j$(i.current)); let c = n.current; c && s$((() => { if (!a.current) return; let n = null == t ? void 0 : t.activeElement; if (null != r && r.current) { if ((null == r ? void 0 : r.current) === n) return void (o.current = n) } else if (c.contains(n)) return void (o.current = n); if (null != r && r.current) j$(r.current); else { if (16 & e) { if (D$(c, k$.First | k$.AutoFocus) !== I$.Error) return } else if (D$(c, k$.First) !== I$.Error) return; if (null != i && i.current && (j$(i.current), (null == t ? void 0 : t.activeElement) === i.current)) return; console.warn("There are no focusable elements inside the <FocusTrap />") } o.current = null == t ? void 0 : t.activeElement })) }), [i, s, e]), o }(a, { ownerDocument: l, container: n, initialFocus: i, initialFocusFallback: o }); !function (e, { ownerDocument: t, container: n, containers: r, previousActiveElement: i }) { let o = kX(), s = !!(4 & e); FX(null == t ? void 0 : t.defaultView, "focus", (e => { if (!s || !o.current) return; let t = XX(r); n.current instanceof HTMLElement && t.add(n.current); let a = i.current; if (!a) return; let c = e.target; c && c instanceof HTMLElement ? tJ(t, c) ? (i.current = c, j$(c)) : (e.preventDefault(), e.stopPropagation(), j$(a)) : j$(i.current) }), !0) }(a, { ownerDocument: l, container: n, containers: s, previousActiveElement: u }); let d = function () { let e = (0, Ke.useRef)(0); return W$(!0, "keydown", (t => { "Tab" === t.key && (e.current = t.shiftKey ? 1 : 0) }), !0), e }(), h = d$((e => { let t = n.current; t && C$(d.current, { [KX.Forwards]: () => { D$(t, k$.First, { skipElements: [e.relatedTarget, o] }) }, [KX.Backwards]: () => { D$(t, k$.Last, { skipElements: [e.relatedTarget, o] }) } }) })), f = y$(!!(2 & a), "focus-trap#tab-lock"), p = c$(), m = (0, Ke.useRef)(!1), g = { ref: r, onKeyDown(e) { "Tab" == e.key && (m.current = !0, p.requestAnimationFrame((() => { m.current = !1 }))) }, onBlur(e) { if (!(4 & a)) return; let t = XX(s); n.current instanceof HTMLElement && t.add(n.current); let r = e.relatedTarget; r instanceof HTMLElement && "true" !== r.dataset.headlessuiFocusGuard && (tJ(t, r) || (m.current ? D$(n.current, C$(d.current, { [KX.Forwards]: () => k$.Next, [KX.Backwards]: () => k$.Previous }) | k$.WrapAround, { relativeTo: e.target }) : e.target instanceof HTMLElement && j$(e.target))) } }, y = fU(); return Ke.createElement(Ke.Fragment, null, f && Ke.createElement(WX, { as: "button", type: "button", "data-headlessui-focus-guard": !0, onFocus: h, features: BX.Focusable }), y({ ourProps: g, theirProps: c, defaultTag: "div", name: "FocusTrap" }), f && Ke.createElement(WX, { as: "button", type: "button", "data-headlessui-focus-guard": !0, onFocus: h, features: BX.Focusable })) })), eJ = Object.assign(QX, { features: JX }); function tJ(e, t) { for (let n of e) if (n.contains(t)) return !0; return !1 } var nJ = (e => (e[e.Open = 0] = "Open", e[e.Closed = 1] = "Closed", e))(nJ || {}), rJ = (e => (e[e.SetTitleId = 0] = "SetTitleId", e))(rJ || {}); let iJ = { 0: (e, t) => e.titleId === t.id ? e : { ...e, titleId: t.id } }, oJ = (0, Ke.createContext)(null); function sJ(e) { let t = (0, Ke.useContext)(oJ); if (null === t) { let t = new Error(`<${e} /> is missing a parent <Dialog /> component.`); throw Error.captureStackTrace && Error.captureStackTrace(t, sJ), t } return t } function aJ(e, t) { return C$(t.type, iJ, e, t) } oJ.displayName = "DialogContext"; let cJ = bU((function (e, t) { let n = (0, Ke.useId)(), { id: r = `headlessui-dialog-${n}`, open: i, onClose: o, initialFocus: s, role: a = "dialog", autoFocus: c = !0, __demoMode: l = !1, unmount: u = !1, ...d } = e, h = (0, Ke.useRef)(!1); a = "dialog" === a || "alertdialog" === a ? a : (h.current || (h.current = !0, console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)), "dialog"); let f = iU(); void 0 === i && null !== f && (i = (f & rU.Open) === rU.Open); let p = (0, Ke.useRef)(null), m = X$(p, t), g = q$(p), y = i ? 0 : 1, [b, v] = (0, Ke.useReducer)(aJ, { titleId: null, descriptionId: null, panelRef: (0, Ke.createRef)() }), w = d$((() => o(!1))), E = d$((e => v({ type: 0, id: e }))), x = !!$U() && 0 === y, [_, C] = function () { let e = (0, Ke.useContext)(qU), t = (0, Ke.useRef)([]), n = d$((n => (t.current.push(n), e && e.register(n), () => r(n)))), r = d$((n => { let r = t.current.indexOf(n); -1 !== r && t.current.splice(r, 1), e && e.unregister(n) })), i = (0, Ke.useMemo)((() => ({ register: n, unregister: r, portals: t })), [n, r, t]); return [t, (0, Ke.useMemo)((() => function ({ children: e }) { return Ke.createElement(qU.Provider, { value: i }, e) }), [i])] }(), A = { get current() { var e; return null != (e = b.panelRef.current) ? e : p.current } }, S = HX(), { resolveContainers: k } = function ({ defaultContainers: e = [], portals: t, mainTreeNode: n } = {}) { let r = q$(n), i = d$((() => { var i, o; let s = []; for (let t of e) null !== t && (t instanceof HTMLElement ? s.push(t) : "current" in t && t.current instanceof HTMLElement && s.push(t.current)); if (null != t && t.current) for (let e of t.current) s.push(e); for (let e of null != (i = null == r ? void 0 : r.querySelectorAll("html > *, body > *")) ? i : []) e !== document.body && e !== document.head && e instanceof HTMLElement && "headlessui-portal-root" !== e.id && (n && (e.contains(n) || e.contains(null == (o = null == n ? void 0 : n.getRootNode()) ? void 0 : o.host)) || s.some((t => e.contains(t))) || s.push(e)); return s })); return { resolveContainers: i, contains: d$((e => i().some((t => t.contains(e))))) } }({ mainTreeNode: S, portals: _, defaultContainers: [A] }), I = null !== f && (f & rU.Closing) === rU.Closing; x$(!l && !I && x, { allowed: d$((() => { var e, t; return [null != (t = null == (e = p.current) ? void 0 : e.closest("[data-headlessui-portal]")) ? t : null] })), disallowed: d$((() => { var e; return [null != (e = null == S ? void 0 : S.closest("body > *:not(#headlessui-portal-root)")) ? e : null] })) }), z$(x, k, (e => { e.preventDefault(), w() })), function (e, t = ("undefined" != typeof document ? document.defaultView : null), n) { let r = y$(e, "escape"); FX(t, "keydown", (e => { r && (e.defaultPrevented || e.key === TU.Escape && n(e)) })) }(x, null == g ? void 0 : g.defaultView, (e => { e.preventDefault(), e.stopPropagation(), document.activeElement && "blur" in document.activeElement && "function" == typeof document.activeElement.blur && document.activeElement.blur(), w() })), Y$(!l && !I && x, g, k), _$(x, p, w); let [T, N] = SU(), P = (0, Ke.useMemo)((() => [{ dialogState: y, close: w, setTitleId: E, unmount: u }, b]), [y, b, w, E, u]), M = (0, Ke.useMemo)((() => ({ open: 0 === y })), [y]), O = { ref: m, id: r, role: a, tabIndex: -1, "aria-modal": l ? void 0 : 0 === y || void 0, "aria-labelledby": b.titleId, "aria-describedby": T, unmount: u }, R = !function () { var e; let [t] = (0, Ke.useState)((() => "undefined" != typeof window && "function" == typeof window.matchMedia ? window.matchMedia("(pointer: coarse)") : null)), [n, r] = (0, Ke.useState)(null != (e = null == t ? void 0 : t.matches) && e); return l$((() => { if (t) return t.addEventListener("change", e), () => t.removeEventListener("change", e); function e(e) { r(e.matches) } }), [t]), n }(), j = JX.None; x && !l && (j |= JX.RestoreFocus, j |= JX.TabLock, c && (j |= JX.AutoFocus), R && (j |= JX.InitialFocus)); let $ = fU(); return Ke.createElement(sU, null, Ke.createElement(DU, { force: !0 }, Ke.createElement(VU, null, Ke.createElement(oJ.Provider, { value: P }, Ke.createElement(GU, { target: p }, Ke.createElement(DU, { force: !1 }, Ke.createElement(N, { slot: M }, Ke.createElement(C, null, Ke.createElement(eJ, { initialFocus: s, initialFocusFallback: p, containers: k, features: j }, Ke.createElement(VX, { value: w }, $({ ourProps: O, theirProps: d, slot: M, defaultTag: lJ, features: uJ, visible: 0 === y, name: "Dialog" }))))))))))) })), lJ = "div", uJ = dU.RenderStrategy | dU.Static; let dJ = bU((function (e, t) { let { transition: n = !1, open: r, ...i } = e, o = iU(), s = e.hasOwnProperty("open") || null !== o, a = e.hasOwnProperty("onClose"); if (!s && !a) throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component."); if (!s) throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop."); if (!a) throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop."); if (!o && "boolean" != typeof e.open) throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`); if ("function" != typeof e.onClose) throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`); return void 0 === r && !n || i.static ? Ke.createElement(qX, null, Ke.createElement(cJ, { ref: t, open: r, ...i })) : Ke.createElement(qX, null, Ke.createElement(UX, { show: r, transition: n, unmount: i.unmount }, Ke.createElement(cJ, { ref: t, ...i }))) })), hJ = bU((function (e, t) { let n = (0, Ke.useId)(), { id: r = `headlessui-dialog-panel-${n}`, transition: i = !1, ...o } = e, [{ dialogState: s, unmount: a }, c] = sJ("Dialog.Panel"), l = X$(t, c.panelRef), u = (0, Ke.useMemo)((() => ({ open: 0 === s })), [s]), d = { ref: l, id: r, onClick: d$((e => { e.stopPropagation() })) }, h = i ? DX : Ke.Fragment, f = i ? { unmount: a } : {}, p = fU(); return Ke.createElement(h, { ...f }, p({ ourProps: d, theirProps: o, slot: u, defaultTag: "div", name: "Dialog.Panel" })) })), fJ = (bU((function (e, t) { let { transition: n = !1, ...r } = e, [{ dialogState: i, unmount: o }] = sJ("Dialog.Backdrop"), s = (0, Ke.useMemo)((() => ({ open: 0 === i })), [i]), a = { ref: t, "aria-hidden": !0 }, c = n ? DX : Ke.Fragment, l = n ? { unmount: o } : {}, u = fU(); return Ke.createElement(c, { ...l }, u({ ourProps: a, theirProps: r, slot: s, defaultTag: "div", name: "Dialog.Backdrop" })) })), bU((function (e, t) { let n = (0, Ke.useId)(), { id: r = `headlessui-dialog-title-${n}`, ...i } = e, [{ dialogState: o, setTitleId: s }] = sJ("Dialog.Title"), a = X$(t); (0, Ke.useEffect)((() => (s(r), () => s(null))), [r, s]); let c = (0, Ke.useMemo)((() => ({ open: 0 === o })), [o]), l = { ref: a, id: r }; return fU()({ ourProps: l, theirProps: i, slot: c, defaultTag: "h2", name: "Dialog.Title" }) }))), pJ = Object.assign(dJ, { Panel: hJ, Title: fJ, Description: IU }); const mJ = ({ children: e, open: t, onClick: n, ...r }) => (0, y.jsx)(UX, { show: t, as: Ke.Fragment, children: (0, y.jsxs)(pJ, { onClose: n, ...r, as: yJ, children: [(0, y.jsx)(DX, { as: Ke.Fragment, enterFrom: "entering", leaveTo: "leaving", children: (0, y.jsx)(gJ, { id: "privy-dialog-backdrop", "aria-hidden": "true" }) }), (0, y.jsx)(bJ, { children: (0, y.jsx)(DX, { as: Ke.Fragment, enterFrom: "entering", leaveTo: "leaving", children: (0, y.jsx)(hJ, { as: vJ, children: e }) }) })] }) }); let gJ = oh.div.withConfig({ displayName: "Backdrop", componentId: "sc-28ab5e6b-0" })(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]), yJ = oh.div.withConfig({ displayName: "DialogWrapper", componentId: "sc-28ab5e6b-1" })(["position:relative;z-index:999999;"]), bJ = oh.div.withConfig({ displayName: "DialogContainer", componentId: "sc-28ab5e6b-2" })(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]); const vJ = oh.div.withConfig({ displayName: "Panel", componentId: "sc-28ab5e6b-3" })(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]), wJ = oh.div.withConfig({ displayName: "CenterItem", componentId: "sc-28ab5e6b-4" })(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;"]); let EJ = { [uf.LANDING]: () => { let { app: e } = pf(); return e.loginMethodsAndOrder && e.loginMethodsAndOrder.primary.length > 0 ? (0, y.jsx)(oG, { connectOnly: !1 }) : (0, y.jsx)(lG, { connectOnly: !1 }) }, [uf.CONNECT_OR_CREATE]: () => { let { app: e } = pf(); return e.loginMethodsAndOrder && e.loginMethodsAndOrder.primary.length > 0 ? (0, y.jsx)(oG, { connectOnly: !0 }) : (0, y.jsx)(lG, { connectOnly: !0 }) }, [uf.AWAITING_PASSWORDLESS_CODE]: () => { let { app: e, navigate: t, lastScreen: n, navigateBack: r, setModalData: i, onUserCloseViaDialogOrKeybindRef: o } = pf(), { closePrivyModal: s, resendEmailCode: a, resendSmsCode: c, getAuthMeta: l, loginWithCode: u, updateWallets: d, createAnalyticsEvent: h } = (0, af.u)(), { authenticated: f, logout: p, user: m } = (0, mf.b)(), [g, b] = (0, Ke.useState)(qm), [v, w] = (0, Ke.useState)(!1), [E, x] = (0, Ke.useState)(null), [_, C] = (0, Ke.useState)(null), [A, S] = (0, Ke.useState)(0); o.current = () => null; let k = l()?.email ? 0 : 1; (0, Ke.useEffect)((() => { if (A) { let e = setTimeout((() => { S(A - 1) }), 1e3); return () => clearTimeout(e) } }), [A]), (0, Ke.useEffect)((() => { if (f && v && m) { if (e?.legal.requireUsersAcceptTerms && !m.hasAcceptedTerms) { let e = setTimeout((() => { t(uf.AFFIRMATIVE_CONSENT_SCREEN) }), 900); return () => clearTimeout(e) } if ((0, fc.Cy)(m, e?.embeddedWallets?.createOnLogin)) { let e = setTimeout((() => { i({ createWallet: { onSuccess: () => { }, onFailure: e => { console.error(e), h({ eventName: "embedded_wallet_creation_failure_logout", payload: { error: e, screen: "AwaitingPasswordlessCodeScreen" } }), p() }, callAuthOnSuccessOnClose: !0 } }), t(uf.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN) }), 900); return () => clearTimeout(e) } { d(); let e = setTimeout((() => s({ shouldCallAuthOnSuccess: !0, isSuccess: !0 })), Hs); return () => clearTimeout(e) } } }), [f, v, m]), (0, Ke.useEffect)((() => { if (E && 0 === _) { let e = setTimeout((() => { b(qm), x(null), document.querySelector("input[name=code-0]")?.focus() }), 1400); return () => clearTimeout(e) } }), [E]); let I = e => { e.preventDefault(); let r = e.currentTarget.value.replace(" ", ""); if ("" === r) return; if (isNaN(Number(r))) return x("Code should be numeric"), void C(1); x(null), C(null); let o = Number(e.currentTarget.name?.charAt(5)), s = [...r || [""]].slice(0, 6 - o), a = [...g.slice(0, o), ...s, ...g.slice(o + s.length)]; b(a); let c = Math.min(Math.max(o + s.length, 0), 5); if (!isNaN(Number(e.currentTarget.value))) { document.querySelector(`input[name=code-${c}]`)?.focus() } if (a.every((e => e && !isNaN(+e)))) { document.querySelector(`input[name=code-${c}]`)?.blur(), u(a.join("")).then((() => w(!0))).catch((e => { if (e instanceof bs.fP && e.privyErrorCode === bs.sX.INVALID_CREDENTIALS) x("Invalid or expired verification code"); else if (e instanceof bs.fP && e.privyErrorCode === bs.sX.CANNOT_LINK_MORE_OF_TYPE) x(e.message); else { if (e instanceof bs.fP && e.privyErrorCode === bs.sX.USER_LIMIT_REACHED) return console.error(new bs._J(e).toString()), void t(uf.USER_LIMIT_REACHED_SCREEN); if (e instanceof bs.fP && e.privyErrorCode === bs.sX.USER_DOES_NOT_EXIST) return void t(uf.ACCOUNT_NOT_FOUND_SCREEN); if (e instanceof bs.fP && e.privyErrorCode === bs.sX.LINKED_TO_ANOTHER_USER) return i({ errorModalData: { error: e, previousScreen: n ?? uf.AWAITING_PASSWORDLESS_CODE } }), void t(uf.ERROR_SCREEN, !1); if (e instanceof bs.fP && e.privyErrorCode === bs.sX.DISALLOWED_PLUS_EMAIL) return i({ inlineError: { error: e } }), void t(uf.CONNECT_OR_CREATE, !1); if (e instanceof bs.fP && e.privyErrorCode === bs.sX.ACCOUNT_TRANSFER_REQUIRED && e.data?.data?.nonce) return i({ accountTransfer: { nonce: e.data?.data?.nonce, account: 0 === k ? l()?.email : l()?.phoneNumber, displayName: e.data?.data?.account?.displayName, linkMethod: 0 === k ? "email" : "sms", embeddedWalletAddress: e.data?.data?.otherUser?.embeddedWalletAddress } }), void t(uf.LINK_CONFLICT_SCREEN); x("Issue verifying code") } C(0) })) } }, T = 0 == k ? (0, y.jsx)(_m, { color: "var(--privy-color-accent)", strokeWidth: 2, height: "48px", width: "48px" }) : (0, y.jsx)(Am, { color: "var(--privy-color-accent)", strokeWidth: 2, height: "40px", width: "40px" }), N = (0, y.jsxs)("p", 0 == k ? { children: ["Please check ", (0, y.jsx)(tg, { children: l()?.email }), " for an email from privy.io and enter your code below."] } : { children: ["Please check ", (0, y.jsx)(tg, { children: l()?.phoneNumber }), " for a message from ", e?.name || "Privy", " and enter your code below."] }); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { backFn: () => r() }, "header"), (0, y.jsxs)(Ym, { children: [(0, y.jsx)(Bm, { title: "Enter confirmation code", description: N, icon: T }), (0, y.jsxs)(Im, { children: [(0, y.jsxs)(Zm, { children: [(0, y.jsx)(Xm, { $fail: !!E, $success: v, children: (0, y.jsx)("span", { children: E || (v ? "Success!" : "") }) }), (0, y.jsx)("div", { children: g.map(((e, t) => (0, y.jsx)("input", { name: `code-${t}`, type: "text", value: g[t], onChange: I, onKeyUp: e => { "Backspace" === e.key && (e => { if (1 === _ && (x(null), C(null)), b([...g.slice(0, e), "", ...g.slice(e + 1)]), e > 0) { document.querySelector(`input[name=code-${e - 1}]`)?.focus() } })(t) }, inputMode: "numeric", autoFocus: 0 === t, pattern: "[0-9]", className: `${v ? "success" : ""} ${E ? "fail" : ""}`, autoComplete: ys.tq ? "one-time-code" : "off" }, t))) })] }), (0, y.jsxs)(Jm, { children: [(0, y.jsxs)("span", { children: ["Didn't get ", 0 == k ? "an email" : "a message", "?"] }), A ? (0, y.jsxs)(eg, { children: [(0, y.jsx)(Em, { color: "var(--privy-color-foreground)", strokeWidth: 1.33, height: "12px", width: "12px" }), (0, y.jsx)("span", { children: "Code sent" })] }) : (0, y.jsx)(Qm, { children: (0, y.jsx)("button", { onClick: async () => { S(30), 0 == k ? await a() : await c() }, children: "Resend code" }) })] })] })] }), (0, y.jsx)(xp, {})] }) }, [uf.AWAITING_CONNECTION]: () => { let e, [t, n] = (0, Ke.useState)(!1), [r, i] = (0, Ke.useState)(!1), [o, s] = (0, Ke.useState)(void 0), { authenticated: a, logout: c } = (0, mf.b)(), { app: l, navigate: u, navigateBack: d, lastScreen: h, currentScreen: f, setModalData: p, data: m } = pf(), { getAuthFlow: g, walletConnectionStatus: b, closePrivyModal: v, initLoginWithWallet: w, loginWithWallet: E, updateWallets: x, createAnalyticsEvent: _ } = (0, af.u)(), { walletConnectors: C } = (0, mf.b)(), [A, S] = (0, Ke.useState)(0), { user: k } = (0, mf.b)(), [I] = (0, Ke.useState)(k?.linkedAccounts.length || 0), [T, N] = (0, Ke.useState)(""), [P, M] = (0, Ke.useState)(""), [O, R] = (0, Ke.useState)(!1), { hasTabbedAway: j } = function () { let [e, t] = (0, Ke.useState)(!1), n = (0, Ke.useCallback)((() => { document.hidden && t(!0) }), []); return (0, Ke.useEffect)((() => (document.addEventListener("visibilitychange", n), () => document.removeEventListener("visibilitychange", n))), [n]), { hasTabbedAway: e, reset: () => t(!1) } }(), { enabled: $, token: L } = Xa(), D = ys.tq && "wallet_connect_v2" === b?.connector?.connectorType || ys.tq && "coinbase_wallet" === b?.connector?.connectorType || ys.tq && "injected" === b?.connector?.connectorType && "phantom" === b?.connector?.walletClientType, U = "connected" === b?.status, F = "switching_to_supported_chain" === b?.status; (0, Ke.useEffect)((() => { let e = g(), t = e instanceof Ea || e instanceof _a ? e : void 0; U && !t && (!$ || L || a ? w(b.connectedWallet, L, m?.login?.disableSignup).then((() => { R(!0) })) : (p({ captchaModalData: { callback: e => w(b.connectedWallet, e, m?.login?.disableSignup).then((() => { R(!0) })), userIntentRequired: !1, onSuccessNavigateTo: uf.AWAITING_CONNECTION, onErrorNavigateTo: uf.ERROR_SCREEN } }), u(uf.CAPTCHA_SCREEN, !1))), t && D && U && !t.preparedMessage ? t.buildMessage() : t && !D && U && (r || (async () => { i(!0), s(void 0); try { "wallet_connect_v2" === b?.connector?.connectorType && "metamask" === b?.connector?.walletClientType && await La(2500), await W() } catch (e) { console.warn("Auto-prompted signature failed", e) } finally { i(!1) } })()) }), [A, U, O]), (0, Ke.useEffect)((() => { if (k && t) { let e = 900; if (l?.legal.requireUsersAcceptTerms && !k.hasAcceptedTerms) { let t = setTimeout((() => { u(uf.AFFIRMATIVE_CONSENT_SCREEN) }), e); return () => clearTimeout(t) } if ((0, fc.Cy)(k, l?.embeddedWallets?.createOnLogin)) { let t = setTimeout((() => { p({ createWallet: { onSuccess: () => { }, onFailure: e => { console.error(e), _({ eventName: "embedded_wallet_creation_failure_logout", payload: { error: e, screen: "ConnectionStatusScreen" } }), c() }, callAuthOnSuccessOnClose: !0 } }), u(uf.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN) }), e); return () => clearTimeout(t) } x(); let t = setTimeout((() => v({ shouldCallAuthOnSuccess: !0, isSuccess: !0 })), Hs); return () => clearTimeout(t) } }), [k, t]); let B = e => { if (e?.privyErrorCode !== bs.sX.ALLOWLIST_REJECTED) { if (e?.privyErrorCode === bs.sX.USER_LIMIT_REACHED) return console.error(new bs._J(e).toString()), void u(uf.USER_LIMIT_REACHED_SCREEN); if (e?.privyErrorCode !== bs.sX.USER_DOES_NOT_EXIST) return e?.privyErrorCode === bs.sX.ACCOUNT_TRANSFER_REQUIRED && e.data?.data?.nonce ? (p({ accountTransfer: { nonce: e.data?.data?.nonce, account: g()?.meta.address, displayName: e.data?.data?.account?.displayName, externalWalletMetadata: { walletClientType: g()?.meta.walletClientType, chainId: g()?.meta.chainId, connectorType: g()?.meta.connectorType }, linkMethod: "siwe", embeddedWalletAddress: e.data?.data?.otherUser?.embeddedWalletAddress } }), void u(uf.LINK_CONFLICT_SCREEN)) : void s(fT(e)); u(uf.ACCOUNT_NOT_FOUND_SCREEN) } else u(uf.ALLOWLIST_REJECTION_SCREEN) }; async function W() { try { await E(), n(!0) } catch (t0) { B(t0) } finally { i(!1) } } (0, Ke.useEffect)((() => { b?.connectError && B(b?.connectError) }), [b]), ((e, t) => { let n = (0, Ke.useRef)((() => { })); (0, Ke.useEffect)((() => { n.current = e })), (0, Ke.useEffect)((() => { if (null !== t) { let e = setInterval((() => n.current()), t || 0); return () => clearInterval(e) } }), [t]) })((() => { let e = "wallet_connect_v2" === z && b?.connector instanceof hT ? b.connector.redirectUri : void 0; e && N(e); let t = "wallet_connect_v2" === z && b?.connector instanceof hT ? b.connector.fallbackUniversalRedirectUri : void 0; t && M(t) }), b?.connector instanceof hT && !T ? 500 : null); let z = b?.connector?.connectorType || "injected", q = b?.connector?.walletClientType || "unknown", H = bg[q]?.displayName || b?.connector?.walletBranding.name || "Browser Extension", G = bg[q]?.logo || b?.connector?.walletBranding.icon || (e => (0, y.jsx)(Dg, { ...e })), V = "Browser Extension" === H ? H.toLowerCase() : H; e = t ? `Successfully connected with ${V}` : o ? o.message : F ? "Switching networks" : U ? r && D ? "Signing" : "Sign to verify" : `Waiting for ${V}`; let K = "Don\u2019t see your wallet? Check your other browser windows."; t ? K = I === (k?.linkedAccounts.length || 0) ? "Wallet was already linked." : "You\u2019re good to go!" : A >= 2 && o ? K = "Unable to connect wallet" : o ? K = o.detail : F ? K = "Switch your wallet to the requested network." : U && D ? K = "Sign the message in your wallet to verify it belongs to you." : "metamask" === q && ys.tq ? K = "Click continue to open and connect MetaMask." : "metamask" === q ? K = "For the best experience, connect only one wallet at a time." : "wallet_connect" === z ? K = "Open your mobile wallet app to continue" : "coinbase_wallet" !== z || Oa() || (K = Fg(k) ? "Continue with the Coinbase app. Not the right wallet? Reset your connection below." : "Open the Coinbase app on your phone to continue."); let Y = C?.walletConnectors?.find((e => "coinbase_wallet" === e.walletClientType)), Z = "coinbase_wallet" === q && (Fg(k) || o === Hc.ERROR_USER_EXISTS); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { backFn: h && f !== h ? d : void 0 }), (0, y.jsxs)(pT, { children: [(0, y.jsx)(gT, { walletLogo: G, success: t, fail: !!o }), (0, y.jsxs)(Mm, { children: [(0, y.jsx)("h3", { children: e }), (0, y.jsx)("p", { children: K }), U || !T || j ? null : (0, y.jsxs)("p", { children: ["Still here?", " ", (0, y.jsx)("a", { href: T, target: "_blank", style: { textDecoration: "underline" }, children: "Try connecting again" }), P && (0, y.jsxs)(y.Fragment, { children: [" ", "or", " ", (0, y.jsx)("a", { href: P, target: "_blank", style: { textDecoration: "underline" }, children: "use this different link" })] })] })] }), Z ? (0, y.jsx)(Sf, { onClick: () => Y && Y?.disconnect(), disabled: t, children: "Use a different wallet" }) : o == Hc.ERROR_USER_EXISTS && f !== h ? (0, y.jsx)(Sf, { onClick: d, children: "Use a different wallet" }) : U && !t && D ? (0, y.jsx)(Sf, { onClick: () => { i(!0), W() }, disabled: r, children: r ? "Signing" : "Sign with your wallet" }) : !t && o?.retryable && A < 2 ? (0, y.jsx)(Sf, { onClick: () => { S(A + 1), s(void 0), U ? (i(!0), W()) : b?.connectRetry() }, disabled: !t && (!o?.retryable || A >= 2), children: "Retry" }) : t || o ? null : (0, y.jsx)(Sf, { onClick: () => { }, disabled: !0, children: "Connecting" })] }), (0, y.jsx)(_p, {})] }) }, [uf.AWAITING_CONNECT_ONLY_CONNECTION]: () => { let e, { navigateBack: t, navigate: n, lastScreen: r, currentScreen: i, data: o, setModalData: s } = pf(), { walletConnectionStatus: a, closePrivyModal: c } = (0, af.u)(), [l, u] = (0, Ke.useState)(void 0), [d, h] = (0, Ke.useState)(0), f = "connected" === a?.status, p = "switching_to_supported_chain" === a?.status; (0, Ke.useEffect)((() => { if (f) { let e; if (o?.externalConnectWallet?.onCompleteNavigateTo) { let t = o.externalConnectWallet.onCompleteNavigateTo, r = a.connectedWallet?.address; e = setTimeout((() => { o.funding && s({ ...o, funding: { ...o.funding, connectedWalletAddress: r } }), n(t({ walletChainType: a.connector?.chainType })) }), Hs) } else e = setTimeout(c, Hs); return () => clearTimeout(e) } }), [f]), (0, Ke.useEffect)((() => { var e; a?.connectError && (e = a?.connectError, u(fT(e))) }), [a]); let m = a?.connector?.connectorType || "injected", g = a?.connector?.walletClientType || "unknown", b = bg[g]?.displayName || a?.connector?.walletBranding.name || "Browser Extension", v = bg[g]?.logo || a?.connector?.walletBranding.icon || (e => (0, y.jsx)(Dg, { ...e })), w = "Browser Extension" === b ? b.toLowerCase() : b; e = f ? `Successfully connected with ${w}` : l ? l.message : p ? "Switching networks" : `Waiting for ${w}`; let E = "Don\u2019t see your wallet? Check your other browser windows."; return f ? E = "You\u2019re good to go!" : d >= 2 && l ? E = "Unable to connect wallet" : l ? E = l.detail : p ? E = "Switch your wallet to the requested network." : "metamask" === g && ys.tq ? E = "Click to continue to open and connect MetaMask." : "metamask" === g ? E = "For the best experience, connect only one wallet at a time." : "wallet_connect_v2" === m ? E = "Open your mobile wallet app to continue" : "coinbase_wallet" === m && (E = "Open the Coinbase app on your phone to continue."), (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { backFn: i === r ? void 0 : t }), (0, y.jsxs)(yT, { children: [(0, y.jsx)(gT, { walletLogo: v, success: f, fail: !!l }), (0, y.jsxs)(Mm, { children: [(0, y.jsx)("h3", { children: e }), (0, y.jsx)("p", { children: E })] }), l == Hc.ERROR_USER_EXISTS ? (0, y.jsx)(Sf, { onClick: t, children: "Use a different wallet" }) : !f && l?.retryable && d < 2 ? (0, y.jsx)(Sf, { onClick: () => { h(d + 1), u(void 0), a?.connectRetry() }, disabled: !f && (!l?.retryable || d >= 2), children: "Retry" }) : !f && l && d >= 2 ? (0, y.jsx)(Sf, { onClick: t, children: "Use a different wallet" }) : null] }), (0, y.jsx)(_p, {})] }) }, [uf.AWAITING_FARCASTER_CONNECTION]: () => { let { authenticated: e, logout: t, ready: n, user: r } = (0, mf.b)(), { lastScreen: i, navigate: o, navigateBack: s, setModalData: a, app: c } = pf(), { getAuthFlow: l, loginWithFarcaster: u, closePrivyModal: d, createAnalyticsEvent: h } = (0, af.u)(), [f, p] = (0, Ke.useState)(void 0), [m, g] = (0, Ke.useState)(!1), [b, v] = (0, Ke.useState)(!1), w = (0, Ke.useRef)([]), E = l(), x = E?.meta.connectUri; return (0, Ke.useEffect)((() => { let e = Date.now(), t = setInterval((async () => { let n = await E.pollForReady.execute(), r = Date.now() - e; if (n) { clearInterval(t), g(!0); try { await u(), v(!0) } catch (e) { let n = { retryable: !1, message: "Authentication failed" }; if (e?.privyErrorCode === bs.sX.ALLOWLIST_REJECTED) return void o(uf.ALLOWLIST_REJECTION_SCREEN); if (e?.privyErrorCode === bs.sX.USER_LIMIT_REACHED) return console.error(new bs._J(e).toString()), void o(uf.USER_LIMIT_REACHED_SCREEN); if (e?.privyErrorCode === bs.sX.USER_DOES_NOT_EXIST) return void o(uf.ACCOUNT_NOT_FOUND_SCREEN); if (e?.privyErrorCode === bs.sX.LINKED_TO_ANOTHER_USER) n.detail = e.message ?? "This account has already been linked to another user."; else { if (e?.privyErrorCode === bs.sX.ACCOUNT_TRANSFER_REQUIRED && e.data?.data?.nonce) return a({ accountTransfer: { nonce: e.data?.data?.nonce, account: e.data?.data?.subject, displayName: e.data?.data?.account?.displayName, linkMethod: "farcaster", embeddedWalletAddress: e.data?.data?.otherUser?.embeddedWalletAddress, farcasterEmbeddedAddress: e.data?.data?.otherUser?.farcasterEmbeddedAddress } }), void o(uf.LINK_CONFLICT_SCREEN); e?.privyErrorCode === bs.sX.INVALID_CREDENTIALS ? (n.retryable = !0, n.detail = "Something went wrong. Try again.") : e?.privyErrorCode === bs.sX.TOO_MANY_REQUESTS && (n.detail = "Too many requests. Please wait before trying again.") } p(n) } } else r > 12e4 && (clearInterval(t), p({ retryable: !0, message: "Authentication failed", detail: "The request timed out. Try again." })) }), 2e3); return () => { clearInterval(t), w.current.forEach((e => clearTimeout(e))) } }), []), (0, Ke.useEffect)((() => { if (n && e && b && r) { if (c?.legal.requireUsersAcceptTerms && !r.hasAcceptedTerms) { let e = setTimeout((() => { o(uf.AFFIRMATIVE_CONSENT_SCREEN) }), Hs); return () => clearTimeout(e) } b && ((0, fc.Cy)(r, c?.embeddedWallets.createOnLogin) ? w.current.push(setTimeout((() => { a({ createWallet: { onSuccess: () => { }, onFailure: e => { console.error(e), h({ eventName: "embedded_wallet_creation_failure_logout", payload: { error: e, screen: "FarcasterConnectStatusScreen" } }), t() }, callAuthOnSuccessOnClose: !0 } }), o(uf.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN) }), Hs)) : w.current.push(setTimeout((() => d({ shouldCallAuthOnSuccess: !0, isSuccess: !0 })), Hs))) } }), [b, n, e, r]), (0, y.jsxs)(y.Fragment, ys.tq || m ? { children: [(0, y.jsx)(Vf, { backFn: i ? s : void 0, onClose: d }, "header"), (0, y.jsx)(Rm, {}), (0, y.jsx)(y.Fragment, ys.gn ? { children: (0, y.jsxs)(YP, { children: [(0, y.jsx)(ep, { children: (0, y.jsxs)("div", { children: [(0, y.jsx)(wf, { success: b, fail: !!f }), (0, y.jsx)(GP, { style: { width: "38px", height: "38px" } })] }) }), (0, y.jsxs)(Mm, { children: [(0, y.jsx)(Jp, { children: f ? f.message : "Sign in with Farcaster" }), (0, y.jsx)(Qp, { children: f ? f.detail : "To sign in with Farcaster, please open the Warpcast app." })] }), x && (0, y.jsx)(Sf, { onClick: e => { e.preventDefault(), window.location.href = x }, children: "Open Warpcast app" })] }) } : { children: (0, y.jsxs)(KP, { children: [(0, y.jsx)(ep, { children: (0, y.jsxs)("div", { children: [(0, y.jsx)(wf, { success: b, fail: !!f }), (0, y.jsx)(GP, { style: { width: "38px", height: "38px" } })] }) }), (0, y.jsxs)(Mm, { children: [(0, y.jsx)(Jp, { children: f ? f.message : "Signing in with Farcaster" }), (0, y.jsx)(Qp, { children: f ? f.detail : "This should only take a moment" }), (0, y.jsx)(km, { children: x && ys.tq && (0, y.jsx)(RP, { text: "Take me to Warpcast", url: x, color: VP }) })] })] }) }), (0, y.jsx)(_p, {})] } : { children: [(0, y.jsx)(Vf, { backFn: i ? s : void 0, onClose: d }, "header"), (0, y.jsx)(Rm, {}), (0, y.jsx)(KP, { children: (0, y.jsxs)("div", { children: [(0, y.jsx)(Jp, { children: "Sign in with Farcaster" }), (0, y.jsx)(Qp, { children: "Scan with your phone's camera to continue." }), (0, y.jsx)(Tm, { children: x ? (0, y.jsx)(HP, { url: x, size: 275, squareLogoElement: GP }) : (0, y.jsx)(Ef, {}) }), (0, y.jsxs)(km, { children: [(0, y.jsx)(Qp, { children: "Or copy this link and paste it into a phone browser to open the Warpcast app." }), x && (0, y.jsx)(MP, { text: x, itemName: "link", color: VP })] })] }) }), (0, y.jsx)(_p, {})] }) }, [uf.AWAITING_FARCASTER_SIGNER]: () => { let { lastScreen: e, navigateBack: t, data: n, app: r } = pf(), { requestFarcasterSignerStatus: i, closePrivyModal: o } = (0, af.u)(), [s, a] = (0, Ke.useState)(void 0), [c, l] = (0, Ke.useState)(!1), [u, d] = (0, Ke.useState)(!1), h = (0, Ke.useRef)([]), f = n?.farcasterSigner; (0, Ke.useEffect)((() => { let e = Date.now(), t = setInterval((async () => { if (!f?.public_key) return clearInterval(t), void a({ retryable: !0, message: "Connect failed", detail: "Something went wrong. Please try again." }); "approved" === f.status && (clearInterval(t), l(!1), d(!0), h.current.push(setTimeout((() => o({ shouldCallAuthOnSuccess: !1, isSuccess: !0 })), Hs))); let n = await i(f?.public_key), r = Date.now() - e; "approved" === n.status ? (clearInterval(t), l(!1), d(!0), h.current.push(setTimeout((() => o({ shouldCallAuthOnSuccess: !1, isSuccess: !0 })), Hs))) : r > 3e5 ? (clearInterval(t), a({ retryable: !0, message: "Connect failed", detail: "The request timed out. Try again." })) : "revoked" === n.status && (clearInterval(t), a({ retryable: !0, message: "Request rejected", detail: "The request was rejected. Please try again." })) }), 2e3); return () => { clearInterval(t), h.current.forEach((e => clearTimeout(e))) } }), []); let p = "pending_approval" === f?.status ? f.signer_approval_url : void 0; return (0, y.jsxs)(y.Fragment, ys.tq || c ? { children: [(0, y.jsx)(Vf, { backFn: e ? t : void 0, onClose: o }, "header"), (0, y.jsx)(Rm, {}), (0, y.jsx)(y.Fragment, ys.gn ? { children: (0, y.jsxs)(JP, { children: [(0, y.jsx)(ep, { children: (0, y.jsxs)("div", { children: [(0, y.jsx)(wf, { success: u, fail: !!s }), (0, y.jsx)(GP, { style: { width: "38px", height: "38px" } })] }) }), (0, y.jsxs)(Mm, { children: [(0, y.jsx)(Jp, { children: s ? s.message : "Add a signer to Farcaster" }), (0, y.jsx)(Qp, { children: s ? s.detail : "This will allow " + r.name + " to add casts, likes, follows, and more on your behalf." })] }), p && (0, y.jsx)(Sf, { onClick: e => { e.preventDefault(), window.location.href = p }, children: "Open Warpcast app" })] }) } : { children: (0, y.jsxs)(XP, { children: [(0, y.jsx)(ep, { children: (0, y.jsxs)("div", { children: [(0, y.jsx)(wf, { success: u, fail: !!s }), (0, y.jsx)(GP, { style: { width: "38px", height: "38px" } })] }) }), (0, y.jsxs)(Mm, { children: [(0, y.jsx)(Jp, { children: s ? s.message : "Requesting signer from Farcaster" }), (0, y.jsx)(Qp, { children: s ? s.detail : "This should only take a moment" }), (0, y.jsx)(km, { children: p && ys.tq && (0, y.jsx)(RP, { text: "Take me to Warpcast", url: p, color: ZP }) })] })] }) }), (0, y.jsx)(_p, {})] } : { children: [(0, y.jsx)(Vf, { backFn: e ? t : void 0, onClose: o }, "header"), (0, y.jsx)(Rm, {}), (0, y.jsx)(XP, { children: (0, y.jsxs)("div", { children: [(0, y.jsx)(Jp, { children: "Add a signer to Farcaster" }), (0, y.jsxs)(Qp, { children: ["This will allow ", r.name, " to add casts, likes, follows, and more on your behalf."] }), (0, y.jsx)(Tm, { children: "pending_approval" === f?.status ? (0, y.jsx)(HP, { url: f.signer_approval_url, size: 275, squareLogoElement: GP }) : (0, y.jsx)(Ef, {}) }), (0, y.jsxs)(km, { children: [(0, y.jsx)(Qp, { children: "Or copy this link and paste it into a phone browser to open the Warpcast app." }), "pending_approval" === f?.status && (0, y.jsx)(MP, { text: f.signer_approval_url, itemName: "link", color: ZP })] })] }) }), (0, y.jsx)(_p, {})] }) }, [uf.AWAITING_PASSKEY_SYSTEM_DIALOGUE]: () => { let { lastScreen: e, currentScreen: t, navigateBack: n } = pf(), { loginWithPasskey: r, closePrivyModal: i } = (0, af.u)(), [o, s] = (0, Ke.useState)("loading"), [a, c] = (0, Ke.useState)(null), l = (0, Ke.useRef)([]); (0, Ke.useEffect)((() => () => { l.current.forEach((e => clearTimeout(e))), l.current = [] }), []); let u = async () => { s("loading"); try { await r(), s("success") } catch (e) { c(e), s("error") } }; return (0, Ke.useEffect)((() => { var e; "success" === o && (e = setTimeout((() => { i({ shouldCallAuthOnSuccess: !0, isSuccess: !0 }) }), Hs), l.current = [e, ...l.current]) }), [o]), (0, Ke.useEffect)((() => { u() }), []), (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { backFn: e && t !== e ? n : void 0 }), (0, y.jsxs)(jY, { children: [(0, y.jsx)(ep, { children: (0, y.jsxs)("div", { children: [(0, y.jsx)(wf, { success: "success" === o, fail: "error" === o }), (0, y.jsx)(MB, { style: { width: "38px", height: "38px" } })] }) }), (0, y.jsxs)(Mm, { children: [(0, y.jsx)("h3", { children: (() => { switch (o) { case "loading": return "Waiting for passkey"; case "success": return "Success"; case "error": return "Something went wrong" } })() }), (0, y.jsx)("p", { style: { whiteSpace: "pre-wrap" }, children: (() => { switch (o) { case "loading": return "Please follow prompts to verify your passkey.\nYou will have to sign up with another method first to register a passkey for your account."; case "success": return "You've successfully logged in with your passkey."; case "error": if (a instanceof bs.Bi) { if (a.privyErrorCode === bs.sX.CANNOT_LINK_MORE_OF_TYPE) return "Cannot link more passkeys to account."; if (a.privyErrorCode === bs.sX.PASSKEY_NOT_ALLOWED) return "Passkey request timed out or rejected by user.\nYou will have to sign up with another method first to register a passkey for your account." } return "An unknown error occurred.\nYou will have to sign up with another method first to register a passkey for your account." } })() })] }), (() => { switch (o) { case "loading": case "success": return (0, y.jsx)(Sf, { onClick: () => { }, disabled: !0, children: "Continue" }); case "error": return (0, y.jsx)(Sf, { onClick: u, disabled: !1, children: "Retry" }) } })()] }), (0, y.jsx)(_p, {})] }) }, [uf.PHANTOM_INTERSTITIAL_SCREEN]: () => { let { forkSession: e, ready: t, authenticated: n } = (0, mf.b)(), { walletConnectionStatus: r } = (0, af.u)(), [i, o] = (0, Ke.useState)(""), [s, a] = (0, Ke.useState)(!1); (0, Ke.useEffect)((() => { t && n && e().then(o) }), [t, n]); let c = ((e, t, n) => { let r = encodeURIComponent(new URL(window.location.href).href.replace(/\/$/g, "") + `?privy_token=${e}&privy_connector=${n ? "solana_adapter" : "injected"}&privy_wallet_client=${n ? "phantom_solana" : "phantom"}`); if (!Ma() && ys.tq) return `${t ? "phantom://" : "https://phantom.app/ul/"}browse/${r}?ref=${r}` })(i, !s, "solana" === r?.connector?.chainType), l = { title: "Redirecting to Phantom Mobile Wallet", description: "We'll take you to the Phantom Mobile Wallet app to continue your login experience.", footnote: "" }; return t && (l.description = "For the best experience, we'll automatically log you into the Phantom Mobile Wallet in-app browser.", l.footnote = "Once you're done, you can always return here and refresh to view your updated account."), s && (l.title = "Still here?", l.description = "You may need to install the Phantom mobile app.", l.footnote = "Once you're done, you can return here or connect via Phantom's in-app browser."), (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, {}, "header"), (0, y.jsx)(Rm, {}), (0, y.jsx)(Fm, { title: l.title, description: l.description }), (0, y.jsxs)(Sm, { children: [(0, y.jsx)($Y, { children: (0, y.jsx)(gg, { style: { width: "72px", height: "72px" } }) }), (0, y.jsx)(Tf, { href: c, onClick: () => { setTimeout((() => a(!0)), 1e3) }, loading: t && !c, children: s ? "Go to App Store" : "Continue" }), l.footnote ? (0, y.jsx)("p", { children: l.footnote }) : null] }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }) }, [uf.LOGIN_FAILED_SCREEN]: () => { let { closePrivyModal: e } = (0, af.u)(), { navigate: t } = pf(); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, {}, "header"), (0, y.jsx)(Rm, {}), (0, y.jsx)(mG, { style: { width: "160px", height: "160px", margin: "0 auto 20px" } }), (0, y.jsx)(Fm, { title: "Could not connect with wallet", description: "Please check that Phantom multichain is enabled and try again.", style: { display: "flex", flexDirection: "column", alignItems: "center", justifyContent: "center", textAlign: "center" } }), (0, y.jsxs)(Sm, { children: [(0, y.jsx)(Sf, { onClick: () => t(uf.LANDING), children: "Try again" }), (0, y.jsx)(Pf, { onClick: () => e(), children: "Cancel" })] }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }) }, [uf.AWAITING_OAUTH_SCREEN]: () => { let { authenticated: e, logout: t, ready: n, user: r } = (0, mf.b)(), { app: i, setModalData: o, navigate: s, resetNavigation: a } = pf(), { getAuthMeta: c, initLoginWithOAuth: l, loginWithOAuth: u, updateWallets: d, setReadyToTrue: h, closePrivyModal: f, createAnalyticsEvent: p } = (0, af.u)(), [m, g] = (0, Ke.useState)(!1), [b, v] = (0, Ke.useState)(void 0), w = c()?.provider || "google", { name: E, component: x } = MY(w), _ = (0, yf.rN)(); (0, Ke.useEffect)((() => { u(w).then((e => { g(!0), h(!0), e && _("login", "onOAuthLoginComplete", e) })).catch((e => { if (h(!1), e?.privyErrorCode === bs.sX.ALLOWLIST_REJECTED) return v(void 0), a(), void s(uf.ALLOWLIST_REJECTION_SCREEN); if (e?.privyErrorCode === bs.sX.USER_LIMIT_REACHED) return console.error(new bs._J(e).toString()), v(void 0), a(), void s(uf.USER_LIMIT_REACHED_SCREEN); if (e?.privyErrorCode === bs.sX.USER_DOES_NOT_EXIST) return v(void 0), a(), void s(uf.ACCOUNT_NOT_FOUND_SCREEN); if (e?.privyErrorCode === bs.sX.ACCOUNT_TRANSFER_REQUIRED && e.data?.data?.nonce) return v(void 0), a(), o({ accountTransfer: { nonce: e.data?.data?.nonce, account: e.data?.data?.subject, displayName: e.data?.data?.account?.displayName, linkMethod: c()?.provider, embeddedWalletAddress: e.data?.data?.otherUser?.embeddedWalletAddress, oAuthUserInfo: e.data?.data?.otherUser?.oAuthUserInfo } }), void s(uf.LINK_CONFLICT_SCREEN); let { retryable: t, detail: n } = function (e, t) { let n = { detail: "", retryable: !1 }, r = Pp(t); if (e?.privyErrorCode === bs.sX.LINKED_TO_ANOTHER_USER && (n.detail = "This account has already been linked to another user."), e?.privyErrorCode === bs.sX.INVALID_CREDENTIALS && (n.retryable = !0, n.detail = "Something went wrong. Try again."), e.privyErrorCode === bs.sX.OAUTH_USER_DENIED && (n.detail = `Retry and check ${r} to finish connecting your account.`, n.retryable = !0), e?.privyErrorCode === bs.sX.TOO_MANY_REQUESTS && (n.detail = "Too many requests. Please wait before trying again."), e?.privyErrorCode === bs.sX.TOO_MANY_REQUESTS && e.message.includes("provider rate limit")) { let e = MY(t).name; n.detail = `Request limit reached for ${e}. Please wait a moment and try again.` } if (e?.privyErrorCode === bs.sX.OAUTH_ACCOUNT_SUSPENDED) { let e = MY(t).name; n.detail = `Your ${e} account is suspended. Please try another login method.` } return e?.privyErrorCode === bs.sX.CANNOT_LINK_MORE_OF_TYPE && (n.detail = "You cannot authorize more than one account for this user."), e?.privyErrorCode === bs.sX.OAUTH_UNEXPECTED && t.startsWith("privy:") && (n.detail = "Something went wrong. Please try again."), n }(e, w); v({ retryable: t, detail: n, message: "Authentication failed" }) })).finally((() => { OY() })) }), [E, w]), (0, Ke.useEffect)((() => { if (n && e && m && r) { if (i?.legal.requireUsersAcceptTerms && !r.hasAcceptedTerms) { let e = setTimeout((() => { s(uf.AFFIRMATIVE_CONSENT_SCREEN) }), Hs); return () => clearTimeout(e) } if ((0, fc.Cy)(r, i?.embeddedWallets?.createOnLogin)) { let e = setTimeout((() => { o({ createWallet: { onSuccess: () => { }, onFailure: e => { console.error(e), p({ eventName: "embedded_wallet_creation_failure_logout", payload: { error: e, provider: w, screen: "OAuthStatusScreen" } }), t() }, callAuthOnSuccessOnClose: !0 } }), s(uf.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN) }), Hs); return () => clearTimeout(e) } { let e = setTimeout((() => f({ shouldCallAuthOnSuccess: !0, isSuccess: !0 })), Hs); return d(), () => clearTimeout(e) } } }), [n, e, m, r]); let C = m ? `Successfully connected with ${E}` : b ? b.message : `Verifying connection to ${E}`, A = ""; return A = m ? "You\u2019re good to go!" : b ? b.detail : "Just a few moments more", (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, {}), (0, y.jsx)(Rm, {}), (0, y.jsxs)(RY, { children: [(0, y.jsx)(ep, { children: (0, y.jsxs)("div", { children: [(0, y.jsx)(wf, { success: m, fail: !!b }), (0, y.jsx)(x, { style: { width: "38px", height: "38px" } })] }) }), (0, y.jsxs)(Mm, { children: [(0, y.jsx)("h3", { children: C }), (0, y.jsx)("p", { children: A })] }), b && b?.retryable ? (0, y.jsx)(Of, { onClick: () => { OY(), l(w), v(void 0) }, disabled: !m && !b?.retryable, children: "Retry" }) : null] }), (0, y.jsx)(jm, {}), (0, y.jsx)(_p, {})] }) }, [uf.CROSS_APP_AUTH_SCREEN]: () => { let e = sf(), { data: t, navigate: n, setModalData: r, onUserCloseViaDialogOrKeybindRef: i } = pf(), { crossAppAuthFlow: o, updateWallets: s, closePrivyModal: a, createAnalyticsEvent: c } = (0, af.u)(), { logout: l } = function (e) { let { logout: t } = (0, Ke.useContext)(mf.N); return (0, yf.Hc)("logout", e), { logout: t } }(), [u, d] = (0, Ke.useState)({}), h = t?.crossAppAuth, f = { id: h.appId, name: h.name, logoUrl: h.logoUrl }, p = new bs.dx(`There was an issue connecting your ${f.name} account. Please try again.`), m = new Ds((async e => { if (h.popup) try { let t = await o({ appId: e, popup: h.popup, action: h.action }); d({ data: t }) } catch (e) { e instanceof bs.dx ? d({ error: e }) : (e instanceof bs.fP && h.popup && h.popup.close(), d({ error: p })) } else d({ error: p }) })), g = () => { u.data && (s(), h.onSuccess(u.data), a({ shouldCallAuthOnSuccess: !0, isSuccess: !0 })), h.onError(u.error ?? new bs.dx("User canceled flow")), a({ shouldCallAuthOnSuccess: !1, isSuccess: !1 }) }; i.current = g, (0, Ke.useEffect)((() => { f.id.length && m.execute(f.id) }), [f.id]), (0, Ke.useEffect)((() => { if (!u.data) return; let t = u.data; if (e.legal.requireUsersAcceptTerms && !t.hasAcceptedTerms) { let e = setTimeout((() => { n(uf.AFFIRMATIVE_CONSENT_SCREEN) }), Hs); return () => clearTimeout(e) } if ((0, fc.Cy)(t, e.embeddedWallets?.createOnLogin)) { let e = setTimeout((() => { r({ createWallet: { onSuccess: () => { }, onFailure: e => { console.error(e), c({ eventName: "embedded_wallet_creation_failure_logout", payload: { error: e, provider: `privy:${f.id}`, screen: "CrossAppAuthScreen" } }), l() }, callAuthOnSuccessOnClose: !0 } }), n(uf.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN) }), Hs); return () => clearTimeout(e) } let i = setTimeout(g, Hs); return () => clearTimeout(i) }), [u.data]); let { title: b, subtitle: v } = (0, Ke.useMemo)((() => u.data ? { title: `Successfully connected with ${f.name}`, subtitle: "You're good to go!" } : u.error ? { title: "Authentication failed", subtitle: u.error.message } : { title: `Connecting to ${f.name}`, subtitle: `Please check the pop-up from ${f.name} to continue` }), [u, f.name]); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: g }), (0, y.jsx)(Rm, {}), (0, y.jsxs)(vT, { children: [(0, y.jsx)(ep, { children: (0, y.jsxs)("div", { children: [(0, y.jsx)(wf, { success: !!u.data, fail: !!u.error }), (0, y.jsx)(bT, { name: f.name, logoUrl: f.logoUrl })] }) }), (0, y.jsxs)(Mm, { children: [(0, y.jsx)("h3", { children: b }), (0, y.jsx)("p", { children: v })] })] }), (0, y.jsx)(jm, {}), (0, y.jsx)(_p, {})] }) }, [uf.ALLOWLIST_REJECTION_SCREEN]: () => { let { navigate: e, app: t } = pf(), n = t?.allowlistConfig.errorTitle || "You don't have access to this app", r = t?.allowlistConfig.errorDetail || "Have you been invited?", i = t?.allowlistConfig.errorCtaText || "Try another account"; return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, {}), (0, y.jsxs)(bm, { children: [(0, y.jsx)(ep, { children: (0, y.jsxs)("div", { children: [(0, y.jsx)(bp, {}), (0, y.jsx)(ym, { style: { width: "38px", height: "38px", strokeWidth: "1", stroke: "var(--privy-color-accent)", fill: "var(--privy-color-accent)" } })] }) }), (0, y.jsxs)(vm, { children: [(0, y.jsx)("string" == typeof n ? "h3" : y.Fragment, { children: n }), (0, y.jsx)("string" == typeof r ? "p" : y.Fragment, { children: r })] }), t?.allowlistConfig.errorCtaLink ? (0, y.jsx)(Sf, { as: "a", href: t.allowlistConfig.errorCtaLink, children: i }) : (0, y.jsx)(Sf, { onClick: () => { e(uf.LANDING) }, children: i })] })] }) }, [uf.ACCOUNT_NOT_FOUND_SCREEN]: () => { let { navigate: e, app: t } = pf(); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, {}), (0, y.jsxs)(hp, { children: [(0, y.jsx)(ep, { children: (0, y.jsxs)("div", { children: [(0, y.jsx)($f, { color: "var(--privy-color-warn-light)" }), (0, y.jsx)(vf, { height: 38, width: 38, strokeWidth: 2, stroke: "var(--privy-color-warn)" })] }) }), (0, y.jsxs)(fp, { children: [(0, y.jsx)("h3", { children: "Account not found" }), (0, y.jsxs)("p", { children: ["Please try logging in again or go to ", t.name, " to create an account."] })] }), (0, y.jsx)(tp, {}), (0, y.jsx)(Sf, { onClick: () => e(uf.LANDING), children: "Try logging in again" })] })] }) }, [uf.USER_LIMIT_REACHED_SCREEN]: () => { let { navigate: e } = pf(); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, {}), (0, y.jsxs)(xX, { children: [(0, y.jsx)(_X, { children: (0, y.jsx)(EX, {}) }), (0, y.jsxs)(CX, { children: [(0, y.jsx)("h3", { children: "Unable to sign in" }), (0, y.jsx)("p", { children: "This application has reached its user limit and cannot sign in new users." })] }), (0, y.jsx)(Sf, { onClick: () => { e(uf.LANDING) }, children: "Go back" })] }), (0, y.jsx)(xp, {})] }) }, [uf.INSTALL_PHANTOM_SCREEN]: () => { let { navigateBack: e } = pf(); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { backFn: e }, "header"), (0, y.jsx)(Rm, {}), (0, y.jsx)(rz, {}), (0, y.jsx)(jm, {}), (0, y.jsxs)(_p, { children: [(0, y.jsx)("span", { children: "Still not sure? " }), (0, y.jsx)("a", { target: "_blank", href: "https://solana.com/docs/intro/wallets", children: "Learn more" })] })] }) }, [uf.LINK_EMAIL_SCREEN]: () => { let { app: e } = pf(); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, {}, "header"), (0, y.jsx)(Rm, {}), (0, y.jsx)(Bm, { title: "Connect your email", description: `Add your email to your ${e?.name} account`, icon: (0, y.jsx)(_m, { color: "var(--privy-color-accent)", strokeWidth: 2, height: "48px", width: "48px" }) }), (0, y.jsx)(Sm, { children: (0, y.jsx)(mz, { stacked: !0 }) }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }) }, [uf.LINK_PHONE_SCREEN]: () => { let { app: e, currentScreen: t, data: n, navigate: r, setModalData: i } = pf(), { initLoginWithSms: o } = (0, af.u)(); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, {}, "header"), (0, y.jsx)(Rm, {}), (0, y.jsx)(Bm, { title: "Connect your phone", description: `Add your number to your ${e?.name} account`, icon: (0, y.jsx)(Am, { color: "var(--privy-color-accent)", strokeWidth: 2, height: "40px", width: "40px" }) }), (0, y.jsx)(Sm, { children: (0, y.jsx)(UH, { stacked: !0, onSubmit: async function ({ qualifiedPhoneNumber: e }) { try { await o({ phoneNumber: e, withPrivyUi: !0 }), r(uf.AWAITING_PASSWORDLESS_CODE) } catch (e) { i({ errorModalData: { error: e, previousScreen: n?.errorModalData?.previousScreen || t || uf.LINK_PHONE_SCREEN } }), r(uf.ERROR_SCREEN) } }, hideRecent: !0 }) }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }) }, [uf.LINK_WALLET_SCREEN]: () => { let { app: e, data: t } = pf(), n = t?.externalConnectWallet?.suggestedAddress, r = n ? (0, y.jsxs)("span", { children: ["Link the wallet with address ", (0, y.jsx)(Ip, { showCopyIcon: !1, address: n }), " ", e?.name ? `to ${e.name}.` : "."] }) : `Link a wallet to your ${e?.name} account`, { connectors: i } = (0, af.u)(), o = Lg({ walletList: t?.externalConnectWallet?.walletList ?? e.appearance.walletList, walletChainType: e.appearance.walletChainType, connectors: i, connectOnly: !0, ignore: e.appearance.walletList, walletConnectEnabled: e.externalWallets.walletConnect.enabled }); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, {}, "header"), o.length > 0 && (0, y.jsx)(Fm, { title: "Link your wallet", description: r }), (0, y.jsx)(rp, { children: (0, y.jsx)($g, { wallets: o }) }), (0, y.jsx)(xp, {})] }) }, [uf.LINK_PASSKEY_SCREEN]: () => { let { user: e, unlinkPasskey: t } = (0, mf.b)(), { linkWithPasskey: n, closePrivyModal: r } = (0, af.u)(), i = e?.linkedAccounts.filter((e => "passkey" === e.type)), [o, s] = (0, Ke.useState)(!1), [a, c] = (0, Ke.useState)(""), [l, u] = (0, Ke.useState)(!1), [d, h] = (0, Ke.useState)(!1); (0, Ke.useEffect)((() => { 0 === i.length && h(!1) }), [i.length]); let f = async e => (s(!0), await t(e).then((() => u(!0))).catch((e => { e instanceof bs.Bi && e.privyErrorCode === bs.sX.MISSING_MFA_CREDENTIALS ? c("Cannot unlink a passkey enrolled in MFA") : c("Unknown error occurred.") })).finally((() => { s(!1) }))); return (0, y.jsxs)(y.Fragment, l ? { children: [(0, y.jsx)(Vf, { onClose: () => r() }, "header"), (0, y.jsx)(fm, { style: { marginBottom: "1.5rem" }, children: (0, y.jsx)(ET, {}) }), (0, y.jsx)(FB, { style: { marginBottom: "1.5rem" }, children: "Passkeys updated" }), (0, y.jsx)(BB, { children: " " }), (0, y.jsx)(im, { children: (0, y.jsx)(Sf, { onClick: () => r(), children: "Done" }) }), (0, y.jsx)(_p, {})] } : d ? { children: [(0, y.jsx)(Vf, { backFn: () => h(!1), onClose: () => r() }, "header"), (0, y.jsx)(OB, { passkeys: i, expanded: d, onUnlink: f, onExpand: () => h(!0) }), (0, y.jsx)(_p, {})] } : { children: [(0, y.jsx)(Vf, { onClose: () => r() }, "header"), (0, y.jsx)(Xp, { children: (0, y.jsxs)(jB, { children: [(0, y.jsx)(PB, {}), (0, y.jsx)(MB, {})] }) }), (0, y.jsx)(FB, { children: "Secure your account with a passkey" }), (0, y.jsx)(WB, {}), 0 === i.length ? (0, y.jsx)(RB, {}) : (0, y.jsx)(OB, { passkeys: i, expanded: d, onUnlink: f, onExpand: () => h(!0) }), (0, y.jsxs)(im, { style: { marginTop: "12px" }, children: [a && (0, y.jsx)($B, { $fail: !0, children: a }), (0, y.jsx)(Sf, { onClick: () => { s(!0), n().then((() => u(!0))).catch((e => { if (e instanceof bs.Bi) { if (e.privyErrorCode === bs.sX.CANNOT_LINK_MORE_OF_TYPE) return void c("Cannot link more passkeys to account."); if (e.privyErrorCode === bs.sX.PASSKEY_NOT_ALLOWED) return void c("Passkey request timed out or rejected by user.") } c("Unknown error occurred.") })).finally((() => { s(!1) })) }, loading: o, children: "Add new passkey" })] }), (0, y.jsx)(_p, {})] }) }, [uf.UPDATE_EMAIL_SCREEN]: () => (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, {}, "header"), (0, y.jsx)(Rm, {}), (0, y.jsx)(Bm, { title: "Update your email", description: "Add the email address you'd like to use going forward. We'll send you a confirmation code", icon: (0, y.jsx)(_m, { color: "var(--privy-color-accent)", strokeWidth: 2, height: "48px", width: "48px" }) }), (0, y.jsx)(Sm, { children: (0, y.jsx)(bX, { stacked: !0 }) }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }), [uf.UPDATE_PHONE_SCREEN]: () => { let { currentScreen: e, data: t, navigate: n, setModalData: r } = pf(), { user: i } = (0, mf.b)(), { initUpdatePhone: o } = (0, af.u)(); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, {}, "header"), (0, y.jsx)(Rm, {}), (0, y.jsx)(Bm, { title: "Update your phone number", description: "Add the phone number you'd like to use going forward. We'll send you a confirmation code", icon: (0, y.jsx)(Am, { color: "var(--privy-color-accent)", strokeWidth: 2, height: "48px", width: "48px" }) }), (0, y.jsx)(Sm, { children: (0, y.jsx)(UH, { stacked: !0, onSubmit: async function ({ qualifiedPhoneNumber: s }) { try { if (!i?.phone?.number) throw Error("User is required to have an phone number to update it."); await o(i?.phone?.number, s), n(uf.AWAITING_PASSWORDLESS_CODE) } catch (s) { r({ errorModalData: { error: s, previousScreen: t?.errorModalData?.previousScreen || e || uf.LINK_PHONE_SCREEN } }), n(uf.ERROR_SCREEN) } }, hideRecent: !0 }) }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }) }, [uf.CONNECT_ONLY_LANDING_SCREEN]: () => { let { app: e, data: t } = pf(), n = t?.externalConnectWallet?.suggestedAddress, r = n ? (0, y.jsxs)("span", { children: ["Connect the wallet with address ", (0, y.jsx)(Ip, { showCopyIcon: !1, address: n }), " ", e?.name ? `to ${e.name}.` : "."] }) : `Connect a wallet to your ${e?.name} account`, { connectors: i } = (0, af.u)(), o = Lg({ walletList: t?.externalConnectWallet?.walletList ?? e.appearance.walletList, walletChainType: e.appearance.walletChainType, connectors: i, connectOnly: !0, ignore: e.appearance.walletList, walletConnectEnabled: e.externalWallets.walletConnect.enabled }); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, {}, "header"), o.length > 0 && (0, y.jsx)(Um, { title: "Connect your wallet", description: r }), (0, y.jsx)(rp, { children: (0, y.jsx)($g, { wallets: o }) }), e && (0, y.jsx)(Ep, { app: e, alwaysShowImplicitConsent: !0 }), (0, y.jsx)(xp, {})] }) }, [uf.CONNECT_ONLY_AUTHENTICATED_SCREEN]: () => { let { app: e, data: t } = pf(), n = t?.externalConnectWallet?.suggestedAddress, r = n ? `Connect the wallet with address ${ja(n)} ${e?.name ? `to ${e.name}.` : "."}` : `Connect a wallet to ${e?.name}`, { connectors: i } = (0, af.u)(), o = Lg({ walletList: t?.externalConnectWallet?.walletList ?? e.appearance.walletList, walletChainType: e.appearance.walletChainType, connectors: i, connectOnly: !0, ignore: e.appearance.walletList, walletConnectEnabled: e.externalWallets.walletConnect.enabled }); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, {}, "header"), o.length > 0 && (0, y.jsx)(Fm, { title: "Connect your wallet", description: r }), (0, y.jsx)(rp, { children: (0, y.jsx)($g, { wallets: o }) }), (0, y.jsx)(xp, {})] }) }, [uf.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN]: () => { let { app: e, setModalData: t, navigate: n, data: r, onUserCloseViaDialogOrKeybindRef: i } = pf(), [o, s] = (0, Ke.useState)(""), { embeddedWallets: a } = sf(), { authenticated: c, user: l } = (0, mf.b)(), { closePrivyModal: u } = (0, af.u)(), { onSuccess: d, onFailure: h, callAuthOnSuccessOnClose: f } = r.createWallet, p = !0 === e?.embeddedWallets.requireUserOwnedRecoveryOnCreate, { createWallet: m } = cN(), [g, b] = (0, Ke.useState)(null), v = new Ds((async () => { try { let e = await m({ user: l }); if (!e) return; b(e), n(uf.EMBEDDED_WALLET_CREATED_SCREEN) } catch (e) { s(e.message) } })); return (0, Ke.useEffect)((() => c && l ? p ? (t({ ...r, recoverySelection: { ...r?.recoverySelection, isInAccountCreateFlow: !0 } }), n(YT({ walletAction: "create", showAutomaticRecovery: !1, availableRecoveryMethods: a.userOwnedRecoveryOptions, legacySetWalletPasswordFlow: !1, isResettingPassword: !1 }))) : void v.execute() : (n(uf.LANDING), void h(Error("User must be authenticated before creating a Privy wallet")))), [p, c]), i.current = () => null, o ? (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { closeable: !1 }), (0, y.jsxs)(Nm, { children: [(0, y.jsx)(og, { fill: "var(--privy-color-error)", width: "64px", height: "64px" }), (0, y.jsx)(Bm, { title: "Something went wrong", description: o })] }), (0, y.jsx)(Sf, { onClick: () => { g ? (d(g), u({ shouldCallAuthOnSuccess: f })) : (h(new bs.z5("User wallet creation failed")), u({ shouldCallAuthOnSuccess: !1 })) }, children: "Close" }), (0, y.jsx)(lN, {})] }) : (0, y.jsx)(MT, {}) }, [uf.EMBEDDED_WALLET_CREATED_SCREEN]: () => { let { user: e } = (0, mf.b)(), { closePrivyModal: t, isNewUserThisSession: n, updateWallets: r } = (0, af.u)(), { app: i, data: o, onUserCloseViaDialogOrKeybindRef: s } = pf(), { onSuccess: a, onFailure: c, callAuthOnSuccessOnClose: l } = o.createWallet, u = () => { let n = (0, fc.sW)(e); n ? (r(), a(n)) : c(Error("Failed to create wallet")), t({ shouldCallAuthOnSuccess: l }) }; return (0, Ke.useEffect)((() => { let e = setTimeout(u, Gs); return () => clearTimeout(e) }), []), s.current = u, (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: u }), (0, y.jsx)(Rm, {}), (0, y.jsxs)(Nm, { children: [(0, y.jsx)(rg, { fill: "var(--privy-color-accent)", width: "64px", height: "64px" }), (0, y.jsx)(Bm, { title: n ? "Welcome" + (i?.name ? ` to ${i?.name}` : "") : "All set!", description: n ? "You\u2019ve successfully created an account." : "Your account is secured." })] }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }) }, [uf.EMBEDDED_WALLET_CONNECTING_SCREEN]: () => { let { authenticated: e, user: t, getAccessToken: n } = (0, mf.b)(), { closePrivyModal: r, createAnalyticsEvent: i, walletProxy: o } = (0, af.u)(), { navigate: s, data: a, setModalData: c, onUserCloseViaDialogOrKeybindRef: l } = pf(), u = (0, Ke.useMemo)((() => Date.now()), []), [d, h] = (0, Ke.useState)(!1), { onCompleteNavigateTo: f, onFailure: p, shouldForceMFA: m, entropyId: g, entropyIdVerifier: b } = a?.connectWallet, v = e => { d || (h(!0), p("string" == typeof e ? Error(e) : e)) }; (0, Ke.useEffect)((() => { let l, d = (0, fc._f)(t, g); return e && d ? o ? ((async () => { let e = await n(); if (!e) return v("User must be authenticated and have a Privy wallet before it can be connected"); try { await o.connect({ accessToken: e, entropyId: g, entropyIdVerifier: b }), m && await o.verifyMfa({ accessToken: e }); let t = (Date.now() - u) / 1e3; f === uf.EMBEDDED_WALLET_KEY_EXPORT_SCREEN && t < 1 ? l = setTimeout((() => { s(f, !1) }), 1e3 * (1 - t)) : s(f, !1) } catch (l) { if (FT(l) && "privy" === d.recoveryMethod) { let e = await n(); if (!e) return v("User must be authenticated and have a Privy wallet before it can be recovered"); try { i({ eventName: "embedded_wallet_pinless_recovery_started", payload: { walletAddress: d.address } }), (await (o?.recover({ accessToken: e, entropyId: g, entropyIdVerifier: b })))?.entropyId || v(Error("Unable to recover wallet")), f ? s(f) : r({ shouldCallAuthOnSuccess: !1 }), i({ eventName: "embedded_wallet_recovery_completed", payload: { walletAddress: d.address } }), s(f) } catch (l) { v("An error has occurred, please try again.") } } else FT(l) && "privy" !== d.recoveryMethod ? (c({ ...a, recoverWallet: { entropyId: g, entropyIdVerifier: b, onCompleteNavigateTo: f, onFailure: p }, recoveryOAuthStatus: { provider: d.recoveryMethod, action: "recover", isInAccountCreateFlow: !1 } }), s(ZT(d.recoveryMethod))) : v(l) } })(), () => clearTimeout(l)) : void 0 : v("User must be authenticated and have a Privy wallet before it can be connected") }), [e, t, o]); let w = () => { v("User exited before wallet could be connected"), r({ shouldCallAuthOnSuccess: !1 }) }; return l.current = w, (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: w }), d ? (0, y.jsxs)(y.Fragment, { children: [(0, y.jsxs)(Nm, { children: [(0, y.jsx)(og, { fill: "var(--privy-color-error)", width: "64px", height: "64px" }), (0, y.jsx)(Bm, { title: "Something went wrong", description: "We\u2019re on it. Please try again later." })] }), (0, y.jsx)(Sf, { onClick: () => r({ shouldCallAuthOnSuccess: !1 }), children: "Close" })] }) : (0, y.jsx)(MT, {}), (0, y.jsx)(QT, {})] }) }, [uf.EMBEDDED_WALLET_PASSWORD_RECOVERY_SCREEN]: () => { let [e, t] = (0, Ke.useState)(!0), { authenticated: n, getAccessToken: r, user: i } = (0, mf.b)(), { walletProxy: o, closePrivyModal: s, createAnalyticsEvent: a } = (0, af.u)(), { navigate: c, data: l, onUserCloseViaDialogOrKeybindRef: u } = pf(), [d, h] = (0, Ke.useState)(void 0), [f, p] = (0, Ke.useState)(""), [m, g] = (0, Ke.useState)(!1), { entropyId: b, entropyIdVerifier: v, onCompleteNavigateTo: w, onSuccess: E, onFailure: x } = l.recoverWallet, _ = (e = "User exited before their wallet could be recovered") => { s({ shouldCallAuthOnSuccess: !1 }), x("string" == typeof e ? new bs.z5(e) : e) }; return u.current = _, (0, Ke.useEffect)((() => { if (!n) return _("User must be authenticated and have a Privy wallet before it can be recovered") }), [n]), (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: _ }), (0, y.jsx)(Rm, {}), (0, y.jsxs)(DY, { children: [(0, y.jsxs)(LY, { children: [(0, y.jsx)(yG, { height: 48, width: 48, stroke: "var(--privy-color-accent)" }), (0, y.jsx)("h3", { style: { color: "var(--privy-color-foreground)" }, children: "Enter your password" }), (0, y.jsx)("p", { style: { color: "var(--privy-color-foreground-2)" }, children: "Please provision your account on this new device. To continue, enter your recovery password." })] }), (0, y.jsxs)("div", { children: [(0, y.jsxs)(zN, { children: [(0, y.jsx)(BN, { type: e ? "password" : "text", onChange: e => (e => { e && h(e) })(e.target.value), disabled: m, style: { paddingRight: "2.3rem" } }), (0, y.jsx)(KN, { style: { right: "0.75rem" }, children: e ? (0, y.jsx)(ZN, { onClick: () => t(!1) }) : (0, y.jsx)(XN, { onClick: () => t(!0) }) })] }), !!f && (0, y.jsx)(UY, { children: f })] }), (0, y.jsxs)("div", { children: [(0, y.jsxs)(Om, { children: [(0, y.jsx)("h4", { children: "Why is this necessary?" }), (0, y.jsx)("p", { children: "You previously set a password for this wallet. This helps ensure only you can access it" })] }), (0, y.jsx)(FY, { loading: m || !o, disabled: !d, onClick: async () => { g(!0); let e = await r(), t = (0, fc._f)(i, b); if (!e || !t || null === d) return _("User must be authenticated and have a Privy wallet before it can be recovered"); try { a({ eventName: "embedded_wallet_recovery_started", payload: { walletAddress: t.address } }), await (o?.recover({ accessToken: e, entropyId: b, entropyIdVerifier: v, recoveryPassword: d })), p(""), w ? c(w) : s({ shouldCallAuthOnSuccess: !1 }), E?.(t), a({ eventName: "embedded_wallet_recovery_completed", payload: { walletAddress: t.address } }) } catch (e) { !function (e) { return UT(e) && ("invalid_recovery_pin" === e.type || "invalid_request_arguments" === e.type) }(e) ? p("An error has occurred, please try again.") : p("Invalid recovery password, please try again.") } finally { g(!1) } }, warn: !1, hideAnimations: !b && m, children: "Recover your account" })] })] }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }) }, [uf.EMBEDDED_WALLET_RECOVERY_SELECTION_SCREEN]: () => { let [e, t] = (0, Ke.useState)(!1), { navigate: n, lastScreen: r, navigateBack: i, setModalData: o, data: s, onUserCloseViaDialogOrKeybindRef: a } = pf(), { user: c } = (0, mf.b)(), { embeddedWallets: l } = sf(), { closePrivyModal: u } = (0, af.u)(), d = (0, fc.pM)(c), h = null === d, { isInAccountCreateFlow: f, isResettingPassword: p } = s.recoverySelection, m = d && "privy" !== d.recoveryMethod, g = m ? (0, y.jsxs)("span", { children: ["Your account is currently secured using", " ", (0, y.jsx)("strong", { children: XY[d?.recoveryMethod || "user-passcode"] }), "."] }) : "Select a method for logging in on new devices and recovering your account."; function b(e) { o({ recoveryOAuthStatus: { provider: e, action: h ? "create-wallet" : "set-recovery", isInAccountCreateFlow: f } }), n(uf.EMBEDDED_WALLET_RECOVERY_OAUTH_SCREEN) } function v() { s?.setWalletPassword?.onFailure(Error("User exited set recovery flow")), u({ shouldCallAuthOnSuccess: s?.setWalletPassword?.callAuthOnSuccessOnClose ?? !1 }) } return a.current = v, (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: v, backFn: e ? () => t(!1) : r ? i : void 0, infoFn: r || e ? void 0 : () => t(!0) }, "header"), e ? (0, y.jsx)(JY, { onClose: () => t(!1) }) : (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Bm, { title: m ? "Update backup method" : "Secure your account", icon: (0, y.jsx)(VY, { width: 48 }), description: g }), (0, y.jsx)(zY, { children: l.userOwnedRecoveryOptions.filter((e => !["icloud", "google-drive"].includes(d?.recoveryMethod || "") || e !== d?.recoveryMethod)).sort().map((e => { switch (e) { case "google-drive": return (0, y.jsxs)(ap, { onClick: () => b("google-drive"), children: [(0, y.jsx)(ZY, { children: (0, y.jsx)(WY, { style: { width: 18 } }) }), "Back up to Google Drive"] }, e); case "icloud": return (0, y.jsxs)(ap, { onClick: () => b("icloud"), children: [(0, y.jsx)(ZY, { children: (0, y.jsx)(BY, { style: { width: 24 } }) }), "Back up to Apple iCloud"] }, e); case "user-passcode": return (0, y.jsxs)(ap, { onClick: () => { n(KT({ isCreatingWallet: h, skipSplashScreen: !0 })) }, children: [(0, y.jsx)(ZY, { children: (0, y.jsx)(YY, { style: { width: 18 } }) }), p ? "Reset your" : "Set a", " password"] }, e); default: return null } })) })] }), (0, y.jsx)(xp, {})] }) }, [uf.EMBEDDED_WALLET_SET_AUTOMATIC_RECOVERY_SCREEN]: () => { let { user: e, getAccessToken: t } = (0, mf.b)(), { walletProxy: n, refreshUser: r, closePrivyModal: i } = (0, af.u)(), o = pf(), { entropyId: s, entropyIdVerifier: a } = o.data?.recoverWallet, [c, l] = (0, Ke.useState)(!1), [u, d] = (0, Ke.useState)(null), [h, f] = (0, Ke.useState)(null); function p() { if (!c) { if (h) return o.data?.setWalletPassword?.onFailure(h), void i(); if (!u) return o.data?.setWalletPassword?.onFailure(Error("User exited set recovery flow")), void i() } } o.onUserCloseViaDialogOrKeybindRef.current = p; let m = !(!c && !u); return (0, y.jsxs)(y.Fragment, h ? { children: [(0, y.jsx)(Vf, { onClose: p }, "header"), (0, y.jsx)(QY, { $color: "var(--privy-color-error)", style: { alignSelf: "center" }, children: (0, y.jsx)(mp, { height: 38, width: 38, stroke: "var(--privy-color-error)" }) }), (0, y.jsx)(rN, { style: { marginTop: "0.5rem" }, children: "Something went wrong" }), (0, y.jsx)(tp, { style: { minHeight: "2rem" } }), (0, y.jsx)(kf, { onClick: () => f(null), children: "Try again" }), (0, y.jsx)(xp, {})] } : { children: [(0, y.jsx)(Vf, { onClose: p }, "header"), (0, y.jsx)(VY, { style: { width: "3rem", height: "3rem", alignSelf: "center" } }), (0, y.jsx)(rN, { style: { marginTop: "0.5rem" }, children: "Automatically secure your account" }), (0, y.jsx)(nN, { style: { marginTop: "1rem" }, children: "When you log into a new device, you\u2019ll only need to authenticate to access your account. Never get logged out if you forget your password." }), (0, y.jsx)(tp, { style: { minHeight: "2rem" } }), (0, y.jsx)(kf, { loading: c, disabled: m, onClick: () => async function () { l(!0); try { let c = await t(), u = (0, fc._f)(e, s); if (!c || !n || !u) return; if (!(await n.setRecovery({ accessToken: c, entropyId: s, entropyIdVerifier: a, existingRecoveryMethod: u.recoveryMethod, recoveryMethod: "privy" })).entropyId) throw Error("Unable to set recovery on wallet"); let h = await r(); if (!h) throw Error("Unable to set recovery on wallet"); let f = (0, fc._f)(h, u.address); if (!f) throw Error("Unabled to set recovery on wallet"); d(!!h), setTimeout((() => { o.data?.setWalletPassword?.onSuccess(f), i() }), Hs) } catch (c) { f(c) } finally { l(!1) } }(), children: u ? "Success" : "Confirm" }), (0, y.jsx)(xp, {})] }) }, [uf.EMBEDDED_WALLET_RECOVERY_OAUTH_SCREEN]: () => { let { logout: e } = (0, mf.b)(), { navigate: t, setModalData: n, data: r } = pf(), { recoveryOAuthFlow: i, closePrivyModal: o, createAnalyticsEvent: s } = (0, af.u)(), [a, c] = (0, Ke.useState)(!1), { provider: l, action: u, isInAccountCreateFlow: d } = r?.recoveryOAuthStatus, [h, f] = (0, Ke.useState)(void 0), [p, m] = (0, Ke.useState)("create-wallet" === u); if ("user-passcode" === l) throw Error("RecoveryOAuthScreen should never be called with a wallet that specifies recoveryMethod: `user-passcode`"); let g = HY[l].name, b = HY[l].component, v = r?.recoverWallet?.onCompleteNavigateTo, w = new Ds((async (e = "create-wallet") => (m(!0), new Promise(((t, n) => { setTimeout((async () => { try { let n = window.open(); await i(l, e, n), c(!0), t() } catch (t) { f({ message: `${"recover" === e ? "Recovery" : "Back up"} with ${g} unsuccessful`, detail: "recover" === u ? `Please verify that you are selecting the ${g} account associated with your backup.` : "", retryable: !0 }), n() } }), 0) }))))); (0, Ke.useEffect)((() => { "recover" !== u && w.execute(d ? "create-wallet" : "set-recovery") }), []), (0, Ke.useEffect)((() => { if (!a) return; let r = setTimeout((() => { d ? (n({ createWallet: { onSuccess: () => { }, onFailure: t => { s({ eventName: "embedded_wallet_creation_failure_logout", payload: { error: t, screen: "RecoveryOAuthScreen" } }), e() }, callAuthOnSuccessOnClose: !0 } }), t(uf.EMBEDDED_WALLET_CREATED_SCREEN)) : o({ shouldCallAuthOnSuccess: !1 }) }), Hs); return () => clearTimeout(r) }), [a]); let E = (0, Ke.useCallback)((async () => { await w.execute("recover"), v ? t(v) : c(!0) }), []), x = "google-drive" === l ? "Google Drive" : "Apple iCloud", _ = a && `Successfully ${"recover" === u ? "recovered" : "backed up"} with ${x}.` || h && h.message || `${"recover" === u ? "Recovering" : "Backing up"} with ${x}...`, C = h ? h.detail : ""; return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, {}), p ? (0, y.jsx)(y.Fragment, { children: (0, y.jsxs)(zY, { children: [(0, y.jsx)(Bm, { title: _, icon: (0, y.jsx)(b, { style: { width: "38px", height: "38px" } }), description: C }), h && h?.retryable ? (0, y.jsx)(Sf, { onClick: () => { OY(), f(void 0), "create-wallet" === u ? w.execute("create-wallet") : E() }, disabled: !a && !h?.retryable, children: "Try again" }) : null] }) }) : (0, y.jsxs)(zY, { children: [(0, y.jsx)(Bm, { title: "Confirm it's really you", icon: (0, y.jsx)(b, { style: { height: 42, width: 48 } }), description: `To confirm your identity, please log in to ${x} where your account is backed up.` }), (0, y.jsxs)(Sf, { onClick: E, children: ["Confirm with ", x] })] }), (0, y.jsx)(xp, {})] }) }, [uf.EMBEDDED_WALLET_KEY_EXPORT_SCREEN]: () => { let [e, t] = (0, Ke.useState)(null), { authenticated: n, user: r, getAccessToken: i } = (0, mf.b)(), { closePrivyModal: o, createAnalyticsEvent: s, clientAnalyticsId: a } = (0, af.u)(), c = sf(), { data: l, onUserCloseViaDialogOrKeybindRef: u } = pf(), { onFailure: d, onSuccess: h, origin: f, appId: p, appClientId: m, walletToExport: g, primaryWallet: b } = l.keyExport, v = e => { o({ shouldCallAuthOnSuccess: !1 }), d("string" == typeof e ? Error(e) : e) }, w = () => { o({ shouldCallAuthOnSuccess: !1 }), h(), s({ eventName: "embedded_wallet_key_export_completed", payload: { walletAddress: g.address } }) }; return (0, Ke.useEffect)((() => { if (!n || !g) return v("User must be authenticated before exporting their wallet"); i().then(t, v) }), [n, r]), u.current = w, (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: w }), (0, y.jsxs)(oN, { children: [(0, y.jsx)(rN, { children: "Transfer wallet" }), (0, y.jsxs)(nN, { children: ["Either copy your private key or seed phrase to transfer your wallet.", " ", (0, y.jsx)("a", { href: "https://privy-io.notion.site/Transferring-your-account-9dab9e16c6034a7ab1ff7fa479b02828", target: "blank", rel: "noopener noreferrer", children: "Learn more" })] }), (0, y.jsx)(eN, { theme: c.appearance.palette.colorScheme, children: "Never share your private key or seed phrase with anyone." }), (0, y.jsx)(kT, { isLoading: !1, isPulsing: !1, title: "Your wallet", address: g.address, showIcon: !0 }), (0, y.jsx)("div", { style: { width: "100%" }, children: e && (0, y.jsx)(iN, { origin: f, appId: p, appClientId: m, accessToken: e, clientAnalyticsId: a, walletToExport: g, primaryWallet: b, dimensions: { height: "44px" } }) })] }), (0, y.jsx)(xp, {})] }) }, [uf.EMBEDDED_WALLET_SIGN_REQUEST_SCREEN]: () => { let { authenticated: e } = (0, mf.b)(), { initializeWalletProxy: t, closePrivyModal: n } = (0, af.u)(), { navigate: r, data: i, onUserCloseViaDialogOrKeybindRef: o } = pf(), [s, a] = (0, Ke.useState)(!0), [c, l] = (0, Ke.useState)(""), [u, d] = (0, Ke.useState)(), [h, f] = (0, Ke.useState)(null), [p, m] = (0, Ke.useState)(!1), g = null !== h; (0, Ke.useEffect)((() => { e || r(uf.LANDING) }), [e]), (0, Ke.useEffect)((() => { t(fa).then((e => { a(!1), e || (l("An error has occurred, please try again."), d(new qc(new zc(c, Dc.E32603_DEFAULT_INTERNAL_ERROR.eipCode)))) })) }), []); let { method: b, data: v, confirmAndSign: w, onSuccess: E, onFailure: x, uiOptions: _ } = i.signMessage, C = { title: _.title || "Sign message", description: _.description || "Signing this message will not cost you any fees.", buttonText: _.buttonText || "Sign and continue" }, A = e => { e ? E(e) : x(u || new qc(new zc("The user rejected the request.", Dc.E4001_USER_REJECTED_REQUEST.eipCode))), n({ shouldCallAuthOnSuccess: !1 }), setTimeout((() => { f(null), l(""), d(void 0) }), 200) }; return o.current = () => { A(h) }, (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: () => A(h) }), (0, y.jsx)(Rm, {}), _.iconUrl && "string" == typeof _.iconUrl ? (0, y.jsx)(mX, { children: (0, y.jsx)(aX, { size: "sm", src: _.iconUrl, alt: "app image" }) }) : null, (0, y.jsx)(rN, { children: C.title }), (0, y.jsx)(nN, { children: C.description }), "personal_sign" === b && (0, y.jsx)(dX, { children: cX(v) }), "eth_signTypedData_v4" === b && (0, y.jsx)(uX, { typedData: v }), "solana_signMessage" === b && (0, y.jsx)(dX, { children: v }), (0, y.jsx)(gX, {}), (0, y.jsx)(fX, { $fail: !0, children: c }), (0, y.jsx)(kf, { disabled: p || g || s, loading: p, onClick: async () => { m(!0), l(""); try { let e = await w(); f(e), m(!1), setTimeout((() => { A(e) }), Hs) } catch (e) { console.error(e), l("An error has occurred, please try again."), d(new qc(new zc(c, Dc.E32603_DEFAULT_INTERNAL_ERROR.eipCode))), m(!1) } }, children: p ? "Signing..." : g ? (0, y.jsxs)(pX, { children: [(0, y.jsx)(NP, { style: { height: "0.9rem", width: "0.9rem" }, strokeWidth: 2 }), " ", (0, y.jsx)("span", { children: "Success" })] }) : C.buttonText }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }) }, [uf.EMBEDDED_WALLET_SEND_TRANSACTION_SCREEN]: () => { let e, { data: t, onUserCloseViaDialogOrKeybindRef: n, setModalData: r, navigate: i } = pf(), { rpcConfig: o, chains: s, closePrivyModal: a, walletProxy: c } = (0, af.u)(), { getAccessToken: l, user: u } = (0, mf.b)(), d = sf(), [h, f] = (0, Ke.useState)(0), p = (e => e?.sendTransaction ? "transactionRequest" in e.sendTransaction ? 0 : e.sendTransaction.transactionRequests.length - 1 : 0)(t), [m, g] = (0, Ke.useState)(sX(t, h)), [b, v] = (0, Ke.useState)(null), [w, E] = (0, Ke.useState)(), [x, _] = (0, Ke.useState)(!1), [C, A] = (0, Ke.useState)(null), [S, k] = (0, Ke.useState)(null); if (!m || !t?.sendTransaction || !t?.sendTransaction.transactingWallet) return (0, y.jsx)(kP, { error: Error("Invalid transaction request"), onClick: () => { t?.sendTransaction?.onFailure(oX), a({ shouldCallAuthOnSuccess: !1 }) } }); let { entropyId: I, entropyIdVerifier: T, transactingWallet: N } = t.sendTransaction, P = (0, Ke.useMemo)((() => s.find((e => Number(e.id) === Number(m.chainId)))), [m.chainId]), M = P?.nativeCurrency.symbol ?? "ETH", O = (0, Ke.useMemo)((() => nX(m.data, !!d.embeddedWallets.extendedCalldataDecoding)), [m.data]), { action: R, isErc20Ish: j, isNFTIsh: $ } = O; (0, Ke.useEffect)((() => { m.to && P && j && lW({ address: m.to, chain: P, rpcConfig: d.rpcConfig, privyAppId: d.id }).then(v).catch(console.error) }), [m.to, P]); let { tokenPrice: L, isTokenPriceLoading: D } = OR(m.chainId), U = (0, Ke.useMemo)((() => Ga(Number(m.chainId), s, o, { appId: d.id })), [m.chainId, o]), F = ((e, t, n) => { let [r, i] = (0, Ke.useState)(null), { getAccessToken: o } = (0, mf.b)(), { walletProxy: s } = (0, af.u)(); return (0, Ke.useEffect)((() => { r && i(null), (async () => { if (!(await o()) || !s || !t) return null; let r = [], i = await BK(t.address, e, n).catch((t => (r.push(t), e))), { totalGasEstimate: a, l1ExecutionFeeEstimate: c } = await UK(i, n).catch((e => (r.push(e), { totalGasEstimate: null, l1ExecutionFeeEstimate: null }))), { balance: l, hasSufficientFunds: u } = await BZ(t.address, i, a ?? qn.O$.from(0), n).catch((e => (r.push(e), { balance: null, hasSufficientFunds: !1 }))); return { tx: i, totalGasEstimate: a, l1ExecutionFeeEstimate: c, balance: l, hasFunds: u, errors: r } })().then(i) }), [e]), r })(m, N, U); (0, Ke.useEffect)((() => { g(sX(t, h)) }), [h]), (0, Ke.useEffect)((() => { t.sendTransaction?.getIsSponsored ? t.sendTransaction.getIsSponsored().then(E).catch(console.error) : E(!1) }), [t.sendTransaction.getIsSponsored]); let B = () => { if (!x) return C ? t?.sendTransaction?.onSuccess(C.response) : S || F?.errors[0] ? t?.sendTransaction?.onFailure(S ?? F?.errors[0] ?? oX) : t?.sendTransaction?.onFailure(new qc(new zc("The user rejected the request", Dc.E4001_USER_REJECTED_REQUEST.eipCode))), a({ shouldCallAuthOnSuccess: !1 }) }; n.current = B; let W = !!(t.funding && t.funding.supportedOptions.length > 0), z = "fiat-currency" === d.embeddedWallets.priceDisplay.primary, q = UF(F?.tx.value ?? 0).add(UF(F?.totalGasEstimate?.toBigInt() ?? 0)).toHexString(), H = HF(q, M), G = z && L ? qF(q, L) : void 0, V = HF(F?.totalGasEstimate?.toString() ?? 0, M), K = z && L ? qF(F?.totalGasEstimate?.toString() ?? 0, L) : void 0, Y = HF(F?.balance?.toString() ?? 0, M, void 0, !0), Z = z && L ? qF(F?.balance?.toString() ?? 0, L) : void 0, X = t.sendTransaction?.uiOptions?.transactionInfo?.title; X || (X = "approve" === R ? j ? "Confirm address" : "Confirm action" : `Approve ${R}`); let J = t.sendTransaction?.uiOptions?.description || `${d.name} wants your permission to approve the following transaction.`, Q = t.sendTransaction?.uiOptions?.transactionInfo?.contractInfo?.imgUrl ? (0, y.jsx)("img", { src: t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl, alt: t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText }) : null, ee = !(!F || F.errors[0] || F.hasFunds || !1 !== w), te = ee && W, ne = te ? "Add funds" : t.sendTransaction?.uiOptions?.buttonText || (h < p ? "Continue" : "Approve"); if (C?.receipt) return (0, y.jsx)(qZ, { txn: F?.tx ?? m, onClose: B, receipt: C.receipt, transactionInfo: t.sendTransaction?.uiOptions.transactionInfo, tokenPrice: L, tokenSymbol: M, l1GasEstimate: F?.l1ExecutionFeeEstimate?.toString(), receiptHeader: t.sendTransaction?.uiOptions.successHeader, receiptDescription: t.sendTransaction?.uiOptions.successDescription }); if (S) return (0, y.jsx)(mZ, { transactionError: S, network: "ethereum", chainId: F?.tx.chainId ?? m.chainId, onClose: B, onRetry: ({ resetNonce: e }) => { k(null); let t = { ...F?.tx ?? m }; e && (t.nonce = void 0), g(t) } }); let re = 0 !== p && "number" == typeof h && 0 !== h ? () => { f(h - 1) } : void 0; return "amount" in O && O.amount && (O.isNFTIsh ? e = O.amount.toString() : b && (e = pB({ amount: O.amount, decimals: b.decimals }))), (0, y.jsx)(oZ, { transactionIndex: h, onBack: re, maxIndex: p, disabled: ee && !W, isSubmitting: x, submitError: S, isPreparing: !F, isTokenPriceLoading: D, isTokenContractInfoLoading: !$ && !b, prepareError: F?.errors[0], symbol: b?.symbol, chain: P, img: Q, title: X, subtitle: J, total: m.value ? G ?? H : void 0, txValue: m.value, fee: K ?? V, isSponsored: w, from: N?.address ?? "", to: m.to, network: d.chains.find((e => e.id === m.chainId))?.name ?? "", transactionDetails: { ...O, formattedAmount: e }, cta: ne, missingFunds: ee, action: R, balance: Z ?? Y, onClose: B, onClick: te ? async () => { if (!N) return; if (!W) throw Error("Funding wallet is not enabled"); let e = uf.FUNDING_METHOD_SELECTION_SCREEN; r({ ...t, funding: { ...t.funding, methodScreen: e, chainType: "ethereum", amount: (0, DW.d)(BigInt(F?.tx.value ?? 0) + BigInt(F?.totalGasEstimate?.toString() ?? 0)), chain: P } }), i(e) } : async () => { if (h < p) f(h + 1); else { _(!0); try { let e = await l(); if (x || !e || !N || !c || !u) return; let n = t?.sendTransaction?.onConfirm ? await t.sendTransaction.onConfirm().then((e => U.getTransaction(e))) : await FZ({ accessToken: e, transactingWallet: N, entropyId: I, entropyIdVerifier: T, walletProxy: c, transactionRequest: F?.tx ?? m, provider: U, requesterAppId: t.sendTransaction?.requesterAppId }), r = await n.wait(); A({ receipt: WZ(r), response: n }) } catch (e) { console.warn({ transaction: F?.tx ?? m, error: e }), k(e) } finally { _(!1) } } } }) }, [uf.EMBEDDED_WALLET_SEND_SOLANA_TRANSACTION_SCREEN]: () => { let { data: e, onUserCloseViaDialogOrKeybindRef: t, setModalData: n, navigate: r } = pf(), { closePrivyModal: i, walletProxy: o } = (0, af.u)(), s = sf(), { user: a, getAccessToken: c } = (0, mf.b)(), [l, u] = (0, Ke.useState)(e?.sendSolanaTransaction?.transactionRequest), [d, h] = (0, Ke.useState)(), [f, p] = (0, Ke.useState)(), [m, g] = (0, Ke.useState)(0), [b, v] = (0, Ke.useState)(!1), [w, E] = (0, Ke.useState)(), [x, _] = (0, Ke.useState)(null), C = e?.sendSolanaTransaction?.connection, A = e?.sendSolanaTransaction?.transactingWallet, S = d?.instructions.at(m), k = d?.instructions.length ?? 1, I = gh(C?.rpcEndpoint || ""), T = (0, fc.pM)(a); if ((0, Ke.useEffect)((() => { !async function () { if (l && C) try { p(void 0); let e = await XR(l, C); h(e), g(0) } catch (e) { console.warn("Failed to prepare transaction", e), p(e) } }() }), [l, C]), !(l && e?.sendSolanaTransaction && A && C)) { let t = Error("Invalid transaction request"); return (0, y.jsx)(kP, { error: t, onClick: () => { e?.sendSolanaTransaction?.onFailure(t), i({ shouldCallAuthOnSuccess: !1 }) } }) } let { solPrice: N, isSolPriceLoading: P } = MR(), M = () => { if (!b) return w ? e?.sendSolanaTransaction?.onSuccess(w) : (e?.sendSolanaTransaction?.onFailure(x ?? f ?? Error("User exited the modal before submitting the transaction")), g(0)), i({ shouldCallAuthOnSuccess: !1 }) }; t.current = M; let O = "fiat-currency" === s.embeddedWallets.priceDisplay.primary, R = e.sendTransaction?.uiOptions?.transactionInfo?.title || ("approve" === S?.action ? "Confirm address" : "Approve transaction"), j = e.sendTransaction?.uiOptions?.description || `${s.name} wants your permission to approve the following transaction.`, $ = e.sendTransaction?.uiOptions?.transactionInfo?.contractInfo?.imgUrl ? (0, y.jsx)("img", { src: e.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl, alt: e.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText }) : null, L = S?.amount || 0n, D = 0 === m && d?.fees || 0n, U = S?.balance || 0n, F = S?.to, B = L + D, W = zR(B), z = O && N ? qR(B, N) : void 0, q = D ? zR(D) : void 0, H = O && N ? qR(D, N) : void 0, G = U ? zR(U) : void 0, V = O && N ? qR(U, N) : void 0, K = !f && !S?.hasFunds, Y = !!(e.funding && e.funding.supportedOptions.length > 0), Z = K && Y, X = Z ? "Add funds" : e.sendTransaction?.uiOptions?.buttonText || "Approve"; return w ? (0, y.jsx)(DZ, { instructions: d?.instructions.map((({ from: e, to: t, amount: n }) => ({ from: e?.toBase58(), to: t?.toBase58(), amount: n }))) ?? [], fees: 0 === m ? w.fees : 0n, onClose: M, transactionInfo: e.sendTransaction?.uiOptions.transactionInfo, solPrice: N, receiptHeader: e.sendTransaction?.uiOptions.successHeader, receiptDescription: e.sendTransaction?.uiOptions.successDescription, rpcEndpoint: C.rpcEndpoint }) : x ? (0, y.jsx)(mZ, { transactionError: x, connection: C, onClose: M, network: "solana", onRetry: async () => { _(null); let { blockhash: e } = await C.getLatestBlockhash(); GR(l) ? l.message.recentBlockhash = e : l.recentBlockhash = e, u(l) } }) : (0, y.jsx)(oZ, { isSubmitting: b, submitError: x, isPreparing: !d, isTokenPriceLoading: P, isTokenContractInfoLoading: !1, symbol: "SOL", chain: void 0, img: $, title: R, subtitle: j, from: A.address || "", to: F?.toBase58(), fee: H ?? q, total: null != L ? z ?? W : void 0, txValue: L, spender: S?.spender?.toBase58(), network: I, cta: X, missingFunds: K, action: S?.action, balance: V ?? G, prepareError: f, chainName: "Solana", onClose: M, onClick: Z ? async () => { if (!A) return; if (!Y) throw Error("Funding wallet is not enabled"); let t = uf.FUNDING_METHOD_SELECTION_SCREEN; n({ ...e, funding: { ...e.funding, methodScreen: t } }), r(t) } : async () => { if (m < (d?.instructions.length ?? 1) - 1) g(m + 1); else try { v(!0); let t = await c(); if (b || !t || !A || !o || !a || !T) return; let { entropyId: n, entropyIdVerifier: r } = (0, fc.wB)(T), { signature: i, receipt: s } = await nZ({ tx: l, accessToken: t, connection: C, walletProxy: o, entropyId: n, entropyIdVerifier: r, transactingWalletAddress: A.address, transactingWalletIndex: A.walletIndex ?? 0, transactionOptions: e.sendSolanaTransaction?.transactionOptions }); E(ZR(i, s)) } catch (t) { console.warn({ transaction: l, error: t }), _(t) } finally { v(!1) } }, isSponsored: !1, transactionIndex: m, maxIndex: k - 1, disabled: K && !Y, onBack: m > 0 && k > 1 ? () => g(m - 1) : void 0 }) }, [uf.EMBEDDED_WALLET_DELEGATED_ACTIONS_CONSENT_SCREEN]: () => { let { app: e, data: t } = pf(), { closePrivyModal: n } = (0, af.u)(), [r, i] = (0, Ke.useState)(!1), [o, s] = (0, Ke.useState)(), { address: a, onDelegate: c, onSuccess: l, onError: u } = t.delegatedActions.consent, d = async () => { r ? l() : u(o ?? new bs.dx("User declined delegating actions.")), n({ shouldCallAuthOnSuccess: !1 }) }; return (0, Ke.useEffect)((() => { if (!r && !o) return; let e = setTimeout(d, Gs); return () => clearTimeout(e) }), [r, o]), (0, y.jsxs)(y.Fragment, r || o ? { children: [(0, y.jsx)(Vf, { onClose: d }), (0, y.jsx)(Rm, {}), (0, y.jsxs)(Im, { children: [o ? (0, y.jsx)(Rp, { stroke: "var(--privy-color-error)", width: "64px", height: "64px" }) : (0, y.jsx)(ET, { stroke: "var(--privy-color-success)", width: "64px", height: "64px" }), (0, y.jsx)(Lm, { height: 20 }), (0, y.jsx)(Bm, { title: o ? "Something went wrong" : "Success!", description: o ? "Please try again." : `You\u2019ve successfully granted delegated action permissions to ${e.name}.` })] }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] } : { children: [(0, y.jsx)(Vf, { closeable: !0, onClose: d }), (0, y.jsx)(IT, { width: 56, height: 56, style: { margin: "auto" } }), (0, y.jsx)(Jp, { style: { marginTop: 24, color: "var(--privy-color-foreground)" }, children: "Enable delegated actions" }), (0, y.jsxs)(Qp, { style: { marginBottom: 24, textWrap: "pretty" }, children: ["Give ", e.name, " permissions to transact on your behalf. You can revoke this later.", " ", (0, y.jsx)("a", { style: { color: "var(--privy-color-accent-dark)" }, href: "https://www.privy.io/using-privy", target: "_blank", children: "Learn more" })] }), (0, y.jsx)(NT, { showIcon: !0, address: a, title: "Wallet", isLoading: !1 }), (0, y.jsxs)(TT, { style: { marginTop: 24 }, children: [(0, y.jsx)(Pf, { onClick: d, children: "Not now" }), (0, y.jsx)(Sf, { onClick: async () => { try { await c(), i(!0) } catch (e) { s(e) } }, children: "Accept" })] }), (0, y.jsx)(xp, {})] }) }, [uf.EMBEDDED_WALLET_DELEGATED_ACTIONS_REVOKE_SCREEN]: () => { let { app: e, data: t } = pf(), { closePrivyModal: n } = (0, af.u)(), [r, i] = (0, Ke.useState)(!1), [o, s] = (0, Ke.useState)(), { onRevoke: a, onSuccess: c, onError: l } = t.delegatedActions.revoke, u = async () => { r ? c() : l(o ?? new bs.dx("User declined revoking access to their delegated wallet.")), n({ shouldCallAuthOnSuccess: !1 }) }; return (0, Ke.useEffect)((() => { if (!r && !o) return; let e = setTimeout(u, Gs); return () => clearTimeout(e) }), [r, o]), (0, y.jsxs)(y.Fragment, r || o ? { children: [(0, y.jsx)(Vf, { onClose: u }), (0, y.jsx)(Rm, {}), (0, y.jsxs)(Im, { children: [o ? (0, y.jsx)(Rp, { stroke: "var(--privy-color-error)", width: "64px", height: "64px" }) : (0, y.jsx)(ET, { stroke: "var(--privy-color-success)", width: "64px", height: "64px" }), (0, y.jsx)(Lm, { height: 20 }), (0, y.jsx)(Bm, { title: o ? "Something went wrong" : "Success!", description: o ? "Please try again." : "You've successfully revoked permissions." })] }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] } : { children: [(0, y.jsx)(Vf, { closeable: !0, onClose: u }), (0, y.jsx)(IT, { width: 56, height: 56, style: { margin: "auto" } }), (0, y.jsx)(Jp, { style: { marginTop: 24 }, children: "Revoke permission" }), (0, y.jsxs)(Qp, { children: ["Revoke permission for ", e.name, " to transact on your behalf."] }), (0, y.jsxs)(PT, { style: { marginTop: 24 }, children: [(0, y.jsx)(Pf, { onClick: u, children: "Deny" }), (0, y.jsx)(Sf, { onClick: async () => { try { await a(), i(!0) } catch (e) { s(e) } }, children: "Confirm" })] }), (0, y.jsx)(xp, {})] }) }, [uf.FUNDING_METHOD_SELECTION_SCREEN]: () => { let { wallets: e } = (0, RR.r)(), { wallets: t } = cB(), { navigate: n, data: r, setModalData: i } = pf(), { client: o } = (0, af.u)(), s = sf(), a = r?.funding, c = aW(jW), l = aW($W), u = "solana" === a.chainType, d = u ? void 0 : a, h = (0, Ke.useMemo)((() => OW(s, o, a, i, n, r)), [s, o, a, r, i, n]); (0, Ke.useEffect)((() => { if (a?.defaultFundingMethod && a.usingDefaultFundingMethod) switch (i({ funding: { ...a, usingDefaultFundingMethod: !1 } }), a?.defaultFundingMethod) { case "card": h.onFundWithCard[0] && h.onFundWithCard[0](); break; case "exchange": h.onFundWithExchange && h.onFundWithExchange(); break; case "wallet": h.onFundWithWallet && h.onFundWithWallet(); break; case "manual": n(uf.FUNDING_MANUAL_TRANSFER_SCREEN) } }), []), (0, Ke.useEffect)((() => { d?.erc20Address && !d.erc20ContractInfo && lW({ address: d.erc20Address, chain: d.chain, rpcConfig: s.rpcConfig, privyAppId: s.id }).then((e => { i({ ...r, funding: { ...d, erc20ContractInfo: e ? { symbol: e.symbol, decimals: e.decimals } : void 0 } }) })).catch(console.error) }), [d?.erc20Address, d?.chain]); let f = u ? t.find((({ address: e }) => e === a.address)) : e.find((({ address: e }) => (0, _n.Kn)(e) === (0, _n.Kn)(a.address))), p = f && "privy" !== f.walletClientType ? vg(f.walletClientType, f.connectorType, f.walletClientType) : s.name, m = !(!d?.erc20Address || d?.erc20ContractInfo); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(SR, {}), (0, y.jsxs)("h3", { children: ["Add funds to your", " ", p?.toLowerCase().endsWith("wallet") ? p : p + " wallet"] }), (0, y.jsxs)(KF, { children: [a.errorMessage && (0, y.jsx)(QB, { theme: s.appearance.palette.colorScheme, children: a.errorMessage }), h.onFundWithCard?.[0] && (0, y.jsxs)(ap, { disabled: m, onClick: h.onFundWithCard[0], children: [(0, y.jsx)(YF, { children: (0, y.jsx)(ZB, { style: { width: 24 } }) }), "Pay with card", c ? (0, y.jsx)(oW, { style: { marginLeft: "auto", maxWidth: "100%", width: "auto", height: "0.875rem" } }) : l ? (0, y.jsx)(sW, { style: { marginLeft: "auto", maxWidth: "100%", width: "auto", height: "0.875rem" } }) : null] }), h.onFundWithExchange && (0, y.jsxs)(ap, { disabled: m, onClick: h.onFundWithExchange, children: [(0, y.jsx)(YF, { children: (0, y.jsx)(bB, { style: { width: 24 } }) }), "Transfer from an exchange"] }), h.onFundWithWallet && (0, y.jsxs)(ap, { disabled: m, onClick: h.onFundWithWallet, children: [(0, y.jsx)(YF, { children: (0, y.jsx)(cW, { style: { width: 24 } }) }), "Transfer from wallet"] }), (0, y.jsxs)(ap, { disabled: m, onClick: () => n(uf.FUNDING_MANUAL_TRANSFER_SCREEN), children: [(0, y.jsx)(YF, { children: (0, y.jsx)(JB, { style: { width: 24 } }) }), "Receive funds"] }), a?.showAlternateFundingMethod && h.onFundWithCard?.[1] && (0, y.jsx)(rW, { theme: s.appearance.palette.colorScheme, children: (0, y.jsxs)(rB, { children: ["Having trouble or facing location restrictions?", " ", (0, y.jsx)(iB, { onClick: h.onFundWithCard[1], children: "Try a different provider." })] }) })] }), (0, y.jsx)(xp, {})] }) }, [uf.MOONPAY_STATUS_SCREEN]: () => { let { app: e, data: t, setModalData: n, navigateBack: r } = pf(), { closePrivyModal: i } = (0, af.u)(), { externalTransactionId: o } = t?.moonpayStatus, s = PW(o || null, e.fundingMethodConfig.moonpay.useSandbox ?? !1); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { title: "Fund account", backFn: () => { let e = { ...t?.funding, showAlternateFundingMethod: !0 }; e.usingDefaultFundingMethod && (e.usingDefaultFundingMethod = !1), n({ funding: e }), r() } }), (0, y.jsx)(zW, { status: s, onClickCta: i }), (0, y.jsx)(xp, {})] }) }, [uf.COINBASE_ONRAMP_STATUS_SCREEN]: () => { let { data: e, setModalData: t, navigate: n, navigateBack: r } = pf(), { closePrivyModal: i, createAnalyticsEvent: o, client: s } = (0, af.u)(), [a, c] = (0, Ke.useState)("pending-in-flow"), l = (0, Ke.useRef)(0), u = { ...e?.funding, showAlternateFundingMethod: !0 }; u.usingDefaultFundingMethod && (u.usingDefaultFundingMethod = !1); let { partnerUserId: d, popup: h } = e?.coinbaseOnrampStatus ?? {}; return (0, Ke.useEffect)((() => { if ("pending-in-flow" === a || "pending-after-flow" === a) { let e = setInterval((async () => { if (d) try { let { status: e } = await s.getCoinbaseOnRampStatus({ partnerUserId: d }); if ("success" === e) return void c("success"); if ("failure" === e) throw Error("There was an error completing Coinbase Onramp flow."); if (l.current >= 3) return t({ funding: u }), void n(uf.FUNDING_METHOD_SELECTION_SCREEN); h?.closed && (l.current = l.current + 1, c("pending-after-flow")) } catch (e) { console.error(e), c("error"), o({ eventName: jR, payload: { status: "failure", provider: "coinbase-onramp", error: e.message } }), t({ funding: { ...u, errorMessage: "Something went wrong adding funds. Please try again or use another method." } }), n(uf.FUNDING_METHOD_SELECTION_SCREEN) } }), 1500); return () => clearInterval(e) } }), [d, h, a]), (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { title: "Fund account", backFn: () => { t({ funding: u }), r() } }, "header"), (0, y.jsx)(vB, { status: a, onClickCta: i }), (0, y.jsx)(xp, {})] }) }, [uf.FUNDING_TRANSFER_FROM_WALLET_SCREEN]: () => { let e, { connectors: t } = (0, af.u)(), { app: n, setModalData: r, data: i, navigate: o } = pf(), { wallets: s } = (0, RR.r)(), { wallets: a } = cB(), [c, l] = (0, Ke.useState)("default"), u = "solana" === i?.funding?.chainType, d = !!i?.funding?.crossChainBridgingEnabled; e = "ethereum" === i?.funding?.chainType ? i.funding.erc20Address && !i.funding.isUSDC ? "ethereum-only" : d && !i.funding.chain.testnet ? "ethereum-and-solana" : "ethereum-only" : d ? "ethereum-and-solana" : "solana-only"; let h = s.filter((e => "privy" !== e.walletClientType)), f = h.map((e => e.walletClientType)), p = a.filter((e => "privy" !== e.walletClientType)), m = p.map((e => e.walletClientType)), g = [], b = { ...i.funding }; b.usingDefaultFundingMethod && (b.usingDefaultFundingMethod = !1); let v = ({ address: e, walletChainType: t }) => { r({ ...i, funding: { ...b, connectedWalletAddress: e, onContinueWithExternalWallet: () => o(E({ destChainType: u ? "solana" : "ethereum", sourceChainType: t })) } }), o(uf.FUNDING_EDIT_AMOUNT_SCREEN) }; "solana-only" !== e && g.push(...h.map(((e, t) => (0, y.jsx)(ZW, { onClick: () => v({ address: e.address, walletChainType: "ethereum" }), icon: e.meta.icon, name: e.meta.name }, t)))), "ethereum-only" !== e && g.push(...p.map(((e, t) => (0, y.jsx)(ZW, { onClick: () => v({ address: e.address, walletChainType: "solana" }), icon: e.meta.icon, name: e.meta.name }, t)))), g.push(...Lg({ walletList: n.appearance.walletList.filter((e => !h.some((t => t.walletClientType === e)) && !p.some((t => t.walletClientType === e)))), walletChainType: e, connectors: t, connectOnly: !0, ignore: [...n.appearance.walletList, ...f, ...m], walletConnectEnabled: n.externalWallets.walletConnect.enabled })); let w = (0, y.jsx)(YW, { text: "More wallets", onClick: () => l("overflow") }), E = ({ sourceChainType: e, destChainType: t }) => "ethereum" === e && "solana" === t ? uf.FUNDING_AWAITING_EVM_TO_SOL_BRIDGING_SCREEN : "ethereum" === e && "ethereum" === t ? uf.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_WALLET_SCREEN : "solana" === e && "ethereum" === t ? uf.FUNDING_AWAITING_SOL_TO_EVM_BRIDGING_SCREEN : uf.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_SOLANA_WALLET_SCREEN; return (0, Ke.useEffect)((() => { r({ ...i, externalConnectWallet: { onCompleteNavigateTo: ({ walletChainType: e }) => (r({ ...i, funding: { ...b, onContinueWithExternalWallet: () => { o(E({ destChainType: u ? "solana" : "ethereum", sourceChainType: e ?? "ethereum" })) } } }), uf.FUNDING_EDIT_AMOUNT_SCREEN) } }) }), []), (0, y.jsxs)(y.Fragment, "overflow" === c ? { children: [(0, y.jsx)(Vf, { backFn: () => l("default") }, "header"), (0, y.jsxs)(rp, { children: [(0, y.jsx)(nN, { style: { color: "var(--privy-color-foreground-3)", textAlign: "left" }, children: "More wallets" }), g] }), (0, y.jsx)(xp, {})] } : { children: [(0, y.jsx)(SR, {}), (0, y.jsx)(Bm, { title: "Transfer from wallet", description: "Connect a wallet to deposit funds or send funds manually to your wallet address." }), (0, y.jsxs)(rp, { children: [g.length > 4 ? g.slice(0, 3) : g, g.length > 4 && w] }), (0, y.jsx)(xp, {})] }) }, [uf.FUNDING_EDIT_AMOUNT_SCREEN]: () => { let { data: e, setModalData: t } = pf(), n = e?.funding, r = "solana" === n.chainType, i = (0, Ke.useRef)(null), [o, s] = (0, Ke.useState)(!1), { tokenPrice: a } = OR(r ? "solana" : n.chain.id); (0, Ke.useEffect)((() => { i.current && i.current.style.setProperty("--funding-input-length", Math.max(n.amount.length, 1).toString()) }), [n.amount, i.current]); let c = r ? void 0 : n, l = !(!c?.erc20Address || c?.erc20ContractInfo), u = r ? "SOL" : n.erc20Address ? n.erc20ContractInfo?.symbol : n.chain.nativeCurrency.symbol || "ETH", d = parseFloat(n.amount), h = !isNaN(d) && d > 0, f = a ? zF(n.amount, a) : void 0; return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(SR, {}), (0, y.jsx)(rN, { children: "Confirm or edit amount" }), (0, y.jsxs)(Pm, { style: { marginTop: "32px" }, children: [(0, y.jsx)(ZF, { children: l ? (0, y.jsx)(kR, { size: "50px" }) : (0, y.jsxs)(y.Fragment, { children: [(0, y.jsxs)(XF, { onClick: () => i.current?.focus(), children: [(0, y.jsx)(QF, { ref: i, value: n.amount, onFocus: () => s(!0), onBlur: () => s(!1), onChange: r => { let i = r.target.value; /^[0-9.]*$/.test(i) && i.split(".").length - 1 <= 1 && t({ ...e, funding: { ...n, amount: i } }) } }), (0, y.jsx)(tB, { children: u }), !o && (0, y.jsx)(eB, { children: (0, y.jsx)(CB, { width: 12, height: 12 }) })] }), !c?.erc20Address && (0, y.jsx)(nB, { children: f && h ? f : "" })] }) }), (0, y.jsx)(DB, { onClick: () => { i.current?.focus() }, children: "Edit amount" }), (0, y.jsx)(kf, { style: { marginTop: "1rem" }, disabled: !h, onClick: n.onContinueWithExternalWallet, children: "Continue" })] }), (0, y.jsx)(xp, {})] }) }, [uf.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_WALLET_SCREEN]: () => { let { rpcConfig: e, appId: t, closePrivyModal: n, createAnalyticsEvent: r } = (0, af.u)(), { navigate: i, setModalData: o, app: s, data: a } = pf(), { wallets: c } = (0, RR.r)(), [l, u] = (0, Ke.useState)(!1), [d, h] = (0, Ke.useState)(0n), [f, p] = (0, Ke.useState)(!1), [m, g] = (0, Ke.useState)(null), [b, v] = (0, Ke.useState)(null), [w, E] = (0, Ke.useState)([]), [x, _] = (0, Ke.useState)(0), [C, A] = (0, Ke.useState)(!1), [S, k] = (0, Ke.useState)(!1), [I, T] = (0, Ke.useState)(!1), [N, P] = (0, Ke.useState)(!1); if (!a?.funding || "ethereum" !== a.funding.chainType) throw Error("Invalid funding data"); let { erc20ContractInfo: M, chain: O, amount: R, connectedWalletAddress: j } = a.funding, $ = a.funding.address, L = a.funding.erc20Address; (0, Ke.useEffect)((() => { L && !M && g(Error("Unable to fetch token details")) }), []); let D = !!L && !!M, U = D ? BigInt(parseFloat(R) * 10 ** M.decimals) : dB(R), F = j ? c.find((({ address: e }) => e === j)) : c[0], [B, W] = (0, Ke.useState)(null); (0, Ke.useEffect)((() => { (async () => { if (!F) return; let e = await F.getEthereumProvider(); W(CM({ account: F.address, transport: (0, AM.P)(e) }).extend(CR)) })().catch(console.error) }), [F]); let [z, q] = (0, Ke.useState)(0n); (0, Ke.useEffect)((() => { AR({ chain: O, transport: on(Ha(O, e, t)) }).getBalance({ address: $ }).then(q).catch(console.error) }), []); let [H, G] = (0, Ke.useState)(0n); (0, Ke.useEffect)((() => { D && mB({ chain: O, address: $, appId: t, rpcConfig: e, erc20Address: L }).then((e => G(e.balance))).catch(console.error) }), []); let { tokenPrice: V } = OR(O.id), [K, Y] = (0, Ke.useState)({ to: $, chain: O, value: U, data: void 0 }); (0, Ke.useEffect)((() => { (async () => { let n, i; if (!B || !F || C || I) return; A(!0); let o = AR({ chain: K.chain, transport: on(Ha(K.chain, e, t)) }); if (D && !K.data) return await o.simulateContract({ address: L, chain: K.chain, abi: hB, functionName: "transfer", args: [$, U], account: F.address }).catch((e => { console.warn("Simulated token transfer failed with error, fetching bridge options.", e) })) ? (A(!1), void Y({ to: L, chain: K.chain, data: (0, IM.R)({ abi: hB, functionName: "transfer", args: [$, U] }), value: "0x0" })) : (A(!1), void p(!0)); try { n = await o.prepareTransactionRequest({ account: F.address, to: K.to, chain: K.chain, data: K.data, value: BigInt(K.value ?? 0) }) } catch (n) { if (console.error(n), w.length > 1) v(n.shortMessage ?? "Something went wrong"); else if (S && 0 === w.length) return void g(new bs.dx(`Wallet ${ja(F.address)} does not have enough funds.`, void 0, bs.sX.INSUFFICIENT_BALANCE)) } if (!n) return A(!1), void p(!0); A(!1), T(!0), u(!0), h(n.gas); try { await B.switchChain({ id: K.chain.id }) } catch (n) { await B.addChain({ chain: K.chain }), await B.switchChain({ id: K.chain.id }) } try { i = await B.sendTransaction(n), r({ eventName: jR, payload: { provider: "external", status: "success", address: F.address, chainId: K.chain.id, value: K.value?.toString(), txHash: i } }) } catch (n) { if (console.error(n), "TransactionExecutionError" === n.name) if (w.length < 1) { let e = n.shortMessage; (n.shortMessage.includes("rejected the request") || n.details.includes("rejected the request")) && (e = "User rejected the request."), g(new bs.dx(e, void 0, bs.sX.TRANSACTION_FAILURE)) } else v(n.shortMessage ?? "Something went wrong") } i ? (await B.waitForTransactionReceipt({ hash: i }), T(!1), P(!0)) : T(!1) })().catch(console.error) }), [B, K]), (0, Ke.useEffect)((() => { (async () => { if (!f || !B || !F) return; let n = fh(s.chains).filter((e => e.id !== O.id && !!e.testnet == !!O.testnet)); D && n.unshift(O); let r = await JR({ chains: n, address: F.address, appId: t, rpcConfig: e }), i = D ? r.filter((e => e.balance > 0n)) : r.filter((e => e.balance > U)); if (i.length < 1) return void g(new bs.dx(`Wallet ${ja(F.address)} does not have enough funds.`, void 0, bs.sX.INSUFFICIENT_BALANCE)); i.sort(((e, t) => Number(t.balance - e.balance))); let o = (await Promise.allSettled(i.map((async e => ({ quote: await UR({ isTestnet: !!O.testnet, input: DR({ amount: U.toString(), user: F.address, recipient: $, destinationChainId: O.id, destinationCurrency: L, originChainId: e.chain.id }) }), ...e }))))).filter((e => "fulfilled" === e.status)).map((e => e.value)); if (o.length < 1) return void g(new bs.dx(`Wallet ${ja(F.address)} does not have enough funds.`, void 0, bs.sX.INSUFFICIENT_BALANCE)); let a = o.map((e => ({ bridgeTx: FR(e.quote), balance: e.balance, chain: e.chain }))).filter((e => !!e.bridgeTx)); if (a.length > 1) return void E(a); let c = a[0]; c ? (k(!0), Y({ data: c.bridgeTx.data, to: c.bridgeTx.to, value: c.bridgeTx.value, chain: c.chain })) : g(new bs.dx(`Wallet ${ja(F.address)} does not have enough funds.`, void 0, bs.sX.INSUFFICIENT_BALANCE)) })().catch(console.error) }), [f]), (0, Ke.useEffect)((() => { if (!m) return; let e = { error: m, previousScreen: uf.FUNDING_TRANSFER_FROM_WALLET_SCREEN }; o({ funding: a?.funding, sendTransaction: a?.sendTransaction, errorModalData: e }), i(uf.ERROR_SCREEN, !1) }), [m]); let Z = F ? vg(F.walletClientType, F.connectorType, F.walletClientType) || "wallet" : null, X = !D && V ? zF(a?.funding?.amount ?? "0", V) : void 0, J = D ? d : GF([d, U]), Q = J && V ? qF(J, V) : void 0, ee = J ? HF(J, "ETH") : void 0, te = d && V ? qF(d, V) : void 0, ne = d ? HF(d, "ETH") : void 0; if ((0, Ke.useEffect)((() => { if (!N) return; let e = setTimeout(n, Vs); return () => clearTimeout(e) }), [N]), N) return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(SR, {}), (0, y.jsx)(Rm, {}), (0, y.jsxs)(Nm, { children: [(0, y.jsx)(ET, { color: "var(--privy-color-success)", width: "64px", height: "64px" }), (0, y.jsx)(Bm, { title: "Success!", description: `You\u2019ve successfully added ${R} ${D ? M.symbol : O.nativeCurrency.symbol} to your ${s.name} wallet. It may take a minute before the funds are available to use.` })] }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }); let re = D ? `${pB({ amount: H, decimals: M.decimals })}  ${M.symbol}` : HF(z, O.nativeCurrency.symbol, 3, !0), ie = w[x]; return w.length > 1 && ie ? (0, y.jsx)(oB, { displayName: Z, configuredFundingChain: O, formattedBalance: re, fundingAmount: R, fundingCurrency: D ? M.symbol : O.nativeCurrency.symbol, fundingAmountInUsd: X, options: w, selectedOption: ie, isPreparing: C, isSubmitting: I, errorMessage: b, onSubmit: () => { Y({ to: ie.bridgeTx.to, data: ie.bridgeTx.data, value: ie.bridgeTx.value, chain: ie.chain }) }, onSelect: e => { e !== x && (v(null), _(e)) } }) : l && d && F && a?.funding ? (0, y.jsx)(sB, { wallet: F, displayName: Z, addressToFund: $, isBridging: S, isErc20Flow: D, totalPriceInUsd: Q, totalPriceInNativeCurrency: ee, gasPriceInUsd: te, gasPriceInNativeCurrency: ne, chainId: O.id, chainName: O.name }) : (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(SR, {}), (0, y.jsx)(kR, {}), (0, y.jsx)("div", { style: { marginTop: "1rem" } }), (0, y.jsx)(xp, {})] }) }, [uf.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_SOLANA_WALLET_SCREEN]: () => { let { closePrivyModal: e, createAnalyticsEvent: t } = (0, af.u)(), { navigate: r, setModalData: i, app: o, data: s } = pf(), { wallets: a } = cB(), [c, l] = (0, Ke.useState)(0n), [u, d] = (0, Ke.useState)(null), [h, f] = (0, Ke.useState)(!1), [p, m] = (0, Ke.useState)(!1), g = (0, Ke.useRef)(!1); if (!s?.funding || "solana" !== s.funding.chainType) throw Error("Invalid funding data"); let { address: b, amount: v, cluster: w, connectedWalletAddress: E } = s.funding, x = bh(w), { tokenPrice: _ } = OR("solana"), { fundingAmountInBaseUnit: C, totalPriceInUsd: A, totalPriceInNativeCurrency: S, feePriceInNativeCurrency: k, feePriceInUsd: I } = HR({ amount: v, fee: c, tokenPrice: _ }), T = E ? a.find((({ address: e }) => e === E)) : a[0]; if ((0, Ke.useEffect)((() => { (async () => { if ("solana" !== T?.type || !T.sendTransaction || h || g.current) return; g.current = !0; let { Connection: e, PublicKey: r, SystemProgram: i, Transaction: o } = await Promise.all([n.e(766), n.e(420)]).then(n.bind(n, 59917)), s = new r(T.address), a = new o; a.add(i.transfer({ fromPubkey: s, toPubkey: new r(b), lamports: C })); let c = new e(x), u = await c.getLatestBlockhash(); a.recentBlockhash = u.blockhash, a.feePayer = s; let p = await a.getEstimatedFee(c); null != p && l(BigInt(p)), f(!0); try { let e = await c.simulateTransaction(a); if (e.value.err) return e.value.logs?.find((e => /insufficient (lamports|funds)/gi.test(e))) ? void d(new bs.dx(`Wallet ${ja(T.address, void 0, void 0, "solana")} does not have enough funds.`, void 0, bs.sX.INSUFFICIENT_BALANCE)) : (console.error("Transaction failed:", e.value.err), void d(new bs.dx("Something went wrong", void 0, bs.sX.TRANSACTION_FAILURE))); let n = await T.sendTransaction(a, c); t({ eventName: jR, payload: { provider: "external", status: "success", address: T.address, value: C.toString(), txHash: n, chainType: "solana", rpcEndpoint: x } }), f(!1), m(!0) } catch (e) { if (console.error(e), f(!1), /user rejected the request/gi.test(e.message || "")) return void d(new bs.dx("Transaction was rejected by the user", void 0, bs.sX.TRANSACTION_FAILURE)); d(new bs.dx("Something went wrong", void 0, bs.sX.TRANSACTION_FAILURE)) } })().catch(console.error).finally((() => g.current = !1)) }), []), (0, Ke.useEffect)((() => { if (!u) return; let e = { error: u, previousScreen: uf.FUNDING_TRANSFER_FROM_WALLET_SCREEN }; i({ funding: s?.funding, sendTransaction: s?.sendTransaction, errorModalData: e }), r(uf.ERROR_SCREEN, !1) }), [u]), (0, Ke.useEffect)((() => { if (!p) return; let t = setTimeout(e, Vs); return () => clearTimeout(t) }), [p]), p) return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(SR, {}), (0, y.jsx)(Rm, {}), (0, y.jsxs)(Nm, { children: [(0, y.jsx)(ET, { color: "var(--privy-color-success)", width: "64px", height: "64px" }), (0, y.jsx)(Bm, { title: "Success!", description: `You\u2019ve successfully added ${v} SOL to your ${o.name} wallet. It may take a minute before the funds are available to use.` })] }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }); let N = T ? vg(T.walletClientType, T.connectorType, T.walletClientType) || "wallet" : null; return T && h ? (0, y.jsx)(sB, { wallet: T, displayName: N, addressToFund: b, isBridging: !1, isErc20Flow: !1, totalPriceInUsd: A, totalPriceInNativeCurrency: S, gasPriceInUsd: I, gasPriceInNativeCurrency: k, chainId: "solana", chainName: w.name }) : (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(SR, {}), (0, y.jsx)(kR, {}), (0, y.jsx)("div", { style: { marginTop: "1rem" } }), (0, y.jsx)(xp, {})] }) }, [uf.FUNDING_AWAITING_EVM_TO_SOL_BRIDGING_SCREEN]: () => { let { rpcConfig: e, appId: t, closePrivyModal: r, createAnalyticsEvent: i } = (0, af.u)(), { navigate: o, setModalData: s, app: a, data: c } = pf(), { wallets: l } = (0, RR.r)(), [u, d] = (0, Ke.useState)(null), [h, f] = (0, Ke.useState)(null), [p, m] = (0, Ke.useState)([]), [g, b] = (0, Ke.useState)(0), [v, w] = (0, Ke.useState)(!1), [E, x] = (0, Ke.useState)(!1), [_, C] = (0, Ke.useState)(!1), [A, S] = (0, Ke.useState)(!1); if (!c?.funding || "solana" !== c.funding.chainType) throw Error("Invalid funding data"); let { address: k, cluster: I, amount: T, connectedWalletAddress: N } = c.funding, P = N ? l.find((({ address: e }) => e === N)) : l[0], [M, O] = (0, Ke.useState)(null); (0, Ke.useEffect)((() => { (async () => { if (!P) return; let e = await P.getEthereumProvider(); O(CM({ account: P.address, transport: (0, AM.P)(e) }).extend(CR)) })().catch(console.error) }), [P]); let [R, j] = (0, Ke.useState)(0n), $ = zR(R); (0, Ke.useEffect)((() => { (async () => { let { Connection: e, PublicKey: t } = await Promise.all([n.e(766), n.e(420)]).then(n.bind(n, 59917)); new e(bh(I)).getBalance(new t(k)).then((e => j(BigInt(e)))) })() }), []); let [L, D] = (0, Ke.useState)(), { tokenPrice: U } = OR("solana"), { fundingAmountInBaseUnit: F, fundingAmountInUsd: B } = HR({ amount: T, fee: 0n, tokenPrice: U }); (0, Ke.useEffect)((() => { (async () => { if (!M || !P) return; let n = ["testnet", "devnet"].includes(I.name); n && console.warn("Solana testnets are not supported for bridging"); let r = fh(a.chains).filter((({ testnet: e }) => !!e === n)), i = (await JR({ chains: r, address: P.address, appId: t, rpcConfig: e })).filter((e => e.balance > 0n)); if (i.length < 1) return void d(new bs.dx(`Wallet ${ja(P.address)} does not have enough funds.`, void 0, bs.sX.INSUFFICIENT_BALANCE)); i.sort(((e, t) => Number(t.balance - e.balance))); let o = (await Promise.allSettled(i.map((async e => ({ ...e, quote: await UR({ isTestnet: !1, input: DR({ amount: F.toString(), user: P.address, recipient: k, destinationChainId: ph, destinationCurrency: mh, originChainId: e.chain.id }) }) }))))).filter((e => "fulfilled" === e.status)).map((e => e.value)); if (o.length < 1) return void d(new bs.dx(`Unable to fetch quotes for bridging. Wallet ${ja(P.address)} does not have enough funds.`, void 0, bs.sX.INSUFFICIENT_BALANCE)); let s = o.map((({ quote: e, balance: t, chain: n }) => ({ bridgeTx: FR(e), balance: t, chain: n }))).filter((({ bridgeTx: e }) => !!e)); if (s.length > 1) return void m(s); let c = s.at(0); c ? (x(!0), D({ data: c.bridgeTx.data, to: c.bridgeTx.to, value: c.bridgeTx.value, chain: c.chain })) : d(new bs.dx(`Unable to select bridge option from quotes. Wallet ${ja(P.address)} does not have enough funds.`, void 0, bs.sX.INSUFFICIENT_BALANCE)) })().catch(console.error) }), [M]), (0, Ke.useEffect)((() => { (async () => { let n, r; if (!M || !P || v || _ || !L) return; w(!0); let o = AR({ chain: L.chain, transport: on(Ha(L.chain, e, t)) }); try { n = await o.prepareTransactionRequest({ account: P.address, to: L.to, chain: L.chain, data: L.data, value: BigInt(L.value ?? 0) }) } catch (n) { console.error(n), p.length > 1 && f(n.shortMessage ?? "Something went wrong") } if (n) { w(!1), C(!0); try { await M.switchChain({ id: L.chain.id }) } catch (n) { await M.addChain({ chain: L.chain }), await M.switchChain({ id: L.chain.id }) } try { r = await M.sendTransaction(n), i({ eventName: jR, payload: { provider: "external", status: "success", address: P.address, chainId: L.chain.id, value: L.value?.toString(), txHash: r } }) } catch (n) { console.error(n), "TransactionExecutionError" === n.name && (p.length < 1 ? d(new bs.dx(n.shortMessage, void 0, bs.sX.TRANSACTION_FAILURE)) : f(n.shortMessage ?? "Something went wrong")) } r ? (await M.waitForTransactionReceipt({ hash: r }), C(!1), S(!0)) : C(!1) } else w(!1) })().catch(console.error) }), [M, L]), (0, Ke.useEffect)((() => { if (!u) return; let e = { error: u, previousScreen: uf.FUNDING_TRANSFER_FROM_WALLET_SCREEN }; s({ funding: c?.funding, sendTransaction: c?.sendTransaction, errorModalData: e }), o(uf.ERROR_SCREEN, !1) }), [u]); let W = P ? vg(P.walletClientType, P.connectorType, P.walletClientType) || "wallet" : null; if ((0, Ke.useEffect)((() => { if (!A) return; let e = setTimeout(r, Vs); return () => clearTimeout(e) }), [A]), A) return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(SR, {}), (0, y.jsx)(Rm, {}), (0, y.jsxs)(Nm, { children: [(0, y.jsx)(ET, { color: "var(--privy-color-success)", width: "64px", height: "64px" }), (0, y.jsx)(Bm, { title: "Success!", description: `You\u2019ve successfully added ${T} SOL to your ${a.name} wallet. It may take a minute before the funds are available to use.` })] }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }); let z = p[g]; return p.length > 1 && z ? (0, y.jsx)(oB, { displayName: W, configuredFundingChain: I, formattedBalance: $, fundingAmount: T, fundingCurrency: "SOL", fundingAmountInUsd: B, options: p, selectedOption: z, isPreparing: v, isSubmitting: _, errorMessage: h, onSubmit: () => { D({ to: z.bridgeTx.to, data: z.bridgeTx.data, value: z.bridgeTx.value, chain: z.chain }) }, onSelect: e => { e !== g && (f(null), b(e)) } }) : _ && P ? (0, y.jsx)(sB, { wallet: P, displayName: W, addressToFund: k, isBridging: E, isErc20Flow: !1, chainId: "solana", chainName: I.name, totalPriceInUsd: void 0, totalPriceInNativeCurrency: void 0, gasPriceInUsd: void 0, gasPriceInNativeCurrency: void 0 }) : (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(SR, {}), (0, y.jsx)(kR, {}), (0, y.jsx)("div", { style: { marginTop: "1rem" } }), (0, y.jsx)(xp, {})] }) }, [uf.FUNDING_AWAITING_SOL_TO_EVM_BRIDGING_SCREEN]: function () { let { closePrivyModal: e, createAnalyticsEvent: t } = (0, af.u)(), { navigate: r, setModalData: i, app: o, data: s } = pf(), { wallets: a } = cB(), c = (0, Ke.useRef)(!1), [l, u] = (0, Ke.useState)(!1), [d, h] = (0, Ke.useState)(!1), [f, p] = (0, Ke.useState)(null); if (!s?.funding || "ethereum" !== s.funding.chainType) throw Error("Invalid funding data"); let { amount: m, connectedWalletAddress: g, chain: b, cluster: v, isUSDC: w } = s.funding, E = s.funding.address, x = s.funding.erc20Address, _ = s.funding.isUSDC ? "USDC" : b.nativeCurrency.symbol, C = v ?? { name: "mainnet-beta" }, A = g ? a.find((({ address: e }) => e === g)) : a[0]; if ((0, Ke.useEffect)((() => { (async function () { if (!A || !b || c.current) return; c.current = !0, b?.testnet && console.warn("Solana testnets are not supported for bridging"); let e = w ? 1e6 * parseFloat(m) : dB(m), r = await UR({ isTestnet: !!b.testnet, input: DR({ amount: e.toString(), user: A.address, recipient: E, destinationChainId: b.id, originChainId: ph, originCurrency: w ? "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v" : mh, destinationCurrency: w ? x : void 0 }) }).catch(console.error); if (!r) return void p(new bs.dx(`Unable to fetch quotes for bridging. Wallet ${$a(A.address)} does not have enough funds.`, void 0, bs.sX.INSUFFICIENT_BALANCE)); let i = await (async e => { let t = e.steps[0]?.items?.[0]; if (!t) return; let { PublicKey: r, TransactionInstruction: i } = await Promise.all([n.e(766), n.e(420)]).then(n.bind(n, 59917)); return { instructions: t.data.instructions.map((({ keys: e, programId: t, data: n }) => new i({ keys: e.map((({ pubkey: e, isSigner: t, isWritable: n }) => ({ pubkey: new r(e), isSigner: t, isWritable: n }))), programId: new r(t), data: $R.from(n, "hex") }))), addressLookupTableAddresses: t.data.addressLookupTableAddresses?.map((e => new r(e))) } })(r); if (i) try { let { Connection: o, PublicKey: s, TransactionMessage: a, VersionedTransaction: c } = await Promise.all([n.e(766), n.e(420)]).then(n.bind(n, 59917)), l = new o(bh(C)), d = await Promise.all((i.addressLookupTableAddresses ?? []).map((async e => l.getAddressLookupTable(e).then((e => e.value))))), { blockhash: f } = await l.getLatestBlockhash(), m = new c(new a({ payerKey: new s(A.address), instructions: i.instructions, recentBlockhash: f }).compileToV0Message(d)); u(!0); let g = await l.simulateTransaction(m); if (g.value.err) return g.value.logs?.find((e => /insufficient (lamports|funds)/gi.test(e))) ? void p(new bs.dx(`Wallet ${$a(A?.address)} does not have enough funds. ${r.details.currencyIn.amountFormatted} ${_} are needed to complete the transaction.`, void 0, bs.sX.INSUFFICIENT_BALANCE)) : (console.error("Transaction failed:", g.value.err), void p(new bs.dx("Something went wrong", void 0, bs.sX.TRANSACTION_FAILURE))); let y = await A.sendTransaction(m, l), v = await l.confirmTransaction(y); if (v.value.err) return console.error("Transaction failed:", v.value.err), void p(new bs.dx("Something went wrong", void 0, bs.sX.TRANSACTION_FAILURE)); t({ eventName: jR, payload: { provider: "external", status: "success", address: A.address, chainId: b.id, value: e.toString(), txHash: y } }), h(!0) } catch (e) { if (console.error(e), /user rejected the request/gi.test(e.message || "")) return void p(new bs.dx("Transaction was rejected by the user", void 0, bs.sX.TRANSACTION_FAILURE)); p(new bs.dx("Something went wrong", void 0, bs.sX.TRANSACTION_FAILURE)) } else p(new bs.dx(`Unable to select bridge option from quotes. Wallet ${$a(A.address)} does not have enough funds.`, void 0, bs.sX.INSUFFICIENT_BALANCE)) })().catch(console.error) }), []), (0, Ke.useEffect)((() => { if (!d) return; let t = setTimeout(e, Vs); return () => clearTimeout(t) }), [d]), (0, Ke.useEffect)((() => { if (!f) return; let e = { error: f, previousScreen: uf.FUNDING_TRANSFER_FROM_WALLET_SCREEN }; i({ funding: s?.funding, sendTransaction: s?.sendTransaction, errorModalData: e }), r(uf.ERROR_SCREEN, !1) }), [f]), d) return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(SR, {}), (0, y.jsx)(Rm, {}), (0, y.jsxs)(Nm, { children: [(0, y.jsx)(ET, { color: "var(--privy-color-success)", width: "64px", height: "64px" }), (0, y.jsx)(Bm, { title: "Success!", description: `You\u2019ve successfully added ${m} ${_} to your ${o.name} wallet. It may take a minute before the funds are available to use.` })] }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }); if (l && A) { let e = A ? vg(A.walletClientType, A.connectorType, A.walletClientType) || "wallet" : null; return (0, y.jsx)(sB, { wallet: A, displayName: e, addressToFund: E, isBridging: l, isErc20Flow: !1, chainId: b.id, chainName: b.name, totalPriceInUsd: void 0, totalPriceInNativeCurrency: void 0, gasPriceInUsd: void 0, gasPriceInNativeCurrency: void 0 }) } return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(SR, {}), (0, y.jsx)(kR, {}), (0, y.jsx)("div", { style: { marginTop: "1rem" } }), (0, y.jsx)(xp, {})] }) }, [uf.FUNDING_MANUAL_TRANSFER_SCREEN]: () => { let { wallets: e } = (0, RR.r)(), { wallets: t } = cB(), { data: r, setModalData: i, navigate: o, lastScreen: s } = pf(), { rpcConfig: a, appId: c, createAnalyticsEvent: l, closePrivyModal: u } = (0, af.u)(), d = sf(), [h, f] = (0, Ke.useState)(void 0), [p, m] = (0, Ke.useState)(!1), g = r?.funding, { reloadBalance: b } = function ({ rpcConfig: e, appId: t, address: n, chain: r }) { let { chains: i } = (0, af.u)(), [o, s] = (0, Ke.useState)(0n), [a, c] = (0, Ke.useState)(!1), l = (0, Ke.useMemo)((() => { let n = r || i[0]; if (n) return AR({ chain: r, transport: on(Ha(n, e, t)) }) }), [r, e, t]), u = (0, Ke.useCallback)((async () => { if (!n || !l) return; c(!0); let e = await l.getBalance({ address: n }).catch(console.error); return e ? (s(e), c(!1), e) : void 0 }), [l, n, s]); return (0, Ke.useEffect)((() => { u().catch(console.error) }), []), { balance: o, isLoading: a, reloadBalance: u } }({ rpcConfig: a, appId: c, address: "ethereum" === g.chainType ? g.address : void 0, chain: "ethereum" === g.chainType ? g.chain : void 0 }), v = "solana" === g.chainType, w = v ? "SOL" : g.erc20Address ? g.erc20ContractInfo?.symbol : g.chain.nativeCurrency.symbol, E = v ? t.find((({ address: e }) => e === g.address)) : e.find((({ address: e }) => ja(e) === ja(g.address))); if (!g) return i({ errorModalData: { error: Error("Couldn't find funding config"), previousScreen: s || uf.FUNDING_METHOD_SELECTION_SCREEN }, funding: r?.funding, sendTransaction: r?.sendTransaction }), o(uf.ERROR_SCREEN), (0, y.jsx)(y.Fragment, {}); (0, Ke.useEffect)((() => { let e = v ? async function () { if ("solana" !== g.chainType) return; let { Connection: e, PublicKey: t } = await Promise.all([n.e(766), n.e(420)]).then(n.bind(n, 59917)); new e(bh(g.cluster)).getBalance(new t(g.address)).then((e => { let t = BigInt(e); h && t > h && (m(!0), l({ eventName: jR, payload: { provider: "manual", status: "success", chainType: "solana", address: E?.address, value: (t - h).toString() } })), f(t) })) } : async function () { "ethereum" === g.chainType && (async () => { if (!g.erc20Address) return await b() ?? BigInt(0); { let { balance: e } = await mB({ chain: g.chain, address: g.address, erc20Address: g.erc20Address, rpcConfig: a, appId: c }); return e } })().then((e => { h && e > h && (m(!0), l({ eventName: jR, payload: { provider: "manual", status: "success", chainType: "ethereum", address: E?.address, value: (e - h).toString() } })), f(e) })).catch((() => f(void 0))) }, t = setInterval(e, 2e3); return e(), () => clearInterval(t) }), [h]); let x = (0, Ke.useMemo)((() => void 0 !== h && h >= parseFloat(g.amount)), [h, g.amount]), _ = (0, Ke.useMemo)((() => null == h ? "" : g.isUSDC ? UW({ amount: h, decimals: 6 }) : v ? zR(h, 3, !0, !0) : null != g.erc20ContractInfo?.decimals ? UW({ amount: h, decimals: g.erc20ContractInfo.decimals }) : function ({ wei: e, precision: t = 3 }) { return parseFloat((0, DW.d)(e)).toFixed(t).replace(/0+$/, "").replace(/\.$/, "") }({ wei: h })), [h, v, g]), C = "ethereum" === g.chainType ? g.chain.name : BW[g.cluster.name]; return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(SR, {}), (0, y.jsxs)(rN, { children: ["Receive ", g.amount, " ", w] }), (0, y.jsxs)(nN, { children: ["Scan this code or copy your wallet address to receive funds on ", C, "."] }), (0, y.jsxs)(Pm, { style: { gap: "1rem", margin: "1rem 0" }, children: [(0, y.jsx)(HP, { url: g.address, size: 200, squareLogoElement: FW }), (0, y.jsxs)(rW, { theme: d.appearance.palette.colorScheme, children: ["Make sure to send funds on ", C, "."] }), (0, y.jsx)(kT, { title: "Your wallet", errMsg: void 0, showIcon: !0, isLoading: !g || void 0 === h, isPulsing: !x, balance: `${_} ${w}`, address: g.address, statusColor: x ? "green" : "gray" }), p && (0, y.jsx)(Sf, { onClick: () => u({ shouldCallAuthOnSuccess: !1, isSuccess: !0 }), children: "Continue" })] }), (0, y.jsx)(xp, {})] }) }, [uf.EMBEDDED_WALLET_PASSWORD_UPDATE_SPLASH_SCREEN]: () => { let { closePrivyModal: e } = (0, af.u)(), { data: t, setModalData: n, navigate: r, onUserCloseViaDialogOrKeybindRef: i } = pf(), { onSuccess: o, onFailure: s } = t.setWalletPassword, a = () => { s(new bs.z5("Exited before password was added to wallet")), e({ shouldCallAuthOnSuccess: !1 }) }; return i.current = a, (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: a }), (0, y.jsx)(Rm, {}), (0, y.jsxs)(Nm, { children: [(0, y.jsxs)($m, { children: [(0, y.jsx)(CP, { stroke: "var(--privy-color-accent)", width: "64px", height: "64px" }), (0, y.jsx)(Dm, { style: { width: 24, height: 24, position: "absolute", bottom: 0, right: 0 }, children: (0, y.jsx)(SP, { width: "12px", height: "12px", fill: "white" }) })] }), (0, y.jsxs)(Bm, { title: "Secure Your Account", children: ["Please set a password to secure your account.", (0, y.jsx)("p", { children: "Losing access to this password and this device will make your account inaccessible." })] })] }), (0, y.jsx)(Sf, { onClick: () => { n({ createWallet: { onFailure: s, onSuccess: o, callAuthOnSuccessOnClose: !1, addPasswordToExistingWallet: !0 } }), r(uf.EMBEDDED_WALLET_PASSWORD_UPDATE_SCREEN) }, children: "Add password" }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }) }, [uf.EMBEDDED_WALLET_PASSWORD_UPDATE_SCREEN]: () => { let [e, t] = (0, Ke.useState)(null), [n, r] = (0, Ke.useState)(!1), [i, o] = (0, Ke.useState)(null), [s, a] = (0, Ke.useState)(""), { authenticated: c, getAccessToken: l, user: u } = (0, mf.b)(), { walletProxy: d, refreshUser: h, closePrivyModal: f, createAnalyticsEvent: p } = (0, af.u)(), { app: m, navigate: g, data: b, onUserCloseViaDialogOrKeybindRef: v } = pf(), { onSuccess: w, onFailure: E } = b.createWallet, x = (0, fc.pM)(u), _ = "user-passcode" === e?.recoveryMethod, C = "user-passcode" === x?.recoveryMethod; (0, Ke.useEffect)((() => { c || (g(uf.LANDING), E(new bs.yV("User must be authenticated before setting a password on a Privy wallet"))) }), [c]); let A = () => i ? (E(i), void f({ shouldCallAuthOnSuccess: !1 })) : _ ? (w(e), void f({ shouldCallAuthOnSuccess: !1 })) : (E(new bs.z5("Exited before password was added to wallet")), void f({ shouldCallAuthOnSuccess: !1 })); return v.current = A, (0, y.jsx)(xP, { appName: m?.name || "privy", config: { initiatedBy: "user", onCancel: A }, error: i ? "An error has occurred, please try again." : void 0, buttonLoading: n, buttonHideAnimations: !1, password: s, isResettingPassword: C, onPasswordGenerate: () => a(kN()), onPasswordChange: a, onSubmit: async () => { _ ? (w(e), f({ shouldCallAuthOnSuccess: !1 })) : (r(!0), o(null), await (async () => { let e = await l(); if (e && x?.address && s && d) try { p({ eventName: "embedded_wallet_set_recovery_started", payload: { walletAddress: x.address, existingRecoveryMethod: x.recoveryMethod, targetRecoveryMethod: "user-passcode", isResettingPassword: C } }); let { entropyId: n, entropyIdVerifier: r } = (0, fc.wB)(x); if (!(await d.setRecovery({ accessToken: e, entropyId: n, entropyIdVerifier: r, recoveryPassword: s, recoveryMethod: "user-passcode" })).entropyId) return o(new bs.z5("Error setting password on privy wallet")), void p({ eventName: "embedded_wallet_set_recovery_failed", payload: { walletAddress: x.address, existingRecoveryMethod: x.recoveryMethod, targetRecoveryMethod: "user-passcode", isResettingPassword: C, reason: "error setting password" } }); let i = await h(), a = (0, fc.pM)(i); if (!a) return o(new bs.z5("Error setting password on privy wallet")), void p({ eventName: "embedded_wallet_set_recovery_failed", payload: { walletAddress: x.address, existingRecoveryMethod: x.recoveryMethod, targetRecoveryMethod: "user-passcode", isResettingPassword: C, reason: "wallet disconnected" } }); t(a), p({ eventName: "embedded_wallet_set_recovery_completed", payload: { walletAddress: x.address, existingRecoveryMethod: x.recoveryMethod, targetRecoveryMethod: "user-passcode", isResettingPassword: C } }) } catch (e) { console.warn(e), o(e instanceof Error ? e : Error("Error setting password on privy wallet")), p({ eventName: "embedded_wallet_set_password_failed", payload: { walletAddress: x.address, reason: e } }) } })(), r(!1)) }, onClose: A }) }, [uf.EMBEDDED_WALLET_PASSWORD_CREATE_SCREEN]: () => { let { app: e, navigate: t, data: n, onUserCloseViaDialogOrKeybindRef: r } = pf(), [i, o] = (0, Ke.useState)(""), [s, a] = (0, Ke.useState)(!1), [c, l] = (0, Ke.useState)(), [u, d] = (0, Ke.useState)(null), { authenticated: h, user: f } = (0, mf.b)(), { closePrivyModal: p, isNewUserThisSession: m, initializeWalletProxy: g } = (0, af.u)(), { onSuccess: b, onFailure: v, callAuthOnSuccessOnClose: w } = n.createWallet, { createWallet: E } = cN(), [x, _] = (0, Ke.useState)(null), C = new Ds((async () => { try { let e = await E({ recoveryPassword: c, user: f }); if (!e) return; _(e), m ? t(uf.EMBEDDED_WALLET_CREATED_SCREEN) : (b(e), p({ shouldCallAuthOnSuccess: w })) } catch (e) { o(e.message) } })); return (0, Ke.useEffect)((() => { u || g(3e4).then((e => d(e))) }), [u]), (0, Ke.useEffect)((() => { if (!h || !f) return t(uf.LANDING), void v(Error("User must be authenticated before creating a Privy wallet")) }), [h]), r.current = () => null, (0, y.jsx)(xP, { config: { initiatedBy: "automatic" }, appName: e?.name || "privy", loading: !u, buttonLoading: s, buttonHideAnimations: !x && s, isResettingPassword: !1, error: i, password: c || "", onClose: () => { x && "user-passcode" !== x?.recoveryMethod ? (v(new bs.z5("User created a wallet but failed to set a password for it")), p({ shouldCallAuthOnSuccess: !1 })) : x ? (b(x), p({ shouldCallAuthOnSuccess: w })) : (v(new bs.z5("User wallet creation failed")), p({ shouldCallAuthOnSuccess: !1 })) }, onPasswordChange: l, onPasswordGenerate: () => l(kN()), onSubmit: async () => (a(!0), C.execute().then((() => new Promise((e => setTimeout(e, 250))))).finally((() => a(!1)))) }) }, [uf.MFA_ENROLLMENT_FLOW_SCREEN]: () => { let { user: e, enrollInMfa: t } = (0, mf.b)(), [n, r] = (0, Ke.useState)(null), { unenrollWithSms: i, unenrollWithTotp: o, unenrollWithPasskey: s } = EG(), { app: a, ready: c, data: l, onUserCloseViaDialogOrKeybindRef: u } = pf(), { closePrivyModal: d } = (0, af.u)(), { promptMfa: h } = wG(), { initEnrollmentWithTotp: f } = EG(), [p, m] = (0, Ke.useState)(!1), [g, b] = (0, Ke.useState)(null), [v, w] = (0, Ke.useState)(null), E = () => { d({ shouldCallAuthOnSuccess: !0 }), t(!1), setTimeout((() => { r(null), b(null) }), 500) }, { initEnrollmentWithPasskey: x, submitEnrollmentWithPasskey: _ } = EG(), [C, A] = (0, Ke.useState)(!1), [S, k] = (0, Ke.useState)(null); u.current = E; let I = e?.mfaMethods.includes("sms"), T = !!e?.phone, N = e?.mfaMethods.includes("totp"), P = e?.mfaMethods.includes("passkey"), M = I || N || P, O = e?.linkedAccounts.filter((e => "passkey" === e.type)).map((e => e.credentialId)) ?? []; function R() { r(null), b(null) } if ((0, Ke.useEffect)((() => { M && m(!0) }), [M]), !c || !e || !a) return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: E }, "header"), (0, y.jsx)(Xp, { children: (0, y.jsx)(xG, {}) }), (0, y.jsx)(em, { children: (0, y.jsx)(Ef, {}) }), (0, y.jsx)(_p, {})] }); if ("sms" === n) return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { backFn: R, onClose: E }, "header"), (0, y.jsx)(fm, { style: { marginBottom: "1.5rem" }, children: (0, y.jsx)(vf, {}) }), (0, y.jsx)(Jp, { children: "Remove SMS verification?" }), (0, y.jsxs)(Qp, { children: ["MFA adds an extra layer of security to your ", a?.name, " account. Make sure you have other methods to secure your account."] }), (0, y.jsx)(im, { children: (0, y.jsx)(Sf, { warn: !0, onClick: async function () { r(null); try { await i() } catch (e) { r(null) } }, children: "Remove SMS for MFA" }) }), (0, y.jsx)(_p, {})] }); if ("totp" === n) return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { backFn: R, onClose: E }, "header"), (0, y.jsx)(fm, { style: { marginBottom: "1.5rem" }, children: (0, y.jsx)(vf, {}) }), (0, y.jsx)(Jp, { children: "Remove Authenticator App verification?" }), (0, y.jsxs)(Qp, { children: ["MFA adds an extra layer of security to your ", a?.name, " account. Make sure you have other methods to secure your account."] }), (0, y.jsx)(im, { children: (0, y.jsx)(Sf, { warn: !0, onClick: async function () { r(null); try { await o() } catch (e) { r(null) } }, children: "Remove Authenticator App for MFA" }) }), (0, y.jsx)(_p, {})] }); if ("passkey" === n) return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { backFn: R, onClose: E }, "header"), (0, y.jsx)(fm, { style: { marginBottom: "1.5rem" }, children: (0, y.jsx)(vf, {}) }), (0, y.jsx)(Jp, { children: "Are you sure you want to remove passkey verification?" }), (0, y.jsx)(Qp, { children: "This will disable any passkeys you have set up for verification. You\u2019ll still be able to login with your passkeys if you\u2019ve set up passkey login." }), (0, y.jsx)(im, { children: (0, y.jsx)(Sf, { warn: !0, onClick: async function () { r(null); try { await h(), await s() } catch (e) { r(null) } }, children: "Yes, remove" }) }), (0, y.jsx)(_p, {})] }); if (0 === l.mfaEnrollmentFlow.mfaMethods.length && !M) return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: E }, "header"), (0, y.jsx)(fm, { style: { marginBottom: "1.5rem" }, children: (0, y.jsx)(yG, {}) }), (0, y.jsx)(Jp, { children: "Add more security" }), (0, y.jsxs)(Qp, { children: [a?.name, " does not have any verification methods enabled."] }), (0, y.jsx)(im, { children: (0, y.jsx)(Sf, { onClick: E, children: "Close" }) }), (0, y.jsx)(_p, {})] }); let j = !M && !p; return j ? (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { onClose: E }, "header"), (0, y.jsx)(fm, { style: { marginBottom: "1.5rem" }, children: (0, y.jsx)(yG, {}) }), (0, y.jsx)(Jp, { children: "Transaction Protection" }), (0, y.jsx)(Qp, { children: "Set up transaction protection to add an extra layer of security to your account" }), (0, y.jsxs)(tm, { children: [(0, y.jsxs)(rm, { children: [(0, y.jsx)(nm, { children: (0, y.jsx)(NB, {}) }), "Enable 2-Step verification for your ", a?.name, " wallet."] }), (0, y.jsxs)(rm, { children: [(0, y.jsx)(nm, { children: (0, y.jsx)(vG, {}) }), "You'll be prompted to authenticate to complete transactions."] })] }), (0, y.jsxs)(im, { children: [(0, y.jsx)(Sf, { onClick: () => m(!0), children: "Continue" }), (0, y.jsx)(Pf, { onClick: E, children: "Not now" })] }), (0, y.jsx)(_p, {})] }) : "sms" === g ? (0, y.jsx)(XG, { onComplete: E, onReset: R, onClose: E }) : "totp" === g && v ? (0, y.jsx)(tV, { onComplete: E, onClose: E, onReset: R, totpInfo: v }) : "passkey" === g ? (0, y.jsx)(RG, { onComplete: E, onReset: R, onClose: E }) : (0, y.jsx)(NG, { showIntro: j, userMfaMethods: e.mfaMethods, appMfaMethods: a.mfa.methods, userHasAuthSms: T, onBackToIntro: function () { m(!1) }, handleSelectMethod: async function (e) { return await h().catch(k), "totp" === e ? (b(e), w(null), void f().then((e => { w(e) })).catch((() => { w(null), R() }))) : "passkey" === e && 1 === O.length ? await async function () { A(!0); try { await x(), await _({ credentialIds: O }) } catch (e) { k(e) } finally { A(!1) } }() : void b(e) }, isTotpLoading: "totp" === g && !v, isPasskeyLoading: C, error: S, onClose: E, setRemovingMfaMethod: r }) }, [uf.CAPTCHA_SCREEN]: () => { let { lastScreen: e, currentScreen: t, data: n, navigateBack: r, navigate: i, setModalData: o } = pf(), { status: s, token: a, waitForResult: c, reset: l, execute: u } = Xa(), d = (0, Ke.useRef)([]), h = e => { d.current = [e, ...d.current] }, [f, p] = (0, Ke.useState)(!0); (0, Ke.useEffect)((() => (h(setTimeout(p, 1e3, !1)), () => { d.current.forEach((e => clearTimeout(e))), d.current = [] })), []); let [m, g] = (0, Ke.useState)(""), [b, v] = (0, Ke.useState)("Checking that you are a human..."), [w, E] = (0, Ke.useState)((0, y.jsx)(Sf, { onClick: () => { }, disabled: !0, children: "Continue" })), [x, _] = (0, Ke.useState)(!1), [C, A] = (0, Ke.useState)(3), S = n?.captchaModalData, k = async t => { try { await (S?.callback(t)), S?.onSuccessNavigateTo && i(S?.onSuccessNavigateTo, !1) } catch (t) { if (t instanceof Ya) return; o({ errorModalData: { error: t, previousScreen: e || uf.LANDING } }), i(S?.onErrorNavigateTo || uf.ERROR_SCREEN, !1) } }; (0, Ke.useEffect)((() => { "success" === s ? h(setTimeout((async () => { let e = await c(); !e || S?.userIntentRequired || k(e) }), 1e3)) : "ready" === s && h(setTimeout((() => { "ready" === s && u() }), 500)) }), [s]), (0, Ke.useEffect)((() => { if (!f) switch (s) { case "success": g("Success!"), v("CAPTCHA passed successfully."), E((0, y.jsx)(Sf, { onClick: () => { _(!0), k(a) }, disabled: !S?.userIntentRequired, loading: x, children: S?.userIntentRequired ? "Continue" : "Continuing..." })); break; case "loading": g(""), v("Checking that you are a human..."), E((0, y.jsx)(Sf, { onClick: () => { }, disabled: !0, children: "Continue" })); break; case "error": g("Something went wrong"), C <= 0 ? (v("If you use an adblocker or VPN, try disabling and re-attempting."), E(null)) : (v("You did not pass CAPTCHA. Please try again."), E((0, y.jsx)(Sf, { onClick: I, children: "Retry" }))) } }), [s, f, x]); let I = async () => { if (C <= 0) return; A((e => e - 1)), l(), u(); let e = await c(); !e || S?.userIntentRequired || k(e) }; return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, { backFn: e && t !== e ? r : void 0 }), (0, y.jsxs)(cg, { children: ["success" === s ? (0, y.jsx)(rg, { fill: "var(--privy-color-success)", width: "64px", height: "64px" }) : "error" === s ? (0, y.jsx)(og, { fill: "var(--privy-color-error)", width: "64px", height: "64px" }) : (0, y.jsx)(sg, {}), (0, y.jsxs)(Mm, { children: [m ? (0, y.jsx)("h3", { children: m }) : null, (0, y.jsx)("p", { children: b })] }), w] }), (0, y.jsx)(_p, {})] }) }, [uf.ERROR_SCREEN]: () => { let { navigate: e, navigateBack: t, data: n, lastScreen: r, currentScreen: i } = pf(), o = n?.errorModalData?.previousScreen || (r === i ? void 0 : r); return (0, y.jsx)(kP, { error: n?.errorModalData?.error || Error(), backFn: () => o ? e(o, !1) : t(), onClick: () => e(o || uf.LANDING, !1) }) }, [uf.IN_APP_BROWSER_LOGIN_NOT_POSSIBLE]: () => { let { closePrivyModal: e } = (0, af.u)(); return (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, {}, "header"), (0, y.jsx)(XW, { children: (0, y.jsx)(Kp, { style: { width: 32, height: 32 } }) }), (0, y.jsx)(Fm, { title: "Could not log in with provider", description: "It looks like you're using an in-app browser.  To log in, please try again using an external browser.", style: { display: "flex", flexDirection: "column", alignItems: "center", justifyContent: "center", textAlign: "center" } }), (0, y.jsx)(Sm, { children: (0, y.jsx)(Sf, { onClick: () => e(), children: "Close" }) }), (0, y.jsx)(jm, {}), (0, y.jsx)(xp, {})] }) }, [uf.AFFIRMATIVE_CONSENT_SCREEN]: () => { let { user: e, logout: t } = (0, mf.b)(), { app: n, onUserCloseViaDialogOrKeybindRef: r, setModalData: i, navigate: o } = pf(), { acceptTerms: s, closePrivyModal: a, createAnalyticsEvent: c } = (0, af.u)(), l = e => { e?.preventDefault(), a({ shouldCallAuthOnSuccess: !1 }), t() }; return r.current = l, (0, y.jsx)(mm, { termsAndConditionsUrl: n?.legal.termsAndConditionsUrl, privacyPolicyUrl: n?.legal.privacyPolicyUrl, onAccept: async r => { r.preventDefault(), await s(), e && (0, fc.Cy)(e, n?.embeddedWallets?.createOnLogin) ? (i({ createWallet: { onSuccess: () => { }, onFailure: e => { console.error(e), c({ eventName: "embedded_wallet_creation_failure_logout", payload: { error: e, screen: "AffirmativeConsentScreen" } }), t() }, callAuthOnSuccessOnClose: !0 } }), o(uf.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN)) : a() }, onDecline: l }) }, [uf.TELEGRAM_AUTH_SCREEN]: () => { let { authenticated: e, logout: t, ready: n, user: r } = (0, mf.b)(), { app: i, setModalData: o, navigate: s, resetNavigation: a, data: c } = pf(), { initLoginWithTelegram: l, loginWithTelegram: u, updateWallets: d, setReadyToTrue: h, closePrivyModal: f, createAnalyticsEvent: p, getAuthMeta: m } = (0, af.u)(), [g, b] = (0, Ke.useState)(!1), [v, w] = (0, Ke.useState)(void 0), E = Xa(); async function x() { try { let e = await async function () { let e; if (E.enabled && "error" === E.status) throw new Ya(E.error, null, bs.sX.CAPTCHA_FAILURE); return E.enabled && "success" !== E.status && (E.execute(), e = await E.waitForResult()), e }(); await u(e), b(!0), h(!0) } catch (t0) { if (t0?.privyErrorCode === bs.sX.ALLOWLIST_REJECTED) return w(void 0), a(), void s(uf.ALLOWLIST_REJECTION_SCREEN); if (t0?.privyErrorCode === bs.sX.USER_LIMIT_REACHED) return console.error(new bs._J(t0).toString()), w(void 0), a(), void s(uf.USER_LIMIT_REACHED_SCREEN); if (t0?.privyErrorCode === bs.sX.USER_DOES_NOT_EXIST) return w(void 0), a(), void s(uf.ACCOUNT_NOT_FOUND_SCREEN); if (t0?.privyErrorCode === bs.sX.ACCOUNT_TRANSFER_REQUIRED && t0.data?.data?.nonce) return w(void 0), a(), o({ accountTransfer: { nonce: t0.data?.data?.nonce, account: t0.data?.data?.subject, telegramAuthResult: m()?.telegramAuthResult, displayName: t0.data?.data?.account?.displayName, linkMethod: "telegram", embeddedWalletAddress: t0.data?.data?.otherUser?.embeddedWalletAddress } }), void s(uf.LINK_CONFLICT_SCREEN); let { retryable: t, detail: n } = Qa(t0); w({ retryable: t, detail: n, message: "Authentication failed" }) } } (0, Ke.useEffect)((() => { x() }), []), (0, Ke.useEffect)((() => { if (!(n && e && g && r)) return; if (i?.legal.requireUsersAcceptTerms && !r.hasAcceptedTerms) { let e = setTimeout((() => { s(uf.AFFIRMATIVE_CONSENT_SCREEN) }), Hs); return () => clearTimeout(e) } if ((0, fc.Cy)(r, i?.embeddedWallets?.createOnLogin)) { let e = setTimeout((() => { o({ createWallet: { onSuccess: () => { }, onFailure: e => { console.error(e), p({ eventName: "embedded_wallet_creation_failure_logout", payload: { error: e, provider: "telegram", screen: "TelegramAuthScreen" } }), t() }, callAuthOnSuccessOnClose: !0 } }), s(uf.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN) }), Hs); return () => clearTimeout(e) } d(); let a = setTimeout((() => f({ shouldCallAuthOnSuccess: !0, isSuccess: !0 })), Hs); return () => clearTimeout(a) }), [n, e, g, r]); let _ = g ? "Successfully connected with Telegram" : v ? v.message : "Verifying connection to Telegram", C = ""; return C = g ? "You\u2019re good to go!" : v ? v.detail : "Just a few moments more", (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, {}), (0, y.jsx)(Rm, {}), (0, y.jsxs)(yX, { children: [(0, y.jsx)(ep, { children: (0, y.jsxs)("div", { children: [(0, y.jsx)(wf, { success: g, fail: !!v }), (0, y.jsx)(tG, { style: { width: "38px", height: "38px" } })] }) }), (0, y.jsxs)(Mm, { children: [(0, y.jsx)("h3", { children: _ }), (0, y.jsx)("p", { children: C })] }), v && v?.retryable ? (0, y.jsx)(Of, { onClick: async () => { try { w(void 0), c?.telegramAuthModalData?.seamlessAuth || await l(void 0, c?.login?.disableSignup), await x() } catch (t0) { let { retryable: t, detail: n } = Qa(t0); w({ retryable: t, detail: n, message: "Authentication failed" }) } }, disabled: !g && !v?.retryable, children: "Retry" }) : null] }), (0, y.jsx)(jm, {}), (0, y.jsx)(_p, {})] }) }, [uf.LINK_CONFLICT_SCREEN]: () => { let { initiateAccountTransfer: e, closePrivyModal: t } = (0, af.u)(), { data: n, navigate: r, lastScreen: i, setModalData: o } = pf(), [s, a] = (0, Ke.useState)(void 0), [c, l] = (0, Ke.useState)(!1), [u, d] = (0, Ke.useState)(!1), h = async () => { try { if (!n?.accountTransfer?.nonce || !n?.accountTransfer?.account) throw Error("missing account transfer inputs"); d(!0), await e({ nonce: n?.accountTransfer?.nonce, account: n?.accountTransfer?.account, accountType: n?.accountTransfer?.linkMethod, externalWalletMetadata: n?.accountTransfer?.externalWalletMetadata, telegramAuthResult: n?.accountTransfer?.telegramAuthResult, farcasterEmbeddedAddress: n?.accountTransfer?.farcasterEmbeddedAddress, oAuthUserInfo: n?.accountTransfer?.oAuthUserInfo }), l(!0), d(!1), setTimeout(t, 1e3) } catch (s) { o({ errorModalData: { error: s, previousScreen: i || uf.LINK_CONFLICT_SCREEN } }), r(uf.ERROR_SCREEN, !0) } }; return s ? (0, y.jsx)(qp, { address: s, onClose: t, onRetry: () => a(void 0), onTransfer: h, isTransferring: u, transferSuccess: c }) : (0, y.jsx)(Hp, { onClose: t, onInfo: () => a(n?.accountTransfer?.embeddedWalletAddress), onContinue: () => a(n?.accountTransfer?.embeddedWalletAddress), onTransfer: h, isTransferring: u, transferSuccess: c, data: n }) } }, xJ = [uf.LANDING, uf.AWAITING_CONNECTION], _J = ({ isMfaVerifying: e, onMfaVerificationComplete: t }) => { let { ready: n, isModalOpen: r } = (0, mf.b)(), { headless: i } = sf(), { ready: o, currentScreen: s } = pf(), { status: a, execute: c, reset: l, enabled: u } = Xa(), d = r && s && xJ.includes(s) && !i && "ready" === a; return (0, Ke.useEffect)((() => { d && c() }), [d]), (0, Ke.useEffect)((() => { !r && u && l() }), [r, u]), n && o || s === uf.AWAITING_OAUTH_SCREEN || s === uf.CROSS_APP_AUTH_SCREEN || s === uf.TELEGRAM_AUTH_SCREEN ? !s && e ? (0, y.jsx)(IY, { open: e, onClose: t }) : s ? (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(lp, { $if: !!e, children: (0, y.jsx)(EJ[s], {}) }), (0, y.jsx)(lp, { $if: !e, children: (0, y.jsx)(IY, { open: e, onClose: t }) })] }) : null : (0, y.jsxs)(y.Fragment, { children: [(0, y.jsx)(Vf, {}), (0, y.jsx)(Rm, {}), (0, y.jsx)(wJ, { children: (0, y.jsx)(Ef, {}) }), (0, y.jsx)(jm, {}), (0, y.jsx)(_p, {})] }) }, CJ = ({ isMfaVerifying: e, onMfaVerificationComplete: t }) => { let n = (0, Ke.useRef)(null); return (0, y.jsx)(kJ, { style: { height: gf(n) }, id: "privy-modal-content", children: (0, y.jsx)("div", { ref: n, children: (0, y.jsx)(_J, { isMfaVerifying: e, onMfaVerificationComplete: t }) }) }) }; const AJ = ({ open: e }) => { let { app: t } = pf(), { gracefulClosePrivyModal: n } = (() => { let { closePrivyModal: e } = (0, af.u)(), { onUserCloseViaDialogOrKeybindRef: t } = pf(); return { gracefulClosePrivyModal: (0, Ke.useCallback)((() => { if (!t?.current) return e({ shouldCallAuthOnSuccess: !1 }); t.current() }), [e]) } })(), [r, i] = (0, Ke.useState)(!1); !function (e) { (0, yf.Hc)("configureMfa", e) }({ onMfaRequired: () => { t?.mfa.noPromptOnMfaRequired || i(!0) } }); let o = e || r; return t.render.standalone ? (0, y.jsx)(SX, { children: (0, y.jsx)(SJ, { id: "privy-modal-content", children: (0, y.jsx)(_J, { isMfaVerifying: r, onMfaVerificationComplete: () => i(!1) }) }) }) : (0, y.jsx)(mJ, { open: o, id: "privy-dialog", "aria-label": "log in or sign up", "aria-labelledby": "privy-dialog-title", onClick: () => n(), children: (0, y.jsx)(SX, { children: (0, y.jsx)(CJ, { isMfaVerifying: r, onMfaVerificationComplete: () => i(!1) }) }) }) }; let SJ = oh.div.withConfig({ displayName: "ContentWrapper", componentId: "sc-475a2584-0" })(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]), kJ = oh(SJ).withConfig({ displayName: "BaseModal", componentId: "sc-475a2584-1" })(["transition:height 150ms ease-out;overflow:hidden;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]); function IJ(e) { let t = (0, Ke.useRef)(null), n = (0, Ke.useRef)(); return (0, Ke.useEffect)((() => { n.current?.remove(), n.current = function ({ botUsername: e, scriptHost: t }) { let n = document.createElement("script"), { origin: r } = new URL(t); return n.async = !0, n.src = `${r}/js/telegram-login.js`, n.setAttribute("data-telegram-login", e), n.setAttribute("data-request-access", "write"), n.setAttribute("data-lang", "en"), n }(e), t.current?.after(n.current) }), [e]), (0, y.jsx)("div", { ref: t, hidden: !0 }) } function TJ(e) { return "solana" === e.chainType } function NJ(e) { return "solana" === e.type } async function PJ(e, t, n, r, i, o = !1) { let s = o, a = async a => { if (s && t && t.length > 0) { a === (o ? 0 : 1) ? i("configureMfa", "onMfaRequired", t) : r.current?.reject(new DT("missing_or_invalid_mfa", "MFA verification failed, retry.")); let s = await new Promise(((e, t) => { n.current = { resolve: e, reject: t }, setTimeout((() => { let e = new DT("mfa_timeout", "Timed out waiting for MFA code"); r.current?.reject(e), t(e) }), 3e5) })); return await e(s) } return await e() }, c = null; for (let l = 0; l < 4; l++)try { c = await a(l), r.current?.resolve(void 0); break } catch (t0) { if ("missing_or_invalid_mfa" !== t0.type) throw r.current?.resolve(void 0), t0; s = !0 } if (null === c) { let e = new DT("mfa_verification_max_attempts_reached", "Max MFA verification attempts reached"); throw r.current?.reject(e), e } return c } var MJ; let OJ = (MJ = 0, () => "id-" + MJ++); function RJ(e) { return void 0 !== e.error } let jJ = new class { enqueue(e, t) { this.callbacks[e] = t } dequeue(e, t) { let n = this.callbacks[t]; if (!n) throw Error(`cannot dequeue ${e} event: no event found for id ${t}`); switch (delete this.callbacks[t], e) { case "privy:iframe:ready": case "privy:wallets:create": case "privy:wallets:add": case "privy:wallets:set-recovery": case "privy:wallets:connect": case "privy:wallets:recover": case "privy:wallets:rpc": case "privy:wallet:create": case "privy:wallet:import": case "privy:mfa:verify": case "privy:mfa:init-enrollment": case "privy:mfa:submit-enrollment": case "privy:mfa:unenroll": case "privy:mfa:clear": case "privy:farcaster:init-signer": case "privy:farcaster:sign": case "privy:solana-wallet:create": case "privy:delegated-actions:consent": return n; default: throw Error(`invalid wallet event type ${e}`) } } constructor() { this.callbacks = {} } }, $J = new Map, LJ = (e, t) => "bigint" == typeof t ? t.toString() : t; function DJ(e, t, n, r) { let i = n.contentWindow; if (!i) throw Error("iframe not initialized"); let o = ((e, t) => `${e}${JSON.stringify(t, LJ)}`)(e, t); if ("privy:wallet:create" === e) { let e = $J.get(o); if (e) return e } let s = new Promise(((n, o) => { let s = OJ(); jJ.enqueue(s, { resolve: n, reject: o }), i.postMessage({ id: s, event: e, data: t }, r) })).finally((() => { $J.delete(o) })); return $J.set(o, s), s } function UJ(e) { let t = (0, Ke.useRef)(null), n = (0, Ke.useRef)(e.mfaMethods), r = (0, yf.rN)(), [i, o] = (0, Ke.useState)(!1); return (0, Ke.useEffect)((() => { n.current = e.mfaMethods }), [e.mfaMethods]), (0, Ke.useEffect)((() => { if (!i) return; let o = t.current; if (!o) return; function s(t) { var n; t && t.origin === e.origin && "string" == typeof (n = t.data).event && /^privy:.+/.test(n.event) && function (e) { switch (e.event) { case "privy:iframe:ready": let t = jJ.dequeue(e.event, e.id); return RJ(e) ? t.reject(new DT(e.error.type, e.error.message)) : t.resolve(e.data); case "privy:wallets:create": { let t = jJ.dequeue(e.event, e.id); return RJ(e) ? t.reject(new DT(e.error.type, e.error.message)) : t.resolve(e.data) } case "privy:wallets:add": { let t = jJ.dequeue(e.event, e.id); return RJ(e) ? t.reject(new DT(e.error.type, e.error.message)) : t.resolve(e.data) } case "privy:wallets:set-recovery": { let t = jJ.dequeue(e.event, e.id); return RJ(e) ? t.reject(new DT(e.error.type, e.error.message)) : t.resolve(e.data) } case "privy:wallets:connect": { let t = jJ.dequeue(e.event, e.id); return RJ(e) ? t.reject(new DT(e.error.type, e.error.message)) : t.resolve(e.data) } case "privy:wallets:recover": { let t = jJ.dequeue(e.event, e.id); return RJ(e) ? t.reject(new DT(e.error.type, e.error.message)) : t.resolve(e.data) } case "privy:wallets:rpc": { let t = jJ.dequeue(e.event, e.id); return RJ(e) ? t.reject(new DT(e.error.type, e.error.message)) : t.resolve(e.data) } case "privy:wallet:create": let n = jJ.dequeue(e.event, e.id); return RJ(e) ? n.reject(new DT(e.error.type, e.error.message)) : n.resolve(e.data); case "privy:wallet:import": let r = jJ.dequeue(e.event, e.id); return RJ(e) ? r.reject(new DT(e.error.type, e.error.message)) : r.resolve(e.data); case "privy:mfa:verify": let i = jJ.dequeue(e.event, e.id); return RJ(e) ? i.reject(new DT(e.error.type, e.error.message)) : i.resolve(e.data); case "privy:mfa:init-enrollment": { let t = jJ.dequeue(e.event, e.id); return RJ(e) ? t.reject(new DT(e.error.type, e.error.message)) : t.resolve(e.data) } case "privy:mfa:submit-enrollment": { let t = jJ.dequeue(e.event, e.id); return RJ(e) ? t.reject(new DT(e.error.type, e.error.message)) : t.resolve(e.data) } case "privy:mfa:unenroll": { let t = jJ.dequeue(e.event, e.id); return RJ(e) ? t.reject(new DT(e.error.type, e.error.message)) : t.resolve(e.data) } case "privy:mfa:clear": { let t = jJ.dequeue(e.event, e.id); return RJ(e) ? t.reject(new DT(e.error.type, e.error.message)) : t.resolve(e.data) } case "privy:solana-wallet:create": let o = jJ.dequeue(e.event, e.id); return RJ(e) ? o.reject(new DT(e.error.type, e.error.message)) : o.resolve(e.data); case "privy:farcaster:init-signer": { let t = jJ.dequeue(e.event, e.id); return RJ(e) ? t.reject(new DT(e.error.type, e.error.message)) : t.resolve(e.data) } case "privy:farcaster:sign": { let t = jJ.dequeue(e.event, e.id); return RJ(e) ? t.reject(new DT(e.error.type, e.error.message)) : t.resolve(e.data) } case "privy:delegated-actions:consent": { let t = jJ.dequeue(e.event, e.id); return RJ(e) ? t.reject(new DT(e.error.type, e.error.message)) : t.resolve(e.data) } default: console.warn("Unsupported wallet proxy method:", e) } }(t.data) } let a = { createWallet: t => PJ((n => DJ("privy:wallets:create", { ...t, ...n }, o, e.origin)), n.current, e.mfaPromise, e.mfaSubmitPromise, r), addWallet: t => DJ("privy:wallets:add", t, o, e.origin), setRecovery: t => PJ((n => DJ("privy:wallets:set-recovery", { ...t, ...n }, o, e.origin)), n.current, e.mfaPromise, e.mfaSubmitPromise, r), connect: t => PJ((n => DJ("privy:wallets:connect", { ...t, ...n }, o, e.origin)), n.current, e.mfaPromise, e.mfaSubmitPromise, r), recover: t => PJ((n => DJ("privy:wallets:recover", { ...t, ...n }, o, e.origin)), n.current, e.mfaPromise, e.mfaSubmitPromise, r, !t.recoveryAccessToken && !t.recoveryPassword && !t.recoverySecretOverride), rpc: t => PJ((n => DJ("privy:wallets:rpc", { ...t, ...n }, o, e.origin)), n.current, e.mfaPromise, e.mfaSubmitPromise, r), create: t => DJ("privy:wallet:create", t, o, e.origin), import: t => DJ("privy:wallet:import", t, o, e.origin), createSolana: t => PJ((n => DJ("privy:solana-wallet:create", { ...t, ...n }, o, e.origin)), n.current, e.mfaPromise, e.mfaSubmitPromise, r), createDelegatedAction: t => DJ("privy:delegated-actions:consent", t, o, e.origin), verifyMfa: t => PJ((n => DJ("privy:mfa:verify", { ...t, ...n }, o, e.origin)), n.current, e.mfaPromise, e.mfaSubmitPromise, r, !0), initEnrollMfa: t => PJ((n => DJ("privy:mfa:init-enrollment", { ...t, ...n }, o, e.origin)), n.current, e.mfaPromise, e.mfaSubmitPromise, r), submitEnrollMfa: t => PJ((n => DJ("privy:mfa:submit-enrollment", { ...t, ...n }, o, e.origin)), n.current, e.mfaPromise, e.mfaSubmitPromise, r), unenrollMfa: t => PJ((n => DJ("privy:mfa:unenroll", { ...t, ...n }, o, e.origin)), n.current, e.mfaPromise, e.mfaSubmitPromise, r, !0), clearMfa: t => DJ("privy:mfa:clear", t, o, e.origin), initFarcasterSigner: t => DJ("privy:farcaster:init-signer", t, o, e.origin), signFarcasterMessage: t => DJ("privy:farcaster:sign", t, o, e.origin) }; window.addEventListener("message", s); let c = new AbortController; return Da((() => DJ("privy:iframe:ready", {}, o, e.origin)), { abortSignal: c.signal }).then((() => e.onLoad(a)), ((...t) => { console.warn("Privy iframe failed to load: ", ...t), e.onLoadFailed() })), () => { window.removeEventListener("message", s), c.abort() } }), [i]), (0, y.jsx)("iframe", { ref: t, width: "0", height: "0", style: { display: "none", height: "0px", width: "0px" }, onLoad: () => o(!0), src: Ua(e.origin, `/apps/${e.appId}/embedded-wallets`, { caid: e.clientAnalyticsId, client_id: e.appClientId }) }) } const FJ = e => e.linkedAccounts.filter((e => "wallet" === e.type && "privy" === e.walletClientType && e.delegated)); function BJ(e) { let t = new RegExp(RegExp("^eip155:(?<chainId>\\d+)$", "gm")).exec(e)?.groups?.chainId; if (t) return parseInt(t); throw Error("Chain ID not compatible with CAIP-2 format.") } const WJ = "popup-privy-oauth", zJ = "PRIVY_OAUTH_USE_BROADCAST_CHANNEL"; class qJ { async authenticate() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); try { return await this.api.post(_s, { authorization_code: this.meta.authorizationCode, state_code: this.meta.stateCode, code_verifier: this.meta.codeVerifier, provider: this.meta.provider }) } catch (e) { throw (0, bs.wh)(e) } } async link() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); try { return await this.api.post(Cs, { authorization_code: this.meta.authorizationCode, state_code: this.meta.stateCode, code_verifier: this.meta.codeVerifier, provider: this.meta.provider }) } catch (e) { throw (0, bs.wh)(e) } } constructor({ authorizationCode: e, stateCode: t, codeVerifier: n, provider: r }) { this.meta = { authorizationCode: e, stateCode: t, codeVerifier: n, provider: r } } } async function HJ({ api: e, requesterAppId: t, providerAppId: n }) { let r = (await e.get(`/api/v1/apps/${t}/cross-app/connections`)).connections.find((e => e.provider_app_id === n)); if (!r) throw new bs.dx("Invalid connected app"); return { name: r.provider_app_name, logoUrl: r.provider_app_icon_url || void 0, apiUrl: r.provider_app_custom_api_url, readOnly: r.read_only } } const GJ = async ({ user: e, address: t, client: n, request: r, requesterAppId: i, reconnect: o }) => { n.createAnalyticsEvent({ eventName: "cross_app_request_started", payload: { address: t, method: r.method } }); let s = e?.linkedAccounts.find((e => "cross_app" === e.type && (e.embeddedWallets.some((e => e.address === t)) || e.smartWallets.some((e => e.address === t))))); if (!e || !s) throw n.createAnalyticsEvent({ eventName: "cross_app_request_error", payload: { error: "Cannot request a signature with this wallet address", address: t } }), new bs.dx("Cannot request a signature with this wallet address"); let a = n.getProviderAccessToken(s.providerApp.id), c = await HJ({ api: n.api, requesterAppId: i, providerAppId: s.providerApp.id }); if (!a) { if (c.readOnly) throw console.error("cannot transact against a read-only provider app"), new bs.dx("Cannot transact against a read-only provider app"); await o({ appId: s.providerApp.id, action: "link" }) && (a = n.getProviderAccessToken(s.providerApp.id)) } if (!a) throw n.createAnalyticsEvent({ eventName: "cross_app_request_error", payload: { error: "Transactions require a valid token", address: t } }), new bs.dx("Transactions require a valid token"); let l = fW(); if (!l) throw n.createAnalyticsEvent({ eventName: "cross_app_request_error", payload: { error: "Missing token", address: t } }), new bs.dx("Failed to initialize signature request"); let u = new URL(`${c.apiUrl}/oauth/transact`); return u.searchParams.set("token", a || ""), u.searchParams.set("request", VJ(r)), l.location = u.href, new Promise(((e, i) => { let o = setTimeout((() => { u(), i(new bs.dx("Request timeout")), n.createAnalyticsEvent({ eventName: "cross_app_request_error", payload: { error: "Request timeout", address: t } }) }), 12e4), a = setInterval((() => { l.closed && (u(), i(new bs.dx("User rejected request")), n.createAnalyticsEvent({ eventName: "cross_app_request_error", payload: { error: "User rejected request", address: t } })) }), 300), c = o => { o.data && ("set" === o.data.token?.action && void 0 !== o.data.token?.value ? n.storeProviderAccessToken(s.providerApp.id, o.data.token.value) : "clear" === o.data.token?.action && n.storeProviderAccessToken(s.providerApp.id, null), "PRIVY_CROSS_APP_ACTION_RESPONSE" === o.data.type && o.data.result && (u(), e(o.data.result), n.createAnalyticsEvent({ eventName: "cross_app_request_success", payload: { address: t, method: r.method } })), "PRIVY_CROSS_APP_ACTION_ERROR" === o.data.type && o.data.error && (u(), i(o.data.error), n.createAnalyticsEvent({ eventName: "cross_app_request_error", payload: { error: o.data.error, address: t } }))) }; window.addEventListener("message", c); let u = () => { l.close(), clearInterval(a), clearTimeout(o), window.removeEventListener("message", c) } })) }; let VJ = e => JSON.stringify({ content: { request: { request: KJ(e, Mt.NC) } }, timestamp: Date.now(), callbackUrl: window.origin }); const KJ = (e, t) => "bigint" == typeof e ? t(e) : Array.isArray(e) ? e.map((e => KJ(e, t))) : e && "object" == typeof e ? Object.fromEntries(Object.entries(e).map((([e, n]) => [e, KJ(n, t)]))) : e, YJ = [uf.FUNDING_METHOD_SELECTION_SCREEN, uf.FUNDING_TRANSFER_FROM_WALLET_SCREEN, uf.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_WALLET_SCREEN, uf.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_SOLANA_WALLET_SCREEN, uf.FUNDING_AWAITING_EVM_TO_SOL_BRIDGING_SCREEN, uf.FUNDING_AWAITING_SOL_TO_EVM_BRIDGING_SCREEN, uf.FUNDING_MANUAL_TRANSFER_SCREEN, uf.MOONPAY_STATUS_SCREEN], ZJ = { [uf.FUNDING_METHOD_SELECTION_SCREEN]: null, [uf.FUNDING_TRANSFER_FROM_WALLET_SCREEN]: "external", [uf.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_WALLET_SCREEN]: "external", [uf.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_SOLANA_WALLET_SCREEN]: "external", [uf.FUNDING_AWAITING_EVM_TO_SOL_BRIDGING_SCREEN]: "external", [uf.FUNDING_AWAITING_SOL_TO_EVM_BRIDGING_SCREEN]: "external", [uf.FUNDING_MANUAL_TRANSFER_SCREEN]: "manual", [uf.MOONPAY_STATUS_SCREEN]: "moonpay" }, XJ = e => e.filter((e => "wallets" === e.method || ("exchange" === e.method ? "coinbase" === e.provider : "card" === e.method || "payment-request" === e.method ? "coinbase" === e.provider || "moonpay" === e.provider : (e.method, !1)))); async function JJ({ url: e, popup: t, provider: n }) { return t.location = e, new Promise(((e, n) => { function r() { t?.close(), window.removeEventListener("message", i) } function i(t) { t.data && ("PRIVY_OAUTH_RESPONSE" === t.data.type && t.data.stateCode && t.data.authorizationCode && (e(t.data), r()), "https://cdn.apple-cloudkit.com" === t.origin && t.data.ckSession && (e({ type: "PRIVY_OAUTH_RESPONSE", ckWebAuthToken: t.data.ckSession }), r()), "PRIVY_OAUTH_ERROR" === t.data.type && (n(t.data.error), r())) } window.addEventListener("message", i) })) } const QJ = { [Ac.id]: "0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48", [Nc.id]: "0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238", [Sc.id]: "0x0b2c639c533813f4aa9d7837caf62653d097ff85", [kc.id]: "0x5fd84259d66Cd46123540766Be93DFE6D43130D7", [Ic.id]: "0x3c499c542cef5e3811e1192ce70d8cc03d5c3359", [Tc.id]: "0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582", [Ec.id]: "0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913", [xc.id]: "0x036CbD53842c5426634e7929541eC2318f3dCF7e", [vc.id]: "0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E", [wc.id]: "0x5425890298aed601595a70ab815c96711a31bc65", [yc.id]: "0xaf88d065e77c8cC2239327C5EDb3A432268e5831", [bc.id]: "0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d" }, eQ = ({ address: e, appConfig: t, fundWalletConfig: n, methodScreen: r, chainIdOverride: i, comingFromSendTransactionScreen: o = !1 }) => { let s, a; if (!t.fundingConfig) throw Error("Wallet funding is not enabled"); let c = XJ(t.fundingConfig.options); if (c.length < 1) throw Error("Wallet funding is not enabled"); s = i || (NW(n) && n.chain ? n.chain.id : BJ(t.fundingConfig.defaultRecommendedCurrency.chain)); let l = t.chains.find((e => e.id === s)); if (!l) throw new bs.dx(`Funding chain ${s} is not in PrivyProvider chains list`); let u = NW(n) && n.amount ? n.amount : t.fundingConfig.defaultRecommendedAmount, d = !1; function h() { if (!s) return; let e = QJ[s]; c.find((e => "wallets" === e.method)) && !e && console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."), a = e, d = !0 } NW(n) && "asset" in n ? "USDC" === n.asset ? h() : "string" != typeof n.asset && "erc20" in n.asset && (d = ((e, t) => e === QJ[t.id])(a = n.asset.erc20, l)) : "USDC" === t.fundingConfig.defaultRecommendedCurrency.asset && h(); let f = n?.defaultFundingMethod; return { chainType: "ethereum", address: e, amount: u, chain: l, erc20Address: a, erc20ContractInfo: d ? { symbol: "USDC", decimals: 6 } : void 0, isUSDC: d, methodScreen: r, supportedOptions: c, comingFromSendTransactionScreen: o, defaultFundingMethod: f, usingDefaultFundingMethod: !!f, preferredCardProvider: n?.card?.preferredProvider, crossChainBridgingEnabled: t.fundingConfig.crossChainBridgingEnabled ?? !1, cluster: { name: "mainnet-beta", rpcUrl: t.solanaClusters["mainnet-beta"] }, ...TW(n) ? { moonpayConfigOverride: n.config } : {} } }; function tQ({ address: e, fundWalletConfig: t, appConfig: n, comingFromSendTransactionScreen: r, methodScreen: i }) { if (!n.fundingConfig) throw Error("Wallet funding is not enabled"); let o = XJ(n.fundingConfig.options); if (o.length < 1) throw Error("Wallet funding is not enabled"); let s = t?.amount ?? n.fundingConfig.defaultRecommendedAmount, a = t?.defaultFundingMethod; return { chainType: "solana", address: e, supportedOptions: o, amount: s, isUSDC: !1, methodScreen: i, comingFromSendTransactionScreen: r, cluster: t?.cluster ?? { name: "mainnet-beta", rpcUrl: n.solanaClusters["mainnet-beta"] }, crossChainBridgingEnabled: n.fundingConfig.crossChainBridgingEnabled ?? !1, defaultFundingMethod: a, preferredCardProvider: t?.card?.preferredProvider, usingDefaultFundingMethod: !!a } } class nQ { addCaptchaToken(e) { this.meta.captchaToken = e } isActive() { return !!(this.meta.authorizationCode && this.meta.stateCode && this.meta.provider) } async authenticate() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); if (!this.meta.authorizationCode || !this.meta.stateCode) throw new bs.dx("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate."); if ("undefined" === this.meta.authorizationCode) throw new bs.dx("User denied confirmation during OAuth flow"); let e = function () { let e = ya.get(sa); if (!e) throw new bs.dx("Authentication error."); return e }(); try { let t = await this.api.post(_s, { authorization_code: this.meta.authorizationCode, state_code: this.meta.stateCode, code_verifier: e, mode: this.meta.disableSignup ? "no-signup" : "login-or-sign-up" }); return ya.del(sa), ya.del(aa), ya.del(ca), t } catch (t) { let e = (0, bs.wh)(t); if (e.privyErrorCode) throw new bs.dx(e.message || "Invalid code during OAuth flow.", void 0, e.privyErrorCode); if ("User denied confirmation during OAuth flow" === e.message) throw new bs.dx("Invalid code during oauth flow.", void 0, bs.sX.OAUTH_USER_DENIED); throw new bs.dx("Invalid code during OAuth flow.", void 0, bs.sX.UNKNOWN_AUTH_ERROR) } } async link() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); if (!this.meta.authorizationCode || !this.meta.stateCode) throw new bs.dx("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link."); if ("undefined" === this.meta.authorizationCode) throw new bs.dx("User denied confirmation during OAuth flow"); let e = ya.get(sa); if (!e) throw new bs.dx("Authentication error."); try { let t = await this.api.post(Cs, { authorization_code: this.meta.authorizationCode, state_code: this.meta.stateCode, code_verifier: e }); return ya.del(sa), t } catch (t) { throw (0, bs.wh)(t) } } async getAuthorizationUrl() { if (!this.api) throw new bs.dx("Auth flow has no API instance"); if (!this.meta.provider) throw new bs.dx("Provider must be set when initializing OAuth authentication."); let e = HT(); ya.put(sa, e); let t = GT(); ya.put(oa, t); let n = await VT(e); this.meta.withPrivyUi || ya.put(aa, !0), this.meta.disableSignup && ya.put(ca, !0); let r = ks(this.meta.withPrivyUi); try { return await this.api.post(xs, { provider: this.meta.provider, redirect_to: window.location.href, token: this.meta.captchaToken, code_challenge: n, state_code: t }, { headers: { ...r } }) } catch (i) { throw (0, bs.wh)(i) } } constructor(e) { this.meta = e } } class rQ extends Error { constructor(e, t, n) { super(e), this.code = t, this.data = n } } function iQ(e, t) { if (!Object.prototype.hasOwnProperty.call(e, t)) throw TypeError("attempted to use private field on non-instance"); return e } var oQ = 0; class sQ extends el { async initialize() { await this.syncAccounts(), this.initialized = !0, this.emit("initialized") } async connect(e) { return e.showPrompt && await this.promptConnection(), await this.isConnected() ? this.getConnectedWallet() : null } get walletBranding() { return { name: this.providerDetail.info.name, icon: this.providerDetail.info.icon, id: this.providerDetail.info.rdns } } disconnect() { console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`) } async promptConnection() { try { let e = await this.proxyProvider.request({ method: "eth_requestAccounts" }); if (!e || 0 === e.length || !e[0]) throw new bs.M9("Unable to retrieve accounts"); await this.syncAccounts([e[0]]) } catch (e) { throw Wc(e) } } constructor(e, t, n, r, i) { super(i || "unknown", e, t, n), this.connectorType = "injected", this.proxyProvider = new Zc(void 0, this.rpcTimeoutDuration), this.subscribeListeners(), this.providerDetail = r; let o = r.provider; this.proxyProvider.setWalletProvider(o) } } var aQ = "__private_" + oQ++ + "__walletBranding"; class cQ extends el { async initialize() { await this.syncAccounts(), this.initialized = !0, this.emit("initialized") } async connect(e) { return e.showPrompt && await this.promptConnection(), await this.isConnected() ? this.getConnectedWallet() : null } get walletBranding() { return iQ(this, aQ)[aQ] ?? { name: "Browser Extension", icon: Dg, id: "extension" } } disconnect() { console.warn("Programmatic disconnect with browser wallets is not yet supported.") } async promptConnection() { try { let e = await this.proxyProvider.request({ method: "eth_requestAccounts" }); if (!e || 0 === e.length || !e[0]) throw new bs.M9("Unable to retrieve accounts"); await this.syncAccounts([e[0]]) } catch (e) { throw Wc(e) } } constructor(e, t, n, r, i) { super(i ?? "unknown", e, t, n), Object.defineProperty(this, aQ, { writable: !0, value: void 0 }), this.connectorType = "injected", this.proxyProvider = new Zc(void 0, this.rpcTimeoutDuration), this.subscribeListeners(), this.proxyProvider.setWalletProvider(r), "metamask" === i ? iQ(this, aQ)[aQ] = { name: "MetaMask", icon: mg, id: "io.metamask" } : "phantom" === i && (iQ(this, aQ)[aQ] = { name: "Phantom", icon: gg, id: "phantom" }) } } class lQ extends sQ { disconnect() { console.warn("MetaMask does not support programmatic disconnect.") } async promptConnection() { try { ys.tq || await this.proxyProvider.request({ method: "wallet_requestPermissions", params: [{ eth_accounts: {} }] }); let e = await this.proxyProvider.request({ method: "eth_requestAccounts" }); if (!e || 0 === e.length || !e[0]) throw new bs.M9("Unable to retrieve accounts"); await this.syncAccounts([e[0]]) } catch (e) { throw Wc(e) } } } class uQ extends el { get walletBranding() { return { name: "Wallet", id: "" } } async initialize() { this.initialized = !0, this.emit("initialized") } async connect() { throw Error("connect called for an uninstalled wallet via the NullConnector") } disconnect() { throw Error("disconnect called for an uninstalled wallet via the NullConnector") } promptConnection(e) { throw Error(`promptConnection called for an uninstalled wallet via the NullConnector for ${e}`) } constructor(e, t) { super(e, [], t, {}), this.connectorType = "null", this.proxyProvider = new Zc(void 0, ha), this.connectorType = e } } class dQ extends uQ { get walletBranding() { return { name: "Phantom", icon: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMDgnIGhlaWdodD0nMTA4JyB2aWV3Qm94PScwIDAgMTA4IDEwOCcgZmlsbD0nbm9uZScgc3R5bGU9J2hlaWdodDoyOHB4O3dpZHRoOjI4cHgnPjxyZWN0IHdpZHRoPScxMDgnIGhlaWdodD0nMTA4JyByeD0nMjMnIGZpbGw9JyNBQjlGRjInPjwvcmVjdD48cGF0aCBmaWxsLXJ1bGU9J2V2ZW5vZGQnIGNsaXAtcnVsZT0nZXZlbm9kZCcgZD0nTTQ2LjUyNjcgNjkuOTIyOUM0Mi4wMDU0IDc2Ljg1MDkgMzQuNDI5MiA4NS42MTgyIDI0LjM0OCA4NS42MTgyQzE5LjU4MjQgODUuNjE4MiAxNSA4My42NTYzIDE1IDc1LjEzNDJDMTUgNTMuNDMwNSA0NC42MzI2IDE5LjgzMjcgNzIuMTI2OCAxOS44MzI3Qzg3Ljc2OCAxOS44MzI3IDk0IDMwLjY4NDYgOTQgNDMuMDA3OUM5NCA1OC44MjU4IDgzLjczNTUgNzYuOTEyMiA3My41MzIxIDc2LjkxMjJDNzAuMjkzOSA3Ni45MTIyIDY4LjcwNTMgNzUuMTM0MiA2OC43MDUzIDcyLjMxNEM2OC43MDUzIDcxLjU3ODMgNjguODI3NSA3MC43ODEyIDY5LjA3MTkgNjkuOTIyOUM2NS41ODkzIDc1Ljg2OTkgNTguODY4NSA4MS4zODc4IDUyLjU3NTQgODEuMzg3OEM0Ny45OTMgODEuMzg3OCA0NS42NzEzIDc4LjUwNjMgNDUuNjcxMyA3NC40NTk4QzQ1LjY3MTMgNzIuOTg4NCA0NS45NzY4IDcxLjQ1NTYgNDYuNTI2NyA2OS45MjI5Wk04My42NzYxIDQyLjU3OTRDODMuNjc2MSA0Ni4xNzA0IDgxLjU1NzUgNDcuOTY1OCA3OS4xODc1IDQ3Ljk2NThDNzYuNzgxNiA0Ny45NjU4IDc0LjY5ODkgNDYuMTcwNCA3NC42OTg5IDQyLjU3OTRDNzQuNjk4OSAzOC45ODg1IDc2Ljc4MTYgMzcuMTkzMSA3OS4xODc1IDM3LjE5MzFDODEuNTU3NSAzNy4xOTMxIDgzLjY3NjEgMzguOTg4NSA4My42NzYxIDQyLjU3OTRaTTcwLjIxMDMgNDIuNTc5NUM3MC4yMTAzIDQ2LjE3MDQgNjguMDkxNiA0Ny45NjU4IDY1LjcyMTYgNDcuOTY1OEM2My4zMTU3IDQ3Ljk2NTggNjEuMjMzIDQ2LjE3MDQgNjEuMjMzIDQyLjU3OTVDNjEuMjMzIDM4Ljk4ODUgNjMuMzE1NyAzNy4xOTMxIDY1LjcyMTYgMzcuMTkzMUM2OC4wOTE2IDM3LjE5MzEgNzAuMjEwMyAzOC45ODg1IDcwLjIxMDMgNDIuNTc5NVonIGZpbGw9JyNGRkZERjgnPjwvcGF0aD48L3N2Zz4=", id: "phantom" } } constructor(e) { super("phantom", e) } } let hQ = [vs, Es, ws, As]; class fQ { async get(e, t) { try { return await this.baseFetch(e, t) } catch (e) { throw (0, bs.wh)(e) } } async post(e, t, n) { try { return await this.baseFetch(e, { method: "POST", ...t ? { body: t } : {}, ...n }) } catch (e) { throw (0, bs.wh)(e) } } async delete(e, t) { try { return await this.baseFetch(e, { method: "DELETE", ...t }) } catch (e) { throw (0, bs.wh)(e) } } constructor({ appId: e, appClientId: t, client: n, defaults: r }) { this.appId = e, this.appClientId = t, this.clientAnalyticsId = n.clientAnalyticsId, this.sdkVersion = "1.96.2", this.client = n, this.defaults = r, this.fallbackApiUrl = n.fallbackApiUrl, this.baseFetch = CW.create({ baseURL: this.defaults.baseURL, timeout: this.defaults.timeout, retry: 3, retryDelay: 500, retryStatusCodes: [408, 409, 425, 500, 502, 503, 504], credentials: "include", onRequest: async ({ request: e, options: t }) => { let n = new Headers(t.headers); n.set("privy-app-id", this.appId), this.appClientId && n.set("privy-client-id", this.appClientId), n.set("privy-ca-id", this.clientAnalyticsId || ""), n.set("privy-client", `react-auth:${this.sdkVersion}`); let r = hQ.includes(e.toString()); if (!n.has("authorization")) { let e = await this.client.getAccessToken({ disableAutoRefresh: r }); null !== e && n.set("authorization", `Bearer ${e}`) } t.headers = n, t.retryDelay && (t.retryDelay = 3 * t.retryDelay) }, onRequestError: ({ error: e }) => { if (e instanceof DOMException && "AbortError" === e.name) throw new bs.rT } }) } } let pQ = /paymaster\.biconomy\.io\/api/i, mQ = { mode: "SPONSORED", calculateGasLimits: !0, expiryDuration: 300, sponsorshipInfo: { webhookData: {}, smartAccountInfo: { name: "BICONOMY", version: "2.0.0" } } }; const gQ = (e, t) => e && pQ.test(e) ? mQ : t && t.policy_id ? { policyId: t.policy_id } : void 0; function yQ(e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) e[r] = n[r] } return e } var bQ = function e(t, n) { function r(e, r, i) { if ("undefined" !== typeof document) { "number" === typeof (i = yQ({}, n, i)).expires && (i.expires = new Date(Date.now() + 864e5 * i.expires)), i.expires && (i.expires = i.expires.toUTCString()), e = encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent).replace(/[()]/g, escape); var o = ""; for (var s in i) i[s] && (o += "; " + s, !0 !== i[s] && (o += "=" + i[s].split(";")[0])); return document.cookie = e + "=" + t.write(r, e) + o } } return Object.create({ set: r, get: function (e) { if ("undefined" !== typeof document && (!arguments.length || e)) { for (var n = document.cookie ? document.cookie.split("; ") : [], r = {}, i = 0; i < n.length; i++) { var o = n[i].split("="), s = o.slice(1).join("="); try { var a = decodeURIComponent(o[0]); if (r[a] = t.read(s, a), e === a) break } catch (t0) { } } return e ? r[e] : r } }, remove: function (e, t) { r(e, "", yQ({}, t, { expires: -1 })) }, withAttributes: function (t) { return e(this.converter, yQ({}, this.attributes, t)) }, withConverter: function (t) { return e(yQ({}, this.converter, t), this.attributes) } }, { attributes: { value: Object.freeze(n) }, converter: { value: Object.freeze(t) } }) }({ read: function (e) { return '"' === e[0] && (e = e.slice(1, -1)), e.replace(/(%[\dA-F]{2})+/gi, decodeURIComponent) }, write: function (e) { return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g, decodeURIComponent) } }, { path: "/" }); function vQ() { return !(ys.G6 && window.location.origin.startsWith("http://localhost")) } var wQ, EQ = ((wQ = {}).PRIVY = "privy_access_token", wQ.CUSTOMER = "customer_access_token", wQ); class xQ { get token() { return this.privyAccessToken || this.customerAccessToken } getToken(e) { return "privy_access_token" === e ? this.privyAccessToken : this.customerAccessToken } get customerAccessToken() { return this._getToken(Ks) } get privyAccessToken() { return this._getToken(Xs) } _getToken(e) { try { let t = ya.get(e); return "string" == typeof t ? dc.throwIfNotWellFormedJwt(t) : null } catch (e) { return console.error(e), this.destroyLocalState(), null } } get refreshToken() { try { let e = ya.get(Zs); return "string" == typeof e ? e : null } catch (t0) { return console.error(t0), this.destroyLocalState(), null } } get forkedToken() { try { let e = ya.get(ta); return "string" == typeof e ? e : null } catch (t0) { return console.error(t0), this.destroyLocalState(), null } } getProviderAccessToken(e) { try { let t = ya.get(ia(e)); if ("string" != typeof t) return null; { let n = new dc(t); return n.isExpired() ? (ya.del(ia(e)), null) : n.value } } catch (e) { return console.error(e), null } } get mightHaveServerCookies() { try { let e = bQ.get(ea); return void 0 !== e && e.length > 0 } catch (t0) { console.error(t0) } return !1 } hasRefreshCredentials(e = "privy_access_token") { let t = "string" == typeof this.getToken(e), n = "string" == typeof this.refreshToken && "deprecated" !== this.refreshToken; return this.mightHaveServerCookies || t && n } hasRecoveryCredentials() { return "string" == typeof this.forkedToken } hasActiveAccessToken(e) { let t = dc.parse(this.getToken(e)); return null !== t && !t.isExpired(30) } authenticate(e) { return this.authenticateOnce.execute(e) } link(e) { return this.linkOnce.execute(e) } refresh() { return this.refreshOnce.execute() } forkSession() { return this.forkSessionOnce.execute() } destroy() { return this.destroyOnce.execute() } storeProviderAccessToken(e, t) { "string" == typeof t ? ya.put(ia(e), t) : ya.del(ia(e)) } async _authenticate(e) { try { let t = await e.authenticate(), { user: n, is_new_user: r, oauth_tokens: i } = t; this.handleTokenResponse(t); let o = i ? { provider: i.provider, accessToken: i.access_token, accessTokenExpiresInSeconds: i.access_token_expires_in_seconds, refreshToken: i.refresh_token, refreshTokenExpiresInSeconds: i.refresh_token_expires_in_seconds, scopes: i.scopes } : void 0; return this._trackAuthenticateEvents(e, r), { user: (0, fc.lm)(n), isNewUser: r, oAuthTokens: o } } catch (e) { throw console.warn("Error authenticating session"), (0, bs.wN)(e) } } _trackAuthenticateEvents(e, t) { let n = function (e) { return e instanceof Is ? "email" : e instanceof Ca ? "sms" : e instanceof Ea ? "siwe" : e instanceof ba ? "guest" : e instanceof Ss ? "custom_auth" : e instanceof nQ ? e.meta.provider : null }(e); n && this.client && this.client.createAnalyticsEvent({ eventName: "sdk_authenticate", payload: { method: n, isNewUser: t } }), "siwe" === n && this.client && this.client.createAnalyticsEvent({ eventName: "sdk_authenticate_siwe", payload: { connectorType: e.meta.connectorType, walletClientType: e.meta.walletClientType } }) } async _link(e) { try { let t = await e.link(), n = t.oauth_tokens, r = n ? { provider: n.provider, accessToken: n.access_token, accessTokenExpiresInSeconds: n.access_token_expires_in_seconds, refreshToken: n.refresh_token, refreshTokenExpiresInSeconds: n.refresh_token_expires_in_seconds, scopes: n.scopes } : void 0; return { user: (0, fc.lm)(t), oAuthTokens: r } } catch (e) { throw console.warn("Error linking account"), (0, bs.wN)(e) } } async _refresh() { if (!this.api) throw new bs.dx("Session has no API instance"); if (!this.client) throw new bs.dx("Session has no PrivyClient instance"); await this.client.getAccessToken({ disableAutoRefresh: !0 }); let e = this.token, t = this.refreshToken, n = this.forkedToken; if (this.client.useServerCookies && !this.mightHaveServerCookies && this.token && window.location.origin === this.client.apiUrl) return this.destroyLocalState(), null; try { let r; if (e && t || this.mightHaveServerCookies) { let i = {}; e && (i.authorization = `Bearer ${e}`), r = await this.api.post(vs, t ? { refresh_token: t } : {}, { headers: i }), n && this.clearForkedToken() } else { if (!n) return null; r = await this.api.post(Es, { refresh_token: n }), this.clearForkedToken() } return this.handleTokenResponse(r), (0, fc.lm)(r.user) } catch (e) { if (e instanceof bs.fP && e.privyErrorCode === bs.sX.MISSING_OR_INVALID_TOKEN) return console.warn("Unable to refresh tokens - token is missing or no longer valid"), this.destroyLocalState(), null; throw (0, bs.wN)(e) } } handleTokenResponse(e) { e.session_update_action && "set" !== e.session_update_action ? "clear" === e.session_update_action ? this.destroyLocalState() : "ignore" === e.session_update_action && (e.token && (this.storeCustomerAccessToken(e.token), this.storePrivyAccessToken(e.privy_access_token)), e.identity_token && this.storeIdentityToken(e.identity_token)) : this._storeAllTokens(e) } _storeAllTokens(e) { this.storeRefreshToken(e.refresh_token), this.storeCustomerAccessToken(e.token), this.storePrivyAccessToken(e.privy_access_token), e.identity_token && this.storeIdentityToken(e.identity_token) } async _destroy() { try { await (this.api?.post(ws, { refresh_token: this.refreshToken })) } catch (t0) { console.warn("Error destroying session") } this.destroyLocalState() } async _forkSession() { if (!this.api) throw new bs.dx("Session has no API instance"); let e = this.refreshToken; try { let t = await this.api.post("/api/v1/sessions/fork", { refresh_token: e }); return this.storeRefreshToken(t.refresh_token), this.storeCustomerAccessToken(t.token), t.new_session_refresh_token } catch (e) { throw (0, bs.wN)(e) } } destroyLocalState() { this.storeRefreshToken(null), this.storeCustomerAccessToken(null), this.storePrivyAccessToken(null), this.clearIdentityToken(), this.clearForkedToken() } storeCustomerAccessToken(e) { if ("string" == typeof e) { let t = ya.get(Ks); if (ya.put(Ks, e), !this.client?.useServerCookies) { let t = dc.parse(e)?.expiration; bQ.set(Ys, e, { sameSite: "Strict", secure: vQ(), expires: t ? new Date(1e3 * t) : void 0 }) } t !== e && this.client?.onStoreCustomerAccessToken?.(e) } else ya.del(Ks), bQ.remove(Ys), this.client?.onDeleteCustomerAccessToken?.() } storeRefreshToken(e) { "string" == typeof e ? (ya.put(Zs, e), this.client?.useServerCookies || bQ.set(ea, "t", { sameSite: "Strict", secure: vQ(), expires: 30 })) : (ya.del(Zs), bQ.remove("privy-refresh-token"), bQ.remove(ea)) } storePrivyAccessToken(e) { "string" == typeof e ? ya.put(Xs, e) : ya.del(Xs) } storeIdentityToken(e) { if (this.client?.useServerCookies) return; ya.put(Js, e); let t = dc.parse(e)?.expiration; bQ.set(Qs, e, { sameSite: "Strict", secure: vQ(), expires: t ? new Date(1e3 * t) : void 0 }) } clearIdentityToken() { ya.del(Js), bQ.remove(Qs) } clearForkedToken() { ya.del(ta) } constructor() { this.authenticateOnce = new Ds((async e => this._authenticate(e))), this.linkOnce = new Ds((async e => this._link(e))), this.refreshOnce = new Ds(this._refresh.bind(this)), this.destroyOnce = new Ds(this._destroy.bind(this)), this.forkSessionOnce = new Ds(this._forkSession.bind(this)) } } var _Q = n(48764).Buffer; class CQ extends pc { async handleSendTransaction(e) { if (!e.params || !Array.isArray(e.params)) throw new rQ(`Invalid params for ${e.method}`, 4200); let t = e.params[0]; if (!(await FQ()) || !this.address) throw new rQ("Disconnected", 4900); return (await zQ(t, void 0, void 0, this.address)).hash } handleSwitchEthereumChain(e) { let t; if (!e.params || !Array.isArray(e.params)) throw new rQ(`Invalid params for ${e.method}`, 4200); if ("string" == typeof e.params[0]) t = e.params[0]; else { if (!("chainId" in e.params[0]) || "string" != typeof e.params[0].chainId) throw new rQ(`Invalid params for ${e.method}`, 4200); t = e.params[0].chainId } this.chainId = Number(t), this.provider = Ga(this.chainId, this.chains, this.rpcConfig, { appId: this.appId }), this.emit("chainChanged", t) } async handlePersonalSign(e) { if (!e.params || !Array.isArray(e.params)) throw Error("Invalid params for personal_sign"); let t = e.params[0], n = e.params[1]; return await BQ(t, void 0, n) } async handleSignedTypedData(e) { if (!e.params || !Array.isArray(e.params)) throw Error("Invalid params for eth_signTypedData_v4"); let t = e.params[0], n = "string" == typeof e.params[1] ? JSON.parse(e.params[1]) : e.params[1]; return await WQ(Va(n), void 0, t) } async handleEstimateGas(e) { if (!e.params || !Array.isArray(e.params)) throw Error("Invalid params for eth_estimateGas"); delete e.params[0].gasPrice, delete e.params[0].maxFeePerGas, delete e.params[0].maxPriorityFeePerGas; let t = { ...e.params[0], chainId: Ba(this.chainId) }; try { return await this.provider.send("eth_estimateGas", [t]) } catch (e) { console.warn(`Gas estimation failed with error: ${e}. Retrying gas estimation by omitting the 'from' address`); try { return delete t.from, await this.provider.send("eth_estimateGas", [t]) } catch (t) { throw console.warn(`Gas estimation failed with error: ${t} when omitting the 'from' address`), e } } } async request(e) { switch (console.debug("Embedded1193Provider.request() called with args", e), e.method) { case "eth_accounts": case "eth_requestAccounts": return this.address ? [this.address] : []; case "eth_chainId": return Ba(this.chainId); case "eth_estimateGas": return this.handleEstimateGas(e); case "eth_sendTransaction": return this.handleSendTransaction(e); case "wallet_switchEthereumChain": return this.handleSwitchEthereumChain(e); case "personal_sign": return this.handlePersonalSign(e); case "eth_signTypedData_v4": return this.handleSignedTypedData(e) }if (!(e => al.includes(e))(e.method)) return this.provider.send(e.method, e.params); { let t = await FQ(); if (await qQ(), !t || !this.address) throw new rQ("Disconnected", 4900); try { return (await this.walletProxy.rpc({ accessToken: t, entropyId: this.entropyId, entropyIdVerifier: this.entropyIdVerifier, chainType: "ethereum", hdWalletIndex: this.walletIndex, request: { method: e.method, params: e.params } })).response.data } catch (e) { throw console.error(e), new rQ("Disconnected", 4900) } } } constructor({ walletProxy: e, address: t, entropyId: n, entropyIdVerifier: r, rpcConfig: i, chains: o, appId: s, chainId: a = 1, walletIndex: c }) { super(), this.walletProxy = e, this.address = t, this.entropyId = n, this.entropyIdVerifier = r, this.chainId = a, this.rpcConfig = i, this.chains = o, this.provider = Ga(a, this.chains, i, { appId: s }), this.rpcTimeoutDuration = Yc(i, "privy"), this.appId = s, this.walletIndex = c } } class AQ extends pc { get wallets() { let e = new Set, t = this.walletConnectors.flatMap((e => e.wallets)).sort(((e, t) => e.connectedAt && t.connectedAt ? t.connectedAt - e.connectedAt : 0)).filter((t => { let n = `${t.address}${t.walletClientType}${t.connectorType}`; return !e.has(n) && (e.add(n), !0) })), n = t.findIndex((e => e.address === (this.activeWallet ? this.activeWallet : "unknown"))); return n >= 0 && t.unshift(t.splice(n, 1)[0]), t } async initialize() { if (this.initialized) return; ya.get(ua) && (ya.getKeys().forEach((e => { e.startsWith("walletconnect") && ya.del(e) })), ya.del(ua)); let e = Wa({ store: this.store, walletList: this.walletList, externalWalletConfig: this.externalWalletConfig, walletChainType: this.walletChainType }).then((e => { e.forEach((({ type: e, eip6963InjectedProvider: t, legacyInjectedProvider: n }) => { this.createEthereumWalletConnector("injected", e, { eip6963InjectedProvider: t, legacyInjectedProvider: n }) })) })); this.walletList.includes("coinbase_wallet") && this.createEthereumWalletConnector("coinbase_wallet", "coinbase_wallet"), !Ma() && this.walletList.includes("phantom") && "solana-only" !== this.walletChainType && this.createEthereumWalletConnector("phantom", "phantom"), this.externalWalletConfig.walletConnect.enabled && this.createEthereumWalletConnector("wallet_connect_v2", "unknown"), this.externalWalletConfig.solana.connectors?.get().forEach(this.addSolanaWalletConnector), this.externalWalletConfig.solana.connectors?._setOnConnectorsUpdated?.((e => { e?.forEach(this.addSolanaWalletConnector) })), await e, this.initialized = !0 } findWalletConnector(e, t) { return "wallet_connect_v2" === e ? this.walletConnectors.filter(Qc).find((t => t.connectorType === e)) ?? null : this.walletConnectors.filter(Qc).find((n => n.connectorType === e && n.walletClientType === t)) ?? null } findSolanaWalletConnector(e, t) { return this.walletConnectors.filter(TJ).find((n => n.connectorType === e && n.walletClientType === t)) ?? null } findEmbeddedWalletConnectors() { return this.walletConnectors.filter((e => "embedded" === e.connectorType)) } onInitialized(e) { e.wallets.forEach((e => { let t = this.storedConnections.find((t => t.address === e.address && t.connectorType === e.connectorType && t.walletClientType === e.walletClientType)); t && (e.connectedAt = t.connectedAt) })), this.saveConnectionHistory(), this.emit("walletsUpdated"), this.emit("connectorInitialized") } onWalletsUpdated(e) { e.initialized && (this.saveConnectionHistory(), this.emit("walletsUpdated")) } addEmbeddedWalletConnectors({ walletProxy: e, rootWallet: t, embeddedWallets: n, defaultChain: r, appId: i }) { for (let o of n) { let n = this.findEmbeddedWalletConnectors().find((e => e.walletIndex === o.walletIndex)); if (n && Qc(n)) n.proxyProvider.walletProxy = e; else { let { entropyId: n, entropyIdVerifier: s } = (0, fc.wB)(t), a = new sl({ provider: new CQ({ walletProxy: e, address: o.address, entropyId: n, entropyIdVerifier: s, rpcConfig: this.rpcConfig, chains: this.chains, appId: i, chainId: r.id, walletIndex: o.walletIndex }), chains: this.chains, defaultChain: r, rpcConfig: this.rpcConfig, imported: !1, walletIndex: o.walletIndex }); this.addWalletConnector(a) } } } addImportedWalletConnector(e, t, n, r) { let i = this.findWalletConnector("embedded_imported", "privy"); if (i && Qc(i)) i.proxyProvider.walletProxy = e; else { let i = new sl({ provider: new CQ({ walletProxy: e, address: t, entropyId: t, entropyIdVerifier: "ethereum-address-verifier", walletIndex: 0, rpcConfig: this.rpcConfig, chains: this.chains, appId: r, chainId: n.id }), chains: this.chains, walletIndex: 0, defaultChain: n, rpcConfig: this.rpcConfig, imported: !0 }); this.addWalletConnector(i) } } removeEmbeddedWalletConnectors() { this.walletConnectors = this.walletConnectors.filter((e => "embedded" !== e.connectorType)), this.saveConnectionHistory(), this.storedConnections = SQ(), this.emit("walletsUpdated") } removeImportedWalletConnector() { let e = this.findWalletConnector("embedded_imported", "privy"); if (e) { let t = this.walletConnectors.indexOf(e); this.walletConnectors.splice(t, 1), this.saveConnectionHistory(), this.storedConnections = SQ(), this.emit("walletsUpdated") } } async createEthereumWalletConnector(e, t, n) { let r = this.findWalletConnector(e, t); if (r && Qc(r)) return r instanceof hT && r.resetConnection(t), r; let i = (() => "injected" !== e ? "coinbase_wallet" === e ? new il(this.chains, this.defaultChain, this.rpcConfig, this.externalWalletConfig, this.privyAppName, this.privyAppLogo) : "phantom" === e ? new dQ(this.defaultChain) : new hT(this.walletConnectCloudProjectId, this.rpcConfig, this.chains, this.defaultChain, this.shouldEnforceDefaultChainOnConnect, this.privyAppId, this.privyAppName, t) : "metamask" === t && n?.eip6963InjectedProvider ? new lQ(this.chains, this.defaultChain, this.rpcConfig, n?.eip6963InjectedProvider, "metamask") : "metamask" === t && n?.legacyInjectedProvider ? new cQ(this.chains, this.defaultChain, this.rpcConfig, n?.legacyInjectedProvider, "metamask") : "phantom" === t && n?.legacyInjectedProvider ? new cQ(this.chains, this.defaultChain, this.rpcConfig, n?.legacyInjectedProvider, "phantom") : n?.legacyInjectedProvider && "unknown_browser_extension" === t ? new cQ(this.chains, this.defaultChain, this.rpcConfig, n?.legacyInjectedProvider) : n?.eip6963InjectedProvider ? new sQ(this.chains, this.defaultChain, this.rpcConfig, n?.eip6963InjectedProvider, t) : void 0)(); return i && this.addWalletConnector(i), i || null } addWalletConnector(e) { this.walletConnectors.push(e), e.on("initialized", (() => this.onInitialized(e))), e.on("walletsUpdated", (() => this.onWalletsUpdated(e))), e.initialize().catch((e => { console.debug("Failed to initialize connector", e) })) } saveConnectionHistory() { let e = this.wallets.map((e => ({ address: e.address, connectorType: e.connectorType, walletClientType: e.walletClientType, connectedAt: e.connectedAt }))); ya.put(da, e) } async activeWalletSign(e) { let t = this.wallets, n = t.length > 0 ? t[0] : null; return n && Gc(n) ? n.sign(e) : null } setActiveWallet(e) { this.activeWallet = (0, _n.Kn)(e), this.emit("walletsUpdated") } constructor(e, t, n, r, i, o, s, a, c, l, u, d) { super(), this.addSolanaWalletConnector = async e => { this.findSolanaWalletConnector("solana_adapter", e.walletClientType) || this.addWalletConnector(e) }, this.getEthereumProvider = () => { let e = this.wallets[0], t = this.walletConnectors.find((t => t.wallets.find((t => t.address === e?.address)))); return e && t ? t.proxyProvider : new Zc }, this.privyAppId = e, this.walletConnectCloudProjectId = t, this.rpcConfig = n, this.chains = r, this.defaultChain = i, this.walletConnectors = [], this.initialized = !1, this.store = o, this.walletList = s, this.shouldEnforceDefaultChainOnConnect = a, this.externalWalletConfig = c, this.privyAppName = l, this.privyAppLogo = u, this.walletChainType = d || "ethereum-only", this.storedConnections = SQ() } } const SQ = () => { let e = ya.get(da); return e && Array.isArray(e) && e.map((e => (e => e && "string" == typeof e.address && "string" == typeof e.connectorType && "string" == typeof e.walletClientType && "number" == typeof e.connectedAt)(e))).every(Boolean) ? e : [] }; let kQ; var IQ = 0, TQ = "__private_" + IQ++ + "__getOrGenerateClientAnalyticsId"; class NQ { initializeConnectorManager({ walletConnectCloudProjectId: e, rpcConfig: t, chains: n, defaultChain: r, store: i, walletList: o, shouldEnforceDefaultChainOnConnect: s, externalWalletConfig: a, appName: c, walletChainType: l }) { this.connectors || (this.connectors = new AQ(this.appId, e, t, n, r, i, o, s, a, c, void 0, l)) } generateApi() { let e = new fQ({ appId: this.appId, appClientId: this.appClientId, client: this, defaults: { baseURL: this.apiUrl, timeout: this.timeout } }); return this.session.api = e, e } updateApiUrl(e) { this.apiUrl = e || this.fallbackApiUrl, this.api = this.generateApi(), e && (this.useServerCookies = !0) } authenticate() { if (!this.authFlow) throw new bs.dx("No auth flow in progress."); return this.session.authenticate(this.authFlow) } async link() { if (!this.authFlow) throw new bs.dx("No auth flow in progress."); let { oAuthTokens: e } = await this.session.link(this.authFlow); return { user: await this.getAuthenticatedUser(), oAuthTokens: e } } storeProviderAccessToken(e, t) { this.session.storeProviderAccessToken(e, t) } getProviderAccessToken(e) { return this.session.getProviderAccessToken(e) } async logout() { await this.session.destroy(), this.authFlow = void 0 } clearProviderAcccessTokens(e) { e.linkedAccounts.filter((e => "cross_app" === e.type)).forEach((e => { this.storeProviderAccessToken(e.providerApp.id, null) })) } startAuthFlow(e) { return e.api = this.api, this.authFlow = e, this.authFlow } async initMfaSmsVerification() { try { await this.api.post("/api/v1/mfa/passwordless_sms/init", { action: "verify" }) } catch (t0) { throw (0, bs.wh)(t0) } } async initMfaPasskeyVerification() { try { return (e => ({ rpId: e.rp_id, challenge: e.challenge, allowCredentials: e.allow_credentials?.map((e => ({ id: e.id, type: e.type, transports: e.transports }))) || [], timeout: e.timeout, extensions: { appid: e.extensions?.app_id, credProps: e.extensions?.cred_props, hmacCreateSecret: e.extensions?.hmac_create_secret }, userVerification: e.user_verification }))((await this.api.post("/api/v1/mfa/passkeys/init", {})).options) } catch (t0) { throw (0, bs.wh)(t0) } } async getCrossAppProviderDetails(e) { try { return this._cachedProviderAppDetails[e] || (this._cachedProviderAppDetails[e] = await this.api.get(`/api/v1/apps/${e}/cross-app/details`)), this._cachedProviderAppDetails[e] } catch (e) { console.error("Error fetching cross app provider details", e) } } async acceptTerms() { try { let e = await this.api.post("/api/v1/users/me/accept_terms", {}); return (0, fc.lm)(e) } catch (t0) { throw (0, bs.wN)(t0) } } async unlinkEmail(e) { try { let t = await this.api.post("/api/v1/passwordless/unlink", { address: e }); return await this.getAuthenticatedUser() ?? (0, fc.lm)(t) } catch (e) { throw (0, bs.wN)(e) } } async unlinkPhone(e) { try { let t = await this.api.post("/api/v1/passwordless_sms/unlink", { phoneNumber: e }); return await this.getAuthenticatedUser() ?? (0, fc.lm)(t) } catch (e) { throw (0, bs.wN)(e) } } async unlinkEthereumWallet(e) { try { let t = await this.api.post("/api/v1/siwe/unlink", { address: e }); return await this.getAuthenticatedUser() ?? (0, fc.lm)(t) } catch (e) { throw (0, bs.wN)(e) } } async unlinkSolanaWallet(e) { try { let t = await this.api.post("/api/v1/siws/unlink", { address: e }); return await this.getAuthenticatedUser() ?? (0, fc.lm)(t) } catch (e) { throw (0, bs.wN)(e) } } async unlinkOAuth(e, t) { try { let n = await this.api.post("/api/v1/oauth/unlink", { provider: e, subject: t }); return await this.getAuthenticatedUser() ?? (0, fc.lm)(n) } catch (e) { throw (0, bs.wN)(e) } } async unlinkFarcaster(e) { try { let t = await this.api.post("/api/v1/farcaster/unlink", { fid: e }); return await this.getAuthenticatedUser() ?? (0, fc.lm)(t) } catch (e) { throw (0, bs.wN)(e) } } async unlinkTelegram(e) { try { let t = await this.api.post("/api/v1/telegram/unlink", { telegram_user_id: e }); return await this.getAuthenticatedUser() ?? (0, fc.lm)(t) } catch (e) { throw (0, bs.wN)(e) } } async unlinkPasskey(e) { try { let t = await this.api.post("/api/v1/passkeys/unlink", { credential_id: e }); return await this.getAuthenticatedUser() ?? (0, fc.lm)(t) } catch (e) { throw (0, bs.wN)(e) } } async revokeDelegatedWallet() { try { await this.api.post("/api/v1/wallets/revoke", {}) } catch (t0) { throw (0, bs.wN)(t0) } } async createAnalyticsEvent({ eventName: e, payload: t, timestamp: n, options: r }) { if ("undefined" != typeof window) try { this.clientAnalyticsId || console.warn("No client analytics id set, refusing to send analytics event"), await this.api.post(As, { event_name: e, client_id: this.clientAnalyticsId, payload: { ...t || {}, clientTimestamp: n ? n.toISOString() : (new Date).toISOString() } }, { retry: -1, keepalive: r?.keepAlive ?? !1 }) } catch (e) { } } async signMoonpayOnRampUrl(e) { try { return this.api.post("/api/v1/plugins/moonpay_on_ramp/sign", e) } catch (e) { throw (0, bs.wN)(e) } } async initCoinbaseOnRamp(e) { try { return this.api.post("/api/v1/funding/coinbase_on_ramp/init", e) } catch (e) { throw (0, bs.wN)(e) } } async getCoinbaseOnRampStatus({ partnerUserId: e }) { try { return this.api.get(`/api/v1/funding/coinbase_on_ramp/status?partnerUserId=${e}`) } catch (e) { throw (0, bs.wN)(e) } } async getAuthenticatedUser() { return this.session.hasRefreshCredentials() || this.session.hasRecoveryCredentials() ? this.session.refresh() : null } async getAccessToken(e) { return await this.getPrivyAccessToken(e) || await this.getCustomerAccessToken(e) } async getCustomerAccessToken(e) { return await this._getToken(EQ.CUSTOMER, e) } async getPrivyAccessToken(e) { return await this._getToken(EQ.PRIVY, e) } async _getToken(e, t) { return this.session.getToken(e) ? this.session.hasActiveAccessToken(e) ? this.session.hasRefreshCredentials(e) ? hc.parse(this.session.getToken(e))?.appId !== this.appId ? (await this.logout(), null) : this.session.getToken(e) : (this.session.destroyLocalState(), null) : !t?.disableAutoRefresh && this.session.hasRefreshCredentials(e) ? (await this.session.refresh(), this.session.getToken(e)) : null : null } async getSmartWalletsConfig() { try { let e = {}, t = this.session.token; t && (e.authorization = `Bearer ${t}`); let n = await this.api.get(`/api/v1/apps/${this.appId}/smart_wallets`, { baseURL: this.fallbackApiUrl, headers: e }); return n.enabled ? { enabled: n.enabled, smartWalletType: n.smart_wallet_type, configuredNetworks: n.configured_networks.map((e => ({ chainId: e.chain_id, bundlerUrl: e.bundler_url, paymasterUrl: e.paymaster_url, paymasterContext: gQ(e.paymaster_url, e.paymaster_context) }))) } : { enabled: n.enabled } } catch (t0) { throw (0, bs.wN)(t0) } } async getServerConfig() { try { let e = {}, t = this.session.token; t && (e.authorization = `Bearer ${t}`); let n = await this.api.get(`/api/v1/apps/${this.appId}`, { baseURL: this.fallbackApiUrl, headers: e }), r = n.telegram_auth_config ? { botId: n.telegram_auth_config.bot_id, botName: n.telegram_auth_config.bot_name, linkEnabled: n.telegram_auth_config.link_enabled, seamlessAuthEnabled: n.telegram_auth_config.seamless_auth_enabled } : void 0, i = n.funding_config ? { methods: n.funding_config.methods, options: n.funding_config.options, defaultRecommendedAmount: n.funding_config.default_recommended_amount, defaultRecommendedCurrency: n.funding_config.default_recommended_currency, promptFundingOnWalletCreation: n.funding_config.prompt_funding_on_wallet_creation, crossChainBridgingEnabled: n.funding_config.cross_chain_bridging_enabled } : void 0; return { id: n.id, name: n.name, verificationKey: n.verification_key, logoUrl: n.logo_url || void 0, accentColor: n.accent_color || void 0, showWalletLoginFirst: n.show_wallet_login_first, allowlistConfig: { errorTitle: n.allowlist_config.error_title, errorDetail: n.allowlist_config.error_detail, errorCtaText: n.allowlist_config.cta_text, errorCtaLink: n.allowlist_config.cta_link }, walletAuth: n.wallet_auth, solanaWalletAuth: n.solana_wallet_auth, emailAuth: n.email_auth, smsAuth: n.sms_auth, googleOAuth: n.google_oauth, twitterOAuth: n.twitter_oauth, discordOAuth: n.discord_oauth, githubOAuth: n.github_oauth, spotifyOAuth: n.spotify_oauth, instagramOAuth: n.instagram_oauth, tiktokOAuth: n.tiktok_oauth, linkedinOAuth: n.linkedin_oauth, appleOAuth: n.apple_oauth, farcasterAuth: n.farcaster_auth, passkeyAuth: n.passkey_auth, telegramAuth: n.telegram_auth, disablePlusEmails: n.disable_plus_emails, termsAndConditionsUrl: n.terms_and_conditions_url, embeddedWalletConfig: { createOnLogin: n.embedded_wallet_config?.create_on_login, userOwnedRecoveryOptions: n.embedded_wallet_config.user_owned_recovery_options, requireUserOwnedRecoveryOnCreate: n.embedded_wallet_config.require_user_owned_recovery_on_create }, privacyPolicyUrl: n.privacy_policy_url, requireUsersAcceptTerms: n.require_users_accept_terms, customApiUrl: n.custom_api_url, walletConnectCloudProjectId: n.wallet_connect_cloud_project_id, fiatOnRampEnabled: n.fiat_on_ramp_enabled, captchaEnabled: n.captcha_enabled, captchaSiteKey: n.captcha_site_key, createdAt: new Date(1e3 * n.created_at), updatedAt: new Date(1e3 * n.updated_at), mfaMethods: n.mfa_methods, enforceWalletUis: n.enforce_wallet_uis, legacyWalletUiConfig: n.legacy_wallet_ui_config, telegramAuthConfiguration: r, fundingConfig: i } } catch (t0) { throw (0, bs.wN)(t0) } } async getUsdTokenPrice(e) { try { return (await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd } catch (t) { return void console.error(`Unable to fetch token price for chain with id ${e.id}`) } } async getUsdPriceForSol() { try { return (await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd } catch (t0) { return void console.error("Unable to fetch token price for SOL") } } async requestFarcasterSignerStatus(e) { try { return await this.api.post("/api/v1/farcaster/signer/status", { ed25519_public_key: e }) } catch (e) { throw console.error("Unable to fetch Farcaster signer status"), e } } async forkSession() { return await this.session.forkSession() } async generateSiweNonce({ address: e, captchaToken: t }) { try { return (await this.api.post("/api/v1/siwe/init", { address: e, token: t })).nonce } catch (e) { throw (0, bs.wN)(e) } } async authenticateWithSiweInternal({ message: e, signature: t, chainId: n, walletClientType: r, connectorType: i, mode: o }) { return await this.api.post("/api/v1/siwe/authenticate", { message: e, signature: t, chainId: n, walletClientType: r, connectorType: i, mode: o }) } async linkWithSiweInternal({ message: e, signature: t, chainId: n, walletClientType: r, connectorType: i }) { return await this.api.post("/api/v1/siwe/link", { message: e, signature: t, chainId: n, walletClientType: r, connectorType: i }) } async linkSmartWallet({ message: e, signature: t, smartWalletType: n }) { try { let r = await this.api.post("/api/v1/siwe/link_smart_wallet", { message: e, signature: t, smart_wallet_type: n }); return (0, fc.lm)(r) } catch (e) { throw (0, bs.wN)(e) } } async linkWithSiwe({ message: e, signature: t, chainId: n, walletClientType: r, connectorType: i }) { try { let o = await this.linkWithSiweInternal({ message: e, signature: t, chainId: n, walletClientType: r, connectorType: i }); return (0, fc.lm)(o) } catch (e) { throw (0, bs.wN)(e) } } async generateSiwsNonce({ address: e, captchaToken: t }) { try { return (await this.api.post("/api/v1/siws/init", { address: e, token: t })).nonce } catch (e) { throw (0, bs.wN)(e) } } async authenticateWithSiwsInternal({ message: e, signature: t, walletClientType: n, connectorType: r, mode: i }) { return await this.api.post("/api/v1/siws/authenticate", { message: e, signature: t, walletClientType: n, connectorType: r, mode: i }) } async sendAccountTransferRequest({ nonce: e, account: t, accountType: n, externalWalletMetadata: r, telegramAuthResult: i, farcasterEmbeddedAddress: o, oAuthUserInfo: s }) { try { let a, c; switch (n) { case "email": a = "/api/v1/passwordless/transfer", c = { nonce: e, email: t }; break; case "sms": a = "/api/v1/passwordless_sms/transfer", c = { nonce: e, phoneNumber: t }; break; case "siwe": if (a = "/api/v1/siwe/transfer", !r) throw Error("Wallet parameters must be defined"); c = { nonce: e, address: t, ...r }; break; case "farcaster": a = "/api/v1/farcaster/transfer", c = { nonce: e, farcaster_id: t, farcaster_embedded_address: o }; break; case "telegram": a = "/api/v1/telegram/transfer", c = { nonce: e, telegram_auth_result: i }; break; case "custom": case "guest": case "passkey": throw Error("Invalid transfer account type"); default: a = "/api/v1/oauth/transfer", c = { nonce: e, userInfo: s } }let l = await this.api.post(a, c); return await this.getAuthenticatedUser() ?? (0, fc.lm)(l) } catch (e) { throw (0, bs.wN)(e) } } async linkWithSiwsInternal({ message: e, signature: t, walletClientType: n, connectorType: r }) { return await this.api.post("/api/v1/siws/link", { message: e, signature: t, walletClientType: n, connectorType: r }) } async linkWithSiws({ message: e, signature: t, walletClientType: n, connectorType: r }) { try { let i = await this.linkWithSiwsInternal({ message: e, signature: t, walletClientType: n, connectorType: r }); return (0, fc.lm)(i) } catch (e) { throw (0, bs.wN)(e) } } constructor({ apiUrl: e = qs, appId: t, appClientId: n, timeout: r = 2e4 }) { Object.defineProperty(this, TQ, { value: PQ }), this._cachedProviderAppDetails = {}, this.apiUrl = e, this.fallbackApiUrl = this.apiUrl, this.useServerCookies = e !== qs && e.startsWith("https://privy."), this.timeout = r, this.appId = t, this.appClientId = n, this.clientAnalyticsId = function (e, t) { if (!Object.prototype.hasOwnProperty.call(e, t)) throw TypeError("attempted to use private field on non-instance"); return e }(this, TQ)[TQ](), kQ || (kQ = new xQ), this.session = kQ, this.api = this.generateApi(), this.session.client = this } } function PQ() { if ("undefined" == typeof window) return null; try { let e = ya.get(na); if ("string" == typeof e && e.length > 0) return e } catch (e) { } let e = ac(); try { return ya.put(na, e), e } catch (t) { return e } } class MQ { async handleSignMessage(e) { if (!e.params || "string" != typeof e.params.message) throw Error("Message must be provided as a string for Solana signMessage RPC"); return await GQ({ message: e.params.message }) } async request(e) { if (console.debug("EmbeddedSolanaProvider.request() called with args", e), !(await FQ())) throw Error("User must be authenticated to use embedded Solana wallet"); if (!(await HQ())) throw new bs.dx("Unable to connect to Solana embedded wallet"); if ("signMessage" === e.method) return await this.handleSignMessage(e); throw Error("Embedded Solana provider does not yet support this RPC method.") } constructor(e, t) { this.walletProxy = e, this.address = t } } let OQ, RQ, jQ, $Q, LQ, DQ, UQ; async function FQ() { return OQ ? OQ.getAccessToken() : Promise.resolve(ya.get(Xs) || ya.get(Ks) || null) } const BQ = (e, t, n) => RQ(e, t, n), WQ = (e, t, n) => jQ(e, t, n), zQ = (e, t, n, r) => $Q(e, t, n, r), qQ = () => LQ(), HQ = () => DQ(), GQ = ({ message: e }) => UQ({ message: e }), VQ = ({ config: e, ...t }) => { var n; if ("undefined" != typeof window && 0 > ["localhost", "127.0.0.1"].indexOf(window.location.hostname) && "https:" !== window.location.protocol) throw new bs.dx("Embedded wallet is only available over HTTPS"); if ("string" != typeof (n = t.appId) || 25 !== n.length) throw new bs.dx("Cannot initialize the Privy provider with an invalid Privy app ID"); OQ || (OQ = new NQ({ appId: t.appId, appClientId: t.clientId, apiUrl: t.apiUrl })); let r = Object.assign({}, e); return void 0 !== t.createPrivyWalletOnLogin && void 0 === r.embeddedWallets?.createOnLogin && (r.embeddedWallets || (r.embeddedWallets = {}), r.embeddedWallets.createOnLogin = t.createPrivyWalletOnLogin ? "users-without-wallets" : "off"), void 0 !== t.createPrivyWalletOnLogin && e?.embeddedWallets?.createOnLogin && console.warn("Both `createPrivyWalletOnLogin` and `config.embeddedWallets.createOnLogin` are set. `createPrivyWalletOnLogin` is deprecated and should be removed."), (0, y.jsx)(of, { client: OQ, clientConfig: r, legacyCreateEmbeddedWalletFlag: t.createPrivyWalletOnLogin, children: (0, y.jsx)(KQ, { ...t, client: OQ }) }) }; let KQ = e => { let t = e.client, [r, i] = (0, Ke.useState)(!1), [o, s] = (0, Ke.useState)(!1), [a, c] = (0, Ke.useState)(!1), [l, u] = (0, Ke.useState)(null), [d, h] = (0, Ke.useState)([]), [f, p] = (0, Ke.useState)([]), [m, g] = (0, Ke.useState)(null), b = (0, Ke.useRef)(d), [v, w] = (0, Ke.useState)(!1), [E, x] = (0, Ke.useState)(null), [_, C] = (0, Ke.useState)(!1), [A, S] = (0, Ke.useState)({ status: "disconnected", connectedWallet: null, connectError: null, connector: null, connectRetry: Sa.E }), [k, I] = (0, Ke.useState)({ status: "initial" }), [T, N] = (0, Ke.useState)({ status: "initial" }), [P, M] = (0, Ke.useState)({ status: "initial" }), [O, R] = (0, Ke.useState)({ status: "initial" }), [j, $] = (0, Ke.useState)({ status: "initial" }), [L, D] = (0, Ke.useState)(null), U = sf(), F = (() => { let { isServerConfigLoaded: e } = (0, Ke.useContext)(rf); return e })(), [B, W] = (0, Ke.useState)(!0), [z, q] = (0, Ke.useState)({}), [H, G] = (0, Ke.useState)(null), [V, K] = (0, Ke.useState)(null), [Y, Z] = (0, Ke.useState)(!1), [X, J] = (0, Ke.useState)(!1), [Q, ee] = (0, Ke.useState)(U.customAuth?.enabled ? { status: "initial" } : { status: "not-enabled" }), te = (0, Ke.useRef)(null), ne = (0, Ke.useRef)(null), re = (0, Ke.useRef)(yf.VD), [ie, oe] = (0, Ke.useState)(!1); t.onStoreCustomerAccessToken = e => { e && (0, yf.Rb)(re, "accessToken", "onAccessTokenGranted", e) }, t.onDeleteCustomerAccessToken = () => { u(null), c(!1), (0, yf.Rb)(re, "accessToken", "onAccessTokenRemoved") }; let se = (0, Ke.useRef)(null), ae = (0, Ke.useRef)(null), ce = (0, Ke.useRef)(!1), le = ({ showWalletUIs: e, typedData: t }) => ce.current ? ce.current : void 0 !== e ? !e : void 0 !== U.embeddedWallets.showWalletUIs ? !U.embeddedWallets.showWalletUIs : t ? U.embeddedWallets.noPromptOnSignature || (U.legacyWalletUiConfig ?? !1) : !!U.embeddedWallets.noPromptOnSignature, ue = e => { x(e), setTimeout((() => { i(!0) }), 15), t.createAnalyticsEvent({ eventName: "modal_open", payload: { initialScreen: e } }) }, de = e => { "off" !== U.embeddedWallets.createOnLogin && W(!0), ue(e) }; (0, Ke.useEffect)((() => { let e = (0, fc.ys)(l); if (!e || !L) return void g(null); let t = { type: "solana", imported: !1, address: e.address, connectedAt: Date.now(), walletClientType: "privy", connectorType: "embedded", walletIndex: e.walletIndex ?? void 0, meta: { name: "Privy Wallet", icon: void 0, id: "io.privy.solana.wallet" }, linked: !0, fund() { throw new bs.dx("'fund' is deprecated for Solana wallets - use 'fundWallet' instead") }, unlink: () => { throw new bs.dx("Cannot unlink an embedded Solana wallet") }, getProvider: async () => new MQ(L, e.address), async signMessage(e) { let t = await FQ(), n = (0, fc.pM)(l); if (!t || !L || !n) throw new bs.dx("Must have valid access token and Privy wallet to send transaction", bs.sX.MUST_BE_AUTHENTICATED); if (!(await Le.recoverPrimaryWallet().catch((() => !1)))) throw new bs.dx("Wallet couldn't be connected", bs.sX.UNKNOWN_CONNECT_WALLET_ERROR); let { entropyId: r, entropyIdVerifier: i } = (0, fc.wB)(n), { response: o } = await L.rpc({ accessToken: t, entropyId: r, entropyIdVerifier: i, chainType: "solana", hdWalletIndex: this.walletIndex ?? 0, request: { method: "signMessage", params: { message: _Q.from(e).toString("base64") } } }); return _Q.from(o.data.signature, "base64") }, async sendTransaction(e, t, n) { let { signature: r } = await Ne({ transaction: e, connection: t, transactionOptions: n, wallet: this }); return r }, async signTransaction(e) { let t = await FQ(); if (!t || !L) throw new bs.dx("Must have valid access token and Privy wallet to send transaction", bs.sX.MUST_BE_AUTHENTICATED); if (!(await Le.recoverPrimaryWallet().catch((() => !1)))) throw new bs.dx("Wallet couldn't be connected", bs.sX.UNKNOWN_CONNECT_WALLET_ERROR); let { entropyId: n, entropyIdVerifier: r } = (0, fc.W8)(l); return await tZ({ tx: e, accessToken: t, walletProxy: L, entropyId: n, entropyIdVerifier: r, transactingWalletAddress: this.address, transactingWalletIndex: this.walletIndex ?? 0 }), e }, loginOrLink: async () => { throw new bs.dx("Cannot login or link with an embedded Solana wallet") }, disconnect: () => { g(null) }, isConnected: async () => !0 }; g(t) }), [L, l]), (0, Ke.useEffect)((() => { if (!l) return void t.connectors?.removeEmbeddedWalletConnectors(); let n = (0, fc.sW)(l), r = (0, fc.XN)(l), i = (0, fc.Nc)(l); n && r.length || t.connectors?.removeEmbeddedWalletConnectors(), i || t.connectors?.removeImportedWalletConnector(), t.connectors ? L ? (n && t.connectors.addEmbeddedWalletConnectors({ walletProxy: L, rootWallet: n, embeddedWallets: r, defaultChain: U.defaultChain, appId: e.appId }), i && t.connectors.addImportedWalletConnector(L, i.address, U.defaultChain, e.appId)) : console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized") : console.debug("Failed to add embedded wallet connector: Client connectors not initialized") }), [L, l]), (0, Ke.useEffect)((() => { L && V?.(L) }), [L]); let he = (0, Ke.useRef)(); (0, Ke.useEffect)((() => { (async () => { if (!U.customAuth?.enabled) return void ee({ status: "not-enabled" }); W(!0); let { getCustomAccessToken: e, isLoading: n } = U.customAuth; if (o && !n && "loading" !== Q.status) { ee({ status: "loading" }); try { let n = await e(); if (n === he.current) return void ee({ status: "done" }); if (!n && a) return he.current = n, await $e.logout(), ee({ status: "done" }), void (0, yf.Rb)(re, "customAuth", "onUnauthenticated"); if (!n) return he.current = n, void ee({ status: "done" }); t.startAuthFlow(new Ss(n)); let { user: r, isNewUser: i } = await t.authenticate(); if (!r) return await $e.logout(), ee({ status: "error", error: new bs.dx("Failed to sync with custom auth provider") }), void (0, yf.Rb)(re, "customAuth", "onUnauthenticated"); void 0 !== i && (0, yf.Rb)(re, "login", "onComplete", r, i, !1, "custom", null), he.current = n, (0, yf.Rb)(re, "customAuth", "onAuthenticated", { user: r }), ee({ status: "done" }), u(r || null), w(i || !1), c(!0), J(!0) } catch (e) { if (console.warn(e), await $e.logout(), (0, yf.Rb)(re, "customAuth", "onUnauthenticated"), "User already exists with provided custom JWT account." === e.message) return void ee({ status: "initial" }); (0, yf.Rb)(re, "login", "onError", e.privyErrorCode || bs.sX.UNKNOWN_AUTH_ERROR), ee({ status: "error", error: e }) } } })() }), ["initial" === Q.status, U.customAuth?.enabled, U.customAuth?.getCustomAccessToken, U.customAuth?.isLoading, o, a]), (0, Ke.useEffect)((() => { X && L && l && (0, fc.Cy)(l, U.embeddedWallets.createOnLogin) && (J(!1), Ae(l, fa).catch(console.error)) }), [X && L && l]), (0, Ke.useEffect)((() => { if (U.externalWallets.solana.connectors) return U.externalWallets.solana.connectors.onMount(), () => U.externalWallets.solana.connectors?.onUnmount() }), [U.externalWallets.solana.connectors]), (0, Ke.useEffect)((() => { !o && F && async function () { let e, n = fe(), r = pe(); (() => { let e = new URLSearchParams(window.location.search).get("privy_token"); if (!e) return; ya.put(ta, e); let t = new URL(window.location.href); t.searchParams.delete("privy_token"), window.history.pushState({}, "", t) })(); let i = wt(); t.initializeConnectorManager({ walletConnectCloudProjectId: U.walletConnectCloudProjectId, rpcConfig: U.rpcConfig, chains: U.chains, defaultChain: U.defaultChain, store: i, walletList: U.appearance.walletList, shouldEnforceDefaultChainOnConnect: U.shouldEnforceDefaultChainOnConnect, externalWalletConfig: U.externalWallets, appName: U.name ?? "Privy", walletChainType: U.appearance.walletChainType }), t.connectors?.on("connectorInitialized", (() => { e && clearTimeout(e); let n = t.connectors.walletConnectors.length, r = t.connectors.walletConnectors.reduce(((e, t) => e + (t.initialized ? 1 : 0)), 0); r === n ? oe(!0) : e = setTimeout((() => { console.debug({ message: "Unable to initialize all expected connectors before timeout", initialized: r, expected: n }), oe(!0) }), 1500) })), t.connectors?.initialize().then((() => { ve() })); let o = await t.getAuthenticatedUser(), s = !!o; U.legal.requireUsersAcceptTerms && o && !o.hasAcceptedTerms ? (await t.logout(), Le.setReadyToTrue(!0), (0, yf.Rb)(re, "logout", "onSuccess")) : (U.customAuth?.enabled || (c(!!o), o && (0, yf.Rb)(re, "login", "onComplete", o, !1, !0, null, null), u(o)), n ? ae.current = s ? "link" : "login" : r && !s ? (ae.current = "login", q({ telegramAuthModalData: { seamlessAuth: !0 } }), de(uf.TELEGRAM_AUTH_SCREEN)) : Le.setReadyToTrue(!!o)) }() }), [t, H, o, F]), (0, Ke.useEffect)((() => { if (o) { if (!l || !l.linkedAccounts.find((e => "wallet" === e.type && "privy" === e.walletClientType))) return void Z(!0); Z(!!d.find((e => "privy" === e.walletClientType))) } }), [o, l, d]); let fe = () => { let e = function () { let e = new URLSearchParams(window.location.search), t = e.get("privy_oauth_code"), n = e.get("privy_oauth_state"), r = e.get("privy_oauth_provider"); if (!t || !n || !r) return { inProgress: !1 }; let i = !1; try { i = !!window.opener.location.origin } catch { } return { inProgress: !0, authorizationCode: t, stateCode: n, provider: r, withPrivyUi: !ya.get(aa), popupFlow: null !== window.opener && i, disableSignup: !!ya.get(ca) } }(); return e.inProgress && e.popupFlow ? window.opener.location.origin !== window.location.origin ? void window.opener.postMessage({ type: "PRIVY_OAUTH_ERROR", error: "Origins between parent and child windows do not match." }) : "error" === e.authorizationCode ? void window.opener.postMessage({ type: "PRIVY_OAUTH_ERROR", error: "Something went wrong. Try again." }) : void window.opener.postMessage({ type: "PRIVY_OAUTH_RESPONSE", stateCode: e.stateCode, authorizationCode: e.authorizationCode }) : (e.inProgress && function (e) { return e.startsWith("privy:") }(e.provider) && !e.popupFlow && (new BroadcastChannel(WJ).postMessage({ type: "PRIVY_OAUTH_RESPONSE", stateCode: e.stateCode, authorizationCode: e.authorizationCode }), window.close()), !!e.inProgress && !!e.withPrivyUi && (t.startAuthFlow(new nQ(e)), de(uf.AWAITING_OAUTH_SCREEN), !0)) }, pe = () => { let e = function () { let e; return (e = function () { let e = new URLSearchParams(window.location.search), t = Number(e.get("id") || ""), n = e.get("hash"), r = Number(e.get("auth_date") || ""), i = e.get("first_name"); if (t && i && r && n) return Object.fromEntries(e.entries()) }()) ? (ec(), { flowType: "login-url", authData: e }) : (e = function () { let e = window.location.hash; if (!e || !e.startsWith("#tgWebAppData")) return; let t = new URLSearchParams(decodeURIComponent(e.replace("#tgWebAppData=", ""))), n = t.get("user"), r = Number(t.get("auth_date") || ""), i = t.get("hash"); return n && r && i ? Object.fromEntries(t.entries()) : void 0 }()) ? (ec(), { flowType: "web-app", authData: e }) : void 0 }(); if (!e || !U.loginMethods.telegram || !U.loginConfig.telegramAuthConfiguration?.seamlessAuthEnabled) return; let n = new Ja; return t.startAuthFlow(n), "login-url" === e.flowType && (n.meta.telegramWebAppData = void 0, n.meta.telegramAuthResult = e.authData), "web-app" === e.flowType && (n.meta.telegramAuthResult = void 0, n.meta.telegramWebAppData = e.authData), !0 }, me = async (e, n, r, i) => { ge(await (t.connectors?.createEthereumWalletConnector(e, n)) || null, n, r, i) }; async function ge(e, t, n, r) { if (!e) return S({ status: "disconnected", connectedWallet: null, connectError: new bs.M9("Unable to connect to wallet."), connector: null, connectRetry: Sa.E }), r?.(null, n); S({ status: "disconnected", connectedWallet: null, connectError: null, connector: e, connectRetry: Sa.E }), e instanceof hT && t && await e.resetConnection(t), S({ connector: e, status: "connecting", connectedWallet: null, connectError: null, connectRetry: () => ge(e, t, n, r) }); try { let t = await e.connect({ showPrompt: !0 }); if ((!t || Gc(t)) && U.shouldEnforceDefaultChainOnConnect && !U.chains.find((e => e.id === Number(t?.chainId.replace("eip155:", "")))) && ("wallet_connect_v2" !== t?.connectorType || "metamask" !== t?.walletClientType)) { S((t => ({ ...t, connector: e, status: "switching_to_supported_chain", connectedWallet: null, connectError: null, connectRetry: Sa.E }))); try { await (t?.switchChain(U.defaultChain.id)), t && (t.chainId = za(Ba(U.defaultChain.id))) } catch { console.warn(`Unable to switch to default chain: ${U.defaultChain.id}`) } } return S((e => ({ ...e, status: "connected", connectedWallet: t, connectError: null, connectRetry: Sa.E }))), t && (0, yf.Rb)(re, "connectWallet", "onSuccess", (e.chainType, t)), r?.(t, n) } catch (e) { return e instanceof bs.Bi ? (console.warn(e.cause ? e.cause : e.message), (0, yf.Rb)(re, "connectWallet", "onError", e.privyErrorCode || bs.sX.GENERIC_CONNECT_WALLET_ERROR)) : (console.warn(e), (0, yf.Rb)(re, "connectWallet", "onError", bs.sX.UNKNOWN_CONNECT_WALLET_ERROR)), S((t => ({ ...t, status: "disconnected", connectedWallet: null, connectError: e }))), r?.(null, n) } } let ye = async (e, n, r) => { if (null === e || !Gc(e)) return; let i = new Ea(e, t, n, r); t.startAuthFlow(i) }, be = async (e, n) => { if (null === e || !NJ(e)) return; let r = new _a(e, t, n); t.startAuthFlow(r) }, ve = () => { let e = new URLSearchParams(window.location.search), n = e.get("privy_connector"), r = e.get("privy_wallet_client"); if (!n || !r) return; if ("phantom" !== r || Ma() || de(uf.LOGIN_FAILED_SCREEN), !t.connectors) throw new bs.dx("Connector not initialized"); ue(uf.AWAITING_CONNECTION); let i = new URL(window.location.href); i.searchParams.delete("privy_connector"), i.searchParams.delete("privy_wallet_client"), window.history.pushState({}, "", i), me(n, r, void 0, ye) }; (0, Ke.useEffect)((() => { o && a && null === l && t.getAuthenticatedUser().then(u) }), [o, a, l, t]); let we = e => { if (!a) throw (0, yf.Rb)(re, "linkAccount", "onError", bs.sX.MUST_BE_AUTHENTICATED, { linkMethod: e }), new bs.dx("User must be authenticated before linking an account.") }, Ee = () => { we("siwe"), se.current = "siwe", ae.current = "link", ue(uf.LINK_WALLET_SCREEN) }, xe = e => { if (!a || !l) return !1; if ("privy" === e.walletClientType) return !0; for (let t of l.linkedAccounts) if ("wallet" === t.type && t.address === e.address && "privy" !== t.walletClientType) return !0; return !1 }, _e = async e => { let n; if (!t.connectors) throw new bs.dx("Connector not initialized"); n = "ethereum" === e.type ? t.connectors.findWalletConnector(e.connectorType, e.walletClientType) || null : t.connectors.findSolanaWalletConnector(e.connectorType, e.walletClientType) || null, S((t => ({ ...t, connector: n, status: "connected", connectedWallet: e, connectError: null, connectRetry: Sa.E }))), U.captchaEnabled && !a ? (q({ captchaModalData: { callback: t => Gc(e) ? ye(e, t) : be(e, t), userIntentRequired: !1, onSuccessNavigateTo: uf.AWAITING_CONNECTION, onErrorNavigateTo: uf.ERROR_SCREEN } }), de(uf.CAPTCHA_SCREEN)) : (Gc(e) ? await ye(e) : await be(e), de(uf.AWAITING_CONNECTION)) }, Ce = () => { h((e => { let n = t.connectors?.wallets.filter(Gc).map((e => ({ ...e, linked: xe(e), loginOrLink: async () => { if (!(await e.isConnected())) throw new bs.dx("Wallet is not connected"); if ("embedded" === e.connectorType && "privy" === e.walletClientType) throw new bs.dx("Cannot link or login with embedded wallet"); _e(e) }, fund: async t => { await Le.fundWallet(e.address, t) }, unlink: async () => { if (!a) throw new bs.dx("User is not authenticated."); if ("embedded" === e.connectorType && "privy" === e.walletClientType) throw new bs.dx("Cannot unlink an embedded wallet"); u(await t.unlinkEthereumWallet(e.address)) } }))) || []; return Vc(e, n) ? e : n })), p((e => { let n = t.connectors?.wallets.filter(NJ).map((e => ({ ...e, linked: xe(e), loginOrLink: async () => { if (!(await e.isConnected())) throw new bs.dx("Wallet is not connected"); if ("embedded" === e.connectorType && "privy" === e.walletClientType) throw new bs.dx("Cannot link or login with embedded wallet"); _e(e) }, fund: async () => { throw new bs.dx("'fund' is deprecated for Solana wallets - use 'fundWallet' instead") }, unlink: async () => { if (!a) throw new bs.dx("User is not authenticated."); if ("embedded" === e.connectorType && "privy" === e.walletClientType) throw new bs.dx("Cannot unlink an embedded wallet"); u(await t.unlinkSolanaWallet(e.address)) } }))) || []; return Vc(e, n) ? e : n })) }; (0, Ke.useEffect)((() => { Ce() }), [l?.linkedAccounts, a, o]), (0, Ke.useEffect)((() => { if (o) { if (!t.connectors) throw new bs.dx("Connector not initialized"); Ce(), t.connectors.on("walletsUpdated", Ce) } }), [o]), (0, Ke.useEffect)((() => { [...U.loginMethodsAndOrder?.primary ?? [], ...U.loginMethodsAndOrder?.overflow ?? []].filter((e => e.startsWith("privy:"))).forEach((e => t.getCrossAppProviderDetails(e.replace("privy:", "")))) }), [!!t]), (0, Ke.useEffect)((() => { let e; if (!d[0]) return; let t = d[0], n = b.current.find((e => e.address === t.address)); if (e = "privy" === t.walletClientType ? l?.linkedAccounts.find((e => "wallet" === e.type && e.address === t.address && "privy" === e.walletClientType)) : l?.linkedAccounts.find((e => "wallet" === e.type && e.address === t.address && "privy" !== e.walletClientType)), !n && e) { let t = Object.assign({}, l); t.wallet = e && { address: e.address, chainType: e.chainType, chainId: e.chainId, walletClient: e.walletClient, walletClientType: e.walletClientType, connectorType: e.connectorType, imported: e.imported, delegated: e.delegated, walletIndex: e.walletIndex }, u(t) } b.current = d }), [d]); let Ae = async (e, t, n) => { let r = (0, fc.sW)(e), i = (0, fc.ys)(e); if (n && "walletIndex" in n) return ke(e, t, n.walletIndex, r, i); let o = n && "createAdditional" in n && n.createAdditional; if (r && !o) throw (0, yf.Rb)(re, "createWallet", "onError", bs.sX.EMBEDDED_WALLET_ALREADY_EXISTS), Error("User already has an embedded wallet."); let [s, a] = await Promise.all([Le.initializeWalletProxy(t), FQ()]); if (!s && U.customAuth?.enabled) throw (0, yf.Rb)(re, "createWallet", "onError", bs.sX.UNKNOWN_EMBEDDED_WALLET_ERROR), Error("Failed to connect to wallet proxy"); if (!s || !a || U.embeddedWallets?.requireUserOwnedRecoveryOnCreate) return Se(); if (!r) return console.log("solanaWallet", i), await s.create({ accessToken: a, solanaAddress: i?.address }), Ie(0); { let t = ((0, fc.ZM)(e)?.walletIndex ?? 0) + 1, { entropyId: n, entropyIdVerifier: r } = (0, fc.wB)((0, fc.pM)(e)); return await Le.recoverPrimaryWallet(), await s.addWallet({ accessToken: a, entropyId: n, entropyIdVerifier: r, chainType: "ethereum", hdWalletIndex: t }), Ie(t) } }, Se = async () => new Promise(((e, t) => { W(!0), q({ createWallet: { onSuccess: t => { (0, yf.Rb)(re, "createWallet", "onSuccess", t), e(t) }, onFailure: e => { (0, yf.Rb)(re, "createWallet", "onError", bs.sX.UNKNOWN_EMBEDDED_WALLET_ERROR), t(e) }, callAuthOnSuccessOnClose: !1 } }), ue(uf.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN) })), ke = async (e, t, n, r, i) => { if (n < 0) throw (0, yf.Rb)(re, "createWallet", "onError", bs.sX.EMBEDDED_WALLET_CREATE_ERROR), Error(`A negative walletIndex (${n}) is invalid.`); let [o, s] = await Promise.all([Le.initializeWalletProxy(t), FQ()]); if (!o && U.customAuth?.enabled) throw (0, yf.Rb)(re, "createWallet", "onError", bs.sX.UNKNOWN_EMBEDDED_WALLET_ERROR), Error("Failed to connect to wallet proxy"); if (!o || !s || U.embeddedWallets?.requireUserOwnedRecoveryOnCreate) { if (0 == n) return Se(); throw (0, yf.Rb)(re, "createWallet", "onError", bs.sX.UNKNOWN_EMBEDDED_WALLET_ERROR), Error("Create wallet UI can only be displayed when walletIndex is 0.") } if (0 == n) { if (r) return r; await o.create({ accessToken: s, solanaAddress: i?.address }) } else { if (!r) throw (0, yf.Rb)(re, "createWallet", "onError", bs.sX.EMBEDDED_WALLET_CREATE_ERROR), Error("A user must have a wallet at HD index 0 before creating a wallet at greater HD indices."); let t = (0, fc.XN)(e).find((e => e.walletIndex === n)); if (t) return t; let { entropyId: i, entropyIdVerifier: a } = (0, fc.wB)((0, fc.pM)(e)); await Le.recoverPrimaryWallet(), await o.addWallet({ accessToken: s, entropyId: i, entropyIdVerifier: a, chainType: "ethereum", hdWalletIndex: n }) } return Ie(n) }, Ie = async e => { let t = (0, fc.XN)(await Le.refreshUser()).find((t => t.walletIndex === e)); if (!t) throw (0, yf.Rb)(re, "createWallet", "onError", bs.sX.UNKNOWN_EMBEDDED_WALLET_ERROR), Error("Failed to create wallet"); return (0, yf.Rb)(re, "createWallet", "onSuccess", t), t }, Te = (t, n, r, i) => new Promise((async (o, s) => { let { requesterAppId: c } = n || {}; if (!a || !l) return (0, yf.Rb)(re, "sendTransaction", "onError", bs.sX.MUST_BE_AUTHENTICATED), void s(Error("User must be authenticated before signing with a Privy wallet")); let u = i ?? (0, fc.sW)(l)?.address; if (!u) throw new bs.dx("User must have an embedded wallet to send a transaction."); let { signingWallet: d, rootWallet: h } = (0, fc.xw)(l, u); if (!h || !d) return (0, yf.Rb)(re, "sendTransaction", "onError", bs.sX.EMBEDDED_WALLET_NOT_FOUND), void s(Error("Must have a Privy wallet before signing")); W(!0); let f = De.wallets.find((e => "privy" === e.walletClientType && (0, _n.Kn)(e.address) === (0, _n.Kn)(d.address))), p = await (f?.getEthereumProvider()); if (!f || !p) throw new bs.dx(`Cannot sendTransaction before embedded wallet ${d.address} is connected`); let m = t.chainId ? Number(t.chainId) : BJ(f.chainId); (e => { if (!U.chains.map((e => e.id)).includes(e)) throw new bs.M9(`Chain ID ${e} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`, bs.sX.UNSUPPORTED_CHAIN_ID) })(m); let g = Object.assign({}, t, { chainId: m }); if (le({ showWalletUIs: n?.showWalletUIs })) (async () => { let t = await FQ(); if (!t || !L) return (0, yf.Rb)(re, "sendTransaction", "onError", bs.sX.EMBEDDED_WALLET_NOT_FOUND), void s(Error("Must have valid access token and Privy wallet to send transaction")); try { if (!(await Le.recoverPrimaryWallet())) return (0, yf.Rb)(re, "sendTransaction", "onError", bs.sX.UNKNOWN_CONNECT_WALLET_ERROR), void s(Error("Unable to connect to wallet")); let r = Ga(g.chainId, U.chains, U.rpcConfig, { appId: e.appId }), i = await BK(d.address, g, r); if (le({ showWalletUIs: n?.showWalletUIs })) { let { totalGasEstimate: e } = await UK(i, r), { hasSufficientFunds: t } = await BZ(d.address, i, e, r); if (!t) throw new qc(new zc("Wallet has insufficient funds for this transaction.", Dc.E32603_DEFAULT_INTERNAL_ERROR.eipCode)) } let { entropyId: a, entropyIdVerifier: l } = (0, fc.wB)(h), u = await FZ({ accessToken: t, entropyId: a, entropyIdVerifier: l, transactingWallet: d, walletProxy: L, transactionRequest: i, provider: r, requesterAppId: c }); (0, yf.Rb)(re, "sendTransaction", "onSuccess", u), o(u) } catch (t) { (0, yf.Rb)(re, "sendTransaction", "onError", bs.sX.TRANSACTION_FAILURE), s(t) } })(); else { let { entropyId: e, entropyIdVerifier: t } = (0, fc.wB)(h), i = { entropyId: e, entropyIdVerifier: t, onCompleteNavigateTo: uf.EMBEDDED_WALLET_SEND_TRANSACTION_SCREEN, onFailure: e => { (0, yf.Rb)(re, "sendTransaction", "onError", bs.sX.UNKNOWN_CONNECT_WALLET_ERROR), s(e) } }, a = (e => !!e.fundingConfig && XJ(e.fundingConfig.options).length >= 1)(U) ? eQ({ address: d.address, appConfig: U, fundWalletConfig: r, methodScreen: uf.FUNDING_METHOD_SELECTION_SCREEN, chainIdOverride: g.chainId, comingFromSendTransactionScreen: !0 }) : void 0; q({ connectWallet: i, sendTransaction: { transactionRequest: g, transactingWallet: d, entropyId: e, entropyIdVerifier: t, onSuccess: e => { (0, yf.Rb)(re, "sendTransaction", "onSuccess", e), o(e) }, onFailure: e => { (0, yf.Rb)(re, "sendTransaction", "onError", bs.sX.TRANSACTION_FAILURE), s(e) }, uiOptions: n || {}, fundWalletConfig: r, requesterAppId: c }, funding: a }), ue(uf.EMBEDDED_WALLET_CONNECTING_SCREEN) } })), Ne = ({ transaction: e, connection: t, transactionOptions: n, fundWalletConfig: r, uiOptions: i, wallet: o }) => new Promise((async (s, c) => { let { requesterAppId: u } = i || {}; if (!a || !l) return (0, yf.Rb)(re, "sendSolanaTransaction", "onError", bs.sX.MUST_BE_AUTHENTICATED), void c(new bs.dx("User must be authenticated before signing with a Privy wallet", bs.sX.MUST_BE_AUTHENTICATED)); let d = o ? l.linkedAccounts.find((e => "wallet" === e.type && e.address === o.address)) : (0, fc.ys)(l); if (!d) return (0, yf.Rb)(re, "sendSolanaTransaction", "onError", bs.sX.EMBEDDED_WALLET_NOT_FOUND), void c(new bs.dx("Must have a Privy wallet before signing", bs.sX.EMBEDDED_WALLET_NOT_FOUND)); W(!0); let h = o ?? m, f = await (h?.isConnected()); if (!h || !f) throw (0, yf.Rb)(re, "sendSolanaTransaction", "onError", bs.sX.EMBEDDED_WALLET_NOT_FOUND), new bs.dx(`Cannot sendSolanaTransaction before embedded wallet ${d.address} is connected`, bs.sX.EMBEDDED_WALLET_NOT_FOUND); if (le({ showWalletUIs: i?.showWalletUIs })) (async () => { let r = await FQ(); if (!r || !L) return (0, yf.Rb)(re, "sendSolanaTransaction", "onError", bs.sX.EMBEDDED_WALLET_NOT_FOUND), void c(new bs.dx("Must have valid access token and Privy wallet to send transaction", bs.sX.EMBEDDED_WALLET_NOT_FOUND)); try { if (!(await Le.recoverPrimaryWallet())) return (0, yf.Rb)(re, "sendSolanaTransaction", "onError", bs.sX.UNKNOWN_CONNECT_WALLET_ERROR), void c(new bs.dx("Unable to connect to wallet", bs.sX.UNKNOWN_CONNECT_WALLET_ERROR)); if (le({ showWalletUIs: i?.showWalletUIs })) { let { instructions: n } = await XR(e, t); n.every((e => e.hasFunds)) || ((0, yf.Rb)(re, "sendSolanaTransaction", "onError", bs.sX.INSUFFICIENT_BALANCE), c(new bs.dx("Solana wallet has insufficient funds for this transaction.", bs.sX.INSUFFICIENT_BALANCE))) } let { entropyId: o, entropyIdVerifier: a } = (0, fc.W8)(l), { signature: u, receipt: h } = await nZ({ accessToken: r, tx: e, connection: t, walletProxy: L, transactionOptions: n, entropyId: o, entropyIdVerifier: a, transactingWalletAddress: d.address, transactingWalletIndex: d.walletIndex ?? 0 }), f = ZR(u, h); (0, yf.Rb)(re, "sendSolanaTransaction", "onSuccess", f), s(f) } catch (e) { (0, yf.Rb)(re, "sendSolanaTransaction", "onError", bs.sX.TRANSACTION_FAILURE), c(e) } })(); else { let { entropyId: o, entropyIdVerifier: a } = (0, fc.wB)(d), l = { entropyId: o, entropyIdVerifier: a, onCompleteNavigateTo: uf.EMBEDDED_WALLET_SEND_SOLANA_TRANSACTION_SCREEN, onFailure: e => { (0, yf.Rb)(re, "sendSolanaTransaction", "onError", bs.sX.UNKNOWN_CONNECT_WALLET_ERROR), c(e) } }, h = tQ({ address: d.address, appConfig: U, methodScreen: uf.FUNDING_METHOD_SELECTION_SCREEN, fundWalletConfig: r, comingFromSendTransactionScreen: !0 }); q({ connectWallet: l, sendSolanaTransaction: { transactionRequest: e, connection: t, transactionOptions: n, transactingWallet: d, onSuccess: e => { (0, yf.Rb)(re, "sendSolanaTransaction", "onSuccess", e), s(e) }, onFailure: e => { (0, yf.Rb)(re, "sendSolanaTransaction", "onError", bs.sX.TRANSACTION_FAILURE), c(e) }, uiOptions: i || {}, requesterAppId: u }, funding: h }), ue(uf.EMBEDDED_WALLET_CONNECTING_SCREEN) } })); function Pe() { return new Promise((async (e, t) => { let n = await FQ(); if (!n || !L) throw Error("Must have valid access token to enroll in MFA"); try { await L.verifyMfa({ accessToken: n }), e() } catch (e) { t(e) } })) } let Me = e => e?.linkedAccounts.filter((e => null !== e.latestVerifiedAt && !("wallet" === e.type && "privy" === e.walletClientType))).sort(((e, t) => t.latestVerifiedAt.getTime() - e.latestVerifiedAt.getTime()))[0], Oe = e => { let t = l?.linkedAccounts.filter((t => t.type === e)).length ?? 0, { displayName: n, loginMethod: r } = sz(e); if ("passkey" === e && t >= 5 || "passkey" !== e && t >= 1) throw (0, yf.Rb)(re, "linkAccount", "onError", bs.sX.CANNOT_LINK_MORE_OF_TYPE, { linkMethod: r }), new bs.dx(`User already has an account of type ${n} linked.`) }; async function Re({ showAutomaticRecovery: e = !1, legacySetWalletPasswordFlow: t = !1 }) { x(null); let n = t ? "setWalletPassword" : "setWalletRecovery"; if (!a || !l) throw (0, yf.Rb)(re, n, "onError", bs.sX.MUST_BE_AUTHENTICATED), Error("User must be authenticated before adding recovery method to Privy wallet"); let r = (0, fc.pM)(l); if (!r || !L) throw (0, yf.Rb)(re, n, "onError", bs.sX.EMBEDDED_WALLET_NOT_FOUND), Error("Must have a Privy wallet to add a recovery method"); try { await Pe() } catch (e) { throw (0, yf.Rb)(re, n, "onError", bs.sX.MISSING_MFA_CREDENTIALS), e } return new Promise(((i, o) => { W(!0); let s = { onSuccess: e => { (0, yf.Rb)(re, n, "onSuccess", "user-passcode", e), i(e) }, onFailure: e => { (0, yf.Rb)(re, n, "onError", bs.sX.USER_EXITED_SET_PASSWORD_FLOW), o(e) }, callAuthOnSuccessOnClose: !1 }, a = "user-passcode" === r.recoveryMethod, c = YT({ walletAction: "update", availableRecoveryMethods: U.embeddedWallets.userOwnedRecoveryOptions, legacySetWalletPasswordFlow: t, isResettingPassword: a, showAutomaticRecovery: e }), { entropyId: l, entropyIdVerifier: u } = (0, fc.wB)(r); q({ setWalletPassword: s, recoverWallet: { entropyId: l, entropyIdVerifier: u, onFailure: o }, createWallet: s, connectWallet: { onCompleteNavigateTo: c, shouldForceMFA: !1, entropyId: l, entropyIdVerifier: u, onFailure: e => { (0, yf.Rb)(re, n, "onError", bs.sX.UNKNOWN_CONNECT_WALLET_ERROR), o(e) } }, recoverySelection: { isInAccountCreateFlow: !1, isResettingPassword: a } }), ue(uf.EMBEDDED_WALLET_CONNECTING_SCREEN) })) } async function je({ appId: e, action: n }) { let r = await FQ(); if ("link" === n && !r) throw (0, yf.Rb)(re, "linkAccount", "onError", bs.sX.MUST_BE_AUTHENTICATED, { linkMethod: `privy:${e}` }), new bs.dx("User must be authenticated before linking an account."); if ("login" === n && r) throw (0, yf.Rb)(re, "login", "onError", bs.sX.UNKNOWN_AUTH_ERROR), new bs.dx("Attempted to log in, but user is already logged in. Use a `link` helper instead."); se.current = `privy:${e}`, ae.current = n; let i = fW(); return t.createAnalyticsEvent({ eventName: "cross_app_auth_started", payload: { providerAppId: e } }), new Promise((async (r, o) => { let { name: s, logoUrl: a } = await HJ({ api: t.api, providerAppId: e, requesterAppId: U.id }); q({ crossAppAuth: { appId: e, name: s, logoUrl: a, action: n, popup: i, onSuccess: r, onError: o } }), de(uf.CROSS_APP_AUTH_SCREEN) })) } let $e = { ready: o, authenticated: a, user: l, walletConnectors: t.connectors || null, connectWallet: e => { e && "target" in e && e && (e = void 0), q({ externalConnectWallet: { walletList: e?.walletList && e?.walletList.length > 0 ? e.walletList : void 0, suggestedAddress: e?.suggestedAddress } }), ue(a ? uf.CONNECT_ONLY_AUTHENTICATED_SCREEN : uf.CONNECT_ONLY_LANDING_SCREEN) }, linkWallet: Ee, startCrossAppAuthFlow: je, linkEmail: () => { we("email"), Oe("email"), se.current = "email", ae.current = "link", ue(uf.LINK_EMAIL_SCREEN) }, linkPhone: () => { we("sms"), Oe("phone"), se.current = "sms", ae.current = "link", ue(uf.LINK_PHONE_SCREEN) }, linkGoogle: async () => { we("google"), Oe("google_oauth"), ae.current = "link", await Le.initLoginWithOAuth("google") }, linkTwitter: async () => { we("twitter"), Oe("twitter_oauth"), ae.current = "link", await Le.initLoginWithOAuth("twitter") }, linkDiscord: async () => { we("discord"), Oe("discord_oauth"), ae.current = "link", await Le.initLoginWithOAuth("discord") }, linkGithub: async () => { we("github"), Oe("github_oauth"), ae.current = "link", await Le.initLoginWithOAuth("github") }, linkSpotify: async () => { we("spotify"), Oe("spotify_oauth"), ae.current = "link", await Le.initLoginWithOAuth("spotify") }, linkInstagram: async () => { we("instagram"), Oe("instagram_oauth"), ae.current = "link", await Le.initLoginWithOAuth("instagram") }, linkTiktok: async () => { we("tiktok"), Oe("tiktok_oauth"), ae.current = "link", await Le.initLoginWithOAuth("tiktok") }, linkLinkedIn: async () => { we("linkedin"), Oe("linkedin_oauth"), ae.current = "link", await Le.initLoginWithOAuth("linkedin") }, linkApple: async () => { we("apple"), Oe("apple_oauth"), ae.current = "link", await Le.initLoginWithOAuth("apple") }, linkPasskey: async () => { we("passkey"), Oe("passkey"), await Le.initLinkWithPasskey(), ue(uf.LINK_PASSKEY_SCREEN) }, linkTelegram: async () => { we("telegram"), Oe("telegram"), ae.current = "link", se.current = "telegram", await Le.initLoginWithTelegram(), ue(uf.TELEGRAM_AUTH_SCREEN) }, linkFarcaster: async () => { we("farcaster"), Oe("farcaster"), await Le.initLoginWithFarcaster(), ae.current = "link", se.current = "farcaster", ue(uf.AWAITING_FARCASTER_CONNECTION) }, updateEmail: () => { if (we("email"), !l?.email) throw new bs.dx("User does not have an email linked to their account."); ae.current = "update", se.current = "email", ue(uf.UPDATE_EMAIL_SCREEN) }, updatePhone: () => { if (we("sms"), !l?.phone) throw new bs.dx("User does not have a phone number linked to their account."); ae.current = "update", se.current = "sms", ue(uf.UPDATE_PHONE_SCREEN) }, login: async e => { e && "target" in e && e && (e = void 0); let t = "Attempted to log in, but user is already logged in. Use a `link` helper instead."; if (!o) { let e = await new Promise((e => { G((t => e.bind(t))) })); if (G(null), e) return void console.warn(t) } !l || l.isGuest ? (ae.current = "login", q({ login: e }), de(uf.LANDING)) : console.warn(t) }, connectOrCreateWallet: async () => { o || (await new Promise((e => { G((() => e)) })), G(null)), a ? console.warn("User must be unauthenticated to `connectOrCreateWallet`") : (ae.current = "login", de(uf.CONNECT_OR_CREATE)) }, logout: async () => { if (ae.current = null, se.current = null, l && t.clearProviderAcccessTokens(l), x(null), await t.logout(), l && L) try { await L.clearMfa({ userId: l.id }) } catch (t0) { } u(null), c(!1), (0, yf.Rb)(re, "logout", "onSuccess"), i(!1), ya.del(na), ya.del(ra(U.id)) }, getAccessToken: () => t.getCustomerAccessToken(), getEthereumProvider: () => { if (!l || !l.wallet) return new Zc; let e = d.find((e => l.wallet && e.address === l.wallet.address)), n = t.connectors?.walletConnectors.find((t => t.wallets.find((t => t.address === e?.address)))); return e && n ? n.proxyProvider : new Zc }, getEthersProvider: () => { if (!l || !l.wallet) return new gs(new Xc(new Zc)); let e = d.find((e => l.wallet && e.address === l.wallet.address)), n = t.connectors?.walletConnectors.find((t => t.wallets.find((t => t.address === e?.address)))); return new gs(new Xc(e && n ? n.proxyProvider : new Zc)) }, getWeb3jsProvider: () => { if (!l || !l.wallet) return new Jc(new Zc); let e = d.find((e => l.wallet && e.address === l.wallet.address)), n = t.connectors?.walletConnectors.find((t => t.wallets.find((t => t.address === e?.address)))); return new Jc(e && n ? n.proxyProvider : new Zc) }, unlinkWallet: async e => { let n; return u(n = e.startsWith("0x") ? await t.unlinkEthereumWallet(e) : await t.unlinkSolanaWallet(e)), n }, unlinkEmail: async e => { let n = await t.unlinkEmail(e); return u(n), n }, unlinkPhone: async e => { let n = await t.unlinkPhone(e); return u(n), n }, unlinkGoogle: async e => { let n = await t.unlinkOAuth("google", e); return u(n), n }, unlinkTwitter: async e => { let n = await t.unlinkOAuth("twitter", e); return u(n), n }, unlinkDiscord: async e => { let n = await t.unlinkOAuth("discord", e); return u(n), n }, unlinkGithub: async e => { let n = await t.unlinkOAuth("github", e); return u(n), n }, unlinkSpotify: async e => { let n = await t.unlinkOAuth("spotify", e); return u(n), n }, unlinkInstagram: async e => { let n = await t.unlinkOAuth("instagram", e); return u(n), n }, unlinkTiktok: async e => { let n = await t.unlinkOAuth("tiktok", e); return u(n), n }, unlinkLinkedIn: async e => { let n = await t.unlinkOAuth("linkedin", e); return u(n), n }, unlinkApple: async e => { let n = await t.unlinkOAuth("apple", e); return u(n), n }, unlinkFarcaster: async e => { let n = await t.unlinkFarcaster(e); return u(n), n }, unlinkTelegram: async e => { let n = await t.unlinkTelegram(e); return u(n), n }, unlinkPasskey: async e => { let n = await t.unlinkPasskey(e); return u(n), n }, unlinkCrossAppAccount: async ({ subject: e }) => { let n = l?.linkedAccounts.find((t => "cross_app" === t.type && t.subject === e))?.providerApp; if (!n) throw new bs.dx("Invalid subject"); t.storeProviderAccessToken(n.id, null); let r = await t.unlinkOAuth(`privy:${n.id}`, e); return u(r), r }, setActiveWallet: async e => { let t = d.find((t => (0, _n.Kn)(t.address) === (0, _n.Kn)(e))), n = l?.linkedAccounts.find((t => "wallet" === t.type && (0, _n.Kn)(t.address) === (0, _n.Kn)(e))); if (t && await t.isConnected()) if (t.linked) { let e = Object.assign({}, l); e.wallet = n && { address: n.address, chainType: n.chainType, chainId: n.chainId, walletClient: n.walletClient, walletClientType: n.walletClientType, connectorType: n.connectorType, imported: n.imported, delegated: n.delegated, walletIndex: n.walletIndex }, u(e) } else t.loginOrLink(); else q({ externalConnectWallet: { suggestedAddress: e } }), Ee() }, forkSession: () => t.forkSession(), createWallet: async e => { if (e && "target" in e && e && (e = void 0), !a || !l) throw (0, yf.Rb)(re, "createWallet", "onError", bs.sX.MUST_BE_AUTHENTICATED), Error("User must be authenticated before creating a Privy wallet"); return Ae(l, 15e3, e) }, setWalletRecovery: async e => Re({ legacySetWalletPasswordFlow: !1, showAutomaticRecovery: e?.showAutomaticRecovery ?? !1 }), setWalletPassword: async () => Re({ legacySetWalletPasswordFlow: !0, showAutomaticRecovery: !1 }), signMessage: (e, n, r) => new Promise((async (i, o) => { let { requesterAppId: s } = n || {}; if (!a || !l) return (0, yf.Rb)(re, "signMessage", "onError", bs.sX.MUST_BE_AUTHENTICATED), void o(Error("User must be authenticated before signing with a Privy wallet")); let c = r ?? (0, fc.sW)(l)?.address; if (!c) throw new bs.dx("User must have an embedded wallet to sign a message."); let { signingWallet: u, rootWallet: d } = (0, fc.xw)(l, c); if (!u || !d) return (0, yf.Rb)(re, "signMessage", "onError", bs.sX.EMBEDDED_WALLET_NOT_FOUND), void o(Error("Must have a Privy wallet before signing")); if ("string" != typeof e || e.length < 1) return (0, yf.Rb)(re, "signMessage", "onError", bs.sX.INVALID_MESSAGE), void o(Error("Message must be a non-empty string")); W(!0); let h = async () => { if (!a) throw Error("User must be authenticated before signing with a Privy wallet"); let n = await FQ(); if (!L || !n || !(await Le.recoverPrimaryWallet())) throw Error("Unable to connect to wallet"); t.createAnalyticsEvent({ eventName: "embedded_wallet_sign_message_started", payload: { walletAddress: u.address, requesterAppId: s } }); let { entropyId: r, entropyIdVerifier: i } = (0, fc.wB)(d), { response: o } = await L.rpc({ accessToken: n, entropyId: r, entropyIdVerifier: i, chainType: "ethereum", hdWalletIndex: u.walletIndex ?? 0, requesterAppId: s, request: { method: "personal_sign", params: [e, u.address] } }), c = o.data; return t.createAnalyticsEvent({ eventName: "embedded_wallet_sign_message_completed", payload: { walletAddress: u.address, requesterAppId: s } }), c }; if (le({ showWalletUIs: n?.showWalletUIs })) try { let e = await h(); (0, yf.Rb)(re, "signMessage", "onSuccess", e), i(e) } catch (e) { (0, yf.Rb)(re, "signMessage", "onError", bs.sX.UNABLE_TO_SIGN), o(e ?? new qc("Unable to sign message")) } else { let { entropyId: t, entropyIdVerifier: r } = (0, fc.wB)(d); q({ signMessage: { method: "personal_sign", data: e, confirmAndSign: h, onSuccess: e => { (0, yf.Rb)(re, "signMessage", "onSuccess", e), i(e) }, onFailure: e => { (0, yf.Rb)(re, "signMessage", "onError", bs.sX.UNABLE_TO_SIGN), o(e) }, uiOptions: n || {} }, connectWallet: { entropyId: t, entropyIdVerifier: r, onCompleteNavigateTo: uf.EMBEDDED_WALLET_SIGN_REQUEST_SCREEN, onFailure: e => { (0, yf.Rb)(re, "signMessage", "onError", bs.sX.UNKNOWN_CONNECT_WALLET_ERROR), o(e) } } }), ue(uf.EMBEDDED_WALLET_CONNECTING_SCREEN) } })), signTypedData: (e, n, r) => new Promise((async (i, o) => { let { requesterAppId: s } = n || {}; if (!a || !l) return (0, yf.Rb)(re, "signTypedData", "onError", bs.sX.MUST_BE_AUTHENTICATED), void o(Error("User must be authenticated before signing with a Privy wallet")); let c = r ?? (0, fc.sW)(l)?.address; if (!c) throw new bs.dx("User must have an embedded wallet to sign a message."); let { signingWallet: u, rootWallet: d } = (0, fc.xw)(l, c); if (!d || !u) return (0, yf.Rb)(re, "signTypedData", "onError", bs.sX.EMBEDDED_WALLET_NOT_FOUND), void o(Error("Must have a Privy wallet before signing")); W(!0); let h = Va(e), f = async () => { if (!a) throw Error("User must be authenticated before signing with a Privy wallet"); let e = await FQ(); if (!L || !e || !(await Le.recoverPrimaryWallet())) throw Error("Unable to connect to wallet"); t.createAnalyticsEvent({ eventName: "embedded_wallet_sign_typed_data_started", payload: { walletAddress: u.address, requesterAppId: s } }); let { entropyId: n, entropyIdVerifier: r } = (0, fc.wB)(d), { response: i } = await L.rpc({ accessToken: e, entropyId: n, entropyIdVerifier: r, chainType: "ethereum", hdWalletIndex: u.walletIndex ?? 0, requesterAppId: s, request: { method: "eth_signTypedData_v4", params: [u.address, h] } }), o = i.data; return t.createAnalyticsEvent({ eventName: "embedded_wallet_sign_typed_data_completed", payload: { walletAddress: u.address, requesterAppId: s } }), o }; if (le({ showWalletUIs: n?.showWalletUIs, typedData: !0 })) try { let e = await f(); (0, yf.Rb)(re, "signTypedData", "onSuccess", e), i(e) } catch (e) { (0, yf.Rb)(re, "signTypedData", "onError", bs.sX.UNABLE_TO_SIGN), o(e ?? new qc("Unable to sign message")) } else { let { entropyId: e, entropyIdVerifier: t } = (0, fc.wB)(d); q({ signMessage: { method: "eth_signTypedData_v4", data: h, confirmAndSign: f, onSuccess: e => { (0, yf.Rb)(re, "signTypedData", "onSuccess", e), i(e) }, onFailure: e => { (0, yf.Rb)(re, "signTypedData", "onError", bs.sX.UNABLE_TO_SIGN), o(e) }, uiOptions: n || {} }, connectWallet: { entropyId: e, entropyIdVerifier: t, onCompleteNavigateTo: uf.EMBEDDED_WALLET_SIGN_REQUEST_SCREEN, onFailure: e => { (0, yf.Rb)(re, "signMessage", "onError", bs.sX.UNKNOWN_CONNECT_WALLET_ERROR), o(e) } } }), ue(uf.EMBEDDED_WALLET_CONNECTING_SCREEN) } })), sendTransaction: async (e, t, n, r) => { let i = await Te(e, t, n, r); return WZ(await i.wait()) }, sendSolanaTransaction: async (e, t, n, r, i) => await Ne({ transaction: e, connection: t, transactionOptions: r, uiOptions: n, fundWalletConfig: i, wallet: m ?? void 0 }), exportWallet: n => new Promise((async (r, i) => { if (!a || !l) return void i(Error("User must be authenticated before exporting their Privy wallet")); n && "target" in n && n && (n = void 0); let o = n?.address ?? (0, fc.sW)(l)?.address; if (!o) return void i(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`.")); let { signingWallet: s, rootWallet: c } = (0, fc.xw)(l, o); if (!s || !c) return void i(Error("Must have a Privy wallet before exporting")); W(!0); let { entropyId: u, entropyIdVerifier: d } = (0, fc.wB)(c), h = { entropyId: u, entropyIdVerifier: d, onCompleteNavigateTo: uf.EMBEDDED_WALLET_KEY_EXPORT_SCREEN, onFailure: i, shouldForceMFA: !0 }; q(z), await FQ() && L ? L ? (q({ keyExport: { appId: e.appId, appClientId: e.clientId, origin: t.apiUrl, walletToExport: s, primaryWallet: c, onSuccess: r, onFailure: i }, connectWallet: h }), ue(uf.EMBEDDED_WALLET_CONNECTING_SCREEN)) : i(Error("Must have a Privy wallet before exporting")) : i(Error("Must have valid access token to enroll in MFA")) })), promptMfa: Pe, async init(e) { switch (e) { case "sms": return void (await t.initMfaSmsVerification()); case "passkey": return await t.initMfaPasskeyVerification(); case "totp": return; default: throw Error(`Unsupported MFA method: ${e}`) } }, async submit(e, t) { switch (e) { case "totp": case "sms": if ("string" != typeof t) throw new bs.dx("Invalid MFA code"); te.current?.resolve({ mfaMethod: e, mfaCode: t, relyingParty: window.origin }), await new Promise(((e, t) => { ne.current = { resolve: e, reject: t } })); break; case "passkey": if ("string" == typeof t) throw new bs.dx("Invalid authenticator response"); let r = await n.e(603).then(n.bind(n, 56603)), i = (e => ({ id: e.id, raw_id: e.rawId, response: { client_data_json: e.response.clientDataJSON, authenticator_data: e.response.authenticatorData, signature: e.response.signature, user_handle: e.response.userHandle }, authenticator_attachment: e.authenticatorAttachment, client_extension_results: { app_id: e.clientExtensionResults.appid, cred_props: e.clientExtensionResults.credProps, hmac_create_secret: e.clientExtensionResults.hmacCreateSecret }, type: e.type }))(await r.startAuthentication(t)); te.current?.resolve({ mfaMethod: e, mfaCode: i, relyingParty: window.origin }), await new Promise(((e, t) => { ne.current = { resolve: e, reject: t } })); break; default: throw te.current?.reject(new bs.dx("Unsupported MFA method")), new bs.dx(`Unsupported MFA method: ${e}`) } }, cancel() { te.current?.reject(new bs.dx("MFA canceled")) }, async initEnrollmentWithSms(e) { let t = await FQ(); if (!t || !L) throw Error("Must have valid access token to enroll in MFA"); await L.initEnrollMfa({ method: "sms", accessToken: t, phoneNumber: e.phoneNumber }) }, enrollInMfa: e => new Promise(((t, n) => { if (!e) return Le.closePrivyModal(), void t(); U.mfa.noPromptOnMfaRequired && console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."), q({ mfaEnrollmentFlow: { mfaMethods: U.mfa.methods, onSuccess: t, onFailure: n } }), ue(uf.MFA_ENROLLMENT_FLOW_SCREEN) })), async initEnrollmentWithTotp() { let e = await FQ(); if (!e || !L) throw Error("Must have valid access token to enroll in MFA"); let t = await L.initEnrollMfa({ method: "totp", accessToken: e }); return { secret: t.secret, authUrl: t.authUrl } }, async submitEnrollmentWithSms(e) { let n = await FQ(); if (!n || !L) throw Error("Must have valid access token to enroll in MFA"); await L.submitEnrollMfa({ method: "sms", accessToken: n, phoneNumber: e.phoneNumber, code: e.mfaCode }), u(await t.getAuthenticatedUser()) }, async submitEnrollmentWithTotp(e) { let n = await FQ(); if (!n || !L) throw Error("Must have valid access token to enroll in MFA"); await L.submitEnrollMfa({ method: "totp", accessToken: n, code: e.mfaCode }), u(await t.getAuthenticatedUser()) }, async initEnrollmentWithPasskey() { }, async submitEnrollmentWithPasskey({ credentialIds: e }) { let n = await FQ(); if (!n || !L) throw Error("Must have valid access token to enroll in MFA"); await L.submitEnrollMfa({ method: "passkey", accessToken: n, credentialIds: e }), u(await t.getAuthenticatedUser()) }, async unenroll(e) { let n = await FQ(); if (!n || !L) throw Error("Must have valid access token to remove MFA"); "passkey" === e ? await L.submitEnrollMfa({ method: "passkey", accessToken: n, credentialIds: [] }) : await L.unenrollMfa({ method: e, accessToken: n }), u(await t.getAuthenticatedUser()) }, requestFarcasterSignerFromWarpcast: async () => { let e = await FQ(), n = l?.linkedAccounts.find((e => "wallet" === e.type && "privy" === e.walletClientType)); if (!e) throw Error("Must have valid access token to connect with Farcaster"); if (!L || !n) throw Error("Must have an embedded wallet to use Farcaster signers"); if (!l?.farcaster?.fid) throw Error("Must have Farcaster account to use Farcaster signers"); if (!(await Le.recoverPrimaryWallet())) throw Error("Unable to connect to wallet"); let r = await L.initFarcasterSigner({ address: n.address, hdWalletIndex: null, accessToken: e, mfaCode: null, mfaMethod: null, relyingParty: window.origin }); "approved" === r.status && u(await t.getAuthenticatedUser() || l || null), q({ farcasterSigner: r }), ue(uf.AWAITING_FARCASTER_SIGNER) }, getFarcasterSignerPublicKey: async () => { let e, t = await FQ(), n = l?.linkedAccounts.find((e => "wallet" === e.type && "privy" === e.walletClientType)); if (!t) throw Error("Must have valid access token to connect with Farcaster"); if (!L || !n) throw Error("Must have an embedded wallet to use Farcaster signers"); if (!l?.farcaster?.fid) throw Error("Must have Farcaster account to use Farcaster signers"); if (!(await Le.recoverPrimaryWallet())) throw Error("Unable to connect to wallet"); if (!l.farcaster?.signerPublicKey) throw Error("Must have a Farcaster signer public key to sign"); return e = l.farcaster.signerPublicKey.slice(2), Uint8Array.from(e.match(/.{1,2}/g).map((e => parseInt(e, 16)))) }, signFarcasterMessage: async e => { let t = await FQ(), r = l?.linkedAccounts.find((e => "wallet" === e.type && "privy" === e.walletClientType)); if (!t) throw Error("Must have valid access token to connect with Farcaster"); if (!L || !r) throw Error("Must have an embedded wallet to use Farcaster signers"); if (!l?.farcaster?.fid) throw Error("Must have Farcaster account to use Farcaster signers"); if (!(await Le.recoverPrimaryWallet())) throw Error("Unable to connect to wallet"); if (!l.farcaster?.signerPublicKey) throw Error("Must have a Farcaster signer public key to sign"); let i = await n.e(603).then(n.bind(n, 56603)), o = await L.signFarcasterMessage({ address: r.address, hdWalletIndex: null, accessToken: t, mfaCode: null, mfaMethod: null, payload: { hash: i.bufferToBase64URLString(e) }, fid: BigInt(l.farcaster.fid), relyingParty: window.origin }); return new Uint8Array(i.base64URLStringToBuffer(o.signature)) }, createGuestAccount: async () => { if (l && !l.isGuest) throw Error("User cannot already be authenticated to create a guest account"); return l?.isGuest ? l : Le.loginWithGuestAccountFlow() }, signMessageWithCrossAppWallet(e, { address: n }) { let r = l?.linkedAccounts.some((e => "cross_app" === e.type && e.smartWallets.some((e => e.address === n)))); return GJ({ user: l, client: t, address: n, requesterAppId: U.id, request: { method: r ? "privy_signSmartWalletMessage" : "personal_sign", params: [e, n] }, reconnect: je }) }, signTypedDataWithCrossAppWallet(e, { address: n }) { let r = l?.linkedAccounts.some((e => "cross_app" === e.type && e.smartWallets.some((e => e.address === n)))), i = Va(e); return GJ({ user: l, client: t, address: n, requesterAppId: U.id, request: { method: r ? "privy_signSmartWalletTypedData" : "eth_signTypedData_v4", params: [n, i] }, reconnect: je }) }, sendTransactionWithCrossAppWallet(e, { address: n }) { let r = l?.linkedAccounts.some((e => "cross_app" === e.type && e.smartWallets.some((e => e.address === n)))); return GJ({ user: l, client: t, address: n, requesterAppId: U.id, request: { method: r ? "privy_sendSmartWalletTx" : "eth_sendTransaction", params: [e] }, reconnect: je }) }, isModalOpen: r, mfaMethods: U.mfa.methods }; RQ = $e.signMessage, jQ = $e.signTypedData, $Q = async (...e) => { let t = await Te(...e); return U.embeddedWallets.waitForTransactionConfirmation && await t.wait(), t }; let Le = { isNewUserThisSession: v, pendingTransaction: null, walletConnectionStatus: A, connectors: t.connectors?.walletConnectors ?? [], solanaWallets: f, rpcConfig: U.rpcConfig, chains: U.chains, appId: e.appId, showFiatPrices: "native-token" !== U.embeddedWallets.priceDisplay.primary, clientAnalyticsId: t.clientAnalyticsId, customAuthStatus: Q, noPromptOnSignature: ce, emailOtpState: T, setEmailOtpState: N, smsOtpState: P, setSmsOtpState: M, oAuthState: j, setOAuthState: $, siweState: O, setSiweState: R, isHeadlessOAuthLoading: _, nativeTokenSymbolForChainId: e => U.chains.find((t => t.id === Number(e)))?.nativeCurrency.symbol, initializeWalletProxy: async e => { if (L) return L; let t = new Promise((e => { K((() => t => e(t))) })), n = new Promise((t => setTimeout((() => t(null)), e))), r = await Promise.race([t, n]); return K(null), r }, getAuthFlow: () => t.authFlow, getAuthMeta: () => t.authFlow?.meta, client: t, closePrivyModal: async (r = { shouldCallAuthOnSuccess: !0, isSuccess: !1 }) => { let s, c = o && a && l; c && se.current && (s = Me(l)), "login" === ae.current ? r.shouldCallAuthOnSuccess && c && se.current ? ((0, yf.Rb)(re, "login", "onComplete", l, v, !1, se.current, s ?? null), e.onSuccess?.(l, v)) : (0, yf.Rb)(re, "login", "onError", bs.sX.USER_EXITED_AUTH_FLOW) : "link" === ae.current && s ? r.isSuccess && c && se.current ? (0, yf.Rb)(re, "linkAccount", "onSuccess", l, se.current, s) : se.current && (0, yf.Rb)(re, "linkAccount", "onError", bs.sX.USER_EXITED_LINK_FLOW, { linkMethod: se.current }) : "update" === ae.current && s && (r.isSuccess && c && se.current ? (0, yf.Rb)(re, "update", "onSuccess", l, se.current, s) : se.current && (0, yf.Rb)(re, "update", "onError", bs.sX.USER_EXITED_UPDATE_FLOW, { linkMethod: se.current })); let u = E && YJ.includes(E), d = E === uf.ERROR_SCREEN && z.errorModalData && YJ.includes(z.errorModalData.previousScreen); if ((u || d) && z.funding) { let t, r = ZJ[E] ?? null; if ("solana" === z.funding.chainType) { let { Connection: e, PublicKey: i } = await Promise.all([n.e(766), n.e(420)]).then(n.bind(n, 59917)); try { t = await new e(bh(z.funding.cluster)).getBalance(new i(z.funding.address)).then((e => BigInt(e))) } catch { console.error("Unable to pull wallet balance") } (0, yf.Rb)(re, "fundSolanaWallet", "onUserExited", { address: z.funding.address, cluster: z.funding.cluster, fundingMethod: r, balance: t }) } else { let n = Ga(z.funding.chain.id, U.chains, U.rpcConfig, { appId: e.appId }); try { t = (await n.getBalance(z.funding.address)).toBigInt() } catch { console.error("Unable to pull wallet balance") } (0, yf.Rb)(re, "fundWallet", "onUserExited", { address: z.funding.address, chain: z.funding.chain, fundingMethod: r, balance: t }) } } q({ ...z, externalConnectWallet: { suggestedAddress: void 0 } }), ae.current = null, se.current = null, w(!1), i(!1), setTimeout((() => { t.authFlow = void 0 }), 200), t.createAnalyticsEvent({ eventName: "modal_closed" }) }, solanaSignMessage: async ({ message: e }) => new Promise((async (n, r) => { let i = async () => { let n = await t.getAccessToken(); if (!n) throw Error("User must be authenticated to use their embedded wallet."); if (!m) throw Error("User must have an embedded Solana wallet to sign messages for Solana."); let r = Le.walletProxy ?? await Le.initializeWalletProxy(15e3); if (!r) throw Error("Failed to initialize embedded wallet proxy."); let { entropyId: i, entropyIdVerifier: o } = (0, fc.W8)(l), { response: s } = await r.rpc({ accessToken: n, entropyId: i, entropyIdVerifier: o, chainType: "solana", hdWalletIndex: m.walletIndex ?? 0, request: { method: "signMessage", params: { message: e } } }); return s.data.signature }; if (le({ showWalletUIs: void 0 })) try { let e = await i(); n({ signature: e }) } catch (e) { r(e) } else q({ signMessage: { method: "solana_signMessage", data: e, confirmAndSign: i, onSuccess: e => { n({ signature: e }) }, onFailure: e => { r(e) }, uiOptions: {} } }), de(uf.EMBEDDED_WALLET_SIGN_REQUEST_SCREEN) })), openPrivyModal: ue, connectWallet: ge, initLoginWithWallet: async (e, t, n) => { Gc(e) ? (se.current = "siwe", ye(e, t, n)) : (se.current = "siws", be(e, t)) }, loginWithWallet: async () => { let e, n, r; if (!o) throw new bs.Zp; if (t.authFlow instanceof Ea ? e = "siwe" : t.authFlow instanceof _a && (e = "siws"), !e) throw new bs.dx("Must initialize SIWE/SIWS flow first."); if (null !== await t.getAccessToken()) try { ({ user: n } = await t.link()), se.current = e } catch (n) { throw (0, yf.Rb)(re, "linkAccount", "onError", n.privyErrorCode || bs.sX.FAILED_TO_LINK_ACCOUNT, { linkMethod: e }), n } else try { ({ user: n, isNewUser: r } = await t.authenticate()), se.current = e } catch (e) { throw (0, yf.Rb)(re, "login", "onError", e.privyErrorCode || bs.sX.GENERIC_CONNECT_WALLET_ERROR), e } u(n || l || null), w(r || !1), c(!0) }, delegateWallet: async ({ address: e, chainType: t }) => new Promise((async (n, r) => { let i = await FQ(); if (!a || !l || !i) throw new bs.dx("User must be authenticated and have an embedded wallet to delegate actions."); if ("solana" !== t && "ethereum" !== t) throw new bs.dx("Only Solana and Ethereum embedded wallets are supported for delegation and revocation."); let o = Le.walletProxy ?? await Le.initializeWalletProxy(15e3); if (!o) throw new bs.dx("Wallet proxy not initialized."); if ((({ address: e, chainType: t, user: n }) => !!FJ(n).find((n => n.address === e && n.chainType === t)))({ address: e, chainType: t, user: l })) throw new bs.dx(`Wallet with address ${e} is already delegated.`); let s = (({ address: e, user: t }) => { let n = t.linkedAccounts.find((t => "wallet" === t.type && "privy" === t.walletClientType && t.address === e)); if (!n) throw new bs.dx("Address to delegate is not associated with current user."); return { address: n.address, chainType: n.chainType, walletIndex: n.walletIndex ?? 0 } })({ address: e, user: l }), c = (({ address: e, user: t }) => { let n, r = t.linkedAccounts.find((t => "wallet" === t.type && "privy" === t.walletClientType && t.address === e)); if (!r) throw new bs.dx("Address to delegate is not associated with current user."); if (!(n = "ethereum" === r.chainType ? r.imported ? (0, fc.Nc)(t) : (0, fc.sW)(t) : r)) throw new bs.dx("Unable to determine root address for delegated address."); return { address: n.address, chainType: n.chainType, imported: n.imported } })({ address: e, user: l }); await Le.recoverPrimaryWallet(), q({ delegatedActions: { consent: { address: e, onDelegate: async () => { await o.createDelegatedAction({ accessToken: i, rootWallet: c, delegatedWallets: [s] }), await Le.refreshUser() }, onSuccess: async () => { n() }, onError: async e => { r(e) } } } }), ue(uf.EMBEDDED_WALLET_DELEGATED_ACTIONS_CONSENT_SCREEN) })), revokeDelegatedWallets: async () => new Promise((async (e, n) => { if (!a || !l) throw new bs.dx("User must be authenticated and have an embedded wallet to revoke a delegated wallet."); if (0 === FJ(l).length) throw new bs.dx("User has no delegated wallets to revoke."); q({ delegatedActions: { revoke: { onRevoke: async () => { await t.revokeDelegatedWallet(), await Le.refreshUser() }, onSuccess: async () => { e() }, onError: async e => { n(e) } } } }), ue(uf.EMBEDDED_WALLET_DELEGATED_ACTIONS_REVOKE_SCREEN) })), initLoginWithFarcaster: async (e, n) => { let r = new Us(e, n); t.startAuthFlow(r); try { se.current = "farcaster", await r.initializeFarcasterConnect() } catch (e) { throw "login" === ae.current ? (0, yf.Rb)(re, "login", "onError", e.privyErrorCode || bs.sX.UNKNOWN_AUTH_ERROR) : "link" === ae.current && (0, yf.Rb)(re, "linkAccount", "onError", e.privyErrorCode || bs.sX.UNKNOWN_AUTH_ERROR, { linkMethod: "farcaster" }), e } }, loginWithFarcaster: async () => { let e, n; if (!o) throw new bs.Zp; if (!(t.authFlow instanceof Us)) throw new bs.dx("Must initialize Farcaster flow first."); if (null !== await t.getAccessToken()) try { ({ user: e } = await t.link()), se.current = "farcaster" } catch (e) { throw (0, yf.Rb)(re, "linkAccount", "onError", e.privyErrorCode || bs.sX.FAILED_TO_LINK_ACCOUNT, { linkMethod: "farcaster" }), e } else try { ({ user: e, isNewUser: n } = await t.authenticate()), se.current = "farcaster" } catch (e) { throw (0, yf.Rb)(re, "login", "onError", e.privyErrorCode || bs.sX.UNKNOWN_AUTH_ERROR), e } u(e || null), w(n || !1), c(!0) }, async loginWithGuestAccountFlow() { let e = new ba(this.appId); t.startAuthFlow(e); try { ae.current = "login", se.current = "guest"; let { user: e, isNewUser: r } = await t.authenticate(); if (r = r || !1, !e) throw new bs.dx("Unable to authenticate guest account"); if ((0, fc.Cy)(e, U.embeddedWallets.createOnLogin)) try { await Ae(e, 15e3), e = await Le.refreshUser() } catch (n) { u(e), console.warn("Unable to create embedded wallet for guest account") } else u(e); return w(r), c(!0), (0, yf.Rb)(re, "login", "onComplete", e, r, !1, "guest", null), e } catch (e) { throw (0, yf.Rb)(re, "login", "onError", e.privyErrorCode || bs.sX.UNKNOWN_AUTH_ERROR), e } }, async crossAppAuthFlow({ appId: e, popup: n, action: r }) { let i = `privy:${e}`; se.current = i; let { url: o, stateCode: s, codeVerifier: a } = await async function ({ api: e, appId: t }) { let n = HT(), r = GT(), i = await VT(n); try { let { url: o } = await e.post(xs, { provider: `privy:${t}`, redirect_to: window.location.href, code_challenge: i, state_code: r }); return { url: o, stateCode: r, codeVerifier: n } } catch (e) { throw (0, bs.wh)(e) } }({ api: t.api, appId: e }); if (!o) throw t.createAnalyticsEvent({ eventName: "cross_app_auth_error", payload: { error: "Unable to open cross-app auth popup", appId: e } }), new bs.dx("No authorization URL returned for cross-app auth."); try { let c = await async function ({ url: e, popup: t }) { return t.location = e, new Promise(((e, n) => { let r, i = setTimeout((() => { n(new bs.dx("Authorization request timed out after 2 minutes.")), o() }), 12e4); function o() { t?.close(), window.removeEventListener("message", a) } let s = setInterval((() => { t?.closed && !r && (o(), clearInterval(s), clearTimeout(i), n(new bs.dx("User rejected request"))) }), 300); function a(t) { t.data && ("PRIVY_OAUTH_RESPONSE" === t.data.type && t.data.stateCode && t.data.authorizationCode && (clearTimeout(i), e(t.data), o()), "PRIVY_OAUTH_ERROR" === t.data.type && (clearTimeout(i), n(new bs.dx(t.data.error)), o()), t.data.type === zJ && ((r = new BroadcastChannel(WJ)).onmessage = a)) } window.addEventListener("message", a) })) }({ url: o, popup: n, provider: i }), l = c.stateCode, u = c.authorizationCode; if (l !== s) throw t.createAnalyticsEvent({ eventName: "possible_phishing_attempt", payload: { provider: i, storedStateCode: s ?? "", returnedStateCode: l ?? "" } }), new bs.dx("Unexpected auth flow. This may be a phishing attempt.", void 0, bs.sX.OAUTH_UNEXPECTED); let d = await async function ({ appId: e, stateCode: t, codeVerifier: n, authorizationCode: r, action: i, client: o }) { if (!r || !t) throw new bs.dx("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate."); if ("undefined" === r) throw new bs.dx("User denied confirmation during cross-app auth flow"); try { let s = new qJ({ authorizationCode: r, stateCode: t, codeVerifier: n, provider: `privy:${e}` }); o.startAuthFlow(s); let a = ("link" === i ? await o.link() : await o.authenticate()).oAuthTokens?.accessToken; return console.debug(), a } catch (e) { let t = (0, bs.wh)(e); if (t.privyErrorCode) throw new bs.dx(t.message || "Invalid code during cross-app auth flow.", void 0, t.privyErrorCode); if ("User denied confirmation during cross-app auth flow" === t.message) throw new bs.dx("Invalid code during cross-app auth flow.", void 0, bs.sX.OAUTH_USER_DENIED); throw new bs.dx("Invalid code during cross-app auth flow.", void 0, bs.sX.UNKNOWN_AUTH_ERROR) } }({ appId: e, codeVerifier: a, stateCode: l, authorizationCode: u, action: r, client: t }); d && t.storeProviderAccessToken(e, d); let h = await Le.refreshUser(); if (!h) throw new bs.dx("Unable to update user"); return t.createAnalyticsEvent({ eventName: "cross_app_auth_completed", payload: { providerAppId: e } }), h } catch (e) { throw t.createAnalyticsEvent({ eventName: "cross_app_auth_error", payload: { error: e.toString(), provider: i } }), e } }, async initLoginWithOAuth(e, n, r) { if (se.current = e, !ga()) return void de(uf.IN_APP_BROWSER_LOGIN_NOT_POSSIBLE); if ("google" === e && Eg(window.navigator.userAgent)) return void de(uf.IN_APP_BROWSER_LOGIN_NOT_POSSIBLE); "twitter" === e && window.opener && window.opener.postMessage({ type: zJ }, "*"), ya.del(aa), ya.del(ca); let i = new nQ({ provider: e, disableSignup: !!r, withPrivyUi: !0 }); n && i.addCaptchaToken(n), t.startAuthFlow(i); let o = await t.authFlow.getAuthorizationUrl(); o && o.url && ("twitter" === e && ys.Dt && (o.url = o.url.replace("x.com", "twitter.com")), window.location.assign(o.url)) }, async initLoginWithTelegram(e, n) { if (!o) throw new bs.Zp; se.current = "telegram"; let r = new Ja(e, n); t.startAuthFlow(r), r.meta.telegramWebAppData = void 0, r.meta.telegramAuthResult = await new Promise(((e, t) => U.loginConfig.telegramAuthConfiguration ? window.Telegram ? void window.Telegram.Login.auth({ bot_id: U.loginConfig.telegramAuthConfiguration.botId, request_access: !0 }, (n => n ? e(n) : t(new bs.dx("Telegram auth failed or was canceled by the client")))) : t(new bs.dx("Telegram was not initialized")) : t(new bs.dx("Telegram Auth configuration is not loaded")))) }, async loginWithTelegram(e) { let n, r; if (!(t.authFlow instanceof Ja)) throw new bs.dx("Must initialize Telegram flow before calling loginWithTelegram"); if (t.authFlow.meta.captchaToken ||= e, "login" === ae.current) try { let e = await t.authenticate(); n = e.user, r = e.isNewUser, se.current = "telegram" } catch (e) { throw (0, yf.Rb)(re, "login", "onError", e.privyErrorCode || bs.sX.UNKNOWN_AUTH_ERROR), e } else { if ("link" !== ae.current) throw new bs.dx("Unknown auth intent"); try { n = (await t.link()).user, se.current = "telegram" } catch (e) { throw (0, yf.Rb)(re, "linkAccount", "onError", e.privyErrorCode || bs.sX.FAILED_TO_LINK_ACCOUNT, { linkMethod: "telegram" }), e } } u(n), w(r || !1), c(!0) }, async recoveryOAuthFlow(e, n, r) { let i, o; function s(n) { if (!n) throw t.createAnalyticsEvent({ eventName: "recovery_oauth_error", payload: { error: "Unable to open recovery OAuth popup", provider: e } }), new bs.dx("Recovery OAuth failed") } switch (e) { case "google-drive": { let a, c, { url: l, codeVerifier: u, stateCode: d } = await XT({ api: OQ.api, provider: e }); s(l); try { let n = await JJ({ url: l, popup: r, provider: e }); if (a = n.stateCode, c = n.authorizationCode, a !== d) throw t.createAnalyticsEvent({ eventName: "possible_phishing_attempt", payload: { provider: e, storedStateCode: d ?? "", returnedStateCode: a ?? "" } }), new bs.dx("Unexpected auth flow. This may be a phishing attempt.", void 0, bs.sX.OAUTH_UNEXPECTED) } catch (n) { throw t.createAnalyticsEvent({ eventName: "recovery_oauth_error", payload: { error: n.toString(), provider: e } }), new bs.dx("Recovery OAuth failed") } [i, o] = await Promise.all([FQ(), JT({ api: OQ.api, provider: e, codeVerifier: u, stateCode: a, authorizationCode: c })]); break } case "icloud": { let { url: t } = await XT({ api: OQ.api, provider: e }); s(t); let { ckWebAuthToken: n } = await JJ({ url: t, popup: r, provider: e }); o = n, i = await FQ() } }if (!L) throw new bs.dx("Cannot connect to wallet proxy"); if (!i) throw new bs.dx("Unable to authorize user"); switch (n) { case "recover": { let n = z.recoverWallet?.entropyId, r = z.recoverWallet?.entropyIdVerifier; if (!n || !r) throw new bs.dx("Recovery OAuth failed"); t.createAnalyticsEvent({ eventName: "embedded_wallet_recovery_started", payload: { walletAddress: n, recoveryMethod: e } }), await L.recover({ accessToken: i, entropyId: n, entropyIdVerifier: r, recoveryAccessToken: o }), t.createAnalyticsEvent({ eventName: "embedded_wallet_recovery_completed", payload: { walletAddress: n, recoveryMethod: e } }); break } case "create-wallet": { t.createAnalyticsEvent({ eventName: "embedded_wallet_creation_started" }), await L.create({ accessToken: i, recoveryAccessToken: o, recoveryMethod: e }); let n = (0, fc.sW)(await Le.refreshUser()); if (!n) throw (0, yf.Rb)(re, "createWallet", "onError", bs.sX.UNKNOWN_EMBEDDED_WALLET_ERROR), Error("Failed to create wallet"); t.createAnalyticsEvent({ eventName: "embedded_wallet_creation_completed", payload: { walletAddress: n.address } }), (0, yf.Rb)(re, "createWallet", "onSuccess", n); break } case "set-recovery": { let n = (0, fc.pM)(l); if (!n) throw (0, yf.Rb)(re, "setWalletRecovery", "onError", bs.sX.EMBEDDED_WALLET_NOT_FOUND), Error("Embedded wallet not found"); t.createAnalyticsEvent({ eventName: "embedded_wallet_set_recovery_started", payload: { walletAddress: n.address, existingRecoveryMethod: n.recoveryMethod, targetRecoveryMethod: e } }); let { entropyId: r, entropyIdVerifier: s } = (0, fc.wB)(n); await L.setRecovery({ accessToken: i, entropyId: r, entropyIdVerifier: s, recoveryMethod: e, recoveryAccessToken: o }); let a = (0, fc.pM)(await Le.refreshUser()); if (!a) throw (0, yf.Rb)(re, "createWallet", "onError", bs.sX.UNKNOWN_EMBEDDED_WALLET_ERROR), Error("Failed to set recovery on wallet"); t.createAnalyticsEvent({ eventName: "embedded_wallet_set_recovery_completed", payload: { walletAddress: n.address, existingRecoveryMethod: n.recoveryMethod, targetRecoveryMethod: e } }), (0, yf.Rb)(re, "setWalletRecovery", "onSuccess", e, a); break } default: throw new bs.dx("Unsupported recovery action") } }, async loginWithOAuth(e) { let n, r, i; if (!(t.authFlow instanceof nQ)) throw new bs.dx("Must initialize OAuth flow before calling loginWithOAuth"); let o = ya.get(oa), s = t.authFlow.meta.stateCode; if (o !== s) throw t.createAnalyticsEvent({ eventName: "possible_phishing_attempt", payload: { provider: e, storedStateCode: o ?? "", returnedStateCode: s ?? "" } }), new bs.dx("Unexpected auth flow. This may be a phishing attempt.", void 0, bs.sX.OAUTH_UNEXPECTED); if (null !== await t.getAccessToken()) try { let r = await t.link(); n = r.user, i = r.oAuthTokens, se.current = e } catch (n) { throw (0, yf.Rb)(re, "linkAccount", "onError", n.privyErrorCode || bs.sX.FAILED_TO_LINK_ACCOUNT, { linkMethod: e }), n } else try { let o = await t.authenticate(); n = o.user, r = o.isNewUser, i = o.oAuthTokens, se.current = e } catch (n) { throw "login" === ae.current ? (0, yf.Rb)(re, "login", "onError", n.privyErrorCode || bs.sX.UNKNOWN_AUTH_ERROR) : "link" === ae.current && (0, yf.Rb)(re, "linkAccount", "onError", n.privyErrorCode || bs.sX.FAILED_TO_LINK_ACCOUNT, { linkMethod: e }), n } return u(n), w(r || !1), c(!0), i && n && (0, yf.Rb)(re, "oAuthAuthorization", "onOAuthTokenGrant", i, { user: n }), i }, passkeyAuthState: k, setPasskeyAuthState: I, async initLoginWithPasskey({ captchaToken: e, withPrivyUi: n }) { let r = new va({ captchaToken: e, setPasskeyAuthState: I }); t.startAuthFlow(r), ae.current = "login"; try { se.current = "passkey", I({ status: "generating-challenge" }), await r.initAuthenticationFlow(n), I({ status: "awaiting-passkey" }) } catch (e) { throw I({ status: "error", error: e }), (0, yf.Rb)(re, "login", "onError", e.privyErrorCode || bs.sX.UNKNOWN_AUTH_ERROR), e } }, async loginWithPasskey() { let e, n; if (!o) throw new bs.Zp; if (!(t.authFlow instanceof va)) throw new bs.dx("Must initialize Passkey flow first."); if ("passkey" !== se.current) { let e = new bs.dx("Must init login with Passkey flow first."); throw I({ status: "error", error: e }), e } let r = await FQ(); try { se.current = "passkey", I({ status: "awaiting-passkey" }), ({ user: e, isNewUser: n } = await t.authenticate()) } catch (e) { throw I({ status: "error", error: e }), (0, yf.Rb)(re, "login", "onError", e.privyErrorCode || bs.sX.UNKNOWN_AUTH_ERROR), e } u(e), w(n || !1), c(!0), I({ status: "done" }); let i = e?.linkedAccounts.find((({ type: e }) => "passkey" === e)) || null; return { user: e, isNewUser: n || !1, wasAlreadyAuthenticated: !!r, loginAccount: i } }, async initLinkWithPasskey(e) { let n = new va({ captchaToken: e }); t.startAuthFlow(n), ae.current = "link", se.current = "passkey", I({ status: "generating-challenge" }); try { await n.initLinkFlow(), I({ status: "awaiting-passkey" }) } catch (e) { throw (0, yf.Rb)(re, "linkAccount", "onError", e.privyErrorCode || bs.sX.UNKNOWN_AUTH_ERROR, { linkMethod: "passkey" }), I({ status: "error", error: e }), e } }, async linkWithPasskey() { let e; if (!o) throw new bs.Zp; if (!(t.authFlow instanceof va)) throw new bs.dx("Must initialize Passkey flow first."); if ("passkey" !== se.current) throw new bs.dx("Must init login with Passkey flow first."); try { se.current = "passkey", ({ user: e } = await t.link()) } catch (e) { throw (0, yf.Rb)(re, "linkAccount", "onError", e.privyErrorCode || bs.sX.FAILED_TO_LINK_ACCOUNT, { linkMethod: "passkey" }), e } return u(e || l || null), I({ status: "done" }), e }, async initLoginWithHeadlessOAuth(e, n, r) { if (!ga()) throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser."); if ("google" === e && Eg(window.navigator.userAgent)) throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser."); let i = new nQ({ provider: e, withPrivyUi: !1, disableSignup: r ?? !1 }); n && i.addCaptchaToken(n), $({ status: "loading" }); let o = await t.startAuthFlow(i).getAuthorizationUrl(); o?.url && window.location.assign(o.url) }, async loginWithHeadlessOAuth(e) { let n, r, i; C(!0), $({ status: "loading" }), t.startAuthFlow(new nQ(e)); let o = ya.get(oa), s = e.stateCode; if (o !== s) throw t.createAnalyticsEvent({ eventName: "possible_phishing_attempt", payload: { provider: e.provider, storedStateCode: o ?? "", returnedStateCode: s ?? "" } }), C(!1), new bs.dx("Unexpected auth flow. This may be a phishing attempt.", void 0, bs.sX.OAUTH_UNEXPECTED); if (null !== await t.getAccessToken()) try { ({ user: n, oAuthTokens: i } = await t.link()), se.current = e.provider; let r = Me(n); n && r && (0, yf.Rb)(re, "linkAccount", "onSuccess", n, se.current, r) } catch (n) { throw C(!1), (0, yf.Rb)(re, "linkAccount", "onError", n.privyErrorCode || bs.sX.FAILED_TO_LINK_ACCOUNT, { linkMethod: e.provider }), n } else try { ({ user: n, isNewUser: r, oAuthTokens: i } = await t.authenticate()), se.current = e.provider; let o = Me(n); n && o && void 0 !== r && (0, yf.Rb)(re, "login", "onComplete", n, r, !1, se.current, o) } catch (e) { throw C(!1), $({ status: "error", error: e }), (0, yf.Rb)(re, "login", "onError", e.privyErrorCode || bs.sX.UNKNOWN_AUTH_ERROR), e } return u(n), w(r || !1), c(!0), C(!1), $({ status: "done" }), i && n && (0, yf.Rb)(re, "oAuthAuthorization", "onOAuthTokenGrant", i, { user: n }), n ?? void 0 }, initLoginWithEmail: async ({ email: e, captchaToken: n, disableSignup: r, withPrivyUi: i }) => { let o = new Is({ email: e, captchaToken: n, disableSignup: r }); t.startAuthFlow(o); try { se.current = "email", N({ status: "sending-code" }), await o.sendCodeEmail({ withPrivyUi: i }), N({ status: "awaiting-code-input" }) } catch (e) { throw N({ status: "error", error: e }), "login" === ae.current ? (0, yf.Rb)(re, "login", "onError", e.privyErrorCode || bs.sX.UNKNOWN_AUTH_ERROR) : "link" === ae.current && (0, yf.Rb)(re, "linkAccount", "onError", e.privyErrorCode || bs.sX.FAILED_TO_LINK_ACCOUNT, { linkMethod: "email" }), e } }, initUpdateEmail: async (e, n, r) => { let i = new Ts(e, n, r); t.startAuthFlow(i); try { await i.sendCodeEmail({ withPrivyUi: !0 }) } catch (e) { (0, yf.Rb)(re, "update", "onError", e.privyErrorCode || bs.sX.UNKNOWN_AUTH_ERROR, { linkMethod: se.current }) } }, initUpdatePhone: async (e, n, r) => { let i = new Aa(e, n, r); t.startAuthFlow(i); try { await i.sendSmsCode({ withPrivyUi: !0 }) } catch (e) { (0, yf.Rb)(re, "update", "onError", e.privyErrorCode || bs.sX.UNKNOWN_AUTH_ERROR, { linkMethod: se.current }) } }, initLoginWithSms: async ({ phoneNumber: e, captchaToken: n, disableSignup: r, withPrivyUi: i }) => { M({ status: "sending-code" }); let o = new Ca({ phoneNumber: e, captchaToken: n, disableSignup: r }); t.startAuthFlow(o); try { se.current = "sms", await o.sendSmsCode({ withPrivyUi: i }), M({ status: "awaiting-code-input" }) } catch (e) { throw M({ status: "error", error: e }), "login" === ae.current ? (0, yf.Rb)(re, "login", "onError", e.privyErrorCode || bs.sX.UNKNOWN_AUTH_ERROR) : "link" === ae.current && (0, yf.Rb)(re, "linkAccount", "onError", e.privyErrorCode || bs.sX.FAILED_TO_LINK_ACCOUNT, { linkMethod: "sms" }), e } }, resendEmailCode: async () => { await (t.authFlow?.sendCodeEmail({ withPrivyUi: !0 })) }, resendSmsCode: async () => { await (t.authFlow?.sendSmsCode({ withPrivyUi: !0 })) }, loginWithCode: async e => { let n, r; function i(e) { t.authFlow instanceof Is ? N(e) : t.authFlow instanceof Ca && M(e) } if (i({ status: "submitting-code" }), !o) { let e = new bs.Zp; throw i({ status: "error", error: e }), e } if (t.authFlow instanceof Is) t.authFlow.meta.emailCode = e.trim(); else { if (!(t.authFlow instanceof Ca)) { let e = new bs.dx("Must initialize a passwordless code flow first"); throw i({ status: "error", error: e }), e } t.authFlow.meta.smsCode = e.trim() } let s = await FQ(); if ("link" === ae.current) try { ({ user: n } = await t.link()) } catch (e) { throw i({ status: "error", error: e }), (0, yf.Rb)(re, "linkAccount", "onError", e.privyErrorCode || bs.sX.FAILED_TO_LINK_ACCOUNT, { linkMethod: se.current }), e } else if ("update" === ae.current) try { ({ user: n } = await t.link()) } catch (e) { throw i({ status: "error", error: e }), (0, yf.Rb)(re, "update", "onError", e.privyErrorCode || bs.sX.FAILED_TO_UPDATE_ACCOUNT, { linkMethod: se.current }), e } else try { ({ user: n, isNewUser: r } = await t.authenticate()) } catch (e) { throw i({ status: "error", error: e }), (0, yf.Rb)(re, "login", "onError", e.privyErrorCode || bs.sX.UNKNOWN_AUTH_ERROR), e } let a = n || l; u(a || null), w(r || !1), c(!0), i({ status: "done" }); let d = null; return t.authFlow instanceof Is ? d = a?.linkedAccounts.find((({ type: e }) => "email" === e)) || null : t.authFlow instanceof Ca && (d = a?.linkedAccounts.find((({ type: e }) => "phone" === e)) || null), { user: a, isNewUser: r || !1, wasAlreadyAuthenticated: !!s, linkedAccount: d } }, generateSiweMessage: async ({ address: e, chainId: n, captchaToken: r }) => { ae.current = "link", se.current = "siwe", R({ status: "generating-message" }); let i = await t.generateSiweNonce({ address: e, captchaToken: r }); return R({ status: "awaiting-signature" }), wa({ address: e, chainId: n.replace("eip155:", ""), nonce: i }) }, generateSiweMessageForSmartWallet: async ({ address: e, chainId: n }) => { let r = await t.generateSiweNonce({ address: e }); return wa({ address: e, chainId: n.replace("eip155:", ""), nonce: r }) }, linkSmartWallet: async ({ message: e, signature: n, smartWalletType: r }) => { let i; try { i = await t.linkSmartWallet({ message: e, signature: n, smartWalletType: r }), i = await Le.refreshUser() ?? i } catch (e) { throw e } u(i || l || null) }, linkWithSiwe: async ({ message: e, signature: n, chainId: r, walletClientType: i, connectorType: o }) => { let s; we("siwe"); let a = null; try { R({ status: "submitting-signature" }), s = await t.linkWithSiwe({ message: e, signature: n, chainId: r, walletClientType: i, connectorType: o }), s = await Le.refreshUser() ?? s, R({ status: "done" }), (a = Me(s) || null) && (0, yf.Rb)(re, "linkAccount", "onSuccess", s, "siwe", a) } catch (e) { throw (0, yf.Rb)(re, "linkAccount", "onError", e.privyErrorCode || bs.sX.FAILED_TO_LINK_ACCOUNT, { linkMethod: "siwe" }), ae.current = null, se.current = null, R({ status: "error", error: e }), e } let c = s || l; return u(c || null), ae.current = null, se.current = null, { user: c, linkedAccount: a } }, refreshUser: async () => { let e = await t.getAuthenticatedUser(); return c(!!e), u(e), e }, walletProxy: L, createAnalyticsEvent: ({ eventName: e, payload: n, timestamp: r }) => t.createAnalyticsEvent({ eventName: e, payload: n, timestamp: r }), acceptTerms: async () => { let e = await t.acceptTerms(); return u(e), e }, getUsdTokenPrice: e => t.getUsdTokenPrice(e), getUsdPriceForSol: () => t.getUsdPriceForSol(), recoverPrimaryWallet: async e => new Promise((async (n, r) => { let i = (0, fc.pM)(e?.user ?? l) || (0, fc.Nc)(e?.user ?? l), o = await FQ(); if (!o || !L || !i) return void r(Error("Must have valid access token and Privy wallet to recover wallet")); W(!0); let { entropyId: s, entropyIdVerifier: a } = (0, fc.wB)(i); try { await L.connect({ accessToken: o, entropyId: s, entropyIdVerifier: a }), n(!0) } catch (e) { FT(e) && "privy" === i.recoveryMethod ? (t.createAnalyticsEvent({ eventName: "embedded_wallet_pinless_recovery_started", payload: { walletAddress: i.address } }), (await L.recover({ entropyId: s, entropyIdVerifier: a, accessToken: o })).entropyId || r(Error("Unable to recover wallet")), t.createAnalyticsEvent({ eventName: "embedded_wallet_recovery_completed", payload: { walletAddress: i.address } }), n(!0)) : FT(e) && "privy" !== i.recoveryMethod ? (q({ recoverWallet: { entropyId: s, entropyIdVerifier: a, onFailure: r, onSuccess: () => n(!0) }, recoveryOAuthStatus: { provider: i.recoveryMethod, action: "recover" } }), ue(ZT(i.recoveryMethod))) : r(e) } })), embeddedSolanaWallet: m, createEmbeddedSolanaWallet: async () => { W(!0); let e = await FQ(), n = await Le.refreshUser(), r = (0, fc.ys)(n), i = (0, fc.sW)(n); if (!n || !e) throw new bs.dx("User must be logged in to create a Solana wallet"); if (r) throw new bs.dx("User already has an embedded Solana wallet."); i && await Le.recoverPrimaryWallet({ user: n }); let o = await Le.initializeWalletProxy(15e3); if (!o) throw new bs.dx("Unable to initialize wallet proxy"); t.createAnalyticsEvent({ eventName: "embedded_solana_wallet_creation_started" }); try { await o.createSolana({ accessToken: e, ethereumAddress: i?.address }); let n = await Le.refreshUser(), r = (0, fc.ys)(n); if (!r) throw new bs.dx("Could not get Solana wallet for user"); return t.createAnalyticsEvent({ eventName: "embedded_solana_wallet_creation_completed", payload: { walletAddress: r.address } }), r } catch (e) { throw t.createAnalyticsEvent({ eventName: "embedded_solana_wallet_creation_failed" }), new bs.dx("Failed to create Solana embedded wallet with error ", e) } }, exportSolanaWallet: n => new Promise((async (r, i) => { if (!a || !l) return void i(Error("User must be authenticated before exporting their Privy wallet")); let o = n?.address ?? (0, fc.ys)(l)?.address; if (!o) return void i(Error("User does not have an HD Solana wallet.")); let { signingWallet: s, rootWallet: c } = (0, fc.e9)(l, o); if (!s || !c) return void i(Error("Must have a Privy wallet before exporting")); if (W(!0), !(await FQ()) || !L) return void i(Error("Must have valid access token to enroll in MFA")); if (!L) return void i(Error("Must have a Privy wallet before exporting")); let { entropyId: u, entropyIdVerifier: d } = (0, fc.wB)(c); q({ connectWallet: { entropyId: u, entropyIdVerifier: d, onCompleteNavigateTo: uf.EMBEDDED_WALLET_KEY_EXPORT_SCREEN, onFailure: i, shouldForceMFA: !0 }, keyExport: { appId: e.appId, appClientId: e.clientId, origin: t.apiUrl, walletToExport: s, primaryWallet: c, onSuccess: r, onFailure: i } }), ue(uf.EMBEDDED_WALLET_CONNECTING_SCREEN) })), setReadyToTrue: e => { s(!0), H?.(e) }, updateWallets: () => Ce(), fundWallet: async (e, t) => { let n = uf.FUNDING_METHOD_SELECTION_SCREEN; q({ funding: eQ({ address: e, appConfig: U, fundWalletConfig: t, methodScreen: n }) }), ue(n) }, fundSolanaWallet: async (e, t) => { let n = uf.FUNDING_METHOD_SELECTION_SCREEN; q({ funding: tQ({ address: e, appConfig: U, fundWalletConfig: t, methodScreen: n }) }), ue(n) }, requestFarcasterSignerStatus: async e => { let n = await FQ(), r = l?.linkedAccounts.find((e => "wallet" === e.type && "privy" === e.walletClientType)); if (!n) throw Error("Must have valid access token to connect with Farcaster"); if (!L || !r) throw Error("Must have an embedded wallet to use Farcaster signers"); if (!l?.farcaster?.fid) throw Error("Must have Farcaster account to use Farcaster signers"); let i = await t.requestFarcasterSignerStatus(e); return "approved" === i.status && u(await t.getAuthenticatedUser() || l || null), i }, connectCoinbaseSmartWallet: async () => { U.externalWallets.coinbaseWallet.connectionOptions = "smartWalletOnly"; let e = t.connectors?.findWalletConnector("coinbase_wallet", "coinbase_smart_wallet") || t.connectors?.findWalletConnector("coinbase_wallet", "coinbase_wallet"); if (e) return e.updateConnectionPreference("smartWalletOnly"), ge(e); await me("coinbase_wallet", "coinbase_smart_wallet") }, initiateAccountTransfer: async ({ nonce: e, account: n, accountType: r, externalWalletMetadata: i, telegramAuthResult: o, farcasterEmbeddedAddress: s, oAuthUserInfo: a }) => { try { let c = await t.sendAccountTransferRequest({ nonce: e, account: n, accountType: r, externalWalletMetadata: i, telegramAuthResult: o, farcasterEmbeddedAddress: s, oAuthUserInfo: a }); return u(c), c } catch (e) { throw e } } }; LQ = Le.recoverPrimaryWallet, DQ = Le.recoverPrimaryWallet, UQ = Le.solanaSignMessage; let De = (0, Ke.useMemo)((() => ({ wallets: d, ready: Y && ie })), [d, Y, ie]), Ue = t.authFlow instanceof Ja, Fe = !U.headless && U.captchaEnabled && !a && (o || Ue); return (0, y.jsx)(mf.N.Provider, { value: $e, children: (0, y.jsx)(yf.hE.Provider, { value: re, children: (0, y.jsx)(RR.t.Provider, { value: De, children: (0, y.jsx)(Za, { ...U, children: (0, y.jsxs)(af.m.Provider, { value: Le, children: [(0, y.jsx)(_g, { children: (0, y.jsxs)(ff, { data: z, setModalData: q, setInitialScreen: x, initialScreen: E, authenticated: a, open: r, children: [e.children, Fe && (0, y.jsx)(ml, { delayedExecution: !1 }), (0, y.jsx)(AX, { theme: { ...U.appearance.palette || {} } }), !U.render.standalone && (0, y.jsx)(AJ, { open: r })] }) }), B && F ? (0, y.jsx)(UJ, { appId: e.appId, appClientId: e.clientId, clientAnalyticsId: t.clientAnalyticsId, origin: t.apiUrl, mfaMethods: l?.mfaMethods, mfaPromise: te, mfaSubmitPromise: ne, onLoad: D, onLoadFailed: () => null }) : null, U.loginConfig.telegramAuthConfiguration && (0, y.jsx)(lp, { $if: !0, children: (0, y.jsx)(IJ, { scriptHost: e.apiUrl || qs, botUsername: U.loginConfig.telegramAuthConfiguration.botName }) })] }) }) }) }) }) }; var YQ = function (e) { const { multiInjectedProviderDiscovery: t = !0, storage: n = Ht({ storage: "undefined" !== typeof window && window.localStorage ? window.localStorage : Gt }), syncConnectedChain: r = !0, ssr: i = !1, ...o } = e, s = "undefined" !== typeof window && t ? wt() : void 0, a = kt((() => o.chains)), c = kt((() => { const e = [], t = new Set; for (const n of o.connectors ?? []) { const r = l(n); if (e.push(r), !i && r.rdns) { const e = "string" === typeof r.rdns ? [r.rdns] : r.rdns; for (const n of e) t.add(n) } } if (!i && s) { const n = s.getProviders(); for (const r of n) t.has(r.info.rdns) || e.push(l(u(r))) } return e })); function l(e) { const t = function (e) { return new Ft(e) }(function (e = 11) { if (!Vt || Kt + e > 512) { Vt = "", Kt = 0; for (let e = 0; e < 256; e++)Vt += (256 + 256 * Math.random() | 0).toString(16).substring(1) } return Vt.substring(Kt, Kt++ + e) }()), r = { ...e({ emitter: t, chains: a.getState(), storage: n, transports: o.transports }), emitter: t, uid: t.uid }; return t.on("connect", b), r.setup?.(), r } function u(e) { const { info: t } = e, n = e.provider; return $t({ target: { ...t, id: t.rdns, provider: n } }) } const d = new Map; function h() { return { chainId: a.getState()[0].id, connections: new Map, current: null, status: "disconnected" } } let f; const p = "0.0.0-canary-"; f = Yt.i.startsWith(p) ? Number.parseInt(Yt.i.replace(p, "")) : Number.parseInt(Yt.i.split(".")[0] ?? "0"); const m = kt(xt(n ? At(h, { migrate(e, t) { if (t === f) return e; const n = h(), r = g(e, n.chainId); return { ...n, chainId: r } }, name: "store", partialize: e => ({ connections: { __type: "Map", value: Array.from(e.connections.entries()).map((([e, t]) => { const { id: n, name: r, type: i, uid: o } = t.connector, s = { id: n, name: r, type: i, uid: o }; return [e, { ...t, connector: s }] })) }, chainId: e.chainId, current: e.current }), merge(e, t) { "object" === typeof e && e && "status" in e && delete e.status; const n = g(e, t.chainId); return { ...t, ...e, chainId: n } }, skipHydration: i, storage: n, version: f }) : h)); function g(e, t) { return e && "object" === typeof e && "chainId" in e && "number" === typeof e.chainId && a.getState().some((t => t.id === e.chainId)) ? e.chainId : t } function y(e) { m.setState((t => { const n = t.connections.get(e.uid); return n ? { ...t, connections: new Map(t.connections).set(e.uid, { accounts: e.accounts ?? n.accounts, chainId: e.chainId ?? n.chainId, connector: n.connector }) } : t })) } function b(e) { "connecting" !== m.getState().status && "reconnecting" !== m.getState().status && m.setState((t => { const n = c.getState().find((t => t.uid === e.uid)); return n ? (n.emitter.listenerCount("connect") && n.emitter.off("connect", y), n.emitter.listenerCount("change") || n.emitter.on("change", y), n.emitter.listenerCount("disconnect") || n.emitter.on("disconnect", v), { ...t, connections: new Map(t.connections).set(e.uid, { accounts: e.accounts, chainId: e.chainId, connector: n }), current: e.uid, status: "connected" }) : t })) } function v(e) { m.setState((t => { const n = t.connections.get(e.uid); if (n) { const e = n.connector; e.emitter.listenerCount("change") && n.connector.emitter.off("change", y), e.emitter.listenerCount("disconnect") && n.connector.emitter.off("disconnect", v), e.emitter.listenerCount("connect") || n.connector.emitter.on("connect", b) } if (t.connections.delete(e.uid), 0 === t.connections.size) return { ...t, connections: new Map, current: null, status: "disconnected" }; const r = t.connections.values().next().value; return { ...t, connections: new Map(t.connections), current: r.connector.uid } })) } return m.setState(h()), r && m.subscribe((({ connections: e, current: t }) => t ? e.get(t)?.chainId : void 0), (e => { if (a.getState().some((t => t.id === e))) return m.setState((t => ({ ...t, chainId: e ?? t.chainId }))) })), s?.subscribe((e => { const t = new Set, r = new Set; for (const n of c.getState()) if (t.add(n.id), n.rdns) { const e = "string" === typeof n.rdns ? [n.rdns] : n.rdns; for (const t of e) r.add(t) } const i = []; for (const n of e) { if (r.has(n.info.rdns)) continue; const e = l(u(n)); t.has(e.id) || i.push(e) } n && !m.persist.hasHydrated() || c.setState((e => [...e, ...i]), !0) })), { get chains() { return a.getState() }, get connectors() { return c.getState() }, storage: n, getClient: function (e = {}) { const t = e.chainId ?? m.getState().chainId, n = a.getState().find((e => e.id === t)); if (e.chainId && !n) throw new Ot.X4; { const e = d.get(m.getState().chainId); if (e && !n) return e; if (!n) throw new Ot.X4 } { const e = d.get(t); if (e) return e } let r; if (o.client) r = o.client({ chain: n }); else { const e = n.id, t = a.getState().map((e => e.id)), i = {}, s = Object.entries(o); for (const [n, r] of s) if ("chains" !== n && "client" !== n && "connectors" !== n && "transports" !== n) if ("object" === typeof r) if (e in r) i[n] = r[e]; else { if (t.some((e => e in r))) continue; i[n] = r } else i[n] = r; r = (0, Et.e)({ ...i, chain: n, batch: i.batch ?? { multicall: !0 }, transport: t => o.transports[e]({ ...t, connectors: c }) }) } return d.set(t, r), r }, get state() { return m.getState() }, setState(e) { let t; t = "function" === typeof e ? e(m.getState()) : e; const n = h(); "object" !== typeof t && (t = n); Object.keys(n).some((e => !(e in t))) && (t = n), m.setState(t, !0) }, subscribe: (e, t, n) => m.subscribe(e, t, n ? { ...n, fireImmediately: n.emitImmediately } : void 0), _internal: { mipd: s, store: m, ssr: Boolean(i), syncConnectedChain: r, transports: o.transports, chains: { setState(e) { const t = "function" === typeof e ? e(a.getState()) : e; if (0 !== t.length) return a.setState(t, !0) }, subscribe: e => a.subscribe(e) }, connectors: { providerDetailToConnector: u, setup: l, setState: e => c.setState("function" === typeof e ? e(c.getState()) : e, !0), subscribe: e => c.subscribe(e) }, events: { change: y, connect: b, disconnect: v } } } }({ chains: [cn], transports: function (e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e }({}, cn.id, on("https://eth-mainnet.g.alchemy.com/v2/".concat("Zk8YN0PomapOCWUyyTHIsMzwzyUq_UL1"))) }), ZQ = new class { #queryCache; #mutationCache; #defaultOptions; #queryDefaults; #mutationDefaults; #mountCount; #unsubscribeFocus; #unsubscribeOnline; constructor(e = {}) { this.#queryCache = e.queryCache || new fn, this.#mutationCache = e.mutationCache || new mn, this.#defaultOptions = e.defaultOptions || {}, this.#queryDefaults = new Map, this.#mutationDefaults = new Map, this.#mountCount = 0 } mount() { this.#mountCount++, 1 === this.#mountCount && (this.#unsubscribeFocus = yn.j.subscribe((async e => { e && (await this.resumePausedMutations(), this.#queryCache.onFocus()) })), this.#unsubscribeOnline = bn.N.subscribe((async e => { e && (await this.resumePausedMutations(), this.#queryCache.onOnline()) }))) } unmount() { this.#mountCount--, 0 === this.#mountCount && (this.#unsubscribeFocus?.(), this.#unsubscribeFocus = void 0, this.#unsubscribeOnline?.(), this.#unsubscribeOnline = void 0) } isFetching(e) { return this.#queryCache.findAll({ ...e, fetchStatus: "fetching" }).length } isMutating(e) { return this.#mutationCache.findAll({ ...e, status: "pending" }).length } getQueryData(e) { const t = this.defaultQueryOptions({ queryKey: e }); return this.#queryCache.get(t.queryHash)?.state.data } ensureQueryData(e) { const t = this.defaultQueryOptions(e), n = this.#queryCache.build(this, t), r = n.state.data; return void 0 === r ? this.fetchQuery(e) : (e.revalidateIfStale && n.isStaleByTime((0, ln.KC)(t.staleTime, n)) && this.prefetchQuery(t), Promise.resolve(r)) } getQueriesData(e) { return this.#queryCache.findAll(e).map((({ queryKey: e, state: t }) => [e, t.data])) } setQueryData(e, t, n) { const r = this.defaultQueryOptions({ queryKey: e }), i = this.#queryCache.get(r.queryHash)?.state.data, o = (0, ln.SE)(t, i); if (void 0 !== o) return this.#queryCache.build(this, r).setData(o, { ...n, manual: !0 }) } setQueriesData(e, t, n) { return dn.V.batch((() => this.#queryCache.findAll(e).map((({ queryKey: e }) => [e, this.setQueryData(e, t, n)])))) } getQueryState(e) { const t = this.defaultQueryOptions({ queryKey: e }); return this.#queryCache.get(t.queryHash)?.state } removeQueries(e) { const t = this.#queryCache; dn.V.batch((() => { t.findAll(e).forEach((e => { t.remove(e) })) })) } resetQueries(e, t) { const n = this.#queryCache, r = { type: "active", ...e }; return dn.V.batch((() => (n.findAll(e).forEach((e => { e.reset() })), this.refetchQueries(r, t)))) } cancelQueries(e, t = {}) { const n = { revert: !0, ...t }, r = dn.V.batch((() => this.#queryCache.findAll(e).map((e => e.cancel(n))))); return Promise.all(r).then(ln.ZT).catch(ln.ZT) } invalidateQueries(e, t = {}) { return dn.V.batch((() => { if (this.#queryCache.findAll(e).forEach((e => { e.invalidate() })), "none" === e?.refetchType) return Promise.resolve(); const n = { ...e, type: e?.refetchType ?? e?.type ?? "active" }; return this.refetchQueries(n, t) })) } refetchQueries(e, t = {}) { const n = { ...t, cancelRefetch: t.cancelRefetch ?? !0 }, r = dn.V.batch((() => this.#queryCache.findAll(e).filter((e => !e.isDisabled())).map((e => { let t = e.fetch(void 0, n); return n.throwOnError || (t = t.catch(ln.ZT)), "paused" === e.state.fetchStatus ? Promise.resolve() : t })))); return Promise.all(r).then(ln.ZT) } fetchQuery(e) { const t = this.defaultQueryOptions(e); void 0 === t.retry && (t.retry = !1); const n = this.#queryCache.build(this, t); return n.isStaleByTime((0, ln.KC)(t.staleTime, n)) ? n.fetch(t) : Promise.resolve(n.state.data) } prefetchQuery(e) { return this.fetchQuery(e).then(ln.ZT).catch(ln.ZT) } fetchInfiniteQuery(e) { return e.behavior = vn(e.pages), this.fetchQuery(e) } prefetchInfiniteQuery(e) { return this.fetchInfiniteQuery(e).then(ln.ZT).catch(ln.ZT) } ensureInfiniteQueryData(e) { return e.behavior = vn(e.pages), this.ensureQueryData(e) } resumePausedMutations() { return bn.N.isOnline() ? this.#mutationCache.resumePausedMutations() : Promise.resolve() } getQueryCache() { return this.#queryCache } getMutationCache() { return this.#mutationCache } getDefaultOptions() { return this.#defaultOptions } setDefaultOptions(e) { this.#defaultOptions = e } setQueryDefaults(e, t) { this.#queryDefaults.set((0, ln.Ym)(e), { queryKey: e, defaultOptions: t }) } getQueryDefaults(e) { const t = [...this.#queryDefaults.values()], n = {}; return t.forEach((t => { (0, ln.to)(e, t.queryKey) && Object.assign(n, t.defaultOptions) })), n } setMutationDefaults(e, t) { this.#mutationDefaults.set((0, ln.Ym)(e), { mutationKey: e, defaultOptions: t }) } getMutationDefaults(e) { const t = [...this.#mutationDefaults.values()]; let n = {}; return t.forEach((t => { (0, ln.to)(e, t.mutationKey) && (n = { ...n, ...t.defaultOptions }) })), n } defaultQueryOptions(e) { if (e._defaulted) return e; const t = { ...this.#defaultOptions.queries, ...this.getQueryDefaults(e.queryKey), ...e, _defaulted: !0 }; return t.queryHash || (t.queryHash = (0, ln.Rm)(t.queryKey, t)), void 0 === t.refetchOnReconnect && (t.refetchOnReconnect = "always" !== t.networkMode), void 0 === t.throwOnError && (t.throwOnError = !!t.suspense), !t.networkMode && t.persister && (t.networkMode = "offlineFirst"), t.queryFn === ln.CN && (t.enabled = !1), t } defaultMutationOptions(e) { return e?._defaulted ? e : { ...this.#defaultOptions.mutations, ...e?.mutationKey && this.getMutationDefaults(e.mutationKey), ...e, _defaulted: !0 } } clear() { this.#queryCache.clear(), this.#mutationCache.clear() } }, XQ = function (e) { var t = e.children; return (0, y.jsx)(VQ, { appId: "cm4i45d9409m0olc0d3cxfdty", config: { loginMethods: ["wallet"], defaultChain: cn, supportedChains: [cn], appearance: { theme: "dark", accentColor: "#676FFF", showWalletLoginFirst: !0 } }, children: (0, y.jsx)(sn.F, { config: YQ, children: (0, y.jsx)(xn.aH, { client: ZQ, children: t }) }) }) }; function JQ(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } function QQ(e) { for (var t = 1; t < arguments.length; t++) { var n = null != arguments[t] ? arguments[t] : {}, r = Object.keys(n); "function" === typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter((function (e) { return Object.getOwnPropertyDescriptor(n, e).enumerable })))), r.forEach((function (t) { JQ(e, t, n[t]) })) } return e } var e0 = function (e) { var t = e.Component, n = e.pageProps, r = (0, yt.useRouter)(); return (0, Ke.useEffect)((function () { var e = function (e) { !function (e) { window.gtag("config", "UA-218911770-1", { page_path: e }) }(e) }; return r.events.on("routeChangeComplete", e), function () { r.events.off("routeChangeComplete", e) } }), [r.events]), (0, y.jsxs)(XQ, { children: [(0, y.jsx)(bt.lX, QQ({}, vt)), (0, y.jsx)(t, QQ({}, n)), (0, y.jsx)(gt, {})] }) } }, 92890: function (e) { e.exports = { footer: "Footer_footer__BH5s_" } }, 59221: function () { }, 9008: function (e, t, n) { e.exports = n(5443) }, 11163: function (e, t, n) { e.exports = n(90387) }, 6400: function (e, t, n) { "use strict"; n.r(t), n.d(t, { Component: function () { return S }, Fragment: function () { return A }, cloneElement: function () { return V }, createContext: function () { return K }, createElement: function () { return x }, createRef: function () { return C }, h: function () { return x }, hydrate: function () { return G }, isValidElement: function () { return s }, options: function () { return i }, render: function () { return H }, toChildArray: function () { return R } }); var r, i, o, s, a, c, l, u, d, h, f, p, m, g = {}, y = [], b = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i, v = Array.isArray; function w(e, t) { for (var n in t) e[n] = t[n]; return e } function E(e) { e && e.parentNode && e.parentNode.removeChild(e) } function x(e, t, n) { var i, o, s, a = {}; for (s in t) "key" == s ? i = t[s] : "ref" == s ? o = t[s] : a[s] = t[s]; if (arguments.length > 2 && (a.children = arguments.length > 3 ? r.call(arguments, 2) : n), "function" == typeof e && null != e.defaultProps) for (s in e.defaultProps) void 0 === a[s] && (a[s] = e.defaultProps[s]); return _(e, a, i, o, null) } function _(e, t, n, r, s) { var a = { type: e, props: t, key: n, ref: r, __k: null, __: null, __b: 0, __e: null, __c: null, constructor: void 0, __v: null == s ? ++o : s, __i: -1, __u: 0 }; return null == s && null != i.vnode && i.vnode(a), a } function C() { return { current: null } } function A(e) { return e.children } function S(e, t) { this.props = e, this.context = t } function k(e, t) { if (null == t) return e.__ ? k(e.__, e.__i + 1) : null; for (var n; t < e.__k.length; t++)if (null != (n = e.__k[t]) && null != n.__e) return n.__e; return "function" == typeof e.type ? k(e) : null } function I(e) { var t, n; if (null != (e = e.__) && null != e.__c) { for (e.__e = e.__c.base = null, t = 0; t < e.__k.length; t++)if (null != (n = e.__k[t]) && null != n.__e) { e.__e = e.__c.base = n.__e; break } return I(e) } } function T(e) { (!e.__d && (e.__d = !0) && a.push(e) && !N.__r++ || c !== i.debounceRendering) && ((c = i.debounceRendering) || l)(N) } function N() { var e, t, n, r, o, s, c, l; for (a.sort(u); e = a.shift();)e.__d && (t = a.length, r = void 0, s = (o = (n = e).__v).__e, c = [], l = [], n.__P && ((r = w({}, o)).__v = o.__v + 1, i.vnode && i.vnode(r), U(n.__P, r, o, n.__n, n.__P.namespaceURI, 32 & o.__u ? [s] : null, c, null == s ? k(o) : s, !!(32 & o.__u), l), r.__v = o.__v, r.__.__k[r.__i] = r, F(c, r, l), r.__e != s && I(r)), a.length > t && a.sort(u)); N.__r = 0 } function P(e, t, n, r, i, o, s, a, c, l, u) { var d, h, f, p, m, b, v = r && r.__k || y, w = t.length; for (c = M(n, t, v, c, w), d = 0; d < w; d++)null != (f = n.__k[d]) && (h = -1 === f.__i ? g : v[f.__i] || g, f.__i = d, b = U(e, f, h, i, o, s, a, c, l, u), p = f.__e, f.ref && h.ref != f.ref && (h.ref && W(h.ref, null, f), u.push(f.ref, f.__c || p, f)), null == m && null != p && (m = p), 4 & f.__u || h.__k === f.__k ? c = O(f, c, e) : "function" == typeof f.type && void 0 !== b ? c = b : p && (c = p.nextSibling), f.__u &= -7); return n.__e = m, c } function M(e, t, n, r, i) { var o, s, a, c, l, u = n.length, d = u, h = 0; for (e.__k = new Array(i), o = 0; o < i; o++)null != (s = t[o]) && "boolean" != typeof s && "function" != typeof s ? (c = o + h, (s = e.__k[o] = "string" == typeof s || "number" == typeof s || "bigint" == typeof s || s.constructor == String ? _(null, s, null, null, null) : v(s) ? _(A, { children: s }, null, null, null) : void 0 === s.constructor && s.__b > 0 ? _(s.type, s.props, s.key, s.ref ? s.ref : null, s.__v) : s).__ = e, s.__b = e.__b + 1, a = null, -1 !== (l = s.__i = j(s, n, c, d)) && (d--, (a = n[l]) && (a.__u |= 2)), null == a || null === a.__v ? (-1 == l && h--, "function" != typeof s.type && (s.__u |= 4)) : l != c && (l == c - 1 ? h-- : l == c + 1 ? h++ : (l > c ? h-- : h++, s.__u |= 4))) : e.__k[o] = null; if (d) for (o = 0; o < u; o++)null != (a = n[o]) && 0 == (2 & a.__u) && (a.__e == r && (r = k(a)), z(a, a)); return r } function O(e, t, n) { var r, i; if ("function" == typeof e.type) { for (r = e.__k, i = 0; r && i < r.length; i++)r[i] && (r[i].__ = e, t = O(r[i], t, n)); return t } e.__e != t && (t && e.type && !n.contains(t) && (t = k(e)), n.insertBefore(e.__e, t || null), t = e.__e); do { t = t && t.nextSibling } while (null != t && 8 == t.nodeType); return t } function R(e, t) { return t = t || [], null == e || "boolean" == typeof e || (v(e) ? e.some((function (e) { R(e, t) })) : t.push(e)), t } function j(e, t, n, r) { var i, o, s = e.key, a = e.type, c = t[n]; if (null === c || c && s == c.key && a === c.type && 0 == (2 & c.__u)) return n; if (r > (null != c && 0 == (2 & c.__u) ? 1 : 0)) for (i = n - 1, o = n + 1; i >= 0 || o < t.length;) { if (i >= 0) { if ((c = t[i]) && 0 == (2 & c.__u) && s == c.key && a === c.type) return i; i-- } if (o < t.length) { if ((c = t[o]) && 0 == (2 & c.__u) && s == c.key && a === c.type) return o; o++ } } return -1 } function $(e, t, n) { "-" == t[0] ? e.setProperty(t, null == n ? "" : n) : e[t] = null == n ? "" : "number" != typeof n || b.test(t) ? n : n + "px" } function L(e, t, n, r, i) { var o; e: if ("style" == t) if ("string" == typeof n) e.style.cssText = n; else { if ("string" == typeof r && (e.style.cssText = r = ""), r) for (t in r) n && t in n || $(e.style, t, ""); if (n) for (t in n) r && n[t] === r[t] || $(e.style, t, n[t]) } else if ("o" == t[0] && "n" == t[1]) o = t != (t = t.replace(d, "$1")), t = t.toLowerCase() in e || "onFocusOut" == t || "onFocusIn" == t ? t.toLowerCase().slice(2) : t.slice(2), e.l || (e.l = {}), e.l[t + o] = n, n ? r ? n.u = r.u : (n.u = h, e.addEventListener(t, o ? p : f, o)) : e.removeEventListener(t, o ? p : f, o); else { if ("http://www.w3.org/2000/svg" == i) t = t.replace(/xlink(H|:h)/, "h").replace(/sName$/, "s"); else if ("width" != t && "height" != t && "href" != t && "list" != t && "form" != t && "tabIndex" != t && "download" != t && "rowSpan" != t && "colSpan" != t && "role" != t && "popover" != t && t in e) try { e[t] = null == n ? "" : n; break e } catch (e) { } "function" == typeof n || (null == n || !1 === n && "-" != t[4] ? e.removeAttribute(t) : e.setAttribute(t, "popover" == t && 1 == n ? "" : n)) } } function D(e) { return function (t) { if (this.l) { var n = this.l[t.type + e]; if (null == t.t) t.t = h++; else if (t.t < n.u) return; return n(i.event ? i.event(t) : t) } } } function U(e, t, n, r, o, s, a, c, l, u) { var d, h, f, p, m, g, y, b, x, _, C, k, I, T, N, M, O, R = t.type; if (void 0 !== t.constructor) return null; 128 & n.__u && (l = !!(32 & n.__u), s = [c = t.__e = n.__e]), (d = i.__b) && d(t); e: if ("function" == typeof R) try { if (b = t.props, x = "prototype" in R && R.prototype.render, _ = (d = R.contextType) && r[d.__c], C = d ? _ ? _.props.value : d.__ : r, n.__c ? y = (h = t.__c = n.__c).__ = h.__E : (x ? t.__c = h = new R(b, C) : (t.__c = h = new S(b, C), h.constructor = R, h.render = q), _ && _.sub(h), h.props = b, h.state || (h.state = {}), h.context = C, h.__n = r, f = h.__d = !0, h.__h = [], h._sb = []), x && null == h.__s && (h.__s = h.state), x && null != R.getDerivedStateFromProps && (h.__s == h.state && (h.__s = w({}, h.__s)), w(h.__s, R.getDerivedStateFromProps(b, h.__s))), p = h.props, m = h.state, h.__v = t, f) x && null == R.getDerivedStateFromProps && null != h.componentWillMount && h.componentWillMount(), x && null != h.componentDidMount && h.__h.push(h.componentDidMount); else { if (x && null == R.getDerivedStateFromProps && b !== p && null != h.componentWillReceiveProps && h.componentWillReceiveProps(b, C), !h.__e && (null != h.shouldComponentUpdate && !1 === h.shouldComponentUpdate(b, h.__s, C) || t.__v == n.__v)) { for (t.__v != n.__v && (h.props = b, h.state = h.__s, h.__d = !1), t.__e = n.__e, t.__k = n.__k, t.__k.some((function (e) { e && (e.__ = t) })), k = 0; k < h._sb.length; k++)h.__h.push(h._sb[k]); h._sb = [], h.__h.length && a.push(h); break e } null != h.componentWillUpdate && h.componentWillUpdate(b, h.__s, C), x && null != h.componentDidUpdate && h.__h.push((function () { h.componentDidUpdate(p, m, g) })) } if (h.context = C, h.props = b, h.__P = e, h.__e = !1, I = i.__r, T = 0, x) { for (h.state = h.__s, h.__d = !1, I && I(t), d = h.render(h.props, h.state, h.context), N = 0; N < h._sb.length; N++)h.__h.push(h._sb[N]); h._sb = [] } else do { h.__d = !1, I && I(t), d = h.render(h.props, h.state, h.context), h.state = h.__s } while (h.__d && ++T < 25); h.state = h.__s, null != h.getChildContext && (r = w(w({}, r), h.getChildContext())), x && !f && null != h.getSnapshotBeforeUpdate && (g = h.getSnapshotBeforeUpdate(p, m)), c = P(e, v(M = null != d && d.type === A && null == d.key ? d.props.children : d) ? M : [M], t, n, r, o, s, a, c, l, u), h.base = t.__e, t.__u &= -161, h.__h.length && a.push(h), y && (h.__E = h.__ = null) } catch (e) { if (t.__v = null, l || null != s) if (e.then) { for (t.__u |= l ? 160 : 128; c && 8 == c.nodeType && c.nextSibling;)c = c.nextSibling; s[s.indexOf(c)] = null, t.__e = c } else for (O = s.length; O--;)E(s[O]); else t.__e = n.__e, t.__k = n.__k; i.__e(e, t, n) } else null == s && t.__v == n.__v ? (t.__k = n.__k, t.__e = n.__e) : c = t.__e = B(n.__e, t, n, r, o, s, a, l, u); return (d = i.diffed) && d(t), 128 & t.__u ? void 0 : c } function F(e, t, n) { for (var r = 0; r < n.length; r++)W(n[r], n[++r], n[++r]); i.__c && i.__c(t, e), e.some((function (t) { try { e = t.__h, t.__h = [], e.some((function (e) { e.call(t) })) } catch (e) { i.__e(e, t.__v) } })) } function B(e, t, n, o, s, a, c, l, u) { var d, h, f, p, m, y, b, w = n.props, x = t.props, _ = t.type; if ("svg" == _ ? s = "http://www.w3.org/2000/svg" : "math" == _ ? s = "http://www.w3.org/1998/Math/MathML" : s || (s = "http://www.w3.org/1999/xhtml"), null != a) for (d = 0; d < a.length; d++)if ((m = a[d]) && "setAttribute" in m == !!_ && (_ ? m.localName == _ : 3 == m.nodeType)) { e = m, a[d] = null; break } if (null == e) { if (null == _) return document.createTextNode(x); e = document.createElementNS(s, _, x.is && x), l && (i.__m && i.__m(t, a), l = !1), a = null } if (null === _) w === x || l && e.data === x || (e.data = x); else { if (a = a && r.call(e.childNodes), w = n.props || g, !l && null != a) for (w = {}, d = 0; d < e.attributes.length; d++)w[(m = e.attributes[d]).name] = m.value; for (d in w) if (m = w[d], "children" == d); else if ("dangerouslySetInnerHTML" == d) f = m; else if (!(d in x)) { if ("value" == d && "defaultValue" in x || "checked" == d && "defaultChecked" in x) continue; L(e, d, null, m, s) } for (d in x) m = x[d], "children" == d ? p = m : "dangerouslySetInnerHTML" == d ? h = m : "value" == d ? y = m : "checked" == d ? b = m : l && "function" != typeof m || w[d] === m || L(e, d, m, w[d], s); if (h) l || f && (h.__html === f.__html || h.__html === e.innerHTML) || (e.innerHTML = h.__html), t.__k = []; else if (f && (e.innerHTML = ""), P(e, v(p) ? p : [p], t, n, o, "foreignObject" == _ ? "http://www.w3.org/1999/xhtml" : s, a, c, a ? a[0] : n.__k && k(n, 0), l, u), null != a) for (d = a.length; d--;)E(a[d]); l || (d = "value", "progress" == _ && null == y ? e.removeAttribute("value") : void 0 !== y && (y !== e[d] || "progress" == _ && !y || "option" == _ && y !== w[d]) && L(e, d, y, w[d], s), d = "checked", void 0 !== b && b !== e[d] && L(e, d, b, w[d], s)) } return e } function W(e, t, n) { try { if ("function" == typeof e) { var r = "function" == typeof e.__u; r && e.__u(), r && null == t || (e.__u = e(t)) } else e.current = t } catch (e) { i.__e(e, n) } } function z(e, t, n) { var r, o; if (i.unmount && i.unmount(e), (r = e.ref) && (r.current && r.current !== e.__e || W(r, null, t)), null != (r = e.__c)) { if (r.componentWillUnmount) try { r.componentWillUnmount() } catch (e) { i.__e(e, t) } r.base = r.__P = null } if (r = e.__k) for (o = 0; o < r.length; o++)r[o] && z(r[o], t, n || "function" != typeof e.type); n || E(e.__e), e.__c = e.__ = e.__e = void 0 } function q(e, t, n) { return this.constructor(e, n) } function H(e, t, n) { var o, s, a, c; t == document && (t = document.documentElement), i.__ && i.__(e, t), s = (o = "function" == typeof n) ? null : n && n.__k || t.__k, a = [], c = [], U(t, e = (!o && n || t).__k = x(A, null, [e]), s || g, g, t.namespaceURI, !o && n ? [n] : s ? null : t.firstChild ? r.call(t.childNodes) : null, a, !o && n ? n : s ? s.__e : t.firstChild, o, c), F(a, e, c) } function G(e, t) { H(e, t, G) } function V(e, t, n) { var i, o, s, a, c = w({}, e.props); for (s in e.type && e.type.defaultProps && (a = e.type.defaultProps), t) "key" == s ? i = t[s] : "ref" == s ? o = t[s] : c[s] = void 0 === t[s] && void 0 !== a ? a[s] : t[s]; return arguments.length > 2 && (c.children = arguments.length > 3 ? r.call(arguments, 2) : n), _(e.type, c, i || e.key, o || e.ref, null) } function K(e, t) { var n = { __c: t = "__cC" + m++, __: e, Consumer: function (e, t) { return e.children(t) }, Provider: function (e) { var n, r; return this.getChildContext || (n = new Set, (r = {})[t] = this, this.getChildContext = function () { return r }, this.componentWillUnmount = function () { n = null }, this.shouldComponentUpdate = function (e) { this.props.value !== e.value && n.forEach((function (e) { e.__e = !0, T(e) })) }, this.sub = function (e) { n.add(e); var t = e.componentWillUnmount; e.componentWillUnmount = function () { n && n.delete(e), t && t.call(e) } }), e.children } }; return n.Provider.__ = n.Consumer.contextType = n } r = y.slice, i = { __e: function (e, t, n, r) { for (var i, o, s; t = t.__;)if ((i = t.__c) && !i.__) try { if ((o = i.constructor) && null != o.getDerivedStateFromError && (i.setState(o.getDerivedStateFromError(e)), s = i.__d), null != i.componentDidCatch && (i.componentDidCatch(e, r || {}), s = i.__d), s) return i.__E = i } catch (t) { e = t } throw e } }, o = 0, s = function (e) { return null != e && null == e.constructor }, S.prototype.setState = function (e, t) { var n; n = null != this.__s && this.__s !== this.state ? this.__s : this.__s = w({}, this.state), "function" == typeof e && (e = e(w({}, n), this.props)), e && w(n, e), null != e && this.__v && (t && this._sb.push(t), T(this)) }, S.prototype.forceUpdate = function (e) { this.__v && (this.__e = !0, e && this.__h.push(e), T(this)) }, S.prototype.render = A, a = [], l = "function" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, u = function (e, t) { return e.__v.__b - t.__v.__b }, N.__r = 0, d = /(PointerCapture)$|Capture$/i, h = 0, f = D(!1), p = D(!0), m = 0 }, 30396: function (e, t, n) { "use strict"; n.r(t), n.d(t, { useCallback: function () { return A }, useContext: function () { return S }, useDebugValue: function () { return k }, useEffect: function () { return w }, useErrorBoundary: function () { return I }, useId: function () { return T }, useImperativeHandle: function () { return _ }, useLayoutEffect: function () { return E }, useMemo: function () { return C }, useReducer: function () { return v }, useRef: function () { return x }, useState: function () { return b } }); var r, i, o, s, a = n(6400), c = 0, l = [], u = a.options, d = u.__b, h = u.__r, f = u.diffed, p = u.__c, m = u.unmount, g = u.__; function y(e, t) { u.__h && u.__h(i, e, c || t), c = 0; var n = i.__H || (i.__H = { __: [], __h: [] }); return e >= n.__.length && n.__.push({}), n.__[e] } function b(e) { return c = 1, v($, e) } function v(e, t, n) { var o = y(r++, 2); if (o.t = e, !o.__c && (o.__ = [n ? n(t) : $(void 0, t), function (e) { var t = o.__N ? o.__N[0] : o.__[0], n = o.t(t, e); t !== n && (o.__N = [n, o.__[1]], o.__c.setState({})) }], o.__c = i, !i.u)) { var s = function (e, t, n) { if (!o.__c.__H) return !0; var r = o.__c.__H.__.filter((function (e) { return !!e.__c })); if (r.every((function (e) { return !e.__N }))) return !a || a.call(this, e, t, n); var i = o.__c.props !== e; return r.forEach((function (e) { if (e.__N) { var t = e.__[0]; e.__ = e.__N, e.__N = void 0, t !== e.__[0] && (i = !0) } })), a && a.call(this, e, t, n) || i }; i.u = !0; var a = i.shouldComponentUpdate, c = i.componentWillUpdate; i.componentWillUpdate = function (e, t, n) { if (this.__e) { var r = a; a = void 0, s(e, t, n), a = r } c && c.call(this, e, t, n) }, i.shouldComponentUpdate = s } return o.__N || o.__ } function w(e, t) { var n = y(r++, 3); !u.__s && j(n.__H, t) && (n.__ = e, n.i = t, i.__H.__h.push(n)) } function E(e, t) { var n = y(r++, 4); !u.__s && j(n.__H, t) && (n.__ = e, n.i = t, i.__h.push(n)) } function x(e) { return c = 5, C((function () { return { current: e } }), []) } function _(e, t, n) { c = 6, E((function () { return "function" == typeof e ? (e(t()), function () { return e(null) }) : e ? (e.current = t(), function () { return e.current = null }) : void 0 }), null == n ? n : n.concat(e)) } function C(e, t) { var n = y(r++, 7); return j(n.__H, t) && (n.__ = e(), n.__H = t, n.__h = e), n.__ } function A(e, t) { return c = 8, C((function () { return e }), t) } function S(e) { var t = i.context[e.__c], n = y(r++, 9); return n.c = e, t ? (null == n.__ && (n.__ = !0, t.sub(i)), t.props.value) : e.__ } function k(e, t) { u.useDebugValue && u.useDebugValue(t ? t(e) : e) } function I(e) { var t = y(r++, 10), n = b(); return t.__ = e, i.componentDidCatch || (i.componentDidCatch = function (e, r) { t.__ && t.__(e, r), n[1](e) }), [n[0], function () { n[1](void 0) }] } function T() { var e = y(r++, 11); if (!e.__) { for (var t = i.__v; null !== t && !t.__m && null !== t.__;)t = t.__; var n = t.__m || (t.__m = [0, 0]); e.__ = "P" + n[0] + "-" + n[1]++ } return e.__ } function N() { for (var e; e = l.shift();)if (e.__P && e.__H) try { e.__H.__h.forEach(O), e.__H.__h.forEach(R), e.__H.__h = [] } catch (r) { e.__H.__h = [], u.__e(r, e.__v) } } u.__b = function (e) { i = null, d && d(e) }, u.__ = function (e, t) { e && t.__k && t.__k.__m && (e.__m = t.__k.__m), g && g(e, t) }, u.__r = function (e) { h && h(e), r = 0; var t = (i = e.__c).__H; t && (o === i ? (t.__h = [], i.__h = [], t.__.forEach((function (e) { e.__N && (e.__ = e.__N), e.i = e.__N = void 0 }))) : (t.__h.forEach(O), t.__h.forEach(R), t.__h = [], r = 0)), o = i }, u.diffed = function (e) { f && f(e); var t = e.__c; t && t.__H && (t.__H.__h.length && (1 !== l.push(t) && s === u.requestAnimationFrame || ((s = u.requestAnimationFrame) || M)(N)), t.__H.__.forEach((function (e) { e.i && (e.__H = e.i), e.i = void 0 }))), o = i = null }, u.__c = function (e, t) { t.some((function (e) { try { e.__h.forEach(O), e.__h = e.__h.filter((function (e) { return !e.__ || R(e) })) } catch (i) { t.some((function (e) { e.__h && (e.__h = []) })), t = [], u.__e(i, e.__v) } })), p && p(e, t) }, u.unmount = function (e) { m && m(e); var t, n = e.__c; n && n.__H && (n.__H.__.forEach((function (e) { try { O(e) } catch (e) { t = e } })), n.__H = void 0, t && u.__e(t, n.__v)) }; var P = "function" == typeof requestAnimationFrame; function M(e) { var t, n = function () { clearTimeout(r), P && cancelAnimationFrame(t), setTimeout(e) }, r = setTimeout(n, 100); P && (t = requestAnimationFrame(n)) } function O(e) { var t = i, n = e.__c; "function" == typeof n && (e.__c = void 0, n()), i = t } function R(e) { var t = i; e.__c = e.__(), i = t } function j(e, t) { return !e || e.length !== t.length || t.some((function (t, n) { return t !== e[n] })) } function $(e, t) { return "function" == typeof t ? t(e) : t } }, 92703: function (e, t, n) { "use strict"; var r = n(50414); function i() { } function o() { } o.resetWarningCache = i, e.exports = function () { function e(e, t, n, i, o, s) { if (s !== r) { var a = new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"); throw a.name = "Invariant Violation", a } } function t() { return e } e.isRequired = e; var n = { array: e, bigint: e, bool: e, func: e, number: e, object: e, string: e, symbol: e, any: e, arrayOf: t, element: e, elementType: e, instanceOf: t, node: e, objectOf: t, oneOf: t, oneOfType: t, shape: t, exact: t, checkPropTypes: o, resetWarningCache: i }; return n.PropTypes = n, n } }, 45697: function (e, t, n) { e.exports = n(92703)() }, 50414: function (e) { "use strict"; e.exports = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED" }, 92592: function (e, t, n) { const r = n(47138), i = n(95115), o = n(6907), s = n(93776); function a(e, t, n, o, s) { const a = [].slice.call(arguments, 1), c = a.length, l = "function" === typeof a[c - 1]; if (!l && !r()) throw new Error("Callback required as last argument"); if (!l) { if (c < 1) throw new Error("Too few arguments provided"); return 1 === c ? (n = t, t = o = void 0) : 2 !== c || t.getContext || (o = n, n = t, t = void 0), new Promise((function (r, s) { try { const s = i.create(n, o); r(e(s, t, o)) } catch (a) { s(a) } })) } if (c < 2) throw new Error("Too few arguments provided"); 2 === c ? (s = n, n = t, t = o = void 0) : 3 === c && (t.getContext && "undefined" === typeof s ? (s = o, o = void 0) : (s = o, o = n, n = t, t = void 0)); try { const r = i.create(n, o); s(null, e(r, t, o)) } catch (u) { s(u) } } t.create = i.create, t.toCanvas = a.bind(null, o.render), t.toDataURL = a.bind(null, o.renderToDataURL), t.toString = a.bind(null, (function (e, t, n) { return s.render(e, n) })) }, 47138: function (e) { e.exports = function () { return "function" === typeof Promise && Promise.prototype && Promise.prototype.then } }, 21845: function (e, t, n) { const r = n(10242).getSymbolSize; t.getRowColCoords = function (e) { if (1 === e) return []; const t = Math.floor(e / 7) + 2, n = r(e), i = 145 === n ? 26 : 2 * Math.ceil((n - 13) / (2 * t - 2)), o = [n - 7]; for (let r = 1; r < t - 1; r++)o[r] = o[r - 1] - i; return o.push(6), o.reverse() }, t.getPositions = function (e) { const n = [], r = t.getRowColCoords(e), i = r.length; for (let t = 0; t < i; t++)for (let e = 0; e < i; e++)0 === t && 0 === e || 0 === t && e === i - 1 || t === i - 1 && 0 === e || n.push([r[t], r[e]]); return n } }, 8260: function (e, t, n) { const r = n(76910), i = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", " ", "$", "%", "*", "+", "-", ".", "/", ":"]; function o(e) { this.mode = r.ALPHANUMERIC, this.data = e } o.getBitsLength = function (e) { return 11 * Math.floor(e / 2) + e % 2 * 6 }, o.prototype.getLength = function () { return this.data.length }, o.prototype.getBitsLength = function () { return o.getBitsLength(this.data.length) }, o.prototype.write = function (e) { let t; for (t = 0; t + 2 <= this.data.length; t += 2) { let n = 45 * i.indexOf(this.data[t]); n += i.indexOf(this.data[t + 1]), e.put(n, 11) } this.data.length % 2 && e.put(i.indexOf(this.data[t]), 6) }, e.exports = o }, 97245: function (e) { function t() { this.buffer = [], this.length = 0 } t.prototype = { get: function (e) { const t = Math.floor(e / 8); return 1 === (this.buffer[t] >>> 7 - e % 8 & 1) }, put: function (e, t) { for (let n = 0; n < t; n++)this.putBit(1 === (e >>> t - n - 1 & 1)) }, getLengthInBits: function () { return this.length }, putBit: function (e) { const t = Math.floor(this.length / 8); this.buffer.length <= t && this.buffer.push(0), e && (this.buffer[t] |= 128 >>> this.length % 8), this.length++ } }, e.exports = t }, 73280: function (e) { function t(e) { if (!e || e < 1) throw new Error("BitMatrix size must be defined and greater than 0"); this.size = e, this.data = new Uint8Array(e * e), this.reservedBit = new Uint8Array(e * e) } t.prototype.set = function (e, t, n, r) { const i = e * this.size + t; this.data[i] = n, r && (this.reservedBit[i] = !0) }, t.prototype.get = function (e, t) { return this.data[e * this.size + t] }, t.prototype.xor = function (e, t, n) { this.data[e * this.size + t] ^= n }, t.prototype.isReserved = function (e, t) { return this.reservedBit[e * this.size + t] }, e.exports = t }, 43424: function (e, t, n) { const r = n(76910); function i(e) { this.mode = r.BYTE, this.data = "string" === typeof e ? (new TextEncoder).encode(e) : new Uint8Array(e) } i.getBitsLength = function (e) { return 8 * e }, i.prototype.getLength = function () { return this.data.length }, i.prototype.getBitsLength = function () { return i.getBitsLength(this.data.length) }, i.prototype.write = function (e) { for (let t = 0, n = this.data.length; t < n; t++)e.put(this.data[t], 8) }, e.exports = i }, 35393: function (e, t, n) { const r = n(64908), i = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 2, 2, 4, 1, 2, 4, 4, 2, 4, 4, 4, 2, 4, 6, 5, 2, 4, 6, 6, 2, 5, 8, 8, 4, 5, 8, 8, 4, 5, 8, 11, 4, 8, 10, 11, 4, 9, 12, 16, 4, 9, 16, 16, 6, 10, 12, 18, 6, 10, 17, 16, 6, 11, 16, 19, 6, 13, 18, 21, 7, 14, 21, 25, 8, 16, 20, 25, 8, 17, 23, 25, 9, 17, 23, 34, 9, 18, 25, 30, 10, 20, 27, 32, 12, 21, 29, 35, 12, 23, 34, 37, 12, 25, 34, 40, 13, 26, 35, 42, 14, 28, 38, 45, 15, 29, 40, 48, 16, 31, 43, 51, 17, 33, 45, 54, 18, 35, 48, 57, 19, 37, 51, 60, 19, 38, 53, 63, 20, 40, 56, 66, 21, 43, 59, 70, 22, 45, 62, 74, 24, 47, 65, 77, 25, 49, 68, 81], o = [7, 10, 13, 17, 10, 16, 22, 28, 15, 26, 36, 44, 20, 36, 52, 64, 26, 48, 72, 88, 36, 64, 96, 112, 40, 72, 108, 130, 48, 88, 132, 156, 60, 110, 160, 192, 72, 130, 192, 224, 80, 150, 224, 264, 96, 176, 260, 308, 104, 198, 288, 352, 120, 216, 320, 384, 132, 240, 360, 432, 144, 280, 408, 480, 168, 308, 448, 532, 180, 338, 504, 588, 196, 364, 546, 650, 224, 416, 600, 700, 224, 442, 644, 750, 252, 476, 690, 816, 270, 504, 750, 900, 300, 560, 810, 960, 312, 588, 870, 1050, 336, 644, 952, 1110, 360, 700, 1020, 1200, 390, 728, 1050, 1260, 420, 784, 1140, 1350, 450, 812, 1200, 1440, 480, 868, 1290, 1530, 510, 924, 1350, 1620, 540, 980, 1440, 1710, 570, 1036, 1530, 1800, 570, 1064, 1590, 1890, 600, 1120, 1680, 1980, 630, 1204, 1770, 2100, 660, 1260, 1860, 2220, 720, 1316, 1950, 2310, 750, 1372, 2040, 2430]; t.getBlocksCount = function (e, t) { switch (t) { case r.L: return i[4 * (e - 1) + 0]; case r.M: return i[4 * (e - 1) + 1]; case r.Q: return i[4 * (e - 1) + 2]; case r.H: return i[4 * (e - 1) + 3]; default: return } }, t.getTotalCodewordsCount = function (e, t) { switch (t) { case r.L: return o[4 * (e - 1) + 0]; case r.M: return o[4 * (e - 1) + 1]; case r.Q: return o[4 * (e - 1) + 2]; case r.H: return o[4 * (e - 1) + 3]; default: return } } }, 64908: function (e, t) { t.L = { bit: 1 }, t.M = { bit: 0 }, t.Q = { bit: 3 }, t.H = { bit: 2 }, t.isValid = function (e) { return e && "undefined" !== typeof e.bit && e.bit >= 0 && e.bit < 4 }, t.from = function (e, n) { if (t.isValid(e)) return e; try { return function (e) { if ("string" !== typeof e) throw new Error("Param is not a string"); switch (e.toLowerCase()) { case "l": case "low": return t.L; case "m": case "medium": return t.M; case "q": case "quartile": return t.Q; case "h": case "high": return t.H; default: throw new Error("Unknown EC Level: " + e) } }(e) } catch (r) { return n } } }, 76526: function (e, t, n) { const r = n(10242).getSymbolSize; t.getPositions = function (e) { const t = r(e); return [[0, 0], [t - 7, 0], [0, t - 7]] } }, 61642: function (e, t, n) { const r = n(10242), i = r.getBCHDigit(1335); t.getEncodedBits = function (e, t) { const n = e.bit << 3 | t; let o = n << 10; for (; r.getBCHDigit(o) - i >= 0;)o ^= 1335 << r.getBCHDigit(o) - i; return 21522 ^ (n << 10 | o) } }, 69729: function (e, t) { const n = new Uint8Array(512), r = new Uint8Array(256); !function () { let e = 1; for (let t = 0; t < 255; t++)n[t] = e, r[e] = t, e <<= 1, 256 & e && (e ^= 285); for (let t = 255; t < 512; t++)n[t] = n[t - 255] }(), t.log = function (e) { if (e < 1) throw new Error("log(" + e + ")"); return r[e] }, t.exp = function (e) { return n[e] }, t.mul = function (e, t) { return 0 === e || 0 === t ? 0 : n[r[e] + r[t]] } }, 35442: function (e, t, n) { const r = n(76910), i = n(10242); function o(e) { this.mode = r.KANJI, this.data = e } o.getBitsLength = function (e) { return 13 * e }, o.prototype.getLength = function () { return this.data.length }, o.prototype.getBitsLength = function () { return o.getBitsLength(this.data.length) }, o.prototype.write = function (e) { let t; for (t = 0; t < this.data.length; t++) { let n = i.toSJIS(this.data[t]); if (n >= 33088 && n <= 40956) n -= 33088; else { if (!(n >= 57408 && n <= 60351)) throw new Error("Invalid SJIS character: " + this.data[t] + "\nMake sure your charset is UTF-8"); n -= 49472 } n = 192 * (n >>> 8 & 255) + (255 & n), e.put(n, 13) } }, e.exports = o }, 27126: function (e, t) { t.Patterns = { PATTERN000: 0, PATTERN001: 1, PATTERN010: 2, PATTERN011: 3, PATTERN100: 4, PATTERN101: 5, PATTERN110: 6, PATTERN111: 7 }; const n = 3, r = 3, i = 40, o = 10; function s(e, n, r) { switch (e) { case t.Patterns.PATTERN000: return (n + r) % 2 === 0; case t.Patterns.PATTERN001: return n % 2 === 0; case t.Patterns.PATTERN010: return r % 3 === 0; case t.Patterns.PATTERN011: return (n + r) % 3 === 0; case t.Patterns.PATTERN100: return (Math.floor(n / 2) + Math.floor(r / 3)) % 2 === 0; case t.Patterns.PATTERN101: return n * r % 2 + n * r % 3 === 0; case t.Patterns.PATTERN110: return (n * r % 2 + n * r % 3) % 2 === 0; case t.Patterns.PATTERN111: return (n * r % 3 + (n + r) % 2) % 2 === 0; default: throw new Error("bad maskPattern:" + e) } } t.isValid = function (e) { return null != e && "" !== e && !isNaN(e) && e >= 0 && e <= 7 }, t.from = function (e) { return t.isValid(e) ? parseInt(e, 10) : void 0 }, t.getPenaltyN1 = function (e) { const t = e.size; let r = 0, i = 0, o = 0, s = null, a = null; for (let c = 0; c < t; c++) { i = o = 0, s = a = null; for (let l = 0; l < t; l++) { let t = e.get(c, l); t === s ? i++ : (i >= 5 && (r += n + (i - 5)), s = t, i = 1), t = e.get(l, c), t === a ? o++ : (o >= 5 && (r += n + (o - 5)), a = t, o = 1) } i >= 5 && (r += n + (i - 5)), o >= 5 && (r += n + (o - 5)) } return r }, t.getPenaltyN2 = function (e) { const t = e.size; let n = 0; for (let r = 0; r < t - 1; r++)for (let i = 0; i < t - 1; i++) { const t = e.get(r, i) + e.get(r, i + 1) + e.get(r + 1, i) + e.get(r + 1, i + 1); 4 !== t && 0 !== t || n++ } return n * r }, t.getPenaltyN3 = function (e) { const t = e.size; let n = 0, r = 0, o = 0; for (let i = 0; i < t; i++) { r = o = 0; for (let s = 0; s < t; s++)r = r << 1 & 2047 | e.get(i, s), s >= 10 && (1488 === r || 93 === r) && n++, o = o << 1 & 2047 | e.get(s, i), s >= 10 && (1488 === o || 93 === o) && n++ } return n * i }, t.getPenaltyN4 = function (e) { let t = 0; const n = e.data.length; for (let r = 0; r < n; r++)t += e.data[r]; return Math.abs(Math.ceil(100 * t / n / 5) - 10) * o }, t.applyMask = function (e, t) { const n = t.size; for (let r = 0; r < n; r++)for (let i = 0; i < n; i++)t.isReserved(i, r) || t.xor(i, r, s(e, i, r)) }, t.getBestMask = function (e, n) { const r = Object.keys(t.Patterns).length; let i = 0, o = 1 / 0; for (let s = 0; s < r; s++) { n(s), t.applyMask(s, e); const r = t.getPenaltyN1(e) + t.getPenaltyN2(e) + t.getPenaltyN3(e) + t.getPenaltyN4(e); t.applyMask(s, e), r < o && (o = r, i = s) } return i } }, 76910: function (e, t, n) { const r = n(43114), i = n(7007); t.NUMERIC = { id: "Numeric", bit: 1, ccBits: [10, 12, 14] }, t.ALPHANUMERIC = { id: "Alphanumeric", bit: 2, ccBits: [9, 11, 13] }, t.BYTE = { id: "Byte", bit: 4, ccBits: [8, 16, 16] }, t.KANJI = { id: "Kanji", bit: 8, ccBits: [8, 10, 12] }, t.MIXED = { bit: -1 }, t.getCharCountIndicator = function (e, t) { if (!e.ccBits) throw new Error("Invalid mode: " + e); if (!r.isValid(t)) throw new Error("Invalid version: " + t); return t >= 1 && t < 10 ? e.ccBits[0] : t < 27 ? e.ccBits[1] : e.ccBits[2] }, t.getBestModeForData = function (e) { return i.testNumeric(e) ? t.NUMERIC : i.testAlphanumeric(e) ? t.ALPHANUMERIC : i.testKanji(e) ? t.KANJI : t.BYTE }, t.toString = function (e) { if (e && e.id) return e.id; throw new Error("Invalid mode") }, t.isValid = function (e) { return e && e.bit && e.ccBits }, t.from = function (e, n) { if (t.isValid(e)) return e; try { return function (e) { if ("string" !== typeof e) throw new Error("Param is not a string"); switch (e.toLowerCase()) { case "numeric": return t.NUMERIC; case "alphanumeric": return t.ALPHANUMERIC; case "kanji": return t.KANJI; case "byte": return t.BYTE; default: throw new Error("Unknown mode: " + e) } }(e) } catch (r) { return n } } }, 41085: function (e, t, n) { const r = n(76910); function i(e) { this.mode = r.NUMERIC, this.data = e.toString() } i.getBitsLength = function (e) { return 10 * Math.floor(e / 3) + (e % 3 ? e % 3 * 3 + 1 : 0) }, i.prototype.getLength = function () { return this.data.length }, i.prototype.getBitsLength = function () { return i.getBitsLength(this.data.length) }, i.prototype.write = function (e) { let t, n, r; for (t = 0; t + 3 <= this.data.length; t += 3)n = this.data.substr(t, 3), r = parseInt(n, 10), e.put(r, 10); const i = this.data.length - t; i > 0 && (n = this.data.substr(t), r = parseInt(n, 10), e.put(r, 3 * i + 1)) }, e.exports = i }, 26143: function (e, t, n) { const r = n(69729); t.mul = function (e, t) { const n = new Uint8Array(e.length + t.length - 1); for (let i = 0; i < e.length; i++)for (let o = 0; o < t.length; o++)n[i + o] ^= r.mul(e[i], t[o]); return n }, t.mod = function (e, t) { let n = new Uint8Array(e); for (; n.length - t.length >= 0;) { const e = n[0]; for (let o = 0; o < t.length; o++)n[o] ^= r.mul(t[o], e); let i = 0; for (; i < n.length && 0 === n[i];)i++; n = n.slice(i) } return n }, t.generateECPolynomial = function (e) { let n = new Uint8Array([1]); for (let i = 0; i < e; i++)n = t.mul(n, new Uint8Array([1, r.exp(i)])); return n } }, 95115: function (e, t, n) { const r = n(10242), i = n(64908), o = n(97245), s = n(73280), a = n(21845), c = n(76526), l = n(27126), u = n(35393), d = n(52882), h = n(23103), f = n(61642), p = n(76910), m = n(16130); function g(e, t, n) { const r = e.size, i = f.getEncodedBits(t, n); let o, s; for (o = 0; o < 15; o++)s = 1 === (i >> o & 1), o < 6 ? e.set(o, 8, s, !0) : o < 8 ? e.set(o + 1, 8, s, !0) : e.set(r - 15 + o, 8, s, !0), o < 8 ? e.set(8, r - o - 1, s, !0) : o < 9 ? e.set(8, 15 - o - 1 + 1, s, !0) : e.set(8, 15 - o - 1, s, !0); e.set(r - 8, 8, 1, !0) } function y(e, t, n) { const i = new o; n.forEach((function (t) { i.put(t.mode.bit, 4), i.put(t.getLength(), p.getCharCountIndicator(t.mode, e)), t.write(i) })); const s = 8 * (r.getSymbolTotalCodewords(e) - u.getTotalCodewordsCount(e, t)); for (i.getLengthInBits() + 4 <= s && i.put(0, 4); i.getLengthInBits() % 8 !== 0;)i.putBit(0); const a = (s - i.getLengthInBits()) / 8; for (let r = 0; r < a; r++)i.put(r % 2 ? 17 : 236, 8); return function (e, t, n) { const i = r.getSymbolTotalCodewords(t), o = u.getTotalCodewordsCount(t, n), s = i - o, a = u.getBlocksCount(t, n), c = a - i % a, l = Math.floor(i / a), h = Math.floor(s / a), f = h + 1, p = l - h, m = new d(p); let g = 0; const y = new Array(a), b = new Array(a); let v = 0; const w = new Uint8Array(e.buffer); for (let r = 0; r < a; r++) { const e = r < c ? h : f; y[r] = w.slice(g, g + e), b[r] = m.encode(y[r]), g += e, v = Math.max(v, e) } const E = new Uint8Array(i); let x, _, C = 0; for (x = 0; x < v; x++)for (_ = 0; _ < a; _++)x < y[_].length && (E[C++] = y[_][x]); for (x = 0; x < p; x++)for (_ = 0; _ < a; _++)E[C++] = b[_][x]; return E }(i, e, t) } function b(e, t, n, i) { let o; if (Array.isArray(e)) o = m.fromArray(e); else { if ("string" !== typeof e) throw new Error("Invalid data"); { let r = t; if (!r) { const t = m.rawSplit(e); r = h.getBestVersionForData(t, n) } o = m.fromString(e, r || 40) } } const u = h.getBestVersionForData(o, n); if (!u) throw new Error("The amount of data is too big to be stored in a QR Code"); if (t) { if (t < u) throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: " + u + ".\n") } else t = u; const d = y(t, n, o), f = r.getSymbolSize(t), p = new s(f); return function (e, t) { const n = e.size, r = c.getPositions(t); for (let i = 0; i < r.length; i++) { const t = r[i][0], o = r[i][1]; for (let r = -1; r <= 7; r++)if (!(t + r <= -1 || n <= t + r)) for (let i = -1; i <= 7; i++)o + i <= -1 || n <= o + i || (r >= 0 && r <= 6 && (0 === i || 6 === i) || i >= 0 && i <= 6 && (0 === r || 6 === r) || r >= 2 && r <= 4 && i >= 2 && i <= 4 ? e.set(t + r, o + i, !0, !0) : e.set(t + r, o + i, !1, !0)) } }(p, t), function (e) { const t = e.size; for (let n = 8; n < t - 8; n++) { const t = n % 2 === 0; e.set(n, 6, t, !0), e.set(6, n, t, !0) } }(p), function (e, t) { const n = a.getPositions(t); for (let r = 0; r < n.length; r++) { const t = n[r][0], i = n[r][1]; for (let n = -2; n <= 2; n++)for (let r = -2; r <= 2; r++)-2 === n || 2 === n || -2 === r || 2 === r || 0 === n && 0 === r ? e.set(t + n, i + r, !0, !0) : e.set(t + n, i + r, !1, !0) } }(p, t), g(p, n, 0), t >= 7 && function (e, t) { const n = e.size, r = h.getEncodedBits(t); let i, o, s; for (let a = 0; a < 18; a++)i = Math.floor(a / 3), o = a % 3 + n - 8 - 3, s = 1 === (r >> a & 1), e.set(i, o, s, !0), e.set(o, i, s, !0) }(p, t), function (e, t) { const n = e.size; let r = -1, i = n - 1, o = 7, s = 0; for (let a = n - 1; a > 0; a -= 2)for (6 === a && a--; ;) { for (let n = 0; n < 2; n++)if (!e.isReserved(i, a - n)) { let r = !1; s < t.length && (r = 1 === (t[s] >>> o & 1)), e.set(i, a - n, r), o--, -1 === o && (s++, o = 7) } if (i += r, i < 0 || n <= i) { i -= r, r = -r; break } } }(p, d), isNaN(i) && (i = l.getBestMask(p, g.bind(null, p, n))), l.applyMask(i, p), g(p, n, i), { modules: p, version: t, errorCorrectionLevel: n, maskPattern: i, segments: o } } t.create = function (e, t) { if ("undefined" === typeof e || "" === e) throw new Error("No input text"); let n, o, s = i.M; return "undefined" !== typeof t && (s = i.from(t.errorCorrectionLevel, i.M), n = h.from(t.version), o = l.from(t.maskPattern), t.toSJISFunc && r.setToSJISFunction(t.toSJISFunc)), b(e, n, s, o) } }, 52882: function (e, t, n) { const r = n(26143); function i(e) { this.genPoly = void 0, this.degree = e, this.degree && this.initialize(this.degree) } i.prototype.initialize = function (e) { this.degree = e, this.genPoly = r.generateECPolynomial(this.degree) }, i.prototype.encode = function (e) { if (!this.genPoly) throw new Error("Encoder not initialized"); const t = new Uint8Array(e.length + this.degree); t.set(e); const n = r.mod(t, this.genPoly), i = this.degree - n.length; if (i > 0) { const e = new Uint8Array(this.degree); return e.set(n, i), e } return n }, e.exports = i }, 7007: function (e, t) { const n = "[0-9]+"; let r = "(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+"; r = r.replace(/u/g, "\\u"); const i = "(?:(?![A-Z0-9 $%*+\\-./:]|" + r + ")(?:.|[\r\n]))+"; t.KANJI = new RegExp(r, "g"), t.BYTE_KANJI = new RegExp("[^A-Z0-9 $%*+\\-./:]+", "g"), t.BYTE = new RegExp(i, "g"), t.NUMERIC = new RegExp(n, "g"), t.ALPHANUMERIC = new RegExp("[A-Z $%*+\\-./:]+", "g"); const o = new RegExp("^" + r + "$"), s = new RegExp("^[0-9]+$"), a = new RegExp("^[A-Z0-9 $%*+\\-./:]+$"); t.testKanji = function (e) { return o.test(e) }, t.testNumeric = function (e) { return s.test(e) }, t.testAlphanumeric = function (e) { return a.test(e) } }, 16130: function (e, t, n) { const r = n(76910), i = n(41085), o = n(8260), s = n(43424), a = n(35442), c = n(7007), l = n(10242), u = n(65987); function d(e) { return unescape(encodeURIComponent(e)).length } function h(e, t, n) { const r = []; let i; for (; null !== (i = e.exec(n));)r.push({ data: i[0], index: i.index, mode: t, length: i[0].length }); return r } function f(e) { const t = h(c.NUMERIC, r.NUMERIC, e), n = h(c.ALPHANUMERIC, r.ALPHANUMERIC, e); let i, o; l.isKanjiModeEnabled() ? (i = h(c.BYTE, r.BYTE, e), o = h(c.KANJI, r.KANJI, e)) : (i = h(c.BYTE_KANJI, r.BYTE, e), o = []); return t.concat(n, i, o).sort((function (e, t) { return e.index - t.index })).map((function (e) { return { data: e.data, mode: e.mode, length: e.length } })) } function p(e, t) { switch (t) { case r.NUMERIC: return i.getBitsLength(e); case r.ALPHANUMERIC: return o.getBitsLength(e); case r.KANJI: return a.getBitsLength(e); case r.BYTE: return s.getBitsLength(e) } } function m(e, t) { let n; const c = r.getBestModeForData(e); if (n = r.from(t, c), n !== r.BYTE && n.bit < c.bit) throw new Error('"' + e + '" cannot be encoded with mode ' + r.toString(n) + ".\n Suggested mode is: " + r.toString(c)); switch (n !== r.KANJI || l.isKanjiModeEnabled() || (n = r.BYTE), n) { case r.NUMERIC: return new i(e); case r.ALPHANUMERIC: return new o(e); case r.KANJI: return new a(e); case r.BYTE: return new s(e) } } t.fromArray = function (e) { return e.reduce((function (e, t) { return "string" === typeof t ? e.push(m(t, null)) : t.data && e.push(m(t.data, t.mode)), e }), []) }, t.fromString = function (e, n) { const i = function (e, t) { const n = {}, i = { start: {} }; let o = ["start"]; for (let s = 0; s < e.length; s++) { const a = e[s], c = []; for (let e = 0; e < a.length; e++) { const l = a[e], u = "" + s + e; c.push(u), n[u] = { node: l, lastCount: 0 }, i[u] = {}; for (let e = 0; e < o.length; e++) { const s = o[e]; n[s] && n[s].node.mode === l.mode ? (i[s][u] = p(n[s].lastCount + l.length, l.mode) - p(n[s].lastCount, l.mode), n[s].lastCount += l.length) : (n[s] && (n[s].lastCount = l.length), i[s][u] = p(l.length, l.mode) + 4 + r.getCharCountIndicator(l.mode, t)) } } o = c } for (let r = 0; r < o.length; r++)i[o[r]].end = 0; return { map: i, table: n } }(function (e) { const t = []; for (let n = 0; n < e.length; n++) { const i = e[n]; switch (i.mode) { case r.NUMERIC: t.push([i, { data: i.data, mode: r.ALPHANUMERIC, length: i.length }, { data: i.data, mode: r.BYTE, length: i.length }]); break; case r.ALPHANUMERIC: t.push([i, { data: i.data, mode: r.BYTE, length: i.length }]); break; case r.KANJI: t.push([i, { data: i.data, mode: r.BYTE, length: d(i.data) }]); break; case r.BYTE: t.push([{ data: i.data, mode: r.BYTE, length: d(i.data) }]) } } return t }(f(e, l.isKanjiModeEnabled())), n), o = u.find_path(i.map, "start", "end"), s = []; for (let t = 1; t < o.length - 1; t++)s.push(i.table[o[t]].node); return t.fromArray(function (e) { return e.reduce((function (e, t) { const n = e.length - 1 >= 0 ? e[e.length - 1] : null; return n && n.mode === t.mode ? (e[e.length - 1].data += t.data, e) : (e.push(t), e) }), []) }(s)) }, t.rawSplit = function (e) { return t.fromArray(f(e, l.isKanjiModeEnabled())) } }, 10242: function (e, t) { let n; const r = [0, 26, 44, 70, 100, 134, 172, 196, 242, 292, 346, 404, 466, 532, 581, 655, 733, 815, 901, 991, 1085, 1156, 1258, 1364, 1474, 1588, 1706, 1828, 1921, 2051, 2185, 2323, 2465, 2611, 2761, 2876, 3034, 3196, 3362, 3532, 3706]; t.getSymbolSize = function (e) { if (!e) throw new Error('"version" cannot be null or undefined'); if (e < 1 || e > 40) throw new Error('"version" should be in range from 1 to 40'); return 4 * e + 17 }, t.getSymbolTotalCodewords = function (e) { return r[e] }, t.getBCHDigit = function (e) { let t = 0; for (; 0 !== e;)t++, e >>>= 1; return t }, t.setToSJISFunction = function (e) { if ("function" !== typeof e) throw new Error('"toSJISFunc" is not a valid function.'); n = e }, t.isKanjiModeEnabled = function () { return "undefined" !== typeof n }, t.toSJIS = function (e) { return n(e) } }, 43114: function (e, t) { t.isValid = function (e) { return !isNaN(e) && e >= 1 && e <= 40 } }, 23103: function (e, t, n) { const r = n(10242), i = n(35393), o = n(64908), s = n(76910), a = n(43114), c = r.getBCHDigit(7973); function l(e, t) { return s.getCharCountIndicator(e, t) + 4 } function u(e, t) { let n = 0; return e.forEach((function (e) { const r = l(e.mode, t); n += r + e.getBitsLength() })), n } t.from = function (e, t) { return a.isValid(e) ? parseInt(e, 10) : t }, t.getCapacity = function (e, t, n) { if (!a.isValid(e)) throw new Error("Invalid QR Code version"); "undefined" === typeof n && (n = s.BYTE); const o = 8 * (r.getSymbolTotalCodewords(e) - i.getTotalCodewordsCount(e, t)); if (n === s.MIXED) return o; const c = o - l(n, e); switch (n) { case s.NUMERIC: return Math.floor(c / 10 * 3); case s.ALPHANUMERIC: return Math.floor(c / 11 * 2); case s.KANJI: return Math.floor(c / 13); case s.BYTE: default: return Math.floor(c / 8) } }, t.getBestVersionForData = function (e, n) { let r; const i = o.from(n, o.M); if (Array.isArray(e)) { if (e.length > 1) return function (e, n) { for (let r = 1; r <= 40; r++)if (u(e, r) <= t.getCapacity(r, n, s.MIXED)) return r }(e, i); if (0 === e.length) return 1; r = e[0] } else r = e; return function (e, n, r) { for (let i = 1; i <= 40; i++)if (n <= t.getCapacity(i, r, e)) return i }(r.mode, r.getLength(), i) }, t.getEncodedBits = function (e) { if (!a.isValid(e) || e < 7) throw new Error("Invalid QR Code version"); let t = e << 12; for (; r.getBCHDigit(t) - c >= 0;)t ^= 7973 << r.getBCHDigit(t) - c; return e << 12 | t } }, 6907: function (e, t, n) { const r = n(89653); t.render = function (e, t, n) { let i = n, o = t; "undefined" !== typeof i || t && t.getContext || (i = t, t = void 0), t || (o = function () { try { return document.createElement("canvas") } catch (e) { throw new Error("You need to specify a canvas element") } }()), i = r.getOptions(i); const s = r.getImageWidth(e.modules.size, i), a = o.getContext("2d"), c = a.createImageData(s, s); return r.qrToImageData(c.data, e, i), function (e, t, n) { e.clearRect(0, 0, t.width, t.height), t.style || (t.style = {}), t.height = n, t.width = n, t.style.height = n + "px", t.style.width = n + "px" }(a, o, s), a.putImageData(c, 0, 0), o }, t.renderToDataURL = function (e, n, r) { let i = r; "undefined" !== typeof i || n && n.getContext || (i = n, n = void 0), i || (i = {}); const o = t.render(e, n, i), s = i.type || "image/png", a = i.rendererOpts || {}; return o.toDataURL(s, a.quality) } }, 93776: function (e, t, n) { const r = n(89653); function i(e, t) { const n = e.a / 255, r = t + '="' + e.hex + '"'; return n < 1 ? r + " " + t + '-opacity="' + n.toFixed(2).slice(1) + '"' : r } function o(e, t, n) { let r = e + t; return "undefined" !== typeof n && (r += " " + n), r } t.render = function (e, t, n) { const s = r.getOptions(t), a = e.modules.size, c = e.modules.data, l = a + 2 * s.margin, u = s.color.light.a ? "<path " + i(s.color.light, "fill") + ' d="M0 0h' + l + "v" + l + 'H0z"/>' : "", d = "<path " + i(s.color.dark, "stroke") + ' d="' + function (e, t, n) { let r = "", i = 0, s = !1, a = 0; for (let c = 0; c < e.length; c++) { const l = Math.floor(c % t), u = Math.floor(c / t); l || s || (s = !0), e[c] ? (a++, c > 0 && l > 0 && e[c - 1] || (r += s ? o("M", l + n, .5 + u + n) : o("m", i, 0), i = 0, s = !1), l + 1 < t && e[c + 1] || (r += o("h", a), a = 0)) : i++ } return r }(c, a, s.margin) + '"/>', h = 'viewBox="0 0 ' + l + " " + l + '"', f = '<svg xmlns="http://www.w3.org/2000/svg" ' + (s.width ? 'width="' + s.width + '" height="' + s.width + '" ' : "") + h + ' shape-rendering="crispEdges">' + u + d + "</svg>\n"; return "function" === typeof n && n(null, f), f } }, 89653: function (e, t) { function n(e) { if ("number" === typeof e && (e = e.toString()), "string" !== typeof e) throw new Error("Color should be defined as hex string"); let t = e.slice().replace("#", "").split(""); if (t.length < 3 || 5 === t.length || t.length > 8) throw new Error("Invalid hex color: " + e); 3 !== t.length && 4 !== t.length || (t = Array.prototype.concat.apply([], t.map((function (e) { return [e, e] })))), 6 === t.length && t.push("F", "F"); const n = parseInt(t.join(""), 16); return { r: n >> 24 & 255, g: n >> 16 & 255, b: n >> 8 & 255, a: 255 & n, hex: "#" + t.slice(0, 6).join("") } } t.getOptions = function (e) { e || (e = {}), e.color || (e.color = {}); const t = "undefined" === typeof e.margin || null === e.margin || e.margin < 0 ? 4 : e.margin, r = e.width && e.width >= 21 ? e.width : void 0, i = e.scale || 4; return { width: r, scale: r ? 4 : i, margin: t, color: { dark: n(e.color.dark || "#000000ff"), light: n(e.color.light || "#ffffffff") }, type: e.type, rendererOpts: e.rendererOpts || {} } }, t.getScale = function (e, t) { return t.width && t.width >= e + 2 * t.margin ? t.width / (e + 2 * t.margin) : t.scale }, t.getImageWidth = function (e, n) { const r = t.getScale(e, n); return Math.floor((e + 2 * n.margin) * r) }, t.qrToImageData = function (e, n, r) { const i = n.modules.size, o = n.modules.data, s = t.getScale(i, r), a = Math.floor((i + 2 * r.margin) * s), c = r.margin * s, l = [r.color.light, r.color.dark]; for (let t = 0; t < a; t++)for (let n = 0; n < a; n++) { let u = 4 * (t * a + n), d = r.color.light; if (t >= c && n >= c && t < a - c && n < a - c) { d = l[o[Math.floor((t - c) / s) * i + Math.floor((n - c) / s)] ? 1 : 0] } e[u++] = d.r, e[u++] = d.g, e[u++] = d.b, e[u] = d.a } } }, 17563: function (e, t, n) { "use strict"; const r = n(70610), i = n(44020), o = n(80500), s = n(92806), a = Symbol("encodeFragmentIdentifier"); function c(e) { if ("string" !== typeof e || 1 !== e.length) throw new TypeError("arrayFormatSeparator must be single character string") } function l(e, t) { return t.encode ? t.strict ? r(e) : encodeURIComponent(e) : e } function u(e, t) { return t.decode ? i(e) : e } function d(e) { return Array.isArray(e) ? e.sort() : "object" === typeof e ? d(Object.keys(e)).sort(((e, t) => Number(e) - Number(t))).map((t => e[t])) : e } function h(e) { const t = e.indexOf("#"); return -1 !== t && (e = e.slice(0, t)), e } function f(e) { const t = (e = h(e)).indexOf("?"); return -1 === t ? "" : e.slice(t + 1) } function p(e, t) { return t.parseNumbers && !Number.isNaN(Number(e)) && "string" === typeof e && "" !== e.trim() ? e = Number(e) : !t.parseBooleans || null === e || "true" !== e.toLowerCase() && "false" !== e.toLowerCase() || (e = "true" === e.toLowerCase()), e } function m(e, t) { c((t = Object.assign({ decode: !0, sort: !0, arrayFormat: "none", arrayFormatSeparator: ",", parseNumbers: !1, parseBooleans: !1 }, t)).arrayFormatSeparator); const n = function (e) { let t; switch (e.arrayFormat) { case "index": return (e, n, r) => { t = /\[(\d*)\]$/.exec(e), e = e.replace(/\[\d*\]$/, ""), t ? (void 0 === r[e] && (r[e] = {}), r[e][t[1]] = n) : r[e] = n }; case "bracket": return (e, n, r) => { t = /(\[\])$/.exec(e), e = e.replace(/\[\]$/, ""), t ? void 0 !== r[e] ? r[e] = [].concat(r[e], n) : r[e] = [n] : r[e] = n }; case "colon-list-separator": return (e, n, r) => { t = /(:list)$/.exec(e), e = e.replace(/:list$/, ""), t ? void 0 !== r[e] ? r[e] = [].concat(r[e], n) : r[e] = [n] : r[e] = n }; case "comma": case "separator": return (t, n, r) => { const i = "string" === typeof n && n.includes(e.arrayFormatSeparator), o = "string" === typeof n && !i && u(n, e).includes(e.arrayFormatSeparator); n = o ? u(n, e) : n; const s = i || o ? n.split(e.arrayFormatSeparator).map((t => u(t, e))) : null === n ? n : u(n, e); r[t] = s }; case "bracket-separator": return (t, n, r) => { const i = /(\[\])$/.test(t); if (t = t.replace(/\[\]$/, ""), !i) return void (r[t] = n ? u(n, e) : n); const o = null === n ? [] : n.split(e.arrayFormatSeparator).map((t => u(t, e))); void 0 !== r[t] ? r[t] = [].concat(r[t], o) : r[t] = o }; default: return (e, t, n) => { void 0 !== n[e] ? n[e] = [].concat(n[e], t) : n[e] = t } } }(t), r = Object.create(null); if ("string" !== typeof e) return r; if (!(e = e.trim().replace(/^[?#&]/, ""))) return r; for (const i of e.split("&")) { if ("" === i) continue; let [e, s] = o(t.decode ? i.replace(/\+/g, " ") : i, "="); s = void 0 === s ? null : ["comma", "separator", "bracket-separator"].includes(t.arrayFormat) ? s : u(s, t), n(u(e, t), s, r) } for (const i of Object.keys(r)) { const e = r[i]; if ("object" === typeof e && null !== e) for (const n of Object.keys(e)) e[n] = p(e[n], t); else r[i] = p(e, t) } return !1 === t.sort ? r : (!0 === t.sort ? Object.keys(r).sort() : Object.keys(r).sort(t.sort)).reduce(((e, t) => { const n = r[t]; return Boolean(n) && "object" === typeof n && !Array.isArray(n) ? e[t] = d(n) : e[t] = n, e }), Object.create(null)) } t.extract = f, t.parse = m, t.stringify = (e, t) => { if (!e) return ""; c((t = Object.assign({ encode: !0, strict: !0, arrayFormat: "none", arrayFormatSeparator: "," }, t)).arrayFormatSeparator); const n = n => { return t.skipNull && (null === (r = e[n]) || void 0 === r) || t.skipEmptyString && "" === e[n]; var r }, r = function (e) { switch (e.arrayFormat) { case "index": return t => (n, r) => { const i = n.length; return void 0 === r || e.skipNull && null === r || e.skipEmptyString && "" === r ? n : null === r ? [...n, [l(t, e), "[", i, "]"].join("")] : [...n, [l(t, e), "[", l(i, e), "]=", l(r, e)].join("")] }; case "bracket": return t => (n, r) => void 0 === r || e.skipNull && null === r || e.skipEmptyString && "" === r ? n : null === r ? [...n, [l(t, e), "[]"].join("")] : [...n, [l(t, e), "[]=", l(r, e)].join("")]; case "colon-list-separator": return t => (n, r) => void 0 === r || e.skipNull && null === r || e.skipEmptyString && "" === r ? n : null === r ? [...n, [l(t, e), ":list="].join("")] : [...n, [l(t, e), ":list=", l(r, e)].join("")]; case "comma": case "separator": case "bracket-separator": { const t = "bracket-separator" === e.arrayFormat ? "[]=" : "="; return n => (r, i) => void 0 === i || e.skipNull && null === i || e.skipEmptyString && "" === i ? r : (i = null === i ? "" : i, 0 === r.length ? [[l(n, e), t, l(i, e)].join("")] : [[r, l(i, e)].join(e.arrayFormatSeparator)]) } default: return t => (n, r) => void 0 === r || e.skipNull && null === r || e.skipEmptyString && "" === r ? n : null === r ? [...n, l(t, e)] : [...n, [l(t, e), "=", l(r, e)].join("")] } }(t), i = {}; for (const s of Object.keys(e)) n(s) || (i[s] = e[s]); const o = Object.keys(i); return !1 !== t.sort && o.sort(t.sort), o.map((n => { const i = e[n]; return void 0 === i ? "" : null === i ? l(n, t) : Array.isArray(i) ? 0 === i.length && "bracket-separator" === t.arrayFormat ? l(n, t) + "[]" : i.reduce(r(n), []).join("&") : l(n, t) + "=" + l(i, t) })).filter((e => e.length > 0)).join("&") }, t.parseUrl = (e, t) => { t = Object.assign({ decode: !0 }, t); const [n, r] = o(e, "#"); return Object.assign({ url: n.split("?")[0] || "", query: m(f(e), t) }, t && t.parseFragmentIdentifier && r ? { fragmentIdentifier: u(r, t) } : {}) }, t.stringifyUrl = (e, n) => { n = Object.assign({ encode: !0, strict: !0, [a]: !0 }, n); const r = h(e.url).split("?")[0] || "", i = t.extract(e.url), o = t.parse(i, { sort: !1 }), s = Object.assign(o, e.query); let c = t.stringify(s, n); c && (c = `?${c}`); let u = function (e) { let t = ""; const n = e.indexOf("#"); return -1 !== n && (t = e.slice(n)), t }(e.url); return e.fragmentIdentifier && (u = `#${n[a] ? l(e.fragmentIdentifier, n) : e.fragmentIdentifier}`), `${r}${c}${u}` }, t.pick = (e, n, r) => { r = Object.assign({ parseFragmentIdentifier: !0, [a]: !1 }, r); const { url: i, query: o, fragmentIdentifier: c } = t.parseUrl(e, r); return t.stringifyUrl({ url: i, query: s(o, n), fragmentIdentifier: c }, r) }, t.exclude = (e, n, r) => { const i = Array.isArray(n) ? e => !n.includes(e) : (e, t) => !n(e, t); return t.pick(e, i, r) } }, 85346: function (e) { "use strict"; function t(e) { try { return JSON.stringify(e) } catch (t) { return '"[Circular]"' } } e.exports = function (e, n, r) { var i = r && r.stringify || t; if ("object" === typeof e && null !== e) { var o = n.length + 1; if (1 === o) return e; var s = new Array(o); s[0] = i(e); for (var a = 1; a < o; a++)s[a] = i(n[a]); return s.join(" ") } if ("string" !== typeof e) return e; var c = n.length; if (0 === c) return e; for (var l = "", u = 0, d = -1, h = e && e.length || 0, f = 0; f < h;) { if (37 === e.charCodeAt(f) && f + 1 < h) { switch (d = d > -1 ? d : 0, e.charCodeAt(f + 1)) { case 100: case 102: if (u >= c) break; if (null == n[u]) break; d < f && (l += e.slice(d, f)), l += Number(n[u]), d = f + 2, f++; break; case 105: if (u >= c) break; if (null == n[u]) break; d < f && (l += e.slice(d, f)), l += Math.floor(Number(n[u])), d = f + 2, f++; break; case 79: case 111: case 106: if (u >= c) break; if (void 0 === n[u]) break; d < f && (l += e.slice(d, f)); var p = typeof n[u]; if ("string" === p) { l += "'" + n[u] + "'", d = f + 2, f++; break } if ("function" === p) { l += n[u].name || "<anonymous>", d = f + 2, f++; break } l += i(n[u]), d = f + 2, f++; break; case 115: if (u >= c) break; d < f && (l += e.slice(d, f)), l += String(n[u]), d = f + 2, f++; break; case 37: d < f && (l += e.slice(d, f)), l += "%", d = f + 2, f++, u-- }++u } ++f } if (-1 === d) return e; d < h && (l += e.slice(d)); return l } }, 85518: function (e, t, n) { "use strict"; var r, i = n(67294), o = (r = i) && "object" === typeof r && "default" in r ? r.default : r, s = n(23451), a = new s, c = a.getBrowser(), l = a.getCPU(), u = a.getDevice(), d = a.getEngine(), h = a.getOS(), f = a.getUA(), p = function (e) { return a.setUA(e) }, m = function (e) { if (e) { var t = new s(e); return { UA: t, browser: t.getBrowser(), cpu: t.getCPU(), device: t.getDevice(), engine: t.getEngine(), os: t.getOS(), ua: t.getUA(), setUserAgent: function (e) { return t.setUA(e) } } } console.error("No userAgent string was provided") }, g = Object.freeze({ ClientUAInstance: a, browser: c, cpu: l, device: u, engine: d, os: h, ua: f, setUa: p, parseUserAgent: m }); function y(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function b(e) { return (b = "function" === typeof Symbol && "symbol" === typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" === typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function v(e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } } function w(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } function E() { return (E = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }).apply(this, arguments) } function x(e) { return (x = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function _(e, t) { return (_ = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } function C(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function A(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e } function S(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { var n = null == e ? null : "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (null == n) return; var r, i, o = [], s = !0, a = !1; try { for (n = n.call(e); !(s = (r = n.next()).done) && (o.push(r.value), !t || o.length !== t); s = !0); } catch (c) { a = !0, i = c } finally { try { s || null == n.return || n.return() } finally { if (a) throw i } } return o }(e, t) || function (e, t) { if (!e) return; if ("string" === typeof e) return k(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); "Object" === n && e.constructor && (n = e.constructor.name); if ("Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return k(e, t) }(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function k(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r } var I = "mobile", T = "tablet", N = "smarttv", P = "console", M = "wearable", O = "embedded", R = void 0, j = { Chrome: "Chrome", Firefox: "Firefox", Opera: "Opera", Yandex: "Yandex", Safari: "Safari", InternetExplorer: "Internet Explorer", Edge: "Edge", Chromium: "Chromium", Ie: "IE", MobileSafari: "Mobile Safari", EdgeChromium: "Edge Chromium", MIUI: "MIUI Browser", SamsungBrowser: "Samsung Browser" }, $ = { IOS: "iOS", Android: "Android", WindowsPhone: "Windows Phone", Windows: "Windows", MAC_OS: "Mac OS" }, L = { isMobile: !1, isTablet: !1, isBrowser: !1, isSmartTV: !1, isConsole: !1, isWearable: !1 }, D = function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "none"; return e || t }, U = function () { return !("undefined" === typeof window || !window.navigator && !navigator) && (window.navigator || navigator) }, F = function (e) { var t = U(); return t && t.platform && (-1 !== t.platform.indexOf(e) || "MacIntel" === t.platform && t.maxTouchPoints > 1 && !window.MSStream) }, B = function (e, t, n, r) { return function (e) { for (var t = 1; t < arguments.length; t++) { var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? y(Object(n), !0).forEach((function (t) { w(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : y(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e }({}, e, { vendor: D(t.vendor), model: D(t.model), os: D(n.name), osVersion: D(n.version), ua: D(r) }) }; var W = function (e) { return e.type === I }, z = function (e) { return e.type === T }, q = function (e) { var t = e.type; return t === I || t === T }, H = function (e) { return e.type === N }, G = function (e) { return e.type === R }, V = function (e) { return e.type === M }, K = function (e) { return e.type === P }, Y = function (e) { return e.type === O }, Z = function (e) { var t = e.vendor; return D(t) }, X = function (e) { var t = e.model; return D(t) }, J = function (e) { var t = e.type; return D(t, "browser") }, Q = function (e) { return e.name === $.Android }, ee = function (e) { return e.name === $.Windows }, te = function (e) { return e.name === $.MAC_OS }, ne = function (e) { return e.name === $.WindowsPhone }, re = function (e) { return e.name === $.IOS }, ie = function (e) { var t = e.version; return D(t) }, oe = function (e) { var t = e.name; return D(t) }, se = function (e) { return e.name === j.Chrome }, ae = function (e) { return e.name === j.Firefox }, ce = function (e) { return e.name === j.Chromium }, le = function (e) { return e.name === j.Edge }, ue = function (e) { return e.name === j.Yandex }, de = function (e) { var t = e.name; return t === j.Safari || t === j.MobileSafari }, he = function (e) { return e.name === j.MobileSafari }, fe = function (e) { return e.name === j.Opera }, pe = function (e) { var t = e.name; return t === j.InternetExplorer || t === j.Ie }, me = function (e) { return e.name === j.MIUI }, ge = function (e) { return e.name === j.SamsungBrowser }, ye = function (e) { var t = e.version; return D(t) }, be = function (e) { var t = e.major; return D(t) }, ve = function (e) { var t = e.name; return D(t) }, we = function (e) { var t = e.name; return D(t) }, Ee = function (e) { var t = e.version; return D(t) }, xe = function () { var e = U(), t = e && e.userAgent && e.userAgent.toLowerCase(); return "string" === typeof t && /electron/.test(t) }, _e = function (e) { return "string" === typeof e && -1 !== e.indexOf("Edg/") }, Ce = function () { var e = U(); return e && (/iPad|iPhone|iPod/.test(e.platform) || "MacIntel" === e.platform && e.maxTouchPoints > 1) && !window.MSStream }, Ae = function () { return F("iPad") }, Se = function () { return F("iPhone") }, ke = function () { return F("iPod") }, Ie = function (e) { return D(e) }; function Te(e) { var t = e || g, n = t.device, r = t.browser, i = t.os, o = t.engine, s = t.ua; return { isSmartTV: H(n), isConsole: K(n), isWearable: V(n), isEmbedded: Y(n), isMobileSafari: he(r) || Ae(), isChromium: ce(r), isMobile: q(n) || Ae(), isMobileOnly: W(n), isTablet: z(n) || Ae(), isBrowser: G(n), isDesktop: G(n), isAndroid: Q(i), isWinPhone: ne(i), isIOS: re(i) || Ae(), isChrome: se(r), isFirefox: ae(r), isSafari: de(r), isOpera: fe(r), isIE: pe(r), osVersion: ie(i), osName: oe(i), fullBrowserVersion: ye(r), browserVersion: be(r), browserName: ve(r), mobileVendor: Z(n), mobileModel: X(n), engineName: we(o), engineVersion: Ee(o), getUA: Ie(s), isEdge: le(r) || _e(s), isYandex: ue(r), deviceType: J(n), isIOS13: Ce(), isIPad13: Ae(), isIPhone13: Se(), isIPod13: ke(), isElectron: xe(), isEdgeChromium: _e(s), isLegacyEdge: le(r) && !_e(s), isWindows: ee(i), isMacOs: te(i), isMIUI: me(r), isSamsungBrowser: ge(r) } } var Ne = H(u), Pe = K(u), Me = V(u), Oe = Y(u), Re = he(c) || Ae(), je = ce(c), $e = q(u) || Ae(), Le = W(u), De = z(u) || Ae(), Ue = G(u), Fe = G(u), Be = Q(h), We = ne(h), ze = re(h) || Ae(), qe = se(c), He = ae(c), Ge = de(c), Ve = fe(c), Ke = pe(c), Ye = ie(h), Ze = oe(h), Xe = ye(c), Je = be(c), Qe = ve(c), et = Z(u), tt = X(u), nt = we(d), rt = Ee(d), it = Ie(f), ot = le(c) || _e(f), st = ue(c), at = J(u), ct = Ce(), lt = Ae(), ut = Se(), dt = ke(), ht = xe(), ft = _e(f), pt = le(c) && !_e(f), mt = ee(h), gt = te(h), yt = me(c), bt = ge(c); function vt(e) { var t = e || window.navigator.userAgent; return m(t) } t.Dt = Be, t.vU = He, t.gn = ze, t.tq = $e, t.G6 = Ge }, 94281: function (e) { "use strict"; var t = {}; function n(e, n, r) { r || (r = Error); var i = function (e) { var t, r; function i(t, r, i) { return e.call(this, function (e, t, r) { return "string" === typeof n ? n : n(e, t, r) }(t, r, i)) || this } return r = e, (t = i).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r, i }(r); i.prototype.name = r.name, i.prototype.code = e, t[e] = i } function r(e, t) { if (Array.isArray(e)) { var n = e.length; return e = e.map((function (e) { return String(e) })), n > 2 ? "one of ".concat(t, " ").concat(e.slice(0, n - 1).join(", "), ", or ") + e[n - 1] : 2 === n ? "one of ".concat(t, " ").concat(e[0], " or ").concat(e[1]) : "of ".concat(t, " ").concat(e[0]) } return "of ".concat(t, " ").concat(String(e)) } n("ERR_INVALID_OPT_VALUE", (function (e, t) { return 'The value "' + t + '" is invalid for option "' + e + '"' }), TypeError), n("ERR_INVALID_ARG_TYPE", (function (e, t, n) { var i, o, s, a; if ("string" === typeof t && (o = "not ", t.substr(!s || s < 0 ? 0 : +s, o.length) === o) ? (i = "must not be", t = t.replace(/^not /, "")) : i = "must be", function (e, t, n) { return (void 0 === n || n > e.length) && (n = e.length), e.substring(n - t.length, n) === t }(e, " argument")) a = "The ".concat(e, " ").concat(i, " ").concat(r(t, "type")); else { var c = function (e, t, n) { return "number" !== typeof n && (n = 0), !(n + t.length > e.length) && -1 !== e.indexOf(t, n) }(e, ".") ? "property" : "argument"; a = 'The "'.concat(e, '" ').concat(c, " ").concat(i, " ").concat(r(t, "type")) } return a += ". Received type ".concat(typeof n) }), TypeError), n("ERR_STREAM_PUSH_AFTER_EOF", "stream.push() after EOF"), n("ERR_METHOD_NOT_IMPLEMENTED", (function (e) { return "The " + e + " method is not implemented" })), n("ERR_STREAM_PREMATURE_CLOSE", "Premature close"), n("ERR_STREAM_DESTROYED", (function (e) { return "Cannot call " + e + " after a stream was destroyed" })), n("ERR_MULTIPLE_CALLBACK", "Callback called multiple times"), n("ERR_STREAM_CANNOT_PIPE", "Cannot pipe, not readable"), n("ERR_STREAM_WRITE_AFTER_END", "write after end"), n("ERR_STREAM_NULL_VALUES", "May not write null values to stream", TypeError), n("ERR_UNKNOWN_ENCODING", (function (e) { return "Unknown encoding: " + e }), TypeError), n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT", "stream.unshift() after end event"), e.exports.q = t }, 56753: function (e, t, n) { "use strict"; var r = n(34155), i = Object.keys || function (e) { var t = []; for (var n in e) t.push(n); return t }; e.exports = u; var o = n(79481), s = n(64229); n(35717)(u, o); for (var a = i(s.prototype), c = 0; c < a.length; c++) { var l = a[c]; u.prototype[l] || (u.prototype[l] = s.prototype[l]) } function u(e) { if (!(this instanceof u)) return new u(e); o.call(this, e), s.call(this, e), this.allowHalfOpen = !0, e && (!1 === e.readable && (this.readable = !1), !1 === e.writable && (this.writable = !1), !1 === e.allowHalfOpen && (this.allowHalfOpen = !1, this.once("end", d))) } function d() { this._writableState.ended || r.nextTick(h, this) } function h(e) { e.end() } Object.defineProperty(u.prototype, "writableHighWaterMark", { enumerable: !1, get: function () { return this._writableState.highWaterMark } }), Object.defineProperty(u.prototype, "writableBuffer", { enumerable: !1, get: function () { return this._writableState && this._writableState.getBuffer() } }), Object.defineProperty(u.prototype, "writableLength", { enumerable: !1, get: function () { return this._writableState.length } }), Object.defineProperty(u.prototype, "destroyed", { enumerable: !1, get: function () { return void 0 !== this._readableState && void 0 !== this._writableState && (this._readableState.destroyed && this._writableState.destroyed) }, set: function (e) { void 0 !== this._readableState && void 0 !== this._writableState && (this._readableState.destroyed = e, this._writableState.destroyed = e) } }) }, 82725: function (e, t, n) { "use strict"; e.exports = i; var r = n(74605); function i(e) { if (!(this instanceof i)) return new i(e); r.call(this, e) } n(35717)(i, r), i.prototype._transform = function (e, t, n) { n(null, e) } }, 79481: function (e, t, n) { "use strict"; var r, i = n(34155); e.exports = A, A.ReadableState = C; n(17187).EventEmitter; var o = function (e, t) { return e.listeners(t).length }, s = n(22503), a = n(48764).Buffer, c = ("undefined" !== typeof n.g ? n.g : "undefined" !== typeof window ? window : "undefined" !== typeof self ? self : {}).Uint8Array || function () { }; var l, u = n(94616); l = u && u.debuglog ? u.debuglog("stream") : function () { }; var d, h, f, p = n(57327), m = n(61195), g = n(82457).getHighWaterMark, y = n(94281).q, b = y.ERR_INVALID_ARG_TYPE, v = y.ERR_STREAM_PUSH_AFTER_EOF, w = y.ERR_METHOD_NOT_IMPLEMENTED, E = y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT; n(35717)(A, s); var x = m.errorOrDestroy, _ = ["error", "close", "destroy", "pause", "resume"]; function C(e, t, i) { r = r || n(56753), e = e || {}, "boolean" !== typeof i && (i = t instanceof r), this.objectMode = !!e.objectMode, i && (this.objectMode = this.objectMode || !!e.readableObjectMode), this.highWaterMark = g(this, e, "readableHighWaterMark", i), this.buffer = new p, this.length = 0, this.pipes = null, this.pipesCount = 0, this.flowing = null, this.ended = !1, this.endEmitted = !1, this.reading = !1, this.sync = !0, this.needReadable = !1, this.emittedReadable = !1, this.readableListening = !1, this.resumeScheduled = !1, this.paused = !0, this.emitClose = !1 !== e.emitClose, this.autoDestroy = !!e.autoDestroy, this.destroyed = !1, this.defaultEncoding = e.defaultEncoding || "utf8", this.awaitDrain = 0, this.readingMore = !1, this.decoder = null, this.encoding = null, e.encoding && (d || (d = n(32553).s), this.decoder = new d(e.encoding), this.encoding = e.encoding) } function A(e) { if (r = r || n(56753), !(this instanceof A)) return new A(e); var t = this instanceof r; this._readableState = new C(e, this, t), this.readable = !0, e && ("function" === typeof e.read && (this._read = e.read), "function" === typeof e.destroy && (this._destroy = e.destroy)), s.call(this) } function S(e, t, n, r, i) { l("readableAddChunk", t); var o, s = e._readableState; if (null === t) s.reading = !1, function (e, t) { if (l("onEofChunk"), t.ended) return; if (t.decoder) { var n = t.decoder.end(); n && n.length && (t.buffer.push(n), t.length += t.objectMode ? 1 : n.length) } t.ended = !0, t.sync ? N(e) : (t.needReadable = !1, t.emittedReadable || (t.emittedReadable = !0, P(e))) }(e, s); else if (i || (o = function (e, t) { var n; r = t, a.isBuffer(r) || r instanceof c || "string" === typeof t || void 0 === t || e.objectMode || (n = new b("chunk", ["string", "Buffer", "Uint8Array"], t)); var r; return n }(s, t)), o) x(e, o); else if (s.objectMode || t && t.length > 0) if ("string" === typeof t || s.objectMode || Object.getPrototypeOf(t) === a.prototype || (t = function (e) { return a.from(e) }(t)), r) s.endEmitted ? x(e, new E) : k(e, s, t, !0); else if (s.ended) x(e, new v); else { if (s.destroyed) return !1; s.reading = !1, s.decoder && !n ? (t = s.decoder.write(t), s.objectMode || 0 !== t.length ? k(e, s, t, !1) : M(e, s)) : k(e, s, t, !1) } else r || (s.reading = !1, M(e, s)); return !s.ended && (s.length < s.highWaterMark || 0 === s.length) } function k(e, t, n, r) { t.flowing && 0 === t.length && !t.sync ? (t.awaitDrain = 0, e.emit("data", n)) : (t.length += t.objectMode ? 1 : n.length, r ? t.buffer.unshift(n) : t.buffer.push(n), t.needReadable && N(e)), M(e, t) } Object.defineProperty(A.prototype, "destroyed", { enumerable: !1, get: function () { return void 0 !== this._readableState && this._readableState.destroyed }, set: function (e) { this._readableState && (this._readableState.destroyed = e) } }), A.prototype.destroy = m.destroy, A.prototype._undestroy = m.undestroy, A.prototype._destroy = function (e, t) { t(e) }, A.prototype.push = function (e, t) { var n, r = this._readableState; return r.objectMode ? n = !0 : "string" === typeof e && ((t = t || r.defaultEncoding) !== r.encoding && (e = a.from(e, t), t = ""), n = !0), S(this, e, t, !1, n) }, A.prototype.unshift = function (e) { return S(this, e, null, !0, !1) }, A.prototype.isPaused = function () { return !1 === this._readableState.flowing }, A.prototype.setEncoding = function (e) { d || (d = n(32553).s); var t = new d(e); this._readableState.decoder = t, this._readableState.encoding = this._readableState.decoder.encoding; for (var r = this._readableState.buffer.head, i = ""; null !== r;)i += t.write(r.data), r = r.next; return this._readableState.buffer.clear(), "" !== i && this._readableState.buffer.push(i), this._readableState.length = i.length, this }; var I = 1073741824; function T(e, t) { return e <= 0 || 0 === t.length && t.ended ? 0 : t.objectMode ? 1 : e !== e ? t.flowing && t.length ? t.buffer.head.data.length : t.length : (e > t.highWaterMark && (t.highWaterMark = function (e) { return e >= I ? e = I : (e--, e |= e >>> 1, e |= e >>> 2, e |= e >>> 4, e |= e >>> 8, e |= e >>> 16, e++), e }(e)), e <= t.length ? e : t.ended ? t.length : (t.needReadable = !0, 0)) } function N(e) { var t = e._readableState; l("emitReadable", t.needReadable, t.emittedReadable), t.needReadable = !1, t.emittedReadable || (l("emitReadable", t.flowing), t.emittedReadable = !0, i.nextTick(P, e)) } function P(e) { var t = e._readableState; l("emitReadable_", t.destroyed, t.length, t.ended), t.destroyed || !t.length && !t.ended || (e.emit("readable"), t.emittedReadable = !1), t.needReadable = !t.flowing && !t.ended && t.length <= t.highWaterMark, L(e) } function M(e, t) { t.readingMore || (t.readingMore = !0, i.nextTick(O, e, t)) } function O(e, t) { for (; !t.reading && !t.ended && (t.length < t.highWaterMark || t.flowing && 0 === t.length);) { var n = t.length; if (l("maybeReadMore read 0"), e.read(0), n === t.length) break } t.readingMore = !1 } function R(e) { var t = e._readableState; t.readableListening = e.listenerCount("readable") > 0, t.resumeScheduled && !t.paused ? t.flowing = !0 : e.listenerCount("data") > 0 && e.resume() } function j(e) { l("readable nexttick read 0"), e.read(0) } function $(e, t) { l("resume", t.reading), t.reading || e.read(0), t.resumeScheduled = !1, e.emit("resume"), L(e), t.flowing && !t.reading && e.read(0) } function L(e) { var t = e._readableState; for (l("flow", t.flowing); t.flowing && null !== e.read();); } function D(e, t) { return 0 === t.length ? null : (t.objectMode ? n = t.buffer.shift() : !e || e >= t.length ? (n = t.decoder ? t.buffer.join("") : 1 === t.buffer.length ? t.buffer.first() : t.buffer.concat(t.length), t.buffer.clear()) : n = t.buffer.consume(e, t.decoder), n); var n } function U(e) { var t = e._readableState; l("endReadable", t.endEmitted), t.endEmitted || (t.ended = !0, i.nextTick(F, t, e)) } function F(e, t) { if (l("endReadableNT", e.endEmitted, e.length), !e.endEmitted && 0 === e.length && (e.endEmitted = !0, t.readable = !1, t.emit("end"), e.autoDestroy)) { var n = t._writableState; (!n || n.autoDestroy && n.finished) && t.destroy() } } function B(e, t) { for (var n = 0, r = e.length; n < r; n++)if (e[n] === t) return n; return -1 } A.prototype.read = function (e) { l("read", e), e = parseInt(e, 10); var t = this._readableState, n = e; if (0 !== e && (t.emittedReadable = !1), 0 === e && t.needReadable && ((0 !== t.highWaterMark ? t.length >= t.highWaterMark : t.length > 0) || t.ended)) return l("read: emitReadable", t.length, t.ended), 0 === t.length && t.ended ? U(this) : N(this), null; if (0 === (e = T(e, t)) && t.ended) return 0 === t.length && U(this), null; var r, i = t.needReadable; return l("need readable", i), (0 === t.length || t.length - e < t.highWaterMark) && l("length less than watermark", i = !0), t.ended || t.reading ? l("reading or ended", i = !1) : i && (l("do read"), t.reading = !0, t.sync = !0, 0 === t.length && (t.needReadable = !0), this._read(t.highWaterMark), t.sync = !1, t.reading || (e = T(n, t))), null === (r = e > 0 ? D(e, t) : null) ? (t.needReadable = t.length <= t.highWaterMark, e = 0) : (t.length -= e, t.awaitDrain = 0), 0 === t.length && (t.ended || (t.needReadable = !0), n !== e && t.ended && U(this)), null !== r && this.emit("data", r), r }, A.prototype._read = function (e) { x(this, new w("_read()")) }, A.prototype.pipe = function (e, t) { var n = this, r = this._readableState; switch (r.pipesCount) { case 0: r.pipes = e; break; case 1: r.pipes = [r.pipes, e]; break; default: r.pipes.push(e) }r.pipesCount += 1, l("pipe count=%d opts=%j", r.pipesCount, t); var s = (!t || !1 !== t.end) && e !== i.stdout && e !== i.stderr ? c : g; function a(t, i) { l("onunpipe"), t === n && i && !1 === i.hasUnpiped && (i.hasUnpiped = !0, l("cleanup"), e.removeListener("close", p), e.removeListener("finish", m), e.removeListener("drain", u), e.removeListener("error", f), e.removeListener("unpipe", a), n.removeListener("end", c), n.removeListener("end", g), n.removeListener("data", h), d = !0, !r.awaitDrain || e._writableState && !e._writableState.needDrain || u()) } function c() { l("onend"), e.end() } r.endEmitted ? i.nextTick(s) : n.once("end", s), e.on("unpipe", a); var u = function (e) { return function () { var t = e._readableState; l("pipeOnDrain", t.awaitDrain), t.awaitDrain && t.awaitDrain--, 0 === t.awaitDrain && o(e, "data") && (t.flowing = !0, L(e)) } }(n); e.on("drain", u); var d = !1; function h(t) { l("ondata"); var i = e.write(t); l("dest.write", i), !1 === i && ((1 === r.pipesCount && r.pipes === e || r.pipesCount > 1 && -1 !== B(r.pipes, e)) && !d && (l("false write response, pause", r.awaitDrain), r.awaitDrain++), n.pause()) } function f(t) { l("onerror", t), g(), e.removeListener("error", f), 0 === o(e, "error") && x(e, t) } function p() { e.removeListener("finish", m), g() } function m() { l("onfinish"), e.removeListener("close", p), g() } function g() { l("unpipe"), n.unpipe(e) } return n.on("data", h), function (e, t, n) { if ("function" === typeof e.prependListener) return e.prependListener(t, n); e._events && e._events[t] ? Array.isArray(e._events[t]) ? e._events[t].unshift(n) : e._events[t] = [n, e._events[t]] : e.on(t, n) }(e, "error", f), e.once("close", p), e.once("finish", m), e.emit("pipe", n), r.flowing || (l("pipe resume"), n.resume()), e }, A.prototype.unpipe = function (e) { var t = this._readableState, n = { hasUnpiped: !1 }; if (0 === t.pipesCount) return this; if (1 === t.pipesCount) return e && e !== t.pipes || (e || (e = t.pipes), t.pipes = null, t.pipesCount = 0, t.flowing = !1, e && e.emit("unpipe", this, n)), this; if (!e) { var r = t.pipes, i = t.pipesCount; t.pipes = null, t.pipesCount = 0, t.flowing = !1; for (var o = 0; o < i; o++)r[o].emit("unpipe", this, { hasUnpiped: !1 }); return this } var s = B(t.pipes, e); return -1 === s || (t.pipes.splice(s, 1), t.pipesCount -= 1, 1 === t.pipesCount && (t.pipes = t.pipes[0]), e.emit("unpipe", this, n)), this }, A.prototype.on = function (e, t) { var n = s.prototype.on.call(this, e, t), r = this._readableState; return "data" === e ? (r.readableListening = this.listenerCount("readable") > 0, !1 !== r.flowing && this.resume()) : "readable" === e && (r.endEmitted || r.readableListening || (r.readableListening = r.needReadable = !0, r.flowing = !1, r.emittedReadable = !1, l("on readable", r.length, r.reading), r.length ? N(this) : r.reading || i.nextTick(j, this))), n }, A.prototype.addListener = A.prototype.on, A.prototype.removeListener = function (e, t) { var n = s.prototype.removeListener.call(this, e, t); return "readable" === e && i.nextTick(R, this), n }, A.prototype.removeAllListeners = function (e) { var t = s.prototype.removeAllListeners.apply(this, arguments); return "readable" !== e && void 0 !== e || i.nextTick(R, this), t }, A.prototype.resume = function () { var e = this._readableState; return e.flowing || (l("resume"), e.flowing = !e.readableListening, function (e, t) { t.resumeScheduled || (t.resumeScheduled = !0, i.nextTick($, e, t)) }(this, e)), e.paused = !1, this }, A.prototype.pause = function () { return l("call pause flowing=%j", this._readableState.flowing), !1 !== this._readableState.flowing && (l("pause"), this._readableState.flowing = !1, this.emit("pause")), this._readableState.paused = !0, this }, A.prototype.wrap = function (e) { var t = this, n = this._readableState, r = !1; for (var i in e.on("end", (function () { if (l("wrapped end"), n.decoder && !n.ended) { var e = n.decoder.end(); e && e.length && t.push(e) } t.push(null) })), e.on("data", (function (i) { (l("wrapped data"), n.decoder && (i = n.decoder.write(i)), !n.objectMode || null !== i && void 0 !== i) && ((n.objectMode || i && i.length) && (t.push(i) || (r = !0, e.pause()))) })), e) void 0 === this[i] && "function" === typeof e[i] && (this[i] = function (t) { return function () { return e[t].apply(e, arguments) } }(i)); for (var o = 0; o < _.length; o++)e.on(_[o], this.emit.bind(this, _[o])); return this._read = function (t) { l("wrapped _read", t), r && (r = !1, e.resume()) }, this }, "function" === typeof Symbol && (A.prototype[Symbol.asyncIterator] = function () { return void 0 === h && (h = n(45850)), h(this) }), Object.defineProperty(A.prototype, "readableHighWaterMark", { enumerable: !1, get: function () { return this._readableState.highWaterMark } }), Object.defineProperty(A.prototype, "readableBuffer", { enumerable: !1, get: function () { return this._readableState && this._readableState.buffer } }), Object.defineProperty(A.prototype, "readableFlowing", { enumerable: !1, get: function () { return this._readableState.flowing }, set: function (e) { this._readableState && (this._readableState.flowing = e) } }), A._fromList = D, Object.defineProperty(A.prototype, "readableLength", { enumerable: !1, get: function () { return this._readableState.length } }), "function" === typeof Symbol && (A.from = function (e, t) { return void 0 === f && (f = n(15167)), f(A, e, t) }) }, 74605: function (e, t, n) { "use strict"; e.exports = u; var r = n(94281).q, i = r.ERR_METHOD_NOT_IMPLEMENTED, o = r.ERR_MULTIPLE_CALLBACK, s = r.ERR_TRANSFORM_ALREADY_TRANSFORMING, a = r.ERR_TRANSFORM_WITH_LENGTH_0, c = n(56753); function l(e, t) { var n = this._transformState; n.transforming = !1; var r = n.writecb; if (null === r) return this.emit("error", new o); n.writechunk = null, n.writecb = null, null != t && this.push(t), r(e); var i = this._readableState; i.reading = !1, (i.needReadable || i.length < i.highWaterMark) && this._read(i.highWaterMark) } function u(e) { if (!(this instanceof u)) return new u(e); c.call(this, e), this._transformState = { afterTransform: l.bind(this), needTransform: !1, transforming: !1, writecb: null, writechunk: null, writeencoding: null }, this._readableState.needReadable = !0, this._readableState.sync = !1, e && ("function" === typeof e.transform && (this._transform = e.transform), "function" === typeof e.flush && (this._flush = e.flush)), this.on("prefinish", d) } function d() { var e = this; "function" !== typeof this._flush || this._readableState.destroyed ? h(this, null, null) : this._flush((function (t, n) { h(e, t, n) })) } function h(e, t, n) { if (t) return e.emit("error", t); if (null != n && e.push(n), e._writableState.length) throw new a; if (e._transformState.transforming) throw new s; return e.push(null) } n(35717)(u, c), u.prototype.push = function (e, t) { return this._transformState.needTransform = !1, c.prototype.push.call(this, e, t) }, u.prototype._transform = function (e, t, n) { n(new i("_transform()")) }, u.prototype._write = function (e, t, n) { var r = this._transformState; if (r.writecb = n, r.writechunk = e, r.writeencoding = t, !r.transforming) { var i = this._readableState; (r.needTransform || i.needReadable || i.length < i.highWaterMark) && this._read(i.highWaterMark) } }, u.prototype._read = function (e) { var t = this._transformState; null === t.writechunk || t.transforming ? t.needTransform = !0 : (t.transforming = !0, this._transform(t.writechunk, t.writeencoding, t.afterTransform)) }, u.prototype._destroy = function (e, t) { c.prototype._destroy.call(this, e, (function (e) { t(e) })) } }, 64229: function (e, t, n) { "use strict"; var r, i = n(34155); function o(e) { var t = this; this.next = null, this.entry = null, this.finish = function () { !function (e, t, n) { var r = e.entry; e.entry = null; for (; r;) { var i = r.callback; t.pendingcb--, i(n), r = r.next } t.corkedRequestsFree.next = e }(t, e) } } e.exports = A, A.WritableState = C; var s = { deprecate: n(94927) }, a = n(22503), c = n(48764).Buffer, l = ("undefined" !== typeof n.g ? n.g : "undefined" !== typeof window ? window : "undefined" !== typeof self ? self : {}).Uint8Array || function () { }; var u, d = n(61195), h = n(82457).getHighWaterMark, f = n(94281).q, p = f.ERR_INVALID_ARG_TYPE, m = f.ERR_METHOD_NOT_IMPLEMENTED, g = f.ERR_MULTIPLE_CALLBACK, y = f.ERR_STREAM_CANNOT_PIPE, b = f.ERR_STREAM_DESTROYED, v = f.ERR_STREAM_NULL_VALUES, w = f.ERR_STREAM_WRITE_AFTER_END, E = f.ERR_UNKNOWN_ENCODING, x = d.errorOrDestroy; function _() { } function C(e, t, s) { r = r || n(56753), e = e || {}, "boolean" !== typeof s && (s = t instanceof r), this.objectMode = !!e.objectMode, s && (this.objectMode = this.objectMode || !!e.writableObjectMode), this.highWaterMark = h(this, e, "writableHighWaterMark", s), this.finalCalled = !1, this.needDrain = !1, this.ending = !1, this.ended = !1, this.finished = !1, this.destroyed = !1; var a = !1 === e.decodeStrings; this.decodeStrings = !a, this.defaultEncoding = e.defaultEncoding || "utf8", this.length = 0, this.writing = !1, this.corked = 0, this.sync = !0, this.bufferProcessing = !1, this.onwrite = function (e) { !function (e, t) { var n = e._writableState, r = n.sync, o = n.writecb; if ("function" !== typeof o) throw new g; if (function (e) { e.writing = !1, e.writecb = null, e.length -= e.writelen, e.writelen = 0 }(n), t) !function (e, t, n, r, o) { --t.pendingcb, n ? (i.nextTick(o, r), i.nextTick(P, e, t), e._writableState.errorEmitted = !0, x(e, r)) : (o(r), e._writableState.errorEmitted = !0, x(e, r), P(e, t)) }(e, n, r, t, o); else { var s = T(n) || e.destroyed; s || n.corked || n.bufferProcessing || !n.bufferedRequest || I(e, n), r ? i.nextTick(k, e, n, s, o) : k(e, n, s, o) } }(t, e) }, this.writecb = null, this.writelen = 0, this.bufferedRequest = null, this.lastBufferedRequest = null, this.pendingcb = 0, this.prefinished = !1, this.errorEmitted = !1, this.emitClose = !1 !== e.emitClose, this.autoDestroy = !!e.autoDestroy, this.bufferedRequestCount = 0, this.corkedRequestsFree = new o(this) } function A(e) { var t = this instanceof (r = r || n(56753)); if (!t && !u.call(A, this)) return new A(e); this._writableState = new C(e, this, t), this.writable = !0, e && ("function" === typeof e.write && (this._write = e.write), "function" === typeof e.writev && (this._writev = e.writev), "function" === typeof e.destroy && (this._destroy = e.destroy), "function" === typeof e.final && (this._final = e.final)), a.call(this) } function S(e, t, n, r, i, o, s) { t.writelen = r, t.writecb = s, t.writing = !0, t.sync = !0, t.destroyed ? t.onwrite(new b("write")) : n ? e._writev(i, t.onwrite) : e._write(i, o, t.onwrite), t.sync = !1 } function k(e, t, n, r) { n || function (e, t) { 0 === t.length && t.needDrain && (t.needDrain = !1, e.emit("drain")) }(e, t), t.pendingcb--, r(), P(e, t) } function I(e, t) { t.bufferProcessing = !0; var n = t.bufferedRequest; if (e._writev && n && n.next) { var r = t.bufferedRequestCount, i = new Array(r), s = t.corkedRequestsFree; s.entry = n; for (var a = 0, c = !0; n;)i[a] = n, n.isBuf || (c = !1), n = n.next, a += 1; i.allBuffers = c, S(e, t, !0, t.length, i, "", s.finish), t.pendingcb++, t.lastBufferedRequest = null, s.next ? (t.corkedRequestsFree = s.next, s.next = null) : t.corkedRequestsFree = new o(t), t.bufferedRequestCount = 0 } else { for (; n;) { var l = n.chunk, u = n.encoding, d = n.callback; if (S(e, t, !1, t.objectMode ? 1 : l.length, l, u, d), n = n.next, t.bufferedRequestCount--, t.writing) break } null === n && (t.lastBufferedRequest = null) } t.bufferedRequest = n, t.bufferProcessing = !1 } function T(e) { return e.ending && 0 === e.length && null === e.bufferedRequest && !e.finished && !e.writing } function N(e, t) { e._final((function (n) { t.pendingcb--, n && x(e, n), t.prefinished = !0, e.emit("prefinish"), P(e, t) })) } function P(e, t) { var n = T(t); if (n && (function (e, t) { t.prefinished || t.finalCalled || ("function" !== typeof e._final || t.destroyed ? (t.prefinished = !0, e.emit("prefinish")) : (t.pendingcb++, t.finalCalled = !0, i.nextTick(N, e, t))) }(e, t), 0 === t.pendingcb && (t.finished = !0, e.emit("finish"), t.autoDestroy))) { var r = e._readableState; (!r || r.autoDestroy && r.endEmitted) && e.destroy() } return n } n(35717)(A, a), C.prototype.getBuffer = function () { for (var e = this.bufferedRequest, t = []; e;)t.push(e), e = e.next; return t }, function () { try { Object.defineProperty(C.prototype, "buffer", { get: s.deprecate((function () { return this.getBuffer() }), "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003") }) } catch (e) { } }(), "function" === typeof Symbol && Symbol.hasInstance && "function" === typeof Function.prototype[Symbol.hasInstance] ? (u = Function.prototype[Symbol.hasInstance], Object.defineProperty(A, Symbol.hasInstance, { value: function (e) { return !!u.call(this, e) || this === A && (e && e._writableState instanceof C) } })) : u = function (e) { return e instanceof this }, A.prototype.pipe = function () { x(this, new y) }, A.prototype.write = function (e, t, n) { var r, o = this._writableState, s = !1, a = !o.objectMode && (r = e, c.isBuffer(r) || r instanceof l); return a && !c.isBuffer(e) && (e = function (e) { return c.from(e) }(e)), "function" === typeof t && (n = t, t = null), a ? t = "buffer" : t || (t = o.defaultEncoding), "function" !== typeof n && (n = _), o.ending ? function (e, t) { var n = new w; x(e, n), i.nextTick(t, n) }(this, n) : (a || function (e, t, n, r) { var o; return null === n ? o = new v : "string" === typeof n || t.objectMode || (o = new p("chunk", ["string", "Buffer"], n)), !o || (x(e, o), i.nextTick(r, o), !1) }(this, o, e, n)) && (o.pendingcb++, s = function (e, t, n, r, i, o) { if (!n) { var s = function (e, t, n) { e.objectMode || !1 === e.decodeStrings || "string" !== typeof t || (t = c.from(t, n)); return t }(t, r, i); r !== s && (n = !0, i = "buffer", r = s) } var a = t.objectMode ? 1 : r.length; t.length += a; var l = t.length < t.highWaterMark; l || (t.needDrain = !0); if (t.writing || t.corked) { var u = t.lastBufferedRequest; t.lastBufferedRequest = { chunk: r, encoding: i, isBuf: n, callback: o, next: null }, u ? u.next = t.lastBufferedRequest : t.bufferedRequest = t.lastBufferedRequest, t.bufferedRequestCount += 1 } else S(e, t, !1, a, r, i, o); return l }(this, o, a, e, t, n)), s }, A.prototype.cork = function () { this._writableState.corked++ }, A.prototype.uncork = function () { var e = this._writableState; e.corked && (e.corked--, e.writing || e.corked || e.bufferProcessing || !e.bufferedRequest || I(this, e)) }, A.prototype.setDefaultEncoding = function (e) { if ("string" === typeof e && (e = e.toLowerCase()), !(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((e + "").toLowerCase()) > -1)) throw new E(e); return this._writableState.defaultEncoding = e, this }, Object.defineProperty(A.prototype, "writableBuffer", { enumerable: !1, get: function () { return this._writableState && this._writableState.getBuffer() } }), Object.defineProperty(A.prototype, "writableHighWaterMark", { enumerable: !1, get: function () { return this._writableState.highWaterMark } }), A.prototype._write = function (e, t, n) { n(new m("_write()")) }, A.prototype._writev = null, A.prototype.end = function (e, t, n) { var r = this._writableState; return "function" === typeof e ? (n = e, e = null, t = null) : "function" === typeof t && (n = t, t = null), null !== e && void 0 !== e && this.write(e, t), r.corked && (r.corked = 1, this.uncork()), r.ending || function (e, t, n) { t.ending = !0, P(e, t), n && (t.finished ? i.nextTick(n) : e.once("finish", n)); t.ended = !0, e.writable = !1 }(this, r, n), this }, Object.defineProperty(A.prototype, "writableLength", { enumerable: !1, get: function () { return this._writableState.length } }), Object.defineProperty(A.prototype, "destroyed", { enumerable: !1, get: function () { return void 0 !== this._writableState && this._writableState.destroyed }, set: function (e) { this._writableState && (this._writableState.destroyed = e) } }), A.prototype.destroy = d.destroy, A.prototype._undestroy = d.undestroy, A.prototype._destroy = function (e, t) { t(e) } }, 45850: function (e, t, n) { "use strict"; var r, i = n(34155); function o(e, t, n) { return (t = function (e) { var t = function (e, t) { if ("object" !== typeof e || null === e) return e; var n = e[Symbol.toPrimitive]; if (void 0 !== n) { var r = n.call(e, t || "default"); if ("object" !== typeof r) return r; throw new TypeError("@@toPrimitive must return a primitive value.") } return ("string" === t ? String : Number)(e) }(e, "string"); return "symbol" === typeof t ? t : String(t) }(t)) in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } var s = n(8610), a = Symbol("lastResolve"), c = Symbol("lastReject"), l = Symbol("error"), u = Symbol("ended"), d = Symbol("lastPromise"), h = Symbol("handlePromise"), f = Symbol("stream"); function p(e, t) { return { value: e, done: t } } function m(e) { var t = e[a]; if (null !== t) { var n = e[f].read(); null !== n && (e[d] = null, e[a] = null, e[c] = null, t(p(n, !1))) } } function g(e) { i.nextTick(m, e) } var y = Object.getPrototypeOf((function () { })), b = Object.setPrototypeOf((o(r = { get stream() { return this[f] }, next: function () { var e = this, t = this[l]; if (null !== t) return Promise.reject(t); if (this[u]) return Promise.resolve(p(void 0, !0)); if (this[f].destroyed) return new Promise((function (t, n) { i.nextTick((function () { e[l] ? n(e[l]) : t(p(void 0, !0)) })) })); var n, r = this[d]; if (r) n = new Promise(function (e, t) { return function (n, r) { e.then((function () { t[u] ? n(p(void 0, !0)) : t[h](n, r) }), r) } }(r, this)); else { var o = this[f].read(); if (null !== o) return Promise.resolve(p(o, !1)); n = new Promise(this[h]) } return this[d] = n, n } }, Symbol.asyncIterator, (function () { return this })), o(r, "return", (function () { var e = this; return new Promise((function (t, n) { e[f].destroy(null, (function (e) { e ? n(e) : t(p(void 0, !0)) })) })) })), r), y); e.exports = function (e) { var t, n = Object.create(b, (o(t = {}, f, { value: e, writable: !0 }), o(t, a, { value: null, writable: !0 }), o(t, c, { value: null, writable: !0 }), o(t, l, { value: null, writable: !0 }), o(t, u, { value: e._readableState.endEmitted, writable: !0 }), o(t, h, { value: function (e, t) { var r = n[f].read(); r ? (n[d] = null, n[a] = null, n[c] = null, e(p(r, !1))) : (n[a] = e, n[c] = t) }, writable: !0 }), t)); return n[d] = null, s(e, (function (e) { if (e && "ERR_STREAM_PREMATURE_CLOSE" !== e.code) { var t = n[c]; return null !== t && (n[d] = null, n[a] = null, n[c] = null, t(e)), void (n[l] = e) } var r = n[a]; null !== r && (n[d] = null, n[a] = null, n[c] = null, r(p(void 0, !0))), n[u] = !0 })), e.on("readable", g.bind(null, n)), n } }, 57327: function (e, t, n) { "use strict"; function r(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function i(e) { for (var t = 1; t < arguments.length; t++) { var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? r(Object(n), !0).forEach((function (t) { o(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : r(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function o(e, t, n) { return (t = a(t)) in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } function s(e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, a(r.key), r) } } function a(e) { var t = function (e, t) { if ("object" !== typeof e || null === e) return e; var n = e[Symbol.toPrimitive]; if (void 0 !== n) { var r = n.call(e, t || "default"); if ("object" !== typeof r) return r; throw new TypeError("@@toPrimitive must return a primitive value.") } return ("string" === t ? String : Number)(e) }(e, "string"); return "symbol" === typeof t ? t : String(t) } var c = n(48764).Buffer, l = n(52361).inspect, u = l && l.custom || "inspect"; e.exports = function () { function e() { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), this.head = null, this.tail = null, this.length = 0 } var t, n, r; return t = e, (n = [{ key: "push", value: function (e) { var t = { data: e, next: null }; this.length > 0 ? this.tail.next = t : this.head = t, this.tail = t, ++this.length } }, { key: "unshift", value: function (e) { var t = { data: e, next: this.head }; 0 === this.length && (this.tail = t), this.head = t, ++this.length } }, { key: "shift", value: function () { if (0 !== this.length) { var e = this.head.data; return 1 === this.length ? this.head = this.tail = null : this.head = this.head.next, --this.length, e } } }, { key: "clear", value: function () { this.head = this.tail = null, this.length = 0 } }, { key: "join", value: function (e) { if (0 === this.length) return ""; for (var t = this.head, n = "" + t.data; t = t.next;)n += e + t.data; return n } }, { key: "concat", value: function (e) { if (0 === this.length) return c.alloc(0); for (var t, n, r, i = c.allocUnsafe(e >>> 0), o = this.head, s = 0; o;)t = o.data, n = i, r = s, c.prototype.copy.call(t, n, r), s += o.data.length, o = o.next; return i } }, { key: "consume", value: function (e, t) { var n; return e < this.head.data.length ? (n = this.head.data.slice(0, e), this.head.data = this.head.data.slice(e)) : n = e === this.head.data.length ? this.shift() : t ? this._getString(e) : this._getBuffer(e), n } }, { key: "first", value: function () { return this.head.data } }, { key: "_getString", value: function (e) { var t = this.head, n = 1, r = t.data; for (e -= r.length; t = t.next;) { var i = t.data, o = e > i.length ? i.length : e; if (o === i.length ? r += i : r += i.slice(0, e), 0 === (e -= o)) { o === i.length ? (++n, t.next ? this.head = t.next : this.head = this.tail = null) : (this.head = t, t.data = i.slice(o)); break } ++n } return this.length -= n, r } }, { key: "_getBuffer", value: function (e) { var t = c.allocUnsafe(e), n = this.head, r = 1; for (n.data.copy(t), e -= n.data.length; n = n.next;) { var i = n.data, o = e > i.length ? i.length : e; if (i.copy(t, t.length - e, 0, o), 0 === (e -= o)) { o === i.length ? (++r, n.next ? this.head = n.next : this.head = this.tail = null) : (this.head = n, n.data = i.slice(o)); break } ++r } return this.length -= r, t } }, { key: u, value: function (e, t) { return l(this, i(i({}, t), {}, { depth: 0, customInspect: !1 })) } }]) && s(t.prototype, n), r && s(t, r), Object.defineProperty(t, "prototype", { writable: !1 }), e }() }, 61195: function (e, t, n) { "use strict"; var r = n(34155); function i(e, t) { s(e, t), o(e) } function o(e) { e._writableState && !e._writableState.emitClose || e._readableState && !e._readableState.emitClose || e.emit("close") } function s(e, t) { e.emit("error", t) } e.exports = { destroy: function (e, t) { var n = this, a = this._readableState && this._readableState.destroyed, c = this._writableState && this._writableState.destroyed; return a || c ? (t ? t(e) : e && (this._writableState ? this._writableState.errorEmitted || (this._writableState.errorEmitted = !0, r.nextTick(s, this, e)) : r.nextTick(s, this, e)), this) : (this._readableState && (this._readableState.destroyed = !0), this._writableState && (this._writableState.destroyed = !0), this._destroy(e || null, (function (e) { !t && e ? n._writableState ? n._writableState.errorEmitted ? r.nextTick(o, n) : (n._writableState.errorEmitted = !0, r.nextTick(i, n, e)) : r.nextTick(i, n, e) : t ? (r.nextTick(o, n), t(e)) : r.nextTick(o, n) })), this) }, undestroy: function () { this._readableState && (this._readableState.destroyed = !1, this._readableState.reading = !1, this._readableState.ended = !1, this._readableState.endEmitted = !1), this._writableState && (this._writableState.destroyed = !1, this._writableState.ended = !1, this._writableState.ending = !1, this._writableState.finalCalled = !1, this._writableState.prefinished = !1, this._writableState.finished = !1, this._writableState.errorEmitted = !1) }, errorOrDestroy: function (e, t) { var n = e._readableState, r = e._writableState; n && n.autoDestroy || r && r.autoDestroy ? e.destroy(t) : e.emit("error", t) } } }, 8610: function (e, t, n) { "use strict"; var r = n(94281).q.ERR_STREAM_PREMATURE_CLOSE; function i() { } e.exports = function e(t, n, o) { if ("function" === typeof n) return e(t, null, n); n || (n = {}), o = function (e) { var t = !1; return function () { if (!t) { t = !0; for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++)r[i] = arguments[i]; e.apply(this, r) } } }(o || i); var s = n.readable || !1 !== n.readable && t.readable, a = n.writable || !1 !== n.writable && t.writable, c = function () { t.writable || u() }, l = t._writableState && t._writableState.finished, u = function () { a = !1, l = !0, s || o.call(t) }, d = t._readableState && t._readableState.endEmitted, h = function () { s = !1, d = !0, a || o.call(t) }, f = function (e) { o.call(t, e) }, p = function () { var e; return s && !d ? (t._readableState && t._readableState.ended || (e = new r), o.call(t, e)) : a && !l ? (t._writableState && t._writableState.ended || (e = new r), o.call(t, e)) : void 0 }, m = function () { t.req.on("finish", u) }; return !function (e) { return e.setHeader && "function" === typeof e.abort }(t) ? a && !t._writableState && (t.on("end", c), t.on("close", c)) : (t.on("complete", u), t.on("abort", p), t.req ? m() : t.on("request", m)), t.on("end", h), t.on("finish", u), !1 !== n.error && t.on("error", f), t.on("close", p), function () { t.removeListener("complete", u), t.removeListener("abort", p), t.removeListener("request", m), t.req && t.req.removeListener("finish", u), t.removeListener("end", c), t.removeListener("close", c), t.removeListener("finish", u), t.removeListener("end", h), t.removeListener("error", f), t.removeListener("close", p) } } }, 15167: function (e) { e.exports = function () { throw new Error("Readable.from is not available in the browser") } }, 59946: function (e, t, n) { "use strict"; var r; var i = n(94281).q, o = i.ERR_MISSING_ARGS, s = i.ERR_STREAM_DESTROYED; function a(e) { if (e) throw e } function c(e, t, i, o) { o = function (e) { var t = !1; return function () { t || (t = !0, e.apply(void 0, arguments)) } }(o); var a = !1; e.on("close", (function () { a = !0 })), void 0 === r && (r = n(8610)), r(e, { readable: t, writable: i }, (function (e) { if (e) return o(e); a = !0, o() })); var c = !1; return function (t) { if (!a && !c) return c = !0, function (e) { return e.setHeader && "function" === typeof e.abort }(e) ? e.abort() : "function" === typeof e.destroy ? e.destroy() : void o(t || new s("pipe")) } } function l(e) { e() } function u(e, t) { return e.pipe(t) } function d(e) { return e.length ? "function" !== typeof e[e.length - 1] ? a : e.pop() : a } e.exports = function () { for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)t[n] = arguments[n]; var r, i = d(t); if (Array.isArray(t[0]) && (t = t[0]), t.length < 2) throw new o("streams"); var s = t.map((function (e, n) { var o = n < t.length - 1; return c(e, o, n > 0, (function (e) { r || (r = e), e && s.forEach(l), o || (s.forEach(l), i(r)) })) })); return t.reduce(u) } }, 82457: function (e, t, n) { "use strict"; var r = n(94281).q.ERR_INVALID_OPT_VALUE; e.exports = { getHighWaterMark: function (e, t, n, i) { var o = function (e, t, n) { return null != e.highWaterMark ? e.highWaterMark : t ? e[n] : null }(t, i, n); if (null != o) { if (!isFinite(o) || Math.floor(o) !== o || o < 0) throw new r(i ? n : "highWaterMark", o); return Math.floor(o) } return e.objectMode ? 16 : 16384 } } }, 22503: function (e, t, n) { e.exports = n(17187).EventEmitter }, 88473: function (e, t, n) { (t = e.exports = n(79481)).Stream = t, t.Readable = t, t.Writable = n(64229), t.Duplex = n(56753), t.Transform = n(74605), t.PassThrough = n(82725), t.finished = n(8610), t.pipeline = n(59946) }, 89509: function (e, t, n) { var r = n(48764), i = r.Buffer; function o(e, t) { for (var n in e) t[n] = e[n] } function s(e, t, n) { return i(e, t, n) } i.from && i.alloc && i.allocUnsafe && i.allocUnsafeSlow ? e.exports = r : (o(r, t), t.Buffer = s), s.prototype = Object.create(i.prototype), o(i, s), s.from = function (e, t, n) { if ("number" === typeof e) throw new TypeError("Argument must not be a number"); return i(e, t, n) }, s.alloc = function (e, t, n) { if ("number" !== typeof e) throw new TypeError("Argument must be a number"); var r = i(e); return void 0 !== t ? "string" === typeof n ? r.fill(t, n) : r.fill(t) : r.fill(0), r }, s.allocUnsafe = function (e) { if ("number" !== typeof e) throw new TypeError("Argument must be a number"); return i(e) }, s.allocUnsafeSlow = function (e) { if ("number" !== typeof e) throw new TypeError("Argument must be a number"); return r.SlowBuffer(e) } }, 24189: function (e, t, n) { var r = n(89509).Buffer; function i(e, t) { this._block = r.alloc(e), this._finalSize = t, this._blockSize = e, this._len = 0 } i.prototype.update = function (e, t) { "string" === typeof e && (t = t || "utf8", e = r.from(e, t)); for (var n = this._block, i = this._blockSize, o = e.length, s = this._len, a = 0; a < o;) { for (var c = s % i, l = Math.min(o - a, i - c), u = 0; u < l; u++)n[c + u] = e[a + u]; a += l, (s += l) % i === 0 && this._update(n) } return this._len += o, this }, i.prototype.digest = function (e) { var t = this._len % this._blockSize; this._block[t] = 128, this._block.fill(0, t + 1), t >= this._finalSize && (this._update(this._block), this._block.fill(0)); var n = 8 * this._len; if (n <= 4294967295) this._block.writeUInt32BE(n, this._blockSize - 4); else { var r = (4294967295 & n) >>> 0, i = (n - r) / 4294967296; this._block.writeUInt32BE(i, this._blockSize - 8), this._block.writeUInt32BE(r, this._blockSize - 4) } this._update(this._block); var o = this._hash(); return e ? o.toString(e) : o }, i.prototype._update = function () { throw new Error("_update must be implemented by subclass") }, e.exports = i }, 89072: function (e, t, n) { var r = e.exports = function (e) { e = e.toLowerCase(); var t = r[e]; if (!t) throw new Error(e + " is not supported (we accept pull requests)"); return new t }; r.sha = n(74448), r.sha1 = n(18336), r.sha224 = n(48432), r.sha256 = n(67499), r.sha384 = n(51686), r.sha512 = n(87816) }, 74448: function (e, t, n) { var r = n(35717), i = n(24189), o = n(89509).Buffer, s = [1518500249, 1859775393, -1894007588, -899497514], a = new Array(80); function c() { this.init(), this._w = a, i.call(this, 64, 56) } function l(e) { return e << 30 | e >>> 2 } function u(e, t, n, r) { return 0 === e ? t & n | ~t & r : 2 === e ? t & n | t & r | n & r : t ^ n ^ r } r(c, i), c.prototype.init = function () { return this._a = 1732584193, this._b = 4023233417, this._c = 2562383102, this._d = 271733878, this._e = 3285377520, this }, c.prototype._update = function (e) { for (var t, n = this._w, r = 0 | this._a, i = 0 | this._b, o = 0 | this._c, a = 0 | this._d, c = 0 | this._e, d = 0; d < 16; ++d)n[d] = e.readInt32BE(4 * d); for (; d < 80; ++d)n[d] = n[d - 3] ^ n[d - 8] ^ n[d - 14] ^ n[d - 16]; for (var h = 0; h < 80; ++h) { var f = ~~(h / 20), p = 0 | ((t = r) << 5 | t >>> 27) + u(f, i, o, a) + c + n[h] + s[f]; c = a, a = o, o = l(i), i = r, r = p } this._a = r + this._a | 0, this._b = i + this._b | 0, this._c = o + this._c | 0, this._d = a + this._d | 0, this._e = c + this._e | 0 }, c.prototype._hash = function () { var e = o.allocUnsafe(20); return e.writeInt32BE(0 | this._a, 0), e.writeInt32BE(0 | this._b, 4), e.writeInt32BE(0 | this._c, 8), e.writeInt32BE(0 | this._d, 12), e.writeInt32BE(0 | this._e, 16), e }, e.exports = c }, 18336: function (e, t, n) { var r = n(35717), i = n(24189), o = n(89509).Buffer, s = [1518500249, 1859775393, -1894007588, -899497514], a = new Array(80); function c() { this.init(), this._w = a, i.call(this, 64, 56) } function l(e) { return e << 5 | e >>> 27 } function u(e) { return e << 30 | e >>> 2 } function d(e, t, n, r) { return 0 === e ? t & n | ~t & r : 2 === e ? t & n | t & r | n & r : t ^ n ^ r } r(c, i), c.prototype.init = function () { return this._a = 1732584193, this._b = 4023233417, this._c = 2562383102, this._d = 271733878, this._e = 3285377520, this }, c.prototype._update = function (e) { for (var t, n = this._w, r = 0 | this._a, i = 0 | this._b, o = 0 | this._c, a = 0 | this._d, c = 0 | this._e, h = 0; h < 16; ++h)n[h] = e.readInt32BE(4 * h); for (; h < 80; ++h)n[h] = (t = n[h - 3] ^ n[h - 8] ^ n[h - 14] ^ n[h - 16]) << 1 | t >>> 31; for (var f = 0; f < 80; ++f) { var p = ~~(f / 20), m = l(r) + d(p, i, o, a) + c + n[f] + s[p] | 0; c = a, a = o, o = u(i), i = r, r = m } this._a = r + this._a | 0, this._b = i + this._b | 0, this._c = o + this._c | 0, this._d = a + this._d | 0, this._e = c + this._e | 0 }, c.prototype._hash = function () { var e = o.allocUnsafe(20); return e.writeInt32BE(0 | this._a, 0), e.writeInt32BE(0 | this._b, 4), e.writeInt32BE(0 | this._c, 8), e.writeInt32BE(0 | this._d, 12), e.writeInt32BE(0 | this._e, 16), e }, e.exports = c }, 48432: function (e, t, n) { var r = n(35717), i = n(67499), o = n(24189), s = n(89509).Buffer, a = new Array(64); function c() { this.init(), this._w = a, o.call(this, 64, 56) } r(c, i), c.prototype.init = function () { return this._a = 3238371032, this._b = 914150663, this._c = 812702999, this._d = 4144912697, this._e = 4290775857, this._f = 1750603025, this._g = 1694076839, this._h = 3204075428, this }, c.prototype._hash = function () { var e = s.allocUnsafe(28); return e.writeInt32BE(this._a, 0), e.writeInt32BE(this._b, 4), e.writeInt32BE(this._c, 8), e.writeInt32BE(this._d, 12), e.writeInt32BE(this._e, 16), e.writeInt32BE(this._f, 20), e.writeInt32BE(this._g, 24), e }, e.exports = c }, 67499: function (e, t, n) { var r = n(35717), i = n(24189), o = n(89509).Buffer, s = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298], a = new Array(64); function c() { this.init(), this._w = a, i.call(this, 64, 56) } function l(e, t, n) { return n ^ e & (t ^ n) } function u(e, t, n) { return e & t | n & (e | t) } function d(e) { return (e >>> 2 | e << 30) ^ (e >>> 13 | e << 19) ^ (e >>> 22 | e << 10) } function h(e) { return (e >>> 6 | e << 26) ^ (e >>> 11 | e << 21) ^ (e >>> 25 | e << 7) } function f(e) { return (e >>> 7 | e << 25) ^ (e >>> 18 | e << 14) ^ e >>> 3 } r(c, i), c.prototype.init = function () { return this._a = 1779033703, this._b = 3144134277, this._c = 1013904242, this._d = 2773480762, this._e = 1359893119, this._f = 2600822924, this._g = 528734635, this._h = 1541459225, this }, c.prototype._update = function (e) { for (var t, n = this._w, r = 0 | this._a, i = 0 | this._b, o = 0 | this._c, a = 0 | this._d, c = 0 | this._e, p = 0 | this._f, m = 0 | this._g, g = 0 | this._h, y = 0; y < 16; ++y)n[y] = e.readInt32BE(4 * y); for (; y < 64; ++y)n[y] = 0 | (((t = n[y - 2]) >>> 17 | t << 15) ^ (t >>> 19 | t << 13) ^ t >>> 10) + n[y - 7] + f(n[y - 15]) + n[y - 16]; for (var b = 0; b < 64; ++b) { var v = g + h(c) + l(c, p, m) + s[b] + n[b] | 0, w = d(r) + u(r, i, o) | 0; g = m, m = p, p = c, c = a + v | 0, a = o, o = i, i = r, r = v + w | 0 } this._a = r + this._a | 0, this._b = i + this._b | 0, this._c = o + this._c | 0, this._d = a + this._d | 0, this._e = c + this._e | 0, this._f = p + this._f | 0, this._g = m + this._g | 0, this._h = g + this._h | 0 }, c.prototype._hash = function () { var e = o.allocUnsafe(32); return e.writeInt32BE(this._a, 0), e.writeInt32BE(this._b, 4), e.writeInt32BE(this._c, 8), e.writeInt32BE(this._d, 12), e.writeInt32BE(this._e, 16), e.writeInt32BE(this._f, 20), e.writeInt32BE(this._g, 24), e.writeInt32BE(this._h, 28), e }, e.exports = c }, 51686: function (e, t, n) { var r = n(35717), i = n(87816), o = n(24189), s = n(89509).Buffer, a = new Array(160); function c() { this.init(), this._w = a, o.call(this, 128, 112) } r(c, i), c.prototype.init = function () { return this._ah = 3418070365, this._bh = 1654270250, this._ch = 2438529370, this._dh = 355462360, this._eh = 1731405415, this._fh = 2394180231, this._gh = 3675008525, this._hh = 1203062813, this._al = 3238371032, this._bl = 914150663, this._cl = 812702999, this._dl = 4144912697, this._el = 4290775857, this._fl = 1750603025, this._gl = 1694076839, this._hl = 3204075428, this }, c.prototype._hash = function () { var e = s.allocUnsafe(48); function t(t, n, r) { e.writeInt32BE(t, r), e.writeInt32BE(n, r + 4) } return t(this._ah, this._al, 0), t(this._bh, this._bl, 8), t(this._ch, this._cl, 16), t(this._dh, this._dl, 24), t(this._eh, this._el, 32), t(this._fh, this._fl, 40), e }, e.exports = c }, 87816: function (e, t, n) { var r = n(35717), i = n(24189), o = n(89509).Buffer, s = [1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399, 3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265, 2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901, 1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879, 3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823, 1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273, 3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012, 2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044, 2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573, 3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711, 3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554, 174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315, 685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100, 1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866, 1607167915, 987167468, 1816402316, 1246189591], a = new Array(160); function c() { this.init(), this._w = a, i.call(this, 128, 112) } function l(e, t, n) { return n ^ e & (t ^ n) } function u(e, t, n) { return e & t | n & (e | t) } function d(e, t) { return (e >>> 28 | t << 4) ^ (t >>> 2 | e << 30) ^ (t >>> 7 | e << 25) } function h(e, t) { return (e >>> 14 | t << 18) ^ (e >>> 18 | t << 14) ^ (t >>> 9 | e << 23) } function f(e, t) { return (e >>> 1 | t << 31) ^ (e >>> 8 | t << 24) ^ e >>> 7 } function p(e, t) { return (e >>> 1 | t << 31) ^ (e >>> 8 | t << 24) ^ (e >>> 7 | t << 25) } function m(e, t) { return (e >>> 19 | t << 13) ^ (t >>> 29 | e << 3) ^ e >>> 6 } function g(e, t) { return (e >>> 19 | t << 13) ^ (t >>> 29 | e << 3) ^ (e >>> 6 | t << 26) } function y(e, t) { return e >>> 0 < t >>> 0 ? 1 : 0 } r(c, i), c.prototype.init = function () { return this._ah = 1779033703, this._bh = 3144134277, this._ch = 1013904242, this._dh = 2773480762, this._eh = 1359893119, this._fh = 2600822924, this._gh = 528734635, this._hh = 1541459225, this._al = 4089235720, this._bl = 2227873595, this._cl = 4271175723, this._dl = 1595750129, this._el = 2917565137, this._fl = 725511199, this._gl = 4215389547, this._hl = 327033209, this }, c.prototype._update = function (e) { for (var t = this._w, n = 0 | this._ah, r = 0 | this._bh, i = 0 | this._ch, o = 0 | this._dh, a = 0 | this._eh, c = 0 | this._fh, b = 0 | this._gh, v = 0 | this._hh, w = 0 | this._al, E = 0 | this._bl, x = 0 | this._cl, _ = 0 | this._dl, C = 0 | this._el, A = 0 | this._fl, S = 0 | this._gl, k = 0 | this._hl, I = 0; I < 32; I += 2)t[I] = e.readInt32BE(4 * I), t[I + 1] = e.readInt32BE(4 * I + 4); for (; I < 160; I += 2) { var T = t[I - 30], N = t[I - 30 + 1], P = f(T, N), M = p(N, T), O = m(T = t[I - 4], N = t[I - 4 + 1]), R = g(N, T), j = t[I - 14], $ = t[I - 14 + 1], L = t[I - 32], D = t[I - 32 + 1], U = M + $ | 0, F = P + j + y(U, M) | 0; F = (F = F + O + y(U = U + R | 0, R) | 0) + L + y(U = U + D | 0, D) | 0, t[I] = F, t[I + 1] = U } for (var B = 0; B < 160; B += 2) { F = t[B], U = t[B + 1]; var W = u(n, r, i), z = u(w, E, x), q = d(n, w), H = d(w, n), G = h(a, C), V = h(C, a), K = s[B], Y = s[B + 1], Z = l(a, c, b), X = l(C, A, S), J = k + V | 0, Q = v + G + y(J, k) | 0; Q = (Q = (Q = Q + Z + y(J = J + X | 0, X) | 0) + K + y(J = J + Y | 0, Y) | 0) + F + y(J = J + U | 0, U) | 0; var ee = H + z | 0, te = q + W + y(ee, H) | 0; v = b, k = S, b = c, S = A, c = a, A = C, a = o + Q + y(C = _ + J | 0, _) | 0, o = i, _ = x, i = r, x = E, r = n, E = w, n = Q + te + y(w = J + ee | 0, J) | 0 } this._al = this._al + w | 0, this._bl = this._bl + E | 0, this._cl = this._cl + x | 0, this._dl = this._dl + _ | 0, this._el = this._el + C | 0, this._fl = this._fl + A | 0, this._gl = this._gl + S | 0, this._hl = this._hl + k | 0, this._ah = this._ah + n + y(this._al, w) | 0, this._bh = this._bh + r + y(this._bl, E) | 0, this._ch = this._ch + i + y(this._cl, x) | 0, this._dh = this._dh + o + y(this._dl, _) | 0, this._eh = this._eh + a + y(this._el, C) | 0, this._fh = this._fh + c + y(this._fl, A) | 0, this._gh = this._gh + b + y(this._gl, S) | 0, this._hh = this._hh + v + y(this._hl, k) | 0 }, c.prototype._hash = function () { var e = o.allocUnsafe(64); function t(t, n, r) { e.writeInt32BE(t, r), e.writeInt32BE(n, r + 4) } return t(this._ah, this._al, 0), t(this._bh, this._bl, 8), t(this._ch, this._cl, 16), t(this._dh, this._dl, 24), t(this._eh, this._el, 32), t(this._fh, this._fl, 40), t(this._gh, this._gl, 48), t(this._hh, this._hl, 56), e }, e.exports = c }, 96774: function (e) { e.exports = function (e, t, n, r) { var i = n ? n.call(r, e, t) : void 0; if (void 0 !== i) return !!i; if (e === t) return !0; if ("object" !== typeof e || !e || "object" !== typeof t || !t) return !1; var o = Object.keys(e), s = Object.keys(t); if (o.length !== s.length) return !1; for (var a = Object.prototype.hasOwnProperty.bind(t), c = 0; c < o.length; c++) { var l = o[c]; if (!a(l)) return !1; var u = e[l], d = t[l]; if (!1 === (i = n ? n.call(r, u, d, l) : void 0) || void 0 === i && u !== d) return !1 } return !0 } }, 80500: function (e) { "use strict"; e.exports = (e, t) => { if ("string" !== typeof e || "string" !== typeof t) throw new TypeError("Expected the arguments to be of type `string`"); if ("" === t) return [e]; const n = e.indexOf(t); return -1 === n ? [e] : [e.slice(0, n), e.slice(n + t.length)] } }, 70610: function (e) { "use strict"; e.exports = e => encodeURIComponent(e).replace(/[!'()*]/g, (e => `%${e.charCodeAt(0).toString(16).toUpperCase()}`)) }, 32553: function (e, t, n) { "use strict"; var r = n(89509).Buffer, i = r.isEncoding || function (e) { switch ((e = "" + e) && e.toLowerCase()) { case "hex": case "utf8": case "utf-8": case "ascii": case "binary": case "base64": case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": case "raw": return !0; default: return !1 } }; function o(e) { var t; switch (this.encoding = function (e) { var t = function (e) { if (!e) return "utf8"; for (var t; ;)switch (e) { case "utf8": case "utf-8": return "utf8"; case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return "utf16le"; case "latin1": case "binary": return "latin1"; case "base64": case "ascii": case "hex": return e; default: if (t) return; e = ("" + e).toLowerCase(), t = !0 } }(e); if ("string" !== typeof t && (r.isEncoding === i || !i(e))) throw new Error("Unknown encoding: " + e); return t || e }(e), this.encoding) { case "utf16le": this.text = c, this.end = l, t = 4; break; case "utf8": this.fillLast = a, t = 4; break; case "base64": this.text = u, this.end = d, t = 3; break; default: return this.write = h, void (this.end = f) }this.lastNeed = 0, this.lastTotal = 0, this.lastChar = r.allocUnsafe(t) } function s(e) { return e <= 127 ? 0 : e >> 5 === 6 ? 2 : e >> 4 === 14 ? 3 : e >> 3 === 30 ? 4 : e >> 6 === 2 ? -1 : -2 } function a(e) { var t = this.lastTotal - this.lastNeed, n = function (e, t, n) { if (128 !== (192 & t[0])) return e.lastNeed = 0, "\ufffd"; if (e.lastNeed > 1 && t.length > 1) { if (128 !== (192 & t[1])) return e.lastNeed = 1, "\ufffd"; if (e.lastNeed > 2 && t.length > 2 && 128 !== (192 & t[2])) return e.lastNeed = 2, "\ufffd" } }(this, e); return void 0 !== n ? n : this.lastNeed <= e.length ? (e.copy(this.lastChar, t, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal)) : (e.copy(this.lastChar, t, 0, e.length), void (this.lastNeed -= e.length)) } function c(e, t) { if ((e.length - t) % 2 === 0) { var n = e.toString("utf16le", t); if (n) { var r = n.charCodeAt(n.length - 1); if (r >= 55296 && r <= 56319) return this.lastNeed = 2, this.lastTotal = 4, this.lastChar[0] = e[e.length - 2], this.lastChar[1] = e[e.length - 1], n.slice(0, -1) } return n } return this.lastNeed = 1, this.lastTotal = 2, this.lastChar[0] = e[e.length - 1], e.toString("utf16le", t, e.length - 1) } function l(e) { var t = e && e.length ? this.write(e) : ""; if (this.lastNeed) { var n = this.lastTotal - this.lastNeed; return t + this.lastChar.toString("utf16le", 0, n) } return t } function u(e, t) { var n = (e.length - t) % 3; return 0 === n ? e.toString("base64", t) : (this.lastNeed = 3 - n, this.lastTotal = 3, 1 === n ? this.lastChar[0] = e[e.length - 1] : (this.lastChar[0] = e[e.length - 2], this.lastChar[1] = e[e.length - 1]), e.toString("base64", t, e.length - n)) } function d(e) { var t = e && e.length ? this.write(e) : ""; return this.lastNeed ? t + this.lastChar.toString("base64", 0, 3 - this.lastNeed) : t } function h(e) { return e.toString(this.encoding) } function f(e) { return e && e.length ? this.write(e) : "" } t.s = o, o.prototype.write = function (e) { if (0 === e.length) return ""; var t, n; if (this.lastNeed) { if (void 0 === (t = this.fillLast(e))) return ""; n = this.lastNeed, this.lastNeed = 0 } else n = 0; return n < e.length ? t ? t + this.text(e, n) : this.text(e, n) : t || "" }, o.prototype.end = function (e) { var t = e && e.length ? this.write(e) : ""; return this.lastNeed ? t + "\ufffd" : t }, o.prototype.text = function (e, t) { var n = function (e, t, n) { var r = t.length - 1; if (r < n) return 0; var i = s(t[r]); if (i >= 0) return i > 0 && (e.lastNeed = i - 1), i; if (--r < n || -2 === i) return 0; if ((i = s(t[r])) >= 0) return i > 0 && (e.lastNeed = i - 2), i; if (--r < n || -2 === i) return 0; if ((i = s(t[r])) >= 0) return i > 0 && (2 === i ? i = 0 : e.lastNeed = i - 3), i; return 0 }(this, e, t); if (!this.lastNeed) return e.toString("utf8", t); this.lastTotal = n; var r = e.length - (n - this.lastNeed); return e.copy(this.lastChar, 0, r), e.toString("utf8", t, r) }, o.prototype.fillLast = function (e) { if (this.lastNeed <= e.length) return e.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal); e.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, e.length), this.lastNeed -= e.length } }, 23451: function (e, t, n) { var r; !function (i, o) { "use strict"; var s = "function", a = "undefined", c = "object", l = "string", u = "major", d = "model", h = "name", f = "type", p = "vendor", m = "version", g = "architecture", y = "console", b = "mobile", v = "tablet", w = "smarttv", E = "wearable", x = "embedded", _ = "Amazon", C = "Apple", A = "ASUS", S = "BlackBerry", k = "Firefox", I = "Google", T = "Huawei", N = "LG", P = "Microsoft", M = "Motorola", O = "Opera", R = "Samsung", j = "Sharp", $ = "Sony", L = "Xiaomi", D = "Zebra", U = "Facebook", F = "Chromium OS", B = "Mac OS", W = function (e) { for (var t = {}, n = 0; n < e.length; n++)t[e[n].toUpperCase()] = e[n]; return t }, z = function (e, t) { return typeof e === l && -1 !== q(t).indexOf(q(e)) }, q = function (e) { return e.toLowerCase() }, H = function (e, t) { if (typeof e === l) return e = e.replace(/^\s\s*/, ""), typeof t === a ? e : e.substring(0, 500) }, G = function (e, t) { for (var n, r, i, a, l, u, d = 0; d < t.length && !l;) { var h = t[d], f = t[d + 1]; for (n = r = 0; n < h.length && !l && h[n];)if (l = h[n++].exec(e)) for (i = 0; i < f.length; i++)u = l[++r], typeof (a = f[i]) === c && a.length > 0 ? 2 === a.length ? typeof a[1] == s ? this[a[0]] = a[1].call(this, u) : this[a[0]] = a[1] : 3 === a.length ? typeof a[1] !== s || a[1].exec && a[1].test ? this[a[0]] = u ? u.replace(a[1], a[2]) : o : this[a[0]] = u ? a[1].call(this, u, a[2]) : o : 4 === a.length && (this[a[0]] = u ? a[3].call(this, u.replace(a[1], a[2])) : o) : this[a] = u || o; d += 2 } }, V = function (e, t) { for (var n in t) if (typeof t[n] === c && t[n].length > 0) { for (var r = 0; r < t[n].length; r++)if (z(t[n][r], e)) return "?" === n ? o : n } else if (z(t[n], e)) return "?" === n ? o : n; return t.hasOwnProperty("*") ? t["*"] : e }, K = { ME: "4.90", "NT 3.11": "NT3.51", "NT 4.0": "NT4.0", 2e3: "NT 5.0", XP: ["NT 5.1", "NT 5.2"], Vista: "NT 6.0", 7: "NT 6.1", 8: "NT 6.2", 8.1: "NT 6.3", 10: ["NT 6.4", "NT 10.0"], RT: "ARM" }, Y = { browser: [[/\b(?:crmo|crios)\/([\w\.]+)/i], [m, [h, "Chrome"]], [/edg(?:e|ios|a)?\/([\w\.]+)/i], [m, [h, "Edge"]], [/(opera mini)\/([-\w\.]+)/i, /(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i, /(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i], [h, m], [/opios[\/ ]+([\w\.]+)/i], [m, [h, "Opera Mini"]], [/\bop(?:rg)?x\/([\w\.]+)/i], [m, [h, "Opera GX"]], [/\bopr\/([\w\.]+)/i], [m, [h, O]], [/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i], [m, [h, "Baidu"]], [/(kindle)\/([\w\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i, /(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i, /(?:ms|\()(ie) ([\w\.]+)/i, /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i, /(heytap|ovi)browser\/([\d\.]+)/i, /(weibo)__([\d\.]+)/i], [h, m], [/quark(?:pc)?\/([-\w\.]+)/i], [m, [h, "Quark"]], [/\bddg\/([\w\.]+)/i], [m, [h, "DuckDuckGo"]], [/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i], [m, [h, "UCBrowser"]], [/microm.+\bqbcore\/([\w\.]+)/i, /\bqbcore\/([\w\.]+).+microm/i, /micromessenger\/([\w\.]+)/i], [m, [h, "WeChat"]], [/konqueror\/([\w\.]+)/i], [m, [h, "Konqueror"]], [/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i], [m, [h, "IE"]], [/ya(?:search)?browser\/([\w\.]+)/i], [m, [h, "Yandex"]], [/slbrowser\/([\w\.]+)/i], [m, [h, "Smart Lenovo Browser"]], [/(avast|avg)\/([\w\.]+)/i], [[h, /(.+)/, "$1 Secure Browser"], m], [/\bfocus\/([\w\.]+)/i], [m, [h, "Firefox Focus"]], [/\bopt\/([\w\.]+)/i], [m, [h, "Opera Touch"]], [/coc_coc\w+\/([\w\.]+)/i], [m, [h, "Coc Coc"]], [/dolfin\/([\w\.]+)/i], [m, [h, "Dolphin"]], [/coast\/([\w\.]+)/i], [m, [h, "Opera Coast"]], [/miuibrowser\/([\w\.]+)/i], [m, [h, "MIUI Browser"]], [/fxios\/([-\w\.]+)/i], [m, [h, k]], [/\bqihu|(qi?ho?o?|360)browser/i], [[h, "360 Browser"]], [/\b(qq)\/([\w\.]+)/i], [[h, /(.+)/, "$1Browser"], m], [/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i], [[h, /(.+)/, "$1 Browser"], m], [/samsungbrowser\/([\w\.]+)/i], [m, [h, "Samsung Internet"]], [/(comodo_dragon)\/([\w\.]+)/i], [[h, /_/g, " "], m], [/metasr[\/ ]?([\d\.]+)/i], [m, [h, "Sogou Explorer"]], [/(sogou)mo\w+\/([\d\.]+)/i], [[h, "Sogou Mobile"], m], [/(electron)\/([\w\.]+) safari/i, /(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i, /m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i], [h, m], [/(lbbrowser|rekonq)/i, /\[(linkedin)app\]/i], [h], [/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i], [[h, U], m], [/(Klarna)\/([\w\.]+)/i, /(kakao(?:talk|story))[\/ ]([\w\.]+)/i, /(naver)\(.*?(\d+\.[\w\.]+).*\)/i, /safari (line)\/([\w\.]+)/i, /\b(line)\/([\w\.]+)\/iab/i, /(alipay)client\/([\w\.]+)/i, /(twitter)(?:and| f.+e\/([\w\.]+))/i, /(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i], [h, m], [/\bgsa\/([\w\.]+) .*safari\//i], [m, [h, "GSA"]], [/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i], [m, [h, "TikTok"]], [/headlesschrome(?:\/([\w\.]+)| )/i], [m, [h, "Chrome Headless"]], [/ wv\).+(chrome)\/([\w\.]+)/i], [[h, "Chrome WebView"], m], [/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i], [m, [h, "Android Browser"]], [/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i], [h, m], [/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i], [m, [h, "Mobile Safari"]], [/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i], [m, h], [/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i], [h, [m, V, { "1.0": "/8", 1.2: "/1", 1.3: "/3", "2.0": "/412", "2.0.2": "/416", "2.0.3": "/417", "2.0.4": "/419", "?": "/" }]], [/(webkit|khtml)\/([\w\.]+)/i], [h, m], [/(navigator|netscape\d?)\/([-\w\.]+)/i], [[h, "Netscape"], m], [/(wolvic)\/([\w\.]+)/i], [h, m], [/mobile vr; rv:([\w\.]+)\).+firefox/i], [m, [h, "Firefox Reality"]], [/ekiohf.+(flow)\/([\w\.]+)/i, /(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i, /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i, /(firefox)\/([\w\.]+)/i, /(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i, /(links) \(([\w\.]+)/i], [h, [m, /_/g, "."]], [/(cobalt)\/([\w\.]+)/i], [h, [m, /master.|lts./, ""]]], cpu: [[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i], [[g, "amd64"]], [/(ia32(?=;))/i], [[g, q]], [/((?:i[346]|x)86)[;\)]/i], [[g, "ia32"]], [/\b(aarch64|arm(v?8e?l?|_?64))\b/i], [[g, "arm64"]], [/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i], [[g, "armhf"]], [/windows (ce|mobile); ppc;/i], [[g, "arm"]], [/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i], [[g, /ower/, "", q]], [/(sun4\w)[;\)]/i], [[g, "sparc"]], [/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i], [[g, q]]], device: [[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i], [d, [p, R], [f, v]], [/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i, /samsung[- ]((?!sm-[lr])[-\w]+)/i, /sec-(sgh\w+)/i], [d, [p, R], [f, b]], [/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i], [d, [p, C], [f, b]], [/\((ipad);[-\w\),; ]+apple/i, /applecoremedia\/[\w\.]+ \((ipad)/i, /\b(ipad)\d\d?,\d\d?[;\]].+ios/i], [d, [p, C], [f, v]], [/(macintosh);/i], [d, [p, C]], [/\b(sh-?[altvz]?\d\d[a-ekm]?)/i], [d, [p, j], [f, b]], [/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i], [d, [p, T], [f, v]], [/(?:huawei|honor)([-\w ]+)[;\)]/i, /\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i], [d, [p, T], [f, b]], [/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i, /\b; (\w+) build\/hm\1/i, /\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i, /\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i, /oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i, /\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i], [[d, /_/g, " "], [p, L], [f, b]], [/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i, /\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i], [[d, /_/g, " "], [p, L], [f, v]], [/; (\w+) bui.+ oppo/i, /\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i], [d, [p, "OPPO"], [f, b]], [/\b(opd2\d{3}a?) bui/i], [d, [p, "OPPO"], [f, v]], [/vivo (\w+)(?: bui|\))/i, /\b(v[12]\d{3}\w?[at])(?: bui|;)/i], [d, [p, "Vivo"], [f, b]], [/\b(rmx[1-3]\d{3})(?: bui|;|\))/i], [d, [p, "Realme"], [f, b]], [/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i, /\bmot(?:orola)?[- ](\w*)/i, /((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i], [d, [p, M], [f, b]], [/\b(mz60\d|xoom[2 ]{0,2}) build\//i], [d, [p, M], [f, v]], [/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i], [d, [p, N], [f, v]], [/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i, /\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i, /\blg-?([\d\w]+) bui/i], [d, [p, N], [f, b]], [/(ideatab[-\w ]+)/i, /lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i], [d, [p, "Lenovo"], [f, v]], [/(?:maemo|nokia).*(n900|lumia \d+)/i, /nokia[-_ ]?([-\w\.]*)/i], [[d, /_/g, " "], [p, "Nokia"], [f, b]], [/(pixel c)\b/i], [d, [p, I], [f, v]], [/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i], [d, [p, I], [f, b]], [/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i], [d, [p, $], [f, b]], [/sony tablet [ps]/i, /\b(?:sony)?sgp\w+(?: bui|\))/i], [[d, "Xperia Tablet"], [p, $], [f, v]], [/ (kb2005|in20[12]5|be20[12][59])\b/i, /(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i], [d, [p, "OnePlus"], [f, b]], [/(alexa)webm/i, /(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i, /(kf[a-z]+)( bui|\)).+silk\//i], [d, [p, _], [f, v]], [/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i], [[d, /(.+)/g, "Fire Phone $1"], [p, _], [f, b]], [/(playbook);[-\w\),; ]+(rim)/i], [d, p, [f, v]], [/\b((?:bb[a-f]|st[hv])100-\d)/i, /\(bb10; (\w+)/i], [d, [p, S], [f, b]], [/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i], [d, [p, A], [f, v]], [/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i], [d, [p, A], [f, b]], [/(nexus 9)/i], [d, [p, "HTC"], [f, v]], [/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i, /(zte)[- ]([\w ]+?)(?: bui|\/|\))/i, /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i], [p, [d, /_/g, " "], [f, b]], [/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i], [d, [p, "TCL"], [f, v]], [/(itel) ((\w+))/i], [[p, q], d, [f, V, { tablet: ["p10001l", "w7001"], "*": "mobile" }]], [/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i], [d, [p, "Acer"], [f, v]], [/droid.+; (m[1-5] note) bui/i, /\bmz-([-\w]{2,})/i], [d, [p, "Meizu"], [f, b]], [/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i], [d, [p, "Ulefone"], [f, b]], [/droid.+; (a(?:015|06[35]|142p?))/i], [d, [p, "Nothing"], [f, b]], [/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i, /(hp) ([\w ]+\w)/i, /(asus)-?(\w+)/i, /(microsoft); (lumia[\w ]+)/i, /(lenovo)[-_ ]?([-\w]+)/i, /(jolla)/i, /(oppo) ?([\w ]+) bui/i], [p, d, [f, b]], [/(kobo)\s(ereader|touch)/i, /(archos) (gamepad2?)/i, /(hp).+(touchpad(?!.+tablet)|tablet)/i, /(kindle)\/([\w\.]+)/i, /(nook)[\w ]+build\/(\w+)/i, /(dell) (strea[kpr\d ]*[\dko])/i, /(le[- ]+pan)[- ]+(\w{1,9}) bui/i, /(trinity)[- ]*(t\d{3}) bui/i, /(gigaset)[- ]+(q\w{1,9}) bui/i, /(vodafone) ([\w ]+)(?:\)| bui)/i], [p, d, [f, v]], [/(surface duo)/i], [d, [p, P], [f, v]], [/droid [\d\.]+; (fp\du?)(?: b|\))/i], [d, [p, "Fairphone"], [f, b]], [/(u304aa)/i], [d, [p, "AT&T"], [f, b]], [/\bsie-(\w*)/i], [d, [p, "Siemens"], [f, b]], [/\b(rct\w+) b/i], [d, [p, "RCA"], [f, v]], [/\b(venue[\d ]{2,7}) b/i], [d, [p, "Dell"], [f, v]], [/\b(q(?:mv|ta)\w+) b/i], [d, [p, "Verizon"], [f, v]], [/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i], [d, [p, "Barnes & Noble"], [f, v]], [/\b(tm\d{3}\w+) b/i], [d, [p, "NuVision"], [f, v]], [/\b(k88) b/i], [d, [p, "ZTE"], [f, v]], [/\b(nx\d{3}j) b/i], [d, [p, "ZTE"], [f, b]], [/\b(gen\d{3}) b.+49h/i], [d, [p, "Swiss"], [f, b]], [/\b(zur\d{3}) b/i], [d, [p, "Swiss"], [f, v]], [/\b((zeki)?tb.*\b) b/i], [d, [p, "Zeki"], [f, v]], [/\b([yr]\d{2}) b/i, /\b(dragon[- ]+touch |dt)(\w{5}) b/i], [[p, "Dragon Touch"], d, [f, v]], [/\b(ns-?\w{0,9}) b/i], [d, [p, "Insignia"], [f, v]], [/\b((nxa|next)-?\w{0,9}) b/i], [d, [p, "NextBook"], [f, v]], [/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i], [[p, "Voice"], d, [f, b]], [/\b(lvtel\-)?(v1[12]) b/i], [[p, "LvTel"], d, [f, b]], [/\b(ph-1) /i], [d, [p, "Essential"], [f, b]], [/\b(v(100md|700na|7011|917g).*\b) b/i], [d, [p, "Envizen"], [f, v]], [/\b(trio[-\w\. ]+) b/i], [d, [p, "MachSpeed"], [f, v]], [/\btu_(1491) b/i], [d, [p, "Rotor"], [f, v]], [/(shield[\w ]+) b/i], [d, [p, "Nvidia"], [f, v]], [/(sprint) (\w+)/i], [p, d, [f, b]], [/(kin\.[onetw]{3})/i], [[d, /\./g, " "], [p, P], [f, b]], [/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i], [d, [p, D], [f, v]], [/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i], [d, [p, D], [f, b]], [/smart-tv.+(samsung)/i], [p, [f, w]], [/hbbtv.+maple;(\d+)/i], [[d, /^/, "SmartTV"], [p, R], [f, w]], [/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i], [[p, N], [f, w]], [/(apple) ?tv/i], [p, [d, "Apple TV"], [f, w]], [/crkey/i], [[d, "Chromecast"], [p, I], [f, w]], [/droid.+aft(\w+)( bui|\))/i], [d, [p, _], [f, w]], [/\(dtv[\);].+(aquos)/i, /(aquos-tv[\w ]+)\)/i], [d, [p, j], [f, w]], [/(bravia[\w ]+)( bui|\))/i], [d, [p, $], [f, w]], [/(mitv-\w{5}) bui/i], [d, [p, L], [f, w]], [/Hbbtv.*(technisat) (.*);/i], [p, d, [f, w]], [/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i, /hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i], [[p, H], [d, H], [f, w]], [/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i], [[f, w]], [/(ouya)/i, /(nintendo) ([wids3utch]+)/i], [p, d, [f, y]], [/droid.+; (shield) bui/i], [d, [p, "Nvidia"], [f, y]], [/(playstation [345portablevi]+)/i], [d, [p, $], [f, y]], [/\b(xbox(?: one)?(?!; xbox))[\); ]/i], [d, [p, P], [f, y]], [/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i], [d, [p, R], [f, E]], [/((pebble))app/i], [p, d, [f, E]], [/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i], [d, [p, C], [f, E]], [/droid.+; (glass) \d/i], [d, [p, I], [f, E]], [/droid.+; (wt63?0{2,3})\)/i], [d, [p, D], [f, E]], [/(quest( \d| pro)?)/i], [d, [p, U], [f, E]], [/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i], [p, [f, x]], [/(aeobc)\b/i], [d, [p, _], [f, x]], [/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i], [d, [f, b]], [/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i], [d, [f, v]], [/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i], [[f, v]], [/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i], [[f, b]], [/(android[-\w\. ]{0,9});.+buil/i], [d, [p, "Generic"]]], engine: [[/windows.+ edge\/([\w\.]+)/i], [m, [h, "EdgeHTML"]], [/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i], [m, [h, "Blink"]], [/(presto)\/([\w\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i, /ekioh(flow)\/([\w\.]+)/i, /(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i, /(icab)[\/ ]([23]\.[\d\.]+)/i, /\b(libweb)/i], [h, m], [/rv\:([\w\.]{1,9})\b.+(gecko)/i], [m, h]], os: [[/microsoft (windows) (vista|xp)/i], [h, m], [/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i], [h, [m, V, K]], [/windows nt 6\.2; (arm)/i, /windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i, /(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i], [[m, V, K], [h, "Windows"]], [/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i, /(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i, /cfnetwork\/.+darwin/i], [[m, /_/g, "."], [h, "iOS"]], [/(mac os x) ?([\w\. ]*)/i, /(macintosh|mac_powerpc\b)(?!.+haiku)/i], [[h, B], [m, /_/g, "."]], [/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i], [m, h], [/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i, /(blackberry)\w*\/([\w\.]*)/i, /(tizen|kaios)[\/ ]([\w\.]+)/i, /\((series40);/i], [h, m], [/\(bb(10);/i], [m, [h, S]], [/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i], [m, [h, "Symbian"]], [/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i], [m, [h, "Firefox OS"]], [/web0s;.+rt(tv)/i, /\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i], [m, [h, "webOS"]], [/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i], [m, [h, "watchOS"]], [/crkey\/([\d\.]+)/i], [m, [h, "Chromecast"]], [/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i], [[h, F], m], [/panasonic;(viera)/i, /(netrange)mmh/i, /(nettv)\/(\d+\.[\w\.]+)/i, /(nintendo|playstation) ([wids345portablevuch]+)/i, /(xbox); +xbox ([^\);]+)/i, /\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i, /(mint)[\/\(\) ]?(\w*)/i, /(mageia|vectorlinux)[; ]/i, /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i, /(hurd|linux) ?([\w\.]*)/i, /(gnu) ?([\w\.]*)/i, /\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i, /(haiku) (\w+)/i], [h, m], [/(sunos) ?([\w\.\d]*)/i], [[h, "Solaris"], m], [/((?:open)?solaris)[-\/ ]?([\w\.]*)/i, /(aix) ((\d)(?=\.|\)| )[\w\.])*/i, /\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, /(unix) ?([\w\.]*)/i], [h, m]] }, Z = function (e, t) { if (typeof e === c && (t = e, e = o), !(this instanceof Z)) return new Z(e, t).getResult(); var n = typeof i !== a && i.navigator ? i.navigator : o, r = e || (n && n.userAgent ? n.userAgent : ""), u = n && n.userAgentData ? n.userAgentData : o, d = t ? function (e, t) { var n = {}; for (var r in e) t[r] && t[r].length % 2 === 0 ? n[r] = t[r].concat(e[r]) : n[r] = e[r]; return n }(Y, t) : Y, h = n && n.userAgent == r; return this.getBrowser = function () { var e, t = {}; return t.name = o, t.version = o, G.call(t, r, d.browser), t.major = typeof (e = t.version) === l ? e.replace(/[^\d\.]/g, "").split(".")[0] : o, h && n && n.brave && typeof n.brave.isBrave == s && (t.name = "Brave"), t }, this.getCPU = function () { var e = {}; return e.architecture = o, G.call(e, r, d.cpu), e }, this.getDevice = function () { var e = {}; return e.vendor = o, e.model = o, e.type = o, G.call(e, r, d.device), h && !e.type && u && u.mobile && (e.type = b), h && "Macintosh" == e.model && n && typeof n.standalone !== a && n.maxTouchPoints && n.maxTouchPoints > 2 && (e.model = "iPad", e.type = v), e }, this.getEngine = function () { var e = {}; return e.name = o, e.version = o, G.call(e, r, d.engine), e }, this.getOS = function () { var e = {}; return e.name = o, e.version = o, G.call(e, r, d.os), h && !e.name && u && u.platform && "Unknown" != u.platform && (e.name = u.platform.replace(/chrome os/i, F).replace(/macos/i, B)), e }, this.getResult = function () { return { ua: this.getUA(), browser: this.getBrowser(), engine: this.getEngine(), os: this.getOS(), device: this.getDevice(), cpu: this.getCPU() } }, this.getUA = function () { return r }, this.setUA = function (e) { return r = typeof e === l && e.length > 500 ? H(e, 500) : e, this }, this.setUA(r), this }; Z.VERSION = "1.0.39", Z.BROWSER = W([h, m, u]), Z.CPU = W([g]), Z.DEVICE = W([d, p, f, y, b, w, v, E, x]), Z.ENGINE = Z.OS = W([h, m]), typeof t !== a ? (e.exports && (t = e.exports = Z), t.UAParser = Z) : n.amdO ? (r = function () { return Z }.call(t, n, t, e)) === o || (e.exports = r) : typeof i !== a && (i.UAParser = Z); var X = typeof i !== a && (i.jQuery || i.Zepto); if (X && !X.ua) { var J = new Z; X.ua = J.getResult(), X.ua.get = function () { return J.getUA() }, X.ua.set = function (e) { J.setUA(e); var t = J.getResult(); for (var n in t) X.ua[n] = t[n] } } }("object" === typeof window ? window : this) }, 94927: function (e, t, n) { function r(e) { try { if (!n.g.localStorage) return !1 } catch (r) { return !1 } var t = n.g.localStorage[e]; return null != t && "true" === String(t).toLowerCase() } e.exports = function (e, t) { if (r("noDeprecation")) return e; var n = !1; return function () { if (!n) { if (r("throwDeprecation")) throw new Error(t); r("traceDeprecation") ? console.trace(t) : console.warn(t), n = !0 } return e.apply(this, arguments) } } }, 35883: function () { }, 36563: function () { }, 46601: function () { }, 89214: function () { }, 52361: function () { }, 94616: function () { }, 36559: function (e, t, n) { "use strict"; const r = n(85346); e.exports = s; const i = function () { function e(e) { return "undefined" !== typeof e && e } try { return "undefined" !== typeof globalThis || Object.defineProperty(Object.prototype, "globalThis", { get: function () { return delete Object.prototype.globalThis, this.globalThis = this }, configurable: !0 }), globalThis } catch (t) { return e(self) || e(window) || e(this) || {} } }().console || {}, o = { mapHttpRequest: p, mapHttpResponse: p, wrapRequestSerializer: m, wrapResponseSerializer: m, wrapErrorSerializer: m, req: p, res: p, err: function (e) { const t = { type: e.constructor.name, msg: e.message, stack: e.stack }; for (const n in e) void 0 === t[n] && (t[n] = e[n]); return t } }; function s(e) { (e = e || {}).browser = e.browser || {}; const t = e.browser.transmit; if (t && "function" !== typeof t.send) throw Error("pino: transmit option must have a send function"); const n = e.browser.write || i; e.browser.write && (e.browser.asObject = !0); const r = e.serializers || {}, o = function (e, t) { if (Array.isArray(e)) return e.filter((function (e) { return "!stdSerializers.err" !== e })); return !0 === e && Object.keys(t) }(e.browser.serialize, r); let c = e.browser.serialize; Array.isArray(e.browser.serialize) && e.browser.serialize.indexOf("!stdSerializers.err") > -1 && (c = !1); "function" === typeof n && (n.error = n.fatal = n.warn = n.info = n.debug = n.trace = n), !1 === e.enabled && (e.level = "silent"); const d = e.level || "info", p = Object.create(n); p.log || (p.log = g), Object.defineProperty(p, "levelVal", { get: function () { return "silent" === this.level ? 1 / 0 : this.levels.values[this.level] } }), Object.defineProperty(p, "level", { get: function () { return this._level }, set: function (e) { if ("silent" !== e && !this.levels.values[e]) throw Error("unknown level " + e); this._level = e, a(m, p, "error", "log"), a(m, p, "fatal", "error"), a(m, p, "warn", "error"), a(m, p, "info", "log"), a(m, p, "debug", "log"), a(m, p, "trace", "log") } }); const m = { transmit: t, serialize: o, asObject: e.browser.asObject, levels: ["error", "fatal", "warn", "info", "debug", "trace"], timestamp: f(e) }; return p.levels = s.levels, p.level = d, p.setMaxListeners = p.getMaxListeners = p.emit = p.addListener = p.on = p.prependListener = p.once = p.prependOnceListener = p.removeListener = p.removeAllListeners = p.listeners = p.listenerCount = p.eventNames = p.write = p.flush = g, p.serializers = r, p._serialize = o, p._stdErrSerialize = c, p.child = function (n, i) { if (!n) throw new Error("missing bindings for child Pino"); i = i || {}, o && n.serializers && (i.serializers = n.serializers); const s = i.serializers; if (o && s) { var a = Object.assign({}, r, s), c = !0 === e.browser.serialize ? Object.keys(a) : o; delete n.serializers, l([n], c, a, this._stdErrSerialize) } function d(e) { this._childLevel = 1 + (0 | e._childLevel), this.error = u(e, n, "error"), this.fatal = u(e, n, "fatal"), this.warn = u(e, n, "warn"), this.info = u(e, n, "info"), this.debug = u(e, n, "debug"), this.trace = u(e, n, "trace"), a && (this.serializers = a, this._serialize = c), t && (this._logEvent = h([].concat(e._logEvent.bindings, n))) } return d.prototype = this, new d(this) }, t && (p._logEvent = h()), p } function a(e, t, n, r) { const o = Object.getPrototypeOf(t); t[n] = t.levelVal > t.levels.values[n] ? g : o[n] ? o[n] : i[n] || i[r] || g, function (e, t, n) { if (!e.transmit && t[n] === g) return; t[n] = (r = t[n], function () { const o = e.timestamp(), a = new Array(arguments.length), u = Object.getPrototypeOf && Object.getPrototypeOf(this) === i ? i : this; for (var h = 0; h < a.length; h++)a[h] = arguments[h]; if (e.serialize && !e.asObject && l(a, this._serialize, this.serializers, this._stdErrSerialize), e.asObject ? r.call(u, c(this, n, a, o)) : r.apply(u, a), e.transmit) { const r = e.transmit.level || t.level, i = s.levels.values[r], c = s.levels.values[n]; if (c < i) return; d(this, { ts: o, methodLevel: n, methodValue: c, transmitLevel: r, transmitValue: s.levels.values[e.transmit.level || t.level], send: e.transmit.send, val: t.levelVal }, a) } }); var r }(e, t, n) } function c(e, t, n, i) { e._serialize && l(n, e._serialize, e.serializers, e._stdErrSerialize); const o = n.slice(); let a = o[0]; const c = {}; i && (c.time = i), c.level = s.levels.values[t]; let u = 1 + (0 | e._childLevel); if (u < 1 && (u = 1), null !== a && "object" === typeof a) { for (; u-- && "object" === typeof o[0];)Object.assign(c, o.shift()); a = o.length ? r(o.shift(), o) : void 0 } else "string" === typeof a && (a = r(o.shift(), o)); return void 0 !== a && (c.msg = a), c } function l(e, t, n, r) { for (const i in e) if (r && e[i] instanceof Error) e[i] = s.stdSerializers.err(e[i]); else if ("object" === typeof e[i] && !Array.isArray(e[i])) for (const r in e[i]) t && t.indexOf(r) > -1 && r in n && (e[i][r] = n[r](e[i][r])) } function u(e, t, n) { return function () { const r = new Array(1 + arguments.length); r[0] = t; for (var i = 1; i < r.length; i++)r[i] = arguments[i - 1]; return e[n].apply(this, r) } } function d(e, t, n) { const r = t.send, i = t.ts, o = t.methodLevel, s = t.methodValue, a = t.val, c = e._logEvent.bindings; l(n, e._serialize || Object.keys(e.serializers), e.serializers, void 0 === e._stdErrSerialize || e._stdErrSerialize), e._logEvent.ts = i, e._logEvent.messages = n.filter((function (e) { return -1 === c.indexOf(e) })), e._logEvent.level.label = o, e._logEvent.level.value = s, r(o, e._logEvent, a), e._logEvent = h(c) } function h(e) { return { ts: 0, messages: [], bindings: e || [], level: { label: "", value: 0 } } } function f(e) { return "function" === typeof e.timestamp ? e.timestamp : !1 === e.timestamp ? y : b } function p() { return {} } function m(e) { return e } function g() { } function y() { return !1 } function b() { return Date.now() } s.levels = { values: { fatal: 60, error: 50, warn: 40, info: 30, debug: 20, trace: 10 }, labels: { 10: "trace", 20: "debug", 30: "info", 40: "warn", 50: "error", 60: "fatal" } }, s.stdSerializers = o, s.stdTimeFunctions = Object.assign({}, { nullTime: y, epochTime: b, unixTime: function () { return Math.round(Date.now() / 1e3) }, isoTime: function () { return new Date(Date.now()).toISOString() } }) }, 57010: function (e, t, n) { "use strict"; n.d(t, { Mx: function () { return m }, D1: function () { return g }, Kd: function () { return y } }); var r = n(55525), i = n(27499); const o = BigInt(0), s = BigInt(1); function a(e, t) { const n = t.negate(); return e ? n : t } function c(e, t) { if (!Number.isSafeInteger(e) || e <= 0 || e > t) throw new Error("invalid window size, expected [1.." + t + "], got W=" + e) } function l(e, t) { c(e, t); return { windows: Math.ceil(t / e) + 1, windowSize: 2 ** (e - 1) } } function u(e, t) { if (!Array.isArray(e)) throw new Error("array expected"); e.forEach(((e, n) => { if (!(e instanceof t)) throw new Error("invalid point at index " + n) })) } function d(e, t) { if (!Array.isArray(e)) throw new Error("array of scalars expected"); e.forEach(((e, n) => { if (!t.isValid(e)) throw new Error("invalid scalar at index " + n) })) } const h = new WeakMap, f = new WeakMap; function p(e) { return f.get(e) || 1 } function m(e, t) { return { constTimeNegate: a, hasPrecomputes: e => 1 !== p(e), unsafeLadder(t, n, r = e.ZERO) { let i = t; for (; n > o;)n & s && (r = r.add(i)), i = i.double(), n >>= s; return r }, precomputeWindow(e, n) { const { windows: r, windowSize: i } = l(n, t), o = []; let s = e, a = s; for (let t = 0; t < r; t++) { a = s, o.push(a); for (let e = 1; e < i; e++)a = a.add(s), o.push(a); s = a.double() } return o }, wNAF(n, r, i) { const { windows: o, windowSize: c } = l(n, t); let u = e.ZERO, d = e.BASE; const h = BigInt(2 ** n - 1), f = 2 ** n, p = BigInt(n); for (let e = 0; e < o; e++) { const t = e * c; let n = Number(i & h); i >>= p, n > c && (n -= f, i += s); const o = t, l = t + Math.abs(n) - 1, m = e % 2 !== 0, g = n < 0; 0 === n ? d = d.add(a(m, r[o])) : u = u.add(a(g, r[l])) } return { p: u, f: d } }, wNAFUnsafe(n, r, i, a = e.ZERO) { const { windows: c, windowSize: u } = l(n, t), d = BigInt(2 ** n - 1), h = 2 ** n, f = BigInt(n); for (let e = 0; e < c; e++) { const t = e * u; if (i === o) break; let n = Number(i & d); if (i >>= f, n > u && (n -= h, i += s), 0 === n) continue; let c = r[t + Math.abs(n) - 1]; n < 0 && (c = c.negate()), a = a.add(c) } return a }, getPrecomputes(e, t, n) { let r = h.get(t); return r || (r = this.precomputeWindow(t, e), 1 !== e && h.set(t, n(r))), r }, wNAFCached(e, t, n) { const r = p(e); return this.wNAF(r, this.getPrecomputes(r, e, n), t) }, wNAFCachedUnsafe(e, t, n, r) { const i = p(e); return 1 === i ? this.unsafeLadder(e, t, r) : this.wNAFUnsafe(i, this.getPrecomputes(i, e, n), t, r) }, setWindowSize(e, n) { c(n, t), f.set(e, n), h.delete(e) } } } function g(e, t, n, r) { if (u(n, e), d(r, t), n.length !== r.length) throw new Error("arrays of points and scalars must have equal length"); const o = e.ZERO, s = (0, i.bitLen)(BigInt(n.length)), a = s > 12 ? s - 3 : s > 4 ? s - 2 : s ? 2 : 1, c = (1 << a) - 1, l = new Array(c + 1).fill(o); let h = o; for (let i = Math.floor((t.BITS - 1) / a) * a; i >= 0; i -= a) { l.fill(o); for (let t = 0; t < r.length; t++) { const e = r[t], o = Number(e >> BigInt(i) & BigInt(c)); l[o] = l[o].add(n[t]) } let e = o; for (let t = l.length - 1, n = o; t > 0; t--)n = n.add(l[t]), e = e.add(n); if (h = h.add(e), 0 !== i) for (let t = 0; t < a; t++)h = h.double() } return h } function y(e) { return (0, r.OP)(e.Fp), (0, i.validateObject)(e, { n: "bigint", h: "bigint", Gx: "field", Gy: "field" }, { nBitLength: "isSafeInteger", nByteLength: "isSafeInteger" }), Object.freeze({ ...(0, r.kK)(e.n, e.nBitLength), ...e, p: e.Fp.ORDER }) } }, 55525: function (e, t, n) { "use strict"; n.d(t, { wQ: function () { return d }, oA: function () { return f }, U_: function () { return p }, Tu: function () { return g }, OP: function () { return b }, kK: function () { return v }, gN: function () { return w }, PS: function () { return x }, Us: function () { return _ } }); var r = n(27499); const i = BigInt(0), o = BigInt(1), s = BigInt(2), a = BigInt(3), c = BigInt(4), l = BigInt(5), u = BigInt(8); function d(e, t) { const n = e % t; return n >= i ? n : t + n } function h(e, t, n) { if (t < i) throw new Error("invalid exponent, negatives unsupported"); if (n <= i) throw new Error("invalid modulus"); if (n === o) return i; let r = o; for (; t > i;)t & o && (r = r * e % n), e = e * e % n, t >>= o; return r } function f(e, t, n) { let r = e; for (; t-- > i;)r *= r, r %= n; return r } function p(e, t) { if (e === i) throw new Error("invert: expected non-zero number"); if (t <= i) throw new Error("invert: expected positive modulus, got " + t); let n = d(e, t), r = t, s = i, a = o, c = o, l = i; for (; n !== i;) { const e = r / n, t = r % n, i = s - c * e, o = a - l * e; r = n, n = t, s = c, a = l, c = i, l = o } if (r !== o) throw new Error("invert: does not exist"); return d(s, t) } function m(e) { if (e % c === a) { const t = (e + o) / c; return function (e, n) { const r = e.pow(n, t); if (!e.eql(e.sqr(r), n)) throw new Error("Cannot find square root"); return r } } if (e % u === l) { const t = (e - l) / u; return function (e, n) { const r = e.mul(n, s), i = e.pow(r, t), o = e.mul(n, i), a = e.mul(e.mul(o, s), i), c = e.mul(o, e.sub(a, e.ONE)); if (!e.eql(e.sqr(c), n)) throw new Error("Cannot find square root"); return c } } return function (e) { const t = (e - o) / s; let n, r, a; for (n = e - o, r = 0; n % s === i; n /= s, r++); for (a = s; a < e && h(a, t, e) !== e - o; a++)if (a > 1e3) throw new Error("Cannot find square root: likely non-prime P"); if (1 === r) { const t = (e + o) / c; return function (e, n) { const r = e.pow(n, t); if (!e.eql(e.sqr(r), n)) throw new Error("Cannot find square root"); return r } } const l = (n + o) / s; return function (e, i) { if (e.pow(i, t) === e.neg(e.ONE)) throw new Error("Cannot find square root"); let s = r, c = e.pow(e.mul(e.ONE, a), n), u = e.pow(i, l), d = e.pow(i, n); for (; !e.eql(d, e.ONE);) { if (e.eql(d, e.ZERO)) return e.ZERO; let t = 1; for (let r = e.sqr(d); t < s && !e.eql(r, e.ONE); t++)r = e.sqr(r); const n = e.pow(c, o << BigInt(s - t - 1)); c = e.sqr(n), u = e.mul(u, n), d = e.mul(d, c), s = t } return u } }(e) } const g = (e, t) => (d(e, t) & o) === o, y = ["create", "isValid", "is0", "neg", "inv", "sqrt", "sqr", "eql", "add", "sub", "mul", "pow", "div", "addN", "subN", "mulN", "sqrN"]; function b(e) { const t = y.reduce(((e, t) => (e[t] = "function", e)), { ORDER: "bigint", MASK: "bigint", BYTES: "isSafeInteger", BITS: "isSafeInteger" }); return (0, r.validateObject)(e, t) } function v(e, t) { const n = void 0 !== t ? t : e.toString(2).length; return { nBitLength: n, nByteLength: Math.ceil(n / 8) } } function w(e, t, n = !1, s = {}) { if (e <= i) throw new Error("invalid field: expected ORDER > 0, got " + e); const { nBitLength: a, nByteLength: c } = v(e, t); if (c > 2048) throw new Error("invalid field: expected ORDER of <= 2048 bytes"); let l; const u = Object.freeze({ ORDER: e, BITS: a, BYTES: c, MASK: (0, r.bitMask)(a), ZERO: i, ONE: o, create: t => d(t, e), isValid: t => { if ("bigint" !== typeof t) throw new Error("invalid field element: expected bigint, got " + typeof t); return i <= t && t < e }, is0: e => e === i, isOdd: e => (e & o) === o, neg: t => d(-t, e), eql: (e, t) => e === t, sqr: t => d(t * t, e), add: (t, n) => d(t + n, e), sub: (t, n) => d(t - n, e), mul: (t, n) => d(t * n, e), pow: (e, t) => function (e, t, n) { if (n < i) throw new Error("invalid exponent, negatives unsupported"); if (n === i) return e.ONE; if (n === o) return t; let r = e.ONE, s = t; for (; n > i;)n & o && (r = e.mul(r, s)), s = e.sqr(s), n >>= o; return r }(u, e, t), div: (t, n) => d(t * p(n, e), e), sqrN: e => e * e, addN: (e, t) => e + t, subN: (e, t) => e - t, mulN: (e, t) => e * t, inv: t => p(t, e), sqrt: s.sqrt || (t => (l || (l = m(e)), l(u, t))), invertBatch: e => function (e, t) { const n = new Array(t.length), r = t.reduce(((t, r, i) => e.is0(r) ? t : (n[i] = t, e.mul(t, r))), e.ONE), i = e.inv(r); return t.reduceRight(((t, r, i) => e.is0(r) ? t : (n[i] = e.mul(t, n[i]), e.mul(t, r))), i), n }(u, e), cmov: (e, t, n) => n ? t : e, toBytes: e => n ? (0, r.numberToBytesLE)(e, c) : (0, r.numberToBytesBE)(e, c), fromBytes: e => { if (e.length !== c) throw new Error("Field.fromBytes: expected " + c + " bytes, got " + e.length); return n ? (0, r.bytesToNumberLE)(e) : (0, r.bytesToNumberBE)(e) } }); return Object.freeze(u) } function E(e) { if ("bigint" !== typeof e) throw new Error("field order must be bigint"); const t = e.toString(2).length; return Math.ceil(t / 8) } function x(e) { const t = E(e); return t + Math.ceil(t / 2) } function _(e, t, n = !1) { const i = e.length, s = E(t), a = x(t); if (i < 16 || i < a || i > 1024) throw new Error("expected " + a + "-1024 bytes of input, got " + i); const c = d(n ? (0, r.bytesToNumberBE)(e) : (0, r.bytesToNumberLE)(e), t - o) + o; return n ? (0, r.numberToBytesLE)(c, s) : (0, r.numberToBytesBE)(c, s) } }, 27499: function (e, t, n) { "use strict"; n.r(t), n.d(t, { isBytes: function () { return s }, abytes: function () { return a }, abool: function () { return c }, bytesToHex: function () { return u }, numberToHexUnpadded: function () { return d }, hexToNumber: function () { return h }, hexToBytes: function () { return w }, bytesToNumberBE: function () { return E }, bytesToNumberLE: function () { return x }, numberToBytesBE: function () { return _ }, numberToBytesLE: function () { return C }, numberToVarBytesBE: function () { return A }, ensureBytes: function () { return S }, concatBytes: function () { return k }, equalBytes: function () { return I }, utf8ToBytes: function () { return T }, inRange: function () { return P }, aInRange: function () { return M }, bitLen: function () { return O }, bitGet: function () { return R }, bitSet: function () { return j }, bitMask: function () { return $ }, createHmacDrbg: function () { return U }, validateObject: function () { return B }, notImplemented: function () { return W }, memoized: function () { return z } }); const r = BigInt(0), i = BigInt(1), o = BigInt(2); function s(e) { return e instanceof Uint8Array || ArrayBuffer.isView(e) && "Uint8Array" === e.constructor.name } function a(e) { if (!s(e)) throw new Error("Uint8Array expected") } function c(e, t) { if ("boolean" !== typeof t) throw new Error(e + " boolean expected, got " + t) } const l = Array.from({ length: 256 }, ((e, t) => t.toString(16).padStart(2, "0"))); function u(e) { a(e); let t = ""; for (let n = 0; n < e.length; n++)t += l[e[n]]; return t } function d(e) { const t = e.toString(16); return 1 & t.length ? "0" + t : t } function h(e) { if ("string" !== typeof e) throw new Error("hex string expected, got " + typeof e); return "" === e ? r : BigInt("0x" + e) } const f = 48, p = 57, m = 65, g = 70, y = 97, b = 102; function v(e) { return e >= f && e <= p ? e - f : e >= m && e <= g ? e - (m - 10) : e >= y && e <= b ? e - (y - 10) : void 0 } function w(e) { if ("string" !== typeof e) throw new Error("hex string expected, got " + typeof e); const t = e.length, n = t / 2; if (t % 2) throw new Error("hex string expected, got unpadded hex of length " + t); const r = new Uint8Array(n); for (let i = 0, o = 0; i < n; i++, o += 2) { const t = v(e.charCodeAt(o)), n = v(e.charCodeAt(o + 1)); if (void 0 === t || void 0 === n) { const t = e[o] + e[o + 1]; throw new Error('hex string expected, got non-hex character "' + t + '" at index ' + o) } r[i] = 16 * t + n } return r } function E(e) { return h(u(e)) } function x(e) { return a(e), h(u(Uint8Array.from(e).reverse())) } function _(e, t) { return w(e.toString(16).padStart(2 * t, "0")) } function C(e, t) { return _(e, t).reverse() } function A(e) { return w(d(e)) } function S(e, t, n) { let r; if ("string" === typeof t) try { r = w(t) } catch (o) { throw new Error(e + " must be hex string or Uint8Array, cause: " + o) } else { if (!s(t)) throw new Error(e + " must be hex string or Uint8Array"); r = Uint8Array.from(t) } const i = r.length; if ("number" === typeof n && i !== n) throw new Error(e + " of length " + n + " expected, got " + i); return r } function k(...e) { let t = 0; for (let r = 0; r < e.length; r++) { const n = e[r]; a(n), t += n.length } const n = new Uint8Array(t); for (let r = 0, i = 0; r < e.length; r++) { const t = e[r]; n.set(t, i), i += t.length } return n } function I(e, t) { if (e.length !== t.length) return !1; let n = 0; for (let r = 0; r < e.length; r++)n |= e[r] ^ t[r]; return 0 === n } function T(e) { if ("string" !== typeof e) throw new Error("string expected"); return new Uint8Array((new TextEncoder).encode(e)) } const N = e => "bigint" === typeof e && r <= e; function P(e, t, n) { return N(e) && N(t) && N(n) && t <= e && e < n } function M(e, t, n, r) { if (!P(t, n, r)) throw new Error("expected valid " + e + ": " + n + " <= n < " + r + ", got " + t) } function O(e) { let t; for (t = 0; e > r; e >>= i, t += 1); return t } function R(e, t) { return e >> BigInt(t) & i } function j(e, t, n) { return e | (n ? i : r) << BigInt(t) } const $ = e => (o << BigInt(e - 1)) - i, L = e => new Uint8Array(e), D = e => Uint8Array.from(e); function U(e, t, n) { if ("number" !== typeof e || e < 2) throw new Error("hashLen must be a number"); if ("number" !== typeof t || t < 2) throw new Error("qByteLen must be a number"); if ("function" !== typeof n) throw new Error("hmacFn must be a function"); let r = L(e), i = L(e), o = 0; const s = () => { r.fill(1), i.fill(0), o = 0 }, a = (...e) => n(i, r, ...e), c = (e = L()) => { i = a(D([0]), e), r = a(), 0 !== e.length && (i = a(D([1]), e), r = a()) }, l = () => { if (o++ >= 1e3) throw new Error("drbg: tried 1000 values"); let e = 0; const n = []; for (; e < t;) { r = a(); const t = r.slice(); n.push(t), e += r.length } return k(...n) }; return (e, t) => { let n; for (s(), c(e); !(n = t(l()));)c(); return s(), n } } const F = { bigint: e => "bigint" === typeof e, function: e => "function" === typeof e, boolean: e => "boolean" === typeof e, string: e => "string" === typeof e, stringOrUint8Array: e => "string" === typeof e || s(e), isSafeInteger: e => Number.isSafeInteger(e), array: e => Array.isArray(e), field: (e, t) => t.Fp.isValid(e), hash: e => "function" === typeof e && Number.isSafeInteger(e.outputLen) }; function B(e, t, n = {}) { const r = (t, n, r) => { const i = F[n]; if ("function" !== typeof i) throw new Error("invalid validator function"); const o = e[t]; if ((!r || void 0 !== o) && !i(o, e)) throw new Error("param " + String(t) + " is invalid. Expected " + n + ", got " + o) }; for (const [i, o] of Object.entries(t)) r(i, o, !1); for (const [i, o] of Object.entries(n)) r(i, o, !0); return e } const W = () => { throw new Error("not implemented") }; function z(e) { const t = new WeakMap; return (n, ...r) => { const i = t.get(n); if (void 0 !== i) return i; const o = e(n, ...r); return t.set(n, o), o } } }, 84083: function (e, t, n) { "use strict"; n.r(t), n.d(t, { encodeToCurve: function () { return ce }, hashToCurve: function () { return ae }, schnorr: function () { return re }, secp256k1: function () { return B } }); var r = n(94922), i = n(44328); const o = new Uint32Array([1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298]), s = new Uint32Array([1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225]), a = new Uint32Array(64); class c extends r.VR { constructor() { super(64, 32, 8, !1), this.A = 0 | s[0], this.B = 0 | s[1], this.C = 0 | s[2], this.D = 0 | s[3], this.E = 0 | s[4], this.F = 0 | s[5], this.G = 0 | s[6], this.H = 0 | s[7] } get() { const { A: e, B: t, C: n, D: r, E: i, F: o, G: s, H: a } = this; return [e, t, n, r, i, o, s, a] } set(e, t, n, r, i, o, s, a) { this.A = 0 | e, this.B = 0 | t, this.C = 0 | n, this.D = 0 | r, this.E = 0 | i, this.F = 0 | o, this.G = 0 | s, this.H = 0 | a } process(e, t) { for (let r = 0; r < 16; r++, t += 4)a[r] = e.getUint32(t, !1); for (let r = 16; r < 64; r++) { const e = a[r - 15], t = a[r - 2], n = (0, i.np)(e, 7) ^ (0, i.np)(e, 18) ^ e >>> 3, o = (0, i.np)(t, 17) ^ (0, i.np)(t, 19) ^ t >>> 10; a[r] = o + a[r - 7] + n + a[r - 16] | 0 } let { A: n, B: s, C: c, D: l, E: u, F: d, G: h, H: f } = this; for (let p = 0; p < 64; p++) { const e = f + ((0, i.np)(u, 6) ^ (0, i.np)(u, 11) ^ (0, i.np)(u, 25)) + (0, r.bc)(u, d, h) + o[p] + a[p] | 0, t = ((0, i.np)(n, 2) ^ (0, i.np)(n, 13) ^ (0, i.np)(n, 22)) + (0, r.l3)(n, s, c) | 0; f = h, h = d, d = u, u = l + e | 0, l = c, c = s, s = n, n = e + t | 0 } n = n + this.A | 0, s = s + this.B | 0, c = c + this.C | 0, l = l + this.D | 0, u = u + this.E | 0, d = d + this.F | 0, h = h + this.G | 0, f = f + this.H | 0, this.set(n, s, c, l, u, d, h, f) } roundClean() { a.fill(0) } destroy() { this.set(0, 0, 0, 0, 0, 0, 0, 0), this.buffer.fill(0) } } const l = (0, i.hE)((() => new c)); var u = n(26032); class d extends i.kb { constructor(e, t) { super(), this.finished = !1, this.destroyed = !1, (0, u.z3)(e); const n = (0, i.O0)(t); if (this.iHash = e.create(), "function" !== typeof this.iHash.update) throw new Error("Expected instance of class which extends utils.Hash"); this.blockLen = this.iHash.blockLen, this.outputLen = this.iHash.outputLen; const r = this.blockLen, o = new Uint8Array(r); o.set(n.length > r ? e.create().update(n).digest() : n); for (let i = 0; i < o.length; i++)o[i] ^= 54; this.iHash.update(o), this.oHash = e.create(); for (let i = 0; i < o.length; i++)o[i] ^= 106; this.oHash.update(o), o.fill(0) } update(e) { return (0, u.$h)(this), this.iHash.update(e), this } digestInto(e) { (0, u.$h)(this), (0, u.gk)(e, this.outputLen), this.finished = !0, this.iHash.digestInto(e), this.oHash.update(e), this.oHash.digestInto(e), this.destroy() } digest() { const e = new Uint8Array(this.oHash.outputLen); return this.digestInto(e), e } _cloneInto(e) { e || (e = Object.create(Object.getPrototypeOf(this), {})); const { oHash: t, iHash: n, finished: r, destroyed: i, blockLen: o, outputLen: s } = this; return (e = e).finished = r, e.destroyed = i, e.blockLen = o, e.outputLen = s, e.oHash = t._cloneInto(e.oHash), e.iHash = n._cloneInto(e.iHash), e } destroy() { this.destroyed = !0, this.oHash.destroy(), this.iHash.destroy() } } const h = (e, t, n) => new d(e, t).update(n).digest(); h.create = (e, t) => new d(e, t); var f = n(57010), p = n(55525), m = n(27499); function g(e) { void 0 !== e.lowS && (0, m.abool)("lowS", e.lowS), void 0 !== e.prehash && (0, m.abool)("prehash", e.prehash) } const { bytesToNumberBE: y, hexToBytes: b } = m, v = { Err: class extends Error { constructor(e = "") { super(e) } }, _tlv: { encode: (e, t) => { const { Err: n } = v; if (e < 0 || e > 256) throw new n("tlv.encode: wrong tag"); if (1 & t.length) throw new n("tlv.encode: unpadded data"); const r = t.length / 2, i = m.numberToHexUnpadded(r); if (i.length / 2 & 128) throw new n("tlv.encode: long form length too big"); const o = r > 127 ? m.numberToHexUnpadded(i.length / 2 | 128) : ""; return m.numberToHexUnpadded(e) + o + i + t }, decode(e, t) { const { Err: n } = v; let r = 0; if (e < 0 || e > 256) throw new n("tlv.encode: wrong tag"); if (t.length < 2 || t[r++] !== e) throw new n("tlv.decode: wrong tlv"); const i = t[r++]; let o = 0; if (!!(128 & i)) { const e = 127 & i; if (!e) throw new n("tlv.decode(long): indefinite length not supported"); if (e > 4) throw new n("tlv.decode(long): byte length is too big"); const s = t.subarray(r, r + e); if (s.length !== e) throw new n("tlv.decode: length bytes not complete"); if (0 === s[0]) throw new n("tlv.decode(long): zero leftmost byte"); for (const t of s) o = o << 8 | t; if (r += e, o < 128) throw new n("tlv.decode(long): not minimal encoding") } else o = i; const s = t.subarray(r, r + o); if (s.length !== o) throw new n("tlv.decode: wrong value length"); return { v: s, l: t.subarray(r + o) } } }, _int: { encode(e) { const { Err: t } = v; if (e < w) throw new t("integer: negative integers are not allowed"); let n = m.numberToHexUnpadded(e); if (8 & Number.parseInt(n[0], 16) && (n = "00" + n), 1 & n.length) throw new t("unexpected DER parsing assertion: unpadded hex"); return n }, decode(e) { const { Err: t } = v; if (128 & e[0]) throw new t("invalid signature integer: negative"); if (0 === e[0] && !(128 & e[1])) throw new t("invalid signature integer: unnecessary leading zero"); return y(e) } }, toSig(e) { const { Err: t, _int: n, _tlv: r } = v, i = "string" === typeof e ? b(e) : e; m.abytes(i); const { v: o, l: s } = r.decode(48, i); if (s.length) throw new t("invalid signature: left bytes after parsing"); const { v: a, l: c } = r.decode(2, o), { v: l, l: u } = r.decode(2, c); if (u.length) throw new t("invalid signature: left bytes after parsing"); return { r: n.decode(a), s: n.decode(l) } }, hexFromSig(e) { const { _tlv: t, _int: n } = v, r = t.encode(2, n.encode(e.r)) + t.encode(2, n.encode(e.s)); return t.encode(48, r) } }, w = BigInt(0), E = BigInt(1), x = BigInt(2), _ = BigInt(3), C = BigInt(4); function A(e) { const t = function (e) { const t = (0, f.Kd)(e); m.validateObject(t, { a: "field", b: "field" }, { allowedPrivateKeyLengths: "array", wrapPrivateKey: "boolean", isTorsionFree: "function", clearCofactor: "function", allowInfinityPoint: "boolean", fromBytes: "function", toBytes: "function" }); const { endo: n, Fp: r, a: i } = t; if (n) { if (!r.eql(i, r.ZERO)) throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0"); if ("object" !== typeof n || "bigint" !== typeof n.beta || "function" !== typeof n.splitScalar) throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function") } return Object.freeze({ ...t }) }(e), { Fp: n } = t, r = p.gN(t.n, t.nBitLength), i = t.toBytes || ((e, t, r) => { const i = t.toAffine(); return m.concatBytes(Uint8Array.from([4]), n.toBytes(i.x), n.toBytes(i.y)) }), o = t.fromBytes || (e => { const t = e.subarray(1); return { x: n.fromBytes(t.subarray(0, n.BYTES)), y: n.fromBytes(t.subarray(n.BYTES, 2 * n.BYTES)) } }); function s(e) { const { a: r, b: i } = t, o = n.sqr(e), s = n.mul(o, e); return n.add(n.add(s, n.mul(e, r)), i) } if (!n.eql(n.sqr(t.Gy), s(t.Gx))) throw new Error("bad generator point: equation left != right"); function a(e) { const { allowedPrivateKeyLengths: n, nByteLength: r, wrapPrivateKey: i, n: o } = t; if (n && "bigint" !== typeof e) { if (m.isBytes(e) && (e = m.bytesToHex(e)), "string" !== typeof e || !n.includes(e.length)) throw new Error("invalid private key"); e = e.padStart(2 * r, "0") } let s; try { s = "bigint" === typeof e ? e : m.bytesToNumberBE((0, m.ensureBytes)("private key", e, r)) } catch (a) { throw new Error("invalid private key, expected hex or " + r + " bytes, got " + typeof e) } return i && (s = p.wQ(s, o)), m.aInRange("private key", s, E, o), s } function c(e) { if (!(e instanceof d)) throw new Error("ProjectivePoint expected") } const l = (0, m.memoized)(((e, t) => { const { px: r, py: i, pz: o } = e; if (n.eql(o, n.ONE)) return { x: r, y: i }; const s = e.is0(); null == t && (t = s ? n.ONE : n.inv(o)); const a = n.mul(r, t), c = n.mul(i, t), l = n.mul(o, t); if (s) return { x: n.ZERO, y: n.ZERO }; if (!n.eql(l, n.ONE)) throw new Error("invZ was invalid"); return { x: a, y: c } })), u = (0, m.memoized)((e => { if (e.is0()) { if (t.allowInfinityPoint && !n.is0(e.py)) return; throw new Error("bad point: ZERO") } const { x: r, y: i } = e.toAffine(); if (!n.isValid(r) || !n.isValid(i)) throw new Error("bad point: x or y not FE"); const o = n.sqr(i), a = s(r); if (!n.eql(o, a)) throw new Error("bad point: equation left != right"); if (!e.isTorsionFree()) throw new Error("bad point: not in prime-order subgroup"); return !0 })); class d { constructor(e, t, r) { if (this.px = e, this.py = t, this.pz = r, null == e || !n.isValid(e)) throw new Error("x required"); if (null == t || !n.isValid(t)) throw new Error("y required"); if (null == r || !n.isValid(r)) throw new Error("z required"); Object.freeze(this) } static fromAffine(e) { const { x: t, y: r } = e || {}; if (!e || !n.isValid(t) || !n.isValid(r)) throw new Error("invalid affine point"); if (e instanceof d) throw new Error("projective point not allowed"); const i = e => n.eql(e, n.ZERO); return i(t) && i(r) ? d.ZERO : new d(t, r, n.ONE) } get x() { return this.toAffine().x } get y() { return this.toAffine().y } static normalizeZ(e) { const t = n.invertBatch(e.map((e => e.pz))); return e.map(((e, n) => e.toAffine(t[n]))).map(d.fromAffine) } static fromHex(e) { const t = d.fromAffine(o((0, m.ensureBytes)("pointHex", e))); return t.assertValidity(), t } static fromPrivateKey(e) { return d.BASE.multiply(a(e)) } static msm(e, t) { return (0, f.D1)(d, r, e, t) } _setWindowSize(e) { g.setWindowSize(this, e) } assertValidity() { u(this) } hasEvenY() { const { y: e } = this.toAffine(); if (n.isOdd) return !n.isOdd(e); throw new Error("Field doesn't support isOdd") } equals(e) { c(e); const { px: t, py: r, pz: i } = this, { px: o, py: s, pz: a } = e, l = n.eql(n.mul(t, a), n.mul(o, i)), u = n.eql(n.mul(r, a), n.mul(s, i)); return l && u } negate() { return new d(this.px, n.neg(this.py), this.pz) } double() { const { a: e, b: r } = t, i = n.mul(r, _), { px: o, py: s, pz: a } = this; let c = n.ZERO, l = n.ZERO, u = n.ZERO, h = n.mul(o, o), f = n.mul(s, s), p = n.mul(a, a), m = n.mul(o, s); return m = n.add(m, m), u = n.mul(o, a), u = n.add(u, u), c = n.mul(e, u), l = n.mul(i, p), l = n.add(c, l), c = n.sub(f, l), l = n.add(f, l), l = n.mul(c, l), c = n.mul(m, c), u = n.mul(i, u), p = n.mul(e, p), m = n.sub(h, p), m = n.mul(e, m), m = n.add(m, u), u = n.add(h, h), h = n.add(u, h), h = n.add(h, p), h = n.mul(h, m), l = n.add(l, h), p = n.mul(s, a), p = n.add(p, p), h = n.mul(p, m), c = n.sub(c, h), u = n.mul(p, f), u = n.add(u, u), u = n.add(u, u), new d(c, l, u) } add(e) { c(e); const { px: r, py: i, pz: o } = this, { px: s, py: a, pz: l } = e; let u = n.ZERO, h = n.ZERO, f = n.ZERO; const p = t.a, m = n.mul(t.b, _); let g = n.mul(r, s), y = n.mul(i, a), b = n.mul(o, l), v = n.add(r, i), w = n.add(s, a); v = n.mul(v, w), w = n.add(g, y), v = n.sub(v, w), w = n.add(r, o); let E = n.add(s, l); return w = n.mul(w, E), E = n.add(g, b), w = n.sub(w, E), E = n.add(i, o), u = n.add(a, l), E = n.mul(E, u), u = n.add(y, b), E = n.sub(E, u), f = n.mul(p, w), u = n.mul(m, b), f = n.add(u, f), u = n.sub(y, f), f = n.add(y, f), h = n.mul(u, f), y = n.add(g, g), y = n.add(y, g), b = n.mul(p, b), w = n.mul(m, w), y = n.add(y, b), b = n.sub(g, b), b = n.mul(p, b), w = n.add(w, b), g = n.mul(y, w), h = n.add(h, g), g = n.mul(E, w), u = n.mul(v, u), u = n.sub(u, g), g = n.mul(v, y), f = n.mul(E, f), f = n.add(f, g), new d(u, h, f) } subtract(e) { return this.add(e.negate()) } is0() { return this.equals(d.ZERO) } wNAF(e) { return g.wNAFCached(this, e, d.normalizeZ) } multiplyUnsafe(e) { const { endo: r, n: i } = t; m.aInRange("scalar", e, w, i); const o = d.ZERO; if (e === w) return o; if (this.is0() || e === E) return this; if (!r || g.hasPrecomputes(this)) return g.wNAFCachedUnsafe(this, e, d.normalizeZ); let { k1neg: s, k1: a, k2neg: c, k2: l } = r.splitScalar(e), u = o, h = o, f = this; for (; a > w || l > w;)a & E && (u = u.add(f)), l & E && (h = h.add(f)), f = f.double(), a >>= E, l >>= E; return s && (u = u.negate()), c && (h = h.negate()), h = new d(n.mul(h.px, r.beta), h.py, h.pz), u.add(h) } multiply(e) { const { endo: r, n: i } = t; let o, s; if (m.aInRange("scalar", e, E, i), r) { const { k1neg: t, k1: i, k2neg: a, k2: c } = r.splitScalar(e); let { p: l, f: u } = this.wNAF(i), { p: h, f: f } = this.wNAF(c); l = g.constTimeNegate(t, l), h = g.constTimeNegate(a, h), h = new d(n.mul(h.px, r.beta), h.py, h.pz), o = l.add(h), s = u.add(f) } else { const { p: t, f: n } = this.wNAF(e); o = t, s = n } return d.normalizeZ([o, s])[0] } multiplyAndAddUnsafe(e, t, n) { const r = d.BASE, i = (e, t) => t !== w && t !== E && e.equals(r) ? e.multiply(t) : e.multiplyUnsafe(t), o = i(this, t).add(i(e, n)); return o.is0() ? void 0 : o } toAffine(e) { return l(this, e) } isTorsionFree() { const { h: e, isTorsionFree: n } = t; if (e === E) return !0; if (n) return n(d, this); throw new Error("isTorsionFree() has not been declared for the elliptic curve") } clearCofactor() { const { h: e, clearCofactor: n } = t; return e === E ? this : n ? n(d, this) : this.multiplyUnsafe(t.h) } toRawBytes(e = !0) { return (0, m.abool)("isCompressed", e), this.assertValidity(), i(d, this, e) } toHex(e = !0) { return (0, m.abool)("isCompressed", e), m.bytesToHex(this.toRawBytes(e)) } } d.BASE = new d(t.Gx, t.Gy, n.ONE), d.ZERO = new d(n.ZERO, n.ONE, n.ZERO); const h = t.nBitLength, g = (0, f.Mx)(d, t.endo ? Math.ceil(h / 2) : h); return { CURVE: t, ProjectivePoint: d, normPrivateKeyToScalar: a, weierstrassEquation: s, isWithinCurveOrder: function (e) { return m.inRange(e, E, t.n) } } } function S(e) { const t = function (e) { const t = (0, f.Kd)(e); return m.validateObject(t, { hash: "hash", hmac: "function", randomBytes: "function" }, { bits2int: "function", bits2int_modN: "function", lowS: "boolean" }), Object.freeze({ lowS: !0, ...t }) }(e), { Fp: n, n: r } = t, i = n.BYTES + 1, o = 2 * n.BYTES + 1; function s(e) { return p.wQ(e, r) } function a(e) { return p.U_(e, r) } const { ProjectivePoint: c, normPrivateKeyToScalar: l, weierstrassEquation: u, isWithinCurveOrder: d } = A({ ...t, toBytes(e, t, r) { const i = t.toAffine(), o = n.toBytes(i.x), s = m.concatBytes; return (0, m.abool)("isCompressed", r), r ? s(Uint8Array.from([t.hasEvenY() ? 2 : 3]), o) : s(Uint8Array.from([4]), o, n.toBytes(i.y)) }, fromBytes(e) { const t = e.length, r = e[0], s = e.subarray(1); if (t !== i || 2 !== r && 3 !== r) { if (t === o && 4 === r) { return { x: n.fromBytes(s.subarray(0, n.BYTES)), y: n.fromBytes(s.subarray(n.BYTES, 2 * n.BYTES)) } } throw new Error("invalid Point, expected length of " + i + ", or uncompressed " + o + ", got " + t) } { const e = m.bytesToNumberBE(s); if (!m.inRange(e, E, n.ORDER)) throw new Error("Point is not on curve"); const t = u(e); let i; try { i = n.sqrt(t) } catch (a) { const e = a instanceof Error ? ": " + a.message : ""; throw new Error("Point is not on curve" + e) } return 1 === (1 & r) !== ((i & E) === E) && (i = n.neg(i)), { x: e, y: i } } } }), h = e => m.bytesToHex(m.numberToBytesBE(e, t.nByteLength)); function y(e) { return e > r >> E } const b = (e, t, n) => m.bytesToNumberBE(e.slice(t, n)); class x { constructor(e, t, n) { this.r = e, this.s = t, this.recovery = n, this.assertValidity() } static fromCompact(e) { const n = t.nByteLength; return e = (0, m.ensureBytes)("compactSignature", e, 2 * n), new x(b(e, 0, n), b(e, n, 2 * n)) } static fromDER(e) { const { r: t, s: n } = v.toSig((0, m.ensureBytes)("DER", e)); return new x(t, n) } assertValidity() { m.aInRange("r", this.r, E, r), m.aInRange("s", this.s, E, r) } addRecoveryBit(e) { return new x(this.r, this.s, e) } recoverPublicKey(e) { const { r: r, s: i, recovery: o } = this, l = k((0, m.ensureBytes)("msgHash", e)); if (null == o || ![0, 1, 2, 3].includes(o)) throw new Error("recovery id invalid"); const u = 2 === o || 3 === o ? r + t.n : r; if (u >= n.ORDER) throw new Error("recovery id 2 or 3 invalid"); const d = 0 === (1 & o) ? "02" : "03", f = c.fromHex(d + h(u)), p = a(u), g = s(-l * p), y = s(i * p), b = c.BASE.multiplyAndAddUnsafe(f, g, y); if (!b) throw new Error("point at infinify"); return b.assertValidity(), b } hasHighS() { return y(this.s) } normalizeS() { return this.hasHighS() ? new x(this.r, s(-this.s), this.recovery) : this } toDERRawBytes() { return m.hexToBytes(this.toDERHex()) } toDERHex() { return v.hexFromSig({ r: this.r, s: this.s }) } toCompactRawBytes() { return m.hexToBytes(this.toCompactHex()) } toCompactHex() { return h(this.r) + h(this.s) } } const _ = { isValidPrivateKey(e) { try { return l(e), !0 } catch (t) { return !1 } }, normPrivateKeyToScalar: l, randomPrivateKey: () => { const e = p.PS(t.n); return p.Us(t.randomBytes(e), t.n) }, precompute: (e = 8, t = c.BASE) => (t._setWindowSize(e), t.multiply(BigInt(3)), t) }; function C(e) { const t = m.isBytes(e), n = "string" === typeof e, r = (t || n) && e.length; return t ? r === i || r === o : n ? r === 2 * i || r === 2 * o : e instanceof c } const S = t.bits2int || function (e) { if (e.length > 8192) throw new Error("input is too large"); const n = m.bytesToNumberBE(e), r = 8 * e.length - t.nBitLength; return r > 0 ? n >> BigInt(r) : n }, k = t.bits2int_modN || function (e) { return s(S(e)) }, I = m.bitMask(t.nBitLength); function T(e) { return m.aInRange("num < 2^" + t.nBitLength, e, w, I), m.numberToBytesBE(e, t.nByteLength) } function N(e, r, i = P) { if (["recovered", "canonical"].some((e => e in i))) throw new Error("sign() legacy options not supported"); const { hash: o, randomBytes: u } = t; let { lowS: h, prehash: f, extraEntropy: p } = i; null == h && (h = !0), e = (0, m.ensureBytes)("msgHash", e), g(i), f && (e = (0, m.ensureBytes)("prehashed msgHash", o(e))); const b = k(e), v = l(r), _ = [T(v), T(b)]; if (null != p && !1 !== p) { const e = !0 === p ? u(n.BYTES) : p; _.push((0, m.ensureBytes)("extraEntropy", e)) } const C = m.concatBytes(..._), A = b; return { seed: C, k2sig: function (e) { const t = S(e); if (!d(t)) return; const n = a(t), r = c.BASE.multiply(t).toAffine(), i = s(r.x); if (i === w) return; const o = s(n * s(A + i * v)); if (o === w) return; let l = (r.x === i ? 0 : 2) | Number(r.y & E), u = o; return h && y(o) && (u = function (e) { return y(e) ? s(-e) : e }(o), l ^= 1), new x(i, u, l) } } } const P = { lowS: t.lowS, prehash: !1 }, M = { lowS: t.lowS, prehash: !1 }; return c.BASE._setWindowSize(8), { CURVE: t, getPublicKey: function (e, t = !0) { return c.fromPrivateKey(e).toRawBytes(t) }, getSharedSecret: function (e, t, n = !0) { if (C(e)) throw new Error("first arg must be private key"); if (!C(t)) throw new Error("second arg must be public key"); return c.fromHex(t).multiply(l(e)).toRawBytes(n) }, sign: function (e, n, r = P) { const { seed: i, k2sig: o } = N(e, n, r), s = t; return m.createHmacDrbg(s.hash.outputLen, s.nByteLength, s.hmac)(i, o) }, verify: function (e, n, r, i = M) { const o = e; n = (0, m.ensureBytes)("msgHash", n), r = (0, m.ensureBytes)("publicKey", r); const { lowS: l, prehash: u, format: d } = i; if (g(i), "strict" in i) throw new Error("options.strict was renamed to lowS"); if (void 0 !== d && "compact" !== d && "der" !== d) throw new Error("format must be compact or der"); const h = "string" === typeof o || m.isBytes(o), f = !h && !d && "object" === typeof o && null !== o && "bigint" === typeof o.r && "bigint" === typeof o.s; if (!h && !f) throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance"); let p, y; try { if (f && (p = new x(o.r, o.s)), h) { try { "compact" !== d && (p = x.fromDER(o)) } catch (I) { if (!(I instanceof v.Err)) throw I } p || "der" === d || (p = x.fromCompact(o)) } y = c.fromHex(r) } catch (T) { return !1 } if (!p) return !1; if (l && p.hasHighS()) return !1; u && (n = t.hash(n)); const { r: b, s: w } = p, E = k(n), _ = a(w), C = s(E * _), A = s(b * _), S = c.BASE.multiplyAndAddUnsafe(y, C, A)?.toAffine(); return !!S && s(S.x) === b }, ProjectivePoint: c, Signature: x, utils: _ } } function k(e, t) { if (p.OP(e), !e.isValid(t.A) || !e.isValid(t.B) || !e.isValid(t.Z)) throw new Error("mapToCurveSimpleSWU: invalid opts"); const n = function (e, t) { const n = e.ORDER; let r = w; for (let p = n - E; p % x === w; p /= x)r += E; const i = r, o = x << i - E - E, s = o * x, a = (n - E) / s, c = (a - E) / x, l = s - E, u = o, d = e.pow(t, a), h = e.pow(t, (a + E) / x); let f = (t, n) => { let r = d, o = e.pow(n, l), s = e.sqr(o); s = e.mul(s, n); let a = e.mul(t, s); a = e.pow(a, c), a = e.mul(a, o), o = e.mul(a, n), s = e.mul(a, t); let f = e.mul(s, o); a = e.pow(f, u); let p = e.eql(a, e.ONE); o = e.mul(s, h), a = e.mul(f, r), s = e.cmov(o, s, p), f = e.cmov(a, f, p); for (let c = i; c > E; c--) { let t = c - x; t = x << t - E; let n = e.pow(f, t); const i = e.eql(n, e.ONE); o = e.mul(s, r), r = e.mul(r, r), n = e.mul(f, r), s = e.cmov(o, s, i), f = e.cmov(n, f, i) } return { isValid: p, value: s } }; if (e.ORDER % C === _) { const n = (e.ORDER - _) / C, r = e.sqrt(e.neg(t)); f = (t, i) => { let o = e.sqr(i); const s = e.mul(t, i); o = e.mul(o, s); let a = e.pow(o, n); a = e.mul(a, s); const c = e.mul(a, r), l = e.mul(e.sqr(a), i), u = e.eql(l, t); return { isValid: u, value: e.cmov(c, a, u) } } } return f }(e, t.Z); if (!e.isOdd) throw new Error("Fp.isOdd is not implemented!"); return r => { let i, o, s, a, c, l, u, d; i = e.sqr(r), i = e.mul(i, t.Z), o = e.sqr(i), o = e.add(o, i), s = e.add(o, e.ONE), s = e.mul(s, t.B), a = e.cmov(t.Z, e.neg(o), !e.eql(o, e.ZERO)), a = e.mul(a, t.A), o = e.sqr(s), l = e.sqr(a), c = e.mul(l, t.A), o = e.add(o, c), o = e.mul(o, s), l = e.mul(l, a), c = e.mul(l, t.B), o = e.add(o, c), u = e.mul(i, s); const { isValid: h, value: f } = n(o, l); d = e.mul(i, r), d = e.mul(d, f), u = e.cmov(u, s, h), d = e.cmov(d, f, h); const p = e.isOdd(r) === e.isOdd(d); return d = e.cmov(e.neg(d), d, p), u = e.div(u, a), { x: u, y: d } } } function I(e) { return { hash: e, hmac: (t, ...n) => h(e, t, (0, i.eV)(...n)), randomBytes: i.O6 } } const T = m.bytesToNumberBE; function N(e, t) { if (M(e), M(t), e < 0 || e >= 1 << 8 * t) throw new Error("invalid I2OSP input: " + e); const n = Array.from({ length: t }).fill(0); for (let r = t - 1; r >= 0; r--)n[r] = 255 & e, e >>>= 8; return new Uint8Array(n) } function P(e, t) { const n = new Uint8Array(e.length); for (let r = 0; r < e.length; r++)n[r] = e[r] ^ t[r]; return n } function M(e) { if (!Number.isSafeInteger(e)) throw new Error("number expected") } function O(e, t, n) { (0, m.validateObject)(n, { DST: "stringOrUint8Array", p: "bigint", m: "isSafeInteger", k: "isSafeInteger", hash: "hash" }); const { p: r, k: i, m: o, hash: s, expand: a, DST: c } = n; (0, m.abytes)(e), M(t); const l = "string" === typeof c ? (0, m.utf8ToBytes)(c) : c, u = r.toString(2).length, d = Math.ceil((u + i) / 8), h = t * o * d; let f; if ("xmd" === a) f = function (e, t, n, r) { (0, m.abytes)(e), (0, m.abytes)(t), M(n), t.length > 255 && (t = r((0, m.concatBytes)((0, m.utf8ToBytes)("H2C-OVERSIZE-DST-"), t))); const { outputLen: i, blockLen: o } = r, s = Math.ceil(n / i); if (n > 65535 || s > 255) throw new Error("expand_message_xmd: invalid lenInBytes"); const a = (0, m.concatBytes)(t, N(t.length, 1)), c = N(0, o), l = N(n, 2), u = new Array(s), d = r((0, m.concatBytes)(c, e, l, N(0, 1), a)); u[0] = r((0, m.concatBytes)(d, N(1, 1), a)); for (let h = 1; h <= s; h++) { const e = [P(d, u[h - 1]), N(h + 1, 1), a]; u[h] = r((0, m.concatBytes)(...e)) } return (0, m.concatBytes)(...u).slice(0, n) }(e, l, h, s); else if ("xof" === a) f = function (e, t, n, r, i) { if ((0, m.abytes)(e), (0, m.abytes)(t), M(n), t.length > 255) { const e = Math.ceil(2 * r / 8); t = i.create({ dkLen: e }).update((0, m.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest() } if (n > 65535 || t.length > 255) throw new Error("expand_message_xof: invalid lenInBytes"); return i.create({ dkLen: n }).update(e).update(N(n, 2)).update(t).update(N(t.length, 1)).digest() }(e, l, h, i, s); else { if ("_internal_pass" !== a) throw new Error('expand must be "xmd" or "xof"'); f = e } const g = new Array(t); for (let m = 0; m < t; m++) { const e = new Array(o); for (let t = 0; t < o; t++) { const n = d * (t + m * o), i = f.subarray(n, n + d); e[t] = (0, p.wQ)(T(i), r) } g[m] = e } return g } const R = BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"), j = BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"), $ = BigInt(1), L = BigInt(2), D = (e, t) => (e + t / L) / t; function U(e) { const t = R, n = BigInt(3), r = BigInt(6), i = BigInt(11), o = BigInt(22), s = BigInt(23), a = BigInt(44), c = BigInt(88), l = e * e * e % t, u = l * l * e % t, d = (0, p.oA)(u, n, t) * u % t, h = (0, p.oA)(d, n, t) * u % t, f = (0, p.oA)(h, L, t) * l % t, m = (0, p.oA)(f, i, t) * f % t, g = (0, p.oA)(m, o, t) * m % t, y = (0, p.oA)(g, a, t) * g % t, b = (0, p.oA)(y, c, t) * y % t, v = (0, p.oA)(b, a, t) * g % t, w = (0, p.oA)(v, n, t) * u % t, E = (0, p.oA)(w, s, t) * m % t, x = (0, p.oA)(E, r, t) * l % t, _ = (0, p.oA)(x, L, t); if (!F.eql(F.sqr(_), e)) throw new Error("Cannot find square root"); return _ } const F = (0, p.gN)(R, void 0, void 0, { sqrt: U }), B = function (e, t) { const n = t => S({ ...e, ...I(t) }); return Object.freeze({ ...n(t), create: n }) }({ a: BigInt(0), b: BigInt(7), Fp: F, n: j, Gx: BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"), Gy: BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"), h: BigInt(1), lowS: !0, endo: { beta: BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"), splitScalar: e => { const t = j, n = BigInt("0x3086d221a7d46bcde86c90e49284eb15"), r = -$ * BigInt("0xe4437ed6010e88286f547fa90abfe4c3"), i = BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"), o = n, s = BigInt("0x100000000000000000000000000000000"), a = D(o * e, t), c = D(-r * e, t); let l = (0, p.wQ)(e - a * n - c * i, t), u = (0, p.wQ)(-a * r - c * o, t); const d = l > s, h = u > s; if (d && (l = t - l), h && (u = t - u), l > s || u > s) throw new Error("splitScalar: Endomorphism failed, k=" + e); return { k1neg: d, k1: l, k2neg: h, k2: u } } } }, l), W = BigInt(0), z = {}; function q(e, ...t) { let n = z[e]; if (void 0 === n) { const t = l(Uint8Array.from(e, (e => e.charCodeAt(0)))); n = (0, m.concatBytes)(t, t), z[e] = n } return l((0, m.concatBytes)(n, ...t)) } const H = e => e.toRawBytes(!0).slice(1), G = e => (0, m.numberToBytesBE)(e, 32), V = e => (0, p.wQ)(e, R), K = e => (0, p.wQ)(e, j), Y = B.ProjectivePoint; function Z(e) { let t = B.utils.normPrivateKeyToScalar(e), n = Y.fromPrivateKey(t); return { scalar: n.hasEvenY() ? t : K(-t), bytes: H(n) } } function X(e) { (0, m.aInRange)("x", e, $, R); const t = V(e * e); let n = U(V(t * e + BigInt(7))); n % L !== W && (n = V(-n)); const r = new Y(e, n, $); return r.assertValidity(), r } const J = m.bytesToNumberBE; function Q(...e) { return K(J(q("BIP0340/challenge", ...e))) } function ee(e) { return Z(e).bytes } function te(e, t, n = (0, i.O6)(32)) { const r = (0, m.ensureBytes)("message", e), { bytes: o, scalar: s } = Z(t), a = (0, m.ensureBytes)("auxRand", n, 32), c = G(s ^ J(q("BIP0340/aux", a))), l = q("BIP0340/nonce", c, o, r), u = K(J(l)); if (u === W) throw new Error("sign failed: k is zero"); const { bytes: d, scalar: h } = Z(u), f = Q(d, o, r), p = new Uint8Array(64); if (p.set(d, 0), p.set(G(K(h + f * s)), 32), !ne(p, r, o)) throw new Error("sign: Invalid signature produced"); return p } function ne(e, t, n) { const r = (0, m.ensureBytes)("signature", e, 64), i = (0, m.ensureBytes)("message", t), o = (0, m.ensureBytes)("publicKey", n, 32); try { const e = X(J(o)), t = J(r.subarray(0, 32)); if (!(0, m.inRange)(t, $, R)) return !1; const n = J(r.subarray(32, 64)); if (!(0, m.inRange)(n, $, j)) return !1; const s = Q(G(t), H(e), i), a = ((e, t, n) => Y.BASE.multiplyAndAddUnsafe(e, t, n))(e, n, K(-s)); return !(!a || !a.hasEvenY() || a.toAffine().x !== t) } catch (s) { return !1 } } const re = (() => ({ getPublicKey: ee, sign: te, verify: ne, utils: { randomPrivateKey: B.utils.randomPrivateKey, lift_x: X, pointToBytes: H, numberToBytesBE: m.numberToBytesBE, bytesToNumberBE: m.bytesToNumberBE, taggedHash: q, mod: p.wQ } }))(), ie = (() => function (e, t) { const n = t.map((e => Array.from(e).reverse())); return (t, r) => { const [i, o, s, a] = n.map((n => n.reduce(((n, r) => e.add(e.mul(n, t), r))))); return t = e.div(i, o), r = e.mul(r, e.div(s, a)), { x: t, y: r } } }(F, [["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7", "0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581", "0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262", "0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"], ["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b", "0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14", "0x0000000000000000000000000000000000000000000000000000000000000001"], ["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c", "0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3", "0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931", "0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"], ["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b", "0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573", "0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f", "0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e => e.map((e => BigInt(e)))))))(), oe = (() => k(F, { A: BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"), B: BigInt("1771"), Z: F.create(BigInt("-11")) }))(), se = (() => function (e, t, n) { if ("function" !== typeof t) throw new Error("mapToCurve() must be defined"); return { hashToCurve(r, i) { const o = O(r, 2, { ...n, DST: n.DST, ...i }), s = e.fromAffine(t(o[0])), a = e.fromAffine(t(o[1])), c = s.add(a).clearCofactor(); return c.assertValidity(), c }, encodeToCurve(r, i) { const o = O(r, 1, { ...n, DST: n.encodeDST, ...i }), s = e.fromAffine(t(o[0])).clearCofactor(); return s.assertValidity(), s }, mapToCurve(n) { if (!Array.isArray(n)) throw new Error("mapToCurve: expected array of bigints"); for (const e of n) if ("bigint" !== typeof e) throw new Error("mapToCurve: expected array of bigints"); const r = e.fromAffine(t(n)).clearCofactor(); return r.assertValidity(), r } } }(B.ProjectivePoint, (e => { const { x: t, y: n } = oe(F.create(e[0])); return ie(t, n) }), { DST: "secp256k1_XMD:SHA-256_SSWU_RO_", encodeDST: "secp256k1_XMD:SHA-256_SSWU_NU_", p: F.ORDER, m: 1, k: 128, expand: "xmd", hash: l }))(), ae = (() => se.hashToCurve)(), ce = (() => se.encodeToCurve)() }, 26032: function (e, t, n) { "use strict"; function r(e) { if (!Number.isSafeInteger(e) || e < 0) throw new Error("positive integer expected, got " + e) } function i(e, ...t) { if (!function (e) { return e instanceof Uint8Array || ArrayBuffer.isView(e) && "Uint8Array" === e.constructor.name }(e)) throw new Error("Uint8Array expected"); if (t.length > 0 && !t.includes(e.length)) throw new Error("Uint8Array expected of length " + t + ", got length=" + e.length) } function o(e) { if ("function" !== typeof e || "function" !== typeof e.create) throw new Error("Hash should be wrapped by utils.wrapConstructor"); r(e.outputLen), r(e.blockLen) } function s(e, t = !0) { if (e.destroyed) throw new Error("Hash instance has been destroyed"); if (t && e.finished) throw new Error("Hash#digest() has already been called") } function a(e, t) { i(e); const n = t.outputLen; if (e.length < n) throw new Error("digestInto() expects output buffer of length at least " + n) } n.d(t, { gk: function () { return i }, z3: function () { return o }, $h: function () { return s }, eB: function () { return a } }) }, 94922: function (e, t, n) { "use strict"; n.d(t, { bc: function () { return o }, l3: function () { return s }, VR: function () { return a } }); var r = n(26032), i = n(44328); const o = (e, t, n) => e & t ^ ~e & n, s = (e, t, n) => e & t ^ e & n ^ t & n; class a extends i.kb { constructor(e, t, n, r) { super(), this.blockLen = e, this.outputLen = t, this.padOffset = n, this.isLE = r, this.finished = !1, this.length = 0, this.pos = 0, this.destroyed = !1, this.buffer = new Uint8Array(e), this.view = (0, i.GL)(this.buffer) } update(e) { (0, r.$h)(this); const { view: t, buffer: n, blockLen: o } = this, s = (e = (0, i.O0)(e)).length; for (let r = 0; r < s;) { const a = Math.min(o - this.pos, s - r); if (a !== o) n.set(e.subarray(r, r + a), this.pos), this.pos += a, r += a, this.pos === o && (this.process(t, 0), this.pos = 0); else { const t = (0, i.GL)(e); for (; o <= s - r; r += o)this.process(t, r) } } return this.length += e.length, this.roundClean(), this } digestInto(e) { (0, r.$h)(this), (0, r.eB)(e, this), this.finished = !0; const { buffer: t, view: n, blockLen: o, isLE: s } = this; let { pos: a } = this; t[a++] = 128, this.buffer.subarray(a).fill(0), this.padOffset > o - a && (this.process(n, 0), a = 0); for (let r = a; r < o; r++)t[r] = 0; !function (e, t, n, r) { if ("function" === typeof e.setBigUint64) return e.setBigUint64(t, n, r); const i = BigInt(32), o = BigInt(4294967295), s = Number(n >> i & o), a = Number(n & o), c = r ? 4 : 0, l = r ? 0 : 4; e.setUint32(t + c, s, r), e.setUint32(t + l, a, r) }(n, o - 8, BigInt(8 * this.length), s), this.process(n, 0); const c = (0, i.GL)(e), l = this.outputLen; if (l % 4) throw new Error("_sha2: outputLen should be aligned to 32bit"); const u = l / 4, d = this.get(); if (u > d.length) throw new Error("_sha2: outputLen bigger than state"); for (let r = 0; r < u; r++)c.setUint32(4 * r, d[r], s) } digest() { const { buffer: e, outputLen: t } = this; this.digestInto(e); const n = e.slice(0, t); return this.destroy(), n } _cloneInto(e) { e || (e = new this.constructor), e.set(...this.get()); const { blockLen: t, buffer: n, length: r, finished: i, destroyed: o, pos: s } = this; return e.length = r, e.pos = s, e.finished = i, e.destroyed = o, r % t && e.buffer.set(n), e } } }, 44328: function (e, t, n) { "use strict"; n.d(t, { kb: function () { return l }, eV: function () { return c }, GL: function () { return o }, O6: function () { return d }, np: function () { return s }, O0: function () { return a }, hE: function () { return u } }); const r = "object" === typeof globalThis && "crypto" in globalThis ? globalThis.crypto : void 0; var i = n(26032); const o = e => new DataView(e.buffer, e.byteOffset, e.byteLength), s = (e, t) => e << 32 - t | e >>> t; function a(e) { return "string" === typeof e && (e = function (e) { if ("string" !== typeof e) throw new Error("utf8ToBytes expected string, got " + typeof e); return new Uint8Array((new TextEncoder).encode(e)) }(e)), (0, i.gk)(e), e } function c(...e) { let t = 0; for (let r = 0; r < e.length; r++) { const n = e[r]; (0, i.gk)(n), t += n.length } const n = new Uint8Array(t); for (let r = 0, i = 0; r < e.length; r++) { const t = e[r]; n.set(t, i), i += t.length } return n } class l { clone() { return this._cloneInto() } } function u(e) { const t = t => e().update(a(t)).digest(), n = e(); return t.outputLen = n.outputLen, t.blockLen = n.blockLen, t.create = () => e(), t } function d(e = 32) { if (r && "function" === typeof r.getRandomValues) return r.getRandomValues(new Uint8Array(e)); if (r && "function" === typeof r.randomBytes) return r.randomBytes(e); throw new Error("crypto.getRandomValues must be defined") } }, 93527: function (e, t, n) { "use strict"; function r(e) { if (!Number.isSafeInteger(e) || e < 0) throw new Error("positive integer expected, got " + e) } function i(e, ...t) { if (!function (e) { return e instanceof Uint8Array || ArrayBuffer.isView(e) && "Uint8Array" === e.constructor.name }(e)) throw new Error("Uint8Array expected"); if (t.length > 0 && !t.includes(e.length)) throw new Error("Uint8Array expected of length " + t + ", got length=" + e.length) } function o(e, t = !0) { if (e.destroyed) throw new Error("Hash instance has been destroyed"); if (t && e.finished) throw new Error("Hash#digest() has already been called") } function s(e, t) { i(e); const n = t.outputLen; if (e.length < n) throw new Error("digestInto() expects output buffer of length at least " + n) } n.d(t, { k8: function () { return r }, gk: function () { return i }, $h: function () { return o }, eB: function () { return s } }) }, 53932: function (e, t, n) { "use strict"; n.d(t, { JQ: function () { return h } }); var r = n(93527), i = n(53465); const o = (e, t, n) => e & t ^ ~e & n, s = (e, t, n) => e & t ^ e & n ^ t & n; class a extends i.kb { constructor(e, t, n, r) { super(), this.blockLen = e, this.outputLen = t, this.padOffset = n, this.isLE = r, this.finished = !1, this.length = 0, this.pos = 0, this.destroyed = !1, this.buffer = new Uint8Array(e), this.view = (0, i.GL)(this.buffer) } update(e) { (0, r.$h)(this); const { view: t, buffer: n, blockLen: o } = this, s = (e = (0, i.O0)(e)).length; for (let r = 0; r < s;) { const a = Math.min(o - this.pos, s - r); if (a !== o) n.set(e.subarray(r, r + a), this.pos), this.pos += a, r += a, this.pos === o && (this.process(t, 0), this.pos = 0); else { const t = (0, i.GL)(e); for (; o <= s - r; r += o)this.process(t, r) } } return this.length += e.length, this.roundClean(), this } digestInto(e) { (0, r.$h)(this), (0, r.eB)(e, this), this.finished = !0; const { buffer: t, view: n, blockLen: o, isLE: s } = this; let { pos: a } = this; t[a++] = 128, this.buffer.subarray(a).fill(0), this.padOffset > o - a && (this.process(n, 0), a = 0); for (let r = a; r < o; r++)t[r] = 0; !function (e, t, n, r) { if ("function" === typeof e.setBigUint64) return e.setBigUint64(t, n, r); const i = BigInt(32), o = BigInt(4294967295), s = Number(n >> i & o), a = Number(n & o), c = r ? 4 : 0, l = r ? 0 : 4; e.setUint32(t + c, s, r), e.setUint32(t + l, a, r) }(n, o - 8, BigInt(8 * this.length), s), this.process(n, 0); const c = (0, i.GL)(e), l = this.outputLen; if (l % 4) throw new Error("_sha2: outputLen should be aligned to 32bit"); const u = l / 4, d = this.get(); if (u > d.length) throw new Error("_sha2: outputLen bigger than state"); for (let r = 0; r < u; r++)c.setUint32(4 * r, d[r], s) } digest() { const { buffer: e, outputLen: t } = this; this.digestInto(e); const n = e.slice(0, t); return this.destroy(), n } _cloneInto(e) { e || (e = new this.constructor), e.set(...this.get()); const { blockLen: t, buffer: n, length: r, finished: i, destroyed: o, pos: s } = this; return e.length = r, e.pos = s, e.finished = i, e.destroyed = o, r % t && e.buffer.set(n), e } } const c = new Uint32Array([1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298]), l = new Uint32Array([1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225]), u = new Uint32Array(64); class d extends a { constructor() { super(64, 32, 8, !1), this.A = 0 | l[0], this.B = 0 | l[1], this.C = 0 | l[2], this.D = 0 | l[3], this.E = 0 | l[4], this.F = 0 | l[5], this.G = 0 | l[6], this.H = 0 | l[7] } get() { const { A: e, B: t, C: n, D: r, E: i, F: o, G: s, H: a } = this; return [e, t, n, r, i, o, s, a] } set(e, t, n, r, i, o, s, a) { this.A = 0 | e, this.B = 0 | t, this.C = 0 | n, this.D = 0 | r, this.E = 0 | i, this.F = 0 | o, this.G = 0 | s, this.H = 0 | a } process(e, t) { for (let i = 0; i < 16; i++, t += 4)u[i] = e.getUint32(t, !1); for (let o = 16; o < 64; o++) { const e = u[o - 15], t = u[o - 2], n = (0, i.np)(e, 7) ^ (0, i.np)(e, 18) ^ e >>> 3, r = (0, i.np)(t, 17) ^ (0, i.np)(t, 19) ^ t >>> 10; u[o] = r + u[o - 7] + n + u[o - 16] | 0 } let { A: n, B: r, C: a, D: l, E: d, F: h, G: f, H: p } = this; for (let m = 0; m < 64; m++) { const e = p + ((0, i.np)(d, 6) ^ (0, i.np)(d, 11) ^ (0, i.np)(d, 25)) + o(d, h, f) + c[m] + u[m] | 0, t = ((0, i.np)(n, 2) ^ (0, i.np)(n, 13) ^ (0, i.np)(n, 22)) + s(n, r, a) | 0; p = f, f = h, h = d, d = l + e | 0, l = a, a = r, r = n, n = e + t | 0 } n = n + this.A | 0, r = r + this.B | 0, a = a + this.C | 0, l = l + this.D | 0, d = d + this.E | 0, h = h + this.F | 0, f = f + this.G | 0, p = p + this.H | 0, this.set(n, r, a, l, d, h, f, p) } roundClean() { u.fill(0) } destroy() { this.set(0, 0, 0, 0, 0, 0, 0, 0), this.buffer.fill(0) } } const h = (0, i.hE)((() => new d)) }, 22250: function (e, t, n) { "use strict"; n.d(t, { fr: function () { return I } }); var r = n(93527); const i = BigInt(2 ** 32 - 1), o = BigInt(32); function s(e, t = !1) { return t ? { h: Number(e & i), l: Number(e >> o & i) } : { h: 0 | Number(e >> o & i), l: 0 | Number(e & i) } } function a(e, t = !1) { let n = new Uint32Array(e.length), r = new Uint32Array(e.length); for (let i = 0; i < e.length; i++) { const { h: o, l: a } = s(e[i], t);[n[i], r[i]] = [o, a] } return [n, r] } const c = (e, t, n) => e << n | t >>> 32 - n, l = (e, t, n) => t << n | e >>> 32 - n, u = (e, t, n) => t << n - 32 | e >>> 64 - n, d = (e, t, n) => e << n - 32 | t >>> 64 - n; var h = n(53465); const f = [], p = [], m = [], g = BigInt(0), y = BigInt(1), b = BigInt(2), v = BigInt(7), w = BigInt(256), E = BigInt(113); for (let T = 0, N = y, P = 1, M = 0; T < 24; T++) { [P, M] = [M, (2 * P + 3 * M) % 5], f.push(2 * (5 * M + P)), p.push((T + 1) * (T + 2) / 2 % 64); let e = g; for (let t = 0; t < 7; t++)N = (N << y ^ (N >> v) * E) % w, N & b && (e ^= y << (y << BigInt(t)) - y); m.push(e) } const [x, _] = a(m, !0), C = (e, t, n) => n > 32 ? u(e, t, n) : c(e, t, n), A = (e, t, n) => n > 32 ? d(e, t, n) : l(e, t, n); class S extends h.kb { constructor(e, t, n, i = !1, o = 24) { if (super(), this.blockLen = e, this.suffix = t, this.outputLen = n, this.enableXOF = i, this.rounds = o, this.pos = 0, this.posOut = 0, this.finished = !1, this.destroyed = !1, (0, r.k8)(n), 0 >= this.blockLen || this.blockLen >= 200) throw new Error("Sha3 supports only keccak-f1600 function"); this.state = new Uint8Array(200), this.state32 = (0, h.Jq)(this.state) } keccak() { h.iA || (0, h.l1)(this.state32), function (e, t = 24) { const n = new Uint32Array(10); for (let r = 24 - t; r < 24; r++) { for (let r = 0; r < 10; r++)n[r] = e[r] ^ e[r + 10] ^ e[r + 20] ^ e[r + 30] ^ e[r + 40]; for (let r = 0; r < 10; r += 2) { const t = (r + 8) % 10, i = (r + 2) % 10, o = n[i], s = n[i + 1], a = C(o, s, 1) ^ n[t], c = A(o, s, 1) ^ n[t + 1]; for (let n = 0; n < 50; n += 10)e[r + n] ^= a, e[r + n + 1] ^= c } let t = e[2], i = e[3]; for (let n = 0; n < 24; n++) { const r = p[n], o = C(t, i, r), s = A(t, i, r), a = f[n]; t = e[a], i = e[a + 1], e[a] = o, e[a + 1] = s } for (let r = 0; r < 50; r += 10) { for (let t = 0; t < 10; t++)n[t] = e[r + t]; for (let t = 0; t < 10; t++)e[r + t] ^= ~n[(t + 2) % 10] & n[(t + 4) % 10] } e[0] ^= x[r], e[1] ^= _[r] } n.fill(0) }(this.state32, this.rounds), h.iA || (0, h.l1)(this.state32), this.posOut = 0, this.pos = 0 } update(e) { (0, r.$h)(this); const { blockLen: t, state: n } = this, i = (e = (0, h.O0)(e)).length; for (let r = 0; r < i;) { const o = Math.min(t - this.pos, i - r); for (let t = 0; t < o; t++)n[this.pos++] ^= e[r++]; this.pos === t && this.keccak() } return this } finish() { if (this.finished) return; this.finished = !0; const { state: e, suffix: t, pos: n, blockLen: r } = this; e[n] ^= t, 0 !== (128 & t) && n === r - 1 && this.keccak(), e[r - 1] ^= 128, this.keccak() } writeInto(e) { (0, r.$h)(this, !1), (0, r.gk)(e), this.finish(); const t = this.state, { blockLen: n } = this; for (let r = 0, i = e.length; r < i;) { this.posOut >= n && this.keccak(); const o = Math.min(n - this.posOut, i - r); e.set(t.subarray(this.posOut, this.posOut + o), r), this.posOut += o, r += o } return e } xofInto(e) { if (!this.enableXOF) throw new Error("XOF is not possible for this instance"); return this.writeInto(e) } xof(e) { return (0, r.k8)(e), this.xofInto(new Uint8Array(e)) } digestInto(e) { if ((0, r.eB)(e, this), this.finished) throw new Error("digest() was already called"); return this.writeInto(e), this.destroy(), e } digest() { return this.digestInto(new Uint8Array(this.outputLen)) } destroy() { this.destroyed = !0, this.state.fill(0) } _cloneInto(e) { const { blockLen: t, suffix: n, outputLen: r, rounds: i, enableXOF: o } = this; return e || (e = new S(t, n, r, o, i)), e.state32.set(this.state32), e.pos = this.pos, e.posOut = this.posOut, e.finished = this.finished, e.rounds = i, e.suffix = n, e.outputLen = r, e.enableXOF = o, e.destroyed = this.destroyed, e } } const k = (e, t, n) => (0, h.hE)((() => new S(t, e, n))), I = k(1, 136, 32) }, 53465: function (e, t, n) { "use strict"; n.d(t, { Jq: function () { return i }, GL: function () { return o }, np: function () { return s }, iA: function () { return a }, l1: function () { return l }, O0: function () { return u }, kb: function () { return d }, hE: function () { return h } }); var r = n(93527); const i = e => new Uint32Array(e.buffer, e.byteOffset, Math.floor(e.byteLength / 4)), o = e => new DataView(e.buffer, e.byteOffset, e.byteLength), s = (e, t) => e << 32 - t | e >>> t, a = (() => 68 === new Uint8Array(new Uint32Array([287454020]).buffer)[0])(), c = e => e << 24 & 4278190080 | e << 8 & 16711680 | e >>> 8 & 65280 | e >>> 24 & 255; function l(e) { for (let t = 0; t < e.length; t++)e[t] = c(e[t]) } function u(e) { return "string" === typeof e && (e = function (e) { if ("string" !== typeof e) throw new Error("utf8ToBytes expected string, got " + typeof e); return new Uint8Array((new TextEncoder).encode(e)) }(e)), (0, r.gk)(e), e } class d { clone() { return this._cloneInto() } } function h(e) { const t = t => e().update(u(t)).digest(), n = e(); return t.outputLen = n.outputLen, t.blockLen = n.blockLen, t.create = () => e(), t } }, 20794: function (e, t, n) { "use strict"; n.d(t, { lm: function () { return v }, wB: function () { return p }, W8: function () { return m }, xw: function () { return g }, Nc: function () { return d }, ZM: function () { return c }, XN: function () { return a }, sW: function () { return s }, pM: function () { return f }, ys: function () { return u }, _f: function () { return h }, e9: function () { return y }, Cy: function () { return b } }); var r = n(19485); function i(e) { return e ? new Date(1e3 * e) : null } function o(e, t) { return e.slice().sort(((e, t) => (t.firstVerifiedAt ?? t.verifiedAt).getTime() - (e.firstVerifiedAt ?? e.verifiedAt).getTime())).find((e => e.type === t)) } const s = e => e?.linkedAccounts.find((e => "wallet" === e.type && "privy" === e.walletClientType && !e.imported && "ethereum" === e.chainType && 0 === e.walletIndex)) || null, a = e => e?.linkedAccounts.filter((e => "wallet" === e.type && "privy" === e.walletClientType && !e.imported && "ethereum" === e.chainType)), c = e => a(e).reduce(((e, t) => !e || e.walletIndex < t.walletIndex ? t : e)) || null, l = e => e?.linkedAccounts.filter((e => "wallet" === e.type && "privy" === e.walletClientType && !e.imported && "solana" === e.chainType)), u = e => e?.linkedAccounts.find((e => "wallet" === e.type && "privy" === e.walletClientType && !e.imported && "solana" === e.chainType && 0 === e.walletIndex)) || null, d = e => e?.linkedAccounts.find((e => "wallet" === e.type && "privy" === e.walletClientType && e.imported && "ethereum" === e.chainType)) || null, h = (e, t) => e?.linkedAccounts.find((e => "wallet" === e.type && "privy" === e.walletClientType && e.address === t)) || null, f = e => s(e) ?? u(e), p = e => { if ("ethereum" === e.chainType) return { entropyId: e.address, entropyIdVerifier: "ethereum-address-verifier" }; if ("solana" === e.chainType) return { entropyId: e.address, entropyIdVerifier: "solana-address-verifier" }; throw Error("Failed to get account entropy details") }, m = e => { let t = f(e); if (!t) throw Error("Failed to find primary wallet"); return p(t) }, g = (e, t) => { let n = (e => e?.linkedAccounts.filter((e => "wallet" === e.type && "privy" === e.walletClientType && "ethereum" === e.chainType)))(e).find((e => (0, r.Kn)(e.address) === (0, r.Kn)(t))); return { signingWallet: n, rootWallet: n ? n.imported ? n : s(e) : void 0 } }, y = (e, t) => { let n = l(e).find((e => e.address.toLowerCase() === t.toLowerCase())); return { signingWallet: n, rootWallet: 0 === n?.walletIndex ? n : u(e) } }, b = (e, t) => !(s(e) || u(e) || "all-users" !== t && ("users-without-wallets" !== t || (e => e.linkedAccounts.filter((e => "wallet" === e.type)))(e)?.length)); function v(e) { if (!e) return null; let t = function (e) { let t = []; for (let n of e) { let e = n.type; switch (n.type) { case "wallet": let r = { address: n.address, type: n.type, imported: n.imported, delegated: n.delegated, verifiedAt: i(n.verified_at), firstVerifiedAt: i(n.first_verified_at), latestVerifiedAt: i(n.latest_verified_at), chainType: n.chain_type, chainId: n.chain_id, walletClient: "privy" === n.wallet_client_type ? "privy" : "unknown", walletClientType: n.wallet_client_type, connectorType: n.connector_type, recoveryMethod: n.recovery_method, walletIndex: n.wallet_index }; t.push(r); break; case "smart_wallet": let o = { address: n.address, type: n.type, verifiedAt: i(n.verified_at), firstVerifiedAt: i(n.first_verified_at), latestVerifiedAt: i(n.latest_verified_at), smartWalletType: n.smart_wallet_type }; t.push(o); break; case "cross_app": let s = { type: n.type, subject: n.subject, embeddedWallets: n.embedded_wallets, smartWallets: n.smart_wallets, providerApp: { id: n.provider_app_id }, verifiedAt: i(n.verified_at), firstVerifiedAt: i(n.first_verified_at), latestVerifiedAt: i(n.latest_verified_at) }; t.push(s); break; case "email": let a = { address: n.address, type: n.type, verifiedAt: i(n.verified_at), firstVerifiedAt: i(n.first_verified_at), latestVerifiedAt: i(n.latest_verified_at) }; t.push(a); break; case "phone": let c = { number: n.phoneNumber, type: n.type, verifiedAt: i(n.verified_at), firstVerifiedAt: i(n.first_verified_at), latestVerifiedAt: i(n.latest_verified_at) }; t.push(c); break; case "google_oauth": let l = { subject: n.subject, email: n.email, name: n.name, type: n.type, verifiedAt: i(n.verified_at), firstVerifiedAt: i(n.first_verified_at), latestVerifiedAt: i(n.latest_verified_at) }; t.push(l); break; case "spotify_oauth": let u = { subject: n.subject, email: n.email, name: n.name, type: n.type, verifiedAt: i(n.verified_at), firstVerifiedAt: i(n.first_verified_at), latestVerifiedAt: i(n.latest_verified_at) }; t.push(u); break; case "instagram_oauth": let d = { subject: n.subject, username: n.username, type: n.type, verifiedAt: i(n.verified_at), firstVerifiedAt: i(n.first_verified_at), latestVerifiedAt: i(n.latest_verified_at) }; t.push(d); break; case "twitter_oauth": let h = { subject: n.subject, username: n.username, name: n.name, type: n.type, profilePictureUrl: n.profile_picture_url, verifiedAt: i(n.verified_at), firstVerifiedAt: i(n.first_verified_at), latestVerifiedAt: i(n.latest_verified_at) }; t.push(h); break; case "discord_oauth": let f = { subject: n.subject, username: n.username, email: n.email, type: n.type, verifiedAt: i(n.verified_at), firstVerifiedAt: i(n.first_verified_at), latestVerifiedAt: i(n.latest_verified_at) }; t.push(f); break; case "github_oauth": let p = { subject: n.subject, username: n.username, name: n.name, email: n.email, type: n.type, verifiedAt: i(n.verified_at), firstVerifiedAt: i(n.first_verified_at), latestVerifiedAt: i(n.latest_verified_at) }; t.push(p); break; case "tiktok_oauth": let m = { subject: n.subject, username: n.username, name: n.name, type: n.type, verifiedAt: i(n.verified_at), firstVerifiedAt: i(n.first_verified_at), latestVerifiedAt: i(n.latest_verified_at) }; t.push(m); break; case "linkedin_oauth": let g = { subject: n.subject, name: n.name, email: n.email, vanityName: n.vanity_name, type: n.type, verifiedAt: i(n.verified_at), firstVerifiedAt: i(n.first_verified_at), latestVerifiedAt: i(n.latest_verified_at) }; t.push(g); break; case "apple_oauth": let y = { subject: n.subject, email: n.email, type: n.type, verifiedAt: i(n.verified_at), firstVerifiedAt: i(n.first_verified_at), latestVerifiedAt: i(n.latest_verified_at) }; t.push(y); break; case "custom_auth": t.push({ type: n.type, customUserId: n.custom_user_id, verifiedAt: i(n.verified_at), firstVerifiedAt: i(n.first_verified_at), latestVerifiedAt: i(n.latest_verified_at) }); break; case "farcaster": let b = { type: n.type, fid: n.fid, ownerAddress: n.owner_address, displayName: n.display_name, username: n.username, bio: n.bio, pfp: n.profile_picture_url, url: n.homepage_url, verifiedAt: i(n.verified_at), firstVerifiedAt: i(n.first_verified_at), latestVerifiedAt: i(n.latest_verified_at), signerPublicKey: n.signer_public_key }; t.push(b); break; case "passkey": let v = { type: n.type, enrolledInMfa: n.enrolled_in_mfa, credentialId: n.credential_id, authenticatorName: n.authenticator_name, createdWithDevice: n.created_with_device, createdWithOs: n.created_with_os, createdWithBrowser: n.created_with_browser, verifiedAt: i(n.verified_at), firstVerifiedAt: i(n.first_verified_at), latestVerifiedAt: i(n.latest_verified_at) }; t.push(v); break; case "telegram": let w = { type: n.type, telegramUserId: n.telegram_user_id, firstName: n.first_name, lastName: n.last_name, username: n.username, photoUrl: n.photo_url, verifiedAt: i(n.first_verified_at), firstVerifiedAt: i(n.first_verified_at), latestVerifiedAt: i(n.latest_verified_at) }; t.push(w); break; default: console.warn(`Unrecognized account type: ${e}. Please consider upgrading the Privy SDK.`) } } return t }(e.linked_accounts), n = o(t, "wallet"), r = o(t, "smart_wallet"), s = o(t, "email"), a = o(t, "phone"), c = o(t, "google_oauth"), l = o(t, "twitter_oauth"), u = o(t, "discord_oauth"), d = o(t, "github_oauth"), h = o(t, "spotify_oauth"), f = o(t, "instagram_oauth"), p = o(t, "tiktok_oauth"), m = o(t, "linkedin_oauth"), g = o(t, "apple_oauth"), y = o(t, "farcaster"), b = o(t, "telegram"), v = e.mfa_methods.map((({ type: e, verified_at: t }) => ({ type: e, verifiedAt: i(t) }))); return { id: e.id, createdAt: i(e.created_at), linkedAccounts: t, email: s && { address: s?.address }, phone: a && { number: a?.number }, wallet: n && { address: n.address, chainType: n.chainType, chainId: n.chainId, walletClient: n.walletClient, walletClientType: n.walletClientType, connectorType: n.connectorType, recoveryMethod: n.recoveryMethod, imported: n.imported, delegated: n.delegated, walletIndex: n.walletIndex }, smartWallet: r && { address: r.address, smartWalletType: r.smartWalletType }, google: c && { subject: c.subject, email: c.email, name: c.name }, twitter: l && { subject: l.subject, username: l.username, name: l.name, profilePictureUrl: l.profilePictureUrl }, discord: u && { subject: u.subject, username: u.username, email: u.email }, github: d && { subject: d.subject, username: d.username, name: d.name, email: d.email }, spotify: h && { subject: h.subject, email: h.email, name: h.name }, instagram: f && { subject: f.subject, username: f.username }, tiktok: p && { subject: p.subject, username: p.username, name: p.name }, linkedin: m && { subject: m.subject, name: m.name, email: m.email, vanityName: m.vanityName }, apple: g && { subject: g.subject, email: g.email }, farcaster: y && { fid: y.fid, ownerAddress: y.ownerAddress, displayName: y.displayName, username: y.username, bio: y.bio, pfp: y.pfp, url: y.url, signerPublicKey: y.signerPublicKey }, telegram: b && { telegramUserId: b.telegramUserId, firstName: b.firstName, lastName: b.lastName, username: b.username, photoUrl: b.photoUrl }, delegatedWallets: [], mfaMethods: v.map((e => e.type)), hasAcceptedTerms: e.has_accepted_terms ?? !1, isGuest: e.is_guest, customMetadata: e.custom_metadata } } }, 62463: function (e, t, n) { "use strict"; n.d(t, { fP: function () { return s }, dx: function () { return a }, M9: function () { return l }, z5: function () { return p }, Bi: function () { return o }, sX: function () { return h }, Zp: function () { return f }, rT: function () { return c }, yV: function () { return m }, _J: function () { return g }, wh: function () { return u }, wN: function () { return d } }); var r, i = n(21031); class o extends Error { toString() { return `${this.type}${this.privyErrorCode ? `-${this.privyErrorCode}` : ""}: ${this.message}${this.cause ? ` [cause: ${this.cause}]` : ""}` } constructor(e, t, n) { super(e), t instanceof Error && (this.cause = t), this.privyErrorCode = n } } class s extends o { constructor(e, t, n, r, i, o) { super(n, r, i), this.type = e, this.status = t, this.data = o } } class a extends o { constructor(e, t, n) { super(e, t, n), this.type = "client_error" } } class c extends a { constructor() { super("Request timed out", void 0, "client_request_timeout") } } class l extends o { constructor(e, t, n) { super(e, t, n), this.type = "connector_error" } } const u = e => { if (e instanceof o) return e; if (!(e instanceof i.F)) return d(e); if (!e.response) return new s("api_error", null, e.message, e); let { type: t, message: n, error: r, code: a } = e.data; return new s(t || "ApiError", e.response.status, n || r, e, a, e.data) }, d = e => e instanceof o ? e : e instanceof Error ? new a(e.message, e) : new a(`Internal error: ${e}`); var h = ((r = {}).OAUTH_ACCOUNT_SUSPENDED = "oauth_account_suspended", r.MISSING_OR_INVALID_PRIVY_APP_ID = "missing_or_invalid_privy_app_id", r.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID = "missing_or_invalid_privy_account_id", r.MISSING_OR_INVALID_TOKEN = "missing_or_invalid_token", r.INVALID_DATA = "invalid_data", r.INVALID_CAPTCHA = "invalid_captcha", r.LINKED_TO_ANOTHER_USER = "linked_to_another_user", r.CANNOT_LINK_MORE_OF_TYPE = "cannot_link_more_of_type", r.FAILED_TO_LINK_ACCOUNT = "failed_to_link_account", r.FAILED_TO_UPDATE_ACCOUNT = "failed_to_update_account", r.USER_EXITED_UPDATE_FLOW = "exited_update_flow", r.ALLOWLIST_REJECTED = "allowlist_rejected", r.OAUTH_USER_DENIED = "oauth_user_denied", r.OAUTH_UNEXPECTED = "oauth_unexpected", r.UNKNOWN_AUTH_ERROR = "unknown_auth_error", r.USER_EXITED_AUTH_FLOW = "exited_auth_flow", r.USER_EXITED_LINK_FLOW = "exited_link_flow", r.USER_EXITED_SET_PASSWORD_FLOW = "user_exited_set_password_flow", r.MUST_BE_AUTHENTICATED = "must_be_authenticated", r.UNKNOWN_CONNECT_WALLET_ERROR = "unknown_connect_wallet_error", r.GENERIC_CONNECT_WALLET_ERROR = "generic_connect_wallet_error", r.CLIENT_REQUEST_TIMEOUT = "client_request_timeout", r.INVALID_CREDENTIALS = "invalid_credentials", r.MISSING_MFA_CREDENTIALS = "missing_or_invalid_mfa", r.UNKNOWN_MFA_ERROR = "unknown_mfa_error", r.EMBEDDED_WALLET_ALREADY_EXISTS = "embedded_wallet_already_exists", r.EMBEDDED_WALLET_NOT_FOUND = "embedded_wallet_not_found", r.EMBEDDED_WALLET_CREATE_ERROR = "embedded_wallet_create_error", r.UNKNOWN_EMBEDDED_WALLET_ERROR = "unknown_embedded_wallet_error", r.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED = "embedded_wallet_password_unconfirmed", r.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS = "embedded_wallet_password_already_exists", r.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS = "embedded_wallet_recovery_already_exists", r.TRANSACTION_FAILURE = "transaction_failure", r.UNSUPPORTED_CHAIN_ID = "unsupported_chain_id", r.NOT_SUPPORTED = "not_supported", r.CAPTCHA_TIMEOUT = "captcha_timeout", r.INVALID_MESSAGE = "invalid_message", r.UNABLE_TO_SIGN = "unable_to_sign", r.CAPTCHA_FAILURE = "captcha_failure", r.CAPTCHA_DISABLED = "captcha_disabled", r.SESSION_STORAGE_UNAVAILABLE = "session_storage_unavailable", r.TOO_MANY_REQUESTS = "too_many_requests", r.USER_LIMIT_REACHED = "max_accounts_reached", r.DISALLOWED_LOGIN_METHOD = "disallowed_login_method", r.DISALLOWED_PLUS_EMAIL = "disallowed_plus_email", r.PASSKEY_NOT_ALLOWED = "passkey_not_allowed", r.USER_DOES_NOT_EXIST = "user_does_not_exist", r.INSUFFICIENT_BALANCE = "insufficient_balance", r.ACCOUNT_TRANSFER_REQUIRED = "account_transfer_required", r); class f extends a { constructor() { super("Method called before `ready`. Ensure you wait until `ready` is true before calling.") } } class p extends a { constructor(e = "Embedded wallet error", t) { super(e, t, "unknown_embedded_wallet_error") } } class m extends a { constructor(e = "User must be authenticated") { super(e, void 0, "must_be_authenticated") } } class g extends a { constructor(e) { super("This application is in development mode and must be upgraded to production to log in new users.", e, "max_accounts_reached") } } }, 64928: function (e, t, n) { "use strict"; n.d(t, { hE: function () { return o }, Rb: function () { return c }, VD: function () { return i }, rN: function () { return l }, Hc: function () { return a } }); var r = n(67294); const i = { login: { onComplete: [], onError: [], onOAuthLoginComplete: [] }, logout: { onSuccess: [] }, connectWallet: { onSuccess: [], onError: [] }, createWallet: { onSuccess: [], onError: [] }, linkAccount: { onSuccess: [], onError: [] }, update: { onSuccess: [], onError: [] }, configureMfa: { onMfaRequired: [] }, setWalletPassword: { onSuccess: [], onError: [] }, setWalletRecovery: { onSuccess: [], onError: [] }, signMessage: { onSuccess: [], onError: [] }, signTypedData: { onSuccess: [], onError: [] }, sendTransaction: { onSuccess: [], onError: [] }, sendSolanaTransaction: { onSuccess: [], onError: [] }, accessToken: { onAccessTokenGranted: [], onAccessTokenRemoved: [] }, oAuthAuthorization: { onOAuthTokenGrant: [] }, fundWallet: { onUserExited: [] }, fundSolanaWallet: { onUserExited: [] }, customAuth: { onAuthenticated: [], onUnauthenticated: [] } }, o = (0, r.createContext)(void 0); let s = () => (0, r.useContext)(o); function a(e, t) { if (!t) return; let n = s().current[e]; return (0, r.useEffect)((() => { for (let [r, i] of Object.entries(t)) n.hasOwnProperty(r) || console.warn(`Invalid event type "${r}" for action "${e}"`), n[r]?.push(i); return () => { for (let [r, i] of Object.entries(t)) n.hasOwnProperty(r) || console.warn(`Invalid event type "${r}" for action "${e}"`), n[r] = n[r]?.filter((e => e !== i)) } }), [t]) } function c(e, t, n, ...r) { for (let i of e.current[t][n]) i(...r) } function l() { let e = s(); return (t, n, ...r) => c(e, t, n, ...r) } }, 40352: function (e, t, n) { "use strict"; n.d(t, { E: function () { return r } }); const r = () => { throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.") } }, 69643: function (e, t, n) { "use strict"; n.d(t, { m: function () { return o }, u: function () { return s } }); var r = n(67294), i = n(40352); const o = (0, r.createContext)({ isNewUserThisSession: !1, walletConnectionStatus: null, connectors: [], solanaWallets: [], rpcConfig: { rpcUrls: {} }, showFiatPrices: !0, chains: [], clientAnalyticsId: null, pendingTransaction: null, client: null, appId: "notAdded", customAuthStatus: { status: "not-enabled" }, noPromptOnSignature: { current: !1 }, nativeTokenSymbolForChainId: i.E, initializeWalletProxy: i.E, getAuthMeta: i.E, getAuthFlow: i.E, closePrivyModal: i.E, openPrivyModal: i.E, connectWallet: i.E, initLoginWithWallet: i.E, loginWithWallet: i.E, initLoginWithFarcaster: i.E, loginWithFarcaster: i.E, loginWithCode: i.E, initLoginWithEmail: i.E, initLoginWithSms: i.E, initUpdateEmail: i.E, initUpdatePhone: i.E, resendEmailCode: i.E, resendSmsCode: i.E, initLoginWithHeadlessOAuth: i.E, loginWithHeadlessOAuth: i.E, crossAppAuthFlow: i.E, initLoginWithOAuth: i.E, recoveryOAuthFlow: i.E, loginWithOAuth: i.E, passkeyAuthState: { status: "initial" }, setPasskeyAuthState: i.E, initLoginWithPasskey: i.E, loginWithPasskey: i.E, initLinkWithPasskey: i.E, linkWithPasskey: i.E, refreshUser: i.E, loginWithGuestAccountFlow: i.E, walletProxy: null, createAnalyticsEvent: i.E, acceptTerms: i.E, getUsdTokenPrice: i.E, getUsdPriceForSol: i.E, recoverPrimaryWallet: i.E, updateWallets: i.E, fundWallet: i.E, fundSolanaWallet: i.E, setReadyToTrue: i.E, requestFarcasterSignerStatus: i.E, initLoginWithTelegram: i.E, loginWithTelegram: i.E, generateSiweMessage: i.E, generateSiweMessageForSmartWallet: i.E, linkWithSiwe: i.E, linkSmartWallet: i.E, delegateWallet: i.E, revokeDelegatedWallets: i.E, embeddedSolanaWallet: null, createEmbeddedSolanaWallet: i.E, exportSolanaWallet: i.E, solanaSignMessage: i.E, connectCoinbaseSmartWallet: i.E, initiateAccountTransfer: i.E, emailOtpState: { status: "initial" }, setEmailOtpState: i.E, smsOtpState: { status: "initial" }, setSmsOtpState: i.E, siweState: { status: "initial" }, setSiweState: i.E, oAuthState: { status: "initial" }, setOAuthState: i.E, isHeadlessOAuthLoading: !1 }), s = () => (0, r.useContext)(o) }, 59177: function (e, t, n) { "use strict"; n.d(t, { N: function () { return o }, b: function () { return s } }); var r = n(67294), i = n(40352); const o = (0, r.createContext)({ ready: !1, authenticated: !1, user: null, walletConnectors: null, connectWallet: i.E, login: i.E, connectOrCreateWallet: i.E, linkEmail: i.E, linkPhone: i.E, linkFarcaster: i.E, linkWallet: i.E, startCrossAppAuthFlow: i.E, linkGoogle: i.E, linkTwitter: i.E, linkDiscord: i.E, linkGithub: i.E, linkSpotify: i.E, linkInstagram: i.E, linkTelegram: i.E, linkTiktok: i.E, linkLinkedIn: i.E, linkApple: i.E, linkPasskey: i.E, updateEmail: i.E, updatePhone: i.E, logout: i.E, getAccessToken: i.E, getEthereumProvider: i.E, getEthersProvider: i.E, getWeb3jsProvider: i.E, unlinkEmail: i.E, unlinkPhone: i.E, unlinkWallet: i.E, unlinkGoogle: i.E, unlinkTwitter: i.E, unlinkDiscord: i.E, unlinkGithub: i.E, unlinkSpotify: i.E, unlinkInstagram: i.E, unlinkTiktok: i.E, unlinkLinkedIn: i.E, unlinkApple: i.E, unlinkCrossAppAccount: i.E, unlinkFarcaster: i.E, unlinkTelegram: i.E, unlinkPasskey: i.E, setActiveWallet: i.E, forkSession: i.E, createWallet: i.E, signMessage: i.E, signTypedData: i.E, enrollInMfa: i.E, initEnrollmentWithSms: i.E, initEnrollmentWithTotp: i.E, initEnrollmentWithPasskey: i.E, promptMfa: i.E, init: i.E, submitEnrollmentWithSms: i.E, submitEnrollmentWithTotp: i.E, submitEnrollmentWithPasskey: i.E, unenroll: i.E, submit: i.E, cancel: i.E, sendTransaction: i.E, sendSolanaTransaction: i.E, exportWallet: i.E, setWalletPassword: i.E, setWalletRecovery: i.E, requestFarcasterSignerFromWarpcast: i.E, getFarcasterSignerPublicKey: i.E, signFarcasterMessage: i.E, createGuestAccount: i.E, signMessageWithCrossAppWallet: i.E, signTypedDataWithCrossAppWallet: i.E, sendTransactionWithCrossAppWallet: i.E, isModalOpen: !1, mfaMethods: [] }), s = () => (0, r.useContext)(o) }, 5630: function (e, t, n) { "use strict"; n.d(t, { t: function () { return i }, r: function () { return o } }); var r = n(67294); const i = (0, r.createContext)(null); function o() { let e = (0, r.useContext)(i); return null === e ? (console.warn("`useWallets` was called outside the PrivyProvider component"), { wallets: [], ready: !1 }) : e } }, 66474: function (e, t, n) { "use strict"; n.d(t, { j: function () { return o } }); var r = n(7506), i = n(24139), o = new class extends r.l { #focused; #cleanup; #setup; constructor() { super(), this.#setup = e => { if (!i.sk && window.addEventListener) { const t = () => e(); return window.addEventListener("visibilitychange", t, !1), () => { window.removeEventListener("visibilitychange", t) } } } } onSubscribe() { this.#cleanup || this.setEventListener(this.#setup) } onUnsubscribe() { this.hasListeners() || (this.#cleanup?.(), this.#cleanup = void 0) } setEventListener(e) { this.#setup = e, this.#cleanup?.(), this.#cleanup = e((e => { "boolean" === typeof e ? this.setFocused(e) : this.onFocus() })) } setFocused(e) { this.#focused !== e && (this.#focused = e, this.onFocus()) } onFocus() { const e = this.isFocused(); this.listeners.forEach((t => { t(e) })) } isFocused() { return "boolean" === typeof this.#focused ? this.#focused : "hidden" !== globalThis.document?.visibilityState } } }, 59289: function (e, t, n) { "use strict"; n.d(t, { m: function () { return s }, R: function () { return a } }); var r = n(27037), i = n(48907), o = n(72008), s = class extends i.F { #observers; #mutationCache; #retryer; constructor(e) { super(), this.mutationId = e.mutationId, this.#mutationCache = e.mutationCache, this.#observers = [], this.state = e.state || { context: void 0, data: void 0, error: null, failureCount: 0, failureReason: null, isPaused: !1, status: "idle", variables: void 0, submittedAt: 0 }, this.setOptions(e.options), this.scheduleGc() } setOptions(e) { this.options = e, this.updateGcTime(this.options.gcTime) } get meta() { return this.options.meta } addObserver(e) { this.#observers.includes(e) || (this.#observers.push(e), this.clearGcTimeout(), this.#mutationCache.notify({ type: "observerAdded", mutation: this, observer: e })) } removeObserver(e) { this.#observers = this.#observers.filter((t => t !== e)), this.scheduleGc(), this.#mutationCache.notify({ type: "observerRemoved", mutation: this, observer: e }) } optionalRemove() { this.#observers.length || ("pending" === this.state.status ? this.scheduleGc() : this.#mutationCache.remove(this)) } continue() { return this.#retryer?.continue() ?? this.execute(this.state.variables) } async execute(e) { this.#retryer = (0, o.Mz)({ fn: () => this.options.mutationFn ? this.options.mutationFn(e) : Promise.reject(new Error("No mutationFn found")), onFail: (e, t) => { this.#dispatch({ type: "failed", failureCount: e, error: t }) }, onPause: () => { this.#dispatch({ type: "pause" }) }, onContinue: () => { this.#dispatch({ type: "continue" }) }, retry: this.options.retry ?? 0, retryDelay: this.options.retryDelay, networkMode: this.options.networkMode, canRun: () => this.#mutationCache.canRun(this) }); const t = "pending" === this.state.status, n = !this.#retryer.canStart(); try { if (!t) { this.#dispatch({ type: "pending", variables: e, isPaused: n }), await (this.#mutationCache.config.onMutate?.(e, this)); const t = await (this.options.onMutate?.(e)); t !== this.state.context && this.#dispatch({ type: "pending", context: t, variables: e, isPaused: n }) } const r = await this.#retryer.start(); return await (this.#mutationCache.config.onSuccess?.(r, e, this.state.context, this)), await (this.options.onSuccess?.(r, e, this.state.context)), await (this.#mutationCache.config.onSettled?.(r, null, this.state.variables, this.state.context, this)), await (this.options.onSettled?.(r, null, e, this.state.context)), this.#dispatch({ type: "success", data: r }), r } catch (r) { try { throw await (this.#mutationCache.config.onError?.(r, e, this.state.context, this)), await (this.options.onError?.(r, e, this.state.context)), await (this.#mutationCache.config.onSettled?.(void 0, r, this.state.variables, this.state.context, this)), await (this.options.onSettled?.(void 0, r, e, this.state.context)), r } finally { this.#dispatch({ type: "error", error: r }) } } finally { this.#mutationCache.runNext(this) } } #dispatch(e) { this.state = (t => { switch (e.type) { case "failed": return { ...t, failureCount: e.failureCount, failureReason: e.error }; case "pause": return { ...t, isPaused: !0 }; case "continue": return { ...t, isPaused: !1 }; case "pending": return { ...t, context: e.context, data: void 0, failureCount: 0, failureReason: null, error: null, isPaused: e.isPaused, status: "pending", variables: e.variables, submittedAt: Date.now() }; case "success": return { ...t, data: e.data, failureCount: 0, failureReason: null, error: null, status: "success", isPaused: !1 }; case "error": return { ...t, data: void 0, error: e.error, failureCount: t.failureCount + 1, failureReason: e.error, isPaused: !1, status: "error" } } })(this.state), r.V.batch((() => { this.#observers.forEach((t => { t.onMutationUpdate(e) })), this.#mutationCache.notify({ mutation: this, type: "updated", action: e }) })) } }; function a() { return { context: void 0, data: void 0, error: null, failureCount: 0, failureReason: null, isPaused: !1, status: "idle", variables: void 0, submittedAt: 0 } } }, 27037: function (e, t, n) { "use strict"; n.d(t, { V: function () { return r } }); var r = function () { let e = [], t = 0, n = e => { e() }, r = e => { e() }, i = e => setTimeout(e, 0); const o = r => { t ? e.push(r) : i((() => { n(r) })) }; return { batch: o => { let s; t++; try { s = o() } finally { t--, t || (() => { const t = e; e = [], t.length && i((() => { r((() => { t.forEach((e => { n(e) })) })) })) })() } return s }, batchCalls: e => (...t) => { o((() => { e(...t) })) }, schedule: o, setNotifyFunction: e => { n = e }, setBatchNotifyFunction: e => { r = e }, setScheduler: e => { i = e } } }() }, 14304: function (e, t, n) { "use strict"; n.d(t, { N: function () { return o } }); var r = n(7506), i = n(24139), o = new class extends r.l { #online = !0; #cleanup; #setup; constructor() { super(), this.#setup = e => { if (!i.sk && window.addEventListener) { const t = () => e(!0), n = () => e(!1); return window.addEventListener("online", t, !1), window.addEventListener("offline", n, !1), () => { window.removeEventListener("online", t), window.removeEventListener("offline", n) } } } } onSubscribe() { this.#cleanup || this.setEventListener(this.#setup) } onUnsubscribe() { this.hasListeners() || (this.#cleanup?.(), this.#cleanup = void 0) } setEventListener(e) { this.#setup = e, this.#cleanup?.(), this.#cleanup = e(this.setOnline.bind(this)) } setOnline(e) { this.#online !== e && (this.#online = e, this.listeners.forEach((t => { t(e) }))) } isOnline() { return this.#online } } }, 56888: function (e, t, n) { "use strict"; n.d(t, { A: function () { return a }, z: function () { return c } }); var r = n(24139), i = n(27037), o = n(72008), s = n(48907), a = class extends s.F { #initialState; #revertState; #cache; #retryer; #defaultOptions; #abortSignalConsumed; constructor(e) { super(), this.#abortSignalConsumed = !1, this.#defaultOptions = e.defaultOptions, this.setOptions(e.options), this.observers = [], this.#cache = e.cache, this.queryKey = e.queryKey, this.queryHash = e.queryHash, this.#initialState = function (e) { const t = "function" === typeof e.initialData ? e.initialData() : e.initialData, n = void 0 !== t, r = n ? "function" === typeof e.initialDataUpdatedAt ? e.initialDataUpdatedAt() : e.initialDataUpdatedAt : 0; return { data: t, dataUpdateCount: 0, dataUpdatedAt: n ? r ?? Date.now() : 0, error: null, errorUpdateCount: 0, errorUpdatedAt: 0, fetchFailureCount: 0, fetchFailureReason: null, fetchMeta: null, isInvalidated: !1, status: n ? "success" : "pending", fetchStatus: "idle" } }(this.options), this.state = e.state ?? this.#initialState, this.scheduleGc() } get meta() { return this.options.meta } get promise() { return this.#retryer?.promise } setOptions(e) { this.options = { ...this.#defaultOptions, ...e }, this.updateGcTime(this.options.gcTime) } optionalRemove() { this.observers.length || "idle" !== this.state.fetchStatus || this.#cache.remove(this) } setData(e, t) { const n = (0, r.oE)(this.state.data, e, this.options); return this.#dispatch({ data: n, type: "success", dataUpdatedAt: t?.updatedAt, manual: t?.manual }), n } setState(e, t) { this.#dispatch({ type: "setState", state: e, setStateOptions: t }) } cancel(e) { const t = this.#retryer?.promise; return this.#retryer?.cancel(e), t ? t.then(r.ZT).catch(r.ZT) : Promise.resolve() } destroy() { super.destroy(), this.cancel({ silent: !0 }) } reset() { this.destroy(), this.setState(this.#initialState) } isActive() { return this.observers.some((e => !1 !== (0, r.Nc)(e.options.enabled, this))) } isDisabled() { return this.getObserversCount() > 0 ? !this.isActive() : this.options.queryFn === r.CN || this.state.dataUpdateCount + this.state.errorUpdateCount === 0 } isStale() { return !!this.state.isInvalidated || (this.getObserversCount() > 0 ? this.observers.some((e => e.getCurrentResult().isStale)) : void 0 === this.state.data) } isStaleByTime(e = 0) { return this.state.isInvalidated || void 0 === this.state.data || !(0, r.Kp)(this.state.dataUpdatedAt, e) } onFocus() { this.observers.find((e => e.shouldFetchOnWindowFocus()))?.refetch({ cancelRefetch: !1 }), this.#retryer?.continue() } onOnline() { this.observers.find((e => e.shouldFetchOnReconnect()))?.refetch({ cancelRefetch: !1 }), this.#retryer?.continue() } addObserver(e) { this.observers.includes(e) || (this.observers.push(e), this.clearGcTimeout(), this.#cache.notify({ type: "observerAdded", query: this, observer: e })) } removeObserver(e) { this.observers.includes(e) && (this.observers = this.observers.filter((t => t !== e)), this.observers.length || (this.#retryer && (this.#abortSignalConsumed ? this.#retryer.cancel({ revert: !0 }) : this.#retryer.cancelRetry()), this.scheduleGc()), this.#cache.notify({ type: "observerRemoved", query: this, observer: e })) } getObserversCount() { return this.observers.length } invalidate() { this.state.isInvalidated || this.#dispatch({ type: "invalidate" }) } fetch(e, t) { if ("idle" !== this.state.fetchStatus) if (void 0 !== this.state.data && t?.cancelRefetch) this.cancel({ silent: !0 }); else if (this.#retryer) return this.#retryer.continueRetry(), this.#retryer.promise; if (e && this.setOptions(e), !this.options.queryFn) { const e = this.observers.find((e => e.options.queryFn)); e && this.setOptions(e.options) } const n = new AbortController, i = e => { Object.defineProperty(e, "signal", { enumerable: !0, get: () => (this.#abortSignalConsumed = !0, n.signal) }) }, s = { fetchOptions: t, options: this.options, queryKey: this.queryKey, state: this.state, fetchFn: () => { const e = (0, r.cG)(this.options, t), n = { queryKey: this.queryKey, meta: this.meta }; return i(n), this.#abortSignalConsumed = !1, this.options.persister ? this.options.persister(e, n, this) : e(n) } }; i(s), this.options.behavior?.onFetch(s, this), this.#revertState = this.state, "idle" !== this.state.fetchStatus && this.state.fetchMeta === s.fetchOptions?.meta || this.#dispatch({ type: "fetch", meta: s.fetchOptions?.meta }); const a = e => { (0, o.DV)(e) && e.silent || this.#dispatch({ type: "error", error: e }), (0, o.DV)(e) || (this.#cache.config.onError?.(e, this), this.#cache.config.onSettled?.(this.state.data, e, this)), this.scheduleGc() }; return this.#retryer = (0, o.Mz)({ initialPromise: t?.initialPromise, fn: s.fetchFn, abort: n.abort.bind(n), onSuccess: e => { if (void 0 !== e) { try { this.setData(e) } catch (t) { return void a(t) } this.#cache.config.onSuccess?.(e, this), this.#cache.config.onSettled?.(e, this.state.error, this), this.scheduleGc() } else a(new Error(`${this.queryHash} data is undefined`)) }, onError: a, onFail: (e, t) => { this.#dispatch({ type: "failed", failureCount: e, error: t }) }, onPause: () => { this.#dispatch({ type: "pause" }) }, onContinue: () => { this.#dispatch({ type: "continue" }) }, retry: s.options.retry, retryDelay: s.options.retryDelay, networkMode: s.options.networkMode, canRun: () => !0 }), this.#retryer.start() } #dispatch(e) { this.state = (t => { switch (e.type) { case "failed": return { ...t, fetchFailureCount: e.failureCount, fetchFailureReason: e.error }; case "pause": return { ...t, fetchStatus: "paused" }; case "continue": return { ...t, fetchStatus: "fetching" }; case "fetch": return { ...t, ...c(t.data, this.options), fetchMeta: e.meta ?? null }; case "success": return { ...t, data: e.data, dataUpdateCount: t.dataUpdateCount + 1, dataUpdatedAt: e.dataUpdatedAt ?? Date.now(), error: null, isInvalidated: !1, status: "success", ...!e.manual && { fetchStatus: "idle", fetchFailureCount: 0, fetchFailureReason: null } }; case "error": const n = e.error; return (0, o.DV)(n) && n.revert && this.#revertState ? { ...this.#revertState, fetchStatus: "idle" } : { ...t, error: n, errorUpdateCount: t.errorUpdateCount + 1, errorUpdatedAt: Date.now(), fetchFailureCount: t.fetchFailureCount + 1, fetchFailureReason: n, fetchStatus: "idle", status: "error" }; case "invalidate": return { ...t, isInvalidated: !0 }; case "setState": return { ...t, ...e.state } } })(this.state), i.V.batch((() => { this.observers.forEach((e => { e.onQueryUpdate() })), this.#cache.notify({ query: this, type: "updated", action: e }) })) } }; function c(e, t) { return { fetchFailureCount: 0, fetchFailureReason: null, fetchStatus: (0, o.Kw)(t.networkMode) ? "fetching" : "paused", ...void 0 === e && { error: null, status: "pending" } } } }, 48907: function (e, t, n) { "use strict"; n.d(t, { F: function () { return i } }); var r = n(24139), i = class { #gcTimeout; destroy() { this.clearGcTimeout() } scheduleGc() { this.clearGcTimeout(), (0, r.PN)(this.gcTime) && (this.#gcTimeout = setTimeout((() => { this.optionalRemove() }), this.gcTime)) } updateGcTime(e) { this.gcTime = Math.max(this.gcTime || 0, e ?? (r.sk ? 1 / 0 : 3e5)) } clearGcTimeout() { this.#gcTimeout && (clearTimeout(this.#gcTimeout), this.#gcTimeout = void 0) } } }, 72008: function (e, t, n) { "use strict"; n.d(t, { Kw: function () { return c }, Mz: function () { return d }, DV: function () { return u } }); var r = n(66474), i = n(14304), o = n(13820), s = n(24139); function a(e) { return Math.min(1e3 * 2 ** e, 3e4) } function c(e) { return "online" !== (e ?? "online") || i.N.isOnline() } var l = class extends Error { constructor(e) { super("CancelledError"), this.revert = e?.revert, this.silent = e?.silent } }; function u(e) { return e instanceof l } function d(e) { let t, n = !1, u = 0, d = !1; const h = (0, o.O)(), f = () => r.j.isFocused() && ("always" === e.networkMode || i.N.isOnline()) && e.canRun(), p = () => c(e.networkMode) && e.canRun(), m = n => { d || (d = !0, e.onSuccess?.(n), t?.(), h.resolve(n)) }, g = n => { d || (d = !0, e.onError?.(n), t?.(), h.reject(n)) }, y = () => new Promise((n => { t = e => { (d || f()) && n(e) }, e.onPause?.() })).then((() => { t = void 0, d || e.onContinue?.() })), b = () => { if (d) return; let t; const r = 0 === u ? e.initialPromise : void 0; try { t = r ?? e.fn() } catch (i) { t = Promise.reject(i) } Promise.resolve(t).then(m).catch((t => { if (d) return; const r = e.retry ?? (s.sk ? 0 : 3), i = e.retryDelay ?? a, o = "function" === typeof i ? i(u, t) : i, c = !0 === r || "number" === typeof r && u < r || "function" === typeof r && r(u, t); !n && c ? (u++, e.onFail?.(u, t), (0, s._v)(o).then((() => f() ? void 0 : y())).then((() => { n ? g(t) : b() }))) : g(t) })) }; return { promise: h, cancel: t => { d || (g(new l(t)), e.abort?.()) }, continue: () => (t?.(), h), cancelRetry: () => { n = !0 }, continueRetry: () => { n = !1 }, canStart: p, start: () => (p() ? b() : y().then(b), h) } } }, 7506: function (e, t, n) { "use strict"; n.d(t, { l: function () { return r } }); var r = class { constructor() { this.listeners = new Set, this.subscribe = this.subscribe.bind(this) } subscribe(e) { return this.listeners.add(e), this.onSubscribe(), () => { this.listeners.delete(e), this.onUnsubscribe() } } hasListeners() { return this.listeners.size > 0 } onSubscribe() { } onUnsubscribe() { } } }, 13820: function (e, t, n) { "use strict"; function r() { let e, t; const n = new Promise(((n, r) => { e = n, t = r })); function r(e) { Object.assign(n, e), delete n.resolve, delete n.reject } return n.status = "pending", n.catch((() => { })), n.resolve = t => { r({ status: "fulfilled", value: t }), e(t) }, n.reject = e => { r({ status: "rejected", reason: e }), t(e) }, n } n.d(t, { O: function () { return r } }) }, 24139: function (e, t, n) { "use strict"; n.d(t, { VX: function () { return x }, Ht: function () { return _ }, cG: function () { return A }, SE: function () { return o }, Ym: function () { return f }, Rm: function () { return h }, sk: function () { return r }, PN: function () { return s }, X7: function () { return d }, _x: function () { return u }, ZT: function () { return i }, to: function () { return p }, oE: function () { return E }, Q$: function () { return m }, Nc: function () { return l }, KC: function () { return c }, VS: function () { return g }, CN: function () { return C }, _v: function () { return w }, Kp: function () { return a } }); var r = "undefined" === typeof window || "Deno" in globalThis; function i() { } function o(e, t) { return "function" === typeof e ? e(t) : e } function s(e) { return "number" === typeof e && e >= 0 && e !== 1 / 0 } function a(e, t) { return Math.max(e + (t || 0) - Date.now(), 0) } function c(e, t) { return "function" === typeof e ? e(t) : e } function l(e, t) { return "function" === typeof e ? e(t) : e } function u(e, t) { const { type: n = "all", exact: r, fetchStatus: i, predicate: o, queryKey: s, stale: a } = e; if (s) if (r) { if (t.queryHash !== h(s, t.options)) return !1 } else if (!p(t.queryKey, s)) return !1; if ("all" !== n) { const e = t.isActive(); if ("active" === n && !e) return !1; if ("inactive" === n && e) return !1 } return ("boolean" !== typeof a || t.isStale() === a) && ((!i || i === t.state.fetchStatus) && !(o && !o(t))) } function d(e, t) { const { exact: n, status: r, predicate: i, mutationKey: o } = e; if (o) { if (!t.options.mutationKey) return !1; if (n) { if (f(t.options.mutationKey) !== f(o)) return !1 } else if (!p(t.options.mutationKey, o)) return !1 } return (!r || t.state.status === r) && !(i && !i(t)) } function h(e, t) { return (t?.queryKeyHashFn || f)(e) } function f(e) { return JSON.stringify(e, ((e, t) => b(t) ? Object.keys(t).sort().reduce(((e, n) => (e[n] = t[n], e)), {}) : t)) } function p(e, t) { return e === t || typeof e === typeof t && (!(!e || !t || "object" !== typeof e || "object" !== typeof t) && !Object.keys(t).some((n => !p(e[n], t[n])))) } function m(e, t) { if (e === t) return e; const n = y(e) && y(t); if (n || b(e) && b(t)) { const r = n ? e : Object.keys(e), i = r.length, o = n ? t : Object.keys(t), s = o.length, a = n ? [] : {}; let c = 0; for (let l = 0; l < s; l++) { const i = n ? l : o[l]; (!n && r.includes(i) || n) && void 0 === e[i] && void 0 === t[i] ? (a[i] = void 0, c++) : (a[i] = m(e[i], t[i]), a[i] === e[i] && void 0 !== e[i] && c++) } return i === s && c === i ? e : a } return t } function g(e, t) { if (!t || Object.keys(e).length !== Object.keys(t).length) return !1; for (const n in e) if (e[n] !== t[n]) return !1; return !0 } function y(e) { return Array.isArray(e) && e.length === Object.keys(e).length } function b(e) { if (!v(e)) return !1; const t = e.constructor; if (void 0 === t) return !0; const n = t.prototype; return !!v(n) && (!!n.hasOwnProperty("isPrototypeOf") && Object.getPrototypeOf(e) === Object.prototype) } function v(e) { return "[object Object]" === Object.prototype.toString.call(e) } function w(e) { return new Promise((t => { setTimeout(t, e) })) } function E(e, t, n) { return "function" === typeof n.structuralSharing ? n.structuralSharing(e, t) : !1 !== n.structuralSharing ? m(e, t) : t } function x(e, t, n = 0) { const r = [...e, t]; return n && r.length > n ? r.slice(1) : r } function _(e, t, n = 0) { const r = [t, ...e]; return n && r.length > n ? r.slice(0, -1) : r } var C = Symbol(); function A(e, t) { return !e.queryFn && t?.initialPromise ? () => t.initialPromise : e.queryFn && e.queryFn !== C ? e.queryFn : () => Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)) } }, 30202: function (e, t, n) { "use strict"; n.d(t, { aH: function () { return a }, NL: function () { return s } }); var r = n(67294), i = n(85893), o = r.createContext(void 0), s = e => { const t = r.useContext(o); if (e) return e; if (!t) throw new Error("No QueryClient set, use QueryClientProvider to set one"); return t }, a = ({ client: e, children: t }) => (r.useEffect((() => (e.mount(), () => { e.unmount() })), [e]), (0, i.jsx)(o.Provider, { value: e, children: t })) }, 7066: function (e, t, n) { "use strict"; n.d(t, { G: function () { return a } }); var r = n(79983); var i, o, s = function (e, t, n, r) { if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter"); if ("function" === typeof t ? e !== t || !r : !t.has(e)) throw new TypeError("Cannot read private member from an object whose class did not declare it"); return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e) }; class a extends Error { get docsBaseUrl() { return "https://wagmi.sh/core" } get version() { return `@wagmi/core@${r.i}` } constructor(e, t = {}) { super(), i.add(this), Object.defineProperty(this, "details", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "docsPath", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "metaMessages", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "shortMessage", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "WagmiCoreError" }); const n = t.cause instanceof a ? t.cause.details : t.cause?.message ? t.cause.message : t.details, r = t.cause instanceof a && t.cause.docsPath || t.docsPath; this.message = [e || "An error occurred.", "", ...t.metaMessages ? [...t.metaMessages, ""] : [], ...r ? [`Docs: ${this.docsBaseUrl}${r}.html${t.docsSlug ? `#${t.docsSlug}` : ""}`] : [], ...n ? [`Details: ${n}`] : [], `Version: ${this.version}`].join("\n"), t.cause && (this.cause = t.cause), this.details = n, this.docsPath = r, this.metaMessages = t.metaMessages, this.shortMessage = e } walk(e) { return s(this, i, "m", o).call(this, this, e) } } i = new WeakSet, o = function e(t, n) { return n?.(t) ? t : t.cause ? s(this, i, "m", e).call(this, t.cause, n) : t } }, 87675: function (e, t, n) { "use strict"; n.d(t, { X4: function () { return i }, aH: function () { return o }, JK: function () { return s }, XZ: function () { return a }, $S: function () { return c } }); var r = n(7066); class i extends r.G { constructor() { super("Chain not configured."), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "ChainNotConfiguredError" }) } } class o extends r.G { constructor() { super("Connector not connected."), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "ConnectorNotConnectedError" }) } } class s extends r.G { constructor({ address: e, connector: t }) { super(`Account "${e}" not found for connector "${t.name}".`), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "ConnectorAccountNotFoundError" }) } } class a extends r.G { constructor({ connectionChainId: e, connectorChainId: t }) { super(`The current chain of the connector (id: ${t}) does not match the connection's chain (id: ${e}).`, { metaMessages: [`Current Chain ID:  ${t}`, `Expected Chain ID: ${e}`] }), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "ConnectorChainMismatchError" }) } } class c extends r.G { constructor({ connector: e }) { super(`Connector "${e.name}" unavailable while reconnecting.`, { details: ["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.", "All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.", "This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ") }), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "ConnectorUnavailableReconnectingError" }) } } }, 79983: function (e, t, n) { "use strict"; n.d(t, { i: function () { return r } }); const r = "2.16.0" }, 84917: function (e, t, n) { "use strict"; function r(e, t) { return e.exec(t)?.groups } n.d(t, { Zw: function () { return r }, eL: function () { return i }, lh: function () { return o }, cN: function () { return s } }); const i = /^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/, o = /^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/, s = /^\(.+?\).*?$/ }, 82673: function (e, t, n) { "use strict"; n.d(t, { ZP: function () { return a } }); const r = /"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/, i = /"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/, o = /^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/; function s(e, t) { if (!("__proto__" === e || "constructor" === e && t && "object" === typeof t && "prototype" in t)) return t; !function (e) { console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`) }(e) } function a(e, t = {}) { if ("string" !== typeof e) return e; const n = e.trim(); if ('"' === e[0] && e.endsWith('"') && !e.includes("\\")) return n.slice(1, -1); if (n.length <= 9) { const e = n.toLowerCase(); if ("true" === e) return !0; if ("false" === e) return !1; if ("undefined" === e) return; if ("null" === e) return null; if ("nan" === e) return Number.NaN; if ("infinity" === e) return Number.POSITIVE_INFINITY; if ("-infinity" === e) return Number.NEGATIVE_INFINITY } if (!o.test(e)) { if (t.strict) throw new SyntaxError("[destr] Invalid JSON"); return e } try { if (r.test(e) || i.test(e)) { if (t.strict) throw new Error("[destr] Possible prototype pollution"); return JSON.parse(e, s) } return JSON.parse(e) } catch (a) { if (t.strict) throw a; return e } } }, 21031: function (e, t, n) { "use strict"; n.d(t, { F: function () { return $ }, c: function () { return H } }); var r = n(82673); Math.floor, String.fromCharCode; const i = /#/g, o = /&/g, s = /\//g, a = /=/g, c = /\+/g, l = /%5e/gi, u = /%60/gi, d = /%7c/gi, h = /%20/gi; function f(e) { return encodeURI("" + e).replace(d, "|") } function p(e) { return f("string" === typeof e ? e : JSON.stringify(e)).replace(c, "%2B").replace(h, "+").replace(i, "%23").replace(o, "%26").replace(u, "`").replace(l, "^").replace(s, "%2F") } function m(e) { return p(e).replace(a, "%3D") } function g(e = "") { try { return decodeURIComponent("" + e) } catch { return "" + e } } function y(e) { return g(e.replace(c, " ")) } function b(e = "") { const t = {}; "?" === e[0] && (e = e.slice(1)); for (const n of e.split("&")) { const e = n.match(/([^=]+)=?(.*)/) || []; if (e.length < 2) continue; const r = g(e[1].replace(c, " ")); if ("__proto__" === r || "constructor" === r) continue; const i = y(e[2] || ""); void 0 === t[r] ? t[r] = i : Array.isArray(t[r]) ? t[r].push(i) : t[r] = [t[r], i] } return t } function v(e) { return Object.keys(e).filter((t => void 0 !== e[t])).map((t => { return n = t, "number" !== typeof (r = e[t]) && "boolean" !== typeof r || (r = String(r)), r ? Array.isArray(r) ? r.map((e => `${m(n)}=${p(e)}`)).join("&") : `${m(n)}=${p(r)}` : m(n); var n, r })).filter(Boolean).join("&") } const w = /^[\s\w\0+.-]{2,}:([/\\]{1,2})/, E = /^[\s\w\0+.-]{2,}:([/\\]{2})?/, x = /^([/\\]\s*){2,}[^/\\]/, _ = /\/$|\/\?|\/#/, C = /^\.?\//; function A(e, t = {}) { return "boolean" === typeof t && (t = { acceptRelative: t }), t.strict ? w.test(e) : E.test(e) || !!t.acceptRelative && x.test(e) } function S(e = "", t) { return t ? _.test(e) : e.endsWith("/") } function k(e = "", t) { if (!t) return (S(e) ? e.slice(0, -1) : e) || "/"; if (!S(e, !0)) return e || "/"; let n = e, r = ""; const i = e.indexOf("#"); i >= 0 && (n = e.slice(0, i), r = e.slice(i)); const [o, ...s] = n.split("?"); return ((o.endsWith("/") ? o.slice(0, -1) : o) || "/") + (s.length > 0 ? `?${s.join("?")}` : "") + r } function I(e = "", t) { if (!t) return e.endsWith("/") ? e : e + "/"; if (S(e, !0)) return e || "/"; let n = e, r = ""; const i = e.indexOf("#"); if (i >= 0 && (n = e.slice(0, i), r = e.slice(i), !n)) return r; const [o, ...s] = n.split("?"); return o + "/" + (s.length > 0 ? `?${s.join("?")}` : "") + r } function T(e, t) { if (N(t) || A(e)) return e; const n = k(t); return e.startsWith(n) ? e : function (e, ...t) { let n = e || ""; for (const r of t.filter((e => P(e)))) if (n) { const e = r.replace(C, ""); n = I(n) + e } else n = r; return n }(n, e) } function N(e) { return !e || "/" === e } function P(e) { return e && "/" !== e } const M = Symbol.for("ufo:protocolRelative"); function O(e = "", t) { const n = e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i); if (n) { const [, e, t = ""] = n; return { protocol: e.toLowerCase(), pathname: t, href: e + t, auth: "", host: "", search: "", hash: "" } } if (!A(e, { acceptRelative: !0 })) return t ? O(t + e) : R(e); const [, r = "", i, o = ""] = e.replace(/\\/g, "/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/) || []; let [, s = "", a = ""] = o.match(/([^#/?]*)(.*)?/) || []; "file:" === r && (a = a.replace(/\/(?=[A-Za-z]:)/, "")); const { pathname: c, search: l, hash: u } = R(a); return { protocol: r.toLowerCase(), auth: i ? i.slice(0, Math.max(0, i.length - 1)) : "", host: s, pathname: c, search: l, hash: u, [M]: !r } } function R(e = "") { const [t = "", n = "", r = ""] = (e.match(/([^#?]*)(\?[^#]*)?(#.*)?/) || []).splice(1); return { pathname: t, search: n, hash: r } } function j(e) { const t = e.pathname || "", n = e.search ? (e.search.startsWith("?") ? "" : "?") + e.search : "", r = e.hash || "", i = e.auth ? e.auth + "@" : "", o = e.host || ""; return (e.protocol || e[M] ? (e.protocol || "") + "//" : "") + i + o + t + n + r } Object.defineProperty; class $ extends Error { constructor(e, t) { super(e, t), this.name = "FetchError", t?.cause && !this.cause && (this.cause = t.cause) } } const L = new Set(Object.freeze(["PATCH", "POST", "PUT", "DELETE"])); function D(e = "GET") { return L.has(e.toUpperCase()) } const U = new Set(["image/svg", "application/xml", "application/xhtml", "application/html"]), F = /^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i; function B(e, t, n, r) { const i = function (e, t, n) { if (!t) return new n(e); const r = new n(t); if (e) for (const [i, o] of Symbol.iterator in e || Array.isArray(e) ? e : new n(e)) r.set(i, o); return r }(t?.headers ?? e?.headers, n?.headers, r); let o; return (n?.query || n?.params || t?.params || t?.query) && (o = { ...n?.params, ...n?.query, ...t?.params, ...t?.query }), { ...n, ...t, query: o, params: o, headers: i } } async function W(e, t) { if (t) if (Array.isArray(t)) for (const n of t) await n(e); else await t(e) } const z = new Set([408, 409, 425, 429, 500, 502, 503, 504]), q = new Set([101, 204, 205, 304]); function H(e = {}) { const { fetch: t = globalThis.fetch, Headers: n = globalThis.Headers, AbortController: i = globalThis.AbortController } = e; async function o(e) { const t = e.error && "AbortError" === e.error.name && !e.options.timeout || !1; if (!1 !== e.options.retry && !t) { let t; t = "number" === typeof e.options.retry ? e.options.retry : D(e.options.method) ? 0 : 1; const n = e.response && e.response.status || 500; if (t > 0 && (Array.isArray(e.options.retryStatusCodes) ? e.options.retryStatusCodes.includes(n) : z.has(n))) { const n = "function" === typeof e.options.retryDelay ? e.options.retryDelay(e) : e.options.retryDelay || 0; return n > 0 && await new Promise((e => setTimeout(e, n))), s(e.request, { ...e.options, retry: t - 1 }) } } const n = function (e) { const t = e.error?.message || e.error?.toString() || "", n = e.request?.method || e.options?.method || "GET", r = e.request?.url || String(e.request) || "/", i = `[${n}] ${JSON.stringify(r)}`, o = e.response ? `${e.response.status} ${e.response.statusText}` : "<no response>", s = new $(`${i}: ${o}${t ? ` ${t}` : ""}`, e.error ? { cause: e.error } : void 0); for (const a of ["request", "options", "response"]) Object.defineProperty(s, a, { get: () => e[a] }); for (const [a, c] of [["data", "_data"], ["status", "status"], ["statusCode", "status"], ["statusText", "statusText"], ["statusMessage", "statusText"]]) Object.defineProperty(s, a, { get: () => e.response && e.response[c] }); return s }(e); throw Error.captureStackTrace && Error.captureStackTrace(n, s), n } const s = async function (s, a = {}) { const c = { request: s, options: B(s, a, e.defaults, n), response: void 0, error: void 0 }; let l; if (c.options.method && (c.options.method = c.options.method.toUpperCase()), c.options.onRequest && await W(c, c.options.onRequest), "string" === typeof c.request && (c.options.baseURL && (c.request = T(c.request, c.options.baseURL)), c.options.query && (c.request = function (e, t) { const n = O(e), r = { ...b(n.search), ...t }; return n.search = v(r), j(n) }(c.request, c.options.query), delete c.options.query), "query" in c.options && delete c.options.query, "params" in c.options && delete c.options.params), c.options.body && D(c.options.method) && (!function (e) { if (void 0 === e) return !1; const t = typeof e; return "string" === t || "number" === t || "boolean" === t || null === t || "object" === t && (!!Array.isArray(e) || !e.buffer && (e.constructor && "Object" === e.constructor.name || "function" === typeof e.toJSON)) }(c.options.body) ? ("pipeTo" in c.options.body && "function" === typeof c.options.body.pipeTo || "function" === typeof c.options.body.pipe) && ("duplex" in c.options || (c.options.duplex = "half")) : (c.options.body = "string" === typeof c.options.body ? c.options.body : JSON.stringify(c.options.body), c.options.headers = new n(c.options.headers || {}), c.options.headers.has("content-type") || c.options.headers.set("content-type", "application/json"), c.options.headers.has("accept") || c.options.headers.set("accept", "application/json"))), !c.options.signal && c.options.timeout) { const e = new i; l = setTimeout((() => { const t = new Error("[TimeoutError]: The operation was aborted due to timeout"); t.name = "TimeoutError", t.code = 23, e.abort(t) }), c.options.timeout), c.options.signal = e.signal } try { c.response = await t(c.request, c.options) } catch (u) { return c.error = u, c.options.onRequestError && await W(c, c.options.onRequestError), await o(c) } finally { l && clearTimeout(l) } if ((c.response.body || c.response._bodyInit) && !q.has(c.response.status) && "HEAD" !== c.options.method) { const e = (c.options.parseResponse ? "json" : c.options.responseType) || function (e = "") { if (!e) return "json"; const t = e.split(";").shift() || ""; return F.test(t) ? "json" : U.has(t) || t.startsWith("text/") ? "text" : "blob" }(c.response.headers.get("content-type") || ""); switch (e) { case "json": { const e = await c.response.text(), t = c.options.parseResponse || r.ZP; c.response._data = t(e); break } case "stream": c.response._data = c.response.body || c.response._bodyInit; break; default: c.response._data = await c.response[e]() } } return c.options.onResponse && await W(c, c.options.onResponse), !c.options.ignoreResponseError && c.response.status >= 400 && c.response.status < 600 ? (c.options.onResponseError && await W(c, c.options.onResponseError), await o(c)) : c.response }, a = async function (e, t) { return (await s(e, t))._data }; return a.raw = s, a.native = (...e) => t(...e), a.create = (t = {}, n = {}) => H({ ...e, ...n, defaults: { ...e.defaults, ...n.defaults, ...t } }), a } }, 14503: function (e, t, n) { "use strict"; function r(e) { return "string" === typeof e ? { address: e, type: "json-rpc" } : e } n.d(t, { T: function () { return r } }) }, 43558: function (e, t, n) { "use strict"; n.d(t, { R: function () { return oe } }); var r = n(84917); const i = /^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/; const o = /^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/; const s = /^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/; const a = /^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/; function c(e) { return a.test(e) } function l(e) { return (0, r.Zw)(a, e) } const u = /^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/; const d = /^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/; const h = /^receive\(\) external payable$/; new Set(["memory", "indexed", "storage", "calldata"]); const f = new Set(["indexed"]), p = new Set(["calldata", "memory", "storage"]); class m extends Error { constructor(e, t = {}) { const n = t.cause instanceof m ? t.cause.details : t.cause?.message ? t.cause.message : t.details, r = t.cause instanceof m && t.cause.docsPath || t.docsPath; super([e || "An error occurred.", "", ...t.metaMessages ? [...t.metaMessages, ""] : [], ...r ? [`Docs: https://abitype.dev${r}`] : [], ...n ? [`Details: ${n}`] : [], "Version: abitype@1.0.7"].join("\n")), Object.defineProperty(this, "details", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "docsPath", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "metaMessages", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "shortMessage", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "AbiTypeError" }), t.cause && (this.cause = t.cause), this.details = n, this.docsPath = r, this.metaMessages = t.metaMessages, this.shortMessage = e } } class g extends m { constructor({ type: e }) { super("Unknown type.", { metaMessages: [`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`] }), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "UnknownTypeError" }) } } class y extends m { constructor({ type: e }) { super("Unknown type.", { metaMessages: [`Type "${e}" is not a valid ABI type.`] }), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "UnknownSolidityTypeError" }) } } class b extends m { constructor({ param: e }) { super("Invalid ABI parameter.", { details: e }), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "InvalidParameterError" }) } } class v extends m { constructor({ param: e, name: t }) { super("Invalid ABI parameter.", { details: e, metaMessages: [`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`] }), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "SolidityProtectedKeywordError" }) } } class w extends m { constructor({ param: e, type: t, modifier: n }) { super("Invalid ABI parameter.", { details: e, metaMessages: [`Modifier "${n}" not allowed${t ? ` in "${t}" type` : ""}.`] }), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "InvalidModifierError" }) } } class E extends m { constructor({ param: e, type: t, modifier: n }) { super("Invalid ABI parameter.", { details: e, metaMessages: [`Modifier "${n}" not allowed${t ? ` in "${t}" type` : ""}.`, `Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`] }), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "InvalidFunctionModifierError" }) } } class x extends m { constructor({ abiParameter: e }) { super("Invalid ABI parameter.", { details: JSON.stringify(e, null, 2), metaMessages: ["ABI parameter type is invalid."] }), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "InvalidAbiTypeParameterError" }) } } class _ extends m { constructor({ signature: e, type: t }) { super(`Invalid ${t} signature.`, { details: e }), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "InvalidSignatureError" }) } } class C extends m { constructor({ signature: e }) { super("Unknown signature.", { details: e }), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "UnknownSignatureError" }) } } class A extends m { constructor({ signature: e }) { super("Invalid struct signature.", { details: e, metaMessages: ["No properties exist."] }), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "InvalidStructSignatureError" }) } } class S extends m { constructor({ type: e }) { super("Circular reference detected.", { metaMessages: [`Struct "${e}" is a circular reference.`] }), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "CircularReferenceError" }) } } class k extends m { constructor({ current: e, depth: t }) { super("Unbalanced parentheses.", { metaMessages: [`"${e.trim()}" has too many ${t > 0 ? "opening" : "closing"} parentheses.`], details: `Depth "${t}"` }), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "InvalidParenthesisError" }) } } const I = new Map([["address", { type: "address" }], ["bool", { type: "bool" }], ["bytes", { type: "bytes" }], ["bytes32", { type: "bytes32" }], ["int", { type: "int256" }], ["int256", { type: "int256" }], ["string", { type: "string" }], ["uint", { type: "uint256" }], ["uint8", { type: "uint8" }], ["uint16", { type: "uint16" }], ["uint24", { type: "uint24" }], ["uint32", { type: "uint32" }], ["uint64", { type: "uint64" }], ["uint96", { type: "uint96" }], ["uint112", { type: "uint112" }], ["uint160", { type: "uint160" }], ["uint192", { type: "uint192" }], ["uint256", { type: "uint256" }], ["address owner", { type: "address", name: "owner" }], ["address to", { type: "address", name: "to" }], ["bool approved", { type: "bool", name: "approved" }], ["bytes _data", { type: "bytes", name: "_data" }], ["bytes data", { type: "bytes", name: "data" }], ["bytes signature", { type: "bytes", name: "signature" }], ["bytes32 hash", { type: "bytes32", name: "hash" }], ["bytes32 r", { type: "bytes32", name: "r" }], ["bytes32 root", { type: "bytes32", name: "root" }], ["bytes32 s", { type: "bytes32", name: "s" }], ["string name", { type: "string", name: "name" }], ["string symbol", { type: "string", name: "symbol" }], ["string tokenURI", { type: "string", name: "tokenURI" }], ["uint tokenId", { type: "uint256", name: "tokenId" }], ["uint8 v", { type: "uint8", name: "v" }], ["uint256 balance", { type: "uint256", name: "balance" }], ["uint256 tokenId", { type: "uint256", name: "tokenId" }], ["uint256 value", { type: "uint256", name: "value" }], ["event:address indexed from", { type: "address", name: "from", indexed: !0 }], ["event:address indexed to", { type: "address", name: "to", indexed: !0 }], ["event:uint indexed tokenId", { type: "uint256", name: "tokenId", indexed: !0 }], ["event:uint256 indexed tokenId", { type: "uint256", name: "tokenId", indexed: !0 }]]); function T(e, t = {}) { if (function (e) { return s.test(e) }(e)) { const n = function (e) { return (0, r.Zw)(s, e) }(e); if (!n) throw new _({ signature: e, type: "function" }); const i = R(n.parameters), o = [], a = i.length; for (let e = 0; e < a; e++)o.push(O(i[e], { modifiers: p, structs: t, type: "function" })); const c = []; if (n.returns) { const e = R(n.returns), r = e.length; for (let n = 0; n < r; n++)c.push(O(e[n], { modifiers: p, structs: t, type: "function" })) } return { name: n.name, type: "function", stateMutability: n.stateMutability ?? "nonpayable", inputs: o, outputs: c } } if (function (e) { return o.test(e) }(e)) { const n = function (e) { return (0, r.Zw)(o, e) }(e); if (!n) throw new _({ signature: e, type: "event" }); const i = R(n.parameters), s = [], a = i.length; for (let e = 0; e < a; e++)s.push(O(i[e], { modifiers: f, structs: t, type: "event" })); return { name: n.name, type: "event", inputs: s } } if (function (e) { return i.test(e) }(e)) { const n = function (e) { return (0, r.Zw)(i, e) }(e); if (!n) throw new _({ signature: e, type: "error" }); const o = R(n.parameters), s = [], a = o.length; for (let e = 0; e < a; e++)s.push(O(o[e], { structs: t, type: "error" })); return { name: n.name, type: "error", inputs: s } } if (function (e) { return u.test(e) }(e)) { const n = function (e) { return (0, r.Zw)(u, e) }(e); if (!n) throw new _({ signature: e, type: "constructor" }); const i = R(n.parameters), o = [], s = i.length; for (let e = 0; e < s; e++)o.push(O(i[e], { structs: t, type: "constructor" })); return { type: "constructor", stateMutability: n.stateMutability ?? "nonpayable", inputs: o } } if (function (e) { return d.test(e) }(e)) return { type: "fallback" }; if (function (e) { return h.test(e) }(e)) return { type: "receive", stateMutability: "payable" }; throw new C({ signature: e }) } const N = /^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/, P = /^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/, M = /^u?int$/; function O(e, t) { const n = function (e, t, n) { let r = ""; if (n) for (const i of Object.entries(n)) { if (!i) continue; let e = ""; for (const t of i[1]) e += `[${t.type}${t.name ? `:${t.name}` : ""}]`; r += `(${i[0]}{${e}})` } return t ? `${t}:${e}${r}` : e }(e, t?.type, t?.structs); if (I.has(n)) return I.get(n); const i = r.cN.test(e), o = (0, r.Zw)(i ? P : N, e); if (!o) throw new b({ param: e }); if (o.name && function (e) { return "address" === e || "bool" === e || "function" === e || "string" === e || "tuple" === e || r.eL.test(e) || r.lh.test(e) || $.test(e) }(o.name)) throw new v({ param: e, name: o.name }); const s = o.name ? { name: o.name } : {}, a = "indexed" === o.modifier ? { indexed: !0 } : {}, c = t?.structs ?? {}; let l, u = {}; if (i) { l = "tuple"; const e = R(o.type), t = [], n = e.length; for (let r = 0; r < n; r++)t.push(O(e[r], { structs: c })); u = { components: t } } else if (o.type in c) l = "tuple", u = { components: c[o.type] }; else if (M.test(o.type)) l = `${o.type}256`; else if (l = o.type, "struct" !== t?.type && !j(l)) throw new y({ type: l }); if (o.modifier) { if (!t?.modifiers?.has?.(o.modifier)) throw new w({ param: e, type: t?.type, modifier: o.modifier }); if (p.has(o.modifier) && !function (e, t) { return t || "bytes" === e || "string" === e || "tuple" === e }(l, !!o.array)) throw new E({ param: e, type: t?.type, modifier: o.modifier }) } const d = { type: `${l}${o.array ?? ""}`, ...s, ...a, ...u }; return I.set(n, d), d } function R(e, t = [], n = "", r = 0) { const i = e.trim().length; for (let o = 0; o < i; o++) { const i = e[o], s = e.slice(o + 1); switch (i) { case ",": return 0 === r ? R(s, [...t, n.trim()]) : R(s, t, `${n}${i}`, r); case "(": return R(s, t, `${n}${i}`, r + 1); case ")": return R(s, t, `${n}${i}`, r - 1); default: return R(s, t, `${n}${i}`, r) } } if ("" === n) return t; if (0 !== r) throw new k({ current: n, depth: r }); return t.push(n.trim()), t } function j(e) { return "address" === e || "bool" === e || "function" === e || "string" === e || r.eL.test(e) || r.lh.test(e) } const $ = /^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/; const L = /^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/; function D(e, t, n = new Set) { const i = [], o = e.length; for (let s = 0; s < o; s++) { const o = e[s]; if (r.cN.test(o.type)) i.push(o); else { const e = (0, r.Zw)(L, o.type); if (!e?.type) throw new x({ abiParameter: o }); const { array: s, type: a } = e; if (a in t) { if (n.has(a)) throw new S({ type: a }); i.push({ ...o, type: `tuple${s ?? ""}`, components: D(t[a] ?? [], t, new Set([...n, a])) }) } else { if (!j(a)) throw new g({ type: a }); i.push(o) } } } return i } function U(e) { const t = function (e) { const t = {}, n = e.length; for (let s = 0; s < n; s++) { const n = e[s]; if (!c(n)) continue; const r = l(n); if (!r) throw new _({ signature: n, type: "struct" }); const i = r.properties.split(";"), o = [], a = i.length; for (let e = 0; e < a; e++) { const t = i[e].trim(); if (!t) continue; const n = O(t, { type: "struct" }); o.push(n) } if (!o.length) throw new A({ signature: n }); t[r.name] = o } const r = {}, i = Object.entries(t), o = i.length; for (let s = 0; s < o; s++) { const [e, n] = i[s]; r[e] = D(n, t) } return r }(e), n = [], r = e.length; for (let i = 0; i < r; i++) { const r = e[i]; c(r) || n.push(T(r, t)) } return n } var F = n(14503), B = n(16693); const W = "0x82ad56cb"; var z = n(18590), q = n(36117), H = n(80377), G = n(97405), V = n(7210), K = n(30286), Y = n(55629), Z = n(47864), X = n(92106), J = n(26445), Q = n(87469); var ee = n(61163), te = n(74688), ne = n(32357), re = n(50150), ie = n(35721); async function oe(e, t) { const { account: r = e.account, batch: i = Boolean(e.batch?.multicall), blockNumber: o, blockTag: s = "latest", accessList: a, blobs: c, code: l, data: u, factory: d, factoryData: h, gas: f, gasPrice: p, maxFeePerBlobGas: m, maxFeePerGas: g, maxPriorityFeePerGas: y, nonce: b, to: v, value: w, stateOverride: E, ...x } = t, _ = r ? (0, F.T)(r) : void 0; if (l && (d || h)) throw new q.G("Cannot provide both `code` & `factory`/`factoryData` as parameters."); if (l && v) throw new q.G("Cannot provide both `code` & `to` as parameters."); const C = l && u, A = d && h && v && u, S = C || A, k = C ? function (e) { const { code: t, data: n } = e; return (0, K.w)({ abi: U(["constructor(bytes, bytes)"]), bytecode: z.NO, args: [t, n] }) }({ code: l, data: u }) : A ? function (e) { const { data: t, factory: n, factoryData: r, to: i } = e; return (0, K.w)({ abi: U(["constructor(address, bytes, address, bytes)"]), bytecode: z.pG, args: [i, t, n, r] }) }({ data: u, factory: d, factoryData: h, to: v }) : u; try { (0, ie.F)(t); const n = (o ? (0, X.eC)(o) : void 0) || s, r = (0, re.mF)(E), l = e.chain?.formatters?.transactionRequest?.format, u = (l || te.tG)({ ...(0, ee.K)(x, { format: l }), from: _?.address, accessList: a, blobs: c, data: k, gas: f, gasPrice: p, maxFeePerBlobGas: m, maxFeePerGas: g, maxPriorityFeePerGas: y, nonce: b, to: S ? void 0 : v, value: w }); if (i && function ({ request: e }) { const { data: t, to: n, ...r } = e; return !!t && (!t.startsWith(W) && (!!n && !(Object.values(r).filter((e => "undefined" !== typeof e)).length > 0))) }({ request: u }) && !r) try { return await async function (e, t) { const { batchSize: n = 1024, wait: r = 0 } = "object" === typeof e.batch?.multicall ? e.batch.multicall : {}, { blockNumber: i, blockTag: o = "latest", data: s, multicallAddress: a, to: c } = t; let l = a; if (!l) { if (!e.chain) throw new H.pZ; l = (0, Z.L)({ blockNumber: i, chain: e.chain, contract: "multicall3" }) } const u = (i ? (0, X.eC)(i) : void 0) || o, { schedule: d } = (0, ne.S)({ id: `${e.uid}.${u}`, wait: r, shouldSplitBatch: e => e.reduce(((e, { data: t }) => e + (t.length - 2)), 0) > 2 * n, fn: async t => { const n = t.map((e => ({ allowFailure: !0, callData: e.data, target: e.to }))), r = (0, Y.R)({ abi: B.F8, args: [n], functionName: "aggregate3" }), i = await e.request({ method: "eth_call", params: [{ data: r, to: l }, u] }); return (0, V.k)({ abi: B.F8, args: [n], functionName: "aggregate3", data: i || "0x" }) } }), [{ returnData: h, success: f }] = await d({ data: s, to: c }); if (!f) throw new G.VQ({ data: h }); return "0x" === h ? { data: void 0 } : { data: h } }(e, { ...u, blockNumber: o, blockTag: s }) } catch (I) { if (!(I instanceof H.pZ) && !(I instanceof H.mm)) throw I } const d = await e.request({ method: "eth_call", params: r ? [u, n, r] : [u, n] }); return "0x" === d ? { data: void 0 } : { data: d } } catch (I) { const r = function (e) { if (!(e instanceof q.G)) return; const t = e.walk(); return "object" === typeof t?.data ? t.data?.data : t.data }(I), { offchainLookup: i, offchainLookupSignature: o } = await n.e(785).then(n.bind(n, 21785)); if (!1 !== e.ccipRead && r?.slice(0, 10) === o && v) return { data: await i(e, { data: r, to: v }) }; if (S && "0x101bb98d" === r?.slice(0, 10)) throw new G.Mo({ factory: d }); throw function (e, { docsPath: t, ...n }) { const r = (() => { const t = (0, Q.k)(e, n); return t instanceof J.cj ? e : t })(); return new G.cg(r, { docsPath: t, ...n }) }(I, { ...t, account: _, chain: e.chain }) } } }, 43861: function (e, t, n) { "use strict"; n.d(t, { X: function () { return c }, C: function () { return l } }); var r = n(15371), i = n(93714), o = n(79379), s = n(68240), a = n(24453); async function c(e, t) { return l(e, t) } async function l(e, t) { const { block: n, chain: c = e.chain, request: l, type: u = "eip1559" } = t || {}, d = await (async () => "function" === typeof c?.fees?.baseFeeMultiplier ? c.fees.baseFeeMultiplier({ block: n, client: e, request: l }) : c?.fees?.baseFeeMultiplier ?? 1.2)(); if (d < 1) throw new r.Fz; const h = 10 ** (d.toString().split(".")[1]?.length ?? 0), f = e => e * BigInt(Math.ceil(d * h)) / BigInt(h), p = n || await (0, i.s)(e, s.Q, "getBlock")({}); if ("function" === typeof c?.fees?.estimateFeesPerGas) { const t = await c.fees.estimateFeesPerGas({ block: n, client: e, multiply: f, request: l, type: u }); if (null !== t) return t } if ("eip1559" === u) { if ("bigint" !== typeof p.baseFeePerGas) throw new r.e5; const t = "bigint" === typeof l?.maxPriorityFeePerGas ? l.maxPriorityFeePerGas : await (0, o.h)(e, { block: p, chain: c, request: l }), n = f(p.baseFeePerGas); return { maxFeePerGas: l?.maxFeePerGas ?? n + t, maxPriorityFeePerGas: t } } return { gasPrice: l?.gasPrice ?? f(await (0, i.s)(e, a.o, "getGasPrice")({})) } } }, 81841: function (e, t, n) { "use strict"; n.d(t, { Q: function () { return v } }); var r = n(14503), i = n(36117), o = n(91213), s = n(92106), a = n(39625), c = n(67795), l = n(33639); class u extends i.G { constructor(e, { account: t, docsPath: n, chain: r, data: i, gas: o, gasPrice: s, maxFeePerGas: u, maxPriorityFeePerGas: d, nonce: h, to: f, value: p }) { const m = (0, l.xr)({ from: t?.address, to: f, value: "undefined" !== typeof p && `${(0, a.d)(p)} ${r?.nativeCurrency?.symbol || "ETH"}`, data: i, gas: o, gasPrice: "undefined" !== typeof s && `${(0, c.o)(s)} gwei`, maxFeePerGas: "undefined" !== typeof u && `${(0, c.o)(u)} gwei`, maxPriorityFeePerGas: "undefined" !== typeof d && `${(0, c.o)(d)} gwei`, nonce: h }); super(e.shortMessage, { cause: e, docsPath: n, metaMessages: [...e.metaMessages ? [...e.metaMessages, " "] : [], "Estimate Gas Arguments:", m].filter(Boolean), name: "EstimateGasExecutionError" }), Object.defineProperty(this, "cause", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), this.cause = e } } var d = n(26445), h = n(87469); var f = n(61163), p = n(74688), m = n(50150), g = n(35721), y = n(45141), b = n(88930); async function v(e, t) { const { account: n = e.account } = t, a = n ? (0, r.T)(n) : void 0; try { const { accessList: n, authorizationList: r, blobs: c, blobVersionedHashes: l, blockNumber: u, blockTag: d, data: h, gas: v, gasPrice: w, maxFeePerBlobGas: E, maxFeePerGas: x, maxPriorityFeePerGas: _, nonce: C, value: A, stateOverride: S, ...k } = await (0, y.Z)(e, { ...t, parameters: "local" === a?.type ? void 0 : ["blobVersionedHashes"] }), I = (u ? (0, s.eC)(u) : void 0) || d, T = (0, m.mF)(S), N = await (async () => k.to ? k.to : r && r.length > 0 ? await (0, o.z)({ authorization: r[0] }).catch((() => { throw new i.G("`to` is required. Could not infer from `authorizationList`") })) : void 0)(); (0, g.F)(t); const P = e.chain?.formatters?.transactionRequest?.format, M = (P || p.tG)({ ...(0, f.K)(k, { format: P }), from: a?.address, accessList: n, authorizationList: r, blobs: c, blobVersionedHashes: l, data: h, gas: v, gasPrice: w, maxFeePerBlobGas: E, maxFeePerGas: x, maxPriorityFeePerGas: _, nonce: C, to: N, value: A }); function O(t) { const { block: n, request: r, rpcStateOverride: i } = t; return e.request({ method: "eth_estimateGas", params: i ? [r, n ?? "latest", i] : n ? [r, n] : [r] }) } let R = BigInt(await O({ block: I, request: M, rpcStateOverride: T })); if (r) { const t = await (0, b.s)(e, { address: M.from }); R += (await Promise.all(r.map((async e => { const { contractAddress: n } = e, r = await O({ block: I, request: { authorizationList: void 0, data: h, from: a?.address, to: n, value: (0, s.eC)(t) }, rpcStateOverride: T }).catch((() => 100000n)); return 2n * BigInt(r) })))).reduce(((e, t) => e + t), 0n) } return R } catch (c) { throw function (e, { docsPath: t, ...n }) { const r = (() => { const t = (0, h.k)(e, n); return t instanceof d.cj ? e : t })(); return new u(r, { docsPath: t, ...n }) }(c, { ...t, account: a, chain: e.chain }) } } }, 79379: function (e, t, n) { "use strict"; n.d(t, { _: function () { return c }, h: function () { return l } }); var r = n(15371), i = n(95946), o = n(93714), s = n(68240), a = n(24453); async function c(e, t) { return l(e, t) } async function l(e, t) { const { block: n, chain: c = e.chain, request: l } = t || {}; try { const t = c?.fees?.maxPriorityFeePerGas ?? c?.fees?.defaultPriorityFee; if ("function" === typeof t) { const r = n || await (0, o.s)(e, s.Q, "getBlock")({}), i = await t({ block: r, client: e, request: l }); if (null === i) throw new Error; return i } if ("undefined" !== typeof t) return t; const r = await e.request({ method: "eth_maxPriorityFeePerGas" }); return (0, i.y_)(r) } catch { const [t, i] = await Promise.all([n ? Promise.resolve(n) : (0, o.s)(e, s.Q, "getBlock")({}), (0, o.s)(e, a.o, "getGasPrice")({})]); if ("bigint" !== typeof t.baseFeePerGas) throw new r.e5; const c = i - t.baseFeePerGas; return c < 0n ? 0n : c } } }, 88930: function (e, t, n) { "use strict"; n.d(t, { s: function () { return i } }); var r = n(92106); async function i(e, { address: t, blockNumber: n, blockTag: i = "latest" }) { const o = n ? (0, r.eC)(n) : void 0, s = await e.request({ method: "eth_getBalance", params: [t, o || i] }); return BigInt(s) } }, 68240: function (e, t, n) { "use strict"; n.d(t, { Q: function () { return a } }); var r = n(79814), i = n(92106), o = n(6073); function s(e) { const t = (e.transactions ?? []).map((e => "string" === typeof e ? e : (0, o.Tr)(e))); return { ...e, baseFeePerGas: e.baseFeePerGas ? BigInt(e.baseFeePerGas) : null, blobGasUsed: e.blobGasUsed ? BigInt(e.blobGasUsed) : void 0, difficulty: e.difficulty ? BigInt(e.difficulty) : void 0, excessBlobGas: e.excessBlobGas ? BigInt(e.excessBlobGas) : void 0, gasLimit: e.gasLimit ? BigInt(e.gasLimit) : void 0, gasUsed: e.gasUsed ? BigInt(e.gasUsed) : void 0, hash: e.hash ? e.hash : null, logsBloom: e.logsBloom ? e.logsBloom : null, nonce: e.nonce ? e.nonce : null, number: e.number ? BigInt(e.number) : null, size: e.size ? BigInt(e.size) : void 0, timestamp: e.timestamp ? BigInt(e.timestamp) : void 0, transactions: t, totalDifficulty: e.totalDifficulty ? BigInt(e.totalDifficulty) : null } } async function a(e, { blockHash: t, blockNumber: n, blockTag: o, includeTransactions: a } = {}) { const c = o ?? "latest", l = a ?? !1, u = void 0 !== n ? (0, i.eC)(n) : void 0; let d = null; if (d = t ? await e.request({ method: "eth_getBlockByHash", params: [t, l] }, { dedupe: !0 }) : await e.request({ method: "eth_getBlockByNumber", params: [u || c, l] }, { dedupe: Boolean(u) }), !d) throw new r.f({ blockHash: t, blockNumber: n }); return (e.chain?.formatters?.block?.format || s)(d) } }, 79524: function (e, t, n) { "use strict"; n.d(t, { L: function () { return i } }); var r = n(95946); async function i(e) { const t = await e.request({ method: "eth_chainId" }, { dedupe: !0 }); return (0, r.ly)(t) } }, 24453: function (e, t, n) { "use strict"; async function r(e) { const t = await e.request({ method: "eth_gasPrice" }); return BigInt(t) } n.d(t, { o: function () { return r } }) }, 86162: function (e, t, n) { "use strict"; n.d(t, { K: function () { return o } }); var r = n(95946), i = n(92106); async function o(e, { address: t, blockTag: n = "latest", blockNumber: o }) { const s = await e.request({ method: "eth_getTransactionCount", params: [t, o ? (0, i.eC)(o) : n] }, { dedupe: Boolean(o) }); return (0, r.ly)(s) } }, 88819: function (e, t, n) { "use strict"; n.d(t, { L: function () { return c } }); var r = n(7210), i = n(55629), o = n(72365), s = n(93714), a = n(43558); async function c(e, t) { const { abi: n, address: c, args: l, functionName: u, ...d } = t, h = (0, i.R)({ abi: n, args: l, functionName: u }); try { const { data: t } = await (0, s.s)(e, a.R, "call")({ ...d, data: h, to: c }); return (0, r.k)({ abi: n, args: l, functionName: u, data: t || "0x" }) } catch (f) { throw (0, o.S)(f, { abi: n, address: c, args: l, docsPath: "/docs/contract/readContract", functionName: u }) } } }, 45141: function (e, t, n) { "use strict"; n.d(t, { Q: function () { return T }, Z: function () { return N } }); var r = n(14503), i = n(43861), o = n(81841), s = n(68240), a = n(86162), c = n(15371), l = n(11187), u = n(92106); function d(e) { const { kzg: t } = e, n = e.to ?? ("string" === typeof e.blobs[0] ? "hex" : "bytes"), r = "string" === typeof e.blobs[0] ? e.blobs.map((e => (0, l.nr)(e))) : e.blobs, i = []; for (const o of r) i.push(Uint8Array.from(t.blobToKzgCommitment(o))); return "bytes" === n ? i : i.map((e => (0, u.ci)(e))) } function h(e) { const { kzg: t } = e, n = e.to ?? ("string" === typeof e.blobs[0] ? "hex" : "bytes"), r = "string" === typeof e.blobs[0] ? e.blobs.map((e => (0, l.nr)(e))) : e.blobs, i = "string" === typeof e.commitments[0] ? e.commitments.map((e => (0, l.nr)(e))) : e.commitments, o = []; for (let s = 0; s < r.length; s++) { const e = r[s], n = i[s]; o.push(Uint8Array.from(t.computeBlobKzgProof(e, n))) } return "bytes" === n ? o : o.map((e => (0, u.ci)(e))) } var f = n(53932), p = n(15102); function m(e) { const { commitment: t, version: n = 1 } = e, r = e.to ?? ("string" === typeof t ? "hex" : "bytes"), i = function (e, t) { const n = t || "hex", r = (0, f.JQ)((0, p.v)(e, { strict: !1 }) ? (0, l.O0)(e) : e); return "bytes" === n ? r : (0, u.NC)(r) }(t, "bytes"); return i.set([n], 0), "bytes" === r ? i : (0, u.ci)(i) } const g = 4096, y = 131072, b = 761855; var v = n(36117); class w extends v.G { constructor({ maxSize: e, size: t }) { super("Blob size is too large.", { metaMessages: [`Max: ${e} bytes`, `Given: ${t} bytes`], name: "BlobSizeTooLargeError" }) } } class E extends v.G { constructor() { super("Blob data must not be empty.", { name: "EmptyBlobError" }) } } var x = n(11221), _ = n(39135); function C(e) { const { data: t, kzg: n, to: r } = e, i = e.blobs ?? function (e) { const t = e.to ?? ("string" === typeof e.data ? "hex" : "bytes"), n = "string" === typeof e.data ? (0, l.nr)(e.data) : e.data, r = (0, _.d)(n); if (!r) throw new E; if (r > b) throw new w({ maxSize: b, size: r }); const i = []; let o = !0, s = 0; for (; o;) { const e = (0, x.q)(new Uint8Array(y)); let t = 0; for (; t < g;) { const r = n.slice(s, s + 31); if (e.pushByte(0), e.pushBytes(r), r.length < 31) { e.pushByte(128), o = !1; break } t++, s += 31 } i.push(e) } return "bytes" === t ? i.map((e => e.bytes)) : i.map((e => (0, u.ci)(e.bytes))) }({ data: t, to: r }), o = e.commitments ?? d({ blobs: i, kzg: n, to: r }), s = e.proofs ?? h({ blobs: i, commitments: o, kzg: n, to: r }), a = []; for (let c = 0; c < i.length; c++)a.push({ blob: i[c], commitment: o[c], proof: s[c] }); return a } var A = n(93714), S = n(35721), k = n(33639); var I = n(79524); const T = ["blobVersionedHashes", "chainId", "fees", "gas", "nonce", "type"]; async function N(e, t) { const { account: n = e.account, blobs: l, chain: u, gas: f, kzg: p, nonce: g, nonceManager: y, parameters: b = T, type: v } = t, w = n ? (0, r.T)(n) : n, E = { ...t, ...w ? { from: w?.address } : {} }; let x, _; async function N() { return x || (x = await (0, A.s)(e, s.Q, "getBlock")({ blockTag: "latest" }), x) } async function P() { if (_) return _; if (u) return u.id; if ("undefined" !== typeof t.chainId) return t.chainId; const n = await (0, A.s)(e, I.L, "getChainId")({}); return _ = n, _ } if ((b.includes("blobVersionedHashes") || b.includes("sidecars")) && l && p) { const e = d({ blobs: l, kzg: p }); if (b.includes("blobVersionedHashes")) { const t = function (e) { const { commitments: t, version: n } = e, r = e.to ?? ("string" === typeof t[0] ? "hex" : "bytes"), i = []; for (const o of t) i.push(m({ commitment: o, to: r, version: n })); return i }({ commitments: e, to: "hex" }); E.blobVersionedHashes = t } if (b.includes("sidecars")) { const t = C({ blobs: l, commitments: e, proofs: h({ blobs: l, commitments: e, kzg: p }), to: "hex" }); E.sidecars = t } } if (b.includes("chainId") && (E.chainId = await P()), b.includes("nonce") && "undefined" === typeof g && w) if (y) { const t = await P(); E.nonce = await y.consume({ address: w.address, chainId: t, client: e }) } else E.nonce = await (0, A.s)(e, a.K, "getTransactionCount")({ address: w.address, blockTag: "pending" }); if ((b.includes("fees") || b.includes("type")) && "undefined" === typeof v) try { E.type = function (e) { if (e.type) return e.type; if ("undefined" !== typeof e.authorizationList) return "eip7702"; if ("undefined" !== typeof e.blobs || "undefined" !== typeof e.blobVersionedHashes || "undefined" !== typeof e.maxFeePerBlobGas || "undefined" !== typeof e.sidecars) return "eip4844"; if ("undefined" !== typeof e.maxFeePerGas || "undefined" !== typeof e.maxPriorityFeePerGas) return "eip1559"; if ("undefined" !== typeof e.gasPrice) return "undefined" !== typeof e.accessList ? "eip2930" : "legacy"; throw new k.j3({ transaction: e }) }(E) } catch { const e = await N(); E.type = "bigint" === typeof e?.baseFeePerGas ? "eip1559" : "legacy" } if (b.includes("fees")) if ("legacy" !== E.type && "eip2930" !== E.type) { if ("undefined" === typeof E.maxFeePerGas || "undefined" === typeof E.maxPriorityFeePerGas) { const n = await N(), { maxFeePerGas: r, maxPriorityFeePerGas: o } = await (0, i.C)(e, { block: n, chain: u, request: E }); if ("undefined" === typeof t.maxPriorityFeePerGas && t.maxFeePerGas && t.maxFeePerGas < o) throw new c.ld({ maxPriorityFeePerGas: o }); E.maxPriorityFeePerGas = o, E.maxFeePerGas = r } } else { if ("undefined" !== typeof t.maxFeePerGas || "undefined" !== typeof t.maxPriorityFeePerGas) throw new c.e5; const n = await N(), { gasPrice: r } = await (0, i.C)(e, { block: n, chain: u, request: E, type: "legacy" }); E.gasPrice = r } return b.includes("gas") && "undefined" === typeof f && (E.gas = await (0, A.s)(e, o.Q, "estimateGas")({ ...E, account: w ? { address: w.address, type: "json-rpc" } : w })), (0, S.F)(E), delete E.parameters, E } }, 99238: function (e, t, n) { "use strict"; async function r(e, { serializedTransaction: t }) { return e.request({ method: "eth_sendRawTransaction", params: [t] }, { retryCount: 0 }) } n.d(t, { p: function () { return r } }) }, 96128: function (e, t, n) { "use strict"; n.d(t, { T: function () { return w } }); var r = n(14503), i = n(8998), o = n(36117), s = n(91213), a = n(33840), c = n(26445), l = n(33639), u = n(87469); var d = n(61163), h = n(74688), f = n(93714), p = n(79773), m = n(35721), g = n(79524), y = n(45141), b = n(99238); const v = new p.k(128); async function w(e, t) { const { account: n = e.account, chain: p = e.chain, accessList: w, authorizationList: E, blobs: x, data: _, gas: C, gasPrice: A, maxFeePerBlobGas: S, maxFeePerGas: k, maxPriorityFeePerGas: I, nonce: T, value: N, ...P } = t; if ("undefined" === typeof n) throw new i.o({ docsPath: "/docs/actions/wallet/sendTransaction" }); const M = n ? (0, r.T)(n) : null; try { (0, m.F)(t); const n = await (async () => t.to ? t.to : E && E.length > 0 ? await (0, s.z)({ authorization: E[0] }).catch((() => { throw new o.G("`to` is required. Could not infer from `authorizationList`.") })) : void 0)(); if ("json-rpc" === M?.type || null === M) { let t; null !== p && (t = await (0, f.s)(e, g.L, "getChainId")({}), (0, a.q)({ currentChainId: t, chain: p })); const r = e.chain?.formatters?.transactionRequest?.format, i = (r || h.tG)({ ...(0, d.K)(P, { format: r }), accessList: w, authorizationList: E, blobs: x, chainId: t, data: _, from: M?.address, gas: C, gasPrice: A, maxFeePerBlobGas: S, maxFeePerGas: k, maxPriorityFeePerGas: I, nonce: T, to: n, value: N }), o = v.get(e.uid), s = o ? "wallet_sendTransaction" : "eth_sendTransaction"; try { return await e.request({ method: s, params: [i] }, { retryCount: 0 }) } catch (O) { if (!1 === o) throw O; const t = O; if ("InvalidInputRpcError" === t.name || "InvalidParamsRpcError" === t.name || "MethodNotFoundRpcError" === t.name || "MethodNotSupportedRpcError" === t.name) return await e.request({ method: "wallet_sendTransaction", params: [i] }, { retryCount: 0 }).then((t => (v.set(e.uid, !0), t))).catch((n => { const r = n; if ("MethodNotFoundRpcError" === r.name || "MethodNotSupportedRpcError" === r.name) throw v.set(e.uid, !1), t; throw r })); throw t } } if ("local" === M?.type) { const t = await (0, f.s)(e, y.Z, "prepareTransactionRequest")({ account: M, accessList: w, authorizationList: E, blobs: x, chain: p, data: _, gas: C, gasPrice: A, maxFeePerBlobGas: S, maxFeePerGas: k, maxPriorityFeePerGas: I, nonce: T, nonceManager: M.nonceManager, parameters: [...y.Q, "sidecars"], value: N, ...P, to: n }), r = p?.serializers?.transaction, i = await M.signTransaction(t, { serializer: r }); return await (0, f.s)(e, b.p, "sendRawTransaction")({ serializedTransaction: i }) } if ("smart" === M?.type) throw new i.Y({ metaMessages: ["Consider using the `sendUserOperation` Action instead."], docsPath: "/docs/actions/bundler/sendUserOperation", type: "smart" }); throw new i.Y({ docsPath: "/docs/actions/wallet/sendTransaction", type: M?.type }) } catch (R) { if (R instanceof i.Y) throw R; throw function (e, { docsPath: t, ...n }) { const r = (() => { const t = (0, u.k)(e, n); return t instanceof c.cj ? e : t })(); return new l.mk(r, { docsPath: t, ...n }) }(R, { ...t, account: M, chain: t.chain || void 0 }) } } }, 61877: function (e, t, n) { "use strict"; n.d(t, { n: function () { return l } }); var r = n(14503), i = n(8998), o = n(55629), s = n(72365), a = n(93714), c = n(96128); async function l(e, t) { const { abi: n, account: l = e.account, address: u, args: d, dataSuffix: h, functionName: f, ...p } = t; if ("undefined" === typeof l) throw new i.o({ docsPath: "/docs/contract/writeContract" }); const m = l ? (0, r.T)(l) : null, g = (0, o.R)({ abi: n, args: d, functionName: f }); try { return await (0, a.s)(e, c.T, "sendTransaction")({ data: `${g}${h ? h.replace("0x", "") : ""}`, to: u, account: m, ...p }) } catch (y) { throw (0, s.S)(y, { abi: n, address: u, args: d, docsPath: "/docs/contract/writeContract", functionName: f, sender: m?.address }) } } }, 94898: function (e, t, n) { "use strict"; n.d(t, { e: function () { return o } }); var r = n(14503), i = n(75632); function o(e) { const { batch: t, cacheTime: n = e.pollingInterval ?? 4e3, ccipRead: o, key: s = "base", name: a = "Base Client", pollingInterval: c = 4e3, type: l = "base" } = e, u = e.chain, d = e.account ? (0, r.T)(e.account) : void 0, { config: h, request: f, value: p } = e.transport({ chain: u, pollingInterval: c }), m = { account: d, batch: t, cacheTime: n, ccipRead: o, chain: u, key: s, name: a, pollingInterval: c, request: f, transport: { ...h, ...p }, type: l, uid: (0, i.h)() }; return Object.assign(m, { extend: function e(t) { return n => { const r = n(t); for (const e in m) delete r[e]; const i = { ...t, ...r }; return Object.assign(i, { extend: e(i) }) } }(m) }) } }, 22319: function (e, t, n) { "use strict"; n.d(t, { q: function () { return f } }); var r = n(36117), i = n(78863), o = n(39028), s = n(92106), a = n(49550); const c = new (n(79773).k)(8192); var l = n(7760), u = n(96070); function d(e, t = {}) { return async (n, d = {}) => { const { dedupe: h = !1, retryDelay: f = 150, retryCount: p = 3, uid: m } = { ...t, ...d }; return function (e, { enabled: t = !0, id: n }) { if (!t || !n) return e(); if (c.get(n)) return c.get(n); const r = e().finally((() => c.delete(n))); return c.set(n, r), r }((() => (0, l.J)((async () => { try { return await e(n) } catch (t) { const e = t; switch (e.code) { case o.s7.code: throw new o.s7(e); case o.B.code: throw new o.B(e); case o.LX.code: throw new o.LX(e, { method: n.method }); case o.nY.code: throw new o.nY(e); case o.XS.code: throw new o.XS(e); case o.yR.code: throw new o.yR(e); case o.Og.code: throw new o.Og(e); case o.pT.code: throw new o.pT(e); case o.KB.code: throw new o.KB(e); case o.gS.code: throw new o.gS(e, { method: n.method }); case o.Pv.code: throw new o.Pv(e); case o.GD.code: throw new o.GD(e); case o.ab.code: throw new o.ab(e); case o.PE.code: throw new o.PE(e); case o.Ts.code: throw new o.Ts(e); case o.u5.code: throw new o.u5(e); case o.I0.code: throw new o.I0(e); case o.x3.code: throw new o.x3(e); case 5e3: throw new o.ab(e); default: if (t instanceof r.G) throw t; throw new o.ir(e) } } }), { delay: ({ count: e, error: t }) => { if (t && t instanceof i.Gg) { const e = t?.headers?.get("Retry-After"); if (e?.match(/\d/)) return 1e3 * Number.parseInt(e) } return ~~(1 << e) * f }, retryCount: p, shouldRetry: ({ error: e }) => function (e) { if ("code" in e && "number" === typeof e.code) return -1 === e.code || (e.code === o.Pv.code || e.code === o.XS.code); if (e instanceof i.Gg && e.status) return 403 === e.status || (408 === e.status || (413 === e.status || (429 === e.status || (500 === e.status || (502 === e.status || (503 === e.status || 504 === e.status)))))); return !0 }(e) })), { enabled: h, id: h ? (0, a.w)((0, s.$G)(`${m}.${(0, u.P)(n)}`)) : void 0 }) } } var h = n(75632); function f({ key: e, name: t, request: n, retryCount: r = 3, retryDelay: i = 150, timeout: o, type: s }, a) { return { config: { key: e, name: t, request: n, retryCount: r, retryDelay: i, timeout: o, type: s }, request: d(n, { retryCount: r, retryDelay: i, uid: (0, h.h)() }), value: a } } }, 3980: function (e, t, n) { "use strict"; n.d(t, { P: function () { return i } }); var r = n(22319); function i(e, t = {}) { const { key: n = "custom", name: i = "Custom Provider", retryDelay: o } = t; return ({ retryCount: s }) => (0, r.q)({ key: n, name: i, request: e.request.bind(e), retryCount: t.retryCount ?? s, retryDelay: o, type: "custom" }) } }, 16693: function (e, t, n) { "use strict"; n.d(t, { F8: function () { return r }, k3: function () { return o }, du: function () { return s }, nZ: function () { return a }, X$: function () { return c }, $o: function () { return l } }); const r = [{ inputs: [{ components: [{ name: "target", type: "address" }, { name: "allowFailure", type: "bool" }, { name: "callData", type: "bytes" }], name: "calls", type: "tuple[]" }], name: "aggregate3", outputs: [{ components: [{ name: "success", type: "bool" }, { name: "returnData", type: "bytes" }], name: "returnData", type: "tuple[]" }], stateMutability: "view", type: "function" }], i = [{ inputs: [], name: "ResolverNotFound", type: "error" }, { inputs: [], name: "ResolverWildcardNotSupported", type: "error" }, { inputs: [], name: "ResolverNotContract", type: "error" }, { inputs: [{ name: "returnData", type: "bytes" }], name: "ResolverError", type: "error" }, { inputs: [{ components: [{ name: "status", type: "uint16" }, { name: "message", type: "string" }], name: "errors", type: "tuple[]" }], name: "HttpError", type: "error" }], o = [...i, { name: "resolve", type: "function", stateMutability: "view", inputs: [{ name: "name", type: "bytes" }, { name: "data", type: "bytes" }], outputs: [{ name: "", type: "bytes" }, { name: "address", type: "address" }] }, { name: "resolve", type: "function", stateMutability: "view", inputs: [{ name: "name", type: "bytes" }, { name: "data", type: "bytes" }, { name: "gateways", type: "string[]" }], outputs: [{ name: "", type: "bytes" }, { name: "address", type: "address" }] }], s = [...i, { name: "reverse", type: "function", stateMutability: "view", inputs: [{ type: "bytes", name: "reverseName" }], outputs: [{ type: "string", name: "resolvedName" }, { type: "address", name: "resolvedAddress" }, { type: "address", name: "reverseResolver" }, { type: "address", name: "resolver" }] }, { name: "reverse", type: "function", stateMutability: "view", inputs: [{ type: "bytes", name: "reverseName" }, { type: "string[]", name: "gateways" }], outputs: [{ type: "string", name: "resolvedName" }, { type: "address", name: "resolvedAddress" }, { type: "address", name: "reverseResolver" }, { type: "address", name: "resolver" }] }], a = [{ name: "text", type: "function", stateMutability: "view", inputs: [{ name: "name", type: "bytes32" }, { name: "key", type: "string" }], outputs: [{ name: "", type: "string" }] }], c = [{ name: "addr", type: "function", stateMutability: "view", inputs: [{ name: "name", type: "bytes32" }], outputs: [{ name: "", type: "address" }] }, { name: "addr", type: "function", stateMutability: "view", inputs: [{ name: "name", type: "bytes32" }, { name: "coinType", type: "uint256" }], outputs: [{ name: "", type: "bytes" }] }], l = [{ inputs: [{ name: "_signer", type: "address" }, { name: "_hash", type: "bytes32" }, { name: "_signature", type: "bytes" }], stateMutability: "nonpayable", type: "constructor" }, { inputs: [{ name: "_signer", type: "address" }, { name: "_hash", type: "bytes32" }, { name: "_signature", type: "bytes" }], outputs: [{ type: "bool" }], stateMutability: "nonpayable", type: "function", name: "isValidSig" }] }, 18590: function (e, t, n) { "use strict"; n.d(t, { NO: function () { return r }, pG: function () { return i }, ST: function () { return o } }); const r = "0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe", i = "0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe", o = "0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572" }, 21746: function (e, t, n) { "use strict"; n.d(t, { $: function () { return r }, Up: function () { return i }, hZ: function () { return o } }); const r = { 1: "An `assert` condition failed.", 17: "Arithmetic operation resulted in underflow or overflow.", 18: "Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).", 33: "Attempted to convert to an invalid type.", 34: "Attempted to access a storage byte array that is incorrectly encoded.", 49: "Performed `.pop()` on an empty array", 50: "Array index is out of bounds.", 65: "Allocated too much memory or created an array which is too large.", 81: "Attempted to call a zero-initialized variable of internal function type." }, i = { inputs: [{ name: "message", type: "string" }], name: "Error", type: "error" }, o = { inputs: [{ name: "reason", type: "uint256" }], name: "Panic", type: "error" } }, 84192: function (e, t, n) { "use strict"; n.d(t, { ez: function () { return r }, Zn: function () { return i } }); const r = { gwei: 9, wei: 18 }, i = { ether: -9, wei: 9 } }, 57412: function (e, t, n) { "use strict"; n.d(t, { fM: function () { return s }, cO: function () { return a }, xB: function () { return c }, wb: function () { return l }, gr: function () { return u }, M4: function () { return d }, fs: function () { return h }, yP: function () { return f }, FM: function () { return p }, lC: function () { return m }, mv: function () { return g }, xL: function () { return y }, MX: function () { return b }, eF: function () { return v }, S4: function () { return w }, KY: function () { return E }, SM: function () { return x }, Gy: function () { return _ }, dh: function () { return C }, CI: function () { return A }, hn: function () { return S }, wM: function () { return k } }); var r = n(80522), i = n(39135), o = n(36117); class s extends o.G { constructor({ docsPath: e }) { super(["A constructor was not found on the ABI.", "Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"), { docsPath: e, name: "AbiConstructorNotFoundError" }) } } class a extends o.G { constructor({ docsPath: e }) { super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.", "Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"), { docsPath: e, name: "AbiConstructorParamsNotFoundError" }) } } class c extends o.G { constructor({ data: e, params: t, size: n }) { super([`Data size of ${n} bytes is too small for given parameters.`].join("\n"), { metaMessages: [`Params: (${(0, r.h)(t, { includeName: !0 })})`, `Data:   ${e} (${n} bytes)`], name: "AbiDecodingDataSizeTooSmallError" }), Object.defineProperty(this, "data", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "params", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "size", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), this.data = e, this.params = t, this.size = n } } class l extends o.G { constructor() { super('Cannot decode zero data ("0x") with ABI parameters.', { name: "AbiDecodingZeroDataError" }) } } class u extends o.G { constructor({ expectedLength: e, givenLength: t, type: n }) { super([`ABI encoding array length mismatch for type ${n}.`, `Expected length: ${e}`, `Given length: ${t}`].join("\n"), { name: "AbiEncodingArrayLengthMismatchError" }) } } class d extends o.G { constructor({ expectedSize: e, value: t }) { super(`Size of bytes "${t}" (bytes${(0, i.d)(t)}) does not match expected size (bytes${e}).`, { name: "AbiEncodingBytesSizeMismatchError" }) } } class h extends o.G { constructor({ expectedLength: e, givenLength: t }) { super(["ABI encoding params/values length mismatch.", `Expected length (params): ${e}`, `Given length (values): ${t}`].join("\n"), { name: "AbiEncodingLengthMismatchError" }) } } class f extends o.G { constructor(e, { docsPath: t }) { super([`Encoded error signature "${e}" not found on ABI.`, "Make sure you are using the correct ABI and that the error exists on it.", `You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"), { docsPath: t, name: "AbiErrorSignatureNotFoundError" }), Object.defineProperty(this, "signature", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), this.signature = e } } class p extends o.G { constructor({ docsPath: e }) { super("Cannot extract event signature from empty topics.", { docsPath: e, name: "AbiEventSignatureEmptyTopicsError" }) } } class m extends o.G { constructor(e, { docsPath: t }) { super([`Encoded event signature "${e}" not found on ABI.`, "Make sure you are using the correct ABI and that the event exists on it.", `You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"), { docsPath: t, name: "AbiEventSignatureNotFoundError" }) } } class g extends o.G { constructor(e, { docsPath: t } = {}) { super([`Event ${e ? `"${e}" ` : ""}not found on ABI.`, "Make sure you are using the correct ABI and that the event exists on it."].join("\n"), { docsPath: t, name: "AbiEventNotFoundError" }) } } class y extends o.G { constructor(e, { docsPath: t } = {}) { super([`Function ${e ? `"${e}" ` : ""}not found on ABI.`, "Make sure you are using the correct ABI and that the function exists on it."].join("\n"), { docsPath: t, name: "AbiFunctionNotFoundError" }) } } class b extends o.G { constructor(e, { docsPath: t }) { super([`Function "${e}" does not contain any \`outputs\` on ABI.`, "Cannot decode function result without knowing what the parameter types are.", "Make sure you are using the correct ABI and that the function exists on it."].join("\n"), { docsPath: t, name: "AbiFunctionOutputsNotFoundError" }) } } class v extends o.G { constructor(e, { docsPath: t }) { super([`Encoded function signature "${e}" not found on ABI.`, "Make sure you are using the correct ABI and that the function exists on it.", `You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"), { docsPath: t, name: "AbiFunctionSignatureNotFoundError" }) } } class w extends o.G { constructor(e, t) { super("Found ambiguous types in overloaded ABI items.", { metaMessages: [`\`${e.type}\` in \`${(0, r.t)(e.abiItem)}\`, and`, `\`${t.type}\` in \`${(0, r.t)(t.abiItem)}\``, "", "These types encode differently and cannot be distinguished at runtime.", "Remove one of the ambiguous items in the ABI."], name: "AbiItemAmbiguityError" }) } } class E extends o.G { constructor({ expectedSize: e, givenSize: t }) { super(`Expected bytes${e}, got bytes${t}.`, { name: "BytesSizeMismatchError" }) } } class x extends o.G { constructor({ abiItem: e, data: t, params: n, size: i }) { super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join("\n"), { metaMessages: [`Params: (${(0, r.h)(n, { includeName: !0 })})`, `Data:   ${t} (${i} bytes)`], name: "DecodeLogDataMismatch" }), Object.defineProperty(this, "abiItem", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "data", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "params", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "size", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), this.abiItem = e, this.data = t, this.params = n, this.size = i } } class _ extends o.G { constructor({ abiItem: e, param: t }) { super([`Expected a topic for indexed event parameter${t.name ? ` "${t.name}"` : ""} on event "${(0, r.t)(e, { includeName: !0 })}".`].join("\n"), { name: "DecodeLogTopicsMismatch" }), Object.defineProperty(this, "abiItem", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), this.abiItem = e } } class C extends o.G { constructor(e, { docsPath: t }) { super([`Type "${e}" is not a valid encoding type.`, "Please provide a valid ABI type."].join("\n"), { docsPath: t, name: "InvalidAbiEncodingType" }) } } class A extends o.G { constructor(e, { docsPath: t }) { super([`Type "${e}" is not a valid decoding type.`, "Please provide a valid ABI type."].join("\n"), { docsPath: t, name: "InvalidAbiDecodingType" }) } } class S extends o.G { constructor(e) { super([`Value "${e}" is not a valid array.`].join("\n"), { name: "InvalidArrayError" }) } } class k extends o.G { constructor(e) { super([`"${e}" is not a valid definition type.`, 'Valid types: "function", "event", "error"'].join("\n"), { name: "InvalidDefinitionTypeError" }) } } }, 8998: function (e, t, n) { "use strict"; n.d(t, { o: function () { return i }, Y: function () { return o } }); var r = n(36117); class i extends r.G { constructor({ docsPath: e } = {}) { super(["Could not find an Account to execute with this Action.", "Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join("\n"), { docsPath: e, docsSlug: "account", name: "AccountNotFoundError" }) } } class o extends r.G { constructor({ docsPath: e, metaMessages: t, type: n }) { super(`Account type "${n}" is not supported.`, { docsPath: e, metaMessages: t, name: "AccountTypeNotSupportedError" }) } } }, 26087: function (e, t, n) { "use strict"; n.d(t, { b: function () { return i } }); var r = n(36117); class i extends r.G { constructor({ address: e }) { super(`Address "${e}" is invalid.`, { metaMessages: ["- Address must be a hex value of 20 bytes (40 hex characters).", "- Address must match its checksum counterpart."], name: "InvalidAddressError" }) } } }, 36117: function (e, t, n) { "use strict"; n.d(t, { G: function () { return o } }); const r = "2.21.55"; let i = { getDocsUrl: ({ docsBaseUrl: e, docsPath: t = "", docsSlug: n }) => t ? `${e ?? "https://viem.sh"}${t}${n ? `#${n}` : ""}` : void 0, version: "viem@2.21.55" }; class o extends Error { constructor(e, t = {}) { const n = t.cause instanceof o ? t.cause.details : t.cause?.message ? t.cause.message : t.details, s = t.cause instanceof o && t.cause.docsPath || t.docsPath, a = i.getDocsUrl?.({ ...t, docsPath: s }); super([e || "An error occurred.", "", ...t.metaMessages ? [...t.metaMessages, ""] : [], ...a ? [`Docs: ${a}`] : [], ...n ? [`Details: ${n}`] : [], ...i.version ? [`Version: ${i.version}`] : []].join("\n"), t.cause ? { cause: t.cause } : void 0), Object.defineProperty(this, "details", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "docsPath", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "metaMessages", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "shortMessage", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "version", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "BaseError" }), this.details = n, this.docsPath = s, this.metaMessages = t.metaMessages, this.name = t.name ?? this.name, this.shortMessage = e, this.version = r } walk(e) { return s(this, e) } } function s(e, t) { return t?.(e) ? e : e && "object" === typeof e && "cause" in e && void 0 !== e.cause ? s(e.cause, t) : t ? null : e } }, 79814: function (e, t, n) { "use strict"; n.d(t, { f: function () { return i } }); var r = n(36117); class i extends r.G { constructor({ blockHash: e, blockNumber: t }) { let n = "Block"; e && (n = `Block at hash "${e}"`), t && (n = `Block at number "${t}"`), super(`${n} could not be found.`, { name: "BlockNotFoundError" }) } } }, 80377: function (e, t, n) { "use strict"; n.d(t, { mm: function () { return i }, Yl: function () { return o }, Bk: function () { return s }, pZ: function () { return a } }); var r = n(36117); class i extends r.G { constructor({ blockNumber: e, chain: t, contract: n }) { super(`Chain "${t.name}" does not support contract "${n.name}".`, { metaMessages: ["This could be due to any of the following:", ...e && n.blockCreated && n.blockCreated > e ? [`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`] : [`- The chain does not have the contract "${n.name}" configured.`]], name: "ChainDoesNotSupportContract" }) } } class o extends r.G { constructor({ chain: e, currentChainId: t }) { super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id} \u2013 ${e.name}).`, { metaMessages: [`Current Chain ID:  ${t}`, `Expected Chain ID: ${e.id} \u2013 ${e.name}`], name: "ChainMismatchError" }) } } class s extends r.G { constructor() { super(["No chain was provided to the request.", "Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join("\n"), { name: "ChainNotFoundError" }) } } class a extends r.G { constructor() { super("No chain was provided to the Client.", { name: "ClientChainNotConfiguredError" }) } } }, 97405: function (e, t, n) { "use strict"; n.d(t, { cg: function () { return y }, uq: function () { return b }, Lu: function () { return v }, Dk: function () { return w }, Mo: function () { return E }, VQ: function () { return x } }); var r = n(14503), i = n(21746), o = n(86899), s = n(80522), a = n(96070); function c({ abiItem: e, args: t, includeFunctionName: n = !0, includeName: r = !1 }) { if ("name" in e && "inputs" in e && e.inputs) return `${n ? e.name : ""}(${e.inputs.map(((e, n) => `${r && e.name ? `${e.name}: ` : ""}${"object" === typeof t[n] ? (0, a.P)(t[n]) : t[n]}`)).join(", ")})` } var l = n(40840), u = n(39625), d = n(67795), h = n(57412), f = n(36117), p = n(20443), m = n(33639), g = n(29008); class y extends f.G { constructor(e, { account: t, docsPath: n, chain: i, data: o, gas: s, gasPrice: a, maxFeePerGas: c, maxPriorityFeePerGas: l, nonce: h, to: f, value: g, stateOverride: y }) { const b = t ? (0, r.T)(t) : void 0; let v = (0, m.xr)({ from: b?.address, to: f, value: "undefined" !== typeof g && `${(0, u.d)(g)} ${i?.nativeCurrency?.symbol || "ETH"}`, data: o, gas: s, gasPrice: "undefined" !== typeof a && `${(0, d.o)(a)} gwei`, maxFeePerGas: "undefined" !== typeof c && `${(0, d.o)(c)} gwei`, maxPriorityFeePerGas: "undefined" !== typeof l && `${(0, d.o)(l)} gwei`, nonce: h }); y && (v += `\n${(0, p.Bj)(y)}`), super(e.shortMessage, { cause: e, docsPath: n, metaMessages: [...e.metaMessages ? [...e.metaMessages, " "] : [], "Raw Call Arguments:", v].filter(Boolean), name: "CallExecutionError" }), Object.defineProperty(this, "cause", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), this.cause = e } } class b extends f.G { constructor(e, { abi: t, args: n, contractAddress: r, docsPath: i, functionName: o, sender: a }) { const u = (0, l.mE)({ abi: t, args: n, name: o }), d = u ? c({ abiItem: u, args: n, includeFunctionName: !1, includeName: !1 }) : void 0, h = u ? (0, s.t)(u, { includeName: !0 }) : void 0, f = (0, m.xr)({ address: r && (0, g.C)(r), function: h, args: d && "()" !== d && `${[...Array(o?.length ?? 0).keys()].map((() => " ")).join("")}${d}`, sender: a }); super(e.shortMessage || `An unknown error occurred while executing the contract function "${o}".`, { cause: e, docsPath: i, metaMessages: [...e.metaMessages ? [...e.metaMessages, " "] : [], f && "Contract Call:", f].filter(Boolean), name: "ContractFunctionExecutionError" }), Object.defineProperty(this, "abi", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "args", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "cause", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "contractAddress", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "formattedArgs", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "functionName", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "sender", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), this.abi = t, this.args = n, this.cause = e, this.contractAddress = r, this.functionName = o, this.sender = a } } class v extends f.G { constructor({ abi: e, data: t, functionName: n, message: r }) { let a, l, u, d, f; if (t && "0x" !== t) try { l = (0, o.p)({ abi: e, data: t }); const { abiItem: n, errorName: r, args: a } = l; if ("Error" === r) d = a[0]; else if ("Panic" === r) { const [e] = a; d = i.$[e] } else { const e = n ? (0, s.t)(n, { includeName: !0 }) : void 0, t = n && a ? c({ abiItem: n, args: a, includeFunctionName: !1, includeName: !1 }) : void 0; u = [e ? `Error: ${e}` : "", t && "()" !== t ? `       ${[...Array(r?.length ?? 0).keys()].map((() => " ")).join("")}${t}` : ""] } } catch (p) { a = p } else r && (d = r); a instanceof h.yP && (f = a.signature, u = [`Unable to decode signature "${f}" as it was not found on the provided ABI.`, "Make sure you are using the correct ABI and that the error exists on it.", `You can look up the decoded signature here: https://openchain.xyz/signatures?query=${f}.`]), super(d && "execution reverted" !== d || f ? [`The contract function "${n}" reverted with the following ${f ? "signature" : "reason"}:`, d || f].join("\n") : `The contract function "${n}" reverted.`, { cause: a, metaMessages: u, name: "ContractFunctionRevertedError" }), Object.defineProperty(this, "data", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "reason", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "signature", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), this.data = l, this.reason = d, this.signature = f } } class w extends f.G { constructor({ functionName: e }) { super(`The contract function "${e}" returned no data ("0x").`, { metaMessages: ["This could be due to any of the following:", `  - The contract does not have the function "${e}",`, "  - The parameters passed to the contract function may be invalid, or", "  - The address is not a contract."], name: "ContractFunctionZeroDataError" }) } } class E extends f.G { constructor({ factory: e }) { super("Deployment for counterfactual contract call failed" + (e ? ` for factory "${e}".` : ""), { metaMessages: ["Please ensure:", "- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).", "- The `factoryData` is a valid encoded function call for contract deployment function on the factory."], name: "CounterfactualDeploymentFailedError" }) } } class x extends f.G { constructor({ data: e, message: t }) { super(t || "", { name: "RawContractError" }), Object.defineProperty(this, "code", { enumerable: !0, configurable: !0, writable: !0, value: 3 }), Object.defineProperty(this, "data", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), this.data = e } } }, 66238: function (e, t, n) { "use strict"; n.d(t, { T_: function () { return i }, lQ: function () { return o }, KD: function () { return s } }); var r = n(36117); class i extends r.G { constructor({ offset: e }) { super(`Offset \`${e}\` cannot be negative.`, { name: "NegativeOffsetError" }) } } class o extends r.G { constructor({ length: e, position: t }) { super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`, { name: "PositionOutOfBoundsError" }) } } class s extends r.G { constructor({ count: e, limit: t }) { super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`, { name: "RecursiveReadLimitExceededError" }) } } }, 69760: function (e, t, n) { "use strict"; n.d(t, { mV: function () { return i }, $s: function () { return o }, W_: function () { return s } }); var r = n(36117); class i extends r.G { constructor({ offset: e, position: t, size: n }) { super(`Slice ${"start" === t ? "starting" : "ending"} at offset "${e}" is out-of-bounds (size: ${n}).`, { name: "SliceOffsetOutOfBoundsError" }) } } class o extends r.G { constructor({ size: e, targetSize: t, type: n }) { super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`, { name: "SizeExceedsPaddingSizeError" }) } } class s extends r.G { constructor({ size: e, targetSize: t, type: n }) { super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${t} ${n} long, but is ${e} ${n} long.`, { name: "InvalidBytesLengthError" }) } } }, 87788: function (e, t, n) { "use strict"; n.d(t, { J5: function () { return i }, yr: function () { return o }, Cd: function () { return s }, M6: function () { return a } }); var r = n(36117); class i extends r.G { constructor({ max: e, min: t, signed: n, size: r, value: i }) { super(`Number "${i}" is not in safe ${r ? `${8 * r}-bit ${n ? "signed" : "unsigned"} ` : ""}integer range ${e ? `(${t} to ${e})` : `(above ${t})`}`, { name: "IntegerOutOfRangeError" }) } } class o extends r.G { constructor(e) { super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`, { name: "InvalidBytesBooleanError" }) } } class s extends r.G { constructor(e) { super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`, { name: "InvalidHexBooleanError" }) } } class a extends r.G { constructor({ givenSize: e, maxSize: t }) { super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`, { name: "SizeOverflowError" }) } } }, 15371: function (e, t, n) { "use strict"; n.d(t, { Fz: function () { return o }, e5: function () { return s }, ld: function () { return a } }); var r = n(67795), i = n(36117); class o extends i.G { constructor() { super("`baseFeeMultiplier` must be greater than 1.", { name: "BaseFeeScalarError" }) } } class s extends i.G { constructor() { super("Chain does not support EIP-1559 fees.", { name: "Eip1559FeesNotSupportedError" }) } } class a extends i.G { constructor({ maxPriorityFeePerGas: e }) { super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0, r.o)(e)} gwei).`, { name: "MaxFeePerGasTooLowError" }) } } }, 26445: function (e, t, n) { "use strict"; n.d(t, { M_: function () { return o }, Hh: function () { return s }, G$: function () { return a }, ZI: function () { return c }, vU: function () { return l }, se: function () { return u }, C_: function () { return d }, WF: function () { return h }, dR: function () { return f }, pZ: function () { return p }, cs: function () { return m }, cj: function () { return g } }); var r = n(67795), i = n(36117); class o extends i.G { constructor({ cause: e, message: t } = {}) { const n = t?.replace("execution reverted: ", "")?.replace("execution reverted", ""); super(`Execution reverted ${n ? `with reason: ${n}` : "for an unknown reason"}.`, { cause: e, name: "ExecutionRevertedError" }) } } Object.defineProperty(o, "code", { enumerable: !0, configurable: !0, writable: !0, value: 3 }), Object.defineProperty(o, "nodeMessage", { enumerable: !0, configurable: !0, writable: !0, value: /execution reverted/ }); class s extends i.G { constructor({ cause: e, maxFeePerGas: t } = {}) { super(`The fee cap (\`maxFeePerGas\`${t ? ` = ${(0, r.o)(t)} gwei` : ""}) cannot be higher than the maximum allowed value (2^256-1).`, { cause: e, name: "FeeCapTooHighError" }) } } Object.defineProperty(s, "nodeMessage", { enumerable: !0, configurable: !0, writable: !0, value: /max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/ }); class a extends i.G { constructor({ cause: e, maxFeePerGas: t } = {}) { super(`The fee cap (\`maxFeePerGas\`${t ? ` = ${(0, r.o)(t)}` : ""} gwei) cannot be lower than the block base fee.`, { cause: e, name: "FeeCapTooLowError" }) } } Object.defineProperty(a, "nodeMessage", { enumerable: !0, configurable: !0, writable: !0, value: /max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/ }); class c extends i.G { constructor({ cause: e, nonce: t } = {}) { super(`Nonce provided for the transaction ${t ? `(${t}) ` : ""}is higher than the next one expected.`, { cause: e, name: "NonceTooHighError" }) } } Object.defineProperty(c, "nodeMessage", { enumerable: !0, configurable: !0, writable: !0, value: /nonce too high/ }); class l extends i.G { constructor({ cause: e, nonce: t } = {}) { super([`Nonce provided for the transaction ${t ? `(${t}) ` : ""}is lower than the current nonce of the account.`, "Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"), { cause: e, name: "NonceTooLowError" }) } } Object.defineProperty(l, "nodeMessage", { enumerable: !0, configurable: !0, writable: !0, value: /nonce too low|transaction already imported|already known/ }); class u extends i.G { constructor({ cause: e, nonce: t } = {}) { super(`Nonce provided for the transaction ${t ? `(${t}) ` : ""}exceeds the maximum allowed nonce.`, { cause: e, name: "NonceMaxValueError" }) } } Object.defineProperty(u, "nodeMessage", { enumerable: !0, configurable: !0, writable: !0, value: /nonce has max value/ }); class d extends i.G { constructor({ cause: e } = {}) { super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"), { cause: e, metaMessages: ["This error could arise when the account does not have enough funds to:", " - pay for the total gas fee,", " - pay for the value to send.", " ", "The cost of the transaction is calculated as `gas * gas fee + value`, where:", " - `gas` is the amount of gas needed for transaction to execute,", " - `gas fee` is the gas fee,", " - `value` is the amount of ether to send to the recipient."], name: "InsufficientFundsError" }) } } Object.defineProperty(d, "nodeMessage", { enumerable: !0, configurable: !0, writable: !0, value: /insufficient funds|exceeds transaction sender account balance/ }); class h extends i.G { constructor({ cause: e, gas: t } = {}) { super(`The amount of gas ${t ? `(${t}) ` : ""}provided for the transaction exceeds the limit allowed for the block.`, { cause: e, name: "IntrinsicGasTooHighError" }) } } Object.defineProperty(h, "nodeMessage", { enumerable: !0, configurable: !0, writable: !0, value: /intrinsic gas too high|gas limit reached/ }); class f extends i.G { constructor({ cause: e, gas: t } = {}) { super(`The amount of gas ${t ? `(${t}) ` : ""}provided for the transaction is too low.`, { cause: e, name: "IntrinsicGasTooLowError" }) } } Object.defineProperty(f, "nodeMessage", { enumerable: !0, configurable: !0, writable: !0, value: /intrinsic gas too low/ }); class p extends i.G { constructor({ cause: e }) { super("The transaction type is not supported for this chain.", { cause: e, name: "TransactionTypeNotSupportedError" }) } } Object.defineProperty(p, "nodeMessage", { enumerable: !0, configurable: !0, writable: !0, value: /transaction type not valid/ }); class m extends i.G { constructor({ cause: e, maxPriorityFeePerGas: t, maxFeePerGas: n } = {}) { super([`The provided tip (\`maxPriorityFeePerGas\`${t ? ` = ${(0, r.o)(t)} gwei` : ""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n ? ` = ${(0, r.o)(n)} gwei` : ""}).`].join("\n"), { cause: e, name: "TipAboveFeeCapError" }) } } Object.defineProperty(m, "nodeMessage", { enumerable: !0, configurable: !0, writable: !0, value: /max priority fee per gas higher than max fee per gas|tip higher than fee cap/ }); class g extends i.G { constructor({ cause: e }) { super(`An error occurred while executing: ${e?.shortMessage}`, { cause: e, name: "UnknownNodeError" }) } } }, 78863: function (e, t, n) { "use strict"; n.d(t, { Gg: function () { return s }, bs: function () { return a }, W5: function () { return c } }); var r = n(96070), i = n(36117), o = n(29008); class s extends i.G { constructor({ body: e, cause: t, details: n, headers: i, status: s, url: a }) { super("HTTP request failed.", { cause: t, details: n, metaMessages: [s && `Status: ${s}`, `URL: ${(0, o.G)(a)}`, e && `Request body: ${(0, r.P)(e)}`].filter(Boolean), name: "HttpRequestError" }), Object.defineProperty(this, "body", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "headers", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "status", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), Object.defineProperty(this, "url", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), this.body = e, this.headers = i, this.status = s, this.url = a } } class a extends i.G { constructor({ body: e, error: t, url: n }) { super("RPC Request failed.", { cause: t, details: t.message, metaMessages: [`URL: ${(0, o.G)(n)}`, `Request body: ${(0, r.P)(e)}`], name: "RpcRequestError" }), Object.defineProperty(this, "code", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), this.code = t.code } } class c extends i.G { constructor({ body: e, url: t }) { super("The request took too long to respond.", { details: "The request timed out.", metaMessages: [`URL: ${(0, o.G)(t)}`, `Request body: ${(0, r.P)(e)}`], name: "TimeoutError" }) } } }, 39028: function (e, t, n) { "use strict"; n.d(t, { s7: function () { return a }, B: function () { return c }, LX: function () { return l }, nY: function () { return u }, XS: function () { return d }, yR: function () { return h }, Og: function () { return f }, pT: function () { return p }, KB: function () { return m }, gS: function () { return g }, Pv: function () { return y }, GD: function () { return b }, ab: function () { return v }, PE: function () { return w }, Ts: function () { return E }, u5: function () { return x }, I0: function () { return _ }, x3: function () { return C }, ir: function () { return A } }); var r = n(36117), i = n(78863); class o extends r.G { constructor(e, { code: t, docsPath: n, metaMessages: r, name: o, shortMessage: s }) { super(s, { cause: e, docsPath: n, metaMessages: r || e?.metaMessages, name: o || "RpcError" }), Object.defineProperty(this, "code", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), this.name = o || e.name, this.code = e instanceof i.bs ? e.code : t ?? -1 } } class s extends o { constructor(e, t) { super(e, t), Object.defineProperty(this, "data", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), this.data = t.data } } class a extends o { constructor(e) { super(e, { code: a.code, name: "ParseRpcError", shortMessage: "Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text." }) } } Object.defineProperty(a, "code", { enumerable: !0, configurable: !0, writable: !0, value: -32700 }); class c extends o { constructor(e) { super(e, { code: c.code, name: "InvalidRequestRpcError", shortMessage: "JSON is not a valid request object." }) } } Object.defineProperty(c, "code", { enumerable: !0, configurable: !0, writable: !0, value: -32600 }); class l extends o { constructor(e, { method: t } = {}) { super(e, { code: l.code, name: "MethodNotFoundRpcError", shortMessage: `The method${t ? ` "${t}"` : ""} does not exist / is not available.` }) } } Object.defineProperty(l, "code", { enumerable: !0, configurable: !0, writable: !0, value: -32601 }); class u extends o { constructor(e) { super(e, { code: u.code, name: "InvalidParamsRpcError", shortMessage: ["Invalid parameters were provided to the RPC method.", "Double check you have provided the correct parameters."].join("\n") }) } } Object.defineProperty(u, "code", { enumerable: !0, configurable: !0, writable: !0, value: -32602 }); class d extends o { constructor(e) { super(e, { code: d.code, name: "InternalRpcError", shortMessage: "An internal error was received." }) } } Object.defineProperty(d, "code", { enumerable: !0, configurable: !0, writable: !0, value: -32603 }); class h extends o { constructor(e) { super(e, { code: h.code, name: "InvalidInputRpcError", shortMessage: ["Missing or invalid parameters.", "Double check you have provided the correct parameters."].join("\n") }) } } Object.defineProperty(h, "code", { enumerable: !0, configurable: !0, writable: !0, value: -32e3 }); class f extends o { constructor(e) { super(e, { code: f.code, name: "ResourceNotFoundRpcError", shortMessage: "Requested resource not found." }), Object.defineProperty(this, "name", { enumerable: !0, configurable: !0, writable: !0, value: "ResourceNotFoundRpcError" }) } } Object.defineProperty(f, "code", { enumerable: !0, configurable: !0, writable: !0, value: -32001 }); class p extends o { constructor(e) { super(e, { code: p.code, name: "ResourceUnavailableRpcError", shortMessage: "Requested resource not available." }) } } Object.defineProperty(p, "code", { enumerable: !0, configurable: !0, writable: !0, value: -32002 }); class m extends o { constructor(e) { super(e, { code: m.code, name: "TransactionRejectedRpcError", shortMessage: "Transaction creation failed." }) } } Object.defineProperty(m, "code", { enumerable: !0, configurable: !0, writable: !0, value: -32003 }); class g extends o { constructor(e, { method: t } = {}) { super(e, { code: g.code, name: "MethodNotSupportedRpcError", shortMessage: `Method${t ? ` "${t}"` : ""} is not implemented.` }) } } Object.defineProperty(g, "code", { enumerable: !0, configurable: !0, writable: !0, value: -32004 }); class y extends o { constructor(e) { super(e, { code: y.code, name: "LimitExceededRpcError", shortMessage: "Request exceeds defined limit." }) } } Object.defineProperty(y, "code", { enumerable: !0, configurable: !0, writable: !0, value: -32005 }); class b extends o { constructor(e) { super(e, { code: b.code, name: "JsonRpcVersionUnsupportedError", shortMessage: "Version of JSON-RPC protocol is not supported." }) } } Object.defineProperty(b, "code", { enumerable: !0, configurable: !0, writable: !0, value: -32006 }); class v extends s { constructor(e) { super(e, { code: v.code, name: "UserRejectedRequestError", shortMessage: "User rejected the request." }) } } Object.defineProperty(v, "code", { enumerable: !0, configurable: !0, writable: !0, value: 4001 }); class w extends s { constructor(e) { super(e, { code: w.code, name: "UnauthorizedProviderError", shortMessage: "The requested method and/or account has not been authorized by the user." }) } } Object.defineProperty(w, "code", { enumerable: !0, configurable: !0, writable: !0, value: 4100 }); class E extends s { constructor(e, { method: t } = {}) { super(e, { code: E.code, name: "UnsupportedProviderMethodError", shortMessage: `The Provider does not support the requested method${t ? ` " ${t}"` : ""}.` }) } } Object.defineProperty(E, "code", { enumerable: !0, configurable: !0, writable: !0, value: 4200 }); class x extends s { constructor(e) { super(e, { code: x.code, name: "ProviderDisconnectedError", shortMessage: "The Provider is disconnected from all chains." }) } } Object.defineProperty(x, "code", { enumerable: !0, configurable: !0, writable: !0, value: 4900 }); class _ extends s { constructor(e) { super(e, { code: _.code, name: "ChainDisconnectedError", shortMessage: "The Provider is not connected to the requested chain." }) } } Object.defineProperty(_, "code", { enumerable: !0, configurable: !0, writable: !0, value: 4901 }); class C extends s { constructor(e) { super(e, { code: C.code, name: "SwitchChainError", shortMessage: "An error occurred when attempting to switch chain." }) } } Object.defineProperty(C, "code", { enumerable: !0, configurable: !0, writable: !0, value: 4902 }); class A extends o { constructor(e) { super(e, { name: "UnknownRpcError", shortMessage: "An unknown RPC error occurred." }) } } }, 20443: function (e, t, n) { "use strict"; n.d(t, { Nc: function () { return i }, Z8: function () { return o }, Bj: function () { return a } }); var r = n(36117); class i extends r.G { constructor({ address: e }) { super(`State for account "${e}" is set multiple times.`, { name: "AccountStateConflictError" }) } } class o extends r.G { constructor() { super("state and stateDiff are set on the same account.", { name: "StateAssignmentConflictError" }) } } function s(e) { return e.reduce(((e, { slot: t, value: n }) => `${e}        ${t}: ${n}\n`), "") } function a(e) { return e.reduce(((e, { address: t, ...n }) => { let r = `${e}    ${t}:\n`; return n.nonce && (r += `      nonce: ${n.nonce}\n`), n.balance && (r += `      balance: ${n.balance}\n`), n.code && (r += `      code: ${n.code}\n`), n.state && (r += "      state:\n", r += s(n.state)), n.stateDiff && (r += "      stateDiff:\n", r += s(n.stateDiff)), r }), "  State Override:\n").slice(0, -1) } }, 33639: function (e, t, n) { "use strict"; n.d(t, { xr: function () { return s }, xY: function () { return a }, j3: function () { return c }, mk: function () { return l }, Bh: function () { return u }, Yb: function () { return d }, mc: function () { return h } }); var r = n(39625), i = n(67795), o = n(36117); function s(e) { const t = Object.entries(e).map((([e, t]) => void 0 === t || !1 === t ? null : [e, t])).filter(Boolean), n = t.reduce(((e, [t]) => Math.max(e, t.length)), 0); return t.map((([e, t]) => `  ${`${e}:`.padEnd(n + 1)}  ${t}`)).join("\n") } class a extends o.G { constructor() { super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.", "Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join("\n"), { name: "FeeConflictError" }) } } class c extends o.G { constructor({ transaction: e }) { super("Cannot infer a transaction type from provided transaction.", { metaMessages: ["Provided Transaction:", "{", s(e), "}", "", "To infer the type, either provide:", "- a `type` to the Transaction, or", "- an EIP-1559 Transaction with `maxFeePerGas`, or", "- an EIP-2930 Transaction with `gasPrice` & `accessList`, or", "- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or", "- an EIP-7702 Transaction with `authorizationList`, or", "- a Legacy Transaction with `gasPrice`"], name: "InvalidSerializableTransactionError" }) } } class l extends o.G { constructor(e, { account: t, docsPath: n, chain: o, data: a, gas: c, gasPrice: l, maxFeePerGas: u, maxPriorityFeePerGas: d, nonce: h, to: f, value: p }) { const m = s({ chain: o && `${o?.name} (id: ${o?.id})`, from: t?.address, to: f, value: "undefined" !== typeof p && `${(0, r.d)(p)} ${o?.nativeCurrency?.symbol || "ETH"}`, data: a, gas: c, gasPrice: "undefined" !== typeof l && `${(0, i.o)(l)} gwei`, maxFeePerGas: "undefined" !== typeof u && `${(0, i.o)(u)} gwei`, maxPriorityFeePerGas: "undefined" !== typeof d && `${(0, i.o)(d)} gwei`, nonce: h }); super(e.shortMessage, { cause: e, docsPath: n, metaMessages: [...e.metaMessages ? [...e.metaMessages, " "] : [], "Request Arguments:", m].filter(Boolean), name: "TransactionExecutionError" }), Object.defineProperty(this, "cause", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), this.cause = e } } class u extends o.G { constructor({ blockHash: e, blockNumber: t, blockTag: n, hash: r, index: i }) { let o = "Transaction"; n && void 0 !== i && (o = `Transaction at block time "${n}" at index "${i}"`), e && void 0 !== i && (o = `Transaction at block hash "${e}" at index "${i}"`), t && void 0 !== i && (o = `Transaction at block number "${t}" at index "${i}"`), r && (o = `Transaction with hash "${r}"`), super(`${o} could not be found.`, { name: "TransactionNotFoundError" }) } } class d extends o.G { constructor({ hash: e }) { super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`, { name: "TransactionReceiptNotFoundError" }) } } class h extends o.G { constructor({ hash: e }) { super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`, { name: "WaitForTransactionReceiptTimeoutError" }) } } }, 29008: function (e, t, n) { "use strict"; n.d(t, { C: function () { return r }, G: function () { return i } }); const r = e => e, i = e => e }, 91213: function (e, t, n) { "use strict"; n.d(t, { z: function () { return p } }); var r = n(40112), i = n(57040), o = n(11187), s = n(92106), a = n(36117), c = n(11221); function l(e, t = "hex") { const n = u(e), r = (0, c.q)(new Uint8Array(n.length)); return n.encode(r), "hex" === t ? (0, s.ci)(r.bytes) : r.bytes } function u(e) { return Array.isArray(e) ? function (e) { const t = e.reduce(((e, t) => e + t.length), 0), n = d(t); return { length: t <= 55 ? 1 + t : 1 + n + t, encode(r) { t <= 55 ? r.pushByte(192 + t) : (r.pushByte(247 + n), 1 === n ? r.pushUint8(t) : 2 === n ? r.pushUint16(t) : 3 === n ? r.pushUint24(t) : r.pushUint32(t)); for (const { encode: t } of e) t(r) } } }(e.map((e => u(e)))) : function (e) { const t = "string" === typeof e ? (0, o.nr)(e) : e, n = d(t.length); return { length: 1 === t.length && t[0] < 128 ? 1 : t.length <= 55 ? 1 + t.length : 1 + n + t.length, encode(e) { 1 === t.length && t[0] < 128 ? e.pushBytes(t) : t.length <= 55 ? (e.pushByte(128 + t.length), e.pushBytes(t)) : (e.pushByte(183 + n), 1 === n ? e.pushUint8(t.length) : 2 === n ? e.pushUint16(t.length) : 3 === n ? e.pushUint24(t.length) : e.pushUint32(t.length), e.pushBytes(t)) } } }(e) } function d(e) { if (e < 256) return 1; if (e < 65536) return 2; if (e < 2 ** 24) return 3; if (e < 2 ** 32) return 4; throw new a.G("Length is too large.") } var h = n(49550); function f(e) { const { chainId: t, contractAddress: n, nonce: r, to: a } = e, c = (0, h.w)((0, i.SM)(["0x05", l([t ? (0, s.eC)(t) : "0x", n, r ? (0, s.eC)(r) : "0x"])])); return "bytes" === a ? (0, o.nr)(c) : c } async function p(e) { const { authorization: t, signature: n } = e; return (0, r.R)({ hash: f(t), signature: n ?? t }) } }, 78398: function (e, t, n) { "use strict"; n.d(t, { r: function () { return b } }); var r = n(57412), i = n(45775), o = n(11221), s = n(39135), a = n(3972), c = n(61836), l = n(87788), u = n(95946), d = n(92106); function h(e, t = {}) { "undefined" !== typeof t.size && (0, u.Yf)(e, { size: t.size }); const n = (0, d.ci)(e, t); return (0, u.y_)(n, t) } function f(e, t = {}) { let n = e; if ("undefined" !== typeof t.size && ((0, u.Yf)(n, { size: t.size }), n = (0, c.f)(n)), n.length > 1 || n[0] > 1) throw new l.yr(n); return Boolean(n[0]) } function p(e, t = {}) { "undefined" !== typeof t.size && (0, u.Yf)(e, { size: t.size }); const n = (0, d.ci)(e, t); return (0, u.ly)(n, t) } function m(e, t = {}) { let n = e; return "undefined" !== typeof t.size && ((0, u.Yf)(n, { size: t.size }), n = (0, c.f)(n, { dir: "right" })), (new TextDecoder).decode(n) } var g = n(11187), y = n(45444); function b(e, t) { const n = "string" === typeof t ? (0, g.nr)(t) : t, i = (0, o.q)(n); if (0 === (0, s.d)(n) && e.length > 0) throw new r.wb; if ((0, s.d)(t) && (0, s.d)(t) < 32) throw new r.xB({ data: "string" === typeof t ? t : (0, d.ci)(t), params: e, size: (0, s.d)(t) }); let a = 0; const c = []; for (let r = 0; r < e.length; ++r) { const t = e[r]; i.setPosition(a); const [n, o] = v(i, t, { staticPosition: 0 }); a += o, c.push(n) } return c } function v(e, t, { staticPosition: n }) { const o = (0, y.S)(t.type); if (o) { const [r, i] = o; return function (e, t, { length: n, staticPosition: r }) { if (!n) { const n = r + p(e.readBytes(32)), i = n + 32; e.setPosition(n); const o = p(e.readBytes(32)), s = E(t); let a = 0; const c = []; for (let r = 0; r < o; ++r) { e.setPosition(i + (s ? 32 * r : a)); const [n, o] = v(e, t, { staticPosition: i }); a += o, c.push(n) } return e.setPosition(r + 32), [c, 32] } if (E(t)) { const i = r + p(e.readBytes(32)), o = []; for (let r = 0; r < n; ++r) { e.setPosition(i + 32 * r); const [n] = v(e, t, { staticPosition: i }); o.push(n) } return e.setPosition(r + 32), [o, 32] } let i = 0; const o = []; for (let s = 0; s < n; ++s) { const [n, s] = v(e, t, { staticPosition: r + i }); i += s, o.push(n) } return [o, i] }(e, { ...t, type: i }, { length: r, staticPosition: n }) } if ("tuple" === t.type) return function (e, t, { staticPosition: n }) { const r = 0 === t.components.length || t.components.some((({ name: e }) => !e)), i = r ? [] : {}; let o = 0; if (E(t)) { const s = n + p(e.readBytes(w)); for (let n = 0; n < t.components.length; ++n) { const a = t.components[n]; e.setPosition(s + o); const [c, l] = v(e, a, { staticPosition: s }); o += l, i[r ? n : a?.name] = c } return e.setPosition(n + 32), [i, 32] } for (let s = 0; s < t.components.length; ++s) { const a = t.components[s], [c, l] = v(e, a, { staticPosition: n }); i[r ? s : a?.name] = c, o += l } return [i, o] }(e, t, { staticPosition: n }); if ("address" === t.type) return function (e) { const t = e.readBytes(32); return [(0, i.x)((0, d.ci)((0, a.T4)(t, -20))), 32] }(e); if ("bool" === t.type) return function (e) { return [f(e.readBytes(32), { size: 32 }), 32] }(e); if (t.type.startsWith("bytes")) return function (e, t, { staticPosition: n }) { const [r, i] = t.type.split("bytes"); if (!i) { const t = p(e.readBytes(32)); e.setPosition(n + t); const r = p(e.readBytes(32)); if (0 === r) return e.setPosition(n + 32), ["0x", 32]; const i = e.readBytes(r); return e.setPosition(n + 32), [(0, d.ci)(i), 32] } return [(0, d.ci)(e.readBytes(Number.parseInt(i), 32)), 32] }(e, t, { staticPosition: n }); if (t.type.startsWith("uint") || t.type.startsWith("int")) return function (e, t) { const n = t.type.startsWith("int"), r = Number.parseInt(t.type.split("int")[1] || "256"), i = e.readBytes(32); return [r > 48 ? h(i, { signed: n }) : p(i, { signed: n }), 32] }(e, t); if ("string" === t.type) return function (e, { staticPosition: t }) { const n = p(e.readBytes(32)), r = t + n; e.setPosition(r); const i = p(e.readBytes(32)); if (0 === i) return e.setPosition(t + 32), ["", 32]; const o = e.readBytes(i, 32), s = m((0, c.f)(o)); return e.setPosition(t + 32), [s, 32] }(e, { staticPosition: n }); throw new r.CI(t.type, { docsPath: "/docs/contract/decodeAbiParameters" }) } const w = 32; function E(e) { const { type: t } = e; if ("string" === t) return !0; if ("bytes" === t) return !0; if (t.endsWith("[]")) return !0; if ("tuple" === t) return e.components?.some(E); const n = (0, y.S)(e.type); return !(!n || !E({ ...e, type: n[1] })) } }, 86899: function (e, t, n) { "use strict"; n.d(t, { p: function () { return l } }); var r = n(21746), i = n(57412), o = n(3972), s = n(58034), a = n(78398), c = n(80522); function l(e) { const { abi: t, data: n } = e, l = (0, o.tP)(n, 0, 4); if ("0x" === l) throw new i.wb; const u = [...t || [], r.Up, r.hZ].find((e => "error" === e.type && l === (0, s.C)((0, c.t)(e)))); if (!u) throw new i.yP(l, { docsPath: "/docs/contract/decodeErrorResult" }); return { abiItem: u, args: "inputs" in u && u.inputs && u.inputs.length > 0 ? (0, a.r)(u.inputs, (0, o.tP)(n, 4)) : void 0, errorName: u.name } } }, 7210: function (e, t, n) { "use strict"; n.d(t, { k: function () { return a } }); var r = n(57412), i = n(78398), o = n(40840); const s = "/docs/contract/decodeFunctionResult"; function a(e) { const { abi: t, args: n, functionName: a, data: c } = e; let l = t[0]; if (a) { const e = (0, o.mE)({ abi: t, args: n, name: a }); if (!e) throw new r.xL(a, { docsPath: s }); l = e } if ("function" !== l.type) throw new r.xL(void 0, { docsPath: s }); if (!l.outputs) throw new r.MX(l.name, { docsPath: s }); const u = (0, i.r)(l.outputs, c); return u && u.length > 1 ? u : u && 1 === u.length ? u[0] : void 0 } }, 45444: function (e, t, n) { "use strict"; n.d(t, { E: function () { return p }, S: function () { return y } }); var r = n(57412), i = n(26087), o = n(36117), s = n(87788), a = n(49321), c = n(57040), l = n(61769), u = n(39135), d = n(3972), h = n(92106), f = n(24409); function p(e, t) { if (e.length !== t.length) throw new r.fs({ expectedLength: e.length, givenLength: t.length }); const n = g(function ({ params: e, values: t }) { const n = []; for (let r = 0; r < e.length; r++)n.push(m({ param: e[r], value: t[r] })); return n }({ params: e, values: t })); return 0 === n.length ? "0x" : n } function m({ param: e, value: t }) { const n = y(e.type); if (n) { const [i, o] = n; return function (e, { length: t, param: n }) { const i = null === t; if (!Array.isArray(e)) throw new r.hn(e); if (!i && e.length !== t) throw new r.gr({ expectedLength: t, givenLength: e.length, type: `${n.type}[${t}]` }); let o = !1; const s = []; for (let r = 0; r < e.length; r++) { const t = m({ param: n, value: e[r] }); t.dynamic && (o = !0), s.push(t) } if (i || o) { const e = g(s); if (i) { const t = (0, h.eC)(s.length, { size: 32 }); return { dynamic: !0, encoded: s.length > 0 ? (0, c.zo)([t, e]) : t } } if (o) return { dynamic: !0, encoded: e } } return { dynamic: !1, encoded: (0, c.zo)(s.map((({ encoded: e }) => e))) } }(t, { length: i, param: { ...e, type: o } }) } if ("tuple" === e.type) return function (e, { param: t }) { let n = !1; const r = []; for (let i = 0; i < t.components.length; i++) { const o = t.components[i], s = m({ param: o, value: e[Array.isArray(e) ? i : o.name] }); r.push(s), s.dynamic && (n = !0) } return { dynamic: n, encoded: n ? g(r) : (0, c.zo)(r.map((({ encoded: e }) => e))) } }(t, { param: e }); if ("address" === e.type) return function (e) { if (!(0, a.U)(e)) throw new i.b({ address: e }); return { dynamic: !1, encoded: (0, l.gc)(e.toLowerCase()) } }(t); if ("bool" === e.type) return function (e) { if ("boolean" !== typeof e) throw new o.G(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`); return { dynamic: !1, encoded: (0, l.gc)((0, h.C4)(e)) } }(t); if (e.type.startsWith("uint") || e.type.startsWith("int")) { const n = e.type.startsWith("int"), [, , r = "256"] = f.lh.exec(e.type) ?? []; return function (e, { signed: t, size: n = 256 }) { if ("number" === typeof n) { const r = 2n ** (BigInt(n) - (t ? 1n : 0n)) - 1n, i = t ? -r - 1n : 0n; if (e > r || e < i) throw new s.J5({ max: r.toString(), min: i.toString(), signed: t, size: n / 8, value: e.toString() }) } return { dynamic: !1, encoded: (0, h.eC)(e, { size: 32, signed: t }) } }(t, { signed: n, size: Number(r) }) } if (e.type.startsWith("bytes")) return function (e, { param: t }) { const [, n] = t.type.split("bytes"), i = (0, u.d)(e); if (!n) { let t = e; return i % 32 !== 0 && (t = (0, l.gc)(t, { dir: "right", size: 32 * Math.ceil((e.length - 2) / 2 / 32) })), { dynamic: !0, encoded: (0, c.zo)([(0, l.gc)((0, h.eC)(i, { size: 32 })), t]) } } if (i !== Number.parseInt(n)) throw new r.M4({ expectedSize: Number.parseInt(n), value: e }); return { dynamic: !1, encoded: (0, l.gc)(e, { dir: "right" }) } }(t, { param: e }); if ("string" === e.type) return function (e) { const t = (0, h.$G)(e), n = Math.ceil((0, u.d)(t) / 32), r = []; for (let i = 0; i < n; i++)r.push((0, l.gc)((0, d.tP)(t, 32 * i, 32 * (i + 1)), { dir: "right" })); return { dynamic: !0, encoded: (0, c.zo)([(0, l.gc)((0, h.eC)((0, u.d)(t), { size: 32 })), ...r]) } }(t); throw new r.dh(e.type, { docsPath: "/docs/contract/encodeAbiParameters" }) } function g(e) { let t = 0; for (let o = 0; o < e.length; o++) { const { dynamic: n, encoded: r } = e[o]; t += n ? 32 : (0, u.d)(r) } const n = [], r = []; let i = 0; for (let o = 0; o < e.length; o++) { const { dynamic: s, encoded: a } = e[o]; s ? (n.push((0, h.eC)(t + i, { size: 32 })), r.push(a), i += (0, u.d)(a)) : n.push(a) } return (0, c.zo)([...n, ...r]) } function y(e) { const t = e.match(/^(.*)\[(\d+)?\]$/); return t ? [t[2] ? Number(t[2]) : null, t[1]] : void 0 } }, 30286: function (e, t, n) { "use strict"; n.d(t, { w: function () { return a } }); var r = n(57412), i = n(57040), o = n(45444); const s = "/docs/contract/encodeDeployData"; function a(e) { const { abi: t, args: n, bytecode: a } = e; if (!n || 0 === n.length) return a; const c = t.find((e => "type" in e && "constructor" === e.type)); if (!c) throw new r.fM({ docsPath: s }); if (!("inputs" in c)) throw new r.cO({ docsPath: s }); if (!c.inputs || 0 === c.inputs.length) throw new r.cO({ docsPath: s }); const l = (0, o.E)(c.inputs, n); return (0, i.SM)([a, l]) } }, 55629: function (e, t, n) { "use strict"; n.d(t, { R: function () { return u } }); var r = n(57040), i = n(45444), o = n(57412), s = n(58034), a = n(80522), c = n(40840); const l = "/docs/contract/encodeFunctionData"; function u(e) { const { args: t } = e, { abi: n, functionName: u } = 1 === e.abi.length && e.functionName?.startsWith("0x") ? e : function (e) { const { abi: t, args: n, functionName: r } = e; let i = t[0]; if (r) { const e = (0, c.mE)({ abi: t, args: n, name: r }); if (!e) throw new o.xL(r, { docsPath: l }); i = e } if ("function" !== i.type) throw new o.xL(void 0, { docsPath: l }); return { abi: [i], functionName: (0, s.C)((0, a.t)(i)) } }(e), d = n[0], h = u, f = "inputs" in d && d.inputs ? (0, i.E)(d.inputs, t ?? []) : void 0; return (0, r.SM)([h, f ?? "0x"]) } }, 80522: function (e, t, n) { "use strict"; n.d(t, { t: function () { return i }, h: function () { return o } }); var r = n(57412); function i(e, { includeName: t = !1 } = {}) { if ("function" !== e.type && "event" !== e.type && "error" !== e.type) throw new r.wM(e.type); return `${e.name}(${o(e.inputs, { includeName: t })})` } function o(e, { includeName: t = !1 } = {}) { return e ? e.map((e => function (e, { includeName: t }) { if (e.type.startsWith("tuple")) return `(${o(e.components, { includeName: t })})${e.type.slice("tuple".length)}`; return e.type + (t && e.name ? ` ${e.name}` : "") }(e, { includeName: t }))).join(t ? ", " : ",") : "" } }, 40840: function (e, t, n) { "use strict"; n.d(t, { mE: function () { return c } }); var r = n(57412), i = n(15102), o = n(49321), s = n(96005), a = n(58034); function c(e) { const { abi: t, args: n = [], name: o } = e, c = (0, i.v)(o, { strict: !1 }), d = t.filter((e => c ? "function" === e.type ? (0, a.C)(e) === o : "event" === e.type && (0, s.n)(e) === o : "name" in e && e.name === o)); if (0 === d.length) return; if (1 === d.length) return d[0]; let h; for (const i of d) { if (!("inputs" in i)) continue; if (!n || 0 === n.length) { if (!i.inputs || 0 === i.inputs.length) return i; continue } if (!i.inputs) continue; if (0 === i.inputs.length) continue; if (i.inputs.length !== n.length) continue; if (n.every(((e, t) => { const n = "inputs" in i && i.inputs[t]; return !!n && l(e, n) }))) { if (h && "inputs" in h && h.inputs) { const e = u(i.inputs, h.inputs, n); if (e) throw new r.S4({ abiItem: i, type: e[0] }, { abiItem: h, type: e[1] }) } h = i } } return h || d[0] } function l(e, t) { const n = typeof e, r = t.type; switch (r) { case "address": return (0, o.U)(e, { strict: !1 }); case "bool": return "boolean" === n; case "function": case "string": return "string" === n; default: return "tuple" === r && "components" in t ? Object.values(t.components).every(((t, n) => l(Object.values(e)[n], t))) : /^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r) ? "number" === n || "bigint" === n : /^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r) ? "string" === n || e instanceof Uint8Array : !!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r) && (Array.isArray(e) && e.every((e => l(e, { ...t, type: r.replace(/(\[[0-9]{0,}\])$/, "") })))) } } function u(e, t, n) { for (const r in e) { const i = e[r], s = t[r]; if ("tuple" === i.type && "tuple" === s.type && "components" in i && "components" in s) return u(i.components, s.components, n[r]); const a = [i.type, s.type]; if (!(!a.includes("address") || !a.includes("bytes20")) || (a.includes("address") && a.includes("string") || !(!a.includes("address") || !a.includes("bytes"))) && (0, o.U)(n[r], { strict: !1 })) return a } } }, 45775: function (e, t, n) { "use strict"; n.d(t, { x: function () { return l }, K: function () { return u } }); var r = n(26087), i = n(11187), o = n(49550), s = n(79773), a = n(49321); const c = new s.k(8192); function l(e, t) { if (c.has(`${e}.${t}`)) return c.get(`${e}.${t}`); const n = t ? `${t}${e.toLowerCase()}` : e.substring(2).toLowerCase(), r = (0, o.w)((0, i.qX)(n), "bytes"), s = (t ? n.substring(`${t}0x`.length) : n).split(""); for (let i = 0; i < 40; i += 2)r[i >> 1] >> 4 >= 8 && s[i] && (s[i] = s[i].toUpperCase()), (15 & r[i >> 1]) >= 8 && s[i + 1] && (s[i + 1] = s[i + 1].toUpperCase()); const a = `0x${s.join("")}`; return c.set(`${e}.${t}`, a), a } function u(e, t) { if (!(0, a.U)(e, { strict: !1 })) throw new r.b({ address: e }); return l(e, t) } }, 49321: function (e, t, n) { "use strict"; n.d(t, { U: function () { return a } }); var r = n(79773), i = n(45775); const o = /^0x[a-fA-F0-9]{40}$/, s = new r.k(8192); function a(e, t) { const { strict: n = !0 } = t ?? {}, r = `${e}.${n}`; if (s.has(r)) return s.get(r); const a = !!o.test(e) && (e.toLowerCase() === e || !n || (0, i.x)(e) === e); return s.set(r, a), a } }, 61228: function (e, t, n) { "use strict"; n.d(t, { E: function () { return o } }); var r = n(26087), i = n(49321); function o(e, t) { if (!(0, i.U)(e, { strict: !1 })) throw new r.b({ address: e }); if (!(0, i.U)(t, { strict: !1 })) throw new r.b({ address: t }); return e.toLowerCase() === t.toLowerCase() } }, 33840: function (e, t, n) { "use strict"; n.d(t, { q: function () { return i } }); var r = n(80377); function i({ chain: e, currentChainId: t }) { if (!e) throw new r.Bk; if (t !== e.id) throw new r.Yl({ chain: e, currentChainId: t }) } }, 47864: function (e, t, n) { "use strict"; n.d(t, { L: function () { return i } }); var r = n(80377); function i({ blockNumber: e, chain: t, contract: n }) { const i = t?.contracts?.[n]; if (!i) throw new r.mm({ chain: t, contract: { name: n } }); if (e && i.blockCreated && i.blockCreated > e) throw new r.mm({ blockNumber: e, chain: t, contract: { name: n, blockCreated: i.blockCreated } }); return i.address } }, 11221: function (e, t, n) { "use strict"; n.d(t, { q: function () { return o } }); var r = n(66238); const i = { bytes: new Uint8Array, dataView: new DataView(new ArrayBuffer(0)), position: 0, positionReadCount: new Map, recursiveReadCount: 0, recursiveReadLimit: Number.POSITIVE_INFINITY, assertReadLimit() { if (this.recursiveReadCount >= this.recursiveReadLimit) throw new r.KD({ count: this.recursiveReadCount + 1, limit: this.recursiveReadLimit }) }, assertPosition(e) { if (e < 0 || e > this.bytes.length - 1) throw new r.lQ({ length: this.bytes.length, position: e }) }, decrementPosition(e) { if (e < 0) throw new r.T_({ offset: e }); const t = this.position - e; this.assertPosition(t), this.position = t }, getReadCount(e) { return this.positionReadCount.get(e || this.position) || 0 }, incrementPosition(e) { if (e < 0) throw new r.T_({ offset: e }); const t = this.position + e; this.assertPosition(t), this.position = t }, inspectByte(e) { const t = e ?? this.position; return this.assertPosition(t), this.bytes[t] }, inspectBytes(e, t) { const n = t ?? this.position; return this.assertPosition(n + e - 1), this.bytes.subarray(n, n + e) }, inspectUint8(e) { const t = e ?? this.position; return this.assertPosition(t), this.bytes[t] }, inspectUint16(e) { const t = e ?? this.position; return this.assertPosition(t + 1), this.dataView.getUint16(t) }, inspectUint24(e) { const t = e ?? this.position; return this.assertPosition(t + 2), (this.dataView.getUint16(t) << 8) + this.dataView.getUint8(t + 2) }, inspectUint32(e) { const t = e ?? this.position; return this.assertPosition(t + 3), this.dataView.getUint32(t) }, pushByte(e) { this.assertPosition(this.position), this.bytes[this.position] = e, this.position++ }, pushBytes(e) { this.assertPosition(this.position + e.length - 1), this.bytes.set(e, this.position), this.position += e.length }, pushUint8(e) { this.assertPosition(this.position), this.bytes[this.position] = e, this.position++ }, pushUint16(e) { this.assertPosition(this.position + 1), this.dataView.setUint16(this.position, e), this.position += 2 }, pushUint24(e) { this.assertPosition(this.position + 2), this.dataView.setUint16(this.position, e >> 8), this.dataView.setUint8(this.position + 2, 255 & e), this.position += 3 }, pushUint32(e) { this.assertPosition(this.position + 3), this.dataView.setUint32(this.position, e), this.position += 4 }, readByte() { this.assertReadLimit(), this._touch(); const e = this.inspectByte(); return this.position++, e }, readBytes(e, t) { this.assertReadLimit(), this._touch(); const n = this.inspectBytes(e); return this.position += t ?? e, n }, readUint8() { this.assertReadLimit(), this._touch(); const e = this.inspectUint8(); return this.position += 1, e }, readUint16() { this.assertReadLimit(), this._touch(); const e = this.inspectUint16(); return this.position += 2, e }, readUint24() { this.assertReadLimit(), this._touch(); const e = this.inspectUint24(); return this.position += 3, e }, readUint32() { this.assertReadLimit(), this._touch(); const e = this.inspectUint32(); return this.position += 4, e }, get remaining() { return this.bytes.length - this.position }, setPosition(e) { const t = this.position; return this.assertPosition(e), this.position = e, () => this.position = t }, _touch() { if (this.recursiveReadLimit === Number.POSITIVE_INFINITY) return; const e = this.getReadCount(); this.positionReadCount.set(this.position, e + 1), e > 0 && this.recursiveReadCount++ } }; function o(e, { recursiveReadLimit: t = 8192 } = {}) { const n = Object.create(i); return n.bytes = e, n.dataView = new DataView(e.buffer, e.byteOffset, e.byteLength), n.positionReadCount = new Map, n.recursiveReadLimit = t, n } }, 57040: function (e, t, n) { "use strict"; function r(e) { return "string" === typeof e[0] ? i(e) : function (e) { let t = 0; for (const i of e) t += i.length; const n = new Uint8Array(t); let r = 0; for (const i of e) n.set(i, r), r += i.length; return n }(e) } function i(e) { return `0x${e.reduce(((e, t) => e + t.replace("0x", "")), "")}` } n.d(t, { zo: function () { return r }, SM: function () { return i } }) }, 15102: function (e, t, n) { "use strict"; function r(e, { strict: t = !0 } = {}) { return !!e && ("string" === typeof e && (t ? /^0x[0-9a-fA-F]*$/.test(e) : e.startsWith("0x"))) } n.d(t, { v: function () { return r } }) }, 61769: function (e, t, n) { "use strict"; n.d(t, { vk: function () { return i }, gc: function () { return o } }); var r = n(69760); function i(e, { dir: t, size: n = 32 } = {}) { return "string" === typeof e ? o(e, { dir: t, size: n }) : function (e, { dir: t, size: n = 32 } = {}) { if (null === n) return e; if (e.length > n) throw new r.$s({ size: e.length, targetSize: n, type: "bytes" }); const i = new Uint8Array(n); for (let r = 0; r < n; r++) { const o = "right" === t; i[o ? r : n - r - 1] = e[o ? r : e.length - r - 1] } return i }(e, { dir: t, size: n }) } function o(e, { dir: t, size: n = 32 } = {}) { if (null === n) return e; const i = e.replace("0x", ""); if (i.length > 2 * n) throw new r.$s({ size: Math.ceil(i.length / 2), targetSize: n, type: "hex" }); return `0x${i["right" === t ? "padEnd" : "padStart"](2 * n, "0")}` } }, 39135: function (e, t, n) { "use strict"; n.d(t, { d: function () { return i } }); var r = n(15102); function i(e) { return (0, r.v)(e, { strict: !1 }) ? Math.ceil((e.length - 2) / 2) : e.length } }, 3972: function (e, t, n) { "use strict"; n.d(t, { tP: function () { return s }, T4: function () { return l }, p5: function () { return u } }); var r = n(69760), i = n(15102), o = n(39135); function s(e, t, n, { strict: r } = {}) { return (0, i.v)(e, { strict: !1 }) ? u(e, t, n, { strict: r }) : l(e, t, n, { strict: r }) } function a(e, t) { if ("number" === typeof t && t > 0 && t > (0, o.d)(e) - 1) throw new r.mV({ offset: t, position: "start", size: (0, o.d)(e) }) } function c(e, t, n) { if ("number" === typeof t && "number" === typeof n && (0, o.d)(e) !== n - t) throw new r.mV({ offset: n, position: "end", size: (0, o.d)(e) }) } function l(e, t, n, { strict: r } = {}) { a(e, t); const i = e.slice(t, n); return r && c(i, t, n), i } function u(e, t, n, { strict: r } = {}) { a(e, t); const i = `0x${e.replace("0x", "").slice(2 * (t ?? 0), 2 * (n ?? e.length))}`; return r && c(i, t, n), i } }, 61836: function (e, t, n) { "use strict"; function r(e, { dir: t = "left" } = {}) { let n = "string" === typeof e ? e.replace("0x", "") : e, r = 0; for (let i = 0; i < n.length - 1 && "0" === n["left" === t ? i : n.length - i - 1].toString(); i++)r++; return n = "left" === t ? n.slice(r) : n.slice(0, n.length - r), "string" === typeof e ? (1 === n.length && "right" === t && (n = `${n}0`), `0x${n.length % 2 === 1 ? `0${n}` : n}`) : n } n.d(t, { f: function () { return r } }) }, 95946: function (e, t, n) { "use strict"; n.d(t, { Yf: function () { return s }, y_: function () { return a }, XA: function () { return c }, ly: function () { return l } }); var r = n(87788), i = n(39135), o = n(61836); function s(e, { size: t }) { if ((0, i.d)(e) > t) throw new r.M6({ givenSize: (0, i.d)(e), maxSize: t }) } function a(e, t = {}) { const { signed: n } = t; t.size && s(e, { size: t.size }); const r = BigInt(e); if (!n) return r; const i = (e.length - 2) / 2; return r <= (1n << 8n * BigInt(i) - 1n) - 1n ? r : r - BigInt(`0x${"f".padStart(2 * i, "f")}`) - 1n } function c(e, t = {}) { let n = e; if (t.size && (s(n, { size: t.size }), n = (0, o.f)(n)), "0x00" === (0, o.f)(n)) return !1; if ("0x01" === (0, o.f)(n)) return !0; throw new r.Cd(n) } function l(e, t = {}) { return Number(a(e, t)) } }, 11187: function (e, t, n) { "use strict"; n.d(t, { O0: function () { return l }, nr: function () { return y }, qX: function () { return b } }); var r = n(36117), i = n(15102), o = n(61769), s = n(95946), a = n(92106); const c = new TextEncoder; function l(e, t = {}) { return "number" === typeof e || "bigint" === typeof e ? function (e, t) { return y((0, a.eC)(e, t)) }(e, t) : "boolean" === typeof e ? function (e, t = {}) { const n = new Uint8Array(1); if (n[0] = Number(e), "number" === typeof t.size) return (0, s.Yf)(n, { size: t.size }), (0, o.vk)(n, { size: t.size }); return n }(e, t) : (0, i.v)(e) ? y(e, t) : b(e, t) } const u = 48, d = 57, h = 65, f = 70, p = 97, m = 102; function g(e) { return e >= u && e <= d ? e - u : e >= h && e <= f ? e - (h - 10) : e >= p && e <= m ? e - (p - 10) : void 0 } function y(e, t = {}) { let n = e; t.size && ((0, s.Yf)(n, { size: t.size }), n = (0, o.vk)(n, { dir: "right", size: t.size })); let i = n.slice(2); i.length % 2 && (i = `0${i}`); const a = i.length / 2, c = new Uint8Array(a); for (let o = 0, s = 0; o < a; o++) { const e = g(i.charCodeAt(s++)), t = g(i.charCodeAt(s++)); if (void 0 === e || void 0 === t) throw new r.G(`Invalid byte sequence ("${i[s - 2]}${i[s - 1]}" in "${i}").`); c[o] = 16 * e + t } return c } function b(e, t = {}) { const n = c.encode(e); return "number" === typeof t.size ? ((0, s.Yf)(n, { size: t.size }), (0, o.vk)(n, { dir: "right", size: t.size })) : n } }, 92106: function (e, t, n) { "use strict"; n.d(t, { NC: function () { return a }, C4: function () { return c }, ci: function () { return l }, eC: function () { return u }, $G: function () { return h } }); var r = n(87788), i = n(61769), o = n(95946); const s = Array.from({ length: 256 }, ((e, t) => t.toString(16).padStart(2, "0"))); function a(e, t = {}) { return "number" === typeof e || "bigint" === typeof e ? u(e, t) : "string" === typeof e ? h(e, t) : "boolean" === typeof e ? c(e, t) : l(e, t) } function c(e, t = {}) { const n = `0x${Number(e)}`; return "number" === typeof t.size ? ((0, o.Yf)(n, { size: t.size }), (0, i.vk)(n, { size: t.size })) : n } function l(e, t = {}) { let n = ""; for (let i = 0; i < e.length; i++)n += s[e[i]]; const r = `0x${n}`; return "number" === typeof t.size ? ((0, o.Yf)(r, { size: t.size }), (0, i.vk)(r, { dir: "right", size: t.size })) : r } function u(e, t = {}) { const { signed: n, size: o } = t, s = BigInt(e); let a; o ? a = n ? (1n << 8n * BigInt(o) - 1n) - 1n : 2n ** (8n * BigInt(o)) - 1n : "number" === typeof e && (a = BigInt(Number.MAX_SAFE_INTEGER)); const c = "bigint" === typeof a && n ? -a - 1n : 0; if (a && s > a || s < c) { const t = "bigint" === typeof e ? "n" : ""; throw new r.J5({ max: a ? `${a}${t}` : void 0, min: `${c}${t}`, signed: n, size: o, value: `${e}${t}` }) } const l = `0x${(n && s < 0 ? (1n << BigInt(8 * o)) + BigInt(s) : s).toString(16)}`; return o ? (0, i.vk)(l, { size: o }) : l } const d = new TextEncoder; function h(e, t = {}) { return l(d.encode(e), t) } }, 72365: function (e, t, n) { "use strict"; n.d(t, { S: function () { return c } }); var r = n(57412), i = n(36117), o = n(97405), s = n(39028); const a = 3; function c(e, { abi: t, address: n, args: c, docsPath: l, functionName: u, sender: d }) { const { code: h, data: f, message: p, shortMessage: m } = e instanceof o.VQ ? e : e instanceof i.G ? e.walk((e => "data" in e)) || e.walk() : {}, g = e instanceof r.wb ? new o.Dk({ functionName: u }) : [a, s.XS.code].includes(h) && (f || p || m) ? new o.Lu({ abi: t, data: "object" === typeof f ? f.data : f, functionName: u, message: m ?? p }) : e; return new o.uq(g, { abi: t, args: c, contractAddress: n, docsPath: l, functionName: u, sender: d }) } }, 87469: function (e, t, n) { "use strict"; n.d(t, { k: function () { return o } }); var r = n(36117), i = n(26445); function o(e, t) { const n = (e.details || "").toLowerCase(), o = e instanceof r.G ? e.walk((e => e?.code === i.M_.code)) : e; return o instanceof r.G ? new i.M_({ cause: e, message: o.details }) : i.M_.nodeMessage.test(n) ? new i.M_({ cause: e, message: e.details }) : i.Hh.nodeMessage.test(n) ? new i.Hh({ cause: e, maxFeePerGas: t?.maxFeePerGas }) : i.G$.nodeMessage.test(n) ? new i.G$({ cause: e, maxFeePerGas: t?.maxFeePerGas }) : i.ZI.nodeMessage.test(n) ? new i.ZI({ cause: e, nonce: t?.nonce }) : i.vU.nodeMessage.test(n) ? new i.vU({ cause: e, nonce: t?.nonce }) : i.se.nodeMessage.test(n) ? new i.se({ cause: e, nonce: t?.nonce }) : i.C_.nodeMessage.test(n) ? new i.C_({ cause: e }) : i.WF.nodeMessage.test(n) ? new i.WF({ cause: e, gas: t?.gas }) : i.dR.nodeMessage.test(n) ? new i.dR({ cause: e, gas: t?.gas }) : i.pZ.nodeMessage.test(n) ? new i.pZ({ cause: e }) : i.cs.nodeMessage.test(n) ? new i.cs({ cause: e, maxFeePerGas: t?.maxFeePerGas, maxPriorityFeePerGas: t?.maxPriorityFeePerGas }) : new i.cj({ cause: e }) } }, 61163: function (e, t, n) { "use strict"; function r(e, { format: t }) { if (!t) return {}; const n = {}; return function t(r) { const i = Object.keys(r); for (const o of i) o in e && (n[o] = e[o]), r[o] && "object" === typeof r[o] && !Array.isArray(r[o]) && t(r[o]) }(t(e || {})), n } n.d(t, { K: function () { return r } }) }, 6073: function (e, t, n) { "use strict"; n.d(t, { c8: function () { return i }, Tr: function () { return o } }); var r = n(95946); const i = { "0x0": "legacy", "0x1": "eip2930", "0x2": "eip1559", "0x3": "eip4844", "0x4": "eip7702" }; function o(e) { const t = { ...e, blockHash: e.blockHash ? e.blockHash : null, blockNumber: e.blockNumber ? BigInt(e.blockNumber) : null, chainId: e.chainId ? (0, r.ly)(e.chainId) : void 0, gas: e.gas ? BigInt(e.gas) : void 0, gasPrice: e.gasPrice ? BigInt(e.gasPrice) : void 0, maxFeePerBlobGas: e.maxFeePerBlobGas ? BigInt(e.maxFeePerBlobGas) : void 0, maxFeePerGas: e.maxFeePerGas ? BigInt(e.maxFeePerGas) : void 0, maxPriorityFeePerGas: e.maxPriorityFeePerGas ? BigInt(e.maxPriorityFeePerGas) : void 0, nonce: e.nonce ? (0, r.ly)(e.nonce) : void 0, to: e.to ? e.to : null, transactionIndex: e.transactionIndex ? Number(e.transactionIndex) : null, type: e.type ? i[e.type] : void 0, typeHex: e.type ? e.type : void 0, value: e.value ? BigInt(e.value) : void 0, v: e.v ? BigInt(e.v) : void 0 }; return e.authorizationList && (t.authorizationList = e.authorizationList.map((e => ({ contractAddress: e.address, chainId: Number(e.chainId), nonce: Number(e.nonce), r: e.r, s: e.s, yParity: Number(e.yParity) })))), t.yParity = (() => { if (e.yParity) return Number(e.yParity); if ("bigint" === typeof t.v) { if (0n === t.v || 27n === t.v) return 0; if (1n === t.v || 28n === t.v) return 1; if (t.v >= 35n) return t.v % 2n === 0n ? 1 : 0 } })(), "legacy" === t.type && (delete t.accessList, delete t.maxFeePerBlobGas, delete t.maxFeePerGas, delete t.maxPriorityFeePerGas, delete t.yParity), "eip2930" === t.type && (delete t.maxFeePerBlobGas, delete t.maxFeePerGas, delete t.maxPriorityFeePerGas), "eip1559" === t.type && delete t.maxFeePerBlobGas, t } }, 74688: function (e, t, n) { "use strict"; n.d(t, { tG: function () { return o } }); var r = n(92106); const i = { legacy: "0x0", eip2930: "0x1", eip1559: "0x2", eip4844: "0x3", eip7702: "0x4" }; function o(e) { const t = {}; return "undefined" !== typeof e.authorizationList && (t.authorizationList = e.authorizationList.map((e => ({ address: e.contractAddress, r: e.r, s: e.s, chainId: (0, r.eC)(e.chainId), nonce: (0, r.eC)(e.nonce), ..."undefined" !== typeof e.yParity ? { yParity: (0, r.eC)(e.yParity) } : {}, ..."undefined" !== typeof e.v && "undefined" === typeof e.yParity ? { v: (0, r.eC)(e.v) } : {} })))), "undefined" !== typeof e.accessList && (t.accessList = e.accessList), "undefined" !== typeof e.blobVersionedHashes && (t.blobVersionedHashes = e.blobVersionedHashes), "undefined" !== typeof e.blobs && ("string" !== typeof e.blobs[0] ? t.blobs = e.blobs.map((e => (0, r.ci)(e))) : t.blobs = e.blobs), "undefined" !== typeof e.data && (t.data = e.data), "undefined" !== typeof e.from && (t.from = e.from), "undefined" !== typeof e.gas && (t.gas = (0, r.eC)(e.gas)), "undefined" !== typeof e.gasPrice && (t.gasPrice = (0, r.eC)(e.gasPrice)), "undefined" !== typeof e.maxFeePerBlobGas && (t.maxFeePerBlobGas = (0, r.eC)(e.maxFeePerBlobGas)), "undefined" !== typeof e.maxFeePerGas && (t.maxFeePerGas = (0, r.eC)(e.maxFeePerGas)), "undefined" !== typeof e.maxPriorityFeePerGas && (t.maxPriorityFeePerGas = (0, r.eC)(e.maxPriorityFeePerGas)), "undefined" !== typeof e.nonce && (t.nonce = (0, r.eC)(e.nonce)), "undefined" !== typeof e.to && (t.to = e.to), "undefined" !== typeof e.type && (t.type = i[e.type]), "undefined" !== typeof e.value && (t.value = (0, r.eC)(e.value)), t } }, 93714: function (e, t, n) { "use strict"; function r(e, t, n) { const r = e[t.name]; if ("function" === typeof r) return r; const i = e[n]; return "function" === typeof i ? i : n => t(e, n) } n.d(t, { s: function () { return r } }) }, 49550: function (e, t, n) { "use strict"; n.d(t, { w: function () { return a } }); var r = n(22250), i = n(15102), o = n(11187), s = n(92106); function a(e, t) { const n = t || "hex", a = (0, r.fr)((0, i.v)(e, { strict: !1 }) ? (0, o.O0)(e) : e); return "bytes" === n ? a : (0, s.NC)(a) } }, 96005: function (e, t, n) { "use strict"; n.d(t, { n: function () { return r } }); const r = n(65526).r }, 58034: function (e, t, n) { "use strict"; n.d(t, { C: function () { return o } }); var r = n(3972), i = n(65526); const o = e => (0, r.tP)((0, i.r)(e), 0, 4) }, 65526: function (e, t, n) { "use strict"; n.d(t, { r: function () { return h } }); var r = n(11187), i = n(49550); function o(e) { return t = e, (0, i.w)((0, r.O0)(t)); var t } var s = n(84917); const a = /^tuple(?<array>(\[(\d*)\])*)$/; function c(e) { let t = e.type; if (a.test(e.type) && "components" in e) { t = "("; const n = e.components.length; for (let r = 0; r < n; r++) { t += c(e.components[r]), r < n - 1 && (t += ", ") } return t += `)${(0, s.Zw)(a, e.type)?.array ?? ""}`, c({ ...e, type: t }) } return "indexed" in e && e.indexed && (t = `${t} indexed`), e.name ? `${t} ${e.name}` : t } function l(e) { let t = ""; const n = e.length; for (let r = 0; r < n; r++) { t += c(e[r]), r !== n - 1 && (t += ", ") } return t } var u = n(36117); const d = e => function (e) { let t = !0, n = "", r = 0, i = "", o = !1; for (let s = 0; s < e.length; s++) { const a = e[s]; if (["(", ")", ","].includes(a) && (t = !0), "(" === a && r++, ")" === a && r--, t) if (0 !== r) " " !== a ? (i += a, n += a) : "," !== e[s - 1] && "," !== n && ",(" !== n && (n = "", t = !1); else if (" " === a && ["event", "function", ""].includes(i)) i = ""; else if (i += a, ")" === a) { o = !0; break } } if (!o) throw new u.G("Unable to normalize signature."); return i }((() => { return "string" === typeof e ? e : "function" === (t = e).type ? `function ${t.name}(${l(t.inputs)})${t.stateMutability && "nonpayable" !== t.stateMutability ? ` ${t.stateMutability}` : ""}${t.outputs?.length ? ` returns (${l(t.outputs)})` : ""}` : "event" === t.type ? `event ${t.name}(${l(t.inputs)})` : "error" === t.type ? `error ${t.name}(${l(t.inputs)})` : "constructor" === t.type ? `constructor(${l(t.inputs)})${"payable" === t.stateMutability ? " payable" : ""}` : "fallback" === t.type ? "fallback() external" + ("payable" === t.stateMutability ? " payable" : "") : "receive() external payable"; var t })()); function h(e) { return o(d(e)) } }, 79773: function (e, t, n) { "use strict"; n.d(t, { k: function () { return r } }); class r extends Map { constructor(e) { super(), Object.defineProperty(this, "maxSize", { enumerable: !0, configurable: !0, writable: !0, value: void 0 }), this.maxSize = e } get(e) { const t = super.get(e); return super.has(e) && void 0 !== t && (this.delete(e), super.set(e, t)), t } set(e, t) { if (super.set(e, t), this.maxSize && this.size > this.maxSize) { const e = this.keys().next().value; e && this.delete(e) } return this } } }, 32357: function (e, t, n) { "use strict"; n.d(t, { S: function () { return o } }); var r = n(15116); const i = new Map; function o({ fn: e, id: t, shouldSplitBatch: n, wait: o = 0, sort: s }) { const a = async () => { const t = l(); c(); const n = t.map((({ args: e }) => e)); 0 !== n.length && e(n).then((e => { s && Array.isArray(e) && e.sort(s); for (let n = 0; n < t.length; n++) { const { resolve: r } = t[n]; r?.([e[n], e]) } })).catch((e => { for (let n = 0; n < t.length; n++) { const { reject: r } = t[n]; r?.(e) } })) }, c = () => i.delete(t), l = () => i.get(t) || [], u = e => i.set(t, [...l(), e]); return { flush: c, async schedule(e) { const { promise: t, resolve: i, reject: s } = (0, r.n)(), c = n?.([...l().map((({ args: e }) => e)), e]); c && a(); return l().length > 0 ? (u({ args: e, resolve: i, reject: s }), t) : (u({ args: e, resolve: i, reject: s }), setTimeout(a, o), t) } } } }, 15116: function (e, t, n) { "use strict"; function r() { let e = () => { }, t = () => { }; return { promise: new Promise(((n, r) => { e = n, t = r })), resolve: e, reject: t } } n.d(t, { n: function () { return r } }) }, 7760: function (e, t, n) { "use strict"; n.d(t, { J: function () { return i } }); var r = n(62914); function i(e, { delay: t = 100, retryCount: n = 2, shouldRetry: i = (() => !0) } = {}) { return new Promise(((o, s) => { const a = async ({ count: c = 0 } = {}) => { try { const t = await e(); o(t) } catch (l) { if (c < n && await i({ count: c, error: l })) return (async ({ error: e }) => { const n = "function" === typeof t ? t({ count: c, error: e }) : t; n && await (0, r.D)(n), a({ count: c + 1 }) })({ error: l }); s(l) } }; a() })) } }, 24409: function (e, t, n) { "use strict"; n.d(t, { eL: function () { return r }, lh: function () { return i } }); const r = /^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/, i = /^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/ }, 40112: function (e, t, n) { "use strict"; n.d(t, { R: function () { return l } }); var r = n(45775), i = n(49550); var o = n(15102), s = n(95946), a = n(92106); function c(e) { if (0 === e || 1 === e) return e; if (27 === e) return 0; if (28 === e) return 1; throw new Error("Invalid yParityOrV value") } async function l({ hash: e, signature: t }) { return function (e) { const t = (0, i.w)(`0x${e.substring(4)}`).substring(26); return (0, r.x)(`0x${t}`) }(await async function ({ hash: e, signature: t }) { const r = (0, o.v)(e) ? e : (0, a.NC)(e), { secp256k1: i } = await Promise.resolve().then(n.bind(n, 84083)); return `0x${(() => { if ("object" === typeof t && "r" in t && "s" in t) { const { r: e, s: n, v: r, yParity: o } = t, a = c(Number(o ?? r)); return new i.Signature((0, s.y_)(e), (0, s.y_)(n)).addRecoveryBit(a) } const e = (0, o.v)(t) ? t : (0, a.NC)(t), n = c((0, s.ly)(`0x${e.slice(130)}`)); return i.Signature.fromCompact(e.substring(2, 130)).addRecoveryBit(n) })().recoverPublicKey(r.substring(2)).toHex(!1)}` }({ hash: e, signature: t })) } }, 50150: function (e, t, n) { "use strict"; n.d(t, { mF: function () { return u } }); var r = n(26087), i = n(69760), o = n(20443), s = n(49321), a = n(92106); function c(e) { if (e && 0 !== e.length) return e.reduce(((e, { slot: t, value: n }) => { if (66 !== t.length) throw new i.W_({ size: t.length, targetSize: 66, type: "hex" }); if (66 !== n.length) throw new i.W_({ size: n.length, targetSize: 66, type: "hex" }); return e[t] = n, e }), {}) } function l(e) { const { balance: t, nonce: n, state: r, stateDiff: i, code: s } = e, l = {}; if (void 0 !== s && (l.code = s), void 0 !== t && (l.balance = (0, a.eC)(t)), void 0 !== n && (l.nonce = (0, a.eC)(n)), void 0 !== r && (l.state = c(r)), void 0 !== i) { if (l.state) throw new o.Z8; l.stateDiff = c(i) } return l } function u(e) { if (!e) return; const t = {}; for (const { address: n, ...i } of e) { if (!(0, s.U)(n, { strict: !1 })) throw new r.b({ address: n }); if (t[n]) throw new o.Nc({ address: n }); t[n] = l(i) } return t } }, 96070: function (e, t, n) { "use strict"; n.d(t, { P: function () { return r } }); const r = (e, t, n) => JSON.stringify(e, ((e, n) => { const r = "bigint" === typeof n ? n.toString() : n; return "function" === typeof t ? t(e, r) : r }), n) }, 35721: function (e, t, n) { "use strict"; n.d(t, { F: function () { return l } }); var r = n(14503); const i = 2n ** 256n - 1n; var o = n(26087), s = n(26445), a = n(33639), c = n(49321); function l(e) { const { account: t, gasPrice: n, maxFeePerGas: l, maxPriorityFeePerGas: u, to: d } = e, h = t ? (0, r.T)(t) : void 0; if (h && !(0, c.U)(h.address)) throw new o.b({ address: h.address }); if (d && !(0, c.U)(d)) throw new o.b({ address: d }); if ("undefined" !== typeof n && ("undefined" !== typeof l || "undefined" !== typeof u)) throw new a.xY; if (l && l > i) throw new s.Hh({ maxFeePerGas: l }); if (u && l && u > l) throw new s.cs({ maxFeePerGas: l, maxPriorityFeePerGas: u }) } }, 75632: function (e, t, n) { "use strict"; n.d(t, { h: function () { return o } }); let r, i = 256; function o(e = 11) { if (!r || i + e > 512) { r = "", i = 0; for (let e = 0; e < 256; e++)r += (256 + 256 * Math.random() | 0).toString(16).substring(1) } return r.substring(i, i++ + e) } }, 39625: function (e, t, n) { "use strict"; n.d(t, { d: function () { return o } }); var r = n(84192), i = n(15229); function o(e, t = "wei") { return (0, i.b)(e, r.ez[t]) } }, 67795: function (e, t, n) { "use strict"; n.d(t, { o: function () { return o } }); var r = n(84192), i = n(15229); function o(e, t = "wei") { return (0, i.b)(e, r.Zn[t]) } }, 15229: function (e, t, n) { "use strict"; function r(e, t) { let n = e.toString(); const r = n.startsWith("-"); r && (n = n.slice(1)), n = n.padStart(t, "0"); let [i, o] = [n.slice(0, n.length - t), n.slice(n.length - t)]; return o = o.replace(/(0+)$/, ""), `${r ? "-" : ""}${i || "0"}${o ? `.${o}` : ""}` } n.d(t, { b: function () { return r } }) }, 62914: function (e, t, n) { "use strict"; async function r(e) { return new Promise((t => setTimeout(t, e))) } n.d(t, { D: function () { return r } }) }, 99931: function (e, t, n) { "use strict"; n.d(t, { V: function () { return a }, F: function () { return c } }); var r = n(67294); let i = !1; function o(e, t) { const { initialState: n, reconnectOnMount: r } = t; return n && !e._internal.store.persist.hasHydrated() && e.setState({ ...n, chainId: e.chains.some((e => e.id === n.chainId)) ? n.chainId : e.chains[0].id, connections: r ? n.connections : new Map, status: r ? "reconnecting" : "disconnected" }), { async onMount() { e._internal.ssr && (await e._internal.store.persist.rehydrate(), e._internal.mipd && e._internal.connectors.setState((t => { const n = new Set; for (const e of t ?? []) if (e.rdns) { const t = Array.isArray(e.rdns) ? e.rdns : [e.rdns]; for (const e of t) n.add(e) } const r = [], i = e._internal.mipd?.getProviders() ?? []; for (const o of i) { if (n.has(o.info.rdns)) continue; const t = e._internal.connectors.providerDetailToConnector(o), i = e._internal.connectors.setup(t); r.push(i) } return [...t, ...r] }))), r ? async function (e, t = {}) { if (i) return []; i = !0, e.setState((e => ({ ...e, status: e.current ? "reconnecting" : "connecting" }))); const n = []; if (t.connectors?.length) for (const i of t.connectors) { let t; t = "function" === typeof i ? e._internal.connectors.setup(i) : i, n.push(t) } else n.push(...e.connectors); let r; try { r = await (e.storage?.getItem("recentConnectorId")) } catch { } const o = {}; for (const [, i] of e.state.connections) o[i.connector.id] = 1; r && (o[r] = 0); const s = Object.keys(o).length > 0 ? [...n].sort(((e, t) => (o[e.id] ?? 10) - (o[t.id] ?? 10))) : n; let a = !1; const c = [], l = []; for (const i of s) { const t = await i.getProvider().catch((() => { })); if (!t) continue; if (l.some((e => e === t))) continue; if (!(await i.isAuthorized())) continue; const n = await i.connect({ isReconnecting: !0 }).catch((() => null)); n && (i.emitter.off("connect", e._internal.events.connect), i.emitter.on("change", e._internal.events.change), i.emitter.on("disconnect", e._internal.events.disconnect), e.setState((e => { const t = new Map(a ? e.connections : new Map).set(i.uid, { accounts: n.accounts, chainId: n.chainId, connector: i }); return { ...e, current: a ? e.current : i.uid, connections: t } })), c.push({ accounts: n.accounts, chainId: n.chainId, connector: i }), l.push(t), a = !0) } "reconnecting" !== e.state.status && "connecting" !== e.state.status || (a ? e.setState((e => ({ ...e, status: "connected" }))) : e.setState((e => ({ ...e, connections: new Map, current: null, status: "disconnected" })))), i = !1 }(e) : e.storage && e.setState((e => ({ ...e, connections: new Map }))) } } } function s(e) { const { children: t, config: n, initialState: i, reconnectOnMount: s = !0 } = e, { onMount: a } = o(n, { initialState: i, reconnectOnMount: s }); n._internal.ssr || a(); const c = (0, r.useRef)(!0); return (0, r.useEffect)((() => { if (c.current && n._internal.ssr) return a(), () => { c.current = !1 } }), []), t } const a = (0, r.createContext)(void 0); function c(e) { const { children: t, config: n } = e, i = { value: n }; return (0, r.createElement)(s, e, (0, r.createElement)(a.Provider, i, t)) } }, 13016: function (e) { "use strict"; e.exports = { i8: "6.6.0" } } }, function (e) { var t = function (t) { return e(e.s = t) }; e.O(0, [774, 179], (function () { return t(81780), t(90387) })); var n = e.O(); _N_E = n }]);
